var _le=Object.defineProperty;var mz=t=>{throw TypeError(t)};var Sle=(t,e,n)=>e in t?_le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ele=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ht=(t,e,n)=>Sle(t,typeof e!="symbol"?e+"":e,n),KI=(t,e,n)=>e.has(t)||mz("Cannot "+n);var C=(t,e,n)=>(KI(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?mz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(KI(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),re=(t,e,n)=>(KI(t,e,"access private method"),n);var vs=(t,e,n,r)=>({set _(i){ne(t,e,i,n)},get _(){return C(t,e,r)}});var het=Ele((Fs,$s)=>{function Cle(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tle(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var YI={exports:{}},ob={},XI={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yz;function Ale(){if(yz)return un;yz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function h(Q){return Q===null||typeof Q!="object"?null:(Q=d&&Q[d]||Q["@@iterator"],typeof Q=="function"?Q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function w(Q,ue,q){this.props=Q,this.context=ue,this.refs=y,this.updater=q||p}w.prototype.isReactComponent={},w.prototype.setState=function(Q,ue){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ue,"setState")},w.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function _(){}_.prototype=w.prototype;function E(Q,ue,q){this.props=Q,this.context=ue,this.refs=y,this.updater=q||p}var S=E.prototype=new _;S.constructor=E,m(S,w.prototype),S.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function M(Q,ue,q){var Y,te={},le=null,de=null;if(ue!=null)for(Y in ue.ref!==void 0&&(de=ue.ref),ue.key!==void 0&&(le=""+ue.key),ue)I.call(ue,Y)&&!P.hasOwnProperty(Y)&&(te[Y]=ue[Y]);var se=arguments.length-2;if(se===1)te.children=q;else if(1<se){for(var ce=Array(se),fe=0;fe<se;fe++)ce[fe]=arguments[fe+2];te.children=ce}if(Q&&Q.defaultProps)for(Y in se=Q.defaultProps,se)te[Y]===void 0&&(te[Y]=se[Y]);return{$$typeof:t,type:Q,key:le,ref:de,props:te,_owner:N.current}}function D(Q,ue){return{$$typeof:t,type:Q.type,key:ue,ref:Q.ref,props:Q.props,_owner:Q._owner}}function k(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function L(Q){var ue={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(q){return ue[q]})}var V=/\/+/g;function $(Q,ue){return typeof Q=="object"&&Q!==null&&Q.key!=null?L(""+Q.key):ue.toString(36)}function z(Q,ue,q,Y,te){var le=typeof Q;(le==="undefined"||le==="boolean")&&(Q=null);var de=!1;if(Q===null)de=!0;else switch(le){case"string":case"number":de=!0;break;case"object":switch(Q.$$typeof){case t:case e:de=!0}}if(de)return de=Q,te=te(de),Q=Y===""?"."+$(de,0):Y,T(te)?(q="",Q!=null&&(q=Q.replace(V,"$&/")+"/"),z(te,ue,q,"",function(fe){return fe})):te!=null&&(k(te)&&(te=D(te,q+(!te.key||de&&de.key===te.key?"":(""+te.key).replace(V,"$&/")+"/")+Q)),ue.push(te)),1;if(de=0,Y=Y===""?".":Y+":",T(Q))for(var se=0;se<Q.length;se++){le=Q[se];var ce=Y+$(le,se);de+=z(le,ue,q,ce,te)}else if(ce=h(Q),typeof ce=="function")for(Q=ce.call(Q),se=0;!(le=Q.next()).done;)le=le.value,ce=Y+$(le,se++),de+=z(le,ue,q,ce,te);else if(le==="object")throw ue=String(Q),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return de}function G(Q,ue,q){if(Q==null)return Q;var Y=[],te=0;return z(Q,Y,"","",function(le){return ue.call(q,le,te++)}),Y}function K(Q){if(Q._status===-1){var ue=Q._result;ue=ue(),ue.then(function(q){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=q)},function(q){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=q)}),Q._status===-1&&(Q._status=0,Q._result=ue)}if(Q._status===1)return Q._result.default;throw Q._result}var J={current:null},ee={transition:null},X={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ee,ReactCurrentOwner:N};function j(){throw Error("act(...) is not supported in production builds of React.")}return un.Children={map:G,forEach:function(Q,ue,q){G(Q,function(){ue.apply(this,arguments)},q)},count:function(Q){var ue=0;return G(Q,function(){ue++}),ue},toArray:function(Q){return G(Q,function(ue){return ue})||[]},only:function(Q){if(!k(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},un.Component=w,un.Fragment=n,un.Profiler=i,un.PureComponent=E,un.StrictMode=r,un.Suspense=l,un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,un.act=j,un.cloneElement=function(Q,ue,q){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var Y=m({},Q.props),te=Q.key,le=Q.ref,de=Q._owner;if(ue!=null){if(ue.ref!==void 0&&(le=ue.ref,de=N.current),ue.key!==void 0&&(te=""+ue.key),Q.type&&Q.type.defaultProps)var se=Q.type.defaultProps;for(ce in ue)I.call(ue,ce)&&!P.hasOwnProperty(ce)&&(Y[ce]=ue[ce]===void 0&&se!==void 0?se[ce]:ue[ce])}var ce=arguments.length-2;if(ce===1)Y.children=q;else if(1<ce){se=Array(ce);for(var fe=0;fe<ce;fe++)se[fe]=arguments[fe+2];Y.children=se}return{$$typeof:t,type:Q.type,key:te,ref:le,props:Y,_owner:de}},un.createContext=function(Q){return Q={$$typeof:s,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:o,_context:Q},Q.Consumer=Q},un.createElement=M,un.createFactory=function(Q){var ue=M.bind(null,Q);return ue.type=Q,ue},un.createRef=function(){return{current:null}},un.forwardRef=function(Q){return{$$typeof:a,render:Q}},un.isValidElement=k,un.lazy=function(Q){return{$$typeof:c,_payload:{_status:-1,_result:Q},_init:K}},un.memo=function(Q,ue){return{$$typeof:u,type:Q,compare:ue===void 0?null:ue}},un.startTransition=function(Q){var ue=ee.transition;ee.transition={};try{Q()}finally{ee.transition=ue}},un.unstable_act=j,un.useCallback=function(Q,ue){return J.current.useCallback(Q,ue)},un.useContext=function(Q){return J.current.useContext(Q)},un.useDebugValue=function(){},un.useDeferredValue=function(Q){return J.current.useDeferredValue(Q)},un.useEffect=function(Q,ue){return J.current.useEffect(Q,ue)},un.useId=function(){return J.current.useId()},un.useImperativeHandle=function(Q,ue,q){return J.current.useImperativeHandle(Q,ue,q)},un.useInsertionEffect=function(Q,ue){return J.current.useInsertionEffect(Q,ue)},un.useLayoutEffect=function(Q,ue){return J.current.useLayoutEffect(Q,ue)},un.useMemo=function(Q,ue){return J.current.useMemo(Q,ue)},un.useReducer=function(Q,ue,q){return J.current.useReducer(Q,ue,q)},un.useRef=function(Q){return J.current.useRef(Q)},un.useState=function(Q){return J.current.useState(Q)},un.useSyncExternalStore=function(Q,ue,q){return J.current.useSyncExternalStore(Q,ue,q)},un.useTransition=function(){return J.current.useTransition()},un.version="18.3.1",un}var vz;function dl(){return vz||(vz=1,XI.exports=Ale()),XI.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bz;function Rle(){if(bz)return ob;bz=1;var t=dl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},h=null,p=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:e,type:a,key:h,ref:p,props:d,_owner:i.current}}return ob.Fragment=n,ob.jsx=s,ob.jsxs=s,ob}var wz;function Ple(){return wz||(wz=1,YI.exports=Rle()),YI.exports}var O=Ple(),F=dl();const oe=uo(F),mL=Cle({__proto__:null,default:oe},[F]);var t1={},JI={exports:{}},$o={},QI={exports:{}},ZI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xz;function Ile(){return xz||(xz=1,function(t){function e(ee,X){var j=ee.length;ee.push(X);e:for(;0<j;){var Q=j-1>>>1,ue=ee[Q];if(0<i(ue,X))ee[Q]=X,ee[j]=ue,j=Q;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var X=ee[0],j=ee.pop();if(j!==X){ee[0]=j;e:for(var Q=0,ue=ee.length,q=ue>>>1;Q<q;){var Y=2*(Q+1)-1,te=ee[Y],le=Y+1,de=ee[le];if(0>i(te,j))le<ue&&0>i(de,te)?(ee[Q]=de,ee[le]=j,Q=le):(ee[Q]=te,ee[Y]=j,Q=Y);else if(le<ue&&0>i(de,j))ee[Q]=de,ee[le]=j,Q=le;else break e}}return X}function i(ee,X){var j=ee.sortIndex-X.sortIndex;return j!==0?j:ee.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ee){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=ee)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function T(ee){if(y=!1,S(ee),!m)if(n(l)!==null)m=!0,K(I);else{var X=n(u);X!==null&&J(T,X.startTime-ee)}}function I(ee,X){m=!1,y&&(y=!1,_(M),M=-1),p=!0;var j=h;try{for(S(X),d=n(l);d!==null&&(!(d.expirationTime>X)||ee&&!L());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var ue=Q(d.expirationTime<=X);X=t.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),S(X)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var Y=n(u);Y!==null&&J(T,Y.startTime-X),q=!1}return q}finally{d=null,h=j,p=!1}}var N=!1,P=null,M=-1,D=5,k=-1;function L(){return!(t.unstable_now()-k<D)}function V(){if(P!==null){var ee=t.unstable_now();k=ee;var X=!0;try{X=P(!0,ee)}finally{X?$():(N=!1,P=null)}}else N=!1}var $;if(typeof E=="function")$=function(){E(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=V,$=function(){G.postMessage(null)}}else $=function(){w(V,0)};function K(ee){P=ee,N||(N=!0,$())}function J(ee,X){M=w(function(){ee(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(I))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var j=h;h=X;try{return ee()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var j=h;h=ee;try{return X()}finally{h=j}},t.unstable_scheduleCallback=function(ee,X,j){var Q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,ee){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,ee={id:c++,callback:X,priorityLevel:ee,startTime:j,expirationTime:ue,sortIndex:-1},j>Q?(ee.sortIndex=j,e(u,ee),n(l)===null&&ee===n(u)&&(y?(_(M),M=-1):y=!0,J(T,j-Q))):(ee.sortIndex=ue,e(l,ee),m||p||(m=!0,K(I))),ee},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(ee){var X=h;return function(){var j=h;h=X;try{return ee.apply(this,arguments)}finally{h=j}}}}(ZI)),ZI}var _z;function kle(){return _z||(_z=1,QI.exports=Ile()),QI.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sz;function Mle(){if(Sz)return $o;Sz=1;var t=dl(),e=kle();function n(f){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(f,g){s(f,g),s(f+"Capture",g)}function s(f,g){for(i[f]=g,f=0;f<g.length;f++)r.add(g[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function h(f){return l.call(d,f)?!0:l.call(c,f)?!1:u.test(f)?d[f]=!0:(c[f]=!0,!1)}function p(f,g,x,R){if(x!==null&&x.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return R?!1:x!==null?!x.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function m(f,g,x,R){if(g===null||typeof g>"u"||p(f,g,x,R))return!0;if(R)return!1;if(x!==null)switch(x.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(f,g,x,R,B,H,Z){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=R,this.attributeNamespace=B,this.mustUseProperty=x,this.propertyName=f,this.type=g,this.sanitizeURL=H,this.removeEmptyString=Z}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){w[f]=new y(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var g=f[0];w[g]=new y(g,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){w[f]=new y(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){w[f]=new y(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){w[f]=new y(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){w[f]=new y(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){w[f]=new y(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){w[f]=new y(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){w[f]=new y(f,5,!1,f.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var g=f.replace(_,E);w[g]=new y(g,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var g=f.replace(_,E);w[g]=new y(g,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var g=f.replace(_,E);w[g]=new y(g,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){w[f]=new y(f,1,!1,f.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){w[f]=new y(f,1,!1,f.toLowerCase(),null,!0,!0)});function S(f,g,x,R){var B=w.hasOwnProperty(g)?w[g]:null;(B!==null?B.type!==0:R||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(m(g,x,B,R)&&(x=null),R||B===null?h(g)&&(x===null?f.removeAttribute(g):f.setAttribute(g,""+x)):B.mustUseProperty?f[B.propertyName]=x===null?B.type===3?!1:"":x:(g=B.attributeName,R=B.attributeNamespace,x===null?f.removeAttribute(g):(B=B.type,x=B===3||B===4&&x===!0?"":""+x,R?f.setAttributeNS(R,g,x):f.setAttribute(g,x))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ee=Symbol.iterator;function X(f){return f===null||typeof f!="object"?null:(f=ee&&f[ee]||f["@@iterator"],typeof f=="function"?f:null)}var j=Object.assign,Q;function ue(f){if(Q===void 0)try{throw Error()}catch(x){var g=x.stack.trim().match(/\n( *(at )?)/);Q=g&&g[1]||""}return`
`+Q+f}var q=!1;function Y(f,g){if(!f||q)return"";q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ee){var R=Ee}Reflect.construct(f,[],g)}else{try{g.call()}catch(Ee){R=Ee}f.call(g.prototype)}else{try{throw Error()}catch(Ee){R=Ee}f()}}catch(Ee){if(Ee&&R&&typeof Ee.stack=="string"){for(var B=Ee.stack.split(`
`),H=R.stack.split(`
`),Z=B.length-1,he=H.length-1;1<=Z&&0<=he&&B[Z]!==H[he];)he--;for(;1<=Z&&0<=he;Z--,he--)if(B[Z]!==H[he]){if(Z!==1||he!==1)do if(Z--,he--,0>he||B[Z]!==H[he]){var pe=`
`+B[Z].replace(" at new "," at ");return f.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",f.displayName)),pe}while(1<=Z&&0<=he);break}}}finally{q=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?ue(f):""}function te(f){switch(f.tag){case 5:return ue(f.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return f=Y(f.type,!1),f;case 11:return f=Y(f.type.render,!1),f;case 1:return f=Y(f.type,!0),f;default:return""}}function le(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case P:return"Fragment";case N:return"Portal";case D:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case L:return(f.displayName||"Context")+".Consumer";case k:return(f._context.displayName||"Context")+".Provider";case V:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case G:return g=f.displayName||null,g!==null?g:le(f.type)||"Memo";case K:g=f._payload,f=f._init;try{return le(f(g))}catch{}}return null}function de(f){var g=f.type;switch(f.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=g.render,f=f.displayName||f.name||"",g.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(g);case 8:return g===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function se(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ce(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function fe(f){var g=ce(f)?"checked":"value",x=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),R=""+f[g];if(!f.hasOwnProperty(g)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var B=x.get,H=x.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return B.call(this)},set:function(Z){R=""+Z,H.call(this,Z)}}),Object.defineProperty(f,g,{enumerable:x.enumerable}),{getValue:function(){return R},setValue:function(Z){R=""+Z},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function ye(f){f._valueTracker||(f._valueTracker=fe(f))}function we(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var x=g.getValue(),R="";return f&&(R=ce(f)?f.checked?"true":"false":f.value),f=R,f!==x?(g.setValue(f),!0):!1}function Re(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Ae(f,g){var x=g.checked;return j({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??f._wrapperState.initialChecked})}function be(f,g){var x=g.defaultValue==null?"":g.defaultValue,R=g.checked!=null?g.checked:g.defaultChecked;x=se(g.value!=null?g.value:x),f._wrapperState={initialChecked:R,initialValue:x,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function Ke(f,g){g=g.checked,g!=null&&S(f,"checked",g,!1)}function Ve(f,g){Ke(f,g);var x=se(g.value),R=g.type;if(x!=null)R==="number"?(x===0&&f.value===""||f.value!=x)&&(f.value=""+x):f.value!==""+x&&(f.value=""+x);else if(R==="submit"||R==="reset"){f.removeAttribute("value");return}g.hasOwnProperty("value")?Me(f,g.type,x):g.hasOwnProperty("defaultValue")&&Me(f,g.type,se(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(f.defaultChecked=!!g.defaultChecked)}function Oe(f,g,x){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var R=g.type;if(!(R!=="submit"&&R!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+f._wrapperState.initialValue,x||g===f.value||(f.value=g),f.defaultValue=g}x=f.name,x!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,x!==""&&(f.name=x)}function Me(f,g,x){(g!=="number"||Re(f.ownerDocument)!==f)&&(x==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+x&&(f.defaultValue=""+x))}var je=Array.isArray;function wt(f,g,x,R){if(f=f.options,g){g={};for(var B=0;B<x.length;B++)g["$"+x[B]]=!0;for(x=0;x<f.length;x++)B=g.hasOwnProperty("$"+f[x].value),f[x].selected!==B&&(f[x].selected=B),B&&R&&(f[x].defaultSelected=!0)}else{for(x=""+se(x),g=null,B=0;B<f.length;B++){if(f[B].value===x){f[B].selected=!0,R&&(f[B].defaultSelected=!0);return}g!==null||f[B].disabled||(g=f[B])}g!==null&&(g.selected=!0)}}function ke(f,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},g,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function dt(f,g){var x=g.value;if(x==null){if(x=g.children,g=g.defaultValue,x!=null){if(g!=null)throw Error(n(92));if(je(x)){if(1<x.length)throw Error(n(93));x=x[0]}g=x}g==null&&(g=""),x=g}f._wrapperState={initialValue:se(x)}}function ot(f,g){var x=se(g.value),R=se(g.defaultValue);x!=null&&(x=""+x,x!==f.value&&(f.value=x),g.defaultValue==null&&f.defaultValue!==x&&(f.defaultValue=x)),R!=null&&(f.defaultValue=""+R)}function St(f){var g=f.textContent;g===f._wrapperState.initialValue&&g!==""&&g!==null&&(f.value=g)}function ve(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(f,g){return f==null||f==="http://www.w3.org/1999/xhtml"?ve(g):f==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var He,et=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,x,R,B){MSApp.execUnsafeLocalFunction(function(){return f(g,x,R,B)})}:f}(function(f,g){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=g;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=He.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;g.firstChild;)f.appendChild(g.firstChild)}});function Ze(f,g){if(g){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=g;return}}f.textContent=g}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yt=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(f){Yt.forEach(function(g){g=g+f.charAt(0).toUpperCase()+f.substring(1),tt[g]=tt[f]})});function $t(f,g,x){return g==null||typeof g=="boolean"||g===""?"":x||typeof g!="number"||g===0||tt.hasOwnProperty(f)&&tt[f]?(""+g).trim():g+"px"}function rn(f,g){f=f.style;for(var x in g)if(g.hasOwnProperty(x)){var R=x.indexOf("--")===0,B=$t(x,g[x],R);x==="float"&&(x="cssFloat"),R?f.setProperty(x,B):f[x]=B}}var Qe=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rt(f,g){if(g){if(Qe[f]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function mn(f,g){if(f.indexOf("-")===-1)return typeof g.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _n=null;function Ye(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var xt=null,Pt=null,Ut=null;function Rn(f){if(f=q0(f)){if(typeof xt!="function")throw Error(n(280));var g=f.stateNode;g&&(g=mE(g),xt(f.stateNode,f.type,g))}}function kn(f){Pt?Ut?Ut.push(f):Ut=[f]:Pt=f}function Zn(){if(Pt){var f=Pt,g=Ut;if(Ut=Pt=null,Rn(f),g)for(f=0;f<g.length;f++)Rn(g[f])}}function Mn(f,g){return f(g)}function Bt(){}var _r=!1;function vl(f,g,x){if(_r)return f(g,x);_r=!0;try{return Mn(f,g,x)}finally{_r=!1,(Pt!==null||Ut!==null)&&(Bt(),Zn())}}function Sr(f,g){var x=f.stateNode;if(x===null)return null;var R=mE(x);if(R===null)return null;x=R[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(f=f.type,R=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!R;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(n(231,g,typeof x));return x}var fd=!1;if(a)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){fd=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{fd=!1}function Du(f,g,x,R,B,H,Z,he,pe){var Ee=Array.prototype.slice.call(arguments,3);try{g.apply(x,Ee)}catch(Be){this.onError(Be)}}var Lu=!1,hd=null,ds=!1,eh=null,A0={onError:function(f){Lu=!0,hd=f}};function pd(f,g,x,R,B,H,Z,he,pe){Lu=!1,hd=null,Du.apply(A0,arguments)}function Rg(f,g,x,R,B,H,Z,he,pe){if(pd.apply(this,arguments),Lu){if(Lu){var Ee=hd;Lu=!1,hd=null}else throw Error(n(198));ds||(ds=!0,eh=Ee)}}function Ro(f){var g=f,x=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(x=g.return),f=g.return;while(f)}return g.tag===3?x:null}function bl(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function Po(f){if(Ro(f)!==f)throw Error(n(188))}function Pg(f){var g=f.alternate;if(!g){if(g=Ro(f),g===null)throw Error(n(188));return g!==f?null:f}for(var x=f,R=g;;){var B=x.return;if(B===null)break;var H=B.alternate;if(H===null){if(R=B.return,R!==null){x=R;continue}break}if(B.child===H.child){for(H=B.child;H;){if(H===x)return Po(B),f;if(H===R)return Po(B),g;H=H.sibling}throw Error(n(188))}if(x.return!==R.return)x=B,R=H;else{for(var Z=!1,he=B.child;he;){if(he===x){Z=!0,x=B,R=H;break}if(he===R){Z=!0,R=B,x=H;break}he=he.sibling}if(!Z){for(he=H.child;he;){if(he===x){Z=!0,x=H,R=B;break}if(he===R){Z=!0,R=H,x=B;break}he=he.sibling}if(!Z)throw Error(n(189))}}if(x.alternate!==R)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?f:g}function th(f){return f=Pg(f),f!==null?gd(f):null}function gd(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var g=gd(f);if(g!==null)return g;f=f.sibling}return null}var md=e.unstable_scheduleCallback,nh=e.unstable_cancelCallback,Ig=e.unstable_shouldYield,kg=e.unstable_requestPaint,Kn=e.unstable_now,Mg=e.unstable_getCurrentPriorityLevel,Ou=e.unstable_ImmediatePriority,wl=e.unstable_UserBlockingPriority,Io=e.unstable_NormalPriority,rh=e.unstable_LowPriority,Ng=e.unstable_IdlePriority,xl=null,ho=null;function Dg(f){if(ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(xl,f,void 0,(f.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:Og,ih=Math.log,Lg=Math.LN2;function Og(f){return f>>>=0,f===0?32:31-(ih(f)/Lg|0)|0}var yd=64,ba=4194304;function _l(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Fu(f,g){var x=f.pendingLanes;if(x===0)return 0;var R=0,B=f.suspendedLanes,H=f.pingedLanes,Z=x&268435455;if(Z!==0){var he=Z&~B;he!==0?R=_l(he):(H&=Z,H!==0&&(R=_l(H)))}else Z=x&~B,Z!==0?R=_l(Z):H!==0&&(R=_l(H));if(R===0)return 0;if(g!==0&&g!==R&&(g&B)===0&&(B=R&-R,H=g&-g,B>=H||B===16&&(H&4194240)!==0))return g;if((R&4)!==0&&(R|=x&16),g=f.entangledLanes,g!==0)for(f=f.entanglements,g&=R;0<g;)x=31-Ci(g),B=1<<x,R|=f[x],g&=~B;return R}function R0(f,g){switch(f){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fs(f,g){for(var x=f.suspendedLanes,R=f.pingedLanes,B=f.expirationTimes,H=f.pendingLanes;0<H;){var Z=31-Ci(H),he=1<<Z,pe=B[Z];pe===-1?((he&x)===0||(he&R)!==0)&&(B[Z]=R0(he,g)):pe<=g&&(f.expiredLanes|=he),H&=~he}}function po(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function $u(){var f=yd;return yd<<=1,(yd&4194240)===0&&(yd=64),f}function wa(f){for(var g=[],x=0;31>x;x++)g.push(f);return g}function vd(f,g,x){f.pendingLanes|=g,g!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,g=31-Ci(g),f[g]=x}function er(f,g){var x=f.pendingLanes&~g;f.pendingLanes=g,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=g,f.mutableReadLanes&=g,f.entangledLanes&=g,g=f.entanglements;var R=f.eventTimes;for(f=f.expirationTimes;0<x;){var B=31-Ci(x),H=1<<B;g[B]=0,R[B]=-1,f[B]=-1,x&=~H}}function bd(f,g){var x=f.entangledLanes|=g;for(f=f.entanglements;x;){var R=31-Ci(x),B=1<<R;B&g|f[R]&g&&(f[R]|=g),x&=~B}}var vn=0;function wd(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var YS,Fg,XS,JS,QS,P0=!1,Sl=[],Ti=null,xa=null,_a=null,xd=new Map,qs=new Map,El=[],CP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZS(f,g){switch(f){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":xd.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(g.pointerId)}}function ko(f,g,x,R,B,H){return f===null||f.nativeEvent!==H?(f={blockedOn:g,domEventName:x,eventSystemFlags:R,nativeEvent:H,targetContainers:[B]},g!==null&&(g=q0(g),g!==null&&Fg(g)),f):(f.eventSystemFlags|=R,g=f.targetContainers,B!==null&&g.indexOf(B)===-1&&g.push(B),f)}function TP(f,g,x,R,B){switch(g){case"focusin":return Ti=ko(Ti,f,g,x,R,B),!0;case"dragenter":return xa=ko(xa,f,g,x,R,B),!0;case"mouseover":return _a=ko(_a,f,g,x,R,B),!0;case"pointerover":var H=B.pointerId;return xd.set(H,ko(xd.get(H)||null,f,g,x,R,B)),!0;case"gotpointercapture":return H=B.pointerId,qs.set(H,ko(qs.get(H)||null,f,g,x,R,B)),!0}return!1}function eE(f){var g=uh(f.target);if(g!==null){var x=Ro(g);if(x!==null){if(g=x.tag,g===13){if(g=bl(x),g!==null){f.blockedOn=g,QS(f.priority,function(){XS(x)});return}}else if(g===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Bu(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var x=$g(f.domEventName,f.eventSystemFlags,g[0],f.nativeEvent);if(x===null){x=f.nativeEvent;var R=new x.constructor(x.type,x);_n=R,x.target.dispatchEvent(R),_n=null}else return g=q0(x),g!==null&&Fg(g),f.blockedOn=x,!1;g.shift()}return!0}function oh(f,g,x){Bu(f)&&x.delete(g)}function tE(){P0=!1,Ti!==null&&Bu(Ti)&&(Ti=null),xa!==null&&Bu(xa)&&(xa=null),_a!==null&&Bu(_a)&&(_a=null),xd.forEach(oh),qs.forEach(oh)}function Sa(f,g){f.blockedOn===g&&(f.blockedOn=null,P0||(P0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tE)))}function Ea(f){function g(B){return Sa(B,f)}if(0<Sl.length){Sa(Sl[0],f);for(var x=1;x<Sl.length;x++){var R=Sl[x];R.blockedOn===f&&(R.blockedOn=null)}}for(Ti!==null&&Sa(Ti,f),xa!==null&&Sa(xa,f),_a!==null&&Sa(_a,f),xd.forEach(g),qs.forEach(g),x=0;x<El.length;x++)R=El[x],R.blockedOn===f&&(R.blockedOn=null);for(;0<El.length&&(x=El[0],x.blockedOn===null);)eE(x),x.blockedOn===null&&El.shift()}var Vu=T.ReactCurrentBatchConfig,_d=!0;function mr(f,g,x,R){var B=vn,H=Vu.transition;Vu.transition=null;try{vn=1,I0(f,g,x,R)}finally{vn=B,Vu.transition=H}}function AP(f,g,x,R){var B=vn,H=Vu.transition;Vu.transition=null;try{vn=4,I0(f,g,x,R)}finally{vn=B,Vu.transition=H}}function I0(f,g,x,R){if(_d){var B=$g(f,g,x,R);if(B===null)$P(f,g,R,sh,x),ZS(f,R);else if(TP(B,f,g,x,R))R.stopPropagation();else if(ZS(f,R),g&4&&-1<CP.indexOf(f)){for(;B!==null;){var H=q0(B);if(H!==null&&YS(H),H=$g(f,g,x,R),H===null&&$P(f,g,R,sh,x),H===B)break;B=H}B!==null&&R.stopPropagation()}else $P(f,g,R,null,x)}}var sh=null;function $g(f,g,x,R){if(sh=null,f=Ye(R),f=uh(f),f!==null)if(g=Ro(f),g===null)f=null;else if(x=g.tag,x===13){if(f=bl(g),f!==null)return f;f=null}else if(x===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null);return sh=f,null}function k0(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case Ou:return 1;case wl:return 4;case Io:case rh:return 16;case Ng:return 536870912;default:return 16}default:return 16}}var hs=null,Bg=null,Mo=null;function M0(){if(Mo)return Mo;var f,g=Bg,x=g.length,R,B="value"in hs?hs.value:hs.textContent,H=B.length;for(f=0;f<x&&g[f]===B[f];f++);var Z=x-f;for(R=1;R<=Z&&g[x-R]===B[H-R];R++);return Mo=B.slice(f,1<R?1-R:void 0)}function Vg(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function Cl(){return!0}function N0(){return!1}function Ai(f){function g(x,R,B,H,Z){this._reactName=x,this._targetInst=B,this.type=R,this.nativeEvent=H,this.target=Z,this.currentTarget=null;for(var he in f)f.hasOwnProperty(he)&&(x=f[he],this[he]=x?x(H):H[he]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Cl:N0,this.isPropagationStopped=N0,this}return j(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),g}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=Ai(Ca),Tl=j({},Ca,{view:0,detail:0}),RP=Ai(Tl),Ug,zu,Sd,ah=j({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Sd&&(Sd&&f.type==="mousemove"?(Ug=f.screenX-Sd.screenX,zu=f.screenY-Sd.screenY):zu=Ug=0,Sd=f),Ug)},movementY:function(f){return"movementY"in f?f.movementY:zu}}),Hg=Ai(ah),D0=j({},ah,{dataTransfer:0}),nE=Ai(D0),qg=j({},Tl,{relatedTarget:0}),jg=Ai(qg),rE=j({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Ai(rE),iE=j({},Ca,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),oE=Ai(iE),sE=j({},Ca,{data:0}),L0=Ai(sE),Wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lE(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=aE[f])?!!g[f]:!1}function Al(){return lE}var A=j({},Tl,{key:function(f){if(f.key){var g=Wg[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=Vg(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?go[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(f){return f.type==="keypress"?Vg(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Vg(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),U=Ai(A),W=j({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ae=Ai(W),xe=j({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),Te=Ai(xe),Xe=j({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),qn=Ai(Xe),ii=j({},ah,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Sn=Ai(ii),mi=[9,13,27,32],jr=a&&"CompositionEvent"in window,js=null;a&&"documentMode"in document&&(js=document.documentMode);var ps=a&&"TextEvent"in window&&!js,lh=a&&(!jr||js&&8<js&&11>=js),Gg=" ",cB=!1;function dB(f,g){switch(f){case"keyup":return mi.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fB(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Kg=!1;function bae(f,g){switch(f){case"compositionend":return fB(g);case"keypress":return g.which!==32?null:(cB=!0,Gg);case"textInput":return f=g.data,f===Gg&&cB?null:f;default:return null}}function wae(f,g){if(Kg)return f==="compositionend"||!jr&&dB(f,g)?(f=M0(),Mo=Bg=hs=null,Kg=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return lh&&g.locale!=="ko"?null:g.data;default:return null}}var xae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hB(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!xae[f.type]:g==="textarea"}function pB(f,g,x,R){kn(R),g=hE(g,"onChange"),0<g.length&&(x=new zg("onChange","change",null,x,R),f.push({event:x,listeners:g}))}var O0=null,F0=null;function _ae(f){MB(f,0)}function uE(f){var g=Zg(f);if(we(g))return f}function Sae(f,g){if(f==="change")return g}var gB=!1;if(a){var PP;if(a){var IP="oninput"in document;if(!IP){var mB=document.createElement("div");mB.setAttribute("oninput","return;"),IP=typeof mB.oninput=="function"}PP=IP}else PP=!1;gB=PP&&(!document.documentMode||9<document.documentMode)}function yB(){O0&&(O0.detachEvent("onpropertychange",vB),F0=O0=null)}function vB(f){if(f.propertyName==="value"&&uE(F0)){var g=[];pB(g,F0,f,Ye(f)),vl(_ae,g)}}function Eae(f,g,x){f==="focusin"?(yB(),O0=g,F0=x,O0.attachEvent("onpropertychange",vB)):f==="focusout"&&yB()}function Cae(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return uE(F0)}function Tae(f,g){if(f==="click")return uE(g)}function Aae(f,g){if(f==="input"||f==="change")return uE(g)}function Rae(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var Ta=typeof Object.is=="function"?Object.is:Rae;function $0(f,g){if(Ta(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var x=Object.keys(f),R=Object.keys(g);if(x.length!==R.length)return!1;for(R=0;R<x.length;R++){var B=x[R];if(!l.call(g,B)||!Ta(f[B],g[B]))return!1}return!0}function bB(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function wB(f,g){var x=bB(f);f=0;for(var R;x;){if(x.nodeType===3){if(R=f+x.textContent.length,f<=g&&R>=g)return{node:x,offset:g-f};f=R}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=bB(x)}}function xB(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?xB(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function _B(){for(var f=window,g=Re();g instanceof f.HTMLIFrameElement;){try{var x=typeof g.contentWindow.location.href=="string"}catch{x=!1}if(x)f=g.contentWindow;else break;g=Re(f.document)}return g}function kP(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}function Pae(f){var g=_B(),x=f.focusedElem,R=f.selectionRange;if(g!==x&&x&&x.ownerDocument&&xB(x.ownerDocument.documentElement,x)){if(R!==null&&kP(x)){if(g=R.start,f=R.end,f===void 0&&(f=g),"selectionStart"in x)x.selectionStart=g,x.selectionEnd=Math.min(f,x.value.length);else if(f=(g=x.ownerDocument||document)&&g.defaultView||window,f.getSelection){f=f.getSelection();var B=x.textContent.length,H=Math.min(R.start,B);R=R.end===void 0?H:Math.min(R.end,B),!f.extend&&H>R&&(B=R,R=H,H=B),B=wB(x,H);var Z=wB(x,R);B&&Z&&(f.rangeCount!==1||f.anchorNode!==B.node||f.anchorOffset!==B.offset||f.focusNode!==Z.node||f.focusOffset!==Z.offset)&&(g=g.createRange(),g.setStart(B.node,B.offset),f.removeAllRanges(),H>R?(f.addRange(g),f.extend(Z.node,Z.offset)):(g.setEnd(Z.node,Z.offset),f.addRange(g)))}}for(g=[],f=x;f=f.parentNode;)f.nodeType===1&&g.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<g.length;x++)f=g[x],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Iae=a&&"documentMode"in document&&11>=document.documentMode,Yg=null,MP=null,B0=null,NP=!1;function SB(f,g,x){var R=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;NP||Yg==null||Yg!==Re(R)||(R=Yg,"selectionStart"in R&&kP(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),B0&&$0(B0,R)||(B0=R,R=hE(MP,"onSelect"),0<R.length&&(g=new zg("onSelect","select",null,g,x),f.push({event:g,listeners:R}),g.target=Yg)))}function cE(f,g){var x={};return x[f.toLowerCase()]=g.toLowerCase(),x["Webkit"+f]="webkit"+g,x["Moz"+f]="moz"+g,x}var Xg={animationend:cE("Animation","AnimationEnd"),animationiteration:cE("Animation","AnimationIteration"),animationstart:cE("Animation","AnimationStart"),transitionend:cE("Transition","TransitionEnd")},DP={},EB={};a&&(EB=document.createElement("div").style,"AnimationEvent"in window||(delete Xg.animationend.animation,delete Xg.animationiteration.animation,delete Xg.animationstart.animation),"TransitionEvent"in window||delete Xg.transitionend.transition);function dE(f){if(DP[f])return DP[f];if(!Xg[f])return f;var g=Xg[f],x;for(x in g)if(g.hasOwnProperty(x)&&x in EB)return DP[f]=g[x];return f}var CB=dE("animationend"),TB=dE("animationiteration"),AB=dE("animationstart"),RB=dE("transitionend"),PB=new Map,IB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ed(f,g){PB.set(f,g),o(g,[f])}for(var LP=0;LP<IB.length;LP++){var OP=IB[LP],kae=OP.toLowerCase(),Mae=OP[0].toUpperCase()+OP.slice(1);Ed(kae,"on"+Mae)}Ed(CB,"onAnimationEnd"),Ed(TB,"onAnimationIteration"),Ed(AB,"onAnimationStart"),Ed("dblclick","onDoubleClick"),Ed("focusin","onFocus"),Ed("focusout","onBlur"),Ed(RB,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var V0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nae=new Set("cancel close invalid load scroll toggle".split(" ").concat(V0));function kB(f,g,x){var R=f.type||"unknown-event";f.currentTarget=x,Rg(R,g,void 0,f),f.currentTarget=null}function MB(f,g){g=(g&4)!==0;for(var x=0;x<f.length;x++){var R=f[x],B=R.event;R=R.listeners;e:{var H=void 0;if(g)for(var Z=R.length-1;0<=Z;Z--){var he=R[Z],pe=he.instance,Ee=he.currentTarget;if(he=he.listener,pe!==H&&B.isPropagationStopped())break e;kB(B,he,Ee),H=pe}else for(Z=0;Z<R.length;Z++){if(he=R[Z],pe=he.instance,Ee=he.currentTarget,he=he.listener,pe!==H&&B.isPropagationStopped())break e;kB(B,he,Ee),H=pe}}}if(ds)throw f=eh,ds=!1,eh=null,f}function cr(f,g){var x=g[qP];x===void 0&&(x=g[qP]=new Set);var R=f+"__bubble";x.has(R)||(NB(g,f,2,!1),x.add(R))}function FP(f,g,x){var R=0;g&&(R|=4),NB(x,f,R,g)}var fE="_reactListening"+Math.random().toString(36).slice(2);function z0(f){if(!f[fE]){f[fE]=!0,r.forEach(function(x){x!=="selectionchange"&&(Nae.has(x)||FP(x,!1,f),FP(x,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[fE]||(g[fE]=!0,FP("selectionchange",!1,g))}}function NB(f,g,x,R){switch(k0(g)){case 1:var B=mr;break;case 4:B=AP;break;default:B=I0}x=B.bind(null,g,x,f),B=void 0,!fd||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(B=!0),R?B!==void 0?f.addEventListener(g,x,{capture:!0,passive:B}):f.addEventListener(g,x,!0):B!==void 0?f.addEventListener(g,x,{passive:B}):f.addEventListener(g,x,!1)}function $P(f,g,x,R,B){var H=R;if((g&1)===0&&(g&2)===0&&R!==null)e:for(;;){if(R===null)return;var Z=R.tag;if(Z===3||Z===4){var he=R.stateNode.containerInfo;if(he===B||he.nodeType===8&&he.parentNode===B)break;if(Z===4)for(Z=R.return;Z!==null;){var pe=Z.tag;if((pe===3||pe===4)&&(pe=Z.stateNode.containerInfo,pe===B||pe.nodeType===8&&pe.parentNode===B))return;Z=Z.return}for(;he!==null;){if(Z=uh(he),Z===null)return;if(pe=Z.tag,pe===5||pe===6){R=H=Z;continue e}he=he.parentNode}}R=R.return}vl(function(){var Ee=H,Be=Ye(x),Ue=[];e:{var $e=PB.get(f);if($e!==void 0){var at=zg,gt=f;switch(f){case"keypress":if(Vg(x)===0)break e;case"keydown":case"keyup":at=U;break;case"focusin":gt="focus",at=jg;break;case"focusout":gt="blur",at=jg;break;case"beforeblur":case"afterblur":at=jg;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=nE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Te;break;case CB:case TB:case AB:at=Uu;break;case RB:at=qn;break;case"scroll":at=RP;break;case"wheel":at=Sn;break;case"copy":case"cut":case"paste":at=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=ae}var _t=(g&4)!==0,Br=!_t&&f==="scroll",_e=_t?$e!==null?$e+"Capture":null:$e;_t=[];for(var me=Ee,Se;me!==null;){Se=me;var We=Se.stateNode;if(Se.tag===5&&We!==null&&(Se=We,_e!==null&&(We=Sr(me,_e),We!=null&&_t.push(U0(me,We,Se)))),Br)break;me=me.return}0<_t.length&&($e=new at($e,gt,null,x,Be),Ue.push({event:$e,listeners:_t}))}}if((g&7)===0){e:{if($e=f==="mouseover"||f==="pointerover",at=f==="mouseout"||f==="pointerout",$e&&x!==_n&&(gt=x.relatedTarget||x.fromElement)&&(uh(gt)||gt[Hu]))break e;if((at||$e)&&($e=Be.window===Be?Be:($e=Be.ownerDocument)?$e.defaultView||$e.parentWindow:window,at?(gt=x.relatedTarget||x.toElement,at=Ee,gt=gt?uh(gt):null,gt!==null&&(Br=Ro(gt),gt!==Br||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(at=null,gt=Ee),at!==gt)){if(_t=Hg,We="onMouseLeave",_e="onMouseEnter",me="mouse",(f==="pointerout"||f==="pointerover")&&(_t=ae,We="onPointerLeave",_e="onPointerEnter",me="pointer"),Br=at==null?$e:Zg(at),Se=gt==null?$e:Zg(gt),$e=new _t(We,me+"leave",at,x,Be),$e.target=Br,$e.relatedTarget=Se,We=null,uh(Be)===Ee&&(_t=new _t(_e,me+"enter",gt,x,Be),_t.target=Se,_t.relatedTarget=Br,We=_t),Br=We,at&&gt)t:{for(_t=at,_e=gt,me=0,Se=_t;Se;Se=Jg(Se))me++;for(Se=0,We=_e;We;We=Jg(We))Se++;for(;0<me-Se;)_t=Jg(_t),me--;for(;0<Se-me;)_e=Jg(_e),Se--;for(;me--;){if(_t===_e||_e!==null&&_t===_e.alternate)break t;_t=Jg(_t),_e=Jg(_e)}_t=null}else _t=null;at!==null&&DB(Ue,$e,at,_t,!1),gt!==null&&Br!==null&&DB(Ue,Br,gt,_t,!0)}}e:{if($e=Ee?Zg(Ee):window,at=$e.nodeName&&$e.nodeName.toLowerCase(),at==="select"||at==="input"&&$e.type==="file")var Et=Sae;else if(hB($e))if(gB)Et=Aae;else{Et=Cae;var Vt=Eae}else(at=$e.nodeName)&&at.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(Et=Tae);if(Et&&(Et=Et(f,Ee))){pB(Ue,Et,x,Be);break e}Vt&&Vt(f,$e,Ee),f==="focusout"&&(Vt=$e._wrapperState)&&Vt.controlled&&$e.type==="number"&&Me($e,"number",$e.value)}switch(Vt=Ee?Zg(Ee):window,f){case"focusin":(hB(Vt)||Vt.contentEditable==="true")&&(Yg=Vt,MP=Ee,B0=null);break;case"focusout":B0=MP=Yg=null;break;case"mousedown":NP=!0;break;case"contextmenu":case"mouseup":case"dragend":NP=!1,SB(Ue,x,Be);break;case"selectionchange":if(Iae)break;case"keydown":case"keyup":SB(Ue,x,Be)}var zt;if(jr)e:{switch(f){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Kg?dB(f,x)&&(qt="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(qt="onCompositionStart");qt&&(lh&&x.locale!=="ko"&&(Kg||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Kg&&(zt=M0()):(hs=Be,Bg="value"in hs?hs.value:hs.textContent,Kg=!0)),Vt=hE(Ee,qt),0<Vt.length&&(qt=new L0(qt,f,null,x,Be),Ue.push({event:qt,listeners:Vt}),zt?qt.data=zt:(zt=fB(x),zt!==null&&(qt.data=zt)))),(zt=ps?bae(f,x):wae(f,x))&&(Ee=hE(Ee,"onBeforeInput"),0<Ee.length&&(Be=new L0("onBeforeInput","beforeinput",null,x,Be),Ue.push({event:Be,listeners:Ee}),Be.data=zt))}MB(Ue,g)})}function U0(f,g,x){return{instance:f,listener:g,currentTarget:x}}function hE(f,g){for(var x=g+"Capture",R=[];f!==null;){var B=f,H=B.stateNode;B.tag===5&&H!==null&&(B=H,H=Sr(f,x),H!=null&&R.unshift(U0(f,H,B)),H=Sr(f,g),H!=null&&R.push(U0(f,H,B))),f=f.return}return R}function Jg(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function DB(f,g,x,R,B){for(var H=g._reactName,Z=[];x!==null&&x!==R;){var he=x,pe=he.alternate,Ee=he.stateNode;if(pe!==null&&pe===R)break;he.tag===5&&Ee!==null&&(he=Ee,B?(pe=Sr(x,H),pe!=null&&Z.unshift(U0(x,pe,he))):B||(pe=Sr(x,H),pe!=null&&Z.push(U0(x,pe,he)))),x=x.return}Z.length!==0&&f.push({event:g,listeners:Z})}var Dae=/\r\n?/g,Lae=/\u0000|\uFFFD/g;function LB(f){return(typeof f=="string"?f:""+f).replace(Dae,`
`).replace(Lae,"")}function pE(f,g,x){if(g=LB(g),LB(f)!==g&&x)throw Error(n(425))}function gE(){}var BP=null,VP=null;function zP(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var UP=typeof setTimeout=="function"?setTimeout:void 0,Oae=typeof clearTimeout=="function"?clearTimeout:void 0,OB=typeof Promise=="function"?Promise:void 0,Fae=typeof queueMicrotask=="function"?queueMicrotask:typeof OB<"u"?function(f){return OB.resolve(null).then(f).catch($ae)}:UP;function $ae(f){setTimeout(function(){throw f})}function HP(f,g){var x=g,R=0;do{var B=x.nextSibling;if(f.removeChild(x),B&&B.nodeType===8)if(x=B.data,x==="/$"){if(R===0){f.removeChild(B),Ea(g);return}R--}else x!=="$"&&x!=="$?"&&x!=="$!"||R++;x=B}while(x);Ea(g)}function Cd(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return f}function FB(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"){if(g===0)return f;g--}else x==="/$"&&g++}f=f.previousSibling}return null}var Qg=Math.random().toString(36).slice(2),Rl="__reactFiber$"+Qg,H0="__reactProps$"+Qg,Hu="__reactContainer$"+Qg,qP="__reactEvents$"+Qg,Bae="__reactListeners$"+Qg,Vae="__reactHandles$"+Qg;function uh(f){var g=f[Rl];if(g)return g;for(var x=f.parentNode;x;){if(g=x[Hu]||x[Rl]){if(x=g.alternate,g.child!==null||x!==null&&x.child!==null)for(f=FB(f);f!==null;){if(x=f[Rl])return x;f=FB(f)}return g}f=x,x=f.parentNode}return null}function q0(f){return f=f[Rl]||f[Hu],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function Zg(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function mE(f){return f[H0]||null}var jP=[],em=-1;function Td(f){return{current:f}}function dr(f){0>em||(f.current=jP[em],jP[em]=null,em--)}function or(f,g){em++,jP[em]=f.current,f.current=g}var Ad={},qi=Td(Ad),No=Td(!1),ch=Ad;function tm(f,g){var x=f.type.contextTypes;if(!x)return Ad;var R=f.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===g)return R.__reactInternalMemoizedMaskedChildContext;var B={},H;for(H in x)B[H]=g[H];return R&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=g,f.__reactInternalMemoizedMaskedChildContext=B),B}function Do(f){return f=f.childContextTypes,f!=null}function yE(){dr(No),dr(qi)}function $B(f,g,x){if(qi.current!==Ad)throw Error(n(168));or(qi,g),or(No,x)}function BB(f,g,x){var R=f.stateNode;if(g=g.childContextTypes,typeof R.getChildContext!="function")return x;R=R.getChildContext();for(var B in R)if(!(B in g))throw Error(n(108,de(f)||"Unknown",B));return j({},x,R)}function vE(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Ad,ch=qi.current,or(qi,f),or(No,No.current),!0}function VB(f,g,x){var R=f.stateNode;if(!R)throw Error(n(169));x?(f=BB(f,g,ch),R.__reactInternalMemoizedMergedChildContext=f,dr(No),dr(qi),or(qi,f)):dr(No),or(No,x)}var qu=null,bE=!1,WP=!1;function zB(f){qu===null?qu=[f]:qu.push(f)}function zae(f){bE=!0,zB(f)}function Rd(){if(!WP&&qu!==null){WP=!0;var f=0,g=vn;try{var x=qu;for(vn=1;f<x.length;f++){var R=x[f];do R=R(!0);while(R!==null)}qu=null,bE=!1}catch(B){throw qu!==null&&(qu=qu.slice(f+1)),md(Ou,Rd),B}finally{vn=g,WP=!1}}return null}var nm=[],rm=0,wE=null,xE=0,Ws=[],Gs=0,dh=null,ju=1,Wu="";function fh(f,g){nm[rm++]=xE,nm[rm++]=wE,wE=f,xE=g}function UB(f,g,x){Ws[Gs++]=ju,Ws[Gs++]=Wu,Ws[Gs++]=dh,dh=f;var R=ju;f=Wu;var B=32-Ci(R)-1;R&=~(1<<B),x+=1;var H=32-Ci(g)+B;if(30<H){var Z=B-B%5;H=(R&(1<<Z)-1).toString(32),R>>=Z,B-=Z,ju=1<<32-Ci(g)+B|x<<B|R,Wu=H+f}else ju=1<<H|x<<B|R,Wu=f}function GP(f){f.return!==null&&(fh(f,1),UB(f,1,0))}function KP(f){for(;f===wE;)wE=nm[--rm],nm[rm]=null,xE=nm[--rm],nm[rm]=null;for(;f===dh;)dh=Ws[--Gs],Ws[Gs]=null,Wu=Ws[--Gs],Ws[Gs]=null,ju=Ws[--Gs],Ws[Gs]=null}var gs=null,ms=null,yr=!1,Aa=null;function HB(f,g){var x=Js(5,null,null,0);x.elementType="DELETED",x.stateNode=g,x.return=f,g=f.deletions,g===null?(f.deletions=[x],f.flags|=16):g.push(x)}function qB(f,g){switch(f.tag){case 5:var x=f.type;return g=g.nodeType!==1||x.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(f.stateNode=g,gs=f,ms=Cd(g.firstChild),!0):!1;case 6:return g=f.pendingProps===""||g.nodeType!==3?null:g,g!==null?(f.stateNode=g,gs=f,ms=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(x=dh!==null?{id:ju,overflow:Wu}:null,f.memoizedState={dehydrated:g,treeContext:x,retryLane:1073741824},x=Js(18,null,null,0),x.stateNode=g,x.return=f,f.child=x,gs=f,ms=null,!0):!1;default:return!1}}function YP(f){return(f.mode&1)!==0&&(f.flags&128)===0}function XP(f){if(yr){var g=ms;if(g){var x=g;if(!qB(f,g)){if(YP(f))throw Error(n(418));g=Cd(x.nextSibling);var R=gs;g&&qB(f,g)?HB(R,x):(f.flags=f.flags&-4097|2,yr=!1,gs=f)}}else{if(YP(f))throw Error(n(418));f.flags=f.flags&-4097|2,yr=!1,gs=f}}}function jB(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;gs=f}function _E(f){if(f!==gs)return!1;if(!yr)return jB(f),yr=!0,!1;var g;if((g=f.tag!==3)&&!(g=f.tag!==5)&&(g=f.type,g=g!=="head"&&g!=="body"&&!zP(f.type,f.memoizedProps)),g&&(g=ms)){if(YP(f))throw WB(),Error(n(418));for(;g;)HB(f,g),g=Cd(g.nextSibling)}if(jB(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8){var x=f.data;if(x==="/$"){if(g===0){ms=Cd(f.nextSibling);break e}g--}else x!=="$"&&x!=="$!"&&x!=="$?"||g++}f=f.nextSibling}ms=null}}else ms=gs?Cd(f.stateNode.nextSibling):null;return!0}function WB(){for(var f=ms;f;)f=Cd(f.nextSibling)}function im(){ms=gs=null,yr=!1}function JP(f){Aa===null?Aa=[f]:Aa.push(f)}var Uae=T.ReactCurrentBatchConfig;function j0(f,g,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var R=x.stateNode}if(!R)throw Error(n(147,f));var B=R,H=""+f;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===H?g.ref:(g=function(Z){var he=B.refs;Z===null?delete he[H]:he[H]=Z},g._stringRef=H,g)}if(typeof f!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,f))}return f}function SE(f,g){throw f=Object.prototype.toString.call(g),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f))}function GB(f){var g=f._init;return g(f._payload)}function KB(f){function g(_e,me){if(f){var Se=_e.deletions;Se===null?(_e.deletions=[me],_e.flags|=16):Se.push(me)}}function x(_e,me){if(!f)return null;for(;me!==null;)g(_e,me),me=me.sibling;return null}function R(_e,me){for(_e=new Map;me!==null;)me.key!==null?_e.set(me.key,me):_e.set(me.index,me),me=me.sibling;return _e}function B(_e,me){return _e=Od(_e,me),_e.index=0,_e.sibling=null,_e}function H(_e,me,Se){return _e.index=Se,f?(Se=_e.alternate,Se!==null?(Se=Se.index,Se<me?(_e.flags|=2,me):Se):(_e.flags|=2,me)):(_e.flags|=1048576,me)}function Z(_e){return f&&_e.alternate===null&&(_e.flags|=2),_e}function he(_e,me,Se,We){return me===null||me.tag!==6?(me=UI(Se,_e.mode,We),me.return=_e,me):(me=B(me,Se),me.return=_e,me)}function pe(_e,me,Se,We){var Et=Se.type;return Et===P?Be(_e,me,Se.props.children,We,Se.key):me!==null&&(me.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===K&&GB(Et)===me.type)?(We=B(me,Se.props),We.ref=j0(_e,me,Se),We.return=_e,We):(We=GE(Se.type,Se.key,Se.props,null,_e.mode,We),We.ref=j0(_e,me,Se),We.return=_e,We)}function Ee(_e,me,Se,We){return me===null||me.tag!==4||me.stateNode.containerInfo!==Se.containerInfo||me.stateNode.implementation!==Se.implementation?(me=HI(Se,_e.mode,We),me.return=_e,me):(me=B(me,Se.children||[]),me.return=_e,me)}function Be(_e,me,Se,We,Et){return me===null||me.tag!==7?(me=wh(Se,_e.mode,We,Et),me.return=_e,me):(me=B(me,Se),me.return=_e,me)}function Ue(_e,me,Se){if(typeof me=="string"&&me!==""||typeof me=="number")return me=UI(""+me,_e.mode,Se),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case I:return Se=GE(me.type,me.key,me.props,null,_e.mode,Se),Se.ref=j0(_e,null,me),Se.return=_e,Se;case N:return me=HI(me,_e.mode,Se),me.return=_e,me;case K:var We=me._init;return Ue(_e,We(me._payload),Se)}if(je(me)||X(me))return me=wh(me,_e.mode,Se,null),me.return=_e,me;SE(_e,me)}return null}function $e(_e,me,Se,We){var Et=me!==null?me.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Et!==null?null:he(_e,me,""+Se,We);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case I:return Se.key===Et?pe(_e,me,Se,We):null;case N:return Se.key===Et?Ee(_e,me,Se,We):null;case K:return Et=Se._init,$e(_e,me,Et(Se._payload),We)}if(je(Se)||X(Se))return Et!==null?null:Be(_e,me,Se,We,null);SE(_e,Se)}return null}function at(_e,me,Se,We,Et){if(typeof We=="string"&&We!==""||typeof We=="number")return _e=_e.get(Se)||null,he(me,_e,""+We,Et);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case I:return _e=_e.get(We.key===null?Se:We.key)||null,pe(me,_e,We,Et);case N:return _e=_e.get(We.key===null?Se:We.key)||null,Ee(me,_e,We,Et);case K:var Vt=We._init;return at(_e,me,Se,Vt(We._payload),Et)}if(je(We)||X(We))return _e=_e.get(Se)||null,Be(me,_e,We,Et,null);SE(me,We)}return null}function gt(_e,me,Se,We){for(var Et=null,Vt=null,zt=me,qt=me=0,bi=null;zt!==null&&qt<Se.length;qt++){zt.index>qt?(bi=zt,zt=null):bi=zt.sibling;var Nn=$e(_e,zt,Se[qt],We);if(Nn===null){zt===null&&(zt=bi);break}f&&zt&&Nn.alternate===null&&g(_e,zt),me=H(Nn,me,qt),Vt===null?Et=Nn:Vt.sibling=Nn,Vt=Nn,zt=bi}if(qt===Se.length)return x(_e,zt),yr&&fh(_e,qt),Et;if(zt===null){for(;qt<Se.length;qt++)zt=Ue(_e,Se[qt],We),zt!==null&&(me=H(zt,me,qt),Vt===null?Et=zt:Vt.sibling=zt,Vt=zt);return yr&&fh(_e,qt),Et}for(zt=R(_e,zt);qt<Se.length;qt++)bi=at(zt,_e,qt,Se[qt],We),bi!==null&&(f&&bi.alternate!==null&&zt.delete(bi.key===null?qt:bi.key),me=H(bi,me,qt),Vt===null?Et=bi:Vt.sibling=bi,Vt=bi);return f&&zt.forEach(function(Fd){return g(_e,Fd)}),yr&&fh(_e,qt),Et}function _t(_e,me,Se,We){var Et=X(Se);if(typeof Et!="function")throw Error(n(150));if(Se=Et.call(Se),Se==null)throw Error(n(151));for(var Vt=Et=null,zt=me,qt=me=0,bi=null,Nn=Se.next();zt!==null&&!Nn.done;qt++,Nn=Se.next()){zt.index>qt?(bi=zt,zt=null):bi=zt.sibling;var Fd=$e(_e,zt,Nn.value,We);if(Fd===null){zt===null&&(zt=bi);break}f&&zt&&Fd.alternate===null&&g(_e,zt),me=H(Fd,me,qt),Vt===null?Et=Fd:Vt.sibling=Fd,Vt=Fd,zt=bi}if(Nn.done)return x(_e,zt),yr&&fh(_e,qt),Et;if(zt===null){for(;!Nn.done;qt++,Nn=Se.next())Nn=Ue(_e,Nn.value,We),Nn!==null&&(me=H(Nn,me,qt),Vt===null?Et=Nn:Vt.sibling=Nn,Vt=Nn);return yr&&fh(_e,qt),Et}for(zt=R(_e,zt);!Nn.done;qt++,Nn=Se.next())Nn=at(zt,_e,qt,Nn.value,We),Nn!==null&&(f&&Nn.alternate!==null&&zt.delete(Nn.key===null?qt:Nn.key),me=H(Nn,me,qt),Vt===null?Et=Nn:Vt.sibling=Nn,Vt=Nn);return f&&zt.forEach(function(xle){return g(_e,xle)}),yr&&fh(_e,qt),Et}function Br(_e,me,Se,We){if(typeof Se=="object"&&Se!==null&&Se.type===P&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case I:e:{for(var Et=Se.key,Vt=me;Vt!==null;){if(Vt.key===Et){if(Et=Se.type,Et===P){if(Vt.tag===7){x(_e,Vt.sibling),me=B(Vt,Se.props.children),me.return=_e,_e=me;break e}}else if(Vt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===K&&GB(Et)===Vt.type){x(_e,Vt.sibling),me=B(Vt,Se.props),me.ref=j0(_e,Vt,Se),me.return=_e,_e=me;break e}x(_e,Vt);break}else g(_e,Vt);Vt=Vt.sibling}Se.type===P?(me=wh(Se.props.children,_e.mode,We,Se.key),me.return=_e,_e=me):(We=GE(Se.type,Se.key,Se.props,null,_e.mode,We),We.ref=j0(_e,me,Se),We.return=_e,_e=We)}return Z(_e);case N:e:{for(Vt=Se.key;me!==null;){if(me.key===Vt)if(me.tag===4&&me.stateNode.containerInfo===Se.containerInfo&&me.stateNode.implementation===Se.implementation){x(_e,me.sibling),me=B(me,Se.children||[]),me.return=_e,_e=me;break e}else{x(_e,me);break}else g(_e,me);me=me.sibling}me=HI(Se,_e.mode,We),me.return=_e,_e=me}return Z(_e);case K:return Vt=Se._init,Br(_e,me,Vt(Se._payload),We)}if(je(Se))return gt(_e,me,Se,We);if(X(Se))return _t(_e,me,Se,We);SE(_e,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,me!==null&&me.tag===6?(x(_e,me.sibling),me=B(me,Se),me.return=_e,_e=me):(x(_e,me),me=UI(Se,_e.mode,We),me.return=_e,_e=me),Z(_e)):x(_e,me)}return Br}var om=KB(!0),YB=KB(!1),EE=Td(null),CE=null,sm=null,QP=null;function ZP(){QP=sm=CE=null}function eI(f){var g=EE.current;dr(EE),f._currentValue=g}function tI(f,g,x){for(;f!==null;){var R=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),f===x)break;f=f.return}}function am(f,g){CE=f,QP=sm=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&g)!==0&&(Lo=!0),f.firstContext=null)}function Ks(f){var g=f._currentValue;if(QP!==f)if(f={context:f,memoizedValue:g,next:null},sm===null){if(CE===null)throw Error(n(308));sm=f,CE.dependencies={lanes:0,firstContext:f}}else sm=sm.next=f;return g}var hh=null;function nI(f){hh===null?hh=[f]:hh.push(f)}function XB(f,g,x,R){var B=g.interleaved;return B===null?(x.next=x,nI(g)):(x.next=B.next,B.next=x),g.interleaved=x,Gu(f,R)}function Gu(f,g){f.lanes|=g;var x=f.alternate;for(x!==null&&(x.lanes|=g),x=f,f=f.return;f!==null;)f.childLanes|=g,x=f.alternate,x!==null&&(x.childLanes|=g),x=f,f=f.return;return x.tag===3?x.stateNode:null}var Pd=!1;function rI(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JB(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ku(f,g){return{eventTime:f,lane:g,tag:0,payload:null,callback:null,next:null}}function Id(f,g,x){var R=f.updateQueue;if(R===null)return null;if(R=R.shared,(Pn&2)!==0){var B=R.pending;return B===null?g.next=g:(g.next=B.next,B.next=g),R.pending=g,Gu(f,x)}return B=R.interleaved,B===null?(g.next=g,nI(R)):(g.next=B.next,B.next=g),R.interleaved=g,Gu(f,x)}function TE(f,g,x){if(g=g.updateQueue,g!==null&&(g=g.shared,(x&4194240)!==0)){var R=g.lanes;R&=f.pendingLanes,x|=R,g.lanes=x,bd(f,x)}}function QB(f,g){var x=f.updateQueue,R=f.alternate;if(R!==null&&(R=R.updateQueue,x===R)){var B=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var Z={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};H===null?B=H=Z:H=H.next=Z,x=x.next}while(x!==null);H===null?B=H=g:H=H.next=g}else B=H=g;x={baseState:R.baseState,firstBaseUpdate:B,lastBaseUpdate:H,shared:R.shared,effects:R.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=g:f.next=g,x.lastBaseUpdate=g}function AE(f,g,x,R){var B=f.updateQueue;Pd=!1;var H=B.firstBaseUpdate,Z=B.lastBaseUpdate,he=B.shared.pending;if(he!==null){B.shared.pending=null;var pe=he,Ee=pe.next;pe.next=null,Z===null?H=Ee:Z.next=Ee,Z=pe;var Be=f.alternate;Be!==null&&(Be=Be.updateQueue,he=Be.lastBaseUpdate,he!==Z&&(he===null?Be.firstBaseUpdate=Ee:he.next=Ee,Be.lastBaseUpdate=pe))}if(H!==null){var Ue=B.baseState;Z=0,Be=Ee=pe=null,he=H;do{var $e=he.lane,at=he.eventTime;if((R&$e)===$e){Be!==null&&(Be=Be.next={eventTime:at,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var gt=f,_t=he;switch($e=g,at=x,_t.tag){case 1:if(gt=_t.payload,typeof gt=="function"){Ue=gt.call(at,Ue,$e);break e}Ue=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=_t.payload,$e=typeof gt=="function"?gt.call(at,Ue,$e):gt,$e==null)break e;Ue=j({},Ue,$e);break e;case 2:Pd=!0}}he.callback!==null&&he.lane!==0&&(f.flags|=64,$e=B.effects,$e===null?B.effects=[he]:$e.push(he))}else at={eventTime:at,lane:$e,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Be===null?(Ee=Be=at,pe=Ue):Be=Be.next=at,Z|=$e;if(he=he.next,he===null){if(he=B.shared.pending,he===null)break;$e=he,he=$e.next,$e.next=null,B.lastBaseUpdate=$e,B.shared.pending=null}}while(!0);if(Be===null&&(pe=Ue),B.baseState=pe,B.firstBaseUpdate=Ee,B.lastBaseUpdate=Be,g=B.shared.interleaved,g!==null){B=g;do Z|=B.lane,B=B.next;while(B!==g)}else H===null&&(B.shared.lanes=0);mh|=Z,f.lanes=Z,f.memoizedState=Ue}}function ZB(f,g,x){if(f=g.effects,g.effects=null,f!==null)for(g=0;g<f.length;g++){var R=f[g],B=R.callback;if(B!==null){if(R.callback=null,R=x,typeof B!="function")throw Error(n(191,B));B.call(R)}}}var W0={},Pl=Td(W0),G0=Td(W0),K0=Td(W0);function ph(f){if(f===W0)throw Error(n(174));return f}function iI(f,g){switch(or(K0,g),or(G0,f),or(Pl,W0),f=g.nodeType,f){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Ce(null,"");break;default:f=f===8?g.parentNode:g,g=f.namespaceURI||null,f=f.tagName,g=Ce(g,f)}dr(Pl),or(Pl,g)}function lm(){dr(Pl),dr(G0),dr(K0)}function eV(f){ph(K0.current);var g=ph(Pl.current),x=Ce(g,f.type);g!==x&&(or(G0,f),or(Pl,x))}function oI(f){G0.current===f&&(dr(Pl),dr(G0))}var Er=Td(0);function RE(f){for(var g=f;g!==null;){if(g.tag===13){var x=g.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var sI=[];function aI(){for(var f=0;f<sI.length;f++)sI[f]._workInProgressVersionPrimary=null;sI.length=0}var PE=T.ReactCurrentDispatcher,lI=T.ReactCurrentBatchConfig,gh=0,Cr=null,oi=null,yi=null,IE=!1,Y0=!1,X0=0,Hae=0;function ji(){throw Error(n(321))}function uI(f,g){if(g===null)return!1;for(var x=0;x<g.length&&x<f.length;x++)if(!Ta(f[x],g[x]))return!1;return!0}function cI(f,g,x,R,B,H){if(gh=H,Cr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,PE.current=f===null||f.memoizedState===null?Gae:Kae,f=x(R,B),Y0){H=0;do{if(Y0=!1,X0=0,25<=H)throw Error(n(301));H+=1,yi=oi=null,g.updateQueue=null,PE.current=Yae,f=x(R,B)}while(Y0)}if(PE.current=NE,g=oi!==null&&oi.next!==null,gh=0,yi=oi=Cr=null,IE=!1,g)throw Error(n(300));return f}function dI(){var f=X0!==0;return X0=0,f}function Il(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?Cr.memoizedState=yi=f:yi=yi.next=f,yi}function Ys(){if(oi===null){var f=Cr.alternate;f=f!==null?f.memoizedState:null}else f=oi.next;var g=yi===null?Cr.memoizedState:yi.next;if(g!==null)yi=g,oi=f;else{if(f===null)throw Error(n(310));oi=f,f={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},yi===null?Cr.memoizedState=yi=f:yi=yi.next=f}return yi}function J0(f,g){return typeof g=="function"?g(f):g}function fI(f){var g=Ys(),x=g.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=f;var R=oi,B=R.baseQueue,H=x.pending;if(H!==null){if(B!==null){var Z=B.next;B.next=H.next,H.next=Z}R.baseQueue=B=H,x.pending=null}if(B!==null){H=B.next,R=R.baseState;var he=Z=null,pe=null,Ee=H;do{var Be=Ee.lane;if((gh&Be)===Be)pe!==null&&(pe=pe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),R=Ee.hasEagerState?Ee.eagerState:f(R,Ee.action);else{var Ue={lane:Be,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};pe===null?(he=pe=Ue,Z=R):pe=pe.next=Ue,Cr.lanes|=Be,mh|=Be}Ee=Ee.next}while(Ee!==null&&Ee!==H);pe===null?Z=R:pe.next=he,Ta(R,g.memoizedState)||(Lo=!0),g.memoizedState=R,g.baseState=Z,g.baseQueue=pe,x.lastRenderedState=R}if(f=x.interleaved,f!==null){B=f;do H=B.lane,Cr.lanes|=H,mh|=H,B=B.next;while(B!==f)}else B===null&&(x.lanes=0);return[g.memoizedState,x.dispatch]}function hI(f){var g=Ys(),x=g.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=f;var R=x.dispatch,B=x.pending,H=g.memoizedState;if(B!==null){x.pending=null;var Z=B=B.next;do H=f(H,Z.action),Z=Z.next;while(Z!==B);Ta(H,g.memoizedState)||(Lo=!0),g.memoizedState=H,g.baseQueue===null&&(g.baseState=H),x.lastRenderedState=H}return[H,R]}function tV(){}function nV(f,g){var x=Cr,R=Ys(),B=g(),H=!Ta(R.memoizedState,B);if(H&&(R.memoizedState=B,Lo=!0),R=R.queue,pI(oV.bind(null,x,R,f),[f]),R.getSnapshot!==g||H||yi!==null&&yi.memoizedState.tag&1){if(x.flags|=2048,Q0(9,iV.bind(null,x,R,B,g),void 0,null),vi===null)throw Error(n(349));(gh&30)!==0||rV(x,g,B)}return B}function rV(f,g,x){f.flags|=16384,f={getSnapshot:g,value:x},g=Cr.updateQueue,g===null?(g={lastEffect:null,stores:null},Cr.updateQueue=g,g.stores=[f]):(x=g.stores,x===null?g.stores=[f]:x.push(f))}function iV(f,g,x,R){g.value=x,g.getSnapshot=R,sV(g)&&aV(f)}function oV(f,g,x){return x(function(){sV(g)&&aV(f)})}function sV(f){var g=f.getSnapshot;f=f.value;try{var x=g();return!Ta(f,x)}catch{return!0}}function aV(f){var g=Gu(f,1);g!==null&&ka(g,f,1,-1)}function lV(f){var g=Il();return typeof f=="function"&&(f=f()),g.memoizedState=g.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:J0,lastRenderedState:f},g.queue=f,f=f.dispatch=Wae.bind(null,Cr,f),[g.memoizedState,f]}function Q0(f,g,x,R){return f={tag:f,create:g,destroy:x,deps:R,next:null},g=Cr.updateQueue,g===null?(g={lastEffect:null,stores:null},Cr.updateQueue=g,g.lastEffect=f.next=f):(x=g.lastEffect,x===null?g.lastEffect=f.next=f:(R=x.next,x.next=f,f.next=R,g.lastEffect=f)),f}function uV(){return Ys().memoizedState}function kE(f,g,x,R){var B=Il();Cr.flags|=f,B.memoizedState=Q0(1|g,x,void 0,R===void 0?null:R)}function ME(f,g,x,R){var B=Ys();R=R===void 0?null:R;var H=void 0;if(oi!==null){var Z=oi.memoizedState;if(H=Z.destroy,R!==null&&uI(R,Z.deps)){B.memoizedState=Q0(g,x,H,R);return}}Cr.flags|=f,B.memoizedState=Q0(1|g,x,H,R)}function cV(f,g){return kE(8390656,8,f,g)}function pI(f,g){return ME(2048,8,f,g)}function dV(f,g){return ME(4,2,f,g)}function fV(f,g){return ME(4,4,f,g)}function hV(f,g){if(typeof g=="function")return f=f(),g(f),function(){g(null)};if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function pV(f,g,x){return x=x!=null?x.concat([f]):null,ME(4,4,hV.bind(null,g,f),x)}function gI(){}function gV(f,g){var x=Ys();g=g===void 0?null:g;var R=x.memoizedState;return R!==null&&g!==null&&uI(g,R[1])?R[0]:(x.memoizedState=[f,g],f)}function mV(f,g){var x=Ys();g=g===void 0?null:g;var R=x.memoizedState;return R!==null&&g!==null&&uI(g,R[1])?R[0]:(f=f(),x.memoizedState=[f,g],f)}function yV(f,g,x){return(gh&21)===0?(f.baseState&&(f.baseState=!1,Lo=!0),f.memoizedState=x):(Ta(x,g)||(x=$u(),Cr.lanes|=x,mh|=x,f.baseState=!0),g)}function qae(f,g){var x=vn;vn=x!==0&&4>x?x:4,f(!0);var R=lI.transition;lI.transition={};try{f(!1),g()}finally{vn=x,lI.transition=R}}function vV(){return Ys().memoizedState}function jae(f,g,x){var R=Dd(f);if(x={lane:R,action:x,hasEagerState:!1,eagerState:null,next:null},bV(f))wV(g,x);else if(x=XB(f,g,x,R),x!==null){var B=yo();ka(x,f,R,B),xV(x,g,R)}}function Wae(f,g,x){var R=Dd(f),B={lane:R,action:x,hasEagerState:!1,eagerState:null,next:null};if(bV(f))wV(g,B);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=g.lastRenderedReducer,H!==null))try{var Z=g.lastRenderedState,he=H(Z,x);if(B.hasEagerState=!0,B.eagerState=he,Ta(he,Z)){var pe=g.interleaved;pe===null?(B.next=B,nI(g)):(B.next=pe.next,pe.next=B),g.interleaved=B;return}}catch{}finally{}x=XB(f,g,B,R),x!==null&&(B=yo(),ka(x,f,R,B),xV(x,g,R))}}function bV(f){var g=f.alternate;return f===Cr||g!==null&&g===Cr}function wV(f,g){Y0=IE=!0;var x=f.pending;x===null?g.next=g:(g.next=x.next,x.next=g),f.pending=g}function xV(f,g,x){if((x&4194240)!==0){var R=g.lanes;R&=f.pendingLanes,x|=R,g.lanes=x,bd(f,x)}}var NE={readContext:Ks,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},Gae={readContext:Ks,useCallback:function(f,g){return Il().memoizedState=[f,g===void 0?null:g],f},useContext:Ks,useEffect:cV,useImperativeHandle:function(f,g,x){return x=x!=null?x.concat([f]):null,kE(4194308,4,hV.bind(null,g,f),x)},useLayoutEffect:function(f,g){return kE(4194308,4,f,g)},useInsertionEffect:function(f,g){return kE(4,2,f,g)},useMemo:function(f,g){var x=Il();return g=g===void 0?null:g,f=f(),x.memoizedState=[f,g],f},useReducer:function(f,g,x){var R=Il();return g=x!==void 0?x(g):g,R.memoizedState=R.baseState=g,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:g},R.queue=f,f=f.dispatch=jae.bind(null,Cr,f),[R.memoizedState,f]},useRef:function(f){var g=Il();return f={current:f},g.memoizedState=f},useState:lV,useDebugValue:gI,useDeferredValue:function(f){return Il().memoizedState=f},useTransition:function(){var f=lV(!1),g=f[0];return f=qae.bind(null,f[1]),Il().memoizedState=f,[g,f]},useMutableSource:function(){},useSyncExternalStore:function(f,g,x){var R=Cr,B=Il();if(yr){if(x===void 0)throw Error(n(407));x=x()}else{if(x=g(),vi===null)throw Error(n(349));(gh&30)!==0||rV(R,g,x)}B.memoizedState=x;var H={value:x,getSnapshot:g};return B.queue=H,cV(oV.bind(null,R,H,f),[f]),R.flags|=2048,Q0(9,iV.bind(null,R,H,x,g),void 0,null),x},useId:function(){var f=Il(),g=vi.identifierPrefix;if(yr){var x=Wu,R=ju;x=(R&~(1<<32-Ci(R)-1)).toString(32)+x,g=":"+g+"R"+x,x=X0++,0<x&&(g+="H"+x.toString(32)),g+=":"}else x=Hae++,g=":"+g+"r"+x.toString(32)+":";return f.memoizedState=g},unstable_isNewReconciler:!1},Kae={readContext:Ks,useCallback:gV,useContext:Ks,useEffect:pI,useImperativeHandle:pV,useInsertionEffect:dV,useLayoutEffect:fV,useMemo:mV,useReducer:fI,useRef:uV,useState:function(){return fI(J0)},useDebugValue:gI,useDeferredValue:function(f){var g=Ys();return yV(g,oi.memoizedState,f)},useTransition:function(){var f=fI(J0)[0],g=Ys().memoizedState;return[f,g]},useMutableSource:tV,useSyncExternalStore:nV,useId:vV,unstable_isNewReconciler:!1},Yae={readContext:Ks,useCallback:gV,useContext:Ks,useEffect:pI,useImperativeHandle:pV,useInsertionEffect:dV,useLayoutEffect:fV,useMemo:mV,useReducer:hI,useRef:uV,useState:function(){return hI(J0)},useDebugValue:gI,useDeferredValue:function(f){var g=Ys();return oi===null?g.memoizedState=f:yV(g,oi.memoizedState,f)},useTransition:function(){var f=hI(J0)[0],g=Ys().memoizedState;return[f,g]},useMutableSource:tV,useSyncExternalStore:nV,useId:vV,unstable_isNewReconciler:!1};function Ra(f,g){if(f&&f.defaultProps){g=j({},g),f=f.defaultProps;for(var x in f)g[x]===void 0&&(g[x]=f[x]);return g}return g}function mI(f,g,x,R){g=f.memoizedState,x=x(R,g),x=x==null?g:j({},g,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var DE={isMounted:function(f){return(f=f._reactInternals)?Ro(f)===f:!1},enqueueSetState:function(f,g,x){f=f._reactInternals;var R=yo(),B=Dd(f),H=Ku(R,B);H.payload=g,x!=null&&(H.callback=x),g=Id(f,H,B),g!==null&&(ka(g,f,B,R),TE(g,f,B))},enqueueReplaceState:function(f,g,x){f=f._reactInternals;var R=yo(),B=Dd(f),H=Ku(R,B);H.tag=1,H.payload=g,x!=null&&(H.callback=x),g=Id(f,H,B),g!==null&&(ka(g,f,B,R),TE(g,f,B))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var x=yo(),R=Dd(f),B=Ku(x,R);B.tag=2,g!=null&&(B.callback=g),g=Id(f,B,R),g!==null&&(ka(g,f,R,x),TE(g,f,R))}};function _V(f,g,x,R,B,H,Z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(R,H,Z):g.prototype&&g.prototype.isPureReactComponent?!$0(x,R)||!$0(B,H):!0}function SV(f,g,x){var R=!1,B=Ad,H=g.contextType;return typeof H=="object"&&H!==null?H=Ks(H):(B=Do(g)?ch:qi.current,R=g.contextTypes,H=(R=R!=null)?tm(f,B):Ad),g=new g(x,H),f.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=DE,f.stateNode=g,g._reactInternals=f,R&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=B,f.__reactInternalMemoizedMaskedChildContext=H),g}function EV(f,g,x,R){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(x,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(x,R),g.state!==f&&DE.enqueueReplaceState(g,g.state,null)}function yI(f,g,x,R){var B=f.stateNode;B.props=x,B.state=f.memoizedState,B.refs={},rI(f);var H=g.contextType;typeof H=="object"&&H!==null?B.context=Ks(H):(H=Do(g)?ch:qi.current,B.context=tm(f,H)),B.state=f.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(mI(f,g,H,x),B.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&DE.enqueueReplaceState(B,B.state,null),AE(f,x,B,R),B.state=f.memoizedState),typeof B.componentDidMount=="function"&&(f.flags|=4194308)}function um(f,g){try{var x="",R=g;do x+=te(R),R=R.return;while(R);var B=x}catch(H){B=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:g,stack:B,digest:null}}function vI(f,g,x){return{value:f,source:null,stack:x??null,digest:g??null}}function bI(f,g){try{console.error(g.value)}catch(x){setTimeout(function(){throw x})}}var Xae=typeof WeakMap=="function"?WeakMap:Map;function CV(f,g,x){x=Ku(-1,x),x.tag=3,x.payload={element:null};var R=g.value;return x.callback=function(){zE||(zE=!0,DI=R),bI(f,g)},x}function TV(f,g,x){x=Ku(-1,x),x.tag=3;var R=f.type.getDerivedStateFromError;if(typeof R=="function"){var B=g.value;x.payload=function(){return R(B)},x.callback=function(){bI(f,g)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(x.callback=function(){bI(f,g),typeof R!="function"&&(Md===null?Md=new Set([this]):Md.add(this));var Z=g.stack;this.componentDidCatch(g.value,{componentStack:Z!==null?Z:""})}),x}function AV(f,g,x){var R=f.pingCache;if(R===null){R=f.pingCache=new Xae;var B=new Set;R.set(g,B)}else B=R.get(g),B===void 0&&(B=new Set,R.set(g,B));B.has(x)||(B.add(x),f=cle.bind(null,f,g,x),g.then(f,f))}function RV(f){do{var g;if((g=f.tag===13)&&(g=f.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return f;f=f.return}while(f!==null);return null}function PV(f,g,x,R,B){return(f.mode&1)===0?(f===g?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(g=Ku(-1,1),g.tag=2,Id(x,g,1))),x.lanes|=1),f):(f.flags|=65536,f.lanes=B,f)}var Jae=T.ReactCurrentOwner,Lo=!1;function mo(f,g,x,R){g.child=f===null?YB(g,null,x,R):om(g,f.child,x,R)}function IV(f,g,x,R,B){x=x.render;var H=g.ref;return am(g,B),R=cI(f,g,x,R,H,B),x=dI(),f!==null&&!Lo?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~B,Yu(f,g,B)):(yr&&x&&GP(g),g.flags|=1,mo(f,g,R,B),g.child)}function kV(f,g,x,R,B){if(f===null){var H=x.type;return typeof H=="function"&&!zI(H)&&H.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(g.tag=15,g.type=H,MV(f,g,H,R,B)):(f=GE(x.type,null,R,g,g.mode,B),f.ref=g.ref,f.return=g,g.child=f)}if(H=f.child,(f.lanes&B)===0){var Z=H.memoizedProps;if(x=x.compare,x=x!==null?x:$0,x(Z,R)&&f.ref===g.ref)return Yu(f,g,B)}return g.flags|=1,f=Od(H,R),f.ref=g.ref,f.return=g,g.child=f}function MV(f,g,x,R,B){if(f!==null){var H=f.memoizedProps;if($0(H,R)&&f.ref===g.ref)if(Lo=!1,g.pendingProps=R=H,(f.lanes&B)!==0)(f.flags&131072)!==0&&(Lo=!0);else return g.lanes=f.lanes,Yu(f,g,B)}return wI(f,g,x,R,B)}function NV(f,g,x){var R=g.pendingProps,B=R.children,H=f!==null?f.memoizedState:null;if(R.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(dm,ys),ys|=x;else{if((x&1073741824)===0)return f=H!==null?H.baseLanes|x:x,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:f,cachePool:null,transitions:null},g.updateQueue=null,or(dm,ys),ys|=f,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=H!==null?H.baseLanes:x,or(dm,ys),ys|=R}else H!==null?(R=H.baseLanes|x,g.memoizedState=null):R=x,or(dm,ys),ys|=R;return mo(f,g,B,x),g.child}function DV(f,g){var x=g.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(g.flags|=512,g.flags|=2097152)}function wI(f,g,x,R,B){var H=Do(x)?ch:qi.current;return H=tm(g,H),am(g,B),x=cI(f,g,x,R,H,B),R=dI(),f!==null&&!Lo?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~B,Yu(f,g,B)):(yr&&R&&GP(g),g.flags|=1,mo(f,g,x,B),g.child)}function LV(f,g,x,R,B){if(Do(x)){var H=!0;vE(g)}else H=!1;if(am(g,B),g.stateNode===null)OE(f,g),SV(g,x,R),yI(g,x,R,B),R=!0;else if(f===null){var Z=g.stateNode,he=g.memoizedProps;Z.props=he;var pe=Z.context,Ee=x.contextType;typeof Ee=="object"&&Ee!==null?Ee=Ks(Ee):(Ee=Do(x)?ch:qi.current,Ee=tm(g,Ee));var Be=x.getDerivedStateFromProps,Ue=typeof Be=="function"||typeof Z.getSnapshotBeforeUpdate=="function";Ue||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(he!==R||pe!==Ee)&&EV(g,Z,R,Ee),Pd=!1;var $e=g.memoizedState;Z.state=$e,AE(g,R,Z,B),pe=g.memoizedState,he!==R||$e!==pe||No.current||Pd?(typeof Be=="function"&&(mI(g,x,Be,R),pe=g.memoizedState),(he=Pd||_V(g,x,he,R,$e,pe,Ee))?(Ue||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=pe),Z.props=R,Z.state=pe,Z.context=Ee,R=he):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{Z=g.stateNode,JB(f,g),he=g.memoizedProps,Ee=g.type===g.elementType?he:Ra(g.type,he),Z.props=Ee,Ue=g.pendingProps,$e=Z.context,pe=x.contextType,typeof pe=="object"&&pe!==null?pe=Ks(pe):(pe=Do(x)?ch:qi.current,pe=tm(g,pe));var at=x.getDerivedStateFromProps;(Be=typeof at=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(he!==Ue||$e!==pe)&&EV(g,Z,R,pe),Pd=!1,$e=g.memoizedState,Z.state=$e,AE(g,R,Z,B);var gt=g.memoizedState;he!==Ue||$e!==gt||No.current||Pd?(typeof at=="function"&&(mI(g,x,at,R),gt=g.memoizedState),(Ee=Pd||_V(g,x,Ee,R,$e,gt,pe)||!1)?(Be||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(R,gt,pe),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(R,gt,pe)),typeof Z.componentDidUpdate=="function"&&(g.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof Z.componentDidUpdate!="function"||he===f.memoizedProps&&$e===f.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||he===f.memoizedProps&&$e===f.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=gt),Z.props=R,Z.state=gt,Z.context=pe,R=Ee):(typeof Z.componentDidUpdate!="function"||he===f.memoizedProps&&$e===f.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||he===f.memoizedProps&&$e===f.memoizedState||(g.flags|=1024),R=!1)}return xI(f,g,x,R,H,B)}function xI(f,g,x,R,B,H){DV(f,g);var Z=(g.flags&128)!==0;if(!R&&!Z)return B&&VB(g,x,!1),Yu(f,g,H);R=g.stateNode,Jae.current=g;var he=Z&&typeof x.getDerivedStateFromError!="function"?null:R.render();return g.flags|=1,f!==null&&Z?(g.child=om(g,f.child,null,H),g.child=om(g,null,he,H)):mo(f,g,he,H),g.memoizedState=R.state,B&&VB(g,x,!0),g.child}function OV(f){var g=f.stateNode;g.pendingContext?$B(f,g.pendingContext,g.pendingContext!==g.context):g.context&&$B(f,g.context,!1),iI(f,g.containerInfo)}function FV(f,g,x,R,B){return im(),JP(B),g.flags|=256,mo(f,g,x,R),g.child}var _I={dehydrated:null,treeContext:null,retryLane:0};function SI(f){return{baseLanes:f,cachePool:null,transitions:null}}function $V(f,g,x){var R=g.pendingProps,B=Er.current,H=!1,Z=(g.flags&128)!==0,he;if((he=Z)||(he=f!==null&&f.memoizedState===null?!1:(B&2)!==0),he?(H=!0,g.flags&=-129):(f===null||f.memoizedState!==null)&&(B|=1),or(Er,B&1),f===null)return XP(g),f=g.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((g.mode&1)===0?g.lanes=1:f.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(Z=R.children,f=R.fallback,H?(R=g.mode,H=g.child,Z={mode:"hidden",children:Z},(R&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=Z):H=KE(Z,R,0,null),f=wh(f,R,x,null),H.return=g,f.return=g,H.sibling=f,g.child=H,g.child.memoizedState=SI(x),g.memoizedState=_I,f):EI(g,Z));if(B=f.memoizedState,B!==null&&(he=B.dehydrated,he!==null))return Qae(f,g,Z,R,he,B,x);if(H){H=R.fallback,Z=g.mode,B=f.child,he=B.sibling;var pe={mode:"hidden",children:R.children};return(Z&1)===0&&g.child!==B?(R=g.child,R.childLanes=0,R.pendingProps=pe,g.deletions=null):(R=Od(B,pe),R.subtreeFlags=B.subtreeFlags&14680064),he!==null?H=Od(he,H):(H=wh(H,Z,x,null),H.flags|=2),H.return=g,R.return=g,R.sibling=H,g.child=R,R=H,H=g.child,Z=f.child.memoizedState,Z=Z===null?SI(x):{baseLanes:Z.baseLanes|x,cachePool:null,transitions:Z.transitions},H.memoizedState=Z,H.childLanes=f.childLanes&~x,g.memoizedState=_I,R}return H=f.child,f=H.sibling,R=Od(H,{mode:"visible",children:R.children}),(g.mode&1)===0&&(R.lanes=x),R.return=g,R.sibling=null,f!==null&&(x=g.deletions,x===null?(g.deletions=[f],g.flags|=16):x.push(f)),g.child=R,g.memoizedState=null,R}function EI(f,g){return g=KE({mode:"visible",children:g},f.mode,0,null),g.return=f,f.child=g}function LE(f,g,x,R){return R!==null&&JP(R),om(g,f.child,null,x),f=EI(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function Qae(f,g,x,R,B,H,Z){if(x)return g.flags&256?(g.flags&=-257,R=vI(Error(n(422))),LE(f,g,Z,R)):g.memoizedState!==null?(g.child=f.child,g.flags|=128,null):(H=R.fallback,B=g.mode,R=KE({mode:"visible",children:R.children},B,0,null),H=wh(H,B,Z,null),H.flags|=2,R.return=g,H.return=g,R.sibling=H,g.child=R,(g.mode&1)!==0&&om(g,f.child,null,Z),g.child.memoizedState=SI(Z),g.memoizedState=_I,H);if((g.mode&1)===0)return LE(f,g,Z,null);if(B.data==="$!"){if(R=B.nextSibling&&B.nextSibling.dataset,R)var he=R.dgst;return R=he,H=Error(n(419)),R=vI(H,R,void 0),LE(f,g,Z,R)}if(he=(Z&f.childLanes)!==0,Lo||he){if(R=vi,R!==null){switch(Z&-Z){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(R.suspendedLanes|Z))!==0?0:B,B!==0&&B!==H.retryLane&&(H.retryLane=B,Gu(f,B),ka(R,f,B,-1))}return VI(),R=vI(Error(n(421))),LE(f,g,Z,R)}return B.data==="$?"?(g.flags|=128,g.child=f.child,g=dle.bind(null,f),B._reactRetry=g,null):(f=H.treeContext,ms=Cd(B.nextSibling),gs=g,yr=!0,Aa=null,f!==null&&(Ws[Gs++]=ju,Ws[Gs++]=Wu,Ws[Gs++]=dh,ju=f.id,Wu=f.overflow,dh=g),g=EI(g,R.children),g.flags|=4096,g)}function BV(f,g,x){f.lanes|=g;var R=f.alternate;R!==null&&(R.lanes|=g),tI(f.return,g,x)}function CI(f,g,x,R,B){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:x,tailMode:B}:(H.isBackwards=g,H.rendering=null,H.renderingStartTime=0,H.last=R,H.tail=x,H.tailMode=B)}function VV(f,g,x){var R=g.pendingProps,B=R.revealOrder,H=R.tail;if(mo(f,g,R.children,x),R=Er.current,(R&2)!==0)R=R&1|2,g.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&BV(f,x,g);else if(f.tag===19)BV(f,x,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}R&=1}if(or(Er,R),(g.mode&1)===0)g.memoizedState=null;else switch(B){case"forwards":for(x=g.child,B=null;x!==null;)f=x.alternate,f!==null&&RE(f)===null&&(B=x),x=x.sibling;x=B,x===null?(B=g.child,g.child=null):(B=x.sibling,x.sibling=null),CI(g,!1,B,x,H);break;case"backwards":for(x=null,B=g.child,g.child=null;B!==null;){if(f=B.alternate,f!==null&&RE(f)===null){g.child=B;break}f=B.sibling,B.sibling=x,x=B,B=f}CI(g,!0,x,null,H);break;case"together":CI(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function OE(f,g){(g.mode&1)===0&&f!==null&&(f.alternate=null,g.alternate=null,g.flags|=2)}function Yu(f,g,x){if(f!==null&&(g.dependencies=f.dependencies),mh|=g.lanes,(x&g.childLanes)===0)return null;if(f!==null&&g.child!==f.child)throw Error(n(153));if(g.child!==null){for(f=g.child,x=Od(f,f.pendingProps),g.child=x,x.return=g;f.sibling!==null;)f=f.sibling,x=x.sibling=Od(f,f.pendingProps),x.return=g;x.sibling=null}return g.child}function Zae(f,g,x){switch(g.tag){case 3:OV(g),im();break;case 5:eV(g);break;case 1:Do(g.type)&&vE(g);break;case 4:iI(g,g.stateNode.containerInfo);break;case 10:var R=g.type._context,B=g.memoizedProps.value;or(EE,R._currentValue),R._currentValue=B;break;case 13:if(R=g.memoizedState,R!==null)return R.dehydrated!==null?(or(Er,Er.current&1),g.flags|=128,null):(x&g.child.childLanes)!==0?$V(f,g,x):(or(Er,Er.current&1),f=Yu(f,g,x),f!==null?f.sibling:null);or(Er,Er.current&1);break;case 19:if(R=(x&g.childLanes)!==0,(f.flags&128)!==0){if(R)return VV(f,g,x);g.flags|=128}if(B=g.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),or(Er,Er.current),R)break;return null;case 22:case 23:return g.lanes=0,NV(f,g,x)}return Yu(f,g,x)}var zV,TI,UV,HV;zV=function(f,g){for(var x=g.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},TI=function(){},UV=function(f,g,x,R){var B=f.memoizedProps;if(B!==R){f=g.stateNode,ph(Pl.current);var H=null;switch(x){case"input":B=Ae(f,B),R=Ae(f,R),H=[];break;case"select":B=j({},B,{value:void 0}),R=j({},R,{value:void 0}),H=[];break;case"textarea":B=ke(f,B),R=ke(f,R),H=[];break;default:typeof B.onClick!="function"&&typeof R.onClick=="function"&&(f.onclick=gE)}Rt(x,R);var Z;x=null;for(Ee in B)if(!R.hasOwnProperty(Ee)&&B.hasOwnProperty(Ee)&&B[Ee]!=null)if(Ee==="style"){var he=B[Ee];for(Z in he)he.hasOwnProperty(Z)&&(x||(x={}),x[Z]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?H||(H=[]):(H=H||[]).push(Ee,null));for(Ee in R){var pe=R[Ee];if(he=B!=null?B[Ee]:void 0,R.hasOwnProperty(Ee)&&pe!==he&&(pe!=null||he!=null))if(Ee==="style")if(he){for(Z in he)!he.hasOwnProperty(Z)||pe&&pe.hasOwnProperty(Z)||(x||(x={}),x[Z]="");for(Z in pe)pe.hasOwnProperty(Z)&&he[Z]!==pe[Z]&&(x||(x={}),x[Z]=pe[Z])}else x||(H||(H=[]),H.push(Ee,x)),x=pe;else Ee==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,he=he?he.__html:void 0,pe!=null&&he!==pe&&(H=H||[]).push(Ee,pe)):Ee==="children"?typeof pe!="string"&&typeof pe!="number"||(H=H||[]).push(Ee,""+pe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(pe!=null&&Ee==="onScroll"&&cr("scroll",f),H||he===pe||(H=[])):(H=H||[]).push(Ee,pe))}x&&(H=H||[]).push("style",x);var Ee=H;(g.updateQueue=Ee)&&(g.flags|=4)}},HV=function(f,g,x,R){x!==R&&(g.flags|=4)};function Z0(f,g){if(!yr)switch(f.tailMode){case"hidden":g=f.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var R=null;x!==null;)x.alternate!==null&&(R=x),x=x.sibling;R===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:R.sibling=null}}function Wi(f){var g=f.alternate!==null&&f.alternate.child===f.child,x=0,R=0;if(g)for(var B=f.child;B!==null;)x|=B.lanes|B.childLanes,R|=B.subtreeFlags&14680064,R|=B.flags&14680064,B.return=f,B=B.sibling;else for(B=f.child;B!==null;)x|=B.lanes|B.childLanes,R|=B.subtreeFlags,R|=B.flags,B.return=f,B=B.sibling;return f.subtreeFlags|=R,f.childLanes=x,g}function ele(f,g,x){var R=g.pendingProps;switch(KP(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(g),null;case 1:return Do(g.type)&&yE(),Wi(g),null;case 3:return R=g.stateNode,lm(),dr(No),dr(qi),aI(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(f===null||f.child===null)&&(_E(g)?g.flags|=4:f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Aa!==null&&(FI(Aa),Aa=null))),TI(f,g),Wi(g),null;case 5:oI(g);var B=ph(K0.current);if(x=g.type,f!==null&&g.stateNode!=null)UV(f,g,x,R,B),f.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!R){if(g.stateNode===null)throw Error(n(166));return Wi(g),null}if(f=ph(Pl.current),_E(g)){R=g.stateNode,x=g.type;var H=g.memoizedProps;switch(R[Rl]=g,R[H0]=H,f=(g.mode&1)!==0,x){case"dialog":cr("cancel",R),cr("close",R);break;case"iframe":case"object":case"embed":cr("load",R);break;case"video":case"audio":for(B=0;B<V0.length;B++)cr(V0[B],R);break;case"source":cr("error",R);break;case"img":case"image":case"link":cr("error",R),cr("load",R);break;case"details":cr("toggle",R);break;case"input":be(R,H),cr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!H.multiple},cr("invalid",R);break;case"textarea":dt(R,H),cr("invalid",R)}Rt(x,H),B=null;for(var Z in H)if(H.hasOwnProperty(Z)){var he=H[Z];Z==="children"?typeof he=="string"?R.textContent!==he&&(H.suppressHydrationWarning!==!0&&pE(R.textContent,he,f),B=["children",he]):typeof he=="number"&&R.textContent!==""+he&&(H.suppressHydrationWarning!==!0&&pE(R.textContent,he,f),B=["children",""+he]):i.hasOwnProperty(Z)&&he!=null&&Z==="onScroll"&&cr("scroll",R)}switch(x){case"input":ye(R),Oe(R,H,!0);break;case"textarea":ye(R),St(R);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(R.onclick=gE)}R=B,g.updateQueue=R,R!==null&&(g.flags|=4)}else{Z=B.nodeType===9?B:B.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=ve(x)),f==="http://www.w3.org/1999/xhtml"?x==="script"?(f=Z.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof R.is=="string"?f=Z.createElement(x,{is:R.is}):(f=Z.createElement(x),x==="select"&&(Z=f,R.multiple?Z.multiple=!0:R.size&&(Z.size=R.size))):f=Z.createElementNS(f,x),f[Rl]=g,f[H0]=R,zV(f,g,!1,!1),g.stateNode=f;e:{switch(Z=mn(x,R),x){case"dialog":cr("cancel",f),cr("close",f),B=R;break;case"iframe":case"object":case"embed":cr("load",f),B=R;break;case"video":case"audio":for(B=0;B<V0.length;B++)cr(V0[B],f);B=R;break;case"source":cr("error",f),B=R;break;case"img":case"image":case"link":cr("error",f),cr("load",f),B=R;break;case"details":cr("toggle",f),B=R;break;case"input":be(f,R),B=Ae(f,R),cr("invalid",f);break;case"option":B=R;break;case"select":f._wrapperState={wasMultiple:!!R.multiple},B=j({},R,{value:void 0}),cr("invalid",f);break;case"textarea":dt(f,R),B=ke(f,R),cr("invalid",f);break;default:B=R}Rt(x,B),he=B;for(H in he)if(he.hasOwnProperty(H)){var pe=he[H];H==="style"?rn(f,pe):H==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&et(f,pe)):H==="children"?typeof pe=="string"?(x!=="textarea"||pe!=="")&&Ze(f,pe):typeof pe=="number"&&Ze(f,""+pe):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?pe!=null&&H==="onScroll"&&cr("scroll",f):pe!=null&&S(f,H,pe,Z))}switch(x){case"input":ye(f),Oe(f,R,!1);break;case"textarea":ye(f),St(f);break;case"option":R.value!=null&&f.setAttribute("value",""+se(R.value));break;case"select":f.multiple=!!R.multiple,H=R.value,H!=null?wt(f,!!R.multiple,H,!1):R.defaultValue!=null&&wt(f,!!R.multiple,R.defaultValue,!0);break;default:typeof B.onClick=="function"&&(f.onclick=gE)}switch(x){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Wi(g),null;case 6:if(f&&g.stateNode!=null)HV(f,g,f.memoizedProps,R);else{if(typeof R!="string"&&g.stateNode===null)throw Error(n(166));if(x=ph(K0.current),ph(Pl.current),_E(g)){if(R=g.stateNode,x=g.memoizedProps,R[Rl]=g,(H=R.nodeValue!==x)&&(f=gs,f!==null))switch(f.tag){case 3:pE(R.nodeValue,x,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&pE(R.nodeValue,x,(f.mode&1)!==0)}H&&(g.flags|=4)}else R=(x.nodeType===9?x:x.ownerDocument).createTextNode(R),R[Rl]=g,g.stateNode=R}return Wi(g),null;case 13:if(dr(Er),R=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(yr&&ms!==null&&(g.mode&1)!==0&&(g.flags&128)===0)WB(),im(),g.flags|=98560,H=!1;else if(H=_E(g),R!==null&&R.dehydrated!==null){if(f===null){if(!H)throw Error(n(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Rl]=g}else im(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Wi(g),H=!1}else Aa!==null&&(FI(Aa),Aa=null),H=!0;if(!H)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=x,g):(R=R!==null,R!==(f!==null&&f.memoizedState!==null)&&R&&(g.child.flags|=8192,(g.mode&1)!==0&&(f===null||(Er.current&1)!==0?si===0&&(si=3):VI())),g.updateQueue!==null&&(g.flags|=4),Wi(g),null);case 4:return lm(),TI(f,g),f===null&&z0(g.stateNode.containerInfo),Wi(g),null;case 10:return eI(g.type._context),Wi(g),null;case 17:return Do(g.type)&&yE(),Wi(g),null;case 19:if(dr(Er),H=g.memoizedState,H===null)return Wi(g),null;if(R=(g.flags&128)!==0,Z=H.rendering,Z===null)if(R)Z0(H,!1);else{if(si!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(Z=RE(f),Z!==null){for(g.flags|=128,Z0(H,!1),R=Z.updateQueue,R!==null&&(g.updateQueue=R,g.flags|=4),g.subtreeFlags=0,R=x,x=g.child;x!==null;)H=x,f=R,H.flags&=14680066,Z=H.alternate,Z===null?(H.childLanes=0,H.lanes=f,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=Z.childLanes,H.lanes=Z.lanes,H.child=Z.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=Z.memoizedProps,H.memoizedState=Z.memoizedState,H.updateQueue=Z.updateQueue,H.type=Z.type,f=Z.dependencies,H.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),x=x.sibling;return or(Er,Er.current&1|2),g.child}f=f.sibling}H.tail!==null&&Kn()>fm&&(g.flags|=128,R=!0,Z0(H,!1),g.lanes=4194304)}else{if(!R)if(f=RE(Z),f!==null){if(g.flags|=128,R=!0,x=f.updateQueue,x!==null&&(g.updateQueue=x,g.flags|=4),Z0(H,!0),H.tail===null&&H.tailMode==="hidden"&&!Z.alternate&&!yr)return Wi(g),null}else 2*Kn()-H.renderingStartTime>fm&&x!==1073741824&&(g.flags|=128,R=!0,Z0(H,!1),g.lanes=4194304);H.isBackwards?(Z.sibling=g.child,g.child=Z):(x=H.last,x!==null?x.sibling=Z:g.child=Z,H.last=Z)}return H.tail!==null?(g=H.tail,H.rendering=g,H.tail=g.sibling,H.renderingStartTime=Kn(),g.sibling=null,x=Er.current,or(Er,R?x&1|2:x&1),g):(Wi(g),null);case 22:case 23:return BI(),R=g.memoizedState!==null,f!==null&&f.memoizedState!==null!==R&&(g.flags|=8192),R&&(g.mode&1)!==0?(ys&1073741824)!==0&&(Wi(g),g.subtreeFlags&6&&(g.flags|=8192)):Wi(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function tle(f,g){switch(KP(g),g.tag){case 1:return Do(g.type)&&yE(),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return lm(),dr(No),dr(qi),aI(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 5:return oI(g),null;case 13:if(dr(Er),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(n(340));im()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return dr(Er),null;case 4:return lm(),null;case 10:return eI(g.type._context),null;case 22:case 23:return BI(),null;case 24:return null;default:return null}}var FE=!1,Gi=!1,nle=typeof WeakSet=="function"?WeakSet:Set,ft=null;function cm(f,g){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(R){kr(f,g,R)}else x.current=null}function AI(f,g,x){try{x()}catch(R){kr(f,g,R)}}var qV=!1;function rle(f,g){if(BP=_d,f=_B(),kP(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var R=x.getSelection&&x.getSelection();if(R&&R.rangeCount!==0){x=R.anchorNode;var B=R.anchorOffset,H=R.focusNode;R=R.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var Z=0,he=-1,pe=-1,Ee=0,Be=0,Ue=f,$e=null;t:for(;;){for(var at;Ue!==x||B!==0&&Ue.nodeType!==3||(he=Z+B),Ue!==H||R!==0&&Ue.nodeType!==3||(pe=Z+R),Ue.nodeType===3&&(Z+=Ue.nodeValue.length),(at=Ue.firstChild)!==null;)$e=Ue,Ue=at;for(;;){if(Ue===f)break t;if($e===x&&++Ee===B&&(he=Z),$e===H&&++Be===R&&(pe=Z),(at=Ue.nextSibling)!==null)break;Ue=$e,$e=Ue.parentNode}Ue=at}x=he===-1||pe===-1?null:{start:he,end:pe}}else x=null}x=x||{start:0,end:0}}else x=null;for(VP={focusedElem:f,selectionRange:x},_d=!1,ft=g;ft!==null;)if(g=ft,f=g.child,(g.subtreeFlags&1028)!==0&&f!==null)f.return=g,ft=f;else for(;ft!==null;){g=ft;try{var gt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var _t=gt.memoizedProps,Br=gt.memoizedState,_e=g.stateNode,me=_e.getSnapshotBeforeUpdate(g.elementType===g.type?_t:Ra(g.type,_t),Br);_e.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Se=g.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(We){kr(g,g.return,We)}if(f=g.sibling,f!==null){f.return=g.return,ft=f;break}ft=g.return}return gt=qV,qV=!1,gt}function eb(f,g,x){var R=g.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var B=R=R.next;do{if((B.tag&f)===f){var H=B.destroy;B.destroy=void 0,H!==void 0&&AI(g,x,H)}B=B.next}while(B!==R)}}function $E(f,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&f)===f){var R=x.create;x.destroy=R()}x=x.next}while(x!==g)}}function RI(f){var g=f.ref;if(g!==null){var x=f.stateNode;switch(f.tag){case 5:f=x;break;default:f=x}typeof g=="function"?g(f):g.current=f}}function jV(f){var g=f.alternate;g!==null&&(f.alternate=null,jV(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&(delete g[Rl],delete g[H0],delete g[qP],delete g[Bae],delete g[Vae])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function WV(f){return f.tag===5||f.tag===3||f.tag===4}function GV(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||WV(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function PI(f,g,x){var R=f.tag;if(R===5||R===6)f=f.stateNode,g?x.nodeType===8?x.parentNode.insertBefore(f,g):x.insertBefore(f,g):(x.nodeType===8?(g=x.parentNode,g.insertBefore(f,x)):(g=x,g.appendChild(f)),x=x._reactRootContainer,x!=null||g.onclick!==null||(g.onclick=gE));else if(R!==4&&(f=f.child,f!==null))for(PI(f,g,x),f=f.sibling;f!==null;)PI(f,g,x),f=f.sibling}function II(f,g,x){var R=f.tag;if(R===5||R===6)f=f.stateNode,g?x.insertBefore(f,g):x.appendChild(f);else if(R!==4&&(f=f.child,f!==null))for(II(f,g,x),f=f.sibling;f!==null;)II(f,g,x),f=f.sibling}var Ri=null,Pa=!1;function kd(f,g,x){for(x=x.child;x!==null;)KV(f,g,x),x=x.sibling}function KV(f,g,x){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(xl,x)}catch{}switch(x.tag){case 5:Gi||cm(x,g);case 6:var R=Ri,B=Pa;Ri=null,kd(f,g,x),Ri=R,Pa=B,Ri!==null&&(Pa?(f=Ri,x=x.stateNode,f.nodeType===8?f.parentNode.removeChild(x):f.removeChild(x)):Ri.removeChild(x.stateNode));break;case 18:Ri!==null&&(Pa?(f=Ri,x=x.stateNode,f.nodeType===8?HP(f.parentNode,x):f.nodeType===1&&HP(f,x),Ea(f)):HP(Ri,x.stateNode));break;case 4:R=Ri,B=Pa,Ri=x.stateNode.containerInfo,Pa=!0,kd(f,g,x),Ri=R,Pa=B;break;case 0:case 11:case 14:case 15:if(!Gi&&(R=x.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){B=R=R.next;do{var H=B,Z=H.destroy;H=H.tag,Z!==void 0&&((H&2)!==0||(H&4)!==0)&&AI(x,g,Z),B=B.next}while(B!==R)}kd(f,g,x);break;case 1:if(!Gi&&(cm(x,g),R=x.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=x.memoizedProps,R.state=x.memoizedState,R.componentWillUnmount()}catch(he){kr(x,g,he)}kd(f,g,x);break;case 21:kd(f,g,x);break;case 22:x.mode&1?(Gi=(R=Gi)||x.memoizedState!==null,kd(f,g,x),Gi=R):kd(f,g,x);break;default:kd(f,g,x)}}function YV(f){var g=f.updateQueue;if(g!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new nle),g.forEach(function(R){var B=fle.bind(null,f,R);x.has(R)||(x.add(R),R.then(B,B))})}}function Ia(f,g){var x=g.deletions;if(x!==null)for(var R=0;R<x.length;R++){var B=x[R];try{var H=f,Z=g,he=Z;e:for(;he!==null;){switch(he.tag){case 5:Ri=he.stateNode,Pa=!1;break e;case 3:Ri=he.stateNode.containerInfo,Pa=!0;break e;case 4:Ri=he.stateNode.containerInfo,Pa=!0;break e}he=he.return}if(Ri===null)throw Error(n(160));KV(H,Z,B),Ri=null,Pa=!1;var pe=B.alternate;pe!==null&&(pe.return=null),B.return=null}catch(Ee){kr(B,g,Ee)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)XV(g,f),g=g.sibling}function XV(f,g){var x=f.alternate,R=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Ia(g,f),kl(f),R&4){try{eb(3,f,f.return),$E(3,f)}catch(_t){kr(f,f.return,_t)}try{eb(5,f,f.return)}catch(_t){kr(f,f.return,_t)}}break;case 1:Ia(g,f),kl(f),R&512&&x!==null&&cm(x,x.return);break;case 5:if(Ia(g,f),kl(f),R&512&&x!==null&&cm(x,x.return),f.flags&32){var B=f.stateNode;try{Ze(B,"")}catch(_t){kr(f,f.return,_t)}}if(R&4&&(B=f.stateNode,B!=null)){var H=f.memoizedProps,Z=x!==null?x.memoizedProps:H,he=f.type,pe=f.updateQueue;if(f.updateQueue=null,pe!==null)try{he==="input"&&H.type==="radio"&&H.name!=null&&Ke(B,H),mn(he,Z);var Ee=mn(he,H);for(Z=0;Z<pe.length;Z+=2){var Be=pe[Z],Ue=pe[Z+1];Be==="style"?rn(B,Ue):Be==="dangerouslySetInnerHTML"?et(B,Ue):Be==="children"?Ze(B,Ue):S(B,Be,Ue,Ee)}switch(he){case"input":Ve(B,H);break;case"textarea":ot(B,H);break;case"select":var $e=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!H.multiple;var at=H.value;at!=null?wt(B,!!H.multiple,at,!1):$e!==!!H.multiple&&(H.defaultValue!=null?wt(B,!!H.multiple,H.defaultValue,!0):wt(B,!!H.multiple,H.multiple?[]:"",!1))}B[H0]=H}catch(_t){kr(f,f.return,_t)}}break;case 6:if(Ia(g,f),kl(f),R&4){if(f.stateNode===null)throw Error(n(162));B=f.stateNode,H=f.memoizedProps;try{B.nodeValue=H}catch(_t){kr(f,f.return,_t)}}break;case 3:if(Ia(g,f),kl(f),R&4&&x!==null&&x.memoizedState.isDehydrated)try{Ea(g.containerInfo)}catch(_t){kr(f,f.return,_t)}break;case 4:Ia(g,f),kl(f);break;case 13:Ia(g,f),kl(f),B=f.child,B.flags&8192&&(H=B.memoizedState!==null,B.stateNode.isHidden=H,!H||B.alternate!==null&&B.alternate.memoizedState!==null||(NI=Kn())),R&4&&YV(f);break;case 22:if(Be=x!==null&&x.memoizedState!==null,f.mode&1?(Gi=(Ee=Gi)||Be,Ia(g,f),Gi=Ee):Ia(g,f),kl(f),R&8192){if(Ee=f.memoizedState!==null,(f.stateNode.isHidden=Ee)&&!Be&&(f.mode&1)!==0)for(ft=f,Be=f.child;Be!==null;){for(Ue=ft=Be;ft!==null;){switch($e=ft,at=$e.child,$e.tag){case 0:case 11:case 14:case 15:eb(4,$e,$e.return);break;case 1:cm($e,$e.return);var gt=$e.stateNode;if(typeof gt.componentWillUnmount=="function"){R=$e,x=$e.return;try{g=R,gt.props=g.memoizedProps,gt.state=g.memoizedState,gt.componentWillUnmount()}catch(_t){kr(R,x,_t)}}break;case 5:cm($e,$e.return);break;case 22:if($e.memoizedState!==null){ZV(Ue);continue}}at!==null?(at.return=$e,ft=at):ZV(Ue)}Be=Be.sibling}e:for(Be=null,Ue=f;;){if(Ue.tag===5){if(Be===null){Be=Ue;try{B=Ue.stateNode,Ee?(H=B.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(he=Ue.stateNode,pe=Ue.memoizedProps.style,Z=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,he.style.display=$t("display",Z))}catch(_t){kr(f,f.return,_t)}}}else if(Ue.tag===6){if(Be===null)try{Ue.stateNode.nodeValue=Ee?"":Ue.memoizedProps}catch(_t){kr(f,f.return,_t)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===f)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===f)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===f)break e;Be===Ue&&(Be=null),Ue=Ue.return}Be===Ue&&(Be=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:Ia(g,f),kl(f),R&4&&YV(f);break;case 21:break;default:Ia(g,f),kl(f)}}function kl(f){var g=f.flags;if(g&2){try{e:{for(var x=f.return;x!==null;){if(WV(x)){var R=x;break e}x=x.return}throw Error(n(160))}switch(R.tag){case 5:var B=R.stateNode;R.flags&32&&(Ze(B,""),R.flags&=-33);var H=GV(f);II(f,H,B);break;case 3:case 4:var Z=R.stateNode.containerInfo,he=GV(f);PI(f,he,Z);break;default:throw Error(n(161))}}catch(pe){kr(f,f.return,pe)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function ile(f,g,x){ft=f,JV(f)}function JV(f,g,x){for(var R=(f.mode&1)!==0;ft!==null;){var B=ft,H=B.child;if(B.tag===22&&R){var Z=B.memoizedState!==null||FE;if(!Z){var he=B.alternate,pe=he!==null&&he.memoizedState!==null||Gi;he=FE;var Ee=Gi;if(FE=Z,(Gi=pe)&&!Ee)for(ft=B;ft!==null;)Z=ft,pe=Z.child,Z.tag===22&&Z.memoizedState!==null?ez(B):pe!==null?(pe.return=Z,ft=pe):ez(B);for(;H!==null;)ft=H,JV(H),H=H.sibling;ft=B,FE=he,Gi=Ee}QV(f)}else(B.subtreeFlags&8772)!==0&&H!==null?(H.return=B,ft=H):QV(f)}}function QV(f){for(;ft!==null;){var g=ft;if((g.flags&8772)!==0){var x=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Gi||$E(5,g);break;case 1:var R=g.stateNode;if(g.flags&4&&!Gi)if(x===null)R.componentDidMount();else{var B=g.elementType===g.type?x.memoizedProps:Ra(g.type,x.memoizedProps);R.componentDidUpdate(B,x.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var H=g.updateQueue;H!==null&&ZB(g,H,R);break;case 3:var Z=g.updateQueue;if(Z!==null){if(x=null,g.child!==null)switch(g.child.tag){case 5:x=g.child.stateNode;break;case 1:x=g.child.stateNode}ZB(g,Z,x)}break;case 5:var he=g.stateNode;if(x===null&&g.flags&4){x=he;var pe=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&x.focus();break;case"img":pe.src&&(x.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ee=g.alternate;if(Ee!==null){var Be=Ee.memoizedState;if(Be!==null){var Ue=Be.dehydrated;Ue!==null&&Ea(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Gi||g.flags&512&&RI(g)}catch($e){kr(g,g.return,$e)}}if(g===f){ft=null;break}if(x=g.sibling,x!==null){x.return=g.return,ft=x;break}ft=g.return}}function ZV(f){for(;ft!==null;){var g=ft;if(g===f){ft=null;break}var x=g.sibling;if(x!==null){x.return=g.return,ft=x;break}ft=g.return}}function ez(f){for(;ft!==null;){var g=ft;try{switch(g.tag){case 0:case 11:case 15:var x=g.return;try{$E(4,g)}catch(pe){kr(g,x,pe)}break;case 1:var R=g.stateNode;if(typeof R.componentDidMount=="function"){var B=g.return;try{R.componentDidMount()}catch(pe){kr(g,B,pe)}}var H=g.return;try{RI(g)}catch(pe){kr(g,H,pe)}break;case 5:var Z=g.return;try{RI(g)}catch(pe){kr(g,Z,pe)}}}catch(pe){kr(g,g.return,pe)}if(g===f){ft=null;break}var he=g.sibling;if(he!==null){he.return=g.return,ft=he;break}ft=g.return}}var ole=Math.ceil,BE=T.ReactCurrentDispatcher,kI=T.ReactCurrentOwner,Xs=T.ReactCurrentBatchConfig,Pn=0,vi=null,Wr=null,Pi=0,ys=0,dm=Td(0),si=0,tb=null,mh=0,VE=0,MI=0,nb=null,Oo=null,NI=0,fm=1/0,Xu=null,zE=!1,DI=null,Md=null,UE=!1,Nd=null,HE=0,rb=0,LI=null,qE=-1,jE=0;function yo(){return(Pn&6)!==0?Kn():qE!==-1?qE:qE=Kn()}function Dd(f){return(f.mode&1)===0?1:(Pn&2)!==0&&Pi!==0?Pi&-Pi:Uae.transition!==null?(jE===0&&(jE=$u()),jE):(f=vn,f!==0||(f=window.event,f=f===void 0?16:k0(f.type)),f)}function ka(f,g,x,R){if(50<rb)throw rb=0,LI=null,Error(n(185));vd(f,x,R),((Pn&2)===0||f!==vi)&&(f===vi&&((Pn&2)===0&&(VE|=x),si===4&&Ld(f,Pi)),Fo(f,R),x===1&&Pn===0&&(g.mode&1)===0&&(fm=Kn()+500,bE&&Rd()))}function Fo(f,g){var x=f.callbackNode;fs(f,g);var R=Fu(f,f===vi?Pi:0);if(R===0)x!==null&&nh(x),f.callbackNode=null,f.callbackPriority=0;else if(g=R&-R,f.callbackPriority!==g){if(x!=null&&nh(x),g===1)f.tag===0?zae(nz.bind(null,f)):zB(nz.bind(null,f)),Fae(function(){(Pn&6)===0&&Rd()}),x=null;else{switch(wd(R)){case 1:x=Ou;break;case 4:x=wl;break;case 16:x=Io;break;case 536870912:x=Ng;break;default:x=Io}x=cz(x,tz.bind(null,f))}f.callbackPriority=g,f.callbackNode=x}}function tz(f,g){if(qE=-1,jE=0,(Pn&6)!==0)throw Error(n(327));var x=f.callbackNode;if(hm()&&f.callbackNode!==x)return null;var R=Fu(f,f===vi?Pi:0);if(R===0)return null;if((R&30)!==0||(R&f.expiredLanes)!==0||g)g=WE(f,R);else{g=R;var B=Pn;Pn|=2;var H=iz();(vi!==f||Pi!==g)&&(Xu=null,fm=Kn()+500,vh(f,g));do try{lle();break}catch(he){rz(f,he)}while(!0);ZP(),BE.current=H,Pn=B,Wr!==null?g=0:(vi=null,Pi=0,g=si)}if(g!==0){if(g===2&&(B=po(f),B!==0&&(R=B,g=OI(f,B))),g===1)throw x=tb,vh(f,0),Ld(f,R),Fo(f,Kn()),x;if(g===6)Ld(f,R);else{if(B=f.current.alternate,(R&30)===0&&!sle(B)&&(g=WE(f,R),g===2&&(H=po(f),H!==0&&(R=H,g=OI(f,H))),g===1))throw x=tb,vh(f,0),Ld(f,R),Fo(f,Kn()),x;switch(f.finishedWork=B,f.finishedLanes=R,g){case 0:case 1:throw Error(n(345));case 2:bh(f,Oo,Xu);break;case 3:if(Ld(f,R),(R&130023424)===R&&(g=NI+500-Kn(),10<g)){if(Fu(f,0)!==0)break;if(B=f.suspendedLanes,(B&R)!==R){yo(),f.pingedLanes|=f.suspendedLanes&B;break}f.timeoutHandle=UP(bh.bind(null,f,Oo,Xu),g);break}bh(f,Oo,Xu);break;case 4:if(Ld(f,R),(R&4194240)===R)break;for(g=f.eventTimes,B=-1;0<R;){var Z=31-Ci(R);H=1<<Z,Z=g[Z],Z>B&&(B=Z),R&=~H}if(R=B,R=Kn()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*ole(R/1960))-R,10<R){f.timeoutHandle=UP(bh.bind(null,f,Oo,Xu),R);break}bh(f,Oo,Xu);break;case 5:bh(f,Oo,Xu);break;default:throw Error(n(329))}}}return Fo(f,Kn()),f.callbackNode===x?tz.bind(null,f):null}function OI(f,g){var x=nb;return f.current.memoizedState.isDehydrated&&(vh(f,g).flags|=256),f=WE(f,g),f!==2&&(g=Oo,Oo=x,g!==null&&FI(g)),f}function FI(f){Oo===null?Oo=f:Oo.push.apply(Oo,f)}function sle(f){for(var g=f;;){if(g.flags&16384){var x=g.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var R=0;R<x.length;R++){var B=x[R],H=B.getSnapshot;B=B.value;try{if(!Ta(H(),B))return!1}catch{return!1}}}if(x=g.child,g.subtreeFlags&16384&&x!==null)x.return=g,g=x;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ld(f,g){for(g&=~MI,g&=~VE,f.suspendedLanes|=g,f.pingedLanes&=~g,f=f.expirationTimes;0<g;){var x=31-Ci(g),R=1<<x;f[x]=-1,g&=~R}}function nz(f){if((Pn&6)!==0)throw Error(n(327));hm();var g=Fu(f,0);if((g&1)===0)return Fo(f,Kn()),null;var x=WE(f,g);if(f.tag!==0&&x===2){var R=po(f);R!==0&&(g=R,x=OI(f,R))}if(x===1)throw x=tb,vh(f,0),Ld(f,g),Fo(f,Kn()),x;if(x===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=g,bh(f,Oo,Xu),Fo(f,Kn()),null}function $I(f,g){var x=Pn;Pn|=1;try{return f(g)}finally{Pn=x,Pn===0&&(fm=Kn()+500,bE&&Rd())}}function yh(f){Nd!==null&&Nd.tag===0&&(Pn&6)===0&&hm();var g=Pn;Pn|=1;var x=Xs.transition,R=vn;try{if(Xs.transition=null,vn=1,f)return f()}finally{vn=R,Xs.transition=x,Pn=g,(Pn&6)===0&&Rd()}}function BI(){ys=dm.current,dr(dm)}function vh(f,g){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==-1&&(f.timeoutHandle=-1,Oae(x)),Wr!==null)for(x=Wr.return;x!==null;){var R=x;switch(KP(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&yE();break;case 3:lm(),dr(No),dr(qi),aI();break;case 5:oI(R);break;case 4:lm();break;case 13:dr(Er);break;case 19:dr(Er);break;case 10:eI(R.type._context);break;case 22:case 23:BI()}x=x.return}if(vi=f,Wr=f=Od(f.current,null),Pi=ys=g,si=0,tb=null,MI=VE=mh=0,Oo=nb=null,hh!==null){for(g=0;g<hh.length;g++)if(x=hh[g],R=x.interleaved,R!==null){x.interleaved=null;var B=R.next,H=x.pending;if(H!==null){var Z=H.next;H.next=B,R.next=Z}x.pending=R}hh=null}return f}function rz(f,g){do{var x=Wr;try{if(ZP(),PE.current=NE,IE){for(var R=Cr.memoizedState;R!==null;){var B=R.queue;B!==null&&(B.pending=null),R=R.next}IE=!1}if(gh=0,yi=oi=Cr=null,Y0=!1,X0=0,kI.current=null,x===null||x.return===null){si=1,tb=g,Wr=null;break}e:{var H=f,Z=x.return,he=x,pe=g;if(g=Pi,he.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ee=pe,Be=he,Ue=Be.tag;if((Be.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var $e=Be.alternate;$e?(Be.updateQueue=$e.updateQueue,Be.memoizedState=$e.memoizedState,Be.lanes=$e.lanes):(Be.updateQueue=null,Be.memoizedState=null)}var at=RV(Z);if(at!==null){at.flags&=-257,PV(at,Z,he,H,g),at.mode&1&&AV(H,Ee,g),g=at,pe=Ee;var gt=g.updateQueue;if(gt===null){var _t=new Set;_t.add(pe),g.updateQueue=_t}else gt.add(pe);break e}else{if((g&1)===0){AV(H,Ee,g),VI();break e}pe=Error(n(426))}}else if(yr&&he.mode&1){var Br=RV(Z);if(Br!==null){(Br.flags&65536)===0&&(Br.flags|=256),PV(Br,Z,he,H,g),JP(um(pe,he));break e}}H=pe=um(pe,he),si!==4&&(si=2),nb===null?nb=[H]:nb.push(H),H=Z;do{switch(H.tag){case 3:H.flags|=65536,g&=-g,H.lanes|=g;var _e=CV(H,pe,g);QB(H,_e);break e;case 1:he=pe;var me=H.type,Se=H.stateNode;if((H.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Md===null||!Md.has(Se)))){H.flags|=65536,g&=-g,H.lanes|=g;var We=TV(H,he,g);QB(H,We);break e}}H=H.return}while(H!==null)}sz(x)}catch(Et){g=Et,Wr===x&&x!==null&&(Wr=x=x.return);continue}break}while(!0)}function iz(){var f=BE.current;return BE.current=NE,f===null?NE:f}function VI(){(si===0||si===3||si===2)&&(si=4),vi===null||(mh&268435455)===0&&(VE&268435455)===0||Ld(vi,Pi)}function WE(f,g){var x=Pn;Pn|=2;var R=iz();(vi!==f||Pi!==g)&&(Xu=null,vh(f,g));do try{ale();break}catch(B){rz(f,B)}while(!0);if(ZP(),Pn=x,BE.current=R,Wr!==null)throw Error(n(261));return vi=null,Pi=0,si}function ale(){for(;Wr!==null;)oz(Wr)}function lle(){for(;Wr!==null&&!Ig();)oz(Wr)}function oz(f){var g=uz(f.alternate,f,ys);f.memoizedProps=f.pendingProps,g===null?sz(f):Wr=g,kI.current=null}function sz(f){var g=f;do{var x=g.alternate;if(f=g.return,(g.flags&32768)===0){if(x=ele(x,g,ys),x!==null){Wr=x;return}}else{if(x=tle(x,g),x!==null){x.flags&=32767,Wr=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{si=6,Wr=null;return}}if(g=g.sibling,g!==null){Wr=g;return}Wr=g=f}while(g!==null);si===0&&(si=5)}function bh(f,g,x){var R=vn,B=Xs.transition;try{Xs.transition=null,vn=1,ule(f,g,x,R)}finally{Xs.transition=B,vn=R}return null}function ule(f,g,x,R){do hm();while(Nd!==null);if((Pn&6)!==0)throw Error(n(327));x=f.finishedWork;var B=f.finishedLanes;if(x===null)return null;if(f.finishedWork=null,f.finishedLanes=0,x===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var H=x.lanes|x.childLanes;if(er(f,H),f===vi&&(Wr=vi=null,Pi=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||UE||(UE=!0,cz(Io,function(){return hm(),null})),H=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||H){H=Xs.transition,Xs.transition=null;var Z=vn;vn=1;var he=Pn;Pn|=4,kI.current=null,rle(f,x),XV(x,f),Pae(VP),_d=!!BP,VP=BP=null,f.current=x,ile(x),kg(),Pn=he,vn=Z,Xs.transition=H}else f.current=x;if(UE&&(UE=!1,Nd=f,HE=B),H=f.pendingLanes,H===0&&(Md=null),Dg(x.stateNode),Fo(f,Kn()),g!==null)for(R=f.onRecoverableError,x=0;x<g.length;x++)B=g[x],R(B.value,{componentStack:B.stack,digest:B.digest});if(zE)throw zE=!1,f=DI,DI=null,f;return(HE&1)!==0&&f.tag!==0&&hm(),H=f.pendingLanes,(H&1)!==0?f===LI?rb++:(rb=0,LI=f):rb=0,Rd(),null}function hm(){if(Nd!==null){var f=wd(HE),g=Xs.transition,x=vn;try{if(Xs.transition=null,vn=16>f?16:f,Nd===null)var R=!1;else{if(f=Nd,Nd=null,HE=0,(Pn&6)!==0)throw Error(n(331));var B=Pn;for(Pn|=4,ft=f.current;ft!==null;){var H=ft,Z=H.child;if((ft.flags&16)!==0){var he=H.deletions;if(he!==null){for(var pe=0;pe<he.length;pe++){var Ee=he[pe];for(ft=Ee;ft!==null;){var Be=ft;switch(Be.tag){case 0:case 11:case 15:eb(8,Be,H)}var Ue=Be.child;if(Ue!==null)Ue.return=Be,ft=Ue;else for(;ft!==null;){Be=ft;var $e=Be.sibling,at=Be.return;if(jV(Be),Be===Ee){ft=null;break}if($e!==null){$e.return=at,ft=$e;break}ft=at}}}var gt=H.alternate;if(gt!==null){var _t=gt.child;if(_t!==null){gt.child=null;do{var Br=_t.sibling;_t.sibling=null,_t=Br}while(_t!==null)}}ft=H}}if((H.subtreeFlags&2064)!==0&&Z!==null)Z.return=H,ft=Z;else e:for(;ft!==null;){if(H=ft,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:eb(9,H,H.return)}var _e=H.sibling;if(_e!==null){_e.return=H.return,ft=_e;break e}ft=H.return}}var me=f.current;for(ft=me;ft!==null;){Z=ft;var Se=Z.child;if((Z.subtreeFlags&2064)!==0&&Se!==null)Se.return=Z,ft=Se;else e:for(Z=me;ft!==null;){if(he=ft,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:$E(9,he)}}catch(Et){kr(he,he.return,Et)}if(he===Z){ft=null;break e}var We=he.sibling;if(We!==null){We.return=he.return,ft=We;break e}ft=he.return}}if(Pn=B,Rd(),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(xl,f)}catch{}R=!0}return R}finally{vn=x,Xs.transition=g}}return!1}function az(f,g,x){g=um(x,g),g=CV(f,g,1),f=Id(f,g,1),g=yo(),f!==null&&(vd(f,1,g),Fo(f,g))}function kr(f,g,x){if(f.tag===3)az(f,f,x);else for(;g!==null;){if(g.tag===3){az(g,f,x);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Md===null||!Md.has(R))){f=um(x,f),f=TV(g,f,1),g=Id(g,f,1),f=yo(),g!==null&&(vd(g,1,f),Fo(g,f));break}}g=g.return}}function cle(f,g,x){var R=f.pingCache;R!==null&&R.delete(g),g=yo(),f.pingedLanes|=f.suspendedLanes&x,vi===f&&(Pi&x)===x&&(si===4||si===3&&(Pi&130023424)===Pi&&500>Kn()-NI?vh(f,0):MI|=x),Fo(f,g)}function lz(f,g){g===0&&((f.mode&1)===0?g=1:(g=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var x=yo();f=Gu(f,g),f!==null&&(vd(f,g,x),Fo(f,x))}function dle(f){var g=f.memoizedState,x=0;g!==null&&(x=g.retryLane),lz(f,x)}function fle(f,g){var x=0;switch(f.tag){case 13:var R=f.stateNode,B=f.memoizedState;B!==null&&(x=B.retryLane);break;case 19:R=f.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(g),lz(f,x)}var uz;uz=function(f,g,x){if(f!==null)if(f.memoizedProps!==g.pendingProps||No.current)Lo=!0;else{if((f.lanes&x)===0&&(g.flags&128)===0)return Lo=!1,Zae(f,g,x);Lo=(f.flags&131072)!==0}else Lo=!1,yr&&(g.flags&1048576)!==0&&UB(g,xE,g.index);switch(g.lanes=0,g.tag){case 2:var R=g.type;OE(f,g),f=g.pendingProps;var B=tm(g,qi.current);am(g,x),B=cI(null,g,R,f,B,x);var H=dI();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Do(R)?(H=!0,vE(g)):H=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,rI(g),B.updater=DE,g.stateNode=B,B._reactInternals=g,yI(g,R,f,x),g=xI(null,g,R,!0,H,x)):(g.tag=0,yr&&H&&GP(g),mo(null,g,B,x),g=g.child),g;case 16:R=g.elementType;e:{switch(OE(f,g),f=g.pendingProps,B=R._init,R=B(R._payload),g.type=R,B=g.tag=ple(R),f=Ra(R,f),B){case 0:g=wI(null,g,R,f,x);break e;case 1:g=LV(null,g,R,f,x);break e;case 11:g=IV(null,g,R,f,x);break e;case 14:g=kV(null,g,R,Ra(R.type,f),x);break e}throw Error(n(306,R,""))}return g;case 0:return R=g.type,B=g.pendingProps,B=g.elementType===R?B:Ra(R,B),wI(f,g,R,B,x);case 1:return R=g.type,B=g.pendingProps,B=g.elementType===R?B:Ra(R,B),LV(f,g,R,B,x);case 3:e:{if(OV(g),f===null)throw Error(n(387));R=g.pendingProps,H=g.memoizedState,B=H.element,JB(f,g),AE(g,R,null,x);var Z=g.memoizedState;if(R=Z.element,H.isDehydrated)if(H={element:R,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},g.updateQueue.baseState=H,g.memoizedState=H,g.flags&256){B=um(Error(n(423)),g),g=FV(f,g,R,x,B);break e}else if(R!==B){B=um(Error(n(424)),g),g=FV(f,g,R,x,B);break e}else for(ms=Cd(g.stateNode.containerInfo.firstChild),gs=g,yr=!0,Aa=null,x=YB(g,null,R,x),g.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(im(),R===B){g=Yu(f,g,x);break e}mo(f,g,R,x)}g=g.child}return g;case 5:return eV(g),f===null&&XP(g),R=g.type,B=g.pendingProps,H=f!==null?f.memoizedProps:null,Z=B.children,zP(R,B)?Z=null:H!==null&&zP(R,H)&&(g.flags|=32),DV(f,g),mo(f,g,Z,x),g.child;case 6:return f===null&&XP(g),null;case 13:return $V(f,g,x);case 4:return iI(g,g.stateNode.containerInfo),R=g.pendingProps,f===null?g.child=om(g,null,R,x):mo(f,g,R,x),g.child;case 11:return R=g.type,B=g.pendingProps,B=g.elementType===R?B:Ra(R,B),IV(f,g,R,B,x);case 7:return mo(f,g,g.pendingProps,x),g.child;case 8:return mo(f,g,g.pendingProps.children,x),g.child;case 12:return mo(f,g,g.pendingProps.children,x),g.child;case 10:e:{if(R=g.type._context,B=g.pendingProps,H=g.memoizedProps,Z=B.value,or(EE,R._currentValue),R._currentValue=Z,H!==null)if(Ta(H.value,Z)){if(H.children===B.children&&!No.current){g=Yu(f,g,x);break e}}else for(H=g.child,H!==null&&(H.return=g);H!==null;){var he=H.dependencies;if(he!==null){Z=H.child;for(var pe=he.firstContext;pe!==null;){if(pe.context===R){if(H.tag===1){pe=Ku(-1,x&-x),pe.tag=2;var Ee=H.updateQueue;if(Ee!==null){Ee=Ee.shared;var Be=Ee.pending;Be===null?pe.next=pe:(pe.next=Be.next,Be.next=pe),Ee.pending=pe}}H.lanes|=x,pe=H.alternate,pe!==null&&(pe.lanes|=x),tI(H.return,x,g),he.lanes|=x;break}pe=pe.next}}else if(H.tag===10)Z=H.type===g.type?null:H.child;else if(H.tag===18){if(Z=H.return,Z===null)throw Error(n(341));Z.lanes|=x,he=Z.alternate,he!==null&&(he.lanes|=x),tI(Z,x,g),Z=H.sibling}else Z=H.child;if(Z!==null)Z.return=H;else for(Z=H;Z!==null;){if(Z===g){Z=null;break}if(H=Z.sibling,H!==null){H.return=Z.return,Z=H;break}Z=Z.return}H=Z}mo(f,g,B.children,x),g=g.child}return g;case 9:return B=g.type,R=g.pendingProps.children,am(g,x),B=Ks(B),R=R(B),g.flags|=1,mo(f,g,R,x),g.child;case 14:return R=g.type,B=Ra(R,g.pendingProps),B=Ra(R.type,B),kV(f,g,R,B,x);case 15:return MV(f,g,g.type,g.pendingProps,x);case 17:return R=g.type,B=g.pendingProps,B=g.elementType===R?B:Ra(R,B),OE(f,g),g.tag=1,Do(R)?(f=!0,vE(g)):f=!1,am(g,x),SV(g,R,B),yI(g,R,B,x),xI(null,g,R,!0,f,x);case 19:return VV(f,g,x);case 22:return NV(f,g,x)}throw Error(n(156,g.tag))};function cz(f,g){return md(f,g)}function hle(f,g,x,R){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(f,g,x,R){return new hle(f,g,x,R)}function zI(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ple(f){if(typeof f=="function")return zI(f)?1:0;if(f!=null){if(f=f.$$typeof,f===V)return 11;if(f===G)return 14}return 2}function Od(f,g){var x=f.alternate;return x===null?(x=Js(f.tag,g,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=g,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,g=f.dependencies,x.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function GE(f,g,x,R,B,H){var Z=2;if(R=f,typeof f=="function")zI(f)&&(Z=1);else if(typeof f=="string")Z=5;else e:switch(f){case P:return wh(x.children,B,H,g);case M:Z=8,B|=8;break;case D:return f=Js(12,x,g,B|2),f.elementType=D,f.lanes=H,f;case $:return f=Js(13,x,g,B),f.elementType=$,f.lanes=H,f;case z:return f=Js(19,x,g,B),f.elementType=z,f.lanes=H,f;case J:return KE(x,B,H,g);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case k:Z=10;break e;case L:Z=9;break e;case V:Z=11;break e;case G:Z=14;break e;case K:Z=16,R=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return g=Js(Z,x,g,B),g.elementType=f,g.type=R,g.lanes=H,g}function wh(f,g,x,R){return f=Js(7,f,R,g),f.lanes=x,f}function KE(f,g,x,R){return f=Js(22,f,R,g),f.elementType=J,f.lanes=x,f.stateNode={isHidden:!1},f}function UI(f,g,x){return f=Js(6,f,null,g),f.lanes=x,f}function HI(f,g,x){return g=Js(4,f.children!==null?f.children:[],f.key,g),g.lanes=x,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}function gle(f,g,x,R,B){this.tag=g,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=R,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function qI(f,g,x,R,B,H,Z,he,pe){return f=new gle(f,g,x,he,pe),g===1?(g=1,H===!0&&(g|=8)):g=0,H=Js(3,null,null,g),f.current=H,H.stateNode=f,H.memoizedState={element:R,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},rI(H),f}function mle(f,g,x){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:R==null?null:""+R,children:f,containerInfo:g,implementation:x}}function dz(f){if(!f)return Ad;f=f._reactInternals;e:{if(Ro(f)!==f||f.tag!==1)throw Error(n(170));var g=f;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Do(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(f.tag===1){var x=f.type;if(Do(x))return BB(f,x,g)}return g}function fz(f,g,x,R,B,H,Z,he,pe){return f=qI(x,R,!0,f,B,H,Z,he,pe),f.context=dz(null),x=f.current,R=yo(),B=Dd(x),H=Ku(R,B),H.callback=g??null,Id(x,H,B),f.current.lanes=B,vd(f,B,R),Fo(f,R),f}function YE(f,g,x,R){var B=g.current,H=yo(),Z=Dd(B);return x=dz(x),g.context===null?g.context=x:g.pendingContext=x,g=Ku(H,Z),g.payload={element:f},R=R===void 0?null:R,R!==null&&(g.callback=R),f=Id(B,g,Z),f!==null&&(ka(f,B,Z,H),TE(f,B,Z)),Z}function XE(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function hz(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<g?x:g}}function jI(f,g){hz(f,g),(f=f.alternate)&&hz(f,g)}function yle(){return null}var pz=typeof reportError=="function"?reportError:function(f){console.error(f)};function WI(f){this._internalRoot=f}JE.prototype.render=WI.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(n(409));YE(f,g,null,null)},JE.prototype.unmount=WI.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;yh(function(){YE(null,f,null,null)}),g[Hu]=null}};function JE(f){this._internalRoot=f}JE.prototype.unstable_scheduleHydration=function(f){if(f){var g=JS();f={blockedOn:null,target:f,priority:g};for(var x=0;x<El.length&&g!==0&&g<El[x].priority;x++);El.splice(x,0,f),x===0&&eE(f)}};function GI(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function QE(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function gz(){}function vle(f,g,x,R,B){if(B){if(typeof R=="function"){var H=R;R=function(){var Ee=XE(Z);H.call(Ee)}}var Z=fz(g,R,f,0,null,!1,!1,"",gz);return f._reactRootContainer=Z,f[Hu]=Z.current,z0(f.nodeType===8?f.parentNode:f),yh(),Z}for(;B=f.lastChild;)f.removeChild(B);if(typeof R=="function"){var he=R;R=function(){var Ee=XE(pe);he.call(Ee)}}var pe=qI(f,0,!1,null,null,!1,!1,"",gz);return f._reactRootContainer=pe,f[Hu]=pe.current,z0(f.nodeType===8?f.parentNode:f),yh(function(){YE(g,pe,x,R)}),pe}function ZE(f,g,x,R,B){var H=x._reactRootContainer;if(H){var Z=H;if(typeof B=="function"){var he=B;B=function(){var pe=XE(Z);he.call(pe)}}YE(g,Z,f,B)}else Z=vle(x,g,f,B,R);return XE(Z)}YS=function(f){switch(f.tag){case 3:var g=f.stateNode;if(g.current.memoizedState.isDehydrated){var x=_l(g.pendingLanes);x!==0&&(bd(g,x|1),Fo(g,Kn()),(Pn&6)===0&&(fm=Kn()+500,Rd()))}break;case 13:yh(function(){var R=Gu(f,1);if(R!==null){var B=yo();ka(R,f,1,B)}}),jI(f,1)}},Fg=function(f){if(f.tag===13){var g=Gu(f,134217728);if(g!==null){var x=yo();ka(g,f,134217728,x)}jI(f,134217728)}},XS=function(f){if(f.tag===13){var g=Dd(f),x=Gu(f,g);if(x!==null){var R=yo();ka(x,f,g,R)}jI(f,g)}},JS=function(){return vn},QS=function(f,g){var x=vn;try{return vn=f,g()}finally{vn=x}},xt=function(f,g,x){switch(g){case"input":if(Ve(f,x),g=x.name,x.type==="radio"&&g!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<x.length;g++){var R=x[g];if(R!==f&&R.form===f.form){var B=mE(R);if(!B)throw Error(n(90));we(R),Ve(R,B)}}}break;case"textarea":ot(f,x);break;case"select":g=x.value,g!=null&&wt(f,!!x.multiple,g,!1)}},Mn=$I,Bt=yh;var ble={usingClientEntryPoint:!1,Events:[q0,Zg,mE,kn,Zn,$I]},ib={findFiberByHostInstance:uh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wle={bundleType:ib.bundleType,version:ib.version,rendererPackageName:ib.rendererPackageName,rendererConfig:ib.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=th(f),f===null?null:f.stateNode},findFiberByHostInstance:ib.findFiberByHostInstance||yle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e1.isDisabled&&e1.supportsFiber)try{xl=e1.inject(wle),ho=e1}catch{}}return $o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ble,$o.createPortal=function(f,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GI(g))throw Error(n(200));return mle(f,g,null,x)},$o.createRoot=function(f,g){if(!GI(f))throw Error(n(299));var x=!1,R="",B=pz;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),g=qI(f,1,!1,null,null,x,!1,R,B),f[Hu]=g.current,z0(f.nodeType===8?f.parentNode:f),new WI(g)},$o.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=th(g),f=f===null?null:f.stateNode,f},$o.flushSync=function(f){return yh(f)},$o.hydrate=function(f,g,x){if(!QE(g))throw Error(n(200));return ZE(null,f,g,!0,x)},$o.hydrateRoot=function(f,g,x){if(!GI(f))throw Error(n(405));var R=x!=null&&x.hydratedSources||null,B=!1,H="",Z=pz;if(x!=null&&(x.unstable_strictMode===!0&&(B=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onRecoverableError!==void 0&&(Z=x.onRecoverableError)),g=fz(g,null,f,1,x??null,B,!1,H,Z),f[Hu]=g.current,z0(f),R)for(f=0;f<R.length;f++)x=R[f],B=x._getVersion,B=B(x._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[x,B]:g.mutableSourceEagerHydrationData.push(x,B);return new JE(g)},$o.render=function(f,g,x){if(!QE(g))throw Error(n(200));return ZE(null,f,g,!1,x)},$o.unmountComponentAtNode=function(f){if(!QE(f))throw Error(n(40));return f._reactRootContainer?(yh(function(){ZE(null,null,f,!1,function(){f._reactRootContainer=null,f[Hu]=null})}),!0):!1},$o.unstable_batchedUpdates=$I,$o.unstable_renderSubtreeIntoContainer=function(f,g,x,R){if(!QE(x))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return ZE(f,g,x,!1,R)},$o.version="18.3.1-next-f1338f8080-20240426",$o}var Ez;function VA(){if(Ez)return JI.exports;Ez=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),JI.exports=Mle(),JI.exports}var Cz;function Nle(){if(Cz)return t1;Cz=1;var t=VA();return t1.createRoot=t.createRoot,t1.hydrateRoot=t.hydrateRoot,t1}var pX=Nle();function ri(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=ri(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Dle={value:()=>{}};function zA(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rC(n)}function rC(t){this._=t}function Lle(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rC.prototype=zA.prototype={constructor:rC,on:function(t,e){var n=this._,r=Lle(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Ole(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Tz(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Tz(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rC(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ole(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Tz(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Dle,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yL="http://www.w3.org/1999/xhtml";const Az={svg:"http://www.w3.org/2000/svg",xhtml:yL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function UA(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Az.hasOwnProperty(e)?{space:Az[e],local:t}:t}function Fle(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yL&&e.documentElement.namespaceURI===yL?e.createElement(t):e.createElementNS(n,t)}}function $le(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gX(t){var e=UA(t);return(e.local?$le:Fle)(e)}function Ble(){}function L$(t){return t==null?Ble:function(){return this.querySelector(t)}}function Vle(t){typeof t!="function"&&(t=L$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Vs(r,this._parents)}function zle(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ule(){return[]}function mX(t){return t==null?Ule:function(){return this.querySelectorAll(t)}}function Hle(t){return function(){return zle(t.apply(this,arguments))}}function qle(t){typeof t=="function"?t=Hle(t):t=mX(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new Vs(r,i)}function yX(t){return function(){return this.matches(t)}}function vX(t){return function(e){return e.matches(t)}}var jle=Array.prototype.find;function Wle(t){return function(){return jle.call(this.children,t)}}function Gle(){return this.firstElementChild}function Kle(t){return this.select(t==null?Gle:Wle(typeof t=="function"?t:vX(t)))}var Yle=Array.prototype.filter;function Xle(){return Array.from(this.children)}function Jle(t){return function(){return Yle.call(this.children,t)}}function Qle(t){return this.selectAll(t==null?Xle:Jle(typeof t=="function"?t:vX(t)))}function Zle(t){typeof t!="function"&&(t=yX(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Vs(r,this._parents)}function bX(t){return new Array(t.length)}function eue(){return new Vs(this._enter||this._groups.map(bX),this._parents)}function sT(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}sT.prototype={constructor:sT,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tue(t){return function(){return t}}function nue(t,e,n,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new sT(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function rue(t,e,n,r,i,o,s){var a,l,u=new Map,c=e.length,d=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(h[a]=p=s.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=s.call(t,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new sT(t,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function iue(t){return t.__data__}function oue(t,e){if(!arguments.length)return Array.from(this,iue);var n=e?rue:nue,r=this._parents,i=this._groups;typeof t!="function"&&(t=tue(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],h=d.length,p=sue(t.call(c,c&&c.__data__,u,r)),m=p.length,y=a[u]=new Array(m),w=s[u]=new Array(m),_=l[u]=new Array(h);n(c,d,y,w,_,p,e);for(var E=0,S=0,T,I;E<m;++E)if(T=y[E]){for(E>=S&&(S=E+1);!(I=w[S])&&++S<m;);T._next=I||null}}return s=new Vs(s,r),s._enter=a,s._exit=l,s}function sue(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aue(){return new Vs(this._exit||this._groups.map(bX),this._parents)}function lue(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function uue(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,h=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(h[m]=p);for(;l<i;++l)a[l]=n[l];return new Vs(a,this._parents)}function cue(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function due(t){t||(t=fue);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new Vs(i,this._parents).order()}function fue(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hue(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pue(){return Array.from(this)}function gue(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function mue(){let t=0;for(const e of this)++t;return t}function yue(){return!this.node()}function vue(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function bue(t){return function(){this.removeAttribute(t)}}function wue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xue(t,e){return function(){this.setAttribute(t,e)}}function _ue(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Sue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Eue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Cue(t,e){var n=UA(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?wue:bue:typeof e=="function"?n.local?Eue:Sue:n.local?_ue:xue)(n,e))}function wX(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Tue(t){return function(){this.style.removeProperty(t)}}function Aue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Rue(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Pue(t,e,n){return arguments.length>1?this.each((e==null?Tue:typeof e=="function"?Rue:Aue)(t,e,n??"")):Sv(this.node(),t)}function Sv(t,e){return t.style.getPropertyValue(e)||wX(t).getComputedStyle(t,null).getPropertyValue(e)}function Iue(t){return function(){delete this[t]}}function kue(t,e){return function(){this[t]=e}}function Mue(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Nue(t,e){return arguments.length>1?this.each((e==null?Iue:typeof e=="function"?Mue:kue)(t,e)):this.node()[t]}function xX(t){return t.trim().split(/^|\s+/)}function O$(t){return t.classList||new _X(t)}function _X(t){this._node=t,this._names=xX(t.getAttribute("class")||"")}_X.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function SX(t,e){for(var n=O$(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function EX(t,e){for(var n=O$(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Due(t){return function(){SX(this,t)}}function Lue(t){return function(){EX(this,t)}}function Oue(t,e){return function(){(e.apply(this,arguments)?SX:EX)(this,t)}}function Fue(t,e){var n=xX(t+"");if(arguments.length<2){for(var r=O$(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Oue:e?Due:Lue)(n,e))}function $ue(){this.textContent=""}function Bue(t){return function(){this.textContent=t}}function Vue(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zue(t){return arguments.length?this.each(t==null?$ue:(typeof t=="function"?Vue:Bue)(t)):this.node().textContent}function Uue(){this.innerHTML=""}function Hue(t){return function(){this.innerHTML=t}}function que(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function jue(t){return arguments.length?this.each(t==null?Uue:(typeof t=="function"?que:Hue)(t)):this.node().innerHTML}function Wue(){this.nextSibling&&this.parentNode.appendChild(this)}function Gue(){return this.each(Wue)}function Kue(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yue(){return this.each(Kue)}function Xue(t){var e=typeof t=="function"?t:gX(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Jue(){return null}function Que(t,e){var n=typeof t=="function"?t:gX(t),r=e==null?Jue:typeof e=="function"?e:L$(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zue(){var t=this.parentNode;t&&t.removeChild(this)}function ece(){return this.each(Zue)}function tce(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nce(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rce(t){return this.select(t?nce:tce)}function ice(t){return arguments.length?this.property("__data__",t):this.node().__data__}function oce(t){return function(e){t.call(this,e,this.__data__)}}function sce(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ace(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function lce(t,e,n){return function(){var r=this.__on,i,o=oce(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function uce(t,e,n){var r=sce(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?lce:ace,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function CX(t,e,n){var r=wX(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cce(t,e){return function(){return CX(this,t,e)}}function dce(t,e){return function(){return CX(this,t,e.apply(this,arguments))}}function fce(t,e){return this.each((typeof e=="function"?dce:cce)(t,e))}function*hce(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var TX=[null];function Vs(t,e){this._groups=t,this._parents=e}function aS(){return new Vs([[document.documentElement]],TX)}function pce(){return this}Vs.prototype=aS.prototype={constructor:Vs,select:Vle,selectAll:qle,selectChild:Kle,selectChildren:Qle,filter:Zle,data:oue,enter:eue,exit:aue,join:lue,merge:uue,selection:pce,order:cue,sort:due,call:hue,nodes:pue,node:gue,size:mue,empty:yue,each:vue,attr:Cue,style:Pue,property:Nue,classed:Fue,text:zue,html:jue,raise:Gue,lower:Yue,append:Xue,insert:Que,remove:ece,clone:rce,datum:ice,on:uce,dispatch:fce,[Symbol.iterator]:hce};function Vi(t){return typeof t=="string"?new Vs([[document.querySelector(t)]],[document.documentElement]):new Vs([[t]],TX)}function gce(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Qa(t,e){if(t=gce(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const mce={passive:!1},Hw={capture:!0,passive:!1};function ek(t){t.stopImmediatePropagation()}function gy(t){t.preventDefault(),t.stopImmediatePropagation()}function AX(t){var e=t.document.documentElement,n=Vi(t).on("dragstart.drag",gy,Hw);"onselectstart"in e?n.on("selectstart.drag",gy,Hw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function RX(t,e){var n=t.document.documentElement,r=Vi(t).on("dragstart.drag",null);e&&(r.on("click.drag",gy,Hw),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const n1=t=>()=>t;function vL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}vL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function yce(t){return!t.ctrlKey&&!t.button}function vce(){return this.parentNode}function bce(t,e){return e??{x:t.x,y:t.y}}function wce(){return navigator.maxTouchPoints||"ontouchstart"in this}function PX(){var t=yce,e=vce,n=bce,r=wce,i={},o=zA("start","drag","end"),s=0,a,l,u,c,d=0;function h(T){T.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",_,mce).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(T,I){if(!(c||!t.call(this,T,I))){var N=S(this,e.call(this,T,I),T,I,"mouse");N&&(Vi(T.view).on("mousemove.drag",m,Hw).on("mouseup.drag",y,Hw),AX(T.view),ek(T),u=!1,a=T.clientX,l=T.clientY,N("start",T))}}function m(T){if(gy(T),!u){var I=T.clientX-a,N=T.clientY-l;u=I*I+N*N>d}i.mouse("drag",T)}function y(T){Vi(T.view).on("mousemove.drag mouseup.drag",null),RX(T.view,u),gy(T),i.mouse("end",T)}function w(T,I){if(t.call(this,T,I)){var N=T.changedTouches,P=e.call(this,T,I),M=N.length,D,k;for(D=0;D<M;++D)(k=S(this,P,T,I,N[D].identifier,N[D]))&&(ek(T),k("start",T,N[D]))}}function _(T){var I=T.changedTouches,N=I.length,P,M;for(P=0;P<N;++P)(M=i[I[P].identifier])&&(gy(T),M("drag",T,I[P]))}function E(T){var I=T.changedTouches,N=I.length,P,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),P=0;P<N;++P)(M=i[I[P].identifier])&&(ek(T),M("end",T,I[P]))}function S(T,I,N,P,M,D){var k=o.copy(),L=Qa(D||N,I),V,$,z;if((z=n.call(T,new vL("beforestart",{sourceEvent:N,target:h,identifier:M,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:k}),P))!=null)return V=z.x-L[0]||0,$=z.y-L[1]||0,function G(K,J,ee){var X=L,j;switch(K){case"start":i[M]=G,j=s++;break;case"end":delete i[M],--s;case"drag":L=Qa(ee||J,I),j=s;break}k.call(K,T,new vL(K,{sourceEvent:J,subject:z,target:h,identifier:M,active:j,x:L[0]+V,y:L[1]+$,dx:L[0]-X[0],dy:L[1]-X[1],dispatch:k}),P)}}return h.filter=function(T){return arguments.length?(t=typeof T=="function"?T:n1(!!T),h):t},h.container=function(T){return arguments.length?(e=typeof T=="function"?T:n1(T),h):e},h.subject=function(T){return arguments.length?(n=typeof T=="function"?T:n1(T),h):n},h.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:n1(!!T),h):r},h.on=function(){var T=o.on.apply(o,arguments);return T===o?h:T},h.clickDistance=function(T){return arguments.length?(d=(T=+T)*T,h):Math.sqrt(d)},h}function F$(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function IX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function lS(){}var qw=.7,aT=1/qw,my="\\s*([+-]?\\d+)\\s*",jw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xce=/^#([0-9a-f]{3,8})$/,_ce=new RegExp(`^rgb\\(${my},${my},${my}\\)$`),Sce=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),Ece=new RegExp(`^rgba\\(${my},${my},${my},${jw}\\)$`),Cce=new RegExp(`^rgba\\(${pu},${pu},${pu},${jw}\\)$`),Tce=new RegExp(`^hsl\\(${jw},${pu},${pu}\\)$`),Ace=new RegExp(`^hsla\\(${jw},${pu},${pu},${jw}\\)$`),Rz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F$(lS,$p,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pz,formatHex:Pz,formatHex8:Rce,formatHsl:Pce,formatRgb:Iz,toString:Iz});function Pz(){return this.rgb().formatHex()}function Rce(){return this.rgb().formatHex8()}function Pce(){return kX(this).formatHsl()}function Iz(){return this.rgb().formatRgb()}function $p(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kz(e):n===3?new Xo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?r1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?r1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_ce.exec(t))?new Xo(e[1],e[2],e[3],1):(e=Sce.exec(t))?new Xo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ece.exec(t))?r1(e[1],e[2],e[3],e[4]):(e=Cce.exec(t))?r1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tce.exec(t))?Dz(e[1],e[2]/100,e[3]/100,1):(e=Ace.exec(t))?Dz(e[1],e[2]/100,e[3]/100,e[4]):Rz.hasOwnProperty(t)?kz(Rz[t]):t==="transparent"?new Xo(NaN,NaN,NaN,0):null}function kz(t){return new Xo(t>>16&255,t>>8&255,t&255,1)}function r1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xo(t,e,n,r)}function Ice(t){return t instanceof lS||(t=$p(t)),t?(t=t.rgb(),new Xo(t.r,t.g,t.b,t.opacity)):new Xo}function bL(t,e,n,r){return arguments.length===1?Ice(t):new Xo(t,e,n,r??1)}function Xo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}F$(Xo,bL,IX(lS,{brighter(t){return t=t==null?aT:Math.pow(aT,t),new Xo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qw:Math.pow(qw,t),new Xo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xo(Dp(this.r),Dp(this.g),Dp(this.b),lT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mz,formatHex:Mz,formatHex8:kce,formatRgb:Nz,toString:Nz}));function Mz(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}`}function kce(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}${Dh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nz(){const t=lT(this.opacity);return`${t===1?"rgb(":"rgba("}${Dp(this.r)}, ${Dp(this.g)}, ${Dp(this.b)}${t===1?")":`, ${t})`}`}function lT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dh(t){return t=Dp(t),(t<16?"0":"")+t.toString(16)}function Dz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new el(t,e,n,r)}function kX(t){if(t instanceof el)return new el(t.h,t.s,t.l,t.opacity);if(t instanceof lS||(t=$p(t)),!t)return new el;if(t instanceof el)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new el(s,a,l,t.opacity)}function Mce(t,e,n,r){return arguments.length===1?kX(t):new el(t,e,n,r??1)}function el(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}F$(el,Mce,IX(lS,{brighter(t){return t=t==null?aT:Math.pow(aT,t),new el(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qw:Math.pow(qw,t),new el(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xo(tk(t>=240?t-240:t+120,i,r),tk(t,i,r),tk(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new el(Lz(this.h),i1(this.s),i1(this.l),lT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lT(this.opacity);return`${t===1?"hsl(":"hsla("}${Lz(this.h)}, ${i1(this.s)*100}%, ${i1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lz(t){return t=(t||0)%360,t<0?t+360:t}function i1(t){return Math.max(0,Math.min(1,t||0))}function tk(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $$=t=>()=>t;function Nce(t,e){return function(n){return t+n*e}}function Dce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lce(t){return(t=+t)==1?MX:function(e,n){return n-e?Dce(e,n,t):$$(isNaN(e)?n:e)}}function MX(t,e){var n=e-t;return n?Nce(t,n):$$(isNaN(t)?e:t)}const uT=function t(e){var n=Lce(e);function r(i,o){var s=n((i=bL(i)).r,(o=bL(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=MX(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Oce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Fce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $ce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=yy(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Bce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Za(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Vce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yy(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nk=new RegExp(wL.source,"g");function zce(t){return function(){return t}}function Uce(t){return function(e){return t(e)+""}}function NX(t,e){var n=wL.lastIndex=nk.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=wL.exec(t))&&(i=nk.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Za(r,i)})),n=nk.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Uce(l[0].x):zce(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function yy(t,e){var n=typeof e,r;return e==null||n==="boolean"?$$(e):(n==="number"?Za:n==="string"?(r=$p(e))?(e=r,uT):NX:e instanceof $p?uT:e instanceof Date?Bce:Fce(e)?Oce:Array.isArray(e)?$ce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Vce:Za)(t,e)}function Hce(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Oz=180/Math.PI,xL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function DX(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Oz,skewX:Math.atan(l)*Oz,scaleX:s,scaleY:a}}var o1;function qce(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xL:DX(e.a,e.b,e.c,e.d,e.e,e.f)}function jce(t){return t==null||(o1||(o1=document.createElementNS("http://www.w3.org/2000/svg","g")),o1.setAttribute("transform",t),!(t=o1.transform.baseVal.consolidate()))?xL:(t=t.matrix,DX(t.a,t.b,t.c,t.d,t.e,t.f))}function LX(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,h,p,m){if(u!==d||c!==h){var y=p.push("translate(",null,e,null,n);m.push({i:y-4,x:Za(u,d)},{i:y-2,x:Za(c,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Za(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Za(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,h,p,m){if(u!==d||c!==h){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:Za(u,d)},{i:y-2,x:Za(c,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,h),s(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(p){for(var m=-1,y=h.length,w;++m<y;)d[(w=h[m]).i]=w.x(p);return d.join("")}}}var Wce=LX(qce,"px, ","px)","deg)"),Gce=LX(jce,", ",")",")"),Kce=1e-12;function Fz(t){return((t=Math.exp(t))+1/t)/2}function Yce(t){return((t=Math.exp(t))-1/t)/2}function Xce(t){return((t=Math.exp(2*t))-1)/(t+1)}const iC=function t(e,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],h=s[2],p=c-a,m=d-l,y=p*p+m*m,w,_;if(y<Kce)_=Math.log(h/u)/e,w=function(P){return[a+P*p,l+P*m,u*Math.exp(e*P*_)]};else{var E=Math.sqrt(y),S=(h*h-u*u+r*y)/(2*u*n*E),T=(h*h-u*u-r*y)/(2*h*n*E),I=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(T*T+1)-T);_=(N-I)/e,w=function(P){var M=P*_,D=Fz(I),k=u/(n*E)*(D*Xce(e*M+I)-Yce(I));return[a+k*p,l+k*m,u*D/Fz(e*M+I)]}}return w.duration=_*1e3*e/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return t(s,a,l)},i}(Math.SQRT2,2,4);var Ev=0,Bb=0,sb=0,OX=1e3,cT,Vb,dT=0,Bp=0,HA=0,Ww=typeof performance=="object"&&performance.now?performance:Date,FX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B$(){return Bp||(FX(Jce),Bp=Ww.now()+HA)}function Jce(){Bp=0}function fT(){this._call=this._time=this._next=null}fT.prototype=$X.prototype={constructor:fT,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?B$():+n)+(e==null?0:+e),!this._next&&Vb!==this&&(Vb?Vb._next=this:cT=this,Vb=this),this._call=t,this._time=n,_L()},stop:function(){this._call&&(this._call=null,this._time=1/0,_L())}};function $X(t,e,n){var r=new fT;return r.restart(t,e,n),r}function Qce(){B$(),++Ev;for(var t=cT,e;t;)(e=Bp-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ev}function $z(){Bp=(dT=Ww.now())+HA,Ev=Bb=0;try{Qce()}finally{Ev=0,ede(),Bp=0}}function Zce(){var t=Ww.now(),e=t-dT;e>OX&&(HA-=e,dT=t)}function ede(){for(var t,e=cT,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:cT=n);Vb=t,_L(r)}function _L(t){if(!Ev){Bb&&(Bb=clearTimeout(Bb));var e=t-Bp;e>24?(t<1/0&&(Bb=setTimeout($z,t-Ww.now()-HA)),sb&&(sb=clearInterval(sb))):(sb||(dT=Ww.now(),sb=setInterval(Zce,OX)),Ev=1,FX($z))}}function Bz(t,e,n){var r=new fT;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var tde=zA("start","end","cancel","interrupt"),nde=[],BX=0,Vz=1,SL=2,oC=3,zz=4,EL=5,sC=6;function qA(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;rde(t,n,{name:e,index:r,group:i,on:tde,tween:nde,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:BX})}function V$(t,e){var n=fl(t,e);if(n.state>BX)throw new Error("too late; already scheduled");return n}function Iu(t,e){var n=fl(t,e);if(n.state>oC)throw new Error("too late; already running");return n}function fl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function rde(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$X(o,0,n.time);function o(u){n.state=Vz,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,h,p;if(n.state!==Vz)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===oC)return Bz(s);p.state===zz?(p.state=sC,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=sC,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Bz(function(){n.state===oC&&(n.state=zz,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=SL,n.on.call("start",t,t.__data__,n.index,n.group),n.state===SL){for(n.state=oC,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=EL,1),d=-1,h=i.length;++d<h;)i[d].call(t,c);n.state===EL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=sC,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function aC(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>SL&&r.state<EL,r.state=sC,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function ide(t){return this.each(function(){aC(this,t)})}function ode(t,e){var n,r;return function(){var i=Iu(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function sde(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Iu(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function ade(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=fl(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?ode:sde)(n,t,e))}function z$(t,e,n){var r=t._id;return t.each(function(){var i=Iu(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return fl(i,r).value[e]}}function VX(t,e){var n;return(typeof e=="number"?Za:e instanceof $p?uT:(n=$p(e))?(e=n,uT):NX)(t,e)}function lde(t){return function(){this.removeAttribute(t)}}function ude(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cde(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function dde(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function fde(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function hde(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function pde(t,e){var n=UA(t),r=n==="transform"?Gce:VX;return this.attrTween(t,typeof e=="function"?(n.local?hde:fde)(n,r,z$(this,"attr."+t,e)):e==null?(n.local?ude:lde)(n):(n.local?dde:cde)(n,r,e))}function gde(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function mde(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yde(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&mde(t,o)),n}return i._value=e,i}function vde(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&gde(t,o)),n}return i._value=e,i}function bde(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=UA(t);return this.tween(n,(r.local?yde:vde)(r,e))}function wde(t,e){return function(){V$(this,t).delay=+e.apply(this,arguments)}}function xde(t,e){return e=+e,function(){V$(this,t).delay=e}}function _de(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wde:xde)(e,t)):fl(this.node(),e).delay}function Sde(t,e){return function(){Iu(this,t).duration=+e.apply(this,arguments)}}function Ede(t,e){return e=+e,function(){Iu(this,t).duration=e}}function Cde(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Sde:Ede)(e,t)):fl(this.node(),e).duration}function Tde(t,e){if(typeof e!="function")throw new Error;return function(){Iu(this,t).ease=e}}function Ade(t){var e=this._id;return arguments.length?this.each(Tde(e,t)):fl(this.node(),e).ease}function Rde(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Iu(this,t).ease=n}}function Pde(t){if(typeof t!="function")throw new Error;return this.each(Rde(this._id,t))}function Ide(t){typeof t!="function"&&(t=yX(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Wc(r,this._parents,this._name,this._id)}function kde(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=n[a],c=l.length,d=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(d[p]=h);for(;a<r;++a)s[a]=e[a];return new Wc(s,this._parents,this._name,this._id)}function Mde(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Nde(t,e,n){var r,i,o=Mde(e)?V$:Iu;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Dde(t,e){var n=this._id;return arguments.length<2?fl(this.node(),n).on.on(t):this.each(Nde(n,t,e))}function Lde(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ode(){return this.on("end.remove",Lde(this._id))}function Fde(t){var e=this._name,n=this._id;typeof t!="function"&&(t=L$(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=t.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,qA(u[h],e,n,h,u,fl(c,n)));return new Wc(o,this._parents,e,n)}function $de(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mX(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=t.call(c,c.__data__,d,l),p,m=fl(c,n),y=0,w=h.length;y<w;++y)(p=h[y])&&qA(p,e,n,y,h,m);o.push(h),s.push(c)}return new Wc(o,s,e,n)}var Bde=aS.prototype.constructor;function Vde(){return new Bde(this._groups,this._parents)}function zde(t,e){var n,r,i;return function(){var o=Sv(this,t),s=(this.style.removeProperty(t),Sv(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function zX(t){return function(){this.style.removeProperty(t)}}function Ude(t,e,n){var r,i=n+"",o;return function(){var s=Sv(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Hde(t,e,n){var r,i,o;return function(){var s=Sv(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Sv(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function qde(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=Iu(this,t),u=l.on,c=l.value[o]==null?a||(a=zX(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function jde(t,e,n){var r=(t+="")=="transform"?Wce:VX;return e==null?this.styleTween(t,zde(t,r)).on("end.style."+t,zX(t)):typeof e=="function"?this.styleTween(t,Hde(t,r,z$(this,"style."+t,e))).each(qde(this._id,t)):this.styleTween(t,Ude(t,r,e),n).on("end.style."+t,null)}function Wde(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Gde(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Wde(t,s,n)),r}return o._value=e,o}function Kde(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Gde(t,e,n??""))}function Yde(t){return function(){this.textContent=t}}function Xde(t){return function(){var e=t(this);this.textContent=e??""}}function Jde(t){return this.tween("text",typeof t=="function"?Xde(z$(this,"text",t)):Yde(t==null?"":t+""))}function Qde(t){return function(e){this.textContent=t.call(this,e)}}function Zde(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Qde(i)),e}return r._value=t,r}function efe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zde(t))}function tfe(){for(var t=this._name,e=this._id,n=UX(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=fl(l,e);qA(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wc(r,this._parents,t,n)}function nfe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Iu(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var rfe=0;function Wc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function UX(){return++rfe}var Ju=aS.prototype;Wc.prototype={constructor:Wc,select:Fde,selectAll:$de,selectChild:Ju.selectChild,selectChildren:Ju.selectChildren,filter:Ide,merge:kde,selection:Vde,transition:tfe,call:Ju.call,nodes:Ju.nodes,node:Ju.node,size:Ju.size,empty:Ju.empty,each:Ju.each,on:Dde,attr:pde,attrTween:bde,style:jde,styleTween:Kde,text:Jde,textTween:efe,remove:Ode,tween:ade,delay:_de,duration:Cde,ease:Ade,easeVarying:Pde,end:nfe,[Symbol.iterator]:Ju[Symbol.iterator]};function ife(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ofe={time:null,delay:0,duration:250,ease:ife};function sfe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function afe(t){var e,n;t instanceof Wc?(e=t._id,t=t._name):(e=UX(),(n=ofe).time=B$(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&qA(l,t,e,u,s,n||sfe(l,e));return new Wc(r,this._parents,t,e)}aS.prototype.interrupt=ide;aS.prototype.transition=afe;const s1=t=>()=>t;function lfe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Dc(t,e,n){this.k=t,this.x=e,this.y=n}Dc.prototype={constructor:Dc,scale:function(t){return t===1?this:new Dc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jA=new Dc(1,0,0);HX.prototype=Dc.prototype;function HX(t){for(;!t.__zoom;)if(!(t=t.parentNode))return jA;return t.__zoom}function rk(t){t.stopImmediatePropagation()}function ab(t){t.preventDefault(),t.stopImmediatePropagation()}function ufe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function cfe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Uz(){return this.__zoom||jA}function dfe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ffe(){return navigator.maxTouchPoints||"ontouchstart"in this}function hfe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function qX(){var t=ufe,e=cfe,n=hfe,r=dfe,i=ffe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=iC,u=zA("start","zoom","end"),c,d,h,p=500,m=150,y=0,w=10;function _(z){z.property("__zoom",Uz).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(z,G,K,J){var ee=z.selection?z.selection():z;ee.property("__zoom",Uz),z!==ee?I(z,G,K,J):ee.interrupt().each(function(){N(this,arguments).event(J).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},_.scaleBy=function(z,G,K,J){_.scaleTo(z,function(){var ee=this.__zoom.k,X=typeof G=="function"?G.apply(this,arguments):G;return ee*X},K,J)},_.scaleTo=function(z,G,K,J){_.transform(z,function(){var ee=e.apply(this,arguments),X=this.__zoom,j=K==null?T(ee):typeof K=="function"?K.apply(this,arguments):K,Q=X.invert(j),ue=typeof G=="function"?G.apply(this,arguments):G;return n(S(E(X,ue),j,Q),ee,s)},K,J)},_.translateBy=function(z,G,K,J){_.transform(z,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),s)},null,J)},_.translateTo=function(z,G,K,J,ee){_.transform(z,function(){var X=e.apply(this,arguments),j=this.__zoom,Q=J==null?T(X):typeof J=="function"?J.apply(this,arguments):J;return n(jA.translate(Q[0],Q[1]).scale(j.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof K=="function"?-K.apply(this,arguments):-K),X,s)},J,ee)};function E(z,G){return G=Math.max(o[0],Math.min(o[1],G)),G===z.k?z:new Dc(G,z.x,z.y)}function S(z,G,K){var J=G[0]-K[0]*z.k,ee=G[1]-K[1]*z.k;return J===z.x&&ee===z.y?z:new Dc(z.k,J,ee)}function T(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function I(z,G,K,J){z.on("start.zoom",function(){N(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(J).end()}).tween("zoom",function(){var ee=this,X=arguments,j=N(ee,X).event(J),Q=e.apply(ee,X),ue=K==null?T(Q):typeof K=="function"?K.apply(ee,X):K,q=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),Y=ee.__zoom,te=typeof G=="function"?G.apply(ee,X):G,le=l(Y.invert(ue).concat(q/Y.k),te.invert(ue).concat(q/te.k));return function(de){if(de===1)de=te;else{var se=le(de),ce=q/se[2];de=new Dc(ce,ue[0]-se[0]*ce,ue[1]-se[1]*ce)}j.zoom(null,de)}})}function N(z,G,K){return!K&&z.__zooming||new P(z,G)}function P(z,G){this.that=z,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,G),this.taps=0}P.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,G){return this.mouse&&z!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var G=Vi(this.that).datum();u.call(z,this.that,new lfe(z,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:u}),G)}};function M(z,...G){if(!t.apply(this,arguments))return;var K=N(this,G).event(z),J=this.__zoom,ee=Math.max(o[0],Math.min(o[1],J.k*Math.pow(2,r.apply(this,arguments)))),X=Qa(z);if(K.wheel)(K.mouse[0][0]!==X[0]||K.mouse[0][1]!==X[1])&&(K.mouse[1]=J.invert(K.mouse[0]=X)),clearTimeout(K.wheel);else{if(J.k===ee)return;K.mouse=[X,J.invert(X)],aC(this),K.start()}ab(z),K.wheel=setTimeout(j,m),K.zoom("mouse",n(S(E(J,ee),K.mouse[0],K.mouse[1]),K.extent,s));function j(){K.wheel=null,K.end()}}function D(z,...G){if(h||!t.apply(this,arguments))return;var K=z.currentTarget,J=N(this,G,!0).event(z),ee=Vi(z.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",q,!0),X=Qa(z,K),j=z.clientX,Q=z.clientY;AX(z.view),rk(z),J.mouse=[X,this.__zoom.invert(X)],aC(this),J.start();function ue(Y){if(ab(Y),!J.moved){var te=Y.clientX-j,le=Y.clientY-Q;J.moved=te*te+le*le>y}J.event(Y).zoom("mouse",n(S(J.that.__zoom,J.mouse[0]=Qa(Y,K),J.mouse[1]),J.extent,s))}function q(Y){ee.on("mousemove.zoom mouseup.zoom",null),RX(Y.view,J.moved),ab(Y),J.event(Y).end()}}function k(z,...G){if(t.apply(this,arguments)){var K=this.__zoom,J=Qa(z.changedTouches?z.changedTouches[0]:z,this),ee=K.invert(J),X=K.k*(z.shiftKey?.5:2),j=n(S(E(K,X),J,ee),e.apply(this,G),s);ab(z),a>0?Vi(this).transition().duration(a).call(I,j,J,z):Vi(this).call(_.transform,j,J,z)}}function L(z,...G){if(t.apply(this,arguments)){var K=z.touches,J=K.length,ee=N(this,G,z.changedTouches.length===J).event(z),X,j,Q,ue;for(rk(z),j=0;j<J;++j)Q=K[j],ue=Qa(Q,this),ue=[ue,this.__zoom.invert(ue),Q.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==ue[2]&&(ee.touch1=ue,ee.taps=0):(ee.touch0=ue,X=!0,ee.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(ee.taps<2&&(d=ue[0],c=setTimeout(function(){c=null},p)),aC(this),ee.start())}}function V(z,...G){if(this.__zooming){var K=N(this,G).event(z),J=z.changedTouches,ee=J.length,X,j,Q,ue;for(ab(z),X=0;X<ee;++X)j=J[X],Q=Qa(j,this),K.touch0&&K.touch0[2]===j.identifier?K.touch0[0]=Q:K.touch1&&K.touch1[2]===j.identifier&&(K.touch1[0]=Q);if(j=K.that.__zoom,K.touch1){var q=K.touch0[0],Y=K.touch0[1],te=K.touch1[0],le=K.touch1[1],de=(de=te[0]-q[0])*de+(de=te[1]-q[1])*de,se=(se=le[0]-Y[0])*se+(se=le[1]-Y[1])*se;j=E(j,Math.sqrt(de/se)),Q=[(q[0]+te[0])/2,(q[1]+te[1])/2],ue=[(Y[0]+le[0])/2,(Y[1]+le[1])/2]}else if(K.touch0)Q=K.touch0[0],ue=K.touch0[1];else return;K.zoom("touch",n(S(j,Q,ue),K.extent,s))}}function $(z,...G){if(this.__zooming){var K=N(this,G).event(z),J=z.changedTouches,ee=J.length,X,j;for(rk(z),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),X=0;X<ee;++X)j=J[X],K.touch0&&K.touch0[2]===j.identifier?delete K.touch0:K.touch1&&K.touch1[2]===j.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(j=Qa(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<w)){var Q=Vi(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return _.wheelDelta=function(z){return arguments.length?(r=typeof z=="function"?z:s1(+z),_):r},_.filter=function(z){return arguments.length?(t=typeof z=="function"?z:s1(!!z),_):t},_.touchable=function(z){return arguments.length?(i=typeof z=="function"?z:s1(!!z),_):i},_.extent=function(z){return arguments.length?(e=typeof z=="function"?z:s1([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),_):e},_.scaleExtent=function(z){return arguments.length?(o[0]=+z[0],o[1]=+z[1],_):[o[0],o[1]]},_.translateExtent=function(z){return arguments.length?(s[0][0]=+z[0][0],s[1][0]=+z[1][0],s[0][1]=+z[0][1],s[1][1]=+z[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(z){return arguments.length?(n=z,_):n},_.duration=function(z){return arguments.length?(a=+z,_):a},_.interpolate=function(z){return arguments.length?(l=z,_):l},_.on=function(){var z=u.on.apply(u,arguments);return z===u?_:z},_.clickDistance=function(z){return arguments.length?(y=(z=+z)*z,_):Math.sqrt(y)},_.tapDistance=function(z){return arguments.length?(w=+z,_):w},_}const Su={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gw=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],jX=["Enter"," ","Escape"],WX={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Cv;(function(t){t.Strict="strict",t.Loose="loose"})(Cv||(Cv={}));var Lp;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Lp||(Lp={}));var Kw;(function(t){t.Partial="partial",t.Full="full"})(Kw||(Kw={}));const GX={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Xd;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Xd||(Xd={}));var Tv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Tv||(Tv={}));var ct;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ct||(ct={}));const Hz={[ct.Left]:ct.Right,[ct.Right]:ct.Left,[ct.Top]:ct.Bottom,[ct.Bottom]:ct.Top};function KX(t){return t===null?null:t?"valid":"invalid"}const YX=t=>"id"in t&&"source"in t&&"target"in t,pfe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),U$=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),uS=(t,e=[0,0])=>{const{width:n,height:r}=id(t),i=t.origin??e,o=n*i[0],s=r*i[1];return{x:t.position.x-o,y:t.position.y-s}},gfe=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let s=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(s=o?e.nodeLookup.get(i):U$(i)?i:e.nodeLookup.get(i.id));const a=s?hT(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return WA(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return GA(n)},cS=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=hT(r);n=WA(n,i)}}),GA(n)},H$=(t,e,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...dS(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:h=!1}=u;if(s&&!d||h)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,y=Yw(a,Rv(u)),w=(p??0)*(m??0),_=o&&y>0;(!u.internals.handleBounds||_||y>=w||u.dragging)&&l.push(u)}return l},mfe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function yfe(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function vfe({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(t.size===0)return Promise.resolve(!0);const a=yfe(t,s),l=cS(a),u=q$(l,e,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function XX({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(t),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let d=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Su.error005());else{const p=a.measured.width,m=a.measured.height;p&&m&&(d=[[l,u],[l+p,u+m]])}else a&&Pv(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const h=Pv(d)?Vp(e,d,s.measured):e;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Su.error015())),{position:{x:h.x-l+(s.measured.width??0)*c[0],y:h.y-u+(s.measured.height??0)*c[1]},positionAbsolute:h}}async function bfe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(h=>h.id)),s=[];for(const h of n){if(h.deletable===!1)continue;const p=o.has(h.id),m=!p&&h.parentId&&s.find(y=>y.id===h.parentId);(p||m)&&s.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),c=mfe(s,l);for(const h of l)a.has(h.id)&&!c.find(m=>m.id===h.id)&&c.push(h);if(!i)return{edges:c,nodes:s};const d=await i({nodes:s,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}const Av=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Vp=(t={x:0,y:0},e,n)=>({x:Av(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Av(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function JX(t,e,n){const{width:r,height:i}=id(n),{x:o,y:s}=n.internals.positionAbsolute;return Vp(t,[[o,s],[o+r,s+i]],e)}const qz=(t,e,n)=>t<e?Av(Math.abs(t-e),1,e)/e:t>n?-Av(Math.abs(t-n),1,e)/e:0,QX=(t,e,n=15,r=40)=>{const i=qz(t.x,r,e.width-r)*n,o=qz(t.y,r,e.height-r)*n;return[i,o]},WA=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),CL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),GA=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Rv=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=U$(t)?t.internals.positionAbsolute:uS(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0}},hT=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=U$(t)?t.internals.positionAbsolute:uS(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0)}},ZX=(t,e)=>GA(WA(CL(t),CL(e))),Yw=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},jz=t=>tl(t.width)&&tl(t.height)&&tl(t.x)&&tl(t.y),tl=t=>!isNaN(t)&&isFinite(t),wfe=(t,e)=>{},KA=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),dS=({x:t,y:e},[n,r,i],o=!1,s=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return o?KA(a,s):a},pT=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function pm(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function xfe(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=pm(t,n),i=pm(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=pm(t.top??t.y??0,n),i=pm(t.bottom??t.y??0,n),o=pm(t.left??t.x??0,e),s=pm(t.right??t.x??0,e);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _fe(t,e,n,r,i,o){const{x:s,y:a}=pT(t,[e,n,r]),{x:l,y:u}=pT({x:t.x+t.width,y:t.y+t.height},[e,n,r]),c=i-l,d=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const q$=(t,e,n,r,i,o)=>{const s=xfe(o,e,n),a=(e-s.x)/t.width,l=(n-s.y)/t.height,u=Math.min(a,l),c=Av(u,r,i),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,m=n/2-h*c,y=_fe(t,p,m,c,e,n),w={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:p-w.left+w.right,y:m-w.top+w.bottom,zoom:c}},gT=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Pv(t){return t!==void 0&&t!=="parent"}function id(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function eJ(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function tJ(t,e={width:0,height:0},n,r,i){const o={...t},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(e.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(e.height??0)*a[1]}return o}function Wz(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Sfe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Efe(t){return{...WX,...t||{}}}function ww(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Oc(t),a=dS({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?KA(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const j$=t=>({width:t.offsetWidth,height:t.offsetHeight}),nJ=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Cfe=["INPUT","SELECT","TEXTAREA"];function rJ(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Cfe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const iJ=t=>"clientX"in t,Oc=(t,e)=>{var o,s;const n=iJ(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},Gz=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...j$(s)}})};function oJ({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=t*.125+i*.375+s*.375+n*.125,u=e*.125+o*.375+a*.375+r*.125,c=Math.abs(l-t),d=Math.abs(u-e);return[l,u,c,d]}function a1(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Kz({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case ct.Left:return[e-a1(e-r,o),n];case ct.Right:return[e+a1(r-e,o),n];case ct.Top:return[e,n-a1(n-i,o)];case ct.Bottom:return[e,n+a1(i-n,o)]}}function YA({sourceX:t,sourceY:e,sourcePosition:n=ct.Bottom,targetX:r,targetY:i,targetPosition:o=ct.Top,curvature:s=.25}){const[a,l]=Kz({pos:n,x1:t,y1:e,x2:r,y2:i,c:s}),[u,c]=Kz({pos:o,x1:r,y1:i,x2:t,y2:e,c:s}),[d,h,p,m]=oJ({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${a},${l} ${u},${c} ${r},${i}`,d,h,p,m]}function sJ({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,s=Math.abs(r-e)/2,a=r<e?r+s:r-s;return[o,a,i,s]}function Tfe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(o?s:0)}function Afe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=WA(hT(t),hT(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Yw(s,GA(o))>0}const Rfe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Pfe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),aJ=(t,e)=>{if(!t.source||!t.target)return e;let n;return YX(t)?n={...t}:n={...t,id:Rfe(t)},Pfe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function lJ({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,s,a]=sJ({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,s,a]}const Yz={[ct.Left]:{x:-1,y:0},[ct.Right]:{x:1,y:0},[ct.Top]:{x:0,y:-1},[ct.Bottom]:{x:0,y:1}},Ife=({source:t,sourcePosition:e=ct.Bottom,target:n})=>e===ct.Left||e===ct.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Xz=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function kfe({source:t,sourcePosition:e=ct.Bottom,target:n,targetPosition:r=ct.Top,center:i,offset:o}){const s=Yz[e],a=Yz[r],l={x:t.x+s.x*o,y:t.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=Ife({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",h=c[d];let p=[],m,y;const w={x:0,y:0},_={x:0,y:0},[E,S,T,I]=sJ({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){m=i.x??E,y=i.y??S;const P=[{x:m,y:l.y},{x:m,y:u.y}],M=[{x:l.x,y},{x:u.x,y}];s[d]===h?p=d==="x"?P:M:p=d==="x"?M:P}else{const P=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(d==="x"?p=s.x===h?M:P:p=s.y===h?P:M,e===r){const $=Math.abs(t[d]-n[d]);if($<=o){const z=Math.min(o-1,o-$);s[d]===h?w[d]=(l[d]>t[d]?-1:1)*z:_[d]=(u[d]>n[d]?-1:1)*z}}if(e!==r){const $=d==="x"?"y":"x",z=s[d]===a[$],G=l[$]>u[$],K=l[$]<u[$];(s[d]===1&&(!z&&G||z&&K)||s[d]!==1&&(!z&&K||z&&G))&&(p=d==="x"?P:M)}const D={x:l.x+w.x,y:l.y+w.y},k={x:u.x+_.x,y:u.y+_.y},L=Math.max(Math.abs(D.x-p[0].x),Math.abs(k.x-p[0].x)),V=Math.max(Math.abs(D.y-p[0].y),Math.abs(k.y-p[0].y));L>=V?(m=(D.x+k.x)/2,y=p[0].y):(m=p[0].x,y=(D.y+k.y)/2)}return[[t,{x:l.x+w.x,y:l.y+w.y},...p,{x:u.x+_.x,y:u.y+_.y},n],m,y,T,I]}function Mfe(t,e,n,r){const i=Math.min(Xz(t,e)/2,Xz(e,n)/2,r),{x:o,y:s}=e;if(t.x===o&&o===n.x||t.y===s&&s===n.y)return`L${o} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function TL({sourceX:t,sourceY:e,sourcePosition:n=ct.Bottom,targetX:r,targetY:i,targetPosition:o=ct.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,d,h,p,m]=kfe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((w,_,E)=>{let S="";return E>0&&E<c.length-1?S=Mfe(c[E-1],_,c[E+1],s):S=`${E===0?"M":"L"}${_.x} ${_.y}`,w+=S,w},""),d,h,p,m]}function Jz(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Nfe(t){var d;const{sourceNode:e,targetNode:n}=t;if(!Jz(e)||!Jz(n))return null;const r=e.internals.handleBounds||Qz(e.handles),i=n.internals.handleBounds||Qz(n.handles),o=Zz((r==null?void 0:r.source)??[],t.sourceHandle),s=Zz(t.connectionMode===Cv.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!o||!s)return(d=t.onError)==null||d.call(t,"008",Su.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(o==null?void 0:o.position)||ct.Bottom,l=(s==null?void 0:s.position)||ct.Top,u=Xw(e,o,a),c=Xw(n,s,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function Qz(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Xw(t,e,n=ct.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:a}=e??id(t);if(r)return{x:i+s/2,y:o+a/2};switch((e==null?void 0:e.position)??n){case ct.Top:return{x:i+s/2,y:o};case ct.Right:return{x:i+s,y:o+a/2};case ct.Bottom:return{x:i+s/2,y:o+a};case ct.Left:return{x:i,y:o+a/2}}}function Zz(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function AL(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function Dfe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=AL(l,e);o.has(u)||(s.push({id:u,color:l.color||n,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const W$={nodeOrigin:[0,0],nodeExtent:Gw,elevateNodesOnSelect:!0,defaults:{}},Lfe={...W$,checkEquality:!0};function G$(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function Ofe(t,e,n){const r=G$(W$,n);for(const i of t.values())if(i.parentId)K$(i,t,e,r);else{const o=uS(i,r.nodeOrigin),s=Pv(i.extent)?i.extent:r.nodeExtent,a=Vp(o,s,id(i));i.internals.positionAbsolute=a}}function RL(t,e,n,r){var l,u;const i=G$(Lfe,r);let o=t.length>0;const s=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let d=s.get(c.id);if(i.checkEquality&&c===(d==null?void 0:d.internals.userNode))e.set(c.id,d);else{const h=uS(c,i.nodeOrigin),p=Pv(c.extent)?c.extent:i.nodeExtent,m=Vp(h,p,id(c));d={...i.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:c.measured?d==null?void 0:d.internals.handleBounds:void 0,z:uJ(c,a),userNode:c}},e.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&K$(d,e,n,r)}return o}function Ffe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function K$(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=G$(W$,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Ffe(t,n);const u=i?1e3:0,{x:c,y:d,z:h}=$fe(t,l,o,s,u),{positionAbsolute:p}=t.internals,m=c!==p.x||d!==p.y;(m||h!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:d}:p,z:h}})}function uJ(t,e){return(tl(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function $fe(t,e,n,r,i){const{x:o,y:s}=e.internals.positionAbsolute,a=id(t),l=uS(t,n),u=Pv(t.extent)?Vp(l,t.extent,a):l;let c=Vp({x:o+u.x,y:s+u.y},r,a);t.extent==="parent"&&(c=JX(c,a,e));const d=uJ(t,i),h=e.internals.z??0;return{x:c.x,y:c.y,z:h>d?h:d}}function Y$(t,e,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Rv(l),c=ZX(u,a.rect);o.set(a.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},u)=>{var S;const c=l.internals.positionAbsolute,d=id(l),h=l.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,m=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,y=Math.max(d.width,Math.round(a.width)),w=Math.max(d.height,Math.round(a.height)),_=(y-d.width)*h[0],E=(w-d.height)*h[1];(p>0||m>0||_||E)&&(i.push({id:u,type:"position",position:{x:l.position.x-p+_,y:l.position.y-m+E}}),(S=n.get(u))==null||S.forEach(T=>{t.some(I=>I.id===T.id)||i.push({id:T.id,type:"position",position:{x:T.position.x+p,y:T.position.y+m}})})),(d.width<a.width||d.height<a.height||p||m)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(p?h[0]*p-_:0),height:w+(m?h[1]*m-E:0)}})}),i}function Bfe(t,e,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const h of t.values()){const p=e.get(h.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const m=j$(h.nodeElement),y=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!p.internals.handleBounds||h.force))){const _=h.nodeElement.getBoundingClientRect(),E=Pv(p.extent)?p.extent:o;let{positionAbsolute:S}=p.internals;p.parentId&&p.extent==="parent"?S=JX(S,m,e.get(p.parentId)):E&&(S=Vp(S,E,m));const T={...p,measured:m,internals:{...p.internals,positionAbsolute:S,handleBounds:{source:Gz("source",h.nodeElement,_,c,p.id),target:Gz("target",h.nodeElement,_,c,p.id)}}};e.set(p.id,T),p.parentId&&K$(T,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Rv(T,i)}))}}if(d.length>0){const h=Y$(d,e,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function Vfe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function e6(t,e,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,e)),s=`${i}-${t}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,e)),o){s=`${i}-${t}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,e))}}function cJ(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;e6("source",l,c,t,i,s),e6("target",l,u,t,o,a),e.set(r.id,r)}}function dJ(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:dJ(n,e):!1}function t6(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function zfe(t,e,n,r){const i=new Map;for(const[o,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!dJ(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const a=t.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function ik({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[u,c]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&i.push({...d,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=(a=n.get(t))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=e.get(t))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Ufe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},c=null,d=!1,h=null,p=!1;function m({noDragClassName:w,handleSelector:_,domNode:E,isSelectable:S,nodeId:T,nodeClickDistance:I=0}){h=Vi(E);function N({x:k,y:L},V){const{nodeLookup:$,nodeExtent:z,snapGrid:G,snapToGrid:K,nodeOrigin:J,onNodeDrag:ee,onSelectionDrag:X,onError:j,updateNodePositions:Q}=e();o={x:k,y:L};let ue=!1,q={x:0,y:0,x2:0,y2:0};if(a.size>1&&z){const Y=cS(a);q=CL(Y)}for(const[Y,te]of a){if(!$.has(Y))continue;let le={x:k-te.distance.x,y:L-te.distance.y};K&&(le=KA(le,G));let de=[[z[0][0],z[0][1]],[z[1][0],z[1][1]]];if(a.size>1&&z&&!te.extent){const{positionAbsolute:fe}=te.internals,ye=fe.x-q.x+z[0][0],we=fe.x+te.measured.width-q.x2+z[1][0],Re=fe.y-q.y+z[0][1],Ae=fe.y+te.measured.height-q.y2+z[1][1];de=[[ye,Re],[we,Ae]]}const{position:se,positionAbsolute:ce}=XX({nodeId:Y,nextPosition:le,nodeLookup:$,nodeExtent:de,nodeOrigin:J,onError:j});ue=ue||te.position.x!==se.x||te.position.y!==se.y,te.position=se,te.internals.positionAbsolute=ce}if(ue&&(Q(a,!0),V&&(r||ee||!T&&X))){const[Y,te]=ik({nodeId:T,dragItems:a,nodeLookup:$});r==null||r(V,a,Y,te),ee==null||ee(V,Y,te),T||X==null||X(V,te)}}async function P(){if(!c)return;const{transform:k,panBy:L,autoPanSpeed:V,autoPanOnNodeDrag:$}=e();if(!$){l=!1,cancelAnimationFrame(s);return}const[z,G]=QX(u,c,V);(z!==0||G!==0)&&(o.x=(o.x??0)-z/k[2],o.y=(o.y??0)-G/k[2],await L({x:z,y:G})&&N(o,null)),s=requestAnimationFrame(P)}function M(k){var ue;const{nodeLookup:L,multiSelectionActive:V,nodesDraggable:$,transform:z,snapGrid:G,snapToGrid:K,selectNodesOnDrag:J,onNodeDragStart:ee,onSelectionDragStart:X,unselectNodesAndEdges:j}=e();d=!0,(!J||!S)&&!V&&T&&((ue=L.get(T))!=null&&ue.selected||j()),S&&J&&T&&(t==null||t(T));const Q=ww(k.sourceEvent,{transform:z,snapGrid:G,snapToGrid:K,containerBounds:c});if(o=Q,a=zfe(L,$,Q,T),a.size>0&&(n||ee||!T&&X)){const[q,Y]=ik({nodeId:T,dragItems:a,nodeLookup:L});n==null||n(k.sourceEvent,a,q,Y),ee==null||ee(k.sourceEvent,q,Y),T||X==null||X(k.sourceEvent,Y)}}const D=PX().clickDistance(I).on("start",k=>{const{domNode:L,nodeDragThreshold:V,transform:$,snapGrid:z,snapToGrid:G}=e();c=(L==null?void 0:L.getBoundingClientRect())||null,p=!1,V===0&&M(k),o=ww(k.sourceEvent,{transform:$,snapGrid:z,snapToGrid:G,containerBounds:c}),u=Oc(k.sourceEvent,c)}).on("drag",k=>{const{autoPanOnNodeDrag:L,transform:V,snapGrid:$,snapToGrid:z,nodeDragThreshold:G,nodeLookup:K}=e(),J=ww(k.sourceEvent,{transform:V,snapGrid:$,snapToGrid:z,containerBounds:c});if((k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||T&&!K.has(T))&&(p=!0),!p){if(!l&&L&&d&&(l=!0,P()),!d){const ee=J.xSnapped-(o.x??0),X=J.ySnapped-(o.y??0);Math.sqrt(ee*ee+X*X)>G&&M(k)}(o.x!==J.xSnapped||o.y!==J.ySnapped)&&a&&d&&(u=Oc(k.sourceEvent,c),N(J,k.sourceEvent))}}).on("end",k=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:L,updateNodePositions:V,onNodeDragStop:$,onSelectionDragStop:z}=e();if(V(a,!1),i||$||!T&&z){const[G,K]=ik({nodeId:T,dragItems:a,nodeLookup:L,dragging:!1});i==null||i(k.sourceEvent,a,G,K),$==null||$(k.sourceEvent,G,K),T||z==null||z(k.sourceEvent,K)}}}).filter(k=>{const L=k.target;return!k.button&&(!w||!t6(L,`.${w}`,E))&&(!_||t6(L,_,E))});h.call(D)}function y(){h==null||h.on(".drag",null)}return{update:m,destroy:y}}function Hfe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())Yw(i,Rv(o))>0&&r.push(o);return r}const qfe=250;function jfe(t,e,n,r){var a,l;let i=[],o=1/0;const s=Hfe(t,n,e+qfe);for(const u of s){const c=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:p}=Xw(u,d,d.position,!0),m=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...d,x:h,y:p}],o=m):m===o&&i.push({...d,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function fJ(t,e,n,r,i,o=!1){var u,c,d;const s=r.get(t);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...Xw(s,l,l.position,!0)}:l}function hJ(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Wfe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const pJ=()=>!0;function Gfe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:d,panBy:h,cancelConnection:p,onConnectStart:m,onConnect:y,onConnectEnd:w,isValidConnection:_=pJ,onReconnectEnd:E,updateConnection:S,getTransform:T,getFromHandle:I,autoPanSpeed:N}){const P=nJ(t.target);let M=0,D;const{x:k,y:L}=Oc(t),V=P==null?void 0:P.elementFromPoint(k,L),$=hJ(o,V),z=a==null?void 0:a.getBoundingClientRect();if(!z||!$)return;const G=fJ(i,$,r,l,e);if(!G)return;let K=Oc(t,z),J=!1,ee=null,X=!1,j=null;function Q(){if(!c||!z)return;const[ce,fe]=QX(K,z,N);h({x:ce,y:fe}),M=requestAnimationFrame(Q)}const ue={...G,nodeId:i,type:$,position:G.position},q=l.get(i),te={inProgress:!0,isValid:null,from:Xw(q,ue,ct.Left,!0),fromHandle:ue,fromPosition:ue.position,fromNode:q,to:K,toHandle:null,toPosition:Hz[ue.position],toNode:null};S(te);let le=te;m==null||m(t,{nodeId:i,handleId:r,handleType:$});function de(ce){if(!I()||!ue){se(ce);return}const fe=T();K=Oc(ce,z),D=jfe(dS(K,fe,!1,[1,1]),n,l,ue),J||(Q(),J=!0);const ye=gJ(ce,{handle:D,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:_,doc:P,lib:u,flowId:d,nodeLookup:l});j=ye.handleDomNode,ee=ye.connection,X=Wfe(!!D,ye.isValid);const we={...le,isValid:X,to:ye.toHandle&&X?pT({x:ye.toHandle.x,y:ye.toHandle.y},fe):K,toHandle:ye.toHandle,toPosition:X&&ye.toHandle?ye.toHandle.position:Hz[ue.position],toNode:ye.toHandle?l.get(ye.toHandle.nodeId):null};X&&D&&le.toHandle&&we.toHandle&&le.toHandle.type===we.toHandle.type&&le.toHandle.nodeId===we.toHandle.nodeId&&le.toHandle.id===we.toHandle.id&&le.to.x===we.to.x&&le.to.y===we.to.y||(S(we),le=we)}function se(ce){(D||j)&&ee&&X&&(y==null||y(ee));const{inProgress:fe,...ye}=le,we={...ye,toPosition:le.toHandle?le.toPosition:null};w==null||w(ce,we),o&&(E==null||E(ce,we)),p(),cancelAnimationFrame(M),J=!1,X=!1,ee=null,j=null,P.removeEventListener("mousemove",de),P.removeEventListener("mouseup",se),P.removeEventListener("touchmove",de),P.removeEventListener("touchend",se)}P.addEventListener("mousemove",de),P.addEventListener("mouseup",se),P.addEventListener("touchmove",de),P.addEventListener("touchend",se)}function gJ(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=pJ,nodeLookup:c}){const d=o==="target",h=e?s.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=Oc(t),y=s.elementFromPoint(p,m),w=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:h,_={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const E=hJ(void 0,w),S=w.getAttribute("data-nodeid"),T=w.getAttribute("data-handleid"),I=w.classList.contains("connectable"),N=w.classList.contains("connectableend");if(!S||!E)return _;const P={source:d?S:r,sourceHandle:d?T:i,target:d?r:S,targetHandle:d?i:T};_.connection=P;const D=I&&N&&(n===Cv.Strict?d&&E==="source"||!d&&E==="target":S!==r||T!==i);_.isValid=D&&u(P),_.toHandle=fJ(S,E,T,c,n,!0)}return _}const PL={onPointerDown:Gfe,isValid:gJ};function Kfe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Vi(t);function o({translateExtent:a,width:l,height:u,zoomStep:c=10,pannable:d=!0,zoomable:h=!0,inversePan:p=!1}){const m=S=>{const T=n();if(S.sourceEvent.type!=="wheel"||!e)return;const I=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*c,N=T[2]*Math.pow(2,I);e.scaleTo(N)};let y=[0,0];const w=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(y=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},_=S=>{const T=n();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!e)return;const I=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],N=[I[0]-y[0],I[1]-y[1]];y=I;const P=r()*Math.max(T[2],Math.log(T[2]))*(p?-1:1),M={x:T[0]-N[0]*P,y:T[1]-N[1]*P},D=[[0,0],[l,u]];e.setViewportConstrained({x:M.x,y:M.y,zoom:T[2]},D,a)},E=qX().on("start",w).on("zoom",d?_:null).on("zoom.wheel",h?m:null);i.call(E,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:Qa}}const Yfe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,XA=t=>({x:t.x,y:t.y,zoom:t.k}),ok=({x:t,y:e,zoom:n})=>jA.translate(t,e).scale(n),uy=(t,e)=>t.target.closest(`.${e}`),mJ=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Xfe=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,sk=(t,e=0,n=Xfe,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},yJ=t=>{const e=t.ctrlKey&&gT()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Jfe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(uy(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&s){const w=Qa(c),_=yJ(c),E=d*Math.pow(2,_);r.scaleTo(n,E,w,c);return}const h=c.deltaMode===1?20:1;let p=i===Lp.Vertical?0:c.deltaX*h,m=i===Lp.Horizontal?0:c.deltaY*h;!gT()&&c.shiftKey&&i!==Lp.Vertical&&(p=c.deltaY*h,m=0),r.translateBy(n,-(p/d)*o,-(m/d)*o,{internal:!0});const y=XA(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(c,y)),t.isPanScrolling&&(l==null||l(c,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),t.isPanScrolling=!1},150))}}function Qfe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!e&&o&&!r.ctrlKey,a=uy(r,t);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function Zfe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=XA(r.transform);t.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function ehe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;t.usedRightMouseButton=!!(n&&mJ(e,t.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,XA(o.transform)))}}function the({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,o&&mJ(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&Yfe(t.prevViewport,s.transform))){const l=XA(s.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function nhe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u}){return c=>{var m;const d=t||e,h=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(uy(c,`${u}-flow__node`)||uy(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||uy(c,a)&&c.type==="wheel"||uy(c,l)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!d&&!i&&!h&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function rhe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=qX().clickDistance(!tl(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=Vi(t).call(h);S({x:o.x,y:o.y,zoom:Av(o.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=p.on("wheel.zoom"),y=p.on("dblclick.zoom");h.wheelDelta(yJ);function w(V,$){return p?new Promise(z=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?yy:iC).transform(sk(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>z(!0)),V)}):Promise.resolve(!1)}function _({noWheelClassName:V,noPanClassName:$,onPaneContextMenu:z,userSelectionActive:G,panOnScroll:K,panOnDrag:J,panOnScrollMode:ee,panOnScrollSpeed:X,preventScrolling:j,zoomOnPinch:Q,zoomOnScroll:ue,zoomOnDoubleClick:q,zoomActivationKeyPressed:Y,lib:te,onTransformChange:le}){G&&!c.isZoomingOrPanning&&E();const se=K&&!Y&&!G?Jfe({zoomPanValues:c,noWheelClassName:V,d3Selection:p,d3Zoom:h,panOnScrollMode:ee,panOnScrollSpeed:X,zoomOnPinch:Q,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):Qfe({noWheelClassName:V,preventScrolling:j,d3ZoomHandler:m});if(p.on("wheel.zoom",se,{passive:!1}),!G){const fe=Zfe({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:a});h.on("start",fe);const ye=ehe({zoomPanValues:c,panOnDrag:J,onPaneContextMenu:!!z,onPanZoom:s,onTransformChange:le});h.on("zoom",ye);const we=the({zoomPanValues:c,panOnDrag:J,panOnScroll:K,onPaneContextMenu:z,onPanZoomEnd:l,onDraggingChange:u});h.on("end",we)}const ce=nhe({zoomActivationKeyPressed:Y,panOnDrag:J,zoomOnScroll:ue,panOnScroll:K,zoomOnDoubleClick:q,zoomOnPinch:Q,userSelectionActive:G,noPanClassName:$,noWheelClassName:V,lib:te});h.filter(ce),q?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function E(){h.on("zoom",null)}async function S(V,$,z){const G=ok(V),K=h==null?void 0:h.constrain()(G,$,z);return K&&await w(K),new Promise(J=>J(K))}async function T(V,$){const z=ok(V);return await w(z,$),new Promise(G=>G(z))}function I(V){if(p){const $=ok(V),z=p.property("__zoom");(z.k!==V.zoom||z.x!==V.x||z.y!==V.y)&&(h==null||h.transform(p,$,null,{sync:!0}))}}function N(){const V=p?HX(p.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function P(V,$){return p?new Promise(z=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?yy:iC).scaleTo(sk(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>z(!0)),V)}):Promise.resolve(!1)}function M(V,$){return p?new Promise(z=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?yy:iC).scaleBy(sk(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>z(!0)),V)}):Promise.resolve(!1)}function D(V){h==null||h.scaleExtent(V)}function k(V){h==null||h.translateExtent(V)}function L(V){const $=!tl(V)||V<0?0:V;h==null||h.clickDistance($)}return{update:_,destroy:E,setViewport:T,setViewportConstrained:S,getViewport:N,scaleTo:P,scaleBy:M,setScaleExtent:D,setTranslateExtent:k,syncViewport:I,setClickDistance:L}}var Iv;(function(t){t.Line="line",t.Handle="handle"})(Iv||(Iv={}));function ihe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=t-e,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function ohe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function $d(t,e){return Math.max(0,e-t)}function Bd(t,e){return Math.max(0,t-e)}function l1(t,e,n){return Math.max(0,e-t,t-n)}function n6(t,e){return t?!e:e}function she(t,e,n,r,i,o,s,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:d}=e,h=c&&d,{xSnapped:p,ySnapped:m}=n,{minWidth:y,maxWidth:w,minHeight:_,maxHeight:E}=r,{x:S,y:T,width:I,height:N,aspectRatio:P}=t;let M=Math.floor(c?p-t.pointerX:0),D=Math.floor(d?m-t.pointerY:0);const k=I+(l?-M:M),L=N+(u?-D:D),V=-o[0]*I,$=-o[1]*N;let z=l1(k,y,w),G=l1(L,_,E);if(s){let ee=0,X=0;l&&M<0?ee=$d(S+M+V,s[0][0]):!l&&M>0&&(ee=Bd(S+k+V,s[1][0])),u&&D<0?X=$d(T+D+$,s[0][1]):!u&&D>0&&(X=Bd(T+L+$,s[1][1])),z=Math.max(z,ee),G=Math.max(G,X)}if(a){let ee=0,X=0;l&&M>0?ee=Bd(S+M,a[0][0]):!l&&M<0&&(ee=$d(S+k,a[1][0])),u&&D>0?X=Bd(T+D,a[0][1]):!u&&D<0&&(X=$d(T+L,a[1][1])),z=Math.max(z,ee),G=Math.max(G,X)}if(i){if(c){const ee=l1(k/P,_,E)*P;if(z=Math.max(z,ee),s){let X=0;!l&&!u||l&&!u&&h?X=Bd(T+$+k/P,s[1][1])*P:X=$d(T+$+(l?M:-M)/P,s[0][1])*P,z=Math.max(z,X)}if(a){let X=0;!l&&!u||l&&!u&&h?X=$d(T+k/P,a[1][1])*P:X=Bd(T+(l?M:-M)/P,a[0][1])*P,z=Math.max(z,X)}}if(d){const ee=l1(L*P,y,w)/P;if(G=Math.max(G,ee),s){let X=0;!l&&!u||u&&!l&&h?X=Bd(S+L*P+V,s[1][0])/P:X=$d(S+(u?D:-D)*P+V,s[0][0])/P,G=Math.max(G,X)}if(a){let X=0;!l&&!u||u&&!l&&h?X=$d(S+L*P,a[1][0])/P:X=Bd(S+(u?D:-D)*P,a[0][0])/P,G=Math.max(G,X)}}}D=D+(D<0?G:-G),M=M+(M<0?z:-z),i&&(h?k>L*P?D=(n6(l,u)?-M:M)/P:M=(n6(l,u)?-D:D)*P:c?(D=M/P,u=l):(M=D*P,l=u));const K=l?S+M:S,J=u?T+D:T;return{width:I+(l?-M:M),height:N+(u?-D:D),x:o[0]*M*(l?-1:1)+K,y:o[1]*D*(u?-1:1)+J}}const vJ={width:0,height:0,x:0,y:0},ahe={...vJ,pointerX:0,pointerY:0,aspectRatio:1};function lhe(t){return[[0,0],[t.measured.width,t.measured.height]]}function uhe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,s=t.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function che({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Vi(t);function s({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:m,shouldResize:y}){let w={...vJ},_={...ahe};const E=ohe(l);let S,T=null,I=[],N,P,M;const D=PX().on("start",k=>{const{nodeLookup:L,transform:V,snapGrid:$,snapToGrid:z,nodeOrigin:G,paneDomNode:K}=n();if(S=L.get(e),!S)return;T=(K==null?void 0:K.getBoundingClientRect())??null;const{xSnapped:J,ySnapped:ee}=ww(k.sourceEvent,{transform:V,snapGrid:$,snapToGrid:z,containerBounds:T});w={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},_={...w,pointerX:J,pointerY:ee,aspectRatio:w.width/w.height},N=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(N=L.get(S.parentId),P=N&&S.extent==="parent"?lhe(N):void 0),I=[],M=void 0;for(const[X,j]of L)if(j.parentId===e&&(I.push({id:X,position:{...j.position},extent:j.extent}),j.extent==="parent"||j.expandParent)){const Q=uhe(j,S,j.origin??G);M?M=[[Math.min(Q[0][0],M[0][0]),Math.min(Q[0][1],M[0][1])],[Math.max(Q[1][0],M[1][0]),Math.max(Q[1][1],M[1][1])]]:M=Q}h==null||h(k,{...w})}).on("drag",k=>{const{transform:L,snapGrid:V,snapToGrid:$,nodeOrigin:z}=n(),G=ww(k.sourceEvent,{transform:L,snapGrid:V,snapToGrid:$,containerBounds:T}),K=[];if(!S)return;const{x:J,y:ee,width:X,height:j}=w,Q={},ue=S.origin??z,{width:q,height:Y,x:te,y:le}=she(_,E,G,u,c,ue,P,M),de=q!==X,se=Y!==j,ce=te!==J&&de,fe=le!==ee&&se;if(!ce&&!fe&&!de&&!se)return;if((ce||fe||ue[0]===1||ue[1]===1)&&(Q.x=ce?te:w.x,Q.y=fe?le:w.y,w.x=Q.x,w.y=Q.y,I.length>0)){const Ae=te-J,be=le-ee;for(const Ke of I)Ke.position={x:Ke.position.x-Ae+ue[0]*(q-X),y:Ke.position.y-be+ue[1]*(Y-j)},K.push(Ke)}if((de||se)&&(Q.width=de&&(!d||d==="horizontal")?q:w.width,Q.height=se&&(!d||d==="vertical")?Y:w.height,w.width=Q.width,w.height=Q.height),N&&S.expandParent){const Ae=ue[0]*(Q.width??0);Q.x&&Q.x<Ae&&(w.x=Ae,_.x=_.x-(Q.x-Ae));const be=ue[1]*(Q.height??0);Q.y&&Q.y<be&&(w.y=be,_.y=_.y-(Q.y-be))}const ye=ihe({width:w.width,prevWidth:X,height:w.height,prevHeight:j,affectsX:E.affectsX,affectsY:E.affectsY}),we={...w,direction:ye};(y==null?void 0:y(k,we))!==!1&&(p==null||p(k,we),r(Q,K))}).on("end",k=>{m==null||m(k,{...w}),i==null||i({...w})});o.call(D)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var ak={exports:{}},lk={},uk={exports:{}},ck={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6;function dhe(){if(r6)return ck;r6=1;var t=dl();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),y=m[0].inst,w=m[1];return o(function(){y.value=p,y.getSnapshot=h,l(y)&&w({inst:y})},[d,p,h]),i(function(){return l(y)&&w({inst:y}),d(function(){l(y)&&w({inst:y})})},[d]),s(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!n(d,p)}catch{return!0}}function u(d,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return ck.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,ck}var i6;function fhe(){return i6||(i6=1,uk.exports=dhe()),uk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6;function hhe(){if(o6)return lk;o6=1;var t=dl(),e=fhe();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return lk.useSyncExternalStoreWithSelector=function(u,c,d,h,p){var m=o(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function _(N){if(!E){if(E=!0,S=N,N=h(N),p!==void 0&&y.hasValue){var P=y.value;if(p(P,N))return T=P}return T=N}if(P=T,r(S,N))return P;var M=h(N);return p!==void 0&&p(P,M)?(S=N,P):(S=N,T=M)}var E=!1,S,T,I=d===void 0?null:d;return[function(){return _(c())},I===null?void 0:function(){return _(I())}]},[c,d,h,p]);var w=i(u,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),l(w),w},lk}var s6;function phe(){return s6||(s6=1,ak.exports=hhe()),ak.exports}var ghe=phe();const mhe=uo(ghe),yhe={},a6=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(yhe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},vhe=t=>t?a6(t):a6,{useDebugValue:bhe}=oe,{useSyncExternalStoreWithSelector:whe}=mhe,xhe=t=>t;function bJ(t,e=xhe,n){const r=whe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return bhe(r),r}const l6=(t,e)=>{const n=vhe(t),r=(i,o=e)=>bJ(n,i,o);return Object.assign(r,n),r},_he=(t,e)=>t?l6(t,e):l6;function gr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Fc=VA();const Sf=uo(Fc),JA=F.createContext(null),She=JA.Provider,wJ=Su.error001();function fn(t,e){const n=F.useContext(JA);if(n===null)throw new Error(wJ);return bJ(n,t,e)}function xr(){const t=F.useContext(JA);if(t===null)throw new Error(wJ);return F.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const u6={display:"none"},Ehe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},xJ="react-flow__node-desc",_J="react-flow__edge-desc",Che="react-flow__aria-live",The=t=>t.ariaLiveMessage,Ahe=t=>t.ariaLabelConfig;function Rhe({rfId:t}){const e=fn(The);return O.jsx("div",{id:`${Che}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Ehe,children:e})}function Phe({rfId:t,disableKeyboardA11y:e}){const n=fn(Ahe);return O.jsxs(O.Fragment,{children:[O.jsx("div",{id:`${xJ}-${t}`,style:u6,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),O.jsx("div",{id:`${_J}-${t}`,style:u6,children:n["edge.a11yDescription.default"]}),!e&&O.jsx(Rhe,{rfId:t})]})}const Ihe=t=>t.userSelectionActive?"none":"all",kv=F.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const s=fn(Ihe),a=`${t}`.split("-");return O.jsx("div",{className:ri(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:e})});kv.displayName="Panel";function khe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:O.jsx(kv,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:O.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Mhe=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},u1=t=>t.id;function Nhe(t,e){return gr(t.selectedNodes.map(u1),e.selectedNodes.map(u1))&&gr(t.selectedEdges.map(u1),e.selectedEdges.map(u1))}function Dhe({onSelectionChange:t}){const e=xr(),{selectedNodes:n,selectedEdges:r}=fn(Mhe,Nhe);return F.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const Lhe=t=>!!t.onSelectionChangeHandlers;function Ohe({onSelectionChange:t}){const e=fn(Lhe);return t||e?O.jsx(Dhe,{onSelectionChange:t}):null}const SJ=[0,0],Fhe={x:0,y:0,zoom:1},$he=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],c6=[...$he,"rfId"],Bhe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),d6={translateExtent:Gw,nodeOrigin:SJ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Vhe(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=fn(Bhe,gr),c=xr();F.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=d6,a()}),[]);const d=F.useRef(d6);return F.useEffect(()=>{for(const h of c6){const p=t[h],m=d.current[h];p!==m&&(typeof t[h]>"u"||(h==="nodes"?e(p):h==="edges"?n(p):h==="minZoom"?r(p):h==="maxZoom"?i(p):h==="translateExtent"?o(p):h==="nodeExtent"?s(p):h==="paneClickDistance"?u(p):h==="fitView"?c.setState({fitViewQueued:p}):h==="fitViewOptions"&&c.setState({fitViewOptions:p}),h==="ariaLabelConfig"?c.setState({ariaLabelConfig:Efe(p)}):c.setState({[h]:p})))}d.current=t},c6.map(h=>t[h])),null}function f6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function zhe(t){var r;const[e,n]=F.useState(t==="system"?null:t);return F.useEffect(()=>{if(t!=="system"){n(t);return}const i=f6(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[t]),e!==null?e:(r=f6())!=null&&r.matches?"dark":"light"}const h6=typeof document<"u"?document:null;function Jw(t=null,e={target:h6,actInsideInputWithModifier:!0}){const[n,r]=F.useState(!1),i=F.useRef(!1),o=F.useRef(new Set([])),[s,a]=F.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((d,h)=>d.concat(...h),[]);return[u,c]}return[[],[]]},[t]);return F.useEffect(()=>{const l=(e==null?void 0:e.target)??h6,u=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const c=p=>{var w,_;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&rJ(p))return!1;const y=g6(p.code,a);if(o.current.add(p[y]),p6(s,o.current,!1)){const E=((_=(w=p.composedPath)==null?void 0:w.call(p))==null?void 0:_[0])||p.target,S=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";e.preventDefault!==!1&&(i.current||!S)&&p.preventDefault(),r(!0)}},d=p=>{const m=g6(p.code,a);p6(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[m]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function p6(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function g6(t,e){return e.includes(t)?"code":"key"}const Uhe=()=>{const t=xr();return F.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=t.getState(),l=q$(e,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=t.getState();if(!s)return e;const{x:a,y:l}=s.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},c=n.snapGrid??i,d=n.snapToGrid??o;return dS(u,r,d,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),s=pT(e,n);return{x:s.x+i,y:s.y+o}}}),[])};function EJ(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of e){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)Hhe(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Hhe(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function CJ(t,e){return EJ(t,e)}function TJ(t,e){return EJ(t,e)}function Eh(t,e){return{id:t,type:"select",selected:e}}function cy(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const s=e.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Eh(o.id,s)))}return r}function m6({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(o=>[o.id,o]));for(const[o,s]of t.entries()){const a=e.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of e)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function y6(t){return{id:t.id,type:"remove"}}const v6=t=>pfe(t),qhe=t=>YX(t);function AJ(t){return F.forwardRef(t)}const jhe=typeof window<"u"?F.useLayoutEffect:F.useEffect;function b6(t){const[e,n]=F.useState(BigInt(0)),[r]=F.useState(()=>Whe(()=>n(i=>i+BigInt(1))));return jhe(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Whe(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const RJ=F.createContext(null);function Ghe({children:t}){const e=xr(),n=F.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:d,nodeLookup:h,fitViewQueued:p}=e.getState();let m=l;for(const w of a)m=typeof w=="function"?w(m):w;const y=m6({items:m,lookup:h});c&&u(m),y.length>0?d==null||d(y):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:_,setNodes:E}=e.getState();w&&E(_)})},[]),r=b6(n),i=F.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:h}=e.getState();let p=l;for(const m of a)p=typeof m=="function"?m(p):m;c?u(p):d&&d(m6({items:p,lookup:h}))},[]),o=b6(i),s=F.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return O.jsx(RJ.Provider,{value:s,children:t})}function Khe(){const t=F.useContext(RJ);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Yhe=t=>!!t.panZoom;function fS(){const t=Uhe(),e=xr(),n=Khe(),r=fn(Yhe),i=F.useMemo(()=>{const o=d=>e.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var _,E;const{nodeLookup:h,nodeOrigin:p}=e.getState(),m=v6(d)?d:h.get(d.id),y=m.parentId?tJ(m.position,m.measured,m.parentId,h,p):m.position,w={...m,position:y,width:((_=m.measured)==null?void 0:_.width)??m.width,height:((E=m.measured)==null?void 0:E.height)??m.height};return Rv(w)},u=(d,h,p={replace:!1})=>{s(m=>m.map(y=>{if(y.id===d){const w=typeof h=="function"?h(y):h;return p.replace&&v6(w)?w:{...y,...w}}return y}))},c=(d,h,p={replace:!1})=>{a(m=>m.map(y=>{if(y.id===d){const w=typeof h=="function"?h(y):h;return p.replace&&qhe(w)?w:{...y,...w}}return y}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=o(d))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(h=>({...h}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:p}=e.getState(),[m,y,w]=p;return{nodes:d.map(_=>({..._})),edges:h.map(_=>({..._})),viewport:{x:m,y,zoom:w}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:p,edges:m,onNodesDelete:y,onEdgesDelete:w,triggerNodeChanges:_,triggerEdgeChanges:E,onDelete:S,onBeforeDelete:T}=e.getState(),{nodes:I,edges:N}=await bfe({nodesToRemove:d,edgesToRemove:h,nodes:p,edges:m,onBeforeDelete:T}),P=N.length>0,M=I.length>0;if(P){const D=N.map(y6);w==null||w(N),E(D)}if(M){const D=I.map(y6);y==null||y(I),_(D)}return(M||P)&&(S==null||S({nodes:I,edges:N})),{deletedNodes:I,deletedEdges:N}},getIntersectingNodes:(d,h=!0,p)=>{const m=jz(d),y=m?d:l(d),w=p!==void 0;return y?(p||e.getState().nodes).filter(_=>{const E=e.getState().nodeLookup.get(_.id);if(E&&!m&&(_.id===d.id||!E.internals.positionAbsolute))return!1;const S=Rv(w?_:E),T=Yw(S,y);return h&&T>0||T>=y.width*y.height}):[]},isNodeIntersecting:(d,h,p=!0)=>{const y=jz(d)?d:l(d);if(!y)return!1;const w=Yw(y,h);return p&&w>0||w>=y.width*y.height},updateNode:u,updateNodeData:(d,h,p={replace:!1})=>{u(d,m=>{const y=typeof h=="function"?h(m):h;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},updateEdge:c,updateEdgeData:(d,h,p={replace:!1})=>{c(d,m=>{const y=typeof h=="function"?h(m):h;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:p}=e.getState();return gfe(d,{nodeLookup:h,nodeOrigin:p})},getHandleConnections:({type:d,id:h,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${d}${h?`-${h}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:m.values())??[])},fitView:async d=>{const h=e.getState().fitViewResolver??Sfe();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:h}),n.nodeQueue.push(p=>[...p]),h.promise}}},[]);return F.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const w6=t=>t.selected,Xhe=typeof window<"u"?window:void 0;function Jhe({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=xr(),{deleteElements:r}=fS(),i=Jw(t,{actInsideInputWithModifier:!1}),o=Jw(e,{target:Xhe});F.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(w6),edges:s.filter(w6)}),n.setState({nodesSelectionActive:!1})}},[i]),F.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Qhe(t){const e=xr();F.useEffect(()=>{const n=()=>{var i,o;if(!t.current)return!1;const r=j$(t.current);(r.height===0||r.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",Su.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const QA={position:"absolute",width:"100%",height:"100%",top:0,left:0},Zhe=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function epe({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Lp.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:w,onViewportChange:_,isControlledViewport:E,paneClickDistance:S}){const T=xr(),I=F.useRef(null),{userSelectionActive:N,lib:P}=fn(Zhe,gr),M=Jw(h),D=F.useRef();Qhe(I);const k=F.useCallback(L=>{_==null||_({x:L[0],y:L[1],zoom:L[2]}),E||T.setState({transform:L})},[_,E]);return F.useEffect(()=>{if(I.current){D.current=rhe({domNode:I.current,minZoom:c,maxZoom:d,translateExtent:u,viewport:l,paneClickDistance:S,onDraggingChange:z=>T.setState({paneDragging:z}),onPanZoomStart:(z,G)=>{const{onViewportChangeStart:K,onMoveStart:J}=T.getState();J==null||J(z,G),K==null||K(G)},onPanZoom:(z,G)=>{const{onViewportChange:K,onMove:J}=T.getState();J==null||J(z,G),K==null||K(G)},onPanZoomEnd:(z,G)=>{const{onViewportChangeEnd:K,onMoveEnd:J}=T.getState();J==null||J(z,G),K==null||K(G)}});const{x:L,y:V,zoom:$}=D.current.getViewport();return T.setState({panZoom:D.current,transform:[L,V,$],domNode:I.current.closest(".react-flow")}),()=>{var z;(z=D.current)==null||z.destroy()}}},[]),F.useEffect(()=>{var L;(L=D.current)==null||L.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:M,preventScrolling:p,noPanClassName:w,userSelectionActive:N,noWheelClassName:y,lib:P,onTransformChange:k})},[t,e,n,r,i,o,s,a,M,p,w,N,y,P,k]),O.jsx("div",{className:"react-flow__renderer",ref:I,style:QA,children:m})}const tpe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function npe(){const{userSelectionActive:t,userSelectionRect:e}=fn(tpe,gr);return t&&e?O.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const dk=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},rpe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function ipe({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Kw.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const m=xr(),{userSelectionActive:y,elementsSelectable:w,dragging:_,connectionInProgress:E}=fn(rpe,gr),S=w&&(t||y),T=F.useRef(null),I=F.useRef(),N=F.useRef(new Set),P=F.useRef(new Set),M=F.useRef(!1),D=F.useRef(!1),k=J=>{if(M.current||E){M.current=!1;return}a==null||a(J),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},L=J=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){J.preventDefault();return}l==null||l(J)},V=u?J=>u(J):void 0,$=J=>{var ue,q;const{resetSelectedElements:ee,domNode:X}=m.getState();if(I.current=X==null?void 0:X.getBoundingClientRect(),!w||!t||J.button!==0||J.target!==T.current||!I.current)return;(q=(ue=J.target)==null?void 0:ue.setPointerCapture)==null||q.call(ue,J.pointerId),D.current=!0,M.current=!1;const{x:j,y:Q}=Oc(J.nativeEvent,I.current);ee(),m.setState({userSelectionRect:{width:0,height:0,startX:j,startY:Q,x:j,y:Q}}),o==null||o(J)},z=J=>{const{userSelectionRect:ee,transform:X,nodeLookup:j,edgeLookup:Q,connectionLookup:ue,triggerNodeChanges:q,triggerEdgeChanges:Y,defaultEdgeOptions:te}=m.getState();if(!I.current||!ee)return;M.current=!0;const{x:le,y:de}=Oc(J.nativeEvent,I.current),{startX:se,startY:ce}=ee,fe={startX:se,startY:ce,x:le<se?le:se,y:de<ce?de:ce,width:Math.abs(le-se),height:Math.abs(de-ce)},ye=N.current,we=P.current;N.current=new Set(H$(j,fe,X,n===Kw.Partial,!0).map(Ae=>Ae.id)),P.current=new Set;const Re=(te==null?void 0:te.selectable)??!0;for(const Ae of N.current){const be=ue.get(Ae);if(be)for(const{edgeId:Ke}of be.values()){const Ve=Q.get(Ke);Ve&&(Ve.selectable??Re)&&P.current.add(Ke)}}if(!Wz(ye,N.current)){const Ae=cy(j,N.current,!0);q(Ae)}if(!Wz(we,P.current)){const Ae=cy(Q,P.current);Y(Ae)}m.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},G=J=>{var X,j;if(J.button!==0||!D.current)return;(j=(X=J.target)==null?void 0:X.releasePointerCapture)==null||j.call(X,J.pointerId);const{userSelectionRect:ee}=m.getState();!y&&ee&&J.target===T.current&&(k==null||k(J)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),s==null||s(J),(e||i)&&(M.current=!1),D.current=!1},K=r===!0||Array.isArray(r)&&r.includes(0);return O.jsxs("div",{className:ri(["react-flow__pane",{draggable:K,dragging:_,selection:t}]),onClick:S?void 0:dk(k,T),onContextMenu:dk(L,T),onWheel:dk(V,T),onPointerEnter:S?void 0:c,onPointerDown:S?$:d,onPointerMove:S?z:d,onPointerUp:S?G:void 0,onPointerLeave:h,ref:T,style:QA,children:[p,O.jsx(npe,{})]})}function IL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",Su.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function PJ({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=xr(),[l,u]=F.useState(!1),c=F.useRef();return F.useEffect(()=>{c.current=Ufe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{IL({id:d,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),F.useEffect(()=>{var d,h;if(e)(d=c.current)==null||d.destroy();else if(t.current)return(h=c.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,o,t,i]),l}const ope=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function IJ(){const t=xr();return F.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),d=new Map,h=ope(s),p=i?o[0]:5,m=i?o[1]:5,y=n.direction.x*p*n.factor,w=n.direction.y*m*n.factor;for(const[,_]of u){if(!h(_))continue;let E={x:_.internals.positionAbsolute.x+y,y:_.internals.positionAbsolute.y+w};i&&(E=KA(E,o));const{position:S,positionAbsolute:T}=XX({nodeId:_.id,nextPosition:E,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});_.position=S,_.internals.positionAbsolute=T,d.set(_.id,_)}l(d)},[])}const X$=F.createContext(null),spe=X$.Provider;X$.Consumer;const kJ=()=>F.useContext(X$),ape=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),lpe=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:u}=s,c=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Cv.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function upe({type:t="source",position:e=ct.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...h},p){var G,K;const m=s||null,y=t==="target",w=xr(),_=kJ(),{connectOnClick:E,noPanClassName:S,rfId:T}=fn(ape,gr),{connectingFrom:I,connectingTo:N,clickConnecting:P,isPossibleEndHandle:M,connectionInProcess:D,clickConnectionInProcess:k,valid:L}=fn(lpe(_,m,t),gr);_||(K=(G=w.getState()).onError)==null||K.call(G,"010",Su.error010());const V=J=>{const{defaultEdgeOptions:ee,onConnect:X,hasDefaultEdges:j}=w.getState(),Q={...ee,...J};if(j){const{edges:ue,setEdges:q}=w.getState();q(aJ(Q,ue))}X==null||X(Q),a==null||a(Q)},$=J=>{if(!_)return;const ee=iJ(J.nativeEvent);if(i&&(ee&&J.button===0||!ee)){const X=w.getState();PL.onPointerDown(J.nativeEvent,{autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:y,handleId:m,nodeId:_,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:X.onConnectEnd,updateConnection:X.updateConnection,onConnect:V,isValidConnection:n||X.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed})}ee?c==null||c(J):d==null||d(J)},z=J=>{const{onClickConnectStart:ee,onClickConnectEnd:X,connectionClickStartHandle:j,connectionMode:Q,isValidConnection:ue,lib:q,rfId:Y,nodeLookup:te,connection:le}=w.getState();if(!_||!j&&!i)return;if(!j){ee==null||ee(J.nativeEvent,{nodeId:_,handleId:m,handleType:t}),w.setState({connectionClickStartHandle:{nodeId:_,type:t,id:m}});return}const de=nJ(J.target),se=n||ue,{connection:ce,isValid:fe}=PL.isValid(J.nativeEvent,{handle:{nodeId:_,id:m,type:t},connectionMode:Q,fromNodeId:j.nodeId,fromHandleId:j.id||null,fromType:j.type,isValidConnection:se,flowId:Y,doc:de,lib:q,nodeLookup:te});fe&&ce&&V(ce);const ye=structuredClone(le);delete ye.inProgress,ye.toPosition=ye.toHandle?ye.toHandle.position:null,X==null||X(J,ye),w.setState({connectionClickStartHandle:null})};return O.jsx("div",{"data-handleid":m,"data-nodeid":_,"data-handlepos":e,"data-id":`${T}-${_}-${m}-${t}`,className:ri(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",S,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,clickconnecting:P,connectingfrom:I,connectingto:N,valid:L,connectionindicator:r&&(!D||M)&&(D||k?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:E?z:void 0,ref:p,...h,children:l})}const Jo=F.memo(AJ(upe));function cpe({data:t,isConnectable:e,sourcePosition:n=ct.Bottom}){return O.jsxs(O.Fragment,{children:[t==null?void 0:t.label,O.jsx(Jo,{type:"source",position:n,isConnectable:e})]})}function dpe({data:t,isConnectable:e,targetPosition:n=ct.Top,sourcePosition:r=ct.Bottom}){return O.jsxs(O.Fragment,{children:[O.jsx(Jo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,O.jsx(Jo,{type:"source",position:r,isConnectable:e})]})}function fpe(){return null}function hpe({data:t,isConnectable:e,targetPosition:n=ct.Top}){return O.jsxs(O.Fragment,{children:[O.jsx(Jo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const mT={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},x6={input:cpe,default:dpe,output:hpe,group:fpe};function ppe(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const gpe=t=>{const{width:e,height:n,x:r,y:i}=cS(t.nodeLookup,{filter:o=>!!o.selected});return{width:tl(e)?e:null,height:tl(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function mpe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=xr(),{width:i,height:o,transformString:s,userSelectionActive:a}=fn(gpe,gr),l=IJ(),u=F.useRef(null);if(F.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),PJ({nodeRef:u}),a||!i||!o)return null;const c=t?h=>{const p=r.getState().nodes.filter(m=>m.selected);t(h,p)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call(mT,h.key)&&(h.preventDefault(),l({direction:mT[h.key],factor:h.shiftKey?4:1}))};return O.jsx("div",{className:ri(["react-flow__nodesselection","react-flow__container",e]),style:{transform:s},children:O.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const _6=typeof window<"u"?window:void 0,ype=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function MJ({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:w,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:T,panOnScrollSpeed:I,panOnScrollMode:N,zoomOnDoubleClick:P,panOnDrag:M,defaultViewport:D,translateExtent:k,minZoom:L,maxZoom:V,preventScrolling:$,onSelectionContextMenu:z,noWheelClassName:G,noPanClassName:K,disableKeyboardA11y:J,onViewportChange:ee,isControlledViewport:X}){const{nodesSelectionActive:j,userSelectionActive:Q}=fn(ype),ue=Jw(u,{target:_6}),q=Jw(y,{target:_6}),Y=q||M,te=q||T,le=c&&Y!==!0,de=ue||Q||le;return Jhe({deleteKeyCode:l,multiSelectionKeyCode:m}),O.jsx(epe,{onPaneContextMenu:o,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:te,panOnScrollSpeed:I,panOnScrollMode:N,zoomOnDoubleClick:P,panOnDrag:!ue&&Y,defaultViewport:D,translateExtent:k,minZoom:L,maxZoom:V,zoomActivationKeyCode:w,preventScrolling:$,noWheelClassName:G,noPanClassName:K,onViewportChange:ee,isControlledViewport:X,paneClickDistance:a,children:O.jsxs(ipe,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:Y,isSelecting:!!de,selectionMode:d,selectionKeyPressed:ue,selectionOnDrag:le,children:[t,j&&O.jsx(mpe,{onSelectionContextMenu:z,noPanClassName:K,disableKeyboardA11y:J})]})})}MJ.displayName="FlowRenderer";const vpe=F.memo(MJ),bpe=t=>e=>t?H$(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function wpe(t){return fn(F.useCallback(bpe(t),[t]),gr)}const xpe=t=>t.updateNodeInternals;function _pe(){const t=fn(xpe),[e]=F.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return F.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function Spe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=xr(),o=F.useRef(null),s=F.useRef(null),a=F.useRef(t.sourcePosition),l=F.useRef(t.targetPosition),u=F.useRef(e),c=n&&!!t.internals.handleBounds;return F.useEffect(()=>{o.current&&!t.hidden&&(!c||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[c,t.hidden]),F.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),F.useEffect(()=>{if(o.current){const d=u.current!==e,h=a.current!==t.sourcePosition,p=l.current!==t.targetPosition;(d||h||p)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function Epe({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:m,rfId:y,nodeTypes:w,nodeClickDistance:_,onError:E}){const{node:S,internals:T,isParent:I}=fn(se=>{const ce=se.nodeLookup.get(t),fe=se.parentLookup.has(t);return{node:ce,internals:ce.internals,isParent:fe}},gr);let N=S.type||"default",P=(w==null?void 0:w[N])||x6[N];P===void 0&&(E==null||E("003",Su.error003(N)),N="default",P=x6.default);const M=!!(S.draggable||a&&typeof S.draggable>"u"),D=!!(S.selectable||l&&typeof S.selectable>"u"),k=!!(S.connectable||u&&typeof S.connectable>"u"),L=!!(S.focusable||c&&typeof S.focusable>"u"),V=xr(),$=eJ(S),z=Spe({node:S,nodeType:N,hasDimensions:$,resizeObserver:d}),G=PJ({nodeRef:z,disabled:S.hidden||!M,noDragClassName:h,handleSelector:S.dragHandle,nodeId:t,isSelectable:D,nodeClickDistance:_}),K=IJ();if(S.hidden)return null;const J=id(S),ee=ppe(S),X=D||M||e||n||r||i,j=n?se=>n(se,{...T.userNode}):void 0,Q=r?se=>r(se,{...T.userNode}):void 0,ue=i?se=>i(se,{...T.userNode}):void 0,q=o?se=>o(se,{...T.userNode}):void 0,Y=s?se=>s(se,{...T.userNode}):void 0,te=se=>{const{selectNodesOnDrag:ce,nodeDragThreshold:fe}=V.getState();D&&(!ce||!M||fe>0)&&IL({id:t,store:V,nodeRef:z}),e&&e(se,{...T.userNode})},le=se=>{if(!(rJ(se.nativeEvent)||m)){if(jX.includes(se.key)&&D){const ce=se.key==="Escape";IL({id:t,store:V,unselect:ce,nodeRef:z})}else if(M&&S.selected&&Object.prototype.hasOwnProperty.call(mT,se.key)){se.preventDefault();const{ariaLabelConfig:ce}=V.getState();V.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:se.key.replace("Arrow","").toLowerCase(),x:~~T.positionAbsolute.x,y:~~T.positionAbsolute.y})}),K({direction:mT[se.key],factor:se.shiftKey?4:1})}}},de=()=>{var Ae;if(m||!((Ae=z.current)!=null&&Ae.matches(":focus-visible")))return;const{transform:se,width:ce,height:fe,autoPanOnNodeFocus:ye,setCenter:we}=V.getState();if(!ye)return;H$(new Map([[t,S]]),{x:0,y:0,width:ce,height:fe},se,!0).length>0||we(S.position.x+J.width/2,S.position.y+J.height/2,{zoom:se[2]})};return O.jsx("div",{className:ri(["react-flow__node",`react-flow__node-${N}`,{[p]:M},S.className,{selected:S.selected,selectable:D,parent:I,draggable:M,dragging:G}]),ref:z,style:{zIndex:T.z,transform:`translate(${T.positionAbsolute.x}px,${T.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:$?"visible":"hidden",...S.style,...ee},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:j,onMouseMove:Q,onMouseLeave:ue,onContextMenu:q,onClick:te,onDoubleClick:Y,onKeyDown:L?le:void 0,tabIndex:L?0:void 0,onFocus:L?de:void 0,role:S.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${xJ}-${y}`,"aria-label":S.ariaLabel,...S.domAttributes,children:O.jsx(spe,{value:t,children:O.jsx(P,{id:t,data:S.data,type:N,positionAbsoluteX:T.positionAbsolute.x,positionAbsoluteY:T.positionAbsolute.y,selected:S.selected??!1,selectable:D,draggable:M,deletable:S.deletable??!0,isConnectable:k,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:G,dragHandle:S.dragHandle,zIndex:T.z,parentId:S.parentId,...J})})})}const Cpe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function NJ(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=fn(Cpe,gr),s=wpe(t.onlyRenderVisibleElements),a=_pe();return O.jsx("div",{className:"react-flow__nodes",style:QA,children:s.map(l=>O.jsx(Epe,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},l))})}NJ.displayName="NodeRenderer";const Tpe=F.memo(NJ);function Ape(t){return fn(F.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&Afe({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),gr)}const Rpe=({color:t="none",strokeWidth:e=1})=>O.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Ppe=({color:t="none",strokeWidth:e=1})=>O.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),S6={[Tv.Arrow]:Rpe,[Tv.ArrowClosed]:Ppe};function Ipe(t){const e=xr();return F.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(S6,t)?S6[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",Su.error009(t)),null)},[t])}const kpe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Ipe(e);return l?O.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:O.jsx(l,{color:n,strokeWidth:s})}):null},DJ=({defaultColor:t,rfId:e})=>{const n=fn(o=>o.edges),r=fn(o=>o.defaultEdgeOptions),i=F.useMemo(()=>Dfe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?O.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:O.jsx("defs",{children:i.map(o=>O.jsx(kpe,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};DJ.displayName="MarkerDefinitions";var Mpe=F.memo(DJ);function LJ({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[d,h]=F.useState({x:1,y:0,width:0,height:0}),p=ri(["react-flow__edge-textwrapper",u]),m=F.useRef(null);return F.useEffect(()=>{if(m.current){const y=m.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?O.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&O.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),O.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}LJ.displayName="EdgeText";const Npe=F.memo(LJ);function o0({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return O.jsxs(O.Fragment,{children:[O.jsx("path",{...c,d:t,fill:"none",className:ri(["react-flow__edge-path",c.className])}),u&&O.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&tl(e)&&tl(n)?O.jsx(Npe,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function E6({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===ct.Left||t===ct.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function J$({sourceX:t,sourceY:e,sourcePosition:n=ct.Bottom,targetX:r,targetY:i,targetPosition:o=ct.Top}){const[s,a]=E6({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=E6({pos:o,x1:r,y1:i,x2:t,y2:e}),[c,d,h,p]=oJ({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${a} ${l},${u} ${r},${i}`,c,d,h,p]}function OJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:w,interactionWidth:_})=>{const[E,S,T]=J$({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),I=t.isInternal?void 0:e;return O.jsx(o0,{id:I,path:E,labelX:S,labelY:T,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:w,interactionWidth:_})})}const Dpe=OJ({isInternal:!1}),FJ=OJ({isInternal:!0});Dpe.displayName="SimpleBezierEdge";FJ.displayName="SimpleBezierEdgeInternal";function $J(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,sourcePosition:p=ct.Bottom,targetPosition:m=ct.Top,markerEnd:y,markerStart:w,pathOptions:_,interactionWidth:E})=>{const[S,T,I]=TL({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:m,borderRadius:_==null?void 0:_.borderRadius,offset:_==null?void 0:_.offset}),N=t.isInternal?void 0:e;return O.jsx(o0,{id:N,path:S,labelX:T,labelY:I,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:y,markerStart:w,interactionWidth:E})})}const BJ=$J({isInternal:!1}),VJ=$J({isInternal:!0});BJ.displayName="SmoothStepEdge";VJ.displayName="SmoothStepEdgeInternal";function zJ(t){return F.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return O.jsx(BJ,{...n,id:r,pathOptions:F.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Lpe=zJ({isInternal:!1}),UJ=zJ({isInternal:!0});Lpe.displayName="StepEdge";UJ.displayName="StepEdgeInternal";function HJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:m,interactionWidth:y})=>{const[w,_,E]=lJ({sourceX:n,sourceY:r,targetX:i,targetY:o}),S=t.isInternal?void 0:e;return O.jsx(o0,{id:S,path:w,labelX:_,labelY:E,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:m,interactionWidth:y})})}const Ope=HJ({isInternal:!1}),qJ=HJ({isInternal:!0});Ope.displayName="StraightEdge";qJ.displayName="StraightEdgeInternal";function jJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=ct.Bottom,targetPosition:a=ct.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:w,pathOptions:_,interactionWidth:E})=>{const[S,T,I]=YA({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:_==null?void 0:_.curvature}),N=t.isInternal?void 0:e;return O.jsx(o0,{id:N,path:S,labelX:T,labelY:I,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:w,interactionWidth:E})})}const Fpe=jJ({isInternal:!1}),WJ=jJ({isInternal:!0});Fpe.displayName="BezierEdge";WJ.displayName="BezierEdgeInternal";const C6={default:WJ,straight:qJ,step:UJ,smoothstep:VJ,simplebezier:FJ},T6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},$pe=(t,e,n)=>n===ct.Left?t-e:n===ct.Right?t+e:t,Bpe=(t,e,n)=>n===ct.Top?t-e:n===ct.Bottom?t+e:t,A6="react-flow__edgeupdater";function R6({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return O.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:ri([A6,`${A6}-${a}`]),cx:$pe(e,r,t),cy:Bpe(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Vpe({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:h,setUpdateHover:p}){const m=xr(),y=(T,I)=>{if(T.button!==0)return;const{autoPanOnConnect:N,domNode:P,isValidConnection:M,connectionMode:D,connectionRadius:k,lib:L,onConnectStart:V,onConnectEnd:$,cancelConnection:z,nodeLookup:G,rfId:K,panBy:J,updateConnection:ee}=m.getState(),X=I.type==="target";h(!0),c==null||c(T,n,I.type);const j=(ue,q)=>{h(!1),d==null||d(ue,n,I.type,q)},Q=ue=>u==null?void 0:u(n,ue);PL.onPointerDown(T.nativeEvent,{autoPanOnConnect:N,connectionMode:D,connectionRadius:k,domNode:P,handleId:I.id,nodeId:I.nodeId,nodeLookup:G,isTarget:X,edgeUpdaterType:I.type,lib:L,flowId:K,cancelConnection:z,panBy:J,isValidConnection:M,onConnect:Q,onConnectStart:V,onConnectEnd:$,onReconnectEnd:j,updateConnection:ee,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},w=T=>y(T,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=T=>y(T,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>p(!0),S=()=>p(!1);return O.jsxs(O.Fragment,{children:[(t===!0||t==="source")&&O.jsx(R6,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:w,onMouseEnter:E,onMouseOut:S,type:"source"}),(t===!0||t==="target")&&O.jsx(R6,{position:l,centerX:o,centerY:s,radius:e,onMouseDown:_,onMouseEnter:E,onMouseOut:S,type:"target"})]})}function zpe({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,rfId:m,edgeTypes:y,noPanClassName:w,onError:_,disableKeyboardA11y:E}){let S=fn(we=>we.edgeLookup.get(t));const T=fn(we=>we.defaultEdgeOptions);S=T?{...T,...S}:S;let I=S.type||"default",N=(y==null?void 0:y[I])||C6[I];N===void 0&&(_==null||_("011",Su.error011(I)),I="default",N=C6.default);const P=!!(S.focusable||e&&typeof S.focusable>"u"),M=typeof d<"u"&&(S.reconnectable||n&&typeof S.reconnectable>"u"),D=!!(S.selectable||r&&typeof S.selectable>"u"),k=F.useRef(null),[L,V]=F.useState(!1),[$,z]=F.useState(!1),G=xr(),{zIndex:K,sourceX:J,sourceY:ee,targetX:X,targetY:j,sourcePosition:Q,targetPosition:ue}=fn(F.useCallback(we=>{const Re=we.nodeLookup.get(S.source),Ae=we.nodeLookup.get(S.target);if(!Re||!Ae)return{zIndex:S.zIndex,...T6};const be=Nfe({id:t,sourceNode:Re,targetNode:Ae,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:we.connectionMode,onError:_});return{zIndex:Tfe({selected:S.selected,zIndex:S.zIndex,sourceNode:Re,targetNode:Ae,elevateOnSelect:we.elevateEdgesOnSelect}),...be||T6}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),gr),q=F.useMemo(()=>S.markerStart?`url('#${AL(S.markerStart,m)}')`:void 0,[S.markerStart,m]),Y=F.useMemo(()=>S.markerEnd?`url('#${AL(S.markerEnd,m)}')`:void 0,[S.markerEnd,m]);if(S.hidden||J===null||ee===null||X===null||j===null)return null;const te=we=>{var Ke;const{addSelectedEdges:Re,unselectNodesAndEdges:Ae,multiSelectionActive:be}=G.getState();D&&(G.setState({nodesSelectionActive:!1}),S.selected&&be?(Ae({nodes:[],edges:[S]}),(Ke=k.current)==null||Ke.blur()):Re([t])),i&&i(we,S)},le=o?we=>{o(we,{...S})}:void 0,de=s?we=>{s(we,{...S})}:void 0,se=a?we=>{a(we,{...S})}:void 0,ce=l?we=>{l(we,{...S})}:void 0,fe=u?we=>{u(we,{...S})}:void 0,ye=we=>{var Re;if(!E&&jX.includes(we.key)&&D){const{unselectNodesAndEdges:Ae,addSelectedEdges:be}=G.getState();we.key==="Escape"?((Re=k.current)==null||Re.blur(),Ae({edges:[S]})):be([t])}};return O.jsx("svg",{style:{zIndex:K},children:O.jsxs("g",{className:ri(["react-flow__edge",`react-flow__edge-${I}`,S.className,w,{selected:S.selected,animated:S.animated,inactive:!D&&!i,updating:L,selectable:D}]),onClick:te,onDoubleClick:le,onContextMenu:de,onMouseEnter:se,onMouseMove:ce,onMouseLeave:fe,onKeyDown:P?ye:void 0,tabIndex:P?0:void 0,role:S.ariaRole??(P?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":P?`${_J}-${m}`:void 0,ref:k,...S.domAttributes,children:[!$&&O.jsx(N,{id:t,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:D,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:J,sourceY:ee,targetX:X,targetY:j,sourcePosition:Q,targetPosition:ue,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:q,markerEnd:Y,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),M&&O.jsx(Vpe,{edge:S,isReconnectable:M,reconnectRadius:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,sourceX:J,sourceY:ee,targetX:X,targetY:j,sourcePosition:Q,targetPosition:ue,setUpdateHover:V,setReconnecting:z})]})})}const Upe=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function GJ({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:y}){const{edgesFocusable:w,edgesReconnectable:_,elementsSelectable:E,onError:S}=fn(Upe,gr),T=Ape(e);return O.jsxs("div",{className:"react-flow__edges",children:[O.jsx(Mpe,{defaultColor:t,rfId:n}),T.map(I=>O.jsx(zpe,{id:I,edgesFocusable:w,edgesReconnectable:_,elementsSelectable:E,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:y},I))]})}GJ.displayName="EdgeRenderer";const Hpe=F.memo(GJ),qpe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function jpe({children:t}){const e=fn(qpe);return O.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Wpe(t){const e=fS(),n=F.useRef(!1);F.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Gpe=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function Kpe(t){const e=fn(Gpe),n=xr();return F.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Ype(t){return t.connection.inProgress?{...t.connection,to:dS(t.connection.to,t.transform)}:{...t.connection}}function Xpe(t){return Ype}function Q$(t){const e=Xpe();return fn(e,gr)}const Jpe=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Qpe({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=fn(Jpe,gr);return!(o&&i&&l)?null:O.jsx("svg",{style:t,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:O.jsx("g",{className:ri(["react-flow__connection",KX(a)]),children:O.jsx(KJ,{style:e,type:n,CustomComponent:r,isValid:a})})})}const KJ=({style:t,type:e=Xd.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:d,toPosition:h}=Q$();if(!i)return;if(n)return O.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:h,connectionStatus:KX(r),toNode:c,toHandle:d});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:h};switch(e){case Xd.Bezier:[p]=YA(m);break;case Xd.SimpleBezier:[p]=J$(m);break;case Xd.Step:[p]=TL({...m,borderRadius:0});break;case Xd.SmoothStep:[p]=TL(m);break;default:[p]=lJ(m)}return O.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};KJ.displayName="ConnectionLine";const Zpe={};function P6(t=Zpe){F.useRef(t),xr(),F.useEffect(()=>{},[t])}function ege(){xr(),F.useRef(!1),F.useEffect(()=>{},[])}function YJ({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:S,selectionMode:T,multiSelectionKeyCode:I,panActivationKeyCode:N,zoomActivationKeyCode:P,deleteKeyCode:M,onlyRenderVisibleElements:D,elementsSelectable:k,defaultViewport:L,translateExtent:V,minZoom:$,maxZoom:z,preventScrolling:G,defaultMarkerColor:K,zoomOnScroll:J,zoomOnPinch:ee,panOnScroll:X,panOnScrollSpeed:j,panOnScrollMode:Q,zoomOnDoubleClick:ue,panOnDrag:q,onPaneClick:Y,onPaneMouseEnter:te,onPaneMouseMove:le,onPaneMouseLeave:de,onPaneScroll:se,onPaneContextMenu:ce,paneClickDistance:fe,nodeClickDistance:ye,onEdgeContextMenu:we,onEdgeMouseEnter:Re,onEdgeMouseMove:Ae,onEdgeMouseLeave:be,reconnectRadius:Ke,onReconnect:Ve,onReconnectStart:Oe,onReconnectEnd:Me,noDragClassName:je,noWheelClassName:wt,noPanClassName:ke,disableKeyboardA11y:dt,nodeExtent:ot,rfId:St,viewport:ve,onViewportChange:Ce}){return P6(t),P6(e),ege(),Wpe(n),Kpe(ve),O.jsx(vpe,{onPaneClick:Y,onPaneMouseEnter:te,onPaneMouseMove:le,onPaneMouseLeave:de,onPaneContextMenu:ce,onPaneScroll:se,paneClickDistance:fe,deleteKeyCode:M,selectionKeyCode:E,selectionOnDrag:S,selectionMode:T,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:I,panActivationKeyCode:N,zoomActivationKeyCode:P,elementsSelectable:k,zoomOnScroll:J,zoomOnPinch:ee,zoomOnDoubleClick:ue,panOnScroll:X,panOnScrollSpeed:j,panOnScrollMode:Q,panOnDrag:q,defaultViewport:L,translateExtent:V,minZoom:$,maxZoom:z,onSelectionContextMenu:d,preventScrolling:G,noDragClassName:je,noWheelClassName:wt,noPanClassName:ke,disableKeyboardA11y:dt,onViewportChange:Ce,isControlledViewport:!!ve,children:O.jsxs(jpe,{children:[O.jsx(Hpe,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:Ve,onReconnectStart:Oe,onReconnectEnd:Me,onlyRenderVisibleElements:D,onEdgeContextMenu:we,onEdgeMouseEnter:Re,onEdgeMouseMove:Ae,onEdgeMouseLeave:be,reconnectRadius:Ke,defaultMarkerColor:K,noPanClassName:ke,disableKeyboardA11y:dt,rfId:St}),O.jsx(Qpe,{style:y,type:m,component:w,containerStyle:_}),O.jsx("div",{className:"react-flow__edgelabel-renderer"}),O.jsx(Tpe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:ye,onlyRenderVisibleElements:D,noPanClassName:ke,noDragClassName:je,disableKeyboardA11y:dt,nodeExtent:ot,rfId:St}),O.jsx("div",{className:"react-flow__viewport-portal"})]})})}YJ.displayName="GraphView";const tge=F.memo(YJ),I6=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:d}={})=>{const h=new Map,p=new Map,m=new Map,y=new Map,w=r??e??[],_=n??t??[],E=c??[0,0],S=d??Gw;cJ(m,y,w);const T=RL(_,h,p,{nodeOrigin:E,nodeExtent:S,elevateNodesOnSelect:!1});let I=[0,0,1];if(s&&i&&o){const N=cS(h,{filter:k=>!!((k.width||k.initialWidth)&&(k.height||k.initialHeight))}),{x:P,y:M,zoom:D}=q$(N,i,o,l,u,(a==null?void 0:a.padding)??.1);I=[P,M,D]}return{rfId:"1",width:0,height:0,transform:I,nodes:_,nodesInitialized:T,nodeLookup:h,parentLookup:p,edges:w,edgeLookup:y,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Gw,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Cv.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...GX},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:wfe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:WX}},nge=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d})=>_he((h,p)=>{async function m(){const{nodeLookup:y,panZoom:w,fitViewOptions:_,fitViewResolver:E,width:S,height:T,minZoom:I,maxZoom:N}=p();w&&(await vfe({nodes:y,width:S,height:T,panZoom:w,minZoom:I,maxZoom:N},_),E==null||E.resolve(!0),h({fitViewResolver:null}))}return{...I6({nodes:t,edges:e,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:w,parentLookup:_,nodeOrigin:E,elevateNodesOnSelect:S,fitViewQueued:T}=p(),I=RL(y,w,_,{nodeOrigin:E,nodeExtent:d,elevateNodesOnSelect:S,checkEquality:!0});T&&I?(m(),h({nodes:y,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:y,nodesInitialized:I})},setEdges:y=>{const{connectionLookup:w,edgeLookup:_}=p();cJ(w,_,y),h({edges:y})},setDefaultNodesAndEdges:(y,w)=>{if(y){const{setNodes:_}=p();_(y),h({hasDefaultNodes:!0})}if(w){const{setEdges:_}=p();_(w),h({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:w,nodeLookup:_,parentLookup:E,domNode:S,nodeOrigin:T,nodeExtent:I,debug:N,fitViewQueued:P}=p(),{changes:M,updatedInternals:D}=Bfe(y,_,E,S,T,I);D&&(Ofe(_,E,{nodeOrigin:T,nodeExtent:I}),P?(m(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(M==null?void 0:M.length)>0&&(N&&console.log("React Flow: trigger node changes",M),w==null||w(M)))},updateNodePositions:(y,w=!1)=>{const _=[],E=[],{nodeLookup:S,triggerNodeChanges:T}=p();for(const[I,N]of y){const P=S.get(I),M=!!(P!=null&&P.expandParent&&(P!=null&&P.parentId)&&(N!=null&&N.position)),D={id:I,type:"position",position:M?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:w};M&&P.parentId&&_.push({id:I,parentId:P.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),E.push(D)}if(_.length>0){const{parentLookup:I,nodeOrigin:N}=p(),P=Y$(_,S,I,N);E.push(...P)}T(E)},triggerNodeChanges:y=>{const{onNodesChange:w,setNodes:_,nodes:E,hasDefaultNodes:S,debug:T}=p();if(y!=null&&y.length){if(S){const I=CJ(y,E);_(I)}T&&console.log("React Flow: trigger node changes",y),w==null||w(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:w,setEdges:_,edges:E,hasDefaultEdges:S,debug:T}=p();if(y!=null&&y.length){if(S){const I=TJ(y,E);_(I)}T&&console.log("React Flow: trigger edge changes",y),w==null||w(y)}},addSelectedNodes:y=>{const{multiSelectionActive:w,edgeLookup:_,nodeLookup:E,triggerNodeChanges:S,triggerEdgeChanges:T}=p();if(w){const I=y.map(N=>Eh(N,!0));S(I);return}S(cy(E,new Set([...y]),!0)),T(cy(_))},addSelectedEdges:y=>{const{multiSelectionActive:w,edgeLookup:_,nodeLookup:E,triggerNodeChanges:S,triggerEdgeChanges:T}=p();if(w){const I=y.map(N=>Eh(N,!0));T(I);return}T(cy(_,new Set([...y]))),S(cy(E,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:w}={})=>{const{edges:_,nodes:E,nodeLookup:S,triggerNodeChanges:T,triggerEdgeChanges:I}=p(),N=y||E,P=w||_,M=N.map(k=>{const L=S.get(k.id);return L&&(L.selected=!1),Eh(k.id,!1)}),D=P.map(k=>Eh(k.id,!1));T(M),I(D)},setMinZoom:y=>{const{panZoom:w,maxZoom:_}=p();w==null||w.setScaleExtent([y,_]),h({minZoom:y})},setMaxZoom:y=>{const{panZoom:w,minZoom:_}=p();w==null||w.setScaleExtent([_,y]),h({maxZoom:y})},setTranslateExtent:y=>{var w;(w=p().panZoom)==null||w.setTranslateExtent(y),h({translateExtent:y})},setPaneClickDistance:y=>{var w;(w=p().panZoom)==null||w.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:w,triggerNodeChanges:_,triggerEdgeChanges:E,elementsSelectable:S}=p();if(!S)return;const T=w.reduce((N,P)=>P.selected?[...N,Eh(P.id,!1)]:N,[]),I=y.reduce((N,P)=>P.selected?[...N,Eh(P.id,!1)]:N,[]);_(T),E(I)},setNodeExtent:y=>{const{nodes:w,nodeLookup:_,parentLookup:E,nodeOrigin:S,elevateNodesOnSelect:T,nodeExtent:I}=p();y[0][0]===I[0][0]&&y[0][1]===I[0][1]&&y[1][0]===I[1][0]&&y[1][1]===I[1][1]||(RL(w,_,E,{nodeOrigin:S,nodeExtent:y,elevateNodesOnSelect:T,checkEquality:!1}),h({nodeExtent:y}))},panBy:y=>{const{transform:w,width:_,height:E,panZoom:S,translateExtent:T}=p();return Vfe({delta:y,panZoom:S,transform:w,translateExtent:T,width:_,height:E})},setCenter:async(y,w,_)=>{const{width:E,height:S,maxZoom:T,panZoom:I}=p();if(!I)return Promise.resolve(!1);const N=typeof(_==null?void 0:_.zoom)<"u"?_.zoom:T;return await I.setViewport({x:E/2-y*N,y:S/2-w*N,zoom:N},{duration:_==null?void 0:_.duration,ease:_==null?void 0:_.ease,interpolate:_==null?void 0:_.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...GX}})},updateConnection:y=>{h({connection:y})},reset:()=>h({...I6()})}},Object.is);function XJ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:d,children:h}){const[p]=F.useState(()=>nge({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:d}));return O.jsx(She,{value:p,children:O.jsx(Ghe,{children:h})})}function rge({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:h}){return F.useContext(JA)?O.jsx(O.Fragment,{children:t}):O.jsx(XJ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:d,nodeExtent:h,children:t})}const ige={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function oge({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:_,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:I,onNodeDoubleClick:N,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:D,onNodesDelete:k,onEdgesDelete:L,onDelete:V,onSelectionChange:$,onSelectionDragStart:z,onSelectionDrag:G,onSelectionDragStop:K,onSelectionContextMenu:J,onSelectionStart:ee,onSelectionEnd:X,onBeforeDelete:j,connectionMode:Q,connectionLineType:ue=Xd.Bezier,connectionLineStyle:q,connectionLineComponent:Y,connectionLineContainerStyle:te,deleteKeyCode:le="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:se=!1,selectionMode:ce=Kw.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ye=gT()?"Meta":"Control",zoomActivationKeyCode:we=gT()?"Meta":"Control",snapToGrid:Re,snapGrid:Ae,onlyRenderVisibleElements:be=!1,selectNodesOnDrag:Ke,nodesDraggable:Ve,autoPanOnNodeFocus:Oe,nodesConnectable:Me,nodesFocusable:je,nodeOrigin:wt=SJ,edgesFocusable:ke,edgesReconnectable:dt,elementsSelectable:ot=!0,defaultViewport:St=Fhe,minZoom:ve=.5,maxZoom:Ce=2,translateExtent:He=Gw,preventScrolling:et=!0,nodeExtent:Ze,defaultMarkerColor:tt="#b1b1b7",zoomOnScroll:Yt=!0,zoomOnPinch:$t=!0,panOnScroll:rn=!1,panOnScrollSpeed:Qe=.5,panOnScrollMode:Rt=Lp.Free,zoomOnDoubleClick:mn=!0,panOnDrag:_n=!0,onPaneClick:Ye,onPaneMouseEnter:xt,onPaneMouseMove:Pt,onPaneMouseLeave:Ut,onPaneScroll:Rn,onPaneContextMenu:kn,paneClickDistance:Zn=0,nodeClickDistance:Mn=0,children:Bt,onReconnect:_r,onReconnectStart:vl,onReconnectEnd:Sr,onEdgeContextMenu:fd,onEdgeDoubleClick:cs,onEdgeMouseEnter:Du,onEdgeMouseMove:Lu,onEdgeMouseLeave:hd,reconnectRadius:ds=10,onNodesChange:eh,onEdgesChange:A0,noDragClassName:pd="nodrag",noWheelClassName:Rg="nowheel",noPanClassName:Ro="nopan",fitView:bl,fitViewOptions:Po,connectOnClick:Pg,attributionPosition:th,proOptions:gd,defaultEdgeOptions:md,elevateNodesOnSelect:nh,elevateEdgesOnSelect:Ig,disableKeyboardA11y:kg=!1,autoPanOnConnect:Kn,autoPanOnNodeDrag:Mg,autoPanSpeed:Ou,connectionRadius:wl,isValidConnection:Io,onError:rh,style:Ng,id:xl,nodeDragThreshold:ho,viewport:Dg,onViewportChange:Ci,width:ih,height:Lg,colorMode:Og="light",debug:yd,onScroll:ba,ariaLabelConfig:_l,...Fu},R0){const fs=xl||"1",po=zhe(Og),$u=F.useCallback(wa=>{wa.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ba==null||ba(wa)},[ba]);return O.jsx("div",{"data-testid":"rf__wrapper",...Fu,onScroll:$u,style:{...Ng,...ige},ref:R0,className:ri(["react-flow",i,po]),id:xl,role:"application",children:O.jsxs(rge,{nodes:t,edges:e,width:ih,height:Lg,fitView:bl,fitViewOptions:Po,minZoom:ve,maxZoom:Ce,nodeOrigin:wt,nodeExtent:Ze,children:[O.jsx(tge,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:I,onNodeDoubleClick:N,nodeTypes:o,edgeTypes:s,connectionLineType:ue,connectionLineStyle:q,connectionLineComponent:Y,connectionLineContainerStyle:te,selectionKeyCode:de,selectionOnDrag:se,selectionMode:ce,deleteKeyCode:le,multiSelectionKeyCode:ye,panActivationKeyCode:fe,zoomActivationKeyCode:we,onlyRenderVisibleElements:be,defaultViewport:St,translateExtent:He,minZoom:ve,maxZoom:Ce,preventScrolling:et,zoomOnScroll:Yt,zoomOnPinch:$t,zoomOnDoubleClick:mn,panOnScroll:rn,panOnScrollSpeed:Qe,panOnScrollMode:Rt,panOnDrag:_n,onPaneClick:Ye,onPaneMouseEnter:xt,onPaneMouseMove:Pt,onPaneMouseLeave:Ut,onPaneScroll:Rn,onPaneContextMenu:kn,paneClickDistance:Zn,nodeClickDistance:Mn,onSelectionContextMenu:J,onSelectionStart:ee,onSelectionEnd:X,onReconnect:_r,onReconnectStart:vl,onReconnectEnd:Sr,onEdgeContextMenu:fd,onEdgeDoubleClick:cs,onEdgeMouseEnter:Du,onEdgeMouseMove:Lu,onEdgeMouseLeave:hd,reconnectRadius:ds,defaultMarkerColor:tt,noDragClassName:pd,noWheelClassName:Rg,noPanClassName:Ro,rfId:fs,disableKeyboardA11y:kg,nodeExtent:Ze,viewport:Dg,onViewportChange:Ci}),O.jsx(Vhe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:_,nodesDraggable:Ve,autoPanOnNodeFocus:Oe,nodesConnectable:Me,nodesFocusable:je,edgesFocusable:ke,edgesReconnectable:dt,elementsSelectable:ot,elevateNodesOnSelect:nh,elevateEdgesOnSelect:Ig,minZoom:ve,maxZoom:Ce,nodeExtent:Ze,onNodesChange:eh,onEdgesChange:A0,snapToGrid:Re,snapGrid:Ae,connectionMode:Q,translateExtent:He,connectOnClick:Pg,defaultEdgeOptions:md,fitView:bl,fitViewOptions:Po,onNodesDelete:k,onEdgesDelete:L,onDelete:V,onNodeDragStart:P,onNodeDrag:M,onNodeDragStop:D,onSelectionDrag:G,onSelectionDragStart:z,onSelectionDragStop:K,onMove:c,onMoveStart:d,onMoveEnd:h,noPanClassName:Ro,nodeOrigin:wt,rfId:fs,autoPanOnConnect:Kn,autoPanOnNodeDrag:Mg,autoPanSpeed:Ou,onError:rh,connectionRadius:wl,isValidConnection:Io,selectNodesOnDrag:Ke,nodeDragThreshold:ho,onBeforeDelete:j,paneClickDistance:Zn,debug:yd,ariaLabelConfig:_l}),O.jsx(Ohe,{onSelectionChange:$}),Bt,O.jsx(khe,{proOptions:gd,position:th}),O.jsx(Phe,{rfId:fs,disableKeyboardA11y:kg})]})})}var sge=AJ(oge);const age=t=>{var e;return(e=t.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function JJ({children:t}){const e=fn(age);return e?Fc.createPortal(t,e):null}const lge=t=>t.nodes;function uge(){return fn(lge,gr)}function cge(t){const[e,n]=F.useState(t),r=F.useCallback(i=>n(o=>CJ(i,o)),[]);return[e,n,r]}function dge(t){const[e,n]=F.useState(t),r=F.useCallback(i=>n(o=>TJ(i,o)),[]);return[e,n,r]}function k6(t){return fn(F.useCallback(n=>n.nodeLookup.get(t),[t]),gr)}function fge({dimensions:t,lineWidth:e,variant:n,className:r}){return O.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:ri(["react-flow__background-pattern",n,r])})}function hge({radius:t,className:e}){return O.jsx("circle",{cx:t,cy:t,r:t,className:ri(["react-flow__background-pattern","dots",e])})}var Tf;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Tf||(Tf={}));const pge={[Tf.Dots]:1,[Tf.Lines]:1,[Tf.Cross]:6},gge=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function QJ({id:t,variant:e=Tf.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:u,patternClassName:c}){const d=F.useRef(null),{transform:h,patternId:p}=fn(gge,gr),m=r||pge[e],y=e===Tf.Dots,w=e===Tf.Cross,_=Array.isArray(n)?n:[n,n],E=[_[0]*h[2]||1,_[1]*h[2]||1],S=m*h[2],T=Array.isArray(o)?o:[o,o],I=w?[S,S]:E,N=[T[0]*h[2]||1+I[0]/2,T[1]*h[2]||1+I[1]/2],P=`${p}${t||""}`;return O.jsxs("svg",{className:ri(["react-flow__background",u]),style:{...l,...QA,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[O.jsx("pattern",{id:P,x:h[0]%E[0],y:h[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:y?O.jsx(hge,{radius:S/2,className:c}):O.jsx(fge,{dimensions:I,lineWidth:i,variant:e,className:c})}),O.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${P})`})]})}QJ.displayName="Background";const mge=F.memo(QJ);function yge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:O.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function vge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:O.jsx("path",{d:"M0 0h32v4.2H0z"})})}function bge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:O.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function wge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:O.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function xge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:O.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function c1({children:t,className:e,...n}){return O.jsx("button",{type:"button",className:ri(["react-flow__controls-button",e]),...n,children:t})}const _ge=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function ZJ({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:h="vertical","aria-label":p}){const m=xr(),{isInteractive:y,minZoomReached:w,maxZoomReached:_,ariaLabelConfig:E}=fn(_ge,gr),{zoomIn:S,zoomOut:T,fitView:I}=fS(),N=()=>{S(),o==null||o()},P=()=>{T(),s==null||s()},M=()=>{I(i),a==null||a()},D=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},k=h==="horizontal"?"horizontal":"vertical";return O.jsxs(kv,{className:ri(["react-flow__controls",k,u]),position:d,style:t,"data-testid":"rf__controls","aria-label":p??E["controls.ariaLabel"],children:[e&&O.jsxs(O.Fragment,{children:[O.jsx(c1,{onClick:N,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:_,children:O.jsx(yge,{})}),O.jsx(c1,{onClick:P,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:w,children:O.jsx(vge,{})})]}),n&&O.jsx(c1,{className:"react-flow__controls-fitview",onClick:M,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:O.jsx(bge,{})}),r&&O.jsx(c1,{className:"react-flow__controls-interactive",onClick:D,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:y?O.jsx(xge,{}):O.jsx(wge,{})}),c]})}ZJ.displayName="Controls";const Sge=F.memo(ZJ);function Ege({id:t,x:e,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,selected:h,onClick:p}){const{background:m,backgroundColor:y}=o||{},w=s||m||y;return O.jsx("rect",{className:ri(["react-flow__minimap-node",{selected:h},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:w,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?_=>p(_,t):void 0})}const Cge=F.memo(Ege),Tge=t=>t.nodes.map(e=>e.id),fk=t=>t instanceof Function?t:()=>t;function Age({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Cge,onClick:s}){const a=fn(Tge,gr),l=fk(e),u=fk(t),c=fk(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return O.jsx(O.Fragment,{children:a.map(h=>O.jsx(Pge,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},h))})}function Rge({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:u,x:c,y:d,width:h,height:p}=fn(m=>{const{internals:y}=m.nodeLookup.get(t),w=y.userNode,{x:_,y:E}=y.positionAbsolute,{width:S,height:T}=id(w);return{node:w,x:_,y:E,width:S,height:T}},gr);return!u||u.hidden||!eJ(u)?null:O.jsx(a,{x:c,y:d,width:h,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:l,id:u.id})}const Pge=F.memo(Rge);var Ige=F.memo(Age);const kge=200,Mge=150,Nge=t=>!t.hidden,Dge=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?ZX(cS(t.nodeLookup,{filter:Nge}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},Lge="react-flow__minimap-desc";function eQ({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:d,position:h="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:w=!1,ariaLabel:_,inversePan:E,zoomStep:S=10,offsetScale:T=5}){const I=xr(),N=F.useRef(null),{boundingRect:P,viewBB:M,rfId:D,panZoom:k,translateExtent:L,flowWidth:V,flowHeight:$,ariaLabelConfig:z}=fn(Dge,gr),G=(t==null?void 0:t.width)??kge,K=(t==null?void 0:t.height)??Mge,J=P.width/G,ee=P.height/K,X=Math.max(J,ee),j=X*G,Q=X*K,ue=T*X,q=P.x-(j-P.width)/2-ue,Y=P.y-(Q-P.height)/2-ue,te=j+ue*2,le=Q+ue*2,de=`${Lge}-${D}`,se=F.useRef(0),ce=F.useRef();se.current=X,F.useEffect(()=>{if(N.current&&k)return ce.current=Kfe({domNode:N.current,panZoom:k,getTransform:()=>I.getState().transform,getViewScale:()=>se.current}),()=>{var Re;(Re=ce.current)==null||Re.destroy()}},[k]),F.useEffect(()=>{var Re;(Re=ce.current)==null||Re.update({translateExtent:L,width:V,height:$,inversePan:E,pannable:y,zoomStep:S,zoomable:w})},[y,w,E,S,L,V,$]);const fe=p?Re=>{var Ke;const[Ae,be]=((Ke=ce.current)==null?void 0:Ke.pointer(Re))||[0,0];p(Re,{x:Ae,y:be})}:void 0,ye=m?F.useCallback((Re,Ae)=>{const be=I.getState().nodeLookup.get(Ae).internals.userNode;m(Re,be)},[]):void 0,we=_??z["minimap.ariaLabel"];return O.jsx(kv,{position:h,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*X:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ri(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:O.jsxs("svg",{width:G,height:K,viewBox:`${q} ${Y} ${te} ${le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:N,onClick:fe,children:[we&&O.jsx("title",{id:de,children:we}),O.jsx(Ige,{onClick:ye,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),O.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-ue},${Y-ue}h${te+ue*2}v${le+ue*2}h${-te-ue*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}eQ.displayName="MiniMap";const Oge=F.memo(eQ),Fge=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,$ge={[Iv.Line]:"right",[Iv.Handle]:"bottom-right"};function Bge({nodeId:t,position:e,variant:n=Iv.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:p=!0,shouldResize:m,onResizeStart:y,onResize:w,onResizeEnd:_}){const E=kJ(),S=typeof t=="string"?t:E,T=xr(),I=F.useRef(null),N=n===Iv.Handle,P=fn(F.useCallback(Fge(N&&p),[N,p]),gr),M=F.useRef(null),D=e??$ge[n];F.useEffect(()=>{if(!(!I.current||!S))return M.current||(M.current=che({domNode:I.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:L,transform:V,snapGrid:$,snapToGrid:z,nodeOrigin:G,domNode:K}=T.getState();return{nodeLookup:L,transform:V,snapGrid:$,snapToGrid:z,nodeOrigin:G,paneDomNode:K}},onChange:(L,V)=>{const{triggerNodeChanges:$,nodeLookup:z,parentLookup:G,nodeOrigin:K}=T.getState(),J=[],ee={x:L.x,y:L.y},X=z.get(S);if(X&&X.expandParent&&X.parentId){const j=X.origin??K,Q=L.width??X.measured.width??0,ue=L.height??X.measured.height??0,q={id:X.id,parentId:X.parentId,rect:{width:Q,height:ue,...tJ({x:L.x??X.position.x,y:L.y??X.position.y},{width:Q,height:ue},X.parentId,z,j)}},Y=Y$([q],z,G,K);J.push(...Y),ee.x=L.x?Math.max(j[0]*Q,L.x):void 0,ee.y=L.y?Math.max(j[1]*ue,L.y):void 0}if(ee.x!==void 0&&ee.y!==void 0){const j={id:S,type:"position",position:{...ee}};J.push(j)}if(L.width!==void 0&&L.height!==void 0){const Q={id:S,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};J.push(Q)}for(const j of V){const Q={...j,type:"position"};J.push(Q)}$(J)},onEnd:({width:L,height:V})=>{const $={id:S,type:"dimensions",resizing:!1,dimensions:{width:L,height:V}};T.getState().triggerNodeChanges([$])}})),M.current.update({controlPosition:D,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:d,resizeDirection:h,onResizeStart:y,onResize:w,onResizeEnd:_,shouldResize:m}),()=>{var L;(L=M.current)==null||L.destroy()}},[D,a,l,u,c,d,y,w,_,m]);const k=D.split("-");return O.jsx("div",{className:ri(["react-flow__resize-control","nodrag",...k,n,r]),ref:I,style:{...i,scale:P,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:o})}F.memo(Bge);const Ii=[];for(let t=0;t<256;++t)Ii.push((t+256).toString(16).slice(1));function Vge(t,e=0){return(Ii[t[e+0]]+Ii[t[e+1]]+Ii[t[e+2]]+Ii[t[e+3]]+"-"+Ii[t[e+4]]+Ii[t[e+5]]+"-"+Ii[t[e+6]]+Ii[t[e+7]]+"-"+Ii[t[e+8]]+Ii[t[e+9]]+"-"+Ii[t[e+10]]+Ii[t[e+11]]+Ii[t[e+12]]+Ii[t[e+13]]+Ii[t[e+14]]+Ii[t[e+15]]).toLowerCase()}let hk;const zge=new Uint8Array(16);function Uge(){if(!hk){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hk=crypto.getRandomValues.bind(crypto)}return hk(zge)}const Hge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),M6={randomUUID:Hge};function xw(t,e,n){var i;if(M6.randomUUID&&!t)return M6.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Uge();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Vge(r)}const qge=()=>{};var N6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jge=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tQ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jge(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Wge;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gge=function(t){const e=tQ(t);return nQ.encodeByteArray(e,!0)},yT=function(t){return Gge(t).replace(/\./g,"")},Kge=function(t){try{return nQ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xge=()=>Yge().__FIREBASE_DEFAULTS__,Jge=()=>{if(typeof process>"u"||typeof N6>"u")return;const t=N6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qge=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kge(t[1]);return e&&JSON.parse(e)},Z$=()=>{try{return qge()||Xge()||Jge()||Qge()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zge=t=>{var e,n;return(n=(e=Z$())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rQ=t=>{const e=Zge(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iQ=()=>{var t;return(t=Z$())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){return t.endsWith(".cloudworkstations.dev")}async function oQ(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yT(JSON.stringify(n)),yT(JSON.stringify(s)),""].join(".")}const _w={};function tme(){const t={prod:[],emulator:[]};for(const e of Object.keys(_w))_w[e]?t.emulator.push(e):t.prod.push(e);return t}function nme(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let D6=!1;function aQ(t,e){if(typeof window>"u"||typeof document>"u"||!hS(window.location.host)||_w[t]===e||_w[t]||D6)return;_w[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=tme().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{D6=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=nme(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),c(w,y);const T=u();l(E,_),S.append(E,m,w,T),document.body.appendChild(S)}o?(m.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rme(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ime(){var t;const e=(t=Z$())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ome(){return!ime()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sme(){try{return typeof indexedDB=="object"}catch{return!1}}function ame(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lme="FirebaseError";class sg extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lme,Object.setPrototypeOf(this,sg.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lQ.prototype.create)}}class lQ{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?ume(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sg(i,a,r)}}function ume(t,e){return t.replace(cme,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cme=/\{\$([^}]+)}/g;function vT(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(L6(o)&&L6(s)){if(!vT(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){return t&&t._delegate?t._delegate:t}class Mv{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eme;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hme(e))try{this.getOrInitializeService({instanceIdentifier:Ch})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ch){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ch){return this.instances.has(e)}getOptions(e=Ch){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fme(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ch){return this.component?this.component.multipleInstances?e:Ch:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fme(t){return t===Ch?void 0:t}function hme(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pme{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dme(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(An||(An={}));const gme={debug:An.DEBUG,verbose:An.VERBOSE,info:An.INFO,warn:An.WARN,error:An.ERROR,silent:An.SILENT},mme=An.INFO,yme={[An.DEBUG]:"log",[An.VERBOSE]:"log",[An.INFO]:"info",[An.WARN]:"warn",[An.ERROR]:"error"},vme=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yme[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uQ{constructor(e){this.name=e,this._logLevel=mme,this._logHandler=vme,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in An))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gme[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,An.DEBUG,...e),this._logHandler(this,An.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,An.VERBOSE,...e),this._logHandler(this,An.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,An.INFO,...e),this._logHandler(this,An.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,An.WARN,...e),this._logHandler(this,An.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,An.ERROR,...e),this._logHandler(this,An.ERROR,...e)}}const bme=(t,e)=>e.some(n=>t instanceof n);let O6,F6;function wme(){return O6||(O6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xme(){return F6||(F6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cQ=new WeakMap,kL=new WeakMap,dQ=new WeakMap,pk=new WeakMap,e5=new WeakMap;function _me(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Af(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cQ.set(n,t)}).catch(()=>{}),e5.set(e,t),e}function Sme(t){if(kL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kL.set(t,e)}let ML={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dQ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Af(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eme(t){ML=t(ML)}function Cme(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gk(this),e,...n);return dQ.set(r,e.sort?e.sort():[e]),Af(r)}:xme().includes(t)?function(...e){return t.apply(gk(this),e),Af(cQ.get(this))}:function(...e){return Af(t.apply(gk(this),e))}}function Tme(t){return typeof t=="function"?Cme(t):(t instanceof IDBTransaction&&Sme(t),bme(t,wme())?new Proxy(t,ML):t)}function Af(t){if(t instanceof IDBRequest)return _me(t);if(pk.has(t))return pk.get(t);const e=Tme(t);return e!==t&&(pk.set(t,e),e5.set(e,t)),e}const gk=t=>e5.get(t);function Ame(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Af(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Af(s.result),l.oldVersion,l.newVersion,Af(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Rme=["get","getKey","getAll","getAllKeys","count"],Pme=["put","add","delete","clear"],mk=new Map;function $6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mk.get(e))return mk.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rme.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return mk.set(e,o),o}Eme(t=>({...t,get:(e,n,r)=>$6(e,n)||t.get(e,n,r),has:(e,n)=>!!$6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kme(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const NL="@firebase/app",B6="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new uQ("@firebase/app"),Mme="@firebase/app-compat",Nme="@firebase/analytics-compat",Dme="@firebase/analytics",Lme="@firebase/app-check-compat",Ome="@firebase/app-check",Fme="@firebase/auth",$me="@firebase/auth-compat",Bme="@firebase/database",Vme="@firebase/data-connect",zme="@firebase/database-compat",Ume="@firebase/functions",Hme="@firebase/functions-compat",qme="@firebase/installations",jme="@firebase/installations-compat",Wme="@firebase/messaging",Gme="@firebase/messaging-compat",Kme="@firebase/performance",Yme="@firebase/performance-compat",Xme="@firebase/remote-config",Jme="@firebase/remote-config-compat",Qme="@firebase/storage",Zme="@firebase/storage-compat",eye="@firebase/firestore",tye="@firebase/ai",nye="@firebase/firestore-compat",rye="firebase",iye="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="[DEFAULT]",oye={[NL]:"fire-core",[Mme]:"fire-core-compat",[Dme]:"fire-analytics",[Nme]:"fire-analytics-compat",[Ome]:"fire-app-check",[Lme]:"fire-app-check-compat",[Fme]:"fire-auth",[$me]:"fire-auth-compat",[Bme]:"fire-rtdb",[Vme]:"fire-data-connect",[zme]:"fire-rtdb-compat",[Ume]:"fire-fn",[Hme]:"fire-fn-compat",[qme]:"fire-iid",[jme]:"fire-iid-compat",[Wme]:"fire-fcm",[Gme]:"fire-fcm-compat",[Kme]:"fire-perf",[Yme]:"fire-perf-compat",[Xme]:"fire-rc",[Jme]:"fire-rc-compat",[Qme]:"fire-gcs",[Zme]:"fire-gcs-compat",[eye]:"fire-fst",[nye]:"fire-fst-compat",[tye]:"fire-vertex","fire-js":"fire-js",[rye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map,sye=new Map,LL=new Map;function V6(t,e){try{t.container.addComponent(e)}catch(n){Gc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qw(t){const e=t.name;if(LL.has(e))return Gc.debug(`There were multiple attempts to register component ${e}.`),!1;LL.set(e,t);for(const n of bT.values())V6(n,t);for(const n of sye.values())V6(n,t);return!0}function fQ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hQ(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rf=new lQ("app","Firebase",aye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=iye;function gQ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:DL,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Rf.create("bad-app-name",{appName:String(i)});if(n||(n=iQ()),!n)throw Rf.create("no-options");const o=bT.get(i);if(o){if(vT(n,o.options)&&vT(r,o.config))return o;throw Rf.create("duplicate-app",{appName:i})}const s=new pme(i);for(const l of LL.values())s.addComponent(l);const a=new lye(n,r,s);return bT.set(i,a),a}function mQ(t=DL){const e=bT.get(t);if(!e&&t===DL&&iQ())return gQ();if(!e)throw Rf.create("no-app",{appName:t});return e}function Pf(t,e,n){var r;let i=(r=oye[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gc.warn(a.join(" "));return}Qw(new Mv(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uye="firebase-heartbeat-database",cye=1,Zw="firebase-heartbeat-store";let yk=null;function yQ(){return yk||(yk=Ame(uye,cye,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zw)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rf.create("idb-open",{originalErrorMessage:t.message})})),yk}async function dye(t){try{const n=(await yQ()).transaction(Zw),r=await n.objectStore(Zw).get(vQ(t));return await n.done,r}catch(e){if(e instanceof sg)Gc.warn(e.message);else{const n=Rf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gc.warn(n.message)}}}async function z6(t,e){try{const r=(await yQ()).transaction(Zw,"readwrite");await r.objectStore(Zw).put(e,vQ(t)),await r.done}catch(n){if(n instanceof sg)Gc.warn(n.message);else{const r=Rf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gc.warn(r.message)}}}function vQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fye=1024,hye=30;class pye{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mye(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=U6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>hye){const s=yye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U6(),{heartbeatsToSend:r,unsentEntries:i}=gye(this._heartbeatsCache.heartbeats),o=yT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gc.warn(n),""}}}function U6(){return new Date().toISOString().substring(0,10)}function gye(t,e=fye){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),H6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),H6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sme()?ame().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dye(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function H6(t){return yT(JSON.stringify({version:2,heartbeats:t})).length}function yye(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vye(t){Qw(new Mv("platform-logger",e=>new Ime(e),"PRIVATE")),Qw(new Mv("heartbeat",e=>new pye(e),"PRIVATE")),Pf(NL,B6,t),Pf(NL,B6,"esm2017"),Pf("fire-js","")}vye("");var bye="firebase",wye="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pf(bye,wye,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ="firebasestorage.googleapis.com",wQ="storageBucket",xye=2*60*1e3,_ye=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends sg{constructor(e,n,r=0){super(vk(e),`Firebase Storage: ${n} (${vk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fr||(Fr={}));function vk(t){return"storage/"+t}function t5(){const t="An unknown error occurred, please check the error payload for server response.";return new $r(Fr.UNKNOWN,t)}function Sye(t){return new $r(Fr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Eye(t){return new $r(Fr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cye(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $r(Fr.UNAUTHENTICATED,t)}function Tye(){return new $r(Fr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Aye(t){return new $r(Fr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Rye(){return new $r(Fr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pye(){return new $r(Fr.CANCELED,"User canceled the upload/download.")}function Iye(t){return new $r(Fr.INVALID_URL,"Invalid URL '"+t+"'.")}function kye(t){return new $r(Fr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Mye(){return new $r(Fr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wQ+"' property when initializing the app?")}function Nye(){return new $r(Fr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dye(){return new $r(Fr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Lye(t){return new $r(Fr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function OL(t){return new $r(Fr.INVALID_ARGUMENT,t)}function xQ(){return new $r(Fr.APP_DELETED,"The Firebase app was deleted.")}function Oye(t){return new $r(Fr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sw(t,e){return new $r(Fr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lb(t){throw new $r(Fr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ls.makeFromUrl(e,n)}catch{return new Ls(e,"")}if(r.path==="")return r;throw kye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===bQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${w}`,"i"),S=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<S.length;T++){const I=S[T],N=I.regex.exec(e);if(N){const P=N[I.indices.bucket];let M=N[I.indices.path];M||(M=""),r=new Ls(P,M),I.postModify(r);break}}if(r==null)throw Iye(e);return r}}class Fye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ye(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function h(){o&&clearTimeout(o)}function p(w,..._){if(u){h();return}if(w){h(),c.call(null,w,..._);return}if(l()||s){h(),c.call(null,w,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function y(w){m||(m=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function Bye(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vye(t){return t!==void 0}function zye(t){return typeof t=="object"&&!Array.isArray(t)}function n5(t){return typeof t=="string"||t instanceof String}function q6(t){return r5()&&t instanceof Blob}function r5(){return typeof Blob<"u"}function j6(t,e,n,r){if(r<e)throw OL(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw OL(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _Q(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Op;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Op||(Op={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uye(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hye{constructor(e,n,r,i,o,s,a,l,u,c,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new d1(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Op.NO_ERROR,l=o.getStatus();if(!a||Uye(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Op.ABORT;r(!1,new d1(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new d1(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Vye(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=t5();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?xQ():Pye();s(l)}else{const l=Rye();s(l)}};this.canceled_?n(!1,new d1(!1,null,!0)):this.backoffId_=$ye(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class d1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qye(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wye(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gye(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Kye(t,e,n,r,i,o,s=!0,a=!1){const l=_Q(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Wye(c,e),qye(c,n),jye(c,o),Gye(c,r),new Hye(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Xye(...t){const e=Yye();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(r5())return new Blob(t);throw new $r(Fr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jye(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qye(t){if(typeof atob>"u")throw Lye("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bk{constructor(e,n){this.data=e,this.contentType=n||null}}function Zye(t,e){switch(t){case cu.RAW:return new bk(SQ(e));case cu.BASE64:case cu.BASE64URL:return new bk(EQ(t,e));case cu.DATA_URL:return new bk(tve(e),nve(e))}throw t5()}function SQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eve(t){let e;try{e=decodeURIComponent(t)}catch{throw Sw(cu.DATA_URL,"Malformed data URL.")}return SQ(e)}function EQ(t,e){switch(t){case cu.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Sw(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cu.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Sw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Qye(e)}catch(i){throw i.message.includes("polyfill")?i:Sw(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class CQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sw(cu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rve(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tve(t){const e=new CQ(t);return e.base64?EQ(cu.BASE64,e.rest):eve(e.rest)}function nve(t){return new CQ(t).contentType}function rve(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){let r=0,i="";q6(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(q6(this.data_)){const r=this.data_,i=Jye(r,e,n);return i===null?null:new Jd(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Jd(r,!0)}}static getBlob(...e){if(r5()){const n=e.map(r=>r instanceof Jd?r.data_:r);return new Jd(Xye.apply(null,n))}else{const n=e.map(s=>n5(s)?Zye(cu.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Jd(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t){let e;try{e=JSON.parse(t)}catch{return null}return zye(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ive(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ove(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sve(t,e){return e}class vo{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||sve}}let f1=null;function ave(t){return!n5(t)||t.length<2?t:AQ(t)}function RQ(){if(f1)return f1;const t=[];t.push(new vo("bucket")),t.push(new vo("generation")),t.push(new vo("metageneration")),t.push(new vo("name","fullPath",!0));function e(o,s){return ave(s)}const n=new vo("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new vo("size");return i.xform=r,t.push(i),t.push(new vo("timeCreated")),t.push(new vo("updated")),t.push(new vo("md5Hash",null,!0)),t.push(new vo("cacheControl",null,!0)),t.push(new vo("contentDisposition",null,!0)),t.push(new vo("contentEncoding",null,!0)),t.push(new vo("contentLanguage",null,!0)),t.push(new vo("contentType",null,!0)),t.push(new vo("metadata","customMetadata",!0)),f1=t,f1}function lve(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ls(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function uve(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return lve(r,t),r}function PQ(t,e,n){const r=TQ(e);return r===null?null:uve(t,r,n)}function cve(t,e,n,r){const i=TQ(e);if(i===null||!n5(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),p=i5(h,n,r),m=_Q({alt:"media",token:u});return p+m})[0]}function dve(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class IQ{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(t){if(!t)throw t5()}function fve(t,e){function n(r,i){const o=PQ(t,i,e);return kQ(o!==null),o}return n}function hve(t,e){function n(r,i){const o=PQ(t,i,e);return kQ(o!==null),cve(o,i,t.host,t._protocol)}return n}function MQ(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Tye():i=Cye():n.getStatus()===402?i=Eye(t.bucket):n.getStatus()===403?i=Aye(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pve(t){const e=MQ(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Sye(t.path)),o.serverResponse=i.serverResponse,o}return n}function gve(t,e,n){const r=e.fullServerUrl(),i=i5(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new IQ(i,o,hve(t,n),s);return a.errorHandler=pve(e),a}function mve(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yve(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mve(null,e)),r}function vve(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let T=0;T<2;T++)S=S+Math.random().toString().slice(2);return S}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=yve(e,r,i),c=dve(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Jd.getBlob(d,r,h);if(p===null)throw Nye();const m={name:u.fullPath},y=i5(o,t.host,t._protocol),w="POST",_=t.maxUploadRetryTime,E=new IQ(y,w,fve(t,n),_);return E.urlParams=m,E.headers=s,E.body=p.uploadData(),E.errorHandler=MQ(e),E}class bve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Op.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Op.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Op.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw lb("cannot .send() more than once");if(hS(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wve extends bve{initXhr(){this.xhr_.responseType="text"}}function NQ(){return new wve}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this._service=e,n instanceof Ls?this._location=n:this._location=Ls.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zp(e,n)}get root(){const e=new Ls(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AQ(this._location.path)}get storage(){return this._service}get parent(){const e=ive(this._location.path);if(e===null)return null;const n=new Ls(this._location.bucket,e);return new zp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Oye(e)}}function xve(t,e,n){t._throwIfRoot("uploadBytes");const r=vve(t.storage,t._location,RQ(),new Jd(e,!0),n);return t.storage.makeRequestWithTokens(r,NQ).then(i=>({metadata:i,ref:t}))}function _ve(t){t._throwIfRoot("getDownloadURL");const e=gve(t.storage,t._location,RQ());return t.storage.makeRequestWithTokens(e,NQ).then(n=>{if(n===null)throw Dye();return n})}function Sve(t,e){const n=ove(t._location.path,e),r=new Ls(t._location.bucket,n);return new zp(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eve(t){return/^[A-Za-z]+:\/\//.test(t)}function Cve(t,e){return new zp(t,e)}function DQ(t,e){if(t instanceof o5){const n=t;if(n._bucket==null)throw Mye();const r=new zp(n,n._bucket);return e!=null?DQ(r,e):r}else return e!==void 0?Sve(t,e):t}function Tve(t,e){if(e&&Eve(e)){if(t instanceof o5)return Cve(t,e);throw OL("To use ref(service, url), the first argument must be a Storage instance.")}else return DQ(t,e)}function W6(t,e){const n=e==null?void 0:e[wQ];return n==null?null:Ls.makeFromBucketSpec(n,t)}function Ave(t,e,n,r={}){t.host=`${e}:${n}`;const i=hS(e);i&&(oQ(`https://${t.host}/b`),aQ("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:sQ(o,t.app.options.projectId))}class o5{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=bQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xye,this._maxUploadRetryTime=_ye,this._requests=new Set,i!=null?this._bucket=Ls.makeFromBucketSpec(i,this._host):this._bucket=W6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ls.makeFromBucketSpec(this._url,e):this._bucket=W6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hQ(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zp(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Fye(xQ());{const s=Kye(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const G6="@firebase/storage",K6="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="storage";function Rve(t,e,n){return t=Eu(t),xve(t,e,n)}function Pve(t){return t=Eu(t),_ve(t)}function Y6(t,e){return t=Eu(t),Tve(t,e)}function Ive(t=mQ(),e){t=Eu(t);const r=fQ(t,LQ).getImmediate({identifier:e}),i=rQ("storage");return i&&kve(r,...i),r}function kve(t,e,n,r={}){Ave(t,e,n,r)}function Mve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new o5(n,r,i,e,pQ)}function Nve(){Qw(new Mv(LQ,Mve,"PUBLIC").setMultipleInstances(!0)),Pf(G6,K6,""),Pf(G6,K6,"esm2017")}Nve();var X6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var If,OQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function D(){}D.prototype=M.prototype,P.D=M.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(k,L,V){for(var $=Array(arguments.length-2),z=2;z<arguments.length;z++)$[z-2]=arguments[z];return M.prototype[L].apply(k,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,M,D){D||(D=0);var k=Array(16);if(typeof M=="string")for(var L=0;16>L;++L)k[L]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(L=0;16>L;++L)k[L]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=P.g[0],D=P.g[1],L=P.g[2];var V=P.g[3],$=M+(V^D&(L^V))+k[0]+3614090360&4294967295;M=D+($<<7&4294967295|$>>>25),$=V+(L^M&(D^L))+k[1]+3905402710&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(D^V&(M^D))+k[2]+606105819&4294967295,L=V+($<<17&4294967295|$>>>15),$=D+(M^L&(V^M))+k[3]+3250441966&4294967295,D=L+($<<22&4294967295|$>>>10),$=M+(V^D&(L^V))+k[4]+4118548399&4294967295,M=D+($<<7&4294967295|$>>>25),$=V+(L^M&(D^L))+k[5]+1200080426&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(D^V&(M^D))+k[6]+2821735955&4294967295,L=V+($<<17&4294967295|$>>>15),$=D+(M^L&(V^M))+k[7]+4249261313&4294967295,D=L+($<<22&4294967295|$>>>10),$=M+(V^D&(L^V))+k[8]+1770035416&4294967295,M=D+($<<7&4294967295|$>>>25),$=V+(L^M&(D^L))+k[9]+2336552879&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(D^V&(M^D))+k[10]+4294925233&4294967295,L=V+($<<17&4294967295|$>>>15),$=D+(M^L&(V^M))+k[11]+2304563134&4294967295,D=L+($<<22&4294967295|$>>>10),$=M+(V^D&(L^V))+k[12]+1804603682&4294967295,M=D+($<<7&4294967295|$>>>25),$=V+(L^M&(D^L))+k[13]+4254626195&4294967295,V=M+($<<12&4294967295|$>>>20),$=L+(D^V&(M^D))+k[14]+2792965006&4294967295,L=V+($<<17&4294967295|$>>>15),$=D+(M^L&(V^M))+k[15]+1236535329&4294967295,D=L+($<<22&4294967295|$>>>10),$=M+(L^V&(D^L))+k[1]+4129170786&4294967295,M=D+($<<5&4294967295|$>>>27),$=V+(D^L&(M^D))+k[6]+3225465664&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^D&(V^M))+k[11]+643717713&4294967295,L=V+($<<14&4294967295|$>>>18),$=D+(V^M&(L^V))+k[0]+3921069994&4294967295,D=L+($<<20&4294967295|$>>>12),$=M+(L^V&(D^L))+k[5]+3593408605&4294967295,M=D+($<<5&4294967295|$>>>27),$=V+(D^L&(M^D))+k[10]+38016083&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^D&(V^M))+k[15]+3634488961&4294967295,L=V+($<<14&4294967295|$>>>18),$=D+(V^M&(L^V))+k[4]+3889429448&4294967295,D=L+($<<20&4294967295|$>>>12),$=M+(L^V&(D^L))+k[9]+568446438&4294967295,M=D+($<<5&4294967295|$>>>27),$=V+(D^L&(M^D))+k[14]+3275163606&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^D&(V^M))+k[3]+4107603335&4294967295,L=V+($<<14&4294967295|$>>>18),$=D+(V^M&(L^V))+k[8]+1163531501&4294967295,D=L+($<<20&4294967295|$>>>12),$=M+(L^V&(D^L))+k[13]+2850285829&4294967295,M=D+($<<5&4294967295|$>>>27),$=V+(D^L&(M^D))+k[2]+4243563512&4294967295,V=M+($<<9&4294967295|$>>>23),$=L+(M^D&(V^M))+k[7]+1735328473&4294967295,L=V+($<<14&4294967295|$>>>18),$=D+(V^M&(L^V))+k[12]+2368359562&4294967295,D=L+($<<20&4294967295|$>>>12),$=M+(D^L^V)+k[5]+4294588738&4294967295,M=D+($<<4&4294967295|$>>>28),$=V+(M^D^L)+k[8]+2272392833&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^D)+k[11]+1839030562&4294967295,L=V+($<<16&4294967295|$>>>16),$=D+(L^V^M)+k[14]+4259657740&4294967295,D=L+($<<23&4294967295|$>>>9),$=M+(D^L^V)+k[1]+2763975236&4294967295,M=D+($<<4&4294967295|$>>>28),$=V+(M^D^L)+k[4]+1272893353&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^D)+k[7]+4139469664&4294967295,L=V+($<<16&4294967295|$>>>16),$=D+(L^V^M)+k[10]+3200236656&4294967295,D=L+($<<23&4294967295|$>>>9),$=M+(D^L^V)+k[13]+681279174&4294967295,M=D+($<<4&4294967295|$>>>28),$=V+(M^D^L)+k[0]+3936430074&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^D)+k[3]+3572445317&4294967295,L=V+($<<16&4294967295|$>>>16),$=D+(L^V^M)+k[6]+76029189&4294967295,D=L+($<<23&4294967295|$>>>9),$=M+(D^L^V)+k[9]+3654602809&4294967295,M=D+($<<4&4294967295|$>>>28),$=V+(M^D^L)+k[12]+3873151461&4294967295,V=M+($<<11&4294967295|$>>>21),$=L+(V^M^D)+k[15]+530742520&4294967295,L=V+($<<16&4294967295|$>>>16),$=D+(L^V^M)+k[2]+3299628645&4294967295,D=L+($<<23&4294967295|$>>>9),$=M+(L^(D|~V))+k[0]+4096336452&4294967295,M=D+($<<6&4294967295|$>>>26),$=V+(D^(M|~L))+k[7]+1126891415&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~D))+k[14]+2878612391&4294967295,L=V+($<<15&4294967295|$>>>17),$=D+(V^(L|~M))+k[5]+4237533241&4294967295,D=L+($<<21&4294967295|$>>>11),$=M+(L^(D|~V))+k[12]+1700485571&4294967295,M=D+($<<6&4294967295|$>>>26),$=V+(D^(M|~L))+k[3]+2399980690&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~D))+k[10]+4293915773&4294967295,L=V+($<<15&4294967295|$>>>17),$=D+(V^(L|~M))+k[1]+2240044497&4294967295,D=L+($<<21&4294967295|$>>>11),$=M+(L^(D|~V))+k[8]+1873313359&4294967295,M=D+($<<6&4294967295|$>>>26),$=V+(D^(M|~L))+k[15]+4264355552&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~D))+k[6]+2734768916&4294967295,L=V+($<<15&4294967295|$>>>17),$=D+(V^(L|~M))+k[13]+1309151649&4294967295,D=L+($<<21&4294967295|$>>>11),$=M+(L^(D|~V))+k[4]+4149444226&4294967295,M=D+($<<6&4294967295|$>>>26),$=V+(D^(M|~L))+k[11]+3174756917&4294967295,V=M+($<<10&4294967295|$>>>22),$=L+(M^(V|~D))+k[2]+718787259&4294967295,L=V+($<<15&4294967295|$>>>17),$=D+(V^(L|~M))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+V&4294967295}r.prototype.u=function(P,M){M===void 0&&(M=P.length);for(var D=M-this.blockSize,k=this.B,L=this.h,V=0;V<M;){if(L==0)for(;V<=D;)i(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<M;)if(k[L++]=P.charCodeAt(V++),L==this.blockSize){i(this,k),L=0;break}}else for(;V<M;)if(k[L++]=P[V++],L==this.blockSize){i(this,k),L=0;break}}this.h=L,this.o+=M},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;var D=8*this.o;for(M=P.length-8;M<P.length;++M)P[M]=D&255,D/=256;for(this.u(P),P=Array(16),M=D=0;4>M;++M)for(var k=0;32>k;k+=8)P[D++]=this.g[M]>>>k&255;return P};function o(P,M){var D=a;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=M(P)}function s(P,M){this.h=M;for(var D=[],k=!0,L=P.length-1;0<=L;L--){var V=P[L]|0;k&&V==M||(D[L]=V,k=!1)}this.g=D}var a={};function l(P){return-128<=P&&128>P?o(P,function(M){return new s([M|0],0>M?-1:0)}):new s([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return d;if(0>P)return w(u(-P));for(var M=[],D=1,k=0;P>=D;k++)M[k]=P/D|0,D*=4294967296;return new s(M,0)}function c(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return w(c(P.substring(1),M));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(M,8)),k=d,L=0;L<P.length;L+=8){var V=Math.min(8,P.length-L),$=parseInt(P.substring(L,L+V),M);8>V?(V=u(Math.pow(M,V)),k=k.j(V).add(u($))):(k=k.j(D),k=k.add(u($)))}return k}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-w(this).m();for(var P=0,M=1,D=0;D<this.g.length;D++){var k=this.i(D);P+=(0<=k?k:4294967296+k)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(m(this))return"0";if(y(this))return"-"+w(this).toString(P);for(var M=u(Math.pow(P,6)),D=this,k="";;){var L=T(D,M).g;D=_(D,L.j(M));var V=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=L,m(D))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function m(P){if(P.h!=0)return!1;for(var M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function y(P){return P.h==-1}t.l=function(P){return P=_(this,P),y(P)?-1:m(P)?0:1};function w(P){for(var M=P.g.length,D=[],k=0;k<M;k++)D[k]=~P.g[k];return new s(D,~P.h).add(h)}t.abs=function(){return y(this)?w(this):this},t.add=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],k=0,L=0;L<=M;L++){var V=k+(this.i(L)&65535)+(P.i(L)&65535),$=(V>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);k=$>>>16,V&=65535,$&=65535,D[L]=$<<16|V}return new s(D,D[D.length-1]&-2147483648?-1:0)};function _(P,M){return P.add(w(M))}t.j=function(P){if(m(this)||m(P))return d;if(y(this))return y(P)?w(this).j(w(P)):w(w(this).j(P));if(y(P))return w(this.j(w(P)));if(0>this.l(p)&&0>P.l(p))return u(this.m()*P.m());for(var M=this.g.length+P.g.length,D=[],k=0;k<2*M;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<P.g.length;L++){var V=this.i(k)>>>16,$=this.i(k)&65535,z=P.i(L)>>>16,G=P.i(L)&65535;D[2*k+2*L]+=$*G,E(D,2*k+2*L),D[2*k+2*L+1]+=V*G,E(D,2*k+2*L+1),D[2*k+2*L+1]+=$*z,E(D,2*k+2*L+1),D[2*k+2*L+2]+=V*z,E(D,2*k+2*L+2)}for(k=0;k<M;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=M;k<2*M;k++)D[k]=0;return new s(D,0)};function E(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function S(P,M){this.g=P,this.h=M}function T(P,M){if(m(M))throw Error("division by zero");if(m(P))return new S(d,d);if(y(P))return M=T(w(P),M),new S(w(M.g),w(M.h));if(y(M))return M=T(P,w(M)),new S(w(M.g),M.h);if(30<P.g.length){if(y(P)||y(M))throw Error("slowDivide_ only works with positive integers.");for(var D=h,k=M;0>=k.l(P);)D=I(D),k=I(k);var L=N(D,1),V=N(k,1);for(k=N(k,2),D=N(D,2);!m(k);){var $=V.add(k);0>=$.l(P)&&(L=L.add(D),V=$),k=N(k,1),D=N(D,1)}return M=_(P,L.j(M)),new S(L,M)}for(L=d;0<=P.l(M);){for(D=Math.max(1,Math.floor(P.m()/M.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=u(D),$=V.j(M);y($)||0<$.l(P);)D-=k,V=u(D),$=V.j(M);m(V)&&(V=h),L=L.add(V),P=_(P,$)}return new S(L,P)}t.A=function(P){return T(this,P).h},t.and=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],k=0;k<M;k++)D[k]=this.i(k)&P.i(k);return new s(D,this.h&P.h)},t.or=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],k=0;k<M;k++)D[k]=this.i(k)|P.i(k);return new s(D,this.h|P.h)},t.xor=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],k=0;k<M;k++)D[k]=this.i(k)^P.i(k);return new s(D,this.h^P.h)};function I(P){for(var M=P.g.length+1,D=[],k=0;k<M;k++)D[k]=P.i(k)<<1|P.i(k-1)>>>31;return new s(D,P.h)}function N(P,M){var D=M>>5;M%=32;for(var k=P.g.length-D,L=[],V=0;V<k;V++)L[V]=0<M?P.i(V+D)>>>M|P.i(V+D+1)<<32-M:P.i(V+D);return new s(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OQ=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,If=s}).apply(typeof X6<"u"?X6:typeof self<"u"?self:typeof window<"u"?window:{});var h1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FQ,zb,$Q,lC,FL,BQ,VQ,zQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,U,W){return A==Array.prototype||A==Object.prototype||(A[U]=W.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof h1=="object"&&h1];for(var U=0;U<A.length;++U){var W=A[U];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function i(A,U){if(U)e:{var W=r;A=A.split(".");for(var ae=0;ae<A.length-1;ae++){var xe=A[ae];if(!(xe in W))break e;W=W[xe]}A=A[A.length-1],ae=W[A],U=U(ae),U!=ae&&U!=null&&e(W,A,{configurable:!0,writable:!0,value:U})}}function o(A,U){A instanceof String&&(A+="");var W=0,ae=!1,xe={next:function(){if(!ae&&W<A.length){var Te=W++;return{value:U(Te,A[Te]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(A){return A||function(){return o(this,function(U,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(A){var U=typeof A;return U=U!="object"?U:A?Array.isArray(A)?"array":U:"null",U=="array"||U=="object"&&typeof A.length=="number"}function u(A){var U=typeof A;return U=="object"&&A!=null||U=="function"}function c(A,U,W){return A.call.apply(A.bind,arguments)}function d(A,U,W){if(!A)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,ae),A.apply(U,xe)}}return function(){return A.apply(U,arguments)}}function h(A,U,W){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(A,U){var W=Array.prototype.slice.call(arguments,1);return function(){var ae=W.slice();return ae.push.apply(ae,arguments),A.apply(this,ae)}}function m(A,U){function W(){}W.prototype=U.prototype,A.aa=U.prototype,A.prototype=new W,A.prototype.constructor=A,A.Qb=function(ae,xe,Te){for(var Xe=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)Xe[qn-2]=arguments[qn];return U.prototype[xe].apply(ae,Xe)}}function y(A){const U=A.length;if(0<U){const W=Array(U);for(let ae=0;ae<U;ae++)W[ae]=A[ae];return W}return[]}function w(A,U){for(let W=1;W<arguments.length;W++){const ae=arguments[W];if(l(ae)){const xe=A.length||0,Te=ae.length||0;A.length=xe+Te;for(let Xe=0;Xe<Te;Xe++)A[xe+Xe]=ae[Xe]}else A.push(ae)}}class _{constructor(U,W){this.i=U,this.j=W,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function E(A){return/^[\s\xa0]*$/.test(A)}function S(){var A=a.navigator;return A&&(A=A.userAgent)?A:""}function T(A){return T[" "](A),A}T[" "]=function(){};var I=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(A,U,W){for(const ae in A)U.call(W,A[ae],ae,A)}function P(A,U){for(const W in A)U.call(void 0,A[W],W,A)}function M(A){const U={};for(const W in A)U[W]=A[W];return U}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(A,U){let W,ae;for(let xe=1;xe<arguments.length;xe++){ae=arguments[xe];for(W in ae)A[W]=ae[W];for(let Te=0;Te<D.length;Te++)W=D[Te],Object.prototype.hasOwnProperty.call(ae,W)&&(A[W]=ae[W])}}function L(A){var U=1;A=A.split(":");const W=[];for(;0<U&&A.length;)W.push(A.shift()),U--;return A.length&&W.push(A.join(":")),W}function V(A){a.setTimeout(()=>{throw A},0)}function $(){var A=X;let U=null;return A.g&&(U=A.g,A.g=A.g.next,A.g||(A.h=null),U.next=null),U}class z{constructor(){this.h=this.g=null}add(U,W){const ae=G.get();ae.set(U,W),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var G=new _(()=>new K,A=>A.reset());class K{constructor(){this.next=this.g=this.h=null}set(U,W){this.h=U,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,X=new z,j=()=>{const A=a.Promise.resolve(void 0);J=()=>{A.then(Q)}};var Q=()=>{for(var A;A=$();){try{A.h.call(A.g)}catch(W){V(W)}var U=G;U.j(A),100>U.h&&(U.h++,A.next=U.g,U.g=A)}ee=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(A,U){this.type=A,this.g=this.target=U,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var A=!1,U=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const W=()=>{};a.addEventListener("test",W,U),a.removeEventListener("test",W,U)}catch{}return A}();function te(A,U){if(q.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var W=this.type=A.type,ae=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=U,U=A.relatedTarget){if(I){e:{try{T(U.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(U=null)}}else W=="mouseover"?U=A.fromElement:W=="mouseout"&&(U=A.toElement);this.relatedTarget=U,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:le[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&te.aa.h.call(this)}}m(te,q);var le={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),se=0;function ce(A,U,W,ae,xe){this.listener=A,this.proxy=null,this.src=U,this.type=W,this.capture=!!ae,this.ha=xe,this.key=++se,this.da=this.fa=!1}function fe(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ye(A){this.src=A,this.g={},this.h=0}ye.prototype.add=function(A,U,W,ae,xe){var Te=A.toString();A=this.g[Te],A||(A=this.g[Te]=[],this.h++);var Xe=Re(A,U,ae,xe);return-1<Xe?(U=A[Xe],W||(U.fa=!1)):(U=new ce(U,this.src,Te,!!ae,xe),U.fa=W,A.push(U)),U};function we(A,U){var W=U.type;if(W in A.g){var ae=A.g[W],xe=Array.prototype.indexOf.call(ae,U,void 0),Te;(Te=0<=xe)&&Array.prototype.splice.call(ae,xe,1),Te&&(fe(U),A.g[W].length==0&&(delete A.g[W],A.h--))}}function Re(A,U,W,ae){for(var xe=0;xe<A.length;++xe){var Te=A[xe];if(!Te.da&&Te.listener==U&&Te.capture==!!W&&Te.ha==ae)return xe}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),be={};function Ke(A,U,W,ae,xe){if(Array.isArray(U)){for(var Te=0;Te<U.length;Te++)Ke(A,U[Te],W,ae,xe);return null}return W=St(W),A&&A[de]?A.K(U,W,u(ae)?!!ae.capture:!1,xe):Ve(A,U,W,!1,ae,xe)}function Ve(A,U,W,ae,xe,Te){if(!U)throw Error("Invalid event type");var Xe=u(xe)?!!xe.capture:!!xe,qn=dt(A);if(qn||(A[Ae]=qn=new ye(A)),W=qn.add(U,W,ae,Xe,Te),W.proxy)return W;if(ae=Oe(),W.proxy=ae,ae.src=A,ae.listener=W,A.addEventListener)Y||(xe=Xe),xe===void 0&&(xe=!1),A.addEventListener(U.toString(),ae,xe);else if(A.attachEvent)A.attachEvent(wt(U.toString()),ae);else if(A.addListener&&A.removeListener)A.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return W}function Oe(){function A(W){return U.call(A.src,A.listener,W)}const U=ke;return A}function Me(A,U,W,ae,xe){if(Array.isArray(U))for(var Te=0;Te<U.length;Te++)Me(A,U[Te],W,ae,xe);else ae=u(ae)?!!ae.capture:!!ae,W=St(W),A&&A[de]?(A=A.i,U=String(U).toString(),U in A.g&&(Te=A.g[U],W=Re(Te,W,ae,xe),-1<W&&(fe(Te[W]),Array.prototype.splice.call(Te,W,1),Te.length==0&&(delete A.g[U],A.h--)))):A&&(A=dt(A))&&(U=A.g[U.toString()],A=-1,U&&(A=Re(U,W,ae,xe)),(W=-1<A?U[A]:null)&&je(W))}function je(A){if(typeof A!="number"&&A&&!A.da){var U=A.src;if(U&&U[de])we(U.i,A);else{var W=A.type,ae=A.proxy;U.removeEventListener?U.removeEventListener(W,ae,A.capture):U.detachEvent?U.detachEvent(wt(W),ae):U.addListener&&U.removeListener&&U.removeListener(ae),(W=dt(U))?(we(W,A),W.h==0&&(W.src=null,U[Ae]=null)):fe(A)}}}function wt(A){return A in be?be[A]:be[A]="on"+A}function ke(A,U){if(A.da)A=!0;else{U=new te(U,this);var W=A.listener,ae=A.ha||A.src;A.fa&&je(A),A=W.call(ae,U)}return A}function dt(A){return A=A[Ae],A instanceof ye?A:null}var ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(A){return typeof A=="function"?A:(A[ot]||(A[ot]=function(U){return A.handleEvent(U)}),A[ot])}function ve(){ue.call(this),this.i=new ye(this),this.M=this,this.F=null}m(ve,ue),ve.prototype[de]=!0,ve.prototype.removeEventListener=function(A,U,W,ae){Me(this,A,U,W,ae)};function Ce(A,U){var W,ae=A.F;if(ae)for(W=[];ae;ae=ae.F)W.push(ae);if(A=A.M,ae=U.type||U,typeof U=="string")U=new q(U,A);else if(U instanceof q)U.target=U.target||A;else{var xe=U;U=new q(ae,A),k(U,xe)}if(xe=!0,W)for(var Te=W.length-1;0<=Te;Te--){var Xe=U.g=W[Te];xe=He(Xe,ae,!0,U)&&xe}if(Xe=U.g=A,xe=He(Xe,ae,!0,U)&&xe,xe=He(Xe,ae,!1,U)&&xe,W)for(Te=0;Te<W.length;Te++)Xe=U.g=W[Te],xe=He(Xe,ae,!1,U)&&xe}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var A=this.i,U;for(U in A.g){for(var W=A.g[U],ae=0;ae<W.length;ae++)fe(W[ae]);delete A.g[U],A.h--}}this.F=null},ve.prototype.K=function(A,U,W,ae){return this.i.add(String(A),U,!1,W,ae)},ve.prototype.L=function(A,U,W,ae){return this.i.add(String(A),U,!0,W,ae)};function He(A,U,W,ae){if(U=A.i.g[String(U)],!U)return!0;U=U.concat();for(var xe=!0,Te=0;Te<U.length;++Te){var Xe=U[Te];if(Xe&&!Xe.da&&Xe.capture==W){var qn=Xe.listener,ii=Xe.ha||Xe.src;Xe.fa&&we(A.i,Xe),xe=qn.call(ii,ae)!==!1&&xe}}return xe&&!ae.defaultPrevented}function et(A,U,W){if(typeof A=="function")W&&(A=h(A,W));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(A,U||0)}function Ze(A){A.g=et(()=>{A.g=null,A.i&&(A.i=!1,Ze(A))},A.l);const U=A.h;A.h=null,A.m.apply(null,U)}class tt extends ue{constructor(U,W){super(),this.m=U,this.l=W,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(A){ue.call(this),this.h=A,this.g={}}m(Yt,ue);var $t=[];function rn(A){N(A.g,function(U,W){this.g.hasOwnProperty(W)&&je(U)},A),A.g={}}Yt.prototype.N=function(){Yt.aa.N.call(this),rn(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=a.JSON.stringify,Rt=a.JSON.parse,mn=class{stringify(A){return a.JSON.stringify(A,void 0)}parse(A){return a.JSON.parse(A,void 0)}};function _n(){}_n.prototype.h=null;function Ye(A){return A.h||(A.h=A.i())}function xt(){}var Pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ut(){q.call(this,"d")}m(Ut,q);function Rn(){q.call(this,"c")}m(Rn,q);var kn={},Zn=null;function Mn(){return Zn=Zn||new ve}kn.La="serverreachability";function Bt(A){q.call(this,kn.La,A)}m(Bt,q);function _r(A){const U=Mn();Ce(U,new Bt(U))}kn.STAT_EVENT="statevent";function vl(A,U){q.call(this,kn.STAT_EVENT,A),this.stat=U}m(vl,q);function Sr(A){const U=Mn();Ce(U,new vl(U,A))}kn.Ma="timingevent";function fd(A,U){q.call(this,kn.Ma,A),this.size=U}m(fd,q);function cs(A,U){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){A()},U)}function Du(){this.g=!0}Du.prototype.xa=function(){this.g=!1};function Lu(A,U,W,ae,xe,Te){A.info(function(){if(A.g)if(Te)for(var Xe="",qn=Te.split("&"),ii=0;ii<qn.length;ii++){var Sn=qn[ii].split("=");if(1<Sn.length){var mi=Sn[0];Sn=Sn[1];var jr=mi.split("_");Xe=2<=jr.length&&jr[1]=="type"?Xe+(mi+"="+Sn+"&"):Xe+(mi+"=redacted&")}}else Xe=null;else Xe=Te;return"XMLHTTP REQ ("+ae+") [attempt "+xe+"]: "+U+`
`+W+`
`+Xe})}function hd(A,U,W,ae,xe,Te,Xe){A.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+xe+"]: "+U+`
`+W+`
`+Te+" "+Xe})}function ds(A,U,W,ae){A.info(function(){return"XMLHTTP TEXT ("+U+"): "+A0(A,W)+(ae?" "+ae:"")})}function eh(A,U){A.info(function(){return"TIMEOUT: "+U})}Du.prototype.info=function(){};function A0(A,U){if(!A.g)return U;if(!U)return null;try{var W=JSON.parse(U);if(W){for(A=0;A<W.length;A++)if(Array.isArray(W[A])){var ae=W[A];if(!(2>ae.length)){var xe=ae[1];if(Array.isArray(xe)&&!(1>xe.length)){var Te=xe[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var Xe=1;Xe<xe.length;Xe++)xe[Xe]=""}}}}return Qe(W)}catch{return U}}var pd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ro;function bl(){}m(bl,_n),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},Ro=new bl;function Po(A,U,W,ae){this.j=A,this.i=U,this.l=W,this.R=ae||1,this.U=new Yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pg}function Pg(){this.i=null,this.g="",this.h=!1}var th={},gd={};function md(A,U,W){A.L=1,A.v=bd(po(U)),A.m=W,A.P=!0,nh(A,null)}function nh(A,U){A.F=Date.now(),Kn(A),A.A=po(A.v);var W=A.A,ae=A.R;Array.isArray(ae)||(ae=[String(ae)]),xd(W.i,"t",ae),A.C=0,W=A.j.J,A.h=new Pg,A.g=sE(A.j,W?U:null,!A.m),0<A.O&&(A.M=new tt(h(A.Y,A,A.g),A.O)),U=A.U,W=A.g,ae=A.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&($t[0]=xe.toString()),xe=$t);for(var Te=0;Te<xe.length;Te++){var Xe=Ke(W,xe[Te],ae||U.handleEvent,!1,U.h||U);if(!Xe)break;U.g[Xe.key]=Xe}U=A.H?M(A.H):{},A.m?(A.u||(A.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,U)):(A.u="GET",A.g.ea(A.A,A.u,null,U)),_r(),Lu(A.i,A.u,A.A,A.l,A.R,A.m)}Po.prototype.ca=function(A){A=A.target;const U=this.M;U&&Mo(A)==3?U.j():this.Y(A)},Po.prototype.Y=function(A){try{if(A==this.g)e:{const jr=Mo(this.g);var U=this.g.Ba();const js=this.g.Z();if(!(3>jr)&&(jr!=3||this.g&&(this.h.h||this.g.oa()||M0(this.g)))){this.J||jr!=4||U==7||(U==8||0>=js?_r(3):_r(2)),Ou(this);var W=this.g.Z();this.X=W;t:if(Ig(this)){var ae=M0(this.g);A="";var xe=ae.length,Te=Mo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),wl(this);var Xe="";break t}this.h.i=new a.TextDecoder}for(U=0;U<xe;U++)this.h.h=!0,A+=this.h.i.decode(ae[U],{stream:!(Te&&U==xe-1)});ae.length=0,this.h.g+=A,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=W==200,hd(this.i,this.u,this.A,this.l,this.R,jr,W),this.o){if(this.T&&!this.K){t:{if(this.g){var qn,ii=this.g;if((qn=ii.g?ii.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(qn)){var Sn=qn;break t}}Sn=null}if(W=Sn)ds(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rh(this,W);else{this.o=!1,this.s=3,Sr(12),Io(this),wl(this);break e}}if(this.P){W=!0;let ps;for(;!this.J&&this.C<Xe.length;)if(ps=kg(this,Xe),ps==gd){jr==4&&(this.s=4,Sr(14),W=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(ps==th){this.s=4,Sr(15),ds(this.i,this.l,Xe,"[Invalid Chunk]"),W=!1;break}else ds(this.i,this.l,ps,null),rh(this,ps);if(Ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jr!=4||Xe.length!=0||this.h.h||(this.s=1,Sr(16),W=!1),this.o=this.o&&W,!W)ds(this.i,this.l,Xe,"[Invalid Chunked Response]"),Io(this),wl(this);else if(0<Xe.length&&!this.W){this.W=!0;var mi=this.j;mi.g==this&&mi.ba&&!mi.M&&(mi.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),D0(mi),mi.M=!0,Sr(11))}}else ds(this.i,this.l,Xe,null),rh(this,Xe);jr==4&&Io(this),this.o&&!this.J&&(jr==4?jg(this.j,this):(this.o=!1,Kn(this)))}else Vg(this.g),W==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,Sr(12)):(this.s=0,Sr(13)),Io(this),wl(this)}}}catch{}finally{}};function Ig(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function kg(A,U){var W=A.C,ae=U.indexOf(`
`,W);return ae==-1?gd:(W=Number(U.substring(W,ae)),isNaN(W)?th:(ae+=1,ae+W>U.length?gd:(U=U.slice(ae,ae+W),A.C=ae+W,U)))}Po.prototype.cancel=function(){this.J=!0,Io(this)};function Kn(A){A.S=Date.now()+A.I,Mg(A,A.I)}function Mg(A,U){if(A.B!=null)throw Error("WatchDog timer not null");A.B=cs(h(A.ba,A),U)}function Ou(A){A.B&&(a.clearTimeout(A.B),A.B=null)}Po.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(eh(this.i,this.A),this.L!=2&&(_r(),Sr(17)),Io(this),this.s=2,wl(this)):Mg(this,this.S-A)};function wl(A){A.j.G==0||A.J||jg(A.j,A)}function Io(A){Ou(A);var U=A.M;U&&typeof U.ma=="function"&&U.ma(),A.M=null,rn(A.U),A.g&&(U=A.g,A.g=null,U.abort(),U.ma())}function rh(A,U){try{var W=A.j;if(W.G!=0&&(W.g==A||Ci(W.h,A))){if(!A.K&&Ci(W.h,A)&&W.G==3){try{var ae=W.Da.g.parse(U)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var xe=ae;if(xe[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<A.F)qg(W),Ca(W);else break e;Hg(W),Sr(18)}}else W.za=xe[1],0<W.za-W.T&&37500>xe[2]&&W.F&&W.v==0&&!W.C&&(W.C=cs(h(W.Za,W),6e3));if(1>=Dg(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Uu(W,11)}else if((A.K||W.g==A)&&qg(W),!E(U))for(xe=W.Da.g.parse(U),U=0;U<xe.length;U++){let Sn=xe[U];if(W.T=Sn[0],Sn=Sn[1],W.G==2)if(Sn[0]=="c"){W.K=Sn[1],W.ia=Sn[2];const mi=Sn[3];mi!=null&&(W.la=mi,W.j.info("VER="+W.la));const jr=Sn[4];jr!=null&&(W.Aa=jr,W.j.info("SVER="+W.Aa));const js=Sn[5];js!=null&&typeof js=="number"&&0<js&&(ae=1.5*js,W.L=ae,W.j.info("backChannelRequestTimeoutMs_="+ae)),ae=W;const ps=A.g;if(ps){const lh=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var Te=ae.h;Te.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(ih(Te,Te.h),Te.h=null))}if(ae.D){const Gg=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Gg&&(ae.ya=Gg,er(ae.I,ae.D,Gg))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-A.F,W.j.info("Handshake RTT: "+W.R+"ms")),ae=W;var Xe=A;if(ae.qa=oE(ae,ae.J?ae.ia:null,ae.W),Xe.K){Lg(ae.h,Xe);var qn=Xe,ii=ae.L;ii&&(qn.I=ii),qn.B&&(Ou(qn),Kn(qn)),ae.g=Xe}else ah(ae);0<W.i.length&&Tl(W)}else Sn[0]!="stop"&&Sn[0]!="close"||Uu(W,7);else W.G==3&&(Sn[0]=="stop"||Sn[0]=="close"?Sn[0]=="stop"?Uu(W,7):Ai(W):Sn[0]!="noop"&&W.l&&W.l.ta(Sn),W.v=0)}}_r(4)}catch{}}var Ng=class{constructor(A,U){this.g=A,this.map=U}};function xl(A){this.l=A||10,a.PerformanceNavigationTiming?(A=a.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Dg(A){return A.h?1:A.g?A.g.size:0}function Ci(A,U){return A.h?A.h==U:A.g?A.g.has(U):!1}function ih(A,U){A.g?A.g.add(U):A.h=U}function Lg(A,U){A.h&&A.h==U?A.h=null:A.g&&A.g.has(U)&&A.g.delete(U)}xl.prototype.cancel=function(){if(this.i=Og(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Og(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let U=A.i;for(const W of A.g.values())U=U.concat(W.D);return U}return y(A.i)}function yd(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var U=[],W=A.length,ae=0;ae<W;ae++)U.push(A[ae]);return U}U=[],W=0;for(ae in A)U[W++]=A[ae];return U}function ba(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var U=[];A=A.length;for(var W=0;W<A;W++)U.push(W);return U}U=[],W=0;for(const ae in A)U[W++]=ae;return U}}}function _l(A,U){if(A.forEach&&typeof A.forEach=="function")A.forEach(U,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,U,void 0);else for(var W=ba(A),ae=yd(A),xe=ae.length,Te=0;Te<xe;Te++)U.call(void 0,ae[Te],W&&W[Te],A)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R0(A,U){if(A){A=A.split("&");for(var W=0;W<A.length;W++){var ae=A[W].indexOf("="),xe=null;if(0<=ae){var Te=A[W].substring(0,ae);xe=A[W].substring(ae+1)}else Te=A[W];U(Te,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function fs(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof fs){this.h=A.h,$u(this,A.j),this.o=A.o,this.g=A.g,wa(this,A.s),this.l=A.l;var U=A.i,W=new Sl;W.i=U.i,U.g&&(W.g=new Map(U.g),W.h=U.h),vd(this,W),this.m=A.m}else A&&(U=String(A).match(Fu))?(this.h=!1,$u(this,U[1]||"",!0),this.o=vn(U[2]||""),this.g=vn(U[3]||"",!0),wa(this,U[4]),this.l=vn(U[5]||"",!0),vd(this,U[6]||"",!0),this.m=vn(U[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}fs.prototype.toString=function(){var A=[],U=this.j;U&&A.push(wd(U,Fg,!0),":");var W=this.g;return(W||U=="file")&&(A.push("//"),(U=this.o)&&A.push(wd(U,Fg,!0),"@"),A.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&A.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&A.push("/"),A.push(wd(W,W.charAt(0)=="/"?JS:XS,!0))),(W=this.i.toString())&&A.push("?",W),(W=this.m)&&A.push("#",wd(W,P0)),A.join("")};function po(A){return new fs(A)}function $u(A,U,W){A.j=W?vn(U,!0):U,A.j&&(A.j=A.j.replace(/:$/,""))}function wa(A,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);A.s=U}else A.s=null}function vd(A,U,W){U instanceof Sl?(A.i=U,El(A.i,A.h)):(W||(U=wd(U,QS)),A.i=new Sl(U,A.h))}function er(A,U,W){A.i.set(U,W)}function bd(A){return er(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function vn(A,U){return A?U?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function wd(A,U,W){return typeof A=="string"?(A=encodeURI(A).replace(U,YS),W&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function YS(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Fg=/[#\/\?@]/g,XS=/[#\?:]/g,JS=/[#\?]/g,QS=/[#\?@]/g,P0=/#/g;function Sl(A,U){this.h=this.g=null,this.i=A||null,this.j=!!U}function Ti(A){A.g||(A.g=new Map,A.h=0,A.i&&R0(A.i,function(U,W){A.add(decodeURIComponent(U.replace(/\+/g," ")),W)}))}t=Sl.prototype,t.add=function(A,U){Ti(this),this.i=null,A=qs(this,A);var W=this.g.get(A);return W||this.g.set(A,W=[]),W.push(U),this.h+=1,this};function xa(A,U){Ti(A),U=qs(A,U),A.g.has(U)&&(A.i=null,A.h-=A.g.get(U).length,A.g.delete(U))}function _a(A,U){return Ti(A),U=qs(A,U),A.g.has(U)}t.forEach=function(A,U){Ti(this),this.g.forEach(function(W,ae){W.forEach(function(xe){A.call(U,xe,ae,this)},this)},this)},t.na=function(){Ti(this);const A=Array.from(this.g.values()),U=Array.from(this.g.keys()),W=[];for(let ae=0;ae<U.length;ae++){const xe=A[ae];for(let Te=0;Te<xe.length;Te++)W.push(U[ae])}return W},t.V=function(A){Ti(this);let U=[];if(typeof A=="string")_a(this,A)&&(U=U.concat(this.g.get(qs(this,A))));else{A=Array.from(this.g.values());for(let W=0;W<A.length;W++)U=U.concat(A[W])}return U},t.set=function(A,U){return Ti(this),this.i=null,A=qs(this,A),_a(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[U]),this.h+=1,this},t.get=function(A,U){return A?(A=this.V(A),0<A.length?String(A[0]):U):U};function xd(A,U,W){xa(A,U),0<W.length&&(A.i=null,A.g.set(qs(A,U),y(W)),A.h+=W.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],U=Array.from(this.g.keys());for(var W=0;W<U.length;W++){var ae=U[W];const Te=encodeURIComponent(String(ae)),Xe=this.V(ae);for(ae=0;ae<Xe.length;ae++){var xe=Te;Xe[ae]!==""&&(xe+="="+encodeURIComponent(String(Xe[ae]))),A.push(xe)}}return this.i=A.join("&")};function qs(A,U){return U=String(U),A.j&&(U=U.toLowerCase()),U}function El(A,U){U&&!A.j&&(Ti(A),A.i=null,A.g.forEach(function(W,ae){var xe=ae.toLowerCase();ae!=xe&&(xa(this,ae),xd(this,xe,W))},A)),A.j=U}function CP(A,U){const W=new Du;if(a.Image){const ae=new Image;ae.onload=p(ko,W,"TestLoadImage: loaded",!0,U,ae),ae.onerror=p(ko,W,"TestLoadImage: error",!1,U,ae),ae.onabort=p(ko,W,"TestLoadImage: abort",!1,U,ae),ae.ontimeout=p(ko,W,"TestLoadImage: timeout",!1,U,ae),a.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=A}else U(!1)}function ZS(A,U){const W=new Du,ae=new AbortController,xe=setTimeout(()=>{ae.abort(),ko(W,"TestPingServer: timeout",!1,U)},1e4);fetch(A,{signal:ae.signal}).then(Te=>{clearTimeout(xe),Te.ok?ko(W,"TestPingServer: ok",!0,U):ko(W,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(xe),ko(W,"TestPingServer: error",!1,U)})}function ko(A,U,W,ae,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ae(W)}catch{}}function TP(){this.g=new mn}function eE(A,U,W){const ae=W||"";try{_l(A,function(xe,Te){let Xe=xe;u(xe)&&(Xe=Qe(xe)),U.push(ae+Te+"="+encodeURIComponent(Xe))})}catch(xe){throw U.push(ae+"type="+encodeURIComponent("_badmap")),xe}}function Bu(A){this.l=A.Ub||null,this.j=A.eb||!1}m(Bu,_n),Bu.prototype.g=function(){return new oh(this.l,this.j)},Bu.prototype.i=function(A){return function(){return A}}({});function oh(A,U){ve.call(this),this.D=A,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(oh,ve),t=oh.prototype,t.open=function(A,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=U,this.readyState=1,Ea(this)},t.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(U.body=A),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function tE(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}t.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var U=A.value?A.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!A.done}))&&(this.response=this.responseText+=U)}A.done?Sa(this):Ea(this),this.readyState==3&&tE(this)}},t.Ra=function(A){this.g&&(this.response=this.responseText=A,Sa(this))},t.Qa=function(A){this.g&&(this.response=A,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Ea(A)}t.setRequestHeader=function(A,U){this.u.append(A,U)},t.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],U=this.h.entries();for(var W=U.next();!W.done;)W=W.value,A.push(W[0]+": "+W[1]),W=U.next();return A.join(`\r
`)};function Ea(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Vu(A){let U="";return N(A,function(W,ae){U+=ae,U+=":",U+=W,U+=`\r
`}),U}function _d(A,U,W){e:{for(ae in W){var ae=!1;break e}ae=!0}ae||(W=Vu(W),typeof A=="string"?W!=null&&encodeURIComponent(String(W)):er(A,U,W))}function mr(A){ve.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(mr,ve);var AP=/^https?$/i,I0=["POST","PUT"];t=mr.prototype,t.Ha=function(A){this.J=A},t.ea=function(A,U,W,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);U=U?U.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ro.g(),this.v=this.o?Ye(this.o):Ye(Ro),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(U,String(A),!0),this.B=!1}catch(Te){sh(this,Te);return}if(A=W||"",W=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var xe in ae)W.set(xe,ae[xe]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Te of ae.keys())W.set(Te,ae.get(Te));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(W.keys()).find(Te=>Te.toLowerCase()=="content-type"),xe=a.FormData&&A instanceof a.FormData,!(0<=Array.prototype.indexOf.call(I0,U,void 0))||ae||xe||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Xe]of W)this.g.setRequestHeader(Te,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bg(this),this.u=!0,this.g.send(A),this.u=!1}catch(Te){sh(this,Te)}};function sh(A,U){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=U,A.m=5,$g(A),hs(A)}function $g(A){A.A||(A.A=!0,Ce(A,"complete"),Ce(A,"error"))}t.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,Ce(this,"complete"),Ce(this,"abort"),hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),mr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?k0(this):this.bb())},t.bb=function(){k0(this)};function k0(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Mo(A)!=4||A.Z()!=2)){if(A.u&&Mo(A)==4)et(A.Ea,0,A);else if(Ce(A,"readystatechange"),Mo(A)==4){A.h=!1;try{const Xe=A.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var W;if(!(W=U)){var ae;if(ae=Xe===0){var xe=String(A.D).match(Fu)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),ae=!AP.test(xe?xe.toLowerCase():"")}W=ae}if(W)Ce(A,"complete"),Ce(A,"success");else{A.m=6;try{var Te=2<Mo(A)?A.g.statusText:""}catch{Te=""}A.l=Te+" ["+A.Z()+"]",$g(A)}}finally{hs(A)}}}}function hs(A,U){if(A.g){Bg(A);const W=A.g,ae=A.v[0]?()=>{}:null;A.g=null,A.v=null,U||Ce(A,"ready");try{W.onreadystatechange=ae}catch{}}}function Bg(A){A.I&&(a.clearTimeout(A.I),A.I=null)}t.isActive=function(){return!!this.g};function Mo(A){return A.g?A.g.readyState:0}t.Z=function(){try{return 2<Mo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(A){if(this.g){var U=this.g.responseText;return A&&U.indexOf(A)==0&&(U=U.substring(A.length)),Rt(U)}};function M0(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Vg(A){const U={};A=(A.g&&2<=Mo(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<A.length;ae++){if(E(A[ae]))continue;var W=L(A[ae]);const xe=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Te=U[xe]||[];U[xe]=Te,Te.push(W)}P(U,function(ae){return ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(A,U,W){return W&&W.internalChannelParams&&W.internalChannelParams[A]||U}function N0(A){this.Aa=0,this.i=[],this.j=new Du,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,A),this.cb=Cl("retryDelaySeedMs",1e4,A),this.Wa=Cl("forwardChannelMaxRetries",2,A),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new xl(A&&A.concurrentRequestLimit),this.Da=new TP,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N0.prototype,t.la=8,t.G=1,t.connect=function(A,U,W,ae){Sr(0),this.W=A,this.H=U||{},W&&ae!==void 0&&(this.H.OSID=W,this.H.OAID=ae),this.F=this.X,this.I=oE(this,null,this.W),Tl(this)};function Ai(A){if(zg(A),A.G==3){var U=A.U++,W=po(A.I);if(er(W,"SID",A.K),er(W,"RID",U),er(W,"TYPE","terminate"),zu(A,W),U=new Po(A,A.j,U),U.L=2,U.v=bd(po(W)),W=!1,a.navigator&&a.navigator.sendBeacon)try{W=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!W&&a.Image&&(new Image().src=U.v,W=!0),W||(U.g=sE(U.j,null),U.g.ea(U.v)),U.F=Date.now(),Kn(U)}iE(A)}function Ca(A){A.g&&(D0(A),A.g.cancel(),A.g=null)}function zg(A){Ca(A),A.u&&(a.clearTimeout(A.u),A.u=null),qg(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&a.clearTimeout(A.s),A.s=null)}function Tl(A){if(!ho(A.h)&&!A.s){A.s=!0;var U=A.Ga;J||j(),ee||(J(),ee=!0),X.add(U,A),A.B=0}}function RP(A,U){return Dg(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=U.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=cs(h(A.Ga,A,U),rE(A,A.B)),A.B++,!0)}t.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const xe=new Po(this,this.j,A);let Te=this.o;if(this.S&&(Te?(Te=M(Te),k(Te,this.S)):Te=this.S),this.m!==null||this.O||(xe.H=Te,Te=null),this.P)e:{for(var U=0,W=0;W<this.i.length;W++){t:{var ae=this.i[W];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(U+=ae,4096<U){U=W;break e}if(U===4096||W===this.i.length-1){U=W+1;break e}}U=1e3}else U=1e3;U=Sd(this,xe,U),W=po(this.I),er(W,"RID",A),er(W,"CVER",22),this.D&&er(W,"X-HTTP-Session-Id",this.D),zu(this,W),Te&&(this.O?U="headers="+encodeURIComponent(String(Vu(Te)))+"&"+U:this.m&&_d(W,this.m,Te)),ih(this.h,xe),this.Ua&&er(W,"TYPE","init"),this.P?(er(W,"$req",U),er(W,"SID","null"),xe.T=!0,md(xe,W,null)):md(xe,W,U),this.G=2}}else this.G==3&&(A?Ug(this,A):this.i.length==0||ho(this.h)||Ug(this))};function Ug(A,U){var W;U?W=U.l:W=A.U++;const ae=po(A.I);er(ae,"SID",A.K),er(ae,"RID",W),er(ae,"AID",A.T),zu(A,ae),A.m&&A.o&&_d(ae,A.m,A.o),W=new Po(A,A.j,W,A.B+1),A.m===null&&(W.H=A.o),U&&(A.i=U.D.concat(A.i)),U=Sd(A,W,1e3),W.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),ih(A.h,W),md(W,ae,U)}function zu(A,U){A.H&&N(A.H,function(W,ae){er(U,ae,W)}),A.l&&_l({},function(W,ae){er(U,ae,W)})}function Sd(A,U,W){W=Math.min(A.i.length,W);var ae=A.l?h(A.l.Na,A.l,A):null;e:{var xe=A.i;let Te=-1;for(;;){const Xe=["count="+W];Te==-1?0<W?(Te=xe[0].g,Xe.push("ofs="+Te)):Te=0:Xe.push("ofs="+Te);let qn=!0;for(let ii=0;ii<W;ii++){let Sn=xe[ii].g;const mi=xe[ii].map;if(Sn-=Te,0>Sn)Te=Math.max(0,xe[ii].g-100),qn=!1;else try{eE(mi,Xe,"req"+Sn+"_")}catch{ae&&ae(mi)}}if(qn){ae=Xe.join("&");break e}}}return A=A.i.splice(0,W),U.D=A,ae}function ah(A){if(!A.g&&!A.u){A.Y=1;var U=A.Fa;J||j(),ee||(J(),ee=!0),X.add(U,A),A.v=0}}function Hg(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=cs(h(A.Fa,A),rE(A,A.v)),A.v++,!0)}t.Fa=function(){if(this.u=null,nE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=cs(h(this.ab,this),A)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sr(10),Ca(this),nE(this))};function D0(A){A.A!=null&&(a.clearTimeout(A.A),A.A=null)}function nE(A){A.g=new Po(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var U=po(A.qa);er(U,"RID","rpc"),er(U,"SID",A.K),er(U,"AID",A.T),er(U,"CI",A.F?"0":"1"),!A.F&&A.ja&&er(U,"TO",A.ja),er(U,"TYPE","xmlhttp"),zu(A,U),A.m&&A.o&&_d(U,A.m,A.o),A.L&&(A.g.I=A.L);var W=A.g;A=A.ia,W.L=1,W.v=bd(po(U)),W.m=null,W.P=!0,nh(W,A)}t.Za=function(){this.C!=null&&(this.C=null,Ca(this),Hg(this),Sr(19))};function qg(A){A.C!=null&&(a.clearTimeout(A.C),A.C=null)}function jg(A,U){var W=null;if(A.g==U){qg(A),D0(A),A.g=null;var ae=2}else if(Ci(A.h,U))W=U.D,Lg(A.h,U),ae=1;else return;if(A.G!=0){if(U.o)if(ae==1){W=U.m?U.m.length:0,U=Date.now()-U.F;var xe=A.B;ae=Mn(),Ce(ae,new fd(ae,W)),Tl(A)}else ah(A);else if(xe=U.s,xe==3||xe==0&&0<U.X||!(ae==1&&RP(A,U)||ae==2&&Hg(A)))switch(W&&0<W.length&&(U=A.h,U.i=U.i.concat(W)),xe){case 1:Uu(A,5);break;case 4:Uu(A,10);break;case 3:Uu(A,6);break;default:Uu(A,2)}}}function rE(A,U){let W=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(W*=2),W*U}function Uu(A,U){if(A.j.info("Error code "+U),U==2){var W=h(A.fb,A),ae=A.Xa;const xe=!ae;ae=new fs(ae||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(ae,"https"),bd(ae),xe?CP(ae.toString(),W):ZS(ae.toString(),W)}else Sr(2);A.G=0,A.l&&A.l.sa(U),iE(A),zg(A)}t.fb=function(A){A?(this.j.info("Successfully pinged google.com"),Sr(2)):(this.j.info("Failed to ping google.com"),Sr(1))};function iE(A){if(A.G=0,A.ka=[],A.l){const U=Og(A.h);(U.length!=0||A.i.length!=0)&&(w(A.ka,U),w(A.ka,A.i),A.h.i.length=0,y(A.i),A.i.length=0),A.l.ra()}}function oE(A,U,W){var ae=W instanceof fs?po(W):new fs(W);if(ae.g!="")U&&(ae.g=U+"."+ae.g),wa(ae,ae.s);else{var xe=a.location;ae=xe.protocol,U=U?U+"."+xe.hostname:xe.hostname,xe=+xe.port;var Te=new fs(null);ae&&$u(Te,ae),U&&(Te.g=U),xe&&wa(Te,xe),W&&(Te.l=W),ae=Te}return W=A.D,U=A.ya,W&&U&&er(ae,W,U),er(ae,"VER",A.la),zu(A,ae),ae}function sE(A,U,W){if(U&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=A.Ca&&!A.pa?new mr(new Bu({eb:W})):new mr(A.pa),U.Ha(A.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L0(){}t=L0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wg(){}Wg.prototype.g=function(A,U){return new go(A,U)};function go(A,U){ve.call(this),this.g=new N0(U),this.l=A,this.h=U&&U.messageUrlParams||null,A=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(A?A["X-WebChannel-Content-Type"]=U.messageContentType:A={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(A?A["X-WebChannel-Client-Profile"]=U.va:A={"X-WebChannel-Client-Profile":U.va}),this.g.S=A,(A=U&&U.Sb)&&!E(A)&&(this.g.m=A),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!E(U)&&(this.g.D=U,A=this.h,A!==null&&U in A&&(A=this.h,U in A&&delete A[U])),this.j=new Al(this)}m(go,ve),go.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},go.prototype.close=function(){Ai(this.g)},go.prototype.o=function(A){var U=this.g;if(typeof A=="string"){var W={};W.__data__=A,A=W}else this.u&&(W={},W.__data__=Qe(A),A=W);U.i.push(new Ng(U.Ya++,A)),U.G==3&&Tl(U)},go.prototype.N=function(){this.g.l=null,delete this.j,Ai(this.g),delete this.g,go.aa.N.call(this)};function aE(A){Ut.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var U=A.__sm__;if(U){e:{for(const W in U){A=W;break e}A=void 0}(this.i=A)&&(A=this.i,U=U!==null&&A in U?U[A]:void 0),this.data=U}else this.data=A}m(aE,Ut);function lE(){Rn.call(this),this.status=1}m(lE,Rn);function Al(A){this.g=A}m(Al,L0),Al.prototype.ua=function(){Ce(this.g,"a")},Al.prototype.ta=function(A){Ce(this.g,new aE(A))},Al.prototype.sa=function(A){Ce(this.g,new lE)},Al.prototype.ra=function(){Ce(this.g,"b")},Wg.prototype.createWebChannel=Wg.prototype.g,go.prototype.send=go.prototype.o,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,zQ=function(){return new Wg},VQ=function(){return Mn()},BQ=kn,FL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pd.NO_ERROR=0,pd.TIMEOUT=8,pd.HTTP_ERROR=6,lC=pd,Rg.COMPLETE="complete",$Q=Rg,xt.EventType=Pt,Pt.OPEN="a",Pt.CLOSE="b",Pt.ERROR="c",Pt.MESSAGE="d",ve.prototype.listen=ve.prototype.K,zb=xt,mr.prototype.listenOnce=mr.prototype.L,mr.prototype.getLastError=mr.prototype.Ka,mr.prototype.getLastErrorCode=mr.prototype.Ba,mr.prototype.getStatus=mr.prototype.Z,mr.prototype.getResponseJson=mr.prototype.Oa,mr.prototype.getResponseText=mr.prototype.oa,mr.prototype.send=mr.prototype.ea,mr.prototype.setWithCredentials=mr.prototype.Ha,FQ=mr}).apply(typeof h1<"u"?h1:typeof self<"u"?self:typeof window<"u"?window:{});const J6="@firebase/firestore",Q6="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new uQ("@firebase/firestore");function Nm(){return Up.logLevel}function lt(t,...e){if(Up.logLevel<=An.DEBUG){const n=e.map(s5);Up.debug(`Firestore (${s0}): ${t}`,...n)}}function Kc(t,...e){if(Up.logLevel<=An.ERROR){const n=e.map(s5);Up.error(`Firestore (${s0}): ${t}`,...n)}}function Nv(t,...e){if(Up.logLevel<=An.WARN){const n=e.map(s5);Up.warn(`Firestore (${s0}): ${t}`,...n)}}function s5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UQ(t,r,n)}function UQ(t,e,n){let r=`FIRESTORE (${s0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kc(r),new Error(r)}function Hn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||UQ(e,i,r)}function Zt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends sg{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ro.UNAUTHENTICATED))}shutdown(){}}class Lve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ove{constructor(e){this.t=e,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Hn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new $c;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $c,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $c)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new HQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new ro(e)}}class Fve{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ro.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $ve{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Fve(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bve{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hQ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,lt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Hn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Vve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ln(t,e){return t<e?-1:t>e?1:0}function $L(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ln(r,i);{const o=qQ(),s=zve(o.encode(eU(t,n)),o.encode(eU(e,n)));return s!==0?s:ln(r,i)}}n+=r>65535?2:1}return ln(t.length,e.length)}function eU(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function zve(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ln(t[n],e[n]);return ln(t.length,e.length)}function Dv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=-62135596800,nU=1e6;class pi{static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nU);return new pi(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tU)throw new pt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nU}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static fromTimestamp(e){return new Jt(e)}static min(){return new Jt(new pi(0,0))}static max(){return new Jt(new pi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="__name__";class Bl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ht(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ht(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Bl.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ln(e.length,n.length)}static compareSegments(e,n){const r=Bl.isNumericId(e),i=Bl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bl.extractNumericId(e).compare(Bl.extractNumericId(n)):$L(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return If.fromString(e.substring(4,e.length-2))}}class pr extends Bl{construct(e,n,r){return new pr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pt(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pr(n)}static emptyPath(){return new pr([])}}const Uve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Bl{construct(e,n,r){return new zi(e,n,r)}static isValidIdentifier(e){return Uve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rU}static keyField(){return new zi([rU])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pt(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pt(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pt(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pt(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(n)}static emptyPath(){return new zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(pr.fromString(e))}static fromName(e){return new Ot(pr.fromString(e).popFirst(5))}static empty(){return new Ot(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new pr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=-1;function Hve(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Jt.fromTimestamp(r===1e9?new pi(n+1,0):new pi(n,r));return new Nf(i,Ot.empty(),e)}function qve(t){return new Nf(t.readTime,t.key,ex)}class Nf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nf(Jt.min(),Ot.empty(),ex)}static max(){return new Nf(Jt.max(),Ot.empty(),ex)}}function jve(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ot.comparator(t.documentKey,e.documentKey),n!==0?n:ln(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==Wve)throw t;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new De((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Kve(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function l0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ZA.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=-1;function eR(t){return t==null}function wT(t){return t===0&&1/t==-1/0}function Yve(t){return typeof t=="number"&&Number.isInteger(t)&&!wT(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ="";function Xve(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iU(e)),e=Jve(t.get(n),e);return iU(e)}function Jve(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case WQ:n+="";break;default:n+=o}}return n}function iU(t){return t+WQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ag(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.comparator=e,this.root=n||$i.EMPTY}insert(e,n){return new Pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new p1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new p1(this.root,e,this.comparator,!1)}getReverseIterator(){return new p1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new p1(this.root,e,this.comparator,!0)}}class p1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??$i.RED,this.left=i??$i.EMPTY,this.right=o??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new $i(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ht(27949);return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new $i(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sU(this.data.getIterator())}getIteratorFrom(e){return new sU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gi(this.comparator);return n.data=e,n}}class sU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new nl([])}unionWith(e){let n=new gi(zi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KQ("Invalid base64 string: "+o):o}}(e);return new Hi(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Hi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const Qve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Df(t){if(Hn(!!t,39018),typeof t=="string"){let e=0;const n=Qve.exec(t);if(Hn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(t.seconds),nanos:Ur(t.nanos)}}function Ur(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lf(t){return typeof t=="string"?Hi.fromBase64String(t):Hi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ="server_timestamp",XQ="__type__",JQ="__previous_value__",QQ="__local_write_time__";function l5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XQ])===null||n===void 0?void 0:n.stringValue)===YQ}function tR(t){const e=t.mapValue.fields[JQ];return l5(e)?tR(e):e}function tx(t){const e=Df(t.mapValue.fields[QQ].timestampValue);return new pi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zve{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const xT="(default)";class nx{constructor(e,n){this.projectId=e,this.database=n||xT}static empty(){return new nx("","")}get isDefaultDatabase(){return this.database===xT}isEqual(e){return e instanceof nx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ="__type__",e0e="__max__",g1={mapValue:{}},eZ="__vector__",_T="value";function Of(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?l5(t)?4:n0e(t)?9007199254740991:t0e(t)?10:11:Ht(28295,{value:t})}function Cu(t,e){if(t===e)return!0;const n=Of(t);if(n!==Of(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tx(t).isEqual(tx(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Df(i.timestampValue),a=Df(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Lf(i.bytesValue).isEqual(Lf(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ur(i.geoPointValue.latitude)===Ur(o.geoPointValue.latitude)&&Ur(i.geoPointValue.longitude)===Ur(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ur(i.integerValue)===Ur(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ur(i.doubleValue),a=Ur(o.doubleValue);return s===a?wT(s)===wT(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Dv(t.arrayValue.values||[],e.arrayValue.values||[],Cu);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(oU(s)!==oU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Cu(s[l],a[l])))return!1;return!0}(t,e);default:return Ht(52216,{left:t})}}function rx(t,e){return(t.values||[]).find(n=>Cu(n,e))!==void 0}function Lv(t,e){if(t===e)return 0;const n=Of(t),r=Of(e);if(n!==r)return ln(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ln(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ur(o.integerValue||o.doubleValue),l=Ur(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aU(t.timestampValue,e.timestampValue);case 4:return aU(tx(t),tx(e));case 5:return $L(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Lf(o),l=Lf(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ln(a[u],l[u]);if(c!==0)return c}return ln(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ln(Ur(o.latitude),Ur(s.latitude));return a!==0?a:ln(Ur(o.longitude),Ur(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lU(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},p=(a=d[_T])===null||a===void 0?void 0:a.arrayValue,m=(l=h[_T])===null||l===void 0?void 0:l.arrayValue,y=ln(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:lU(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===g1.mapValue&&s===g1.mapValue)return 0;if(o===g1.mapValue)return 1;if(s===g1.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=$L(l[d],c[d]);if(h!==0)return h;const p=Lv(a[l[d]],u[c[d]]);if(p!==0)return p}return ln(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ht(23264,{Pe:n})}}function aU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ln(t,e);const n=Df(t),r=Df(e),i=ln(n.seconds,r.seconds);return i!==0?i:ln(n.nanos,r.nanos)}function lU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Lv(n[i],r[i]);if(o)return o}return ln(n.length,r.length)}function Ov(t){return BL(t)}function BL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Df(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Lf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ot.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=BL(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${BL(n.fields[s])}`;return i+"}"}(t.mapValue):Ht(61005,{value:t})}function uC(t){switch(Of(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tR(t);return e?16+uC(e):16;case 5:return 2*t.stringValue.length;case 6:return Lf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+uC(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ag(r.fields,(o,s)=>{i+=o.length+uC(s)}),i}(t.mapValue);default:throw Ht(13486,{value:t})}}function uU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VL(t){return!!t&&"integerValue"in t}function u5(t){return!!t&&"arrayValue"in t}function cU(t){return!!t&&"nullValue"in t}function dU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cC(t){return!!t&&"mapValue"in t}function t0e(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZQ])===null||n===void 0?void 0:n.stringValue)===eZ}function Ew(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ag(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ew(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ew(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n0e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===e0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.value=e}static empty(){return new la({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cC(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ew(n)}setAll(e){let n=zi.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ew(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cC(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ag(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new la(Ew(this.value))}}function tZ(t){const e=[];return ag(t.fields,(n,r)=>{const i=new zi([n]);if(cC(r)){const o=tZ(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new nl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new oo(e,0,Jt.min(),Jt.min(),Jt.min(),la.empty(),0)}static newFoundDocument(e,n,r,i){return new oo(e,1,n,Jt.min(),r,i,0)}static newNoDocument(e,n){return new oo(e,2,n,Jt.min(),Jt.min(),la.empty(),0)}static newUnknownDocument(e,n){return new oo(e,3,n,Jt.min(),Jt.min(),la.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=la.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=la.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof oo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new oo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.position=e,this.inclusive=n}}function fU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ot.comparator(Ot.fromName(s.referenceValue),n.key):r=Lv(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n="asc"){this.field=e,this.dir=n}}function r0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{}class ei extends nZ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new o0e(e,n,r):n==="array-contains"?new l0e(e,r):n==="in"?new u0e(e,r):n==="not-in"?new c0e(e,r):n==="array-contains-any"?new d0e(e,r):new ei(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s0e(e,r):new a0e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lv(n,this.value)):n!==null&&Of(this.value)===Of(n)&&this.matchesComparison(Lv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sl extends nZ{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new sl(e,n)}matches(e){return rZ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rZ(t){return t.op==="and"}function iZ(t){return i0e(t)&&rZ(t)}function i0e(t){for(const e of t.filters)if(e instanceof sl)return!1;return!0}function zL(t){if(t instanceof ei)return t.field.canonicalString()+t.op.toString()+Ov(t.value);if(iZ(t))return t.filters.map(e=>zL(e)).join(",");{const e=t.filters.map(n=>zL(n)).join(",");return`${t.op}(${e})`}}function oZ(t,e){return t instanceof ei?function(r,i){return i instanceof ei&&r.op===i.op&&r.field.isEqual(i.field)&&Cu(r.value,i.value)}(t,e):t instanceof sl?function(r,i){return i instanceof sl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&oZ(s,i.filters[a]),!0):!1}(t,e):void Ht(19439)}function sZ(t){return t instanceof ei?function(n){return`${n.field.canonicalString()} ${n.op} ${Ov(n.value)}`}(t):t instanceof sl?function(n){return n.op.toString()+" {"+n.getFilters().map(sZ).join(" ,")+"}"}(t):"Filter"}class o0e extends ei{constructor(e,n,r){super(e,n,r),this.key=Ot.fromName(r.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class s0e extends ei{constructor(e,n){super(e,"in",n),this.keys=aZ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a0e extends ei{constructor(e,n){super(e,"not-in",n),this.keys=aZ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aZ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ot.fromName(r.referenceValue))}class l0e extends ei{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return u5(n)&&rx(n.arrayValue,this.value)}}class u0e extends ei{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rx(this.value.arrayValue,n)}}class c0e extends ei{constructor(e,n){super(e,"not-in",n)}matches(e){if(rx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rx(this.value.arrayValue,n)}}class d0e extends ei{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!u5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rx(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function pU(t,e=null,n=[],r=[],i=null,o=null,s=null){return new f0e(t,e,n,r,i,o,s)}function c5(t){const e=Zt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),eR(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ov(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ov(r)).join(",")),e.Ie=n}return e.Ie}function d5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oZ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hU(t.startAt,e.startAt)&&hU(t.endAt,e.endAt)}function UL(t){return Ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function h0e(t,e,n,r,i,o,s,a){return new pS(t,e,n,r,i,o,s,a)}function f5(t){return new pS(t)}function gU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lZ(t){return t.collectionGroup!==null}function Cw(t){const e=Zt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gi(zi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ET(o,r))}),n.has(zi.keyField().canonicalString())||e.Ee.push(new ET(zi.keyField(),r))}return e.Ee}function gu(t){const e=Zt(t);return e.de||(e.de=p0e(e,Cw(t))),e.de}function p0e(t,e){if(t.limitType==="F")return pU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ET(i.field,o)});const n=t.endAt?new ST(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ST(t.startAt.position,t.startAt.inclusive):null;return pU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function HL(t,e){const n=t.filters.concat([e]);return new pS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qL(t,e,n){return new pS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nR(t,e){return d5(gu(t),gu(e))&&t.limitType===e.limitType}function uZ(t){return`${c5(gu(t))}|lt:${t.limitType}`}function Dm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sZ(i)).join(", ")}]`),eR(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ov(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ov(i)).join(",")),`Target(${r})`}(gu(t))}; limitType=${t.limitType})`}function rR(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ot.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Cw(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=fU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Cw(r),i)||r.endAt&&!function(s,a,l){const u=fU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Cw(r),i))}(t,e)}function g0e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cZ(t){return(e,n)=>{let r=!1;for(const i of Cw(t)){const o=m0e(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function m0e(t,e,n){const r=t.field.isKeyField()?Ot.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Lv(l,u):Ht(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ht(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ag(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return GQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0e=new Pr(Ot.comparator);function Yc(){return y0e}const dZ=new Pr(Ot.comparator);function Ub(...t){let e=dZ;for(const n of t)e=e.insert(n.key,n);return e}function fZ(t){let e=dZ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lh(){return Tw()}function hZ(){return Tw()}function Tw(){return new lg(t=>t.toString(),(t,e)=>t.isEqual(e))}const v0e=new Pr(Ot.comparator),b0e=new gi(Ot.comparator);function yn(...t){let e=b0e;for(const n of t)e=e.add(n);return e}const w0e=new gi(ln);function x0e(){return w0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wT(e)?"-0":e}}function pZ(t){return{integerValue:""+t}}function _0e(t,e){return Yve(e)?pZ(e):h5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this._=void 0}}function S0e(t,e,n){return t instanceof CT?function(i,o){const s={fields:{[XQ]:{stringValue:YQ},[QQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&l5(o)&&(o=tR(o)),o&&(s.fields[JQ]=o),{mapValue:s}}(n,e):t instanceof ix?mZ(t,e):t instanceof ox?yZ(t,e):function(i,o){const s=gZ(i,o),a=mU(s)+mU(i.Re);return VL(s)&&VL(i.Re)?pZ(a):h5(i.serializer,a)}(t,e)}function E0e(t,e,n){return t instanceof ix?mZ(t,e):t instanceof ox?yZ(t,e):n}function gZ(t,e){return t instanceof TT?function(r){return VL(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class CT extends iR{}class ix extends iR{constructor(e){super(),this.elements=e}}function mZ(t,e){const n=vZ(e);for(const r of t.elements)n.some(i=>Cu(i,r))||n.push(r);return{arrayValue:{values:n}}}class ox extends iR{constructor(e){super(),this.elements=e}}function yZ(t,e){let n=vZ(e);for(const r of t.elements)n=n.filter(i=>!Cu(i,r));return{arrayValue:{values:n}}}class TT extends iR{constructor(e,n){super(),this.serializer=e,this.Re=n}}function mU(t){return Ur(t.integerValue||t.doubleValue)}function vZ(t){return u5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function C0e(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ix&&i instanceof ix||r instanceof ox&&i instanceof ox?Dv(r.elements,i.elements,Cu):r instanceof TT&&i instanceof TT?Cu(r.Re,i.Re):r instanceof CT&&i instanceof CT}(t.transform,e.transform)}class T0e{constructor(e,n){this.version=e,this.transformResults=n}}class Bc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bc}static exists(e){return new Bc(void 0,e)}static updateTime(e){return new Bc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dC(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oR{}function bZ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xZ(t.key,Bc.none()):new gS(t.key,t.data,Bc.none());{const n=t.data,r=la.empty();let i=new gi(zi.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ug(t.key,r,new nl(i.toArray()),Bc.none())}}function A0e(t,e,n){t instanceof gS?function(i,o,s){const a=i.value.clone(),l=vU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ug?function(i,o,s){if(!dC(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=vU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(wZ(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Aw(t,e,n,r){return t instanceof gS?function(o,s,a,l){if(!dC(o.precondition,s))return a;const u=o.value.clone(),c=bU(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ug?function(o,s,a,l){if(!dC(o.precondition,s))return a;const u=bU(o.fieldTransforms,l,s),c=s.data;return c.setAll(wZ(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return dC(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function R0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=gZ(r.transform,i||null);o!=null&&(n===null&&(n=la.empty()),n.set(r.field,o))}return n||null}function yU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dv(r,i,(o,s)=>C0e(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gS extends oR{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ug extends oR{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wZ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vU(t,e,n){const r=new Map;Hn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,E0e(s,a,n[i]))}return r}function bU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,S0e(o,s,e))}return r}class xZ extends oR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P0e extends oR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&A0e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Aw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Aw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hZ();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=bZ(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Jt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yn())}isEqual(e){return this.batchId===e.batchId&&Dv(this.mutations,e.mutations,(n,r)=>yU(n,r))&&Dv(this.baseMutations,e.baseMutations,(n,r)=>yU(n,r))}}class p5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Hn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return v0e}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new p5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr,En;function N0e(t){switch(t){case Le.OK:return Ht(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return Ht(15467,{code:t})}}function _Z(t){if(t===void 0)return Kc("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Yr.OK:return Le.OK;case Yr.CANCELLED:return Le.CANCELLED;case Yr.UNKNOWN:return Le.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return Le.INTERNAL;case Yr.UNAVAILABLE:return Le.UNAVAILABLE;case Yr.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Yr.NOT_FOUND:return Le.NOT_FOUND;case Yr.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Yr.ABORTED:return Le.ABORTED;case Yr.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Yr.DATA_LOSS:return Le.DATA_LOSS;default:return Ht(39323,{code:t})}}(En=Yr||(Yr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0e=new If([4294967295,4294967295],0);function wU(t){const e=qQ().encode(t),n=new OQ;return n.update(e),new Uint8Array(n.digest())}function xU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new If([n,r],0),new If([i,o],0)]}class g5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hb(`Invalid padding: ${n}`);if(r<0)throw new Hb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hb(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hb(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=If.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(If.fromNumber(r)));return i.compare(D0e)===1&&(i=new If([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=wU(e),[r,i]=xU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new g5(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;const n=wU(e),[r,i]=xU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mS.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sR(Jt.min(),i,new Pr(ln),Yc(),yn())}}class mS{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mS(r,n,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class SZ{constructor(e,n){this.targetId=e,this.Ce=n}}class EZ{constructor(e,n,r=Hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _U{constructor(){this.Fe=0,this.Me=SU(),this.xe=Hi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yn(),n=yn(),r=yn();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ht(38017,{changeType:o})}}),new mS(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=SU()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Hn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class L0e{constructor(e){this.ze=e,this.je=new Map,this.He=Yc(),this.Je=m1(),this.Ye=m1(),this.Ze=new Pr(ln)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ht(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(UL(o))if(r===0){const s=new Ot(o.path);this.tt(n,s,oo.newNoDocument(s,Jt.min()))}else Hn(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Lf(r).toUint8Array()}catch(l){if(l instanceof KQ)return Nv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new g5(s,i,o)}catch(l){return Nv(l instanceof Hb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&UL(a.target)){const l=new Ot(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,oo.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=yn();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new sR(e,n,this.Ze,this.He,r);return this.He=Yc(),this.Je=m1(),this.Ye=m1(),this.Ze=new Pr(ln),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new _U,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new gi(ln),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new gi(ln),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new _U),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function m1(){return new Pr(Ot.comparator)}function SU(){return new Pr(Ot.comparator)}const O0e={asc:"ASCENDING",desc:"DESCENDING"},F0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$0e={and:"AND",or:"OR"};class B0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jL(t,e){return t.useProto3Json||eR(e)?e:{value:e}}function AT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CZ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V0e(t,e){return AT(t,e.toTimestamp())}function mu(t){return Hn(!!t,49232),Jt.fromTimestamp(function(n){const r=Df(n);return new pi(r.seconds,r.nanos)}(t))}function m5(t,e){return WL(t,e).canonicalString()}function WL(t,e){const n=function(i){return new pr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TZ(t){const e=pr.fromString(t);return Hn(kZ(e),10190,{key:e.toString()}),e}function GL(t,e){return m5(t.databaseId,e.path)}function wk(t,e){const n=TZ(e);if(n.get(1)!==t.databaseId.projectId)throw new pt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ot(RZ(n))}function AZ(t,e){return m5(t.databaseId,e)}function z0e(t){const e=TZ(t);return e.length===4?pr.emptyPath():RZ(e)}function KL(t){return new pr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RZ(t){return Hn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EU(t,e,n){return{name:GL(t,e),fields:n.value.mapValue.fields}}function U0e(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ht(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Hn(c===void 0||typeof c=="string",58123),Hi.fromBase64String(c||"")):(Hn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Hi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Le.UNKNOWN:_Z(u.code);return new pt(c,u.message||"")}(s);n=new EZ(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wk(t,r.document.name),o=mu(r.document.updateTime),s=r.document.createTime?mu(r.document.createTime):Jt.min(),a=new la({mapValue:{fields:r.document.fields}}),l=oo.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fC(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wk(t,r.document),o=r.readTime?mu(r.readTime):Jt.min(),s=oo.newNoDocument(i,o),a=r.removedTargetIds||[];n=new fC([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wk(t,r.document),o=r.removedTargetIds||[];n=new fC([],o,i,null)}else{if(!("filter"in e))return Ht(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new M0e(i,o),a=r.targetId;n=new SZ(a,s)}}return n}function H0e(t,e){let n;if(e instanceof gS)n={update:EU(t,e.key,e.value)};else if(e instanceof xZ)n={delete:GL(t,e.key)};else if(e instanceof ug)n={update:EU(t,e.key,e.data),updateMask:Q0e(e.fieldMask)};else{if(!(e instanceof P0e))return Ht(16599,{ft:e.type});n={verify:GL(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof CT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ix)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ox)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof TT)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Ht(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:V0e(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ht(27497)}(t,e.precondition)),n}function q0e(t,e){return t&&t.length>0?(Hn(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?mu(i.updateTime):mu(o);return s.isEqual(Jt.min())&&(s=mu(o)),new T0e(s,i.transformResults||[])}(n,e))):[]}function j0e(t,e){return{documents:[AZ(t,e.path)]}}function W0e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AZ(t,i);const o=function(u){if(u.length!==0)return IZ(sl.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Lm(h.field),direction:Y0e(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jL(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function G0e(t){let e=z0e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Hn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=PZ(d);return h instanceof sl&&iZ(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new ET(Om(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,eR(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new ST(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new ST(p,h)}(n.endAt)),h0e(e,i,s,o,a,"F",l,u)}function K0e(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PZ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Om(n.unaryFilter.field);return ei.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Om(n.unaryFilter.field);return ei.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Om(n.unaryFilter.field);return ei.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Om(n.unaryFilter.field);return ei.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}}(t):t.fieldFilter!==void 0?function(n){return ei.create(Om(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sl.create(n.compositeFilter.filters.map(r=>PZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}}(n.compositeFilter.op))}(t):Ht(30097,{filter:t})}function Y0e(t){return O0e[t]}function X0e(t){return F0e[t]}function J0e(t){return $0e[t]}function Lm(t){return{fieldPath:t.canonicalString()}}function Om(t){return zi.fromServerFormat(t.fieldPath)}function IZ(t){return t instanceof ei?function(n){if(n.op==="=="){if(dU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NAN"}};if(cU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NOT_NAN"}};if(cU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lm(n.field),op:X0e(n.op),value:n.value}}}(t):t instanceof sl?function(n){const r=n.getFilters().map(i=>IZ(i));return r.length===1?r[0]:{compositeFilter:{op:J0e(n.op),filters:r}}}(t):Ht(54877,{filter:t})}function Q0e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kZ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i,o=Jt.min(),s=Jt.min(),a=Hi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ef(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(e){this.wt=e}}function ebe(t){const e=G0e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tbe{constructor(){this.Cn=new nbe}addToCollectionParentIndex(e,n){return this.Cn.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Nf.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Nf.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class nbe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gi(pr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gi(pr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MZ=41943040;class Go{static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(MZ,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Fv(0)}static lr(){return new Fv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="LruGarbageCollector",rbe=1048576;function AU([t,e],[n,r]){const i=ln(t,n);return i===0?ln(e,r):i}class ibe{constructor(e){this.Er=e,this.buffer=new gi(AU),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class obe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){lt(TU,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){l0(n)?lt(TU,"Ignoring IndexedDB error during garbage collection: ",n):await a0(n)}await this.mr(3e5)})}}class sbe{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return De.resolve(ZA.le);const r=new ibe(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(CU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CU):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Nm()<=An.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function abe(t,e){return new sbe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{constructor(){this.changes=new lg(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,oo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cbe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Aw(r.mutation,i,nl.empty(),pi.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yn()){const i=Lh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ub();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Lh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Yc();const s=Tw(),a=function(){return Tw()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ug)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Aw(c.mutation,u,c.mutation.getFieldMask(),pi.now())):s.set(u.key,nl.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new ube(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tw();let i=new Pr((s,a)=>s-a),o=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||nl.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||yn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=hZ();c.forEach(h=>{if(!o.has(h)){const p=bZ(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return De.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):De.resolve(Lh());let a=ex,l=o;return s.next(u=>De.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?De.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,yn())).next(c=>({batchId:a,changes:fZ(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next(r=>{let i=Ub();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ub();return this.indexManager.getCollectionParents(e,o).next(a=>De.forEach(a,l=>{const u=function(d,h){return new pS(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,oo.newInvalidDocument(c)))});let a=Ub();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Aw(c.mutation,u,nl.empty(),pi.now()),rR(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dbe{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return De.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mu(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:ebe(i.bundledQuery),readTime:mu(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(){this.overlays=new Pr(Ot.comparator),this.Qr=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lh();return De.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=Lh(),o=n.length+1,s=new Ot(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Lh(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Lh(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return De.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new k0e(n,r));let o=this.Qr.get(n);o===void 0&&(o=yn(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hbe{constructor(){this.sessionToken=Hi.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.$r=new gi(_i.Ur),this.Kr=new gi(_i.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new _i(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new _i(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ot(new pr([])),r=new _i(n,e),i=new _i(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ot(new pr([])),r=new _i(n,e),i=new _i(n,e+1);let o=yn();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new _i(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _i{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ot.comparator(e.key,n.key)||ln(e.Zr,n.Zr)}static Wr(e,n){return ln(e.Zr,n.Zr)||Ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pbe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new gi(_i.Ur)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new I0e(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new _i(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return De.resolve(s)}lookupMutationBatch(e,n){return De.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return De.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?a5:this.nr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _i(n,0),i=new _i(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),De.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gi(ln);return n.forEach(i=>{const o=new _i(i,0),s=new _i(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),De.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ot.isDocumentKey(o)||(o=o.child(""));const s=new _i(new Ot(o),0);let a=new gi(ln);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),De.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Hn(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return De.forEach(n.mutations,i=>{const o=new _i(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new _i(n,0),i=this.Xr.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gbe{constructor(e){this.ii=e,this.docs=function(){return new Pr(Ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():oo.newInvalidDocument(n))}getEntries(e,n){let r=Yc();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():oo.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yc();const s=n.path,a=new Ot(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||jve(qve(c),r)<=0||(i.has(c.key)||rR(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return De.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ht(9500)}si(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mbe(this)}getSize(e){return De.resolve(this.size)}}class mbe extends lbe{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ybe{constructor(e){this.persistence=e,this.oi=new lg(n=>c5(n),d5),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this._i=0,this.ai=new y5,this.targetCount=0,this.ui=Fv.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),De.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Fv(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Tr(n),De.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),De.waitFor(o).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),De.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e,n){this.ci={},this.overlays={},this.li=new ZA(0),this.hi=!1,this.hi=!0,this.Pi=new hbe,this.referenceDelegate=e(this),this.Ti=new ybe(this),this.indexManager=new tbe,this.remoteDocumentCache=function(i){return new gbe(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Z0e(n),this.Ei=new dbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fbe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new pbe(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){lt("MemoryPersistence","Starting transaction:",e);const i=new vbe(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return De.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class vbe extends Gve{constructor(e){super(),this.currentSequenceNumber=e}}class v5{constructor(e){this.persistence=e,this.Vi=new y5,this.mi=null}static fi(e){return new v5(e)}get gi(){if(this.mi)return this.mi;throw Ht(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),De.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.gi,r=>{const i=Ot.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,Jt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return De.or([()=>De.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class RT{constructor(e,n){this.persistence=e,this.yi=new lg(r=>Xve(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=abe(this,n)}static fi(e,n){return new RT(e,n)}di(){}Ai(e){return De.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return De.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?De.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Jt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),De.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),De.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),De.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),De.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uC(e.data.value)),n}Dr(e,n,r){return De.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return De.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=yn(),i=yn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new b5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bbe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wbe{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ome()?8:Kve(rme())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new bbe;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Nm()<=An.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Dm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),De.resolve()):(Nm()<=An.DEBUG&&lt("QueryEngine","Query:",Dm(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Nm()<=An.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Dm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gu(n))):De.resolve())}ws(e,n){if(gU(n))return De.resolve(null);let r=gu(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qL(n,null,"F"),r=gu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=yn(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,s,l.readTime)?this.ws(e,qL(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return gU(n)||i.isEqual(Jt.min())?De.resolve(null):this.ys.getDocuments(e,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?De.resolve(null):(Nm()<=An.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dm(n)),this.Fs(e,s,n,Hve(i,ex)).next(a=>a))})}vs(e,n){let r=new gi(cZ(e));return n.forEach((i,o)=>{rR(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Nm()<=An.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Dm(n)),this.ys.getDocumentsMatchingQuery(e,n,Nf.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="LocalStore",xbe=3e8;class _be{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Pr(ln),this.Os=new lg(o=>c5(o),d5),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cbe(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Sbe(t,e,n,r){return new _be(t,e,n,r)}async function DZ(t,e){const n=Zt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=yn();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})}function Ebe(t,e){const n=Zt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=De.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const w=u.docVersions.get(m);Hn(w!==null,48541),y.version.compareTo(w)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=yn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LZ(t){const e=Zt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Cbe(t,e){const n=Zt(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ti.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Hi.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,w,_){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=xbe?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,c)&&a.push(n.Ti.updateTargetData(o,p))});let l=Yc(),u=yn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Tbe(o,s,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(Jt.min())){const c=n.Ti.getLastRemoteSnapshotVersion(o).next(d=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return De.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.xs=i,o))}function Tbe(t,e,n){let r=yn(),i=yn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yc();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Jt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):lt(w5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function Abe(t,e){const n=Zt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=a5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rbe(t,e){const n=Zt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,De.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Ef(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function YL(t,e,n){const r=Zt(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!l0(s))throw s;lt(w5,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function RU(t,e,n){const r=Zt(t);let i=Jt.min(),o=yn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Zt(l),h=d.Os.get(c);return h!==void 0?De.resolve(d.xs.get(h)):d.Ti.getTargetData(u,c)}(r,s,gu(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:Jt.min(),n?o:yn())).next(a=>(Pbe(r,g0e(e),a),{documents:a,$s:o})))}function Pbe(t,e,n){let r=t.Ns.get(e)||Jt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class PU{constructor(){this.activeTargetIds=x0e()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ibe{constructor(){this.xo=new PU,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new PU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kbe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="ConnectivityMonitor";class kU{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){lt(IU,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){lt(IU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1=null;function XL(){return y1===null?y1=function(){return 268435456+Math.round(2147483648*Math.random())}():y1++,"0x"+y1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="RestConnection",Mbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nbe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===xT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const s=XL(),a=this.jo(e,n.toUriEncodedString());lt(xk,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:u}=new URL(a),c=hS(u);return this.Jo(e,a,l,r,c).then(d=>(lt(xk,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Nv(xk,`RPC '${e}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+s0}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=Mbe[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dbe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="WebChannelConnection";class Lbe extends Nbe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=XL();return new Promise((a,l)=>{const u=new FQ;u.setWithCredentials(!0),u.listenOnce($Q.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lC.NO_ERROR:const d=u.getResponseJson();lt(Ki,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case lC.TIMEOUT:lt(Ki,`RPC '${e}' ${s} timed out`),l(new pt(Le.DEADLINE_EXCEEDED,"Request time out"));break;case lC.HTTP_ERROR:const h=u.getStatus();if(lt(Ki,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(E)>=0?E:Le.UNKNOWN}(m.status);l(new pt(y,m.message))}else l(new pt(Le.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new pt(Le.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{lt(Ki,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);lt(Ki,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}I_(e,n,r){const i=XL(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zQ(),a=VQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");lt(Ki,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.E_(d);let h=!1,p=!1;const m=new Dbe({Zo:w=>{p?lt(Ki,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(lt(Ki,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),lt(Ki,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Xo:()=>d.close()}),y=(w,_,E)=>{w.listen(_,S=>{try{E(S)}catch(T){setTimeout(()=>{throw T},0)}})};return y(d,zb.EventType.OPEN,()=>{p||(lt(Ki,`RPC '${e}' stream ${i} transport opened.`),m.__())}),y(d,zb.EventType.CLOSE,()=>{p||(p=!0,lt(Ki,`RPC '${e}' stream ${i} transport closed`),m.u_(),this.d_(d))}),y(d,zb.EventType.ERROR,w=>{p||(p=!0,Nv(Ki,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),m.u_(new pt(Le.UNAVAILABLE,"The operation could not be completed")))}),y(d,zb.EventType.MESSAGE,w=>{var _;if(!p){const E=w.data[0];Hn(!!E,16349);const S=E,T=(S==null?void 0:S.error)||((_=S[0])===null||_===void 0?void 0:_.error);if(T){lt(Ki,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let N=function(D){const k=Yr[D];if(k!==void 0)return _Z(k)}(I),P=T.message;N===void 0&&(N=Le.INTERNAL,P="Unknown error status: "+I+" with message "+T.message),p=!0,m.u_(new pt(N,P)),d.close()}else lt(Ki,`RPC '${e}' stream ${i} received:`,E),m.c_(E)}}),y(a,BQ.STAT_EVENT,w=>{w.stat===FL.PROXY?lt(Ki,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===FL.NOPROXY&&lt(Ki,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function _k(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){return new B0e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&lt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="PersistentStream";class FZ{constructor(e,n,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new OZ(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(Kc(n.toString()),Kc("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new pt(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return lt(MU,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(lt(MU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Obe extends FZ{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=U0e(this.serializer,e),r=function(o){if(!("targetChange"in o))return Jt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Jt.min():s.readTime?mu(s.readTime):Jt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=KL(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=UL(l)?{documents:j0e(o,l)}:{query:W0e(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=CZ(o,s.resumeToken);const u=jL(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Jt.min())>0){a.readTime=AT(o,s.snapshotVersion.toTimestamp());const u=jL(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=K0e(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=KL(this.serializer),n.removeTarget=e,this.Q_(n)}}class Fbe extends FZ{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=q0e(e.writeResults,e.commitTime),r=mu(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=KL(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>H0e(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $be{}class Bbe extends $be{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new pt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,WL(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(Le.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,WL(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pt(Le.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Vbe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Kc(n),this.ua=!1):lt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="RemoteStore";class zbe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(async()=>{cg(this)&&(lt(Hp,"Restarting streams for network reachability change."),await async function(l){const u=Zt(l);u.da.add(4),await yS(u),u.Va.set("Unknown"),u.da.delete(4),await lR(u)}(this))})}),this.Va=new Vbe(r,i)}}async function lR(t){if(cg(t))for(const e of t.Aa)await e(!0)}async function yS(t){for(const e of t.Aa)await e(!1)}function $Z(t,e){const n=Zt(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),E5(n)?S5(n):u0(n).N_()&&_5(n,e))}function x5(t,e){const n=Zt(t),r=u0(n);n.Ea.delete(e),r.N_()&&BZ(n,e),n.Ea.size===0&&(r.N_()?r.k_():cg(n)&&n.Va.set("Unknown"))}function _5(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}u0(t).Z_(e)}function BZ(t,e){t.ma.Ke(e),u0(t).X_(e)}function S5(t){t.ma=new L0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),u0(t).start(),t.Va.ca()}function E5(t){return cg(t)&&!u0(t).O_()&&t.Ea.size>0}function cg(t){return Zt(t).da.size===0}function VZ(t){t.ma=void 0}async function Ube(t){t.Va.set("Online")}async function Hbe(t){t.Ea.forEach((e,n)=>{_5(t,e)})}async function qbe(t,e){VZ(t),E5(t)?(t.Va.Pa(e),S5(t)):t.Va.set("Unknown")}async function jbe(t,e,n){if(t.Va.set("Online"),e instanceof EZ&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){lt(Hp,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await PT(t,r)}else if(e instanceof fC?t.ma.Xe(e):e instanceof SZ?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Jt.min()))try{const r=await LZ(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ea.get(u);c&&o.Ea.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ea.get(l);if(!c)return;o.Ea.set(l,c.withResumeToken(Hi.EMPTY_BYTE_STRING,c.snapshotVersion)),BZ(o,l);const d=new Ef(c.target,l,u,c.sequenceNumber);_5(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){lt(Hp,"Failed to raise snapshot:",r),await PT(t,r)}}async function PT(t,e,n){if(!l0(e))throw e;t.da.add(1),await yS(t),t.Va.set("Offline"),n||(n=()=>LZ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{lt(Hp,"Retrying IndexedDB access"),await n(),t.da.delete(1),await lR(t)})}function zZ(t,e){return e().catch(n=>PT(t,n,e))}async function uR(t){const e=Zt(t),n=Ff(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:a5;for(;Wbe(e);)try{const i=await Abe(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,Gbe(e,i)}catch(i){await PT(e,i)}UZ(e)&&HZ(e)}function Wbe(t){return cg(t)&&t.Ia.length<10}function Gbe(t,e){t.Ia.push(e);const n=Ff(t);n.N_()&&n.ea&&n.ta(e.mutations)}function UZ(t){return cg(t)&&!Ff(t).O_()&&t.Ia.length>0}function HZ(t){Ff(t).start()}async function Kbe(t){Ff(t).ia()}async function Ybe(t){const e=Ff(t);for(const n of t.Ia)e.ta(n.mutations)}async function Xbe(t,e,n){const r=t.Ia.shift(),i=p5.from(r,e,n);await zZ(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await uR(t)}async function Jbe(t,e){e&&Ff(t).ea&&await async function(r,i){if(function(s){return N0e(s)&&s!==Le.ABORTED}(i.code)){const o=r.Ia.shift();Ff(r).L_(),await zZ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await uR(r)}}(t,e),UZ(t)&&HZ(t)}async function NU(t,e){const n=Zt(t);n.asyncQueue.verifyOperationInProgress(),lt(Hp,"RemoteStore received new credentials");const r=cg(n);n.da.add(3),await yS(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await lR(n)}async function Qbe(t,e){const n=Zt(t);e?(n.da.delete(2),await lR(n)):e||(n.da.add(2),await yS(n),n.Va.set("Unknown"))}function u0(t){return t.fa||(t.fa=function(n,r,i){const o=Zt(n);return o.oa(),new Obe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:Ube.bind(null,t),n_:Hbe.bind(null,t),i_:qbe.bind(null,t),Y_:jbe.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),E5(t)?S5(t):t.Va.set("Unknown")):(await t.fa.stop(),VZ(t))})),t.fa}function Ff(t){return t.ga||(t.ga=function(n,r,i){const o=Zt(n);return o.oa(),new Fbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Kbe.bind(null,t),i_:Jbe.bind(null,t),na:Ybe.bind(null,t),ra:Xbe.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await uR(t)):(await t.ga.stop(),t.Ia.length>0&&(lt(Hp,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new C5(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T5(t,e){if(Kc("AsyncQueue",`${e}: ${t}`),l0(t))return new pt(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static emptySet(e){return new vy(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ot.comparator(n.key,r.key):(n,r)=>Ot.comparator(n.key,r.key),this.keyedMap=Ub(),this.sortedSet=new Pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.pa=new Pr(Ot.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ht(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class $v{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $v(e,n,vy.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zbe{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class ewe{constructor(){this.queries=LU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Zt(n),o=i.queries;i.queries=LU(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new pt(Le.ABORTED,"Firestore shutting down"))}}function LU(){return new lg(t=>uZ(t),nR)}async function qZ(t,e){const n=Zt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new Zbe,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=T5(s,`Initialization of query '${Dm(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&A5(n)}async function jZ(t,e){const n=Zt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function twe(t,e){const n=Zt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&A5(n)}function nwe(t,e,n){const r=Zt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function A5(t){t.Ca.forEach(e=>{e.next()})}var JL,OU;(OU=JL||(JL={})).xa="default",OU.Cache="cache";class WZ{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $v(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=$v.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==JL.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e){this.key=e}}class KZ{constructor(e){this.key=e}}class rwe{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=yn(),this.mutatedKeys=yn(),this.Za=cZ(e),this.Xa=new vy(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new DU,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=rR(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),w=!0):this.ru(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(s=s.add(p),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((c,d)=>function(p,m){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{Vt:w})}};return y(p)-y(m)}(c.type,d.type)||this.Za(c.doc,d.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new $v(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new DU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=yn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new KZ(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new GZ(r))}),n}au(e){this.Ha=e.$s,this.Ya=yn();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return $v.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const R5="SyncEngine";class iwe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class owe{constructor(e){this.key=e,this.cu=!1}}class swe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new lg(a=>uZ(a),nR),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pr(Ot.comparator),this.Eu=new Map,this.du=new y5,this.Au={},this.Ru=new Map,this.Vu=Fv.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function awe(t,e,n=!0){const r=eee(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await YZ(r,e,n,!0),i}async function lwe(t,e){const n=eee(t);await YZ(n,e,!0,!1)}async function YZ(t,e,n,r){const i=await Rbe(t.localStore,gu(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await uwe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&$Z(t.remoteStore,i),a}async function uwe(t,e,n,r,i){t.fu=(d,h,p)=>async function(y,w,_,E){let S=w.view.tu(_);S.Cs&&(S=await RU(y.localStore,w.query,!1).then(({documents:P})=>w.view.tu(P,S)));const T=E&&E.targetChanges.get(w.targetId),I=E&&E.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(S,y.isPrimaryClient,T,I);return $U(y,w.targetId,N.ou),N.snapshot}(t,d,h,p);const o=await RU(t.localStore,e,!0),s=new rwe(e,o.$s),a=s.tu(o.documents),l=mS.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);$U(t,n,u.ou);const c=new iwe(e,n,s);return t.hu.set(e,c),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function cwe(t,e,n){const r=Zt(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!nR(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await YL(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x5(r.remoteStore,i.targetId),QL(r,i.targetId)}).catch(a0)):(QL(r,i.targetId),await YL(r.localStore,i.targetId,!0))}async function dwe(t,e){const n=Zt(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x5(n.remoteStore,r.targetId))}async function fwe(t,e,n){const r=bwe(t);try{const i=await function(s,a){const l=Zt(s),u=pi.now(),c=a.reduce((p,m)=>p.add(m.key),yn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Yc(),y=yn();return l.Bs.getEntries(p,c).next(w=>{m=w,m.forEach((_,E)=>{E.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(w=>{d=w;const _=[];for(const E of a){const S=R0e(E,d.get(E.key).overlayedDocument);S!=null&&_.push(new ug(E.key,S,tZ(S.value.mapValue),Bc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:fZ(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new Pr(ln)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await vS(r,i.changes),await uR(r.remoteStore)}catch(i){const o=T5(i,"Failed to persist write");n.reject(o)}}async function XZ(t,e){const n=Zt(t);try{const r=await Cbe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(Hn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Hn(s.cu,14607):i.removedDocuments.size>0&&(Hn(s.cu,42227),s.cu=!1))}),await vS(n,r,e)}catch(r){await a0(r)}}function FU(t,e,n){const r=Zt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,s)=>{const a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Zt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.Fa(a)&&(u=!0)}),u&&A5(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hwe(t,e,n){const r=Zt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pr(Ot.comparator);s=s.insert(o,oo.newNoDocument(o,Jt.min()));const a=yn().add(o),l=new sR(Jt.min(),new Map,new Pr(ln),s,a);await XZ(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),P5(r)}else await YL(r.localStore,e,!1).then(()=>QL(r,e,n)).catch(a0)}async function pwe(t,e){const n=Zt(t),r=e.batch.batchId;try{const i=await Ebe(n.localStore,e);QZ(n,r,null),JZ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vS(n,i)}catch(i){await a0(i)}}async function gwe(t,e,n){const r=Zt(t);try{const i=await function(s,a){const l=Zt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Hn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);QZ(r,e,n),JZ(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vS(r,i)}catch(i){await a0(i)}}function JZ(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function QZ(t,e,n){const r=Zt(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function QL(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||ZZ(t,r)})}function ZZ(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(x5(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),P5(t))}function $U(t,e,n){for(const r of n)r instanceof GZ?(t.du.addReference(r.key,e),mwe(t,r)):r instanceof KZ?(lt(R5,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||ZZ(t,r.key)):Ht(19791,{pu:r})}function mwe(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(lt(R5,"New document in limbo: "+n),t.Tu.add(r),P5(t))}function P5(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ot(pr.fromString(e)),r=t.Vu.next();t.Eu.set(r,new owe(n)),t.Iu=t.Iu.insert(n,r),$Z(t.remoteStore,new Ef(gu(f5(n.path)),r,"TargetPurposeLimboResolution",ZA.le))}}async function vS(t,e,n){const r=Zt(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=b5.Rs(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(l,u){const c=Zt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>De.forEach(u,h=>De.forEach(h.ds,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>De.forEach(h.As,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!l0(d))throw d;lt(w5,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.xs.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.xs=c.xs.insert(h,y)}}}(r.localStore,o))}async function ywe(t,e){const n=Zt(t);if(!n.currentUser.isEqual(e)){lt(R5,"User change. New user:",e.toKey());const r=await DZ(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new pt(Le.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vS(n,r.ks)}}function vwe(t,e){const n=Zt(t),r=n.Eu.get(e);if(r&&r.cu)return yn().add(r.key);{let i=yn();const o=n.Pu.get(e);if(!o)return i;for(const s of o){const a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function eee(t){const e=Zt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hwe.bind(null,e),e.lu.Y_=twe.bind(null,e.eventManager),e.lu.gu=nwe.bind(null,e.eventManager),e}function bwe(t){const e=Zt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gwe.bind(null,e),e}class IT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=aR(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return Sbe(this.persistence,new wbe,e.initialUser,this.serializer)}Su(e){return new NZ(v5.fi,this.serializer)}bu(e){return new Ibe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}IT.provider={build:()=>new IT};class wwe extends IT{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Hn(this.persistence.referenceDelegate instanceof RT,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new obe(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new NZ(r=>RT.fi(r,n),this.serializer)}}class ZL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ywe.bind(null,this.syncEngine),await Qbe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ewe}()}createDatastore(e){const n=aR(e.databaseInfo.databaseId),r=function(o){return new Lbe(o)}(e.databaseInfo);return function(o,s,a,l){return new Bbe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new zbe(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FU(this.syncEngine,n,0),function(){return kU.C()?new kU:new kbe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new swe(i,o,s,a,l,u);return c&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Zt(i);lt(Hp,"RemoteStore shutting down."),o.da.add(5),await yS(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ZL.provider={build:()=>new ZL};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Kc("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="FirestoreClient";class xwe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ro.UNAUTHENTICATED,this.clientId=jQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{lt($f,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(lt($f,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=T5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sk(t,e){t.asyncQueue.verifyOperationInProgress(),lt($f,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DZ(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _we(t);lt($f,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NU(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NU(e.remoteStore,i)),t._onlineComponents=e}async function _we(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){lt($f,"Using user provided OfflineComponentProvider");try{await Sk(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nv("Error using user provided cache. Falling back to memory cache: "+n),await Sk(t,new IT)}}else lt($f,"Using default OfflineComponentProvider"),await Sk(t,new wwe(void 0));return t._offlineComponents}async function nee(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(lt($f,"Using user provided OnlineComponentProvider"),await BU(t,t._uninitializedComponentsProvider._online)):(lt($f,"Using default OnlineComponentProvider"),await BU(t,new ZL))),t._onlineComponents}function Swe(t){return nee(t).then(e=>e.syncEngine)}async function ree(t){const e=await nee(t),n=e.eventManager;return n.onListen=awe.bind(null,e.syncEngine),n.onUnlisten=cwe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lwe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dwe.bind(null,e.syncEngine),n}function Ewe(t,e,n={}){const r=new $c;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new tee({next:h=>{c.xu(),s.enqueueAndForget(()=>jZ(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new pt(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new pt(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new WZ(f5(a.path),c,{includeMetadataChanges:!0,Qa:!0});return qZ(o,d)}(await ree(t),t.asyncQueue,e,n,r)),r.promise}function Cwe(t,e,n={}){const r=new $c;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new tee({next:h=>{c.xu(),s.enqueueAndForget(()=>jZ(o,d)),h.fromCache&&l.source==="server"?u.reject(new pt(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new WZ(a,c,{includeMetadataChanges:!0,Qa:!0});return qZ(o,d)}(await ree(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t,e,n){if(!n)throw new pt(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Twe(t,e,n,r){if(e===!0&&r===!0)throw new pt(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zU(t){if(!Ot.isDocumentKey(t))throw new pt(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UU(t){if(Ot.isDocumentKey(t))throw new pt(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ht(12329,{type:typeof t})}function qp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pt(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cR(t);throw new pt(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see="firestore.googleapis.com",HU=!0;class qU{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=see,this.ssl=HU}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rbe)throw new pt(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Twe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iee((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dve;switch(r.type){case"firstParty":return new $ve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VU.get(n);r&&(lt("ComponentProvider","Removing Datastore"),VU.delete(n),r.terminate())}(this),Promise.resolve()}}function Awe(t,e,n,r={}){var i;t=qp(t,dR);const o=hS(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o&&(oQ(`https://${l}`),aQ("Firestore",!0)),s.host!==see&&s.host!==l&&Nv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!vT(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=ro.MOCK_USER;else{c=sQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new pt(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ro(h)}t._authCredentials=new Lve(new HQ(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new c0(this.firestore,e,this._query)}}class ts{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ts(this.firestore,e,this._key)}}class kf extends c0{constructor(e,n,r){super(e,n,f5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ts(this.firestore,null,new Ot(e))}withConverter(e){return new kf(this.firestore,e,this._path)}}function gm(t,e,...n){if(t=Eu(t),oee("collection","path",e),t instanceof dR){const r=pr.fromString(e,...n);return UU(r),new kf(t,null,r)}{if(!(t instanceof ts||t instanceof kf))throw new pt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pr.fromString(e,...n));return UU(r),new kf(t.firestore,null,r)}}function bs(t,e,...n){if(t=Eu(t),arguments.length===1&&(e=jQ.newId()),oee("doc","path",e),t instanceof dR){const r=pr.fromString(e,...n);return zU(r),new ts(t,null,new Ot(r))}{if(!(t instanceof ts||t instanceof kf))throw new pt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pr.fromString(e,...n));return zU(r),new ts(t.firestore,t instanceof kf?t.converter:null,new Ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="AsyncQueue";class WU{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new OZ(this,"async_queue_retry"),this.rc=()=>{const r=_k();r&&lt(jU,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=_k();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=_k();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new $c;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!l0(e))throw e;lt(jU,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Kc("INTERNAL UNHANDLED ERROR: ",GU(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=C5.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Ht(47125,{cc:GU(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function GU(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fR extends dR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WU(e),this._firestoreClient=void 0,await e}}}function Rwe(t,e){const n=typeof t=="object"?t:mQ(),r=typeof t=="string"?t:xT,i=fQ(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=rQ("firestore");o&&Awe(i,...o)}return i}function I5(t){if(t._terminated)throw new pt(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Pwe(t),t._firestoreClient}function Pwe(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Zve(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,iee(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xwe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bv(Hi.fromBase64String(e))}catch(n){throw new pt(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bv(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pt(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pt(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pt(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iwe=/^__.*__$/;class kwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ug(e,this.data,this.fieldMask,n,this.fieldTransforms):new gS(e,this.data,n,this.fieldTransforms)}}function lee(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{Ic:t})}}class D5{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new D5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kT(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(lee(this.Ic)&&Iwe.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Mwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||aR(e)}bc(e,n,r,i=!1){return new D5({Ic:e,methodName:n,wc:r,path:zi.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uee(t){const e=t._freezeSettings(),n=aR(t._databaseId);return new Mwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nwe(t,e,n,r,i,o={}){const s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);fee("Data must be an object, but it was:",s,r);const a=cee(r,s);let l,u;if(o.merge)l=new nl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Lwe(e,d,n);if(!s.contains(h))throw new pt(Le.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Fwe(c,h)||c.push(h)}l=new nl(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new kwe(new la(a),l,u)}function Dwe(t,e,n,r=!1){return L5(n,t.bc(r?4:3,e))}function L5(t,e){if(dee(t=Eu(t)))return fee("Unsupported field value:",e,t),cee(t,e);if(t instanceof aee)return function(r,i){if(!lee(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=L5(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Eu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _0e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=pi.fromDate(r);return{timestampValue:AT(i.serializer,o)}}if(r instanceof pi){const o=new pi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:AT(i.serializer,o)}}if(r instanceof M5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bv)return{bytesValue:CZ(i.serializer,r._byteString)};if(r instanceof ts){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:m5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof N5)return function(s,a){return{mapValue:{fields:{[ZQ]:{stringValue:eZ},[_T]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return h5(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${cR(r)}`)}(t,e)}function cee(t,e){const n={};return GQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ag(t,(r,i)=>{const o=L5(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dee(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pi||t instanceof M5||t instanceof Bv||t instanceof ts||t instanceof aee||t instanceof N5)}function fee(t,e,n){if(!dee(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=cR(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Lwe(t,e,n){if((e=Eu(e))instanceof k5)return e._internalPath;if(typeof e=="string")return hee(t,e);throw kT("Field path arguments must be of type string or ",t,!1,void 0,n)}const Owe=new RegExp("[~\\*/\\[\\]]");function hee(t,e,n){if(e.search(Owe)>=0)throw kT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new k5(...e.split("."))._internalPath}catch{throw kT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kT(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new pt(Le.INVALID_ARGUMENT,a+t+l)}function Fwe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $we(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(O5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $we extends pee{data(){return super.data()}}function O5(t,e){return typeof e=="string"?hee(t,e):e instanceof k5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bwe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pt(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F5{}class Vwe extends F5{}function Bo(t,e,...n){let r=[];e instanceof F5&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof $5).length,a=o.filter(l=>l instanceof hR).length;if(s>1||s>0&&a>0)throw new pt(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hR extends Vwe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hR(e,n,r)}_apply(e){const n=this._parse(e);return gee(e._query,n),new c0(e.firestore,e.converter,HL(e._query,n))}_parse(e){const n=uee(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new pt(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YU(d,c);const m=[];for(const y of d)m.push(KU(l,o,y));h={arrayValue:{values:m}}}else h=KU(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YU(d,c),h=Dwe(a,s,d,c==="in"||c==="not-in");return ei.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gr(t,e,n){const r=e,i=O5("where",t);return hR._create(i,r,n)}class $5 extends F5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sl.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)gee(s,l),s=HL(s,l)}(e._query,n),new c0(e.firestore,e.converter,HL(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KU(t,e,n){if(typeof(n=Eu(n))=="string"){if(n==="")throw new pt(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lZ(e)&&n.indexOf("/")!==-1)throw new pt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pr.fromString(n));if(!Ot.isDocumentKey(r))throw new pt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uU(t,new Ot(r))}if(n instanceof ts)return uU(t,n._key);throw new pt(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cR(n)}.`)}function YU(t,e){if(!Array.isArray(t)||t.length===0)throw new pt(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gee(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pt(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pt(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zwe{convertValue(e,n="none"){switch(Of(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ht(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ag(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[_T].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ur(s.doubleValue));return new N5(o)}convertGeoPoint(e){return new M5(Ur(e.latitude),Ur(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tx(e));default:return null}}convertTimestamp(e){const n=Df(e);return new pi(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pr.fromString(e);Hn(kZ(r),9688,{name:e});const i=new nx(r.get(1),r.get(3)),o=new Ot(r.popFirst(5));return i.isEqual(n)||Kc(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uwe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mee extends pee{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(O5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hC extends mee{data(e={}){return super.data(e)}}class Hwe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qb(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hC(this._firestore,this._userDataWriter,r.key,r,new qb(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new hC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new hC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:qwe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){t=qp(t,ts);const e=qp(t.firestore,fR);return Ewe(I5(e),t._key).then(n=>Wwe(e,t,n))}class yee extends zwe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bv(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ts(this.firestore,null,n)}}function Vo(t){t=qp(t,c0);const e=qp(t.firestore,fR),n=I5(e),r=new yee(e);return Bwe(t._query),Cwe(n,t._query).then(i=>new Hwe(e,r,t,i))}function Ml(t,e,n){t=qp(t,ts);const r=qp(t.firestore,fR),i=Uwe(t.converter,e);return jwe(r,[Nwe(uee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bc.none())])}function jwe(t,e){return function(r,i){const o=new $c;return r.asyncQueue.enqueueAndForget(async()=>fwe(await Swe(r),i,o)),o.promise}(I5(t),e)}function Wwe(t,e,n){const r=n.docs.get(e._key),i=new yee(t);return new mee(t,i,e._key,r,new qb(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){s0=i})(pQ),Qw(new Mv("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new fR(new Ove(r.getProvider("auth-internal")),new Bve(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pt(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nx(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pf(J6,Q6,e),Pf(J6,Q6,"esm2017")})();var sx=(t=>(t.ADMIN="admin",t.TEACHER="teacher",t.STUDENT="student",t))(sx||{});const Gwe={apiKey:"AIzaSyDd6jdeGNhVvB6IZ2M2hDC_Tp66uhC3TUo",authDomain:"read-9fc7d.firebaseapp.com",projectId:"read-9fc7d",storageBucket:"read-9fc7d.firebasestorage.app",messagingSenderId:"794793289582",appId:"1:794793289582:web:6e0afecc5aeeb10bed437f",measurementId:"G-FYESGK4NLB"},vee=F.createContext(void 0),Kwe=({children:t})=>{const e=gQ(Gwe),n=Rwe(e),r=gm(n,"users"),i=gm(n,"papersData"),o=gm(n,"canvases"),s=gm(n,"highlights"),a=gm(n,"readPurposes"),l=gm(n,"readSessions"),u=Ive(e),[c,d]=F.useState(void 0);F.useEffect(()=>{const Y=localStorage.getItem("userId");Y&&h(Y)},[]);const h=async Y=>{const te=await m(Y);d(te)},p=async Y=>{let te;if(Y){const le=Bo(r,Gr("role","==",Y));te=await Vo(le)}else te=await Vo(r);return console.log("userDocs",te.docs.map(le=>le.data())),te.docs.map(le=>le.data())},m=async Y=>(await Ek(bs(r,Y))).data(),y=async Y=>{const te=Bo(r,Gr("email","==",Y)),le=await Vo(te);return le.empty?null:le.docs[0].data()},w=async Y=>{try{await Ml(bs(r,Y.id),Y),console.log("User updated with ID:",Y.id)}catch(te){console.error("Error updating user:",te)}},_=async(Y,te)=>{try{const le=bs(r,Y),se=(await Ek(le)).data();se.paperIds.includes(te)?console.log("Paper already exists in user with ID:",Y):(se.paperIds.push(te),await Ml(bs(r,Y),se),console.log("Paper added to user with ID:",Y))}catch(le){console.error("Error adding paper to user:",le)}},E=async()=>{const Y=await Vo(i);return console.log("paperDocs",Y.docs.map(te=>te.data())),Y.docs.map(te=>te.data())},S=async Y=>{const te=bs(i,Y);return(await Ek(te)).data()},T=async Y=>{try{await Ml(bs(i,Y.id),Y),console.log("Paper added with ID:",Y.id)}catch(te){console.error("Error adding paper:",te)}},I=async(Y,te)=>{try{const le=Y6(u,Y);await Rve(le,te),console.log("Paper file uploaded to:",le.fullPath)}catch(le){console.error("Error adding paper file:",le)}},N=async Y=>{const te=Y6(u,Y);return await Pve(te)},P=async(Y,te)=>{const le=Bo(o,Gr("userId","==",Y),Gr("paperId","==",te));return(await Vo(le)).docs.map(se=>se.data())[0]||""},M=async Y=>{await Ml(bs(o,Y.id),Y)},D=async Y=>{const te=Bo(s,Gr("userId","==",Y));return(await Vo(te)).docs.map(de=>de.data())},k=async Y=>{const te=Bo(s,Gr("paperId","==",Y));return(await Vo(te)).docs.map(de=>de.data())},L=async(Y,te)=>{const le=Bo(s,Gr("userId","in",Y),Gr("paperId","in",te)),se=(await Vo(le)).docs.map(fe=>fe.data()),ce={};return se.forEach(fe=>{const ye=`${fe.userId}_${fe.paperId}`;ce[ye]||(ce[ye]=[]),ce[ye].push(fe)}),ce},V=async Y=>(await Ml(bs(s,Y.id),Y),Y.id),$=async Y=>{const te=Bo(a,Gr("userId","==",Y));return(await Vo(te)).docs.map(de=>de.data())},z=async Y=>{const te=Bo(a,Gr("paperId","==",Y));return(await Vo(te)).docs.map(de=>de.data())},G=async(Y,te)=>{const le=Bo(a,Gr("userId","==",Y),Gr("paperId","==",te));return(await Vo(le)).docs.map(se=>se.data())},K=async Y=>(await Ml(bs(a,Y.id),Y),Y.id),J=async(Y,te)=>{let le;return te&&te.length>0?le=Bo(l,Gr("userId","==",Y),Gr("paperId","in",te)):le=Bo(l,Gr("userId","==",Y)),(await Vo(le)).docs.map(se=>se.data())},ee=async(Y,te)=>{let le;return te&&te.length>0?le=Bo(l,Gr("paperId","==",Y),Gr("userId","in",te)):le=Bo(l,Gr("paperId","==",Y)),(await Vo(le)).docs.map(se=>se.data())},X=async(Y,te)=>{const le=Bo(l,Gr("userId","in",Y),Gr("paperId","in",te)),se=(await Vo(le)).docs.map(fe=>fe.data()),ce={};return se.forEach(fe=>{const ye=`${fe.userId}_${fe.paperId}`;ce[ye]||(ce[ye]=[]),ce[ye].push(fe)}),ce},j=async Y=>(await Ml(bs(l,Y.id),Y),Y.id),Q=async Y=>{const te=Y.map(le=>Ml(bs(s,le.id),le));return await Promise.all(te),Y.map(le=>le.id)},ue=async Y=>{const te=Y.map(le=>Ml(bs(a,le.id),le));return await Promise.all(te),Y.map(le=>le.id)},q=async Y=>{const te=Y.map(le=>Ml(bs(l,le.id),le));return await Promise.all(te),Y.map(le=>le.id)};return O.jsx(vee.Provider,{value:{userData:c,setUserData:d,loadUserData:h,getAllUsers:p,getUserById:m,getUserByEmail:y,updateUser:w,addPaperToUser:_,getAllPapersData:E,getPaperData:S,addPaperData:T,getPaperFile:N,addPaperFile:I,getCanvasUserAndPaper:P,updateCanvas:M,getHighlightsByUser:D,getHighlightsByPaper:k,getHighlightsByUsersAndPapers:L,addHighlight:V,getPurposesByUser:$,getPurposesByPaper:z,getPurposesByUserAndPaper:G,addPurpose:K,getSessionsByUser:J,getSessionsByPaper:ee,getSessionsByUsersAndPapers:X,addSession:j,batchAddHighlights:Q,batchAddPurposes:ue,batchAddSessions:q},children:t})},d0=()=>{const t=F.useContext(vee);if(t===void 0)throw new Error("useStorageContext must be used within a StorageProvider");return t};var Dn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Dn||(Dn={}));var XU;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(XU||(XU={}));const mt=Dn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kd=t=>{switch(typeof t){case"undefined":return mt.undefined;case"string":return mt.string;case"number":return Number.isNaN(t)?mt.nan:mt.number;case"boolean":return mt.boolean;case"function":return mt.function;case"bigint":return mt.bigint;case"symbol":return mt.symbol;case"object":return Array.isArray(t)?mt.array:t===null?mt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?mt.promise:typeof Map<"u"&&t instanceof Map?mt.map:typeof Set<"u"&&t instanceof Set?mt.set:typeof Date<"u"&&t instanceof Date?mt.date:mt.object;default:return mt.unknown}},Ge=Dn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Xc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Dn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xc.create=t=>new Xc(t);const eO=(t,e)=>{let n;switch(t.code){case Ge.invalid_type:t.received===mt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Dn.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${Dn.joinValues(t.keys,", ")}`;break;case Ge.invalid_union:n="Invalid input";break;case Ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Dn.joinValues(t.options)}`;break;case Ge.invalid_enum_value:n=`Invalid enum value. Expected ${Dn.joinValues(t.options)}, received '${t.received}'`;break;case Ge.invalid_arguments:n="Invalid function arguments";break;case Ge.invalid_return_type:n="Invalid function return type";break;case Ge.invalid_date:n="Invalid date";break;case Ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Dn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ge.custom:n="Invalid input";break;case Ge.invalid_intersection_types:n="Intersection results could not be merged";break;case Ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,Dn.assertNever(t)}return{message:n}};let Ywe=eO;function Xwe(){return Ywe}const Jwe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}};function st(t,e){const n=Xwe(),r=Jwe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===eO?void 0:eO].filter(i=>!!i)});t.common.issues.push(r)}class Ao{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Qt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ao.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Qt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Qt=Object.freeze({status:"aborted"}),jb=t=>({status:"dirty",value:t}),ya=t=>({status:"valid",value:t}),JU=t=>t.status==="aborted",QU=t=>t.status==="dirty",Vv=t=>t.status==="valid",MT=t=>typeof Promise<"u"&&t instanceof Promise;var Ct;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ct||(Ct={}));class Tu{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZU=(t,e)=>{if(Vv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xc(t.common.issues);return this._error=n,this._error}}};function an(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class xn{get description(){return this._def.description}_getType(e){return Kd(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Kd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ao,ctx:{common:e.parent.common,data:e.data,parsedType:Kd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(MT(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kd(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ZU(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kd(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Vv(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Vv(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kd(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(MT(i)?i:Promise.resolve(i));return ZU(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Ge.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Hv({schema:this,typeName:Gt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mf.create(this,this._def)}nullable(){return qv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yu.create(this)}promise(){return FT.create(this,this._def)}or(e){return DT.create([this,e],this._def)}and(e){return LT.create(this,e,this._def)}transform(e){return new Hv({...an(this._def),schema:this,typeName:Gt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new iO({...an(this._def),innerType:this,defaultValue:n,typeName:Gt.ZodDefault})}brand(){return new wxe({typeName:Gt.ZodBranded,type:this,...an(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new oO({...an(this._def),innerType:this,catchValue:n,typeName:Gt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return B5.create(this,e)}readonly(){return sO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qwe=/^c[^\s-]{8,}$/i,Zwe=/^[0-9a-z]+$/,exe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,txe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nxe=/^[a-z0-9_-]{21}$/i,rxe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ixe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,oxe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ck;const axe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lxe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uxe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cxe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dxe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fxe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hxe=new RegExp(`^${bee}$`);function wee(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function pxe(t){return new RegExp(`^${wee(t)}$`)}function gxe(t){let e=`${bee}T${wee(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function mxe(t,e){return!!((e==="v4"||!e)&&axe.test(t)||(e==="v6"||!e)&&uxe.test(t))}function yxe(t,e){if(!rxe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function vxe(t,e){return!!((e==="v4"||!e)&&lxe.test(t)||(e==="v6"||!e)&&cxe.test(t))}class du extends xn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==mt.string){const o=this._getOrReturnCtx(e);return st(o,{code:Ge.invalid_type,expected:mt.string,received:o.parsedType}),Qt}const r=new Ao;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?st(i,{code:Ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&st(i,{code:Ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")oxe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"email",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Ck||(Ck=new RegExp(sxe,"u")),Ck.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"emoji",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")txe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"uuid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")nxe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"nanoid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Qwe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cuid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Zwe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cuid2",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")exe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"ulid",code:Ge.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),st(i,{validation:"url",code:Ge.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"regex",code:Ge.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?gxe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?hxe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?pxe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?ixe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"duration",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?mxe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"ip",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?yxe(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"jwt",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?vxe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"cidr",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?dxe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"base64",code:Ge.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?fxe.test(e.data)||(i=this._getOrReturnCtx(e,i),st(i,{validation:"base64url",code:Ge.invalid_string,message:o.message}),r.dirty()):Dn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ge.invalid_string,...Ct.errToObj(r)})}_addCheck(e){return new du({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ct.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ct.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ct.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ct.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ct.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ct.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ct.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ct.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ct.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ct.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ct.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ct.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ct.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ct.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ct.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ct.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ct.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ct.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ct.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ct.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ct.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ct.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ct.errToObj(n)})}nonempty(e){return this.min(1,Ct.errToObj(e))}trim(){return new du({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new du({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new du({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}du.create=t=>new du({checks:[],typeName:Gt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...an(t)});function bxe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}class jp extends xn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==mt.number){const o=this._getOrReturnCtx(e);return st(o,{code:Ge.invalid_type,expected:mt.number,received:o.parsedType}),Qt}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="int"?Dn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?bxe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.not_finite,message:o.message}),i.dirty()):Dn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ct.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ct.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ct.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ct.toString(n))}setLimit(e,n,r,i){return new jp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ct.toString(i)}]})}_addCheck(e){return new jp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ct.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ct.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ct.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ct.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ct.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Dn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}jp.create=t=>new jp({checks:[],typeName:Gt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...an(t)});class Wp extends xn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==mt.bigint)return this._getInvalidInput(e);let r;const i=new Ao;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),st(r,{code:Ge.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Dn.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return st(n,{code:Ge.invalid_type,expected:mt.bigint,received:n.parsedType}),Qt}gte(e,n){return this.setLimit("min",e,!0,Ct.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ct.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ct.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ct.toString(n))}setLimit(e,n,r,i){return new Wp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ct.toString(i)}]})}_addCheck(e){return new Wp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ct.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ct.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ct.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wp.create=t=>new Wp({checks:[],typeName:Gt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...an(t)});class NT extends xn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==mt.boolean){const r=this._getOrReturnCtx(e);return st(r,{code:Ge.invalid_type,expected:mt.boolean,received:r.parsedType}),Qt}return ya(e.data)}}NT.create=t=>new NT({typeName:Gt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...an(t)});class zv extends xn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==mt.date){const o=this._getOrReturnCtx(e);return st(o,{code:Ge.invalid_type,expected:mt.date,received:o.parsedType}),Qt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return st(o,{code:Ge.invalid_date}),Qt}const r=new Ao;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),st(i,{code:Ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Dn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new zv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ct.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ct.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}zv.create=t=>new zv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Gt.ZodDate,...an(t)});class eH extends xn{_parse(e){if(this._getType(e)!==mt.symbol){const r=this._getOrReturnCtx(e);return st(r,{code:Ge.invalid_type,expected:mt.symbol,received:r.parsedType}),Qt}return ya(e.data)}}eH.create=t=>new eH({typeName:Gt.ZodSymbol,...an(t)});class tH extends xn{_parse(e){if(this._getType(e)!==mt.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:Ge.invalid_type,expected:mt.undefined,received:r.parsedType}),Qt}return ya(e.data)}}tH.create=t=>new tH({typeName:Gt.ZodUndefined,...an(t)});class nH extends xn{_parse(e){if(this._getType(e)!==mt.null){const r=this._getOrReturnCtx(e);return st(r,{code:Ge.invalid_type,expected:mt.null,received:r.parsedType}),Qt}return ya(e.data)}}nH.create=t=>new nH({typeName:Gt.ZodNull,...an(t)});class rH extends xn{constructor(){super(...arguments),this._any=!0}_parse(e){return ya(e.data)}}rH.create=t=>new rH({typeName:Gt.ZodAny,...an(t)});class tO extends xn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ya(e.data)}}tO.create=t=>new tO({typeName:Gt.ZodUnknown,...an(t)});class Bf extends xn{_parse(e){const n=this._getOrReturnCtx(e);return st(n,{code:Ge.invalid_type,expected:mt.never,received:n.parsedType}),Qt}}Bf.create=t=>new Bf({typeName:Gt.ZodNever,...an(t)});class iH extends xn{_parse(e){if(this._getType(e)!==mt.undefined){const r=this._getOrReturnCtx(e);return st(r,{code:Ge.invalid_type,expected:mt.void,received:r.parsedType}),Qt}return ya(e.data)}}iH.create=t=>new iH({typeName:Gt.ZodVoid,...an(t)});class yu extends xn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==mt.array)return st(n,{code:Ge.invalid_type,expected:mt.array,received:n.parsedType}),Qt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(st(n,{code:s?Ge.too_big:Ge.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(st(n,{code:Ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(st(n,{code:Ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Tu(n,s,n.path,a)))).then(s=>Ao.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Tu(n,s,n.path,a)));return Ao.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new yu({...this._def,minLength:{value:e,message:Ct.toString(n)}})}max(e,n){return new yu({...this._def,maxLength:{value:e,message:Ct.toString(n)}})}length(e,n){return new yu({...this._def,exactLength:{value:e,message:Ct.toString(n)}})}nonempty(e){return this.min(1,e)}}yu.create=(t,e)=>new yu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Gt.ZodArray,...an(e)});function Fm(t){if(t instanceof Qr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Mf.create(Fm(r))}return new Qr({...t._def,shape:()=>e})}else return t instanceof yu?new yu({...t._def,type:Fm(t.element)}):t instanceof Mf?Mf.create(Fm(t.unwrap())):t instanceof qv?qv.create(Fm(t.unwrap())):t instanceof Gp?Gp.create(t.items.map(e=>Fm(e))):t}class Qr extends xn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Dn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==mt.object){const u=this._getOrReturnCtx(e);return st(u,{code:Ge.invalid_type,expected:mt.object,received:u.parsedType}),Qt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bf&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const c=o[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Tu(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Bf){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(st(i,{code:Ge.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Tu(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Ao.mergeObjectSync(r,u)):Ao.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ct.errToObj,new Qr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ct.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Qr({...this._def,unknownKeys:"strip"})}passthrough(){return new Qr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Gt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Qr({...this._def,catchall:e})}pick(e){const n={};for(const r of Dn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Qr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Dn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Qr({...this._def,shape:()=>n})}deepPartial(){return Fm(this)}partial(e){const n={};for(const r of Dn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Qr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Dn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Mf;)o=o._def.innerType;n[r]=o}return new Qr({...this._def,shape:()=>n})}keyof(){return xee(Dn.objectKeys(this.shape))}}Qr.create=(t,e)=>new Qr({shape:()=>t,unknownKeys:"strip",catchall:Bf.create(),typeName:Gt.ZodObject,...an(e)});Qr.strictCreate=(t,e)=>new Qr({shape:()=>t,unknownKeys:"strict",catchall:Bf.create(),typeName:Gt.ZodObject,...an(e)});Qr.lazycreate=(t,e)=>new Qr({shape:t,unknownKeys:"strip",catchall:Bf.create(),typeName:Gt.ZodObject,...an(e)});class DT extends xn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Xc(a.ctx.common.issues));return st(n,{code:Ge.invalid_union,unionErrors:s}),Qt}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Xc(l));return st(n,{code:Ge.invalid_union,unionErrors:a}),Qt}}get options(){return this._def.options}}DT.create=(t,e)=>new DT({options:t,typeName:Gt.ZodUnion,...an(e)});function nO(t,e){const n=Kd(t),r=Kd(e);if(t===e)return{valid:!0,data:t};if(n===mt.object&&r===mt.object){const i=Dn.objectKeys(e),o=Dn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=nO(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===mt.array&&r===mt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=nO(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===mt.date&&r===mt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class LT extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(JU(o)||JU(s))return Qt;const a=nO(o.value,s.value);return a.valid?((QU(o)||QU(s))&&n.dirty(),{status:n.value,value:a.data}):(st(r,{code:Ge.invalid_intersection_types}),Qt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}LT.create=(t,e,n)=>new LT({left:t,right:e,typeName:Gt.ZodIntersection,...an(n)});class Gp extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.array)return st(r,{code:Ge.invalid_type,expected:mt.array,received:r.parsedType}),Qt;if(r.data.length<this._def.items.length)return st(r,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&r.data.length>this._def.items.length&&(st(r,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Tu(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ao.mergeArray(n,s)):Ao.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Gp({...this._def,rest:e})}}Gp.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gp({items:t,typeName:Gt.ZodTuple,rest:null,...an(e)})};class OT extends xn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.object)return st(r,{code:Ge.invalid_type,expected:mt.object,received:r.parsedType}),Qt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Tu(r,a,r.path,a)),value:s._parse(new Tu(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ao.mergeObjectAsync(n,i):Ao.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof xn?new OT({keyType:e,valueType:n,typeName:Gt.ZodRecord,...an(r)}):new OT({keyType:du.create(),valueType:e,typeName:Gt.ZodRecord,...an(n)})}}class oH extends xn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.map)return st(r,{code:Ge.invalid_type,expected:mt.map,received:r.parsedType}),Qt;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Tu(r,a,r.path,[u,"key"])),value:o._parse(new Tu(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Qt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Qt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}oH.create=(t,e,n)=>new oH({valueType:e,keyType:t,typeName:Gt.ZodMap,...an(n)});class ax extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==mt.set)return st(r,{code:Ge.invalid_type,expected:mt.set,received:r.parsedType}),Qt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(st(r,{code:Ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(st(r,{code:Ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Qt;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new Tu(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new ax({...this._def,minSize:{value:e,message:Ct.toString(n)}})}max(e,n){return new ax({...this._def,maxSize:{value:e,message:Ct.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ax.create=(t,e)=>new ax({valueType:t,minSize:null,maxSize:null,typeName:Gt.ZodSet,...an(e)});class rO extends xn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}rO.create=(t,e)=>new rO({getter:t,typeName:Gt.ZodLazy,...an(e)});class sH extends xn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return st(n,{received:n.data,code:Ge.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}sH.create=(t,e)=>new sH({value:t,typeName:Gt.ZodLiteral,...an(e)});function xee(t,e){return new Uv({values:t,typeName:Gt.ZodEnum,...an(e)})}class Uv extends xn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{expected:Dn.joinValues(r),received:n.parsedType,code:Ge.invalid_type}),Qt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return st(n,{received:n.data,code:Ge.invalid_enum_value,options:r}),Qt}return ya(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Uv.create(e,{...this._def,...n})}exclude(e,n=this._def){return Uv.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Uv.create=xee;class aH extends xn{_parse(e){const n=Dn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==mt.string&&r.parsedType!==mt.number){const i=Dn.objectValues(n);return st(r,{expected:Dn.joinValues(i),received:r.parsedType,code:Ge.invalid_type}),Qt}if(this._cache||(this._cache=new Set(Dn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Dn.objectValues(n);return st(r,{received:r.data,code:Ge.invalid_enum_value,options:i}),Qt}return ya(e.data)}get enum(){return this._def.values}}aH.create=(t,e)=>new aH({values:t,typeName:Gt.ZodNativeEnum,...an(e)});class FT extends xn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==mt.promise&&n.common.async===!1)return st(n,{code:Ge.invalid_type,expected:mt.promise,received:n.parsedType}),Qt;const r=n.parsedType===mt.promise?n.data:Promise.resolve(n.data);return ya(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}FT.create=(t,e)=>new FT({type:t,typeName:Gt.ZodPromise,...an(e)});class Hv extends xn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Gt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{st(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Qt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Qt:l.status==="dirty"||n.value==="dirty"?jb(l.value):l});{if(n.value==="aborted")return Qt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Qt:a.status==="dirty"||n.value==="dirty"?jb(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Qt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Qt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vv(s))return Qt;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Vv(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):Qt);Dn.assertNever(i)}}Hv.create=(t,e,n)=>new Hv({schema:t,typeName:Gt.ZodEffects,effect:e,...an(n)});Hv.createWithPreprocess=(t,e,n)=>new Hv({schema:e,effect:{type:"preprocess",transform:t},typeName:Gt.ZodEffects,...an(n)});class Mf extends xn{_parse(e){return this._getType(e)===mt.undefined?ya(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mf.create=(t,e)=>new Mf({innerType:t,typeName:Gt.ZodOptional,...an(e)});class qv extends xn{_parse(e){return this._getType(e)===mt.null?ya(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qv.create=(t,e)=>new qv({innerType:t,typeName:Gt.ZodNullable,...an(e)});class iO extends xn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===mt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iO.create=(t,e)=>new iO({innerType:t,typeName:Gt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...an(e)});class oO extends xn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return MT(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}oO.create=(t,e)=>new oO({innerType:t,typeName:Gt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...an(e)});class lH extends xn{_parse(e){if(this._getType(e)!==mt.nan){const r=this._getOrReturnCtx(e);return st(r,{code:Ge.invalid_type,expected:mt.nan,received:r.parsedType}),Qt}return{status:"valid",value:e.data}}}lH.create=t=>new lH({typeName:Gt.ZodNaN,...an(t)});class wxe extends xn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class B5 extends xn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Qt:o.status==="dirty"?(n.dirty(),jb(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Qt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new B5({in:e,out:n,typeName:Gt.ZodPipeline})}}class sO extends xn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Vv(i)&&(i.value=Object.freeze(i.value)),i);return MT(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}sO.create=(t,e)=>new sO({innerType:t,typeName:Gt.ZodReadonly,...an(e)});var Gt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Gt||(Gt={}));const xh=du.create,uH=jp.create;Wp.create;const xxe=NT.create;zv.create;const cH=tO.create;Bf.create;const Wb=yu.create,_xe=Qr.create,Sxe=DT.create;LT.create;Gp.create;const Exe=OT.create,Cxe=rO.create,Txe=Uv.create;FT.create;Mf.create;qv.create;const mm={string:t=>du.create({...t,coerce:!0}),number:t=>jp.create({...t,coerce:!0}),boolean:t=>NT.create({...t,coerce:!0}),bigint:t=>Wp.create({...t,coerce:!0}),date:t=>zv.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Axe,Rxe;function Pxe(){return{geminiUrl:Axe,vertexUrl:Rxe}}function Ixe(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Pxe();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dg{}function It(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];b(c,e.slice(o+1),n[u])}else for(const u of l)b(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];b(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function v(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>v(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dH;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dH||(dH={}));var fH;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fH||(fH={}));var so;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(so||(so={}));var hH;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hH||(hH={}));var pH;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(pH||(pH={}));var gH;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gH||(gH={}));var mH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mH||(mH={}));var yH;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yH||(yH={}));var vH;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(vH||(vH={}));var bH;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(bH||(bH={}));var wH;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wH||(wH={}));var xH;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(xH||(xH={}));var _H;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_H||(_H={}));var $T;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($T||($T={}));var SH;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(SH||(SH={}));var aO;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(aO||(aO={}));var EH;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(EH||(EH={}));var CH;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(CH||(CH={}));var TH;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TH||(TH={}));var AH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(AH||(AH={}));var RH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(RH||(RH={}));var PH;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(PH||(PH={}));var IH;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(IH||(IH={}));var kH;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kH||(kH={}));var MH;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(MH||(MH={}));var NH;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(NH||(NH={}));var DH;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DH||(DH={}));var LH;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LH||(LH={}));var OH;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(OH||(OH={}));var FH;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(FH||(FH={}));var $H;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})($H||($H={}));var BH;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(BH||(BH={}));var VH;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(VH||(VH={}));var zH;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zH||(zH={}));var UH;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(UH||(UH={}));var HH;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(HH||(HH={}));var qH;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qH||(qH={}));var jH;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(jH||(jH={}));var WH;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(WH||(WH={}));var dy;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(dy||(dy={}));class lO{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ub{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&(m!==null||m!==void 0)&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&(p!==null||p!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class GH{}class KH{}class kxe{}class Mxe{}class YH{}class XH{}class JH{}class Nxe{}class QH{}class ZH{}class e9{}class Dxe{}class Lxe{}class Oxe{}class t9{}class Fxe{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class $xe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function _ee(t,e){const n=Gn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function See(t){return Array.isArray(t)?t.map(e=>BT(e)):[BT(t)]}function BT(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Bxe(t){const e=BT(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Vxe(t){const e=BT(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n9(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Eee(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>n9(e)):[n9(t)]}function uO(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function r9(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function i9(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ao(t){if(t==null)throw new Error("ContentUnion is required");return uO(t)?t:{role:"user",parts:Eee(t)}}function Cee(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ao(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ao(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ao(n)):[ao(e)]}function fa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(r9(t)||i9(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ao(t)]}const e=[],n=[],r=uO(t[0]);for(const i of t){const o=uO(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(r9(i)||i9(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Eee(n)}),e}const zxe=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),o9=Txe(["string","number","integer","object","array","boolean","null"]),Uxe=Sxe([o9,Wb(o9)]);function Hxe(t=!0){const e=Cxe(()=>{const n=_xe({type:Uxe.optional(),format:xh().optional(),title:xh().optional(),description:xh().optional(),default:cH().optional(),items:e.optional(),minItems:mm.string().optional(),maxItems:mm.string().optional(),enum:Wb(cH()).optional(),properties:Exe(xh(),e).optional(),required:Wb(xh()).optional(),minProperties:mm.string().optional(),maxProperties:mm.string().optional(),propertyOrdering:Wb(xh()).optional(),minimum:uH().optional(),maximum:uH().optional(),minLength:mm.string().optional(),maxLength:mm.string().optional(),pattern:xh().optional(),anyOf:Wb(e).optional(),additionalProperties:xxe().optional()});return t?n.strict():n});return e}function qxe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(so).includes(n[0].toUpperCase())?n[0].toUpperCase():so.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(so).includes(r.toUpperCase())?r.toUpperCase():so.TYPE_UNSPECIFIED})}}function by(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&qxe(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(so).includes(a.toUpperCase())?a.toUpperCase():so.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=by(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(by(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=by(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function lx(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=Hxe().parse(t);return by(e)}else return by(t)}function V5(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function z5(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function f0(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=lx(e.parameters)),e.response&&(e.response=lx(e.response));return t}function h0(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function jxe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function od(t,e){if(typeof e!="string")throw new Error("name must be a string");return jxe(t,e,"cachedContents")}function Tee(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Wxe(t){return t!=null&&typeof t=="object"&&"name"in t}function Gxe(t){return t!=null&&typeof t=="object"&&"video"in t}function Kxe(t){return t!=null&&typeof t=="object"&&"uri"in t}function Aee(t){var e;let n;if(Wxe(t)&&(n=t.name),!(Kxe(t)&&(n=t.uri,n===void 0))&&!(Gxe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ree(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Pee(t){for(const e of["models","tunedModels","publisherModels"])if(Yxe(t,e))return t[e];return[]}function Yxe(t,e){return t!==null&&typeof t=="object"&&e in t}function Xxe(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:by(pR(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Jxe(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Xxe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Qxe(t){const e=[];for(const n of t)e.push(pR(n));return e}function Zxe(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=pR(i)}return e}function pR(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,s]of Object.entries(t))if(e.has(o))i[o]=pR(s);else if(n.has(o))i[o]=Qxe(s);else if(r.has(o))i[o]=Zxe(s);else if(o==="type"){const a=s.toUpperCase();i[o]=Object.values(so).includes(a)?a:so.TYPE_UNSPECIFIED}else zxe.has(o)&&(i[o]=s);return i}function Iee(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function e_e(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gR(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function kee(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t_e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function n_e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function r_e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function i_e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],t_e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],n_e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],r_e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function Mee(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>i_e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function o_e(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const w=v(t,["minimum"]);w!=null&&b(e,["minimum"],w);const _=v(t,["nullable"]);_!=null&&b(e,["nullable"],_);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const I=v(t,["required"]);I!=null&&b(e,["required"],I);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const P=v(t,["type"]);return P!=null&&b(e,["type"],P),e}function s_e(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&b(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function a_e(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function l_e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function u_e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],l_e(n)),e}function c_e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function d_e(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],c_e(n)),e}function f_e(){return{}}function h_e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>a_e(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],u_e(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],d_e(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],f_e());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function p_e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function g_e(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function m_e(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],g_e(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function y_e(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],p_e(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],m_e(r)),e}function v_e(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Nee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],v_e(n)),e}function b_e(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Nee(r)),e}function w_e(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>b_e(i))),b(e,["speakerVoiceConfigs"],r)}return e}function x_e(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Nee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],w_e(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function __e(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function S_e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],Mee(ao(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const w=v(e,["responseMimeType"]);w!=null&&b(r,["responseMimeType"],w);const _=v(e,["responseSchema"]);_!=null&&b(r,["responseSchema"],o_e(lx(_)));const E=v(e,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=v(e,["safetySettings"]);if(n!==void 0&&S!=null){let L=S;Array.isArray(L)&&(L=L.map(V=>s_e(V))),b(n,["safetySettings"],L)}const T=v(e,["tools"]);if(n!==void 0&&T!=null){let L=h0(T);Array.isArray(L)&&(L=L.map(V=>h_e(f0(V)))),b(n,["tools"],L)}const I=v(e,["toolConfig"]);if(n!==void 0&&I!=null&&b(n,["toolConfig"],y_e(I)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],od(t,N));const P=v(e,["responseModalities"]);P!=null&&b(r,["responseModalities"],P);const M=v(e,["mediaResolution"]);M!=null&&b(r,["mediaResolution"],M);const D=v(e,["speechConfig"]);if(D!=null&&b(r,["speechConfig"],x_e(V5(D))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=v(e,["thinkingConfig"]);return k!=null&&b(r,["thinkingConfig"],__e(k)),r}function E_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["request","model"],Gn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>Mee(a))),b(n,["request","contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["request","generationConfig"],S_e(t,o,n)),n}function C_e(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>E_e(t,s))),b(n,["requests","requests"],o)}return n}function T_e(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function A_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],C_e(t,Iee(t,i)));const o=v(e,["config"]);return o!=null&&b(n,["config"],T_e(o,n)),n}function R_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],gR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function P_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],gR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function I_e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function k_e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],I_e(n,e)),e}function M_e(t){const e={},n=v(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function N_e(t){const e={},n=v(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function D_e(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],N_e(e_e(i))),n}function L_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],Gn(t,r));const i=v(e,["src"]);i!=null&&b(n,["inputConfig"],M_e(Iee(t,i)));const o=v(e,["config"]);return o!=null&&b(n,["config"],D_e(o,n)),n}function O_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],gR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function F_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],gR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function $_e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function B_e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],$_e(n,e)),e}function V_e(){return{}}function z_e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function U_e(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function H_e(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function q_e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],z_e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],U_e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],H_e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function j_e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>q_e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function W_e(t){const e={},n=v(t,["citationSources"]);return n!=null&&b(e,["citations"],n),e}function G_e(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function K_e(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>G_e(i))),b(e,["urlMetadata"],r)}return e}function Y_e(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],j_e(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],W_e(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],K_e(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function X_e(t){const e={},n=v(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Y_e(a))),b(e,["candidates"],s)}const r=v(t,["modelVersion"]);r!=null&&b(e,["modelVersion"],r);const i=v(t,["promptFeedback"]);i!=null&&b(e,["promptFeedback"],i);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function J_e(t){const e={},n=v(t,["response"]);return n!=null&&b(e,["response"],X_e(n)),v(t,["error"])!=null&&b(e,["error"],V_e()),e}function Q_e(t){const e={},n=v(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>J_e(o))),b(e,["inlinedResponses"],i)}return e}function cO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&b(e,["state"],kee(i));const o=v(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["metadata","endTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["metadata","updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["metadata","model"]);l!=null&&b(e,["model"],l);const u=v(t,["metadata","output"]);return u!=null&&b(e,["dest"],Q_e(u)),e}function Z_e(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>cO(o))),b(e,["batchJobs"],i)}return e}function eSe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["code"]);r!=null&&b(e,["code"],r);const i=v(t,["message"]);return i!=null&&b(e,["message"],i),e}function tSe(t){const e={},n=v(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function nSe(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function dO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["state"]);i!=null&&b(e,["state"],kee(i));const o=v(t,["error"]);o!=null&&b(e,["error"],eSe(o));const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["startTime"]);a!=null&&b(e,["startTime"],a);const l=v(t,["endTime"]);l!=null&&b(e,["endTime"],l);const u=v(t,["updateTime"]);u!=null&&b(e,["updateTime"],u);const c=v(t,["model"]);c!=null&&b(e,["model"],c);const d=v(t,["inputConfig"]);d!=null&&b(e,["src"],tSe(d));const h=v(t,["outputConfig"]);return h!=null&&b(e,["dest"],nSe(h)),e}function rSe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dO(o))),b(e,["batchJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kp;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Kp||(Kp={}));class bS{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iSe extends dg{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new bS(Kp.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=L_e(this.apiClient,e);return a=It("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>dO(c))}else{const u=A_e(this.apiClient,e);return a=It("{model}:batchGenerateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>cO(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=O_e(this.apiClient,e);return a=It("batchPredictionJobs/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>dO(c))}else{const u=R_e(this.apiClient,e);return a=It("batches/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>cO(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=F_e(this.apiClient,e);s=It("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=P_e(this.apiClient,e);s=It("batches/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=B_e(e);return a=It("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=rSe(c),h=new t9;return Object.assign(h,d),h})}else{const u=k_e(e);return a=It("batches",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Z_e(c),h=new t9;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oSe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function sSe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function aSe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function lSe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],oSe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],sSe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],aSe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function s9(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lSe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function uSe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function cSe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function dSe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],cSe(n)),e}function fSe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function hSe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],fSe(n)),e}function pSe(){return{}}function gSe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>uSe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],dSe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],hSe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],pSe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function mSe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function ySe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function vSe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],ySe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function bSe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],mSe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],vSe(r)),e}function wSe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let c=fa(s);Array.isArray(c)&&(c=c.map(d=>s9(d))),b(e,["contents"],c)}const a=v(t,["systemInstruction"]);e!==void 0&&a!=null&&b(e,["systemInstruction"],s9(ao(a)));const l=v(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>gSe(d))),b(e,["tools"],c)}const u=v(t,["toolConfig"]);if(e!==void 0&&u!=null&&b(e,["toolConfig"],bSe(u)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function xSe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],_ee(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],wSe(i,n)),n}function _Se(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function SSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function ESe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function CSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],ESe(i,n)),n}function TSe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function ASe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],TSe(n,e)),e}function RSe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function PSe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function ISe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function kSe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],RSe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],PSe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],ISe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function a9(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kSe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function MSe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function NSe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function DSe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],NSe(n)),e}function LSe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function OSe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],LSe(n)),e}function FSe(){return{}}function $Se(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function BSe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],$Se(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function VSe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],BSe(n)),e}function zSe(){return{}}function USe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>MSe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],DSe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],OSe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],FSe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],VSe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],zSe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function HSe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function qSe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function jSe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],qSe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function WSe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],HSe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],jSe(r)),e}function GSe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let d=fa(s);Array.isArray(d)&&(d=d.map(h=>a9(h))),b(e,["contents"],d)}const a=v(t,["systemInstruction"]);e!==void 0&&a!=null&&b(e,["systemInstruction"],a9(ao(a)));const l=v(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>USe(h))),b(e,["tools"],d)}const u=v(t,["toolConfig"]);e!==void 0&&u!=null&&b(e,["toolConfig"],WSe(u));const c=v(t,["kmsKeyName"]);return e!==void 0&&c!=null&&b(e,["encryption_spec","kmsKeyName"],c),n}function KSe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],_ee(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],GSe(i,n)),n}function YSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function XSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function JSe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function QSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],JSe(i,n)),n}function ZSe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function eEe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],ZSe(n,e)),e}function pC(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["model"]);i!=null&&b(e,["model"],i);const o=v(t,["createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["updateTime"]);s!=null&&b(e,["updateTime"],s);const a=v(t,["expireTime"]);a!=null&&b(e,["expireTime"],a);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function tEe(){return{}}function nEe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pC(o))),b(e,["cachedContents"],i)}return e}function gC(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["model"]);i!=null&&b(e,["model"],i);const o=v(t,["createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["updateTime"]);s!=null&&b(e,["updateTime"],s);const a=v(t,["expireTime"]);a!=null&&b(e,["expireTime"],a);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function rEe(){return{}}function iEe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>gC(o))),b(e,["cachedContents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oEe extends dg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bS(Kp.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KSe(this.apiClient,e);return a=It("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gC(c))}else{const u=xSe(this.apiClient,e);return a=It("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pC(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=YSe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gC(c))}else{const u=_Se(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pC(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=XSe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=rEe(),d=new ZH;return Object.assign(d,c),d})}else{const u=SSe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=tEe(),d=new ZH;return Object.assign(d,c),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=QSe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gC(c))}else{const u=CSe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pC(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eEe(e);return a=It("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=iEe(c),h=new e9;return Object.assign(h,d),h})}else{const u=ASe(e);return a=It("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=nEe(c),h=new e9;return Object.assign(h,d),h})}}}function l9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function wy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(y){return new Promise(function(w,_){o.push([p,y,w,_])>1||l(p,y)})},m&&(i[p]=m(i[p])))}function l(p,m){try{u(r[p](m))}catch(y){h(o[0][3],y)}}function u(p){p.value instanceof fr?Promise.resolve(p.value.v).then(c,d):h(o[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,m){p(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Rw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof l9=="function"?l9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sEe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Dee(n)}function Dee(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function aEe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function u9(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Dee(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class lEe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new uEe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class uEe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),aEe(o)}async sendMessage(e){var n;await this.sendPromise;const r=ao(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const p=u?[u]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=ao(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?u9(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return wy(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var d=!0,h=Rw(e),p;p=yield fr(h.next()),s=p.done,!s;d=!0){u=p.value,d=!1;const m=u;if(sEe(m)){const y=(i=(r=m.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield fr(m)}}catch(m){a={error:m}}finally{try{!d&&!s&&(l=h.return)&&(yield fr(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...u9(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,mR.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cEe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function dEe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],cEe(n,e)),e}function fEe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["message"]);r!=null&&b(e,["message"],r);const i=v(t,["code"]);return i!=null&&b(e,["code"],i),e}function hEe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["mimeType"]);i!=null&&b(e,["mimeType"],i);const o=v(t,["sizeBytes"]);o!=null&&b(e,["sizeBytes"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["expirationTime"]);a!=null&&b(e,["expirationTime"],a);const l=v(t,["updateTime"]);l!=null&&b(e,["updateTime"],l);const u=v(t,["sha256Hash"]);u!=null&&b(e,["sha256Hash"],u);const c=v(t,["uri"]);c!=null&&b(e,["uri"],c);const d=v(t,["downloadUri"]);d!=null&&b(e,["downloadUri"],d);const h=v(t,["state"]);h!=null&&b(e,["state"],h);const p=v(t,["source"]);p!=null&&b(e,["source"],p);const m=v(t,["videoMetadata"]);m!=null&&b(e,["videoMetadata"],m);const y=v(t,["error"]);return y!=null&&b(e,["error"],fEe(y)),e}function pEe(t){const e={},n=v(t,["file"]);n!=null&&b(e,["file"],hEe(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function gEe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","file"],Aee(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function mEe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","file"],Aee(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function yEe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["message"]);r!=null&&b(e,["message"],r);const i=v(t,["code"]);return i!=null&&b(e,["code"],i),e}function fO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["mimeType"]);i!=null&&b(e,["mimeType"],i);const o=v(t,["sizeBytes"]);o!=null&&b(e,["sizeBytes"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["expirationTime"]);a!=null&&b(e,["expirationTime"],a);const l=v(t,["updateTime"]);l!=null&&b(e,["updateTime"],l);const u=v(t,["sha256Hash"]);u!=null&&b(e,["sha256Hash"],u);const c=v(t,["uri"]);c!=null&&b(e,["uri"],c);const d=v(t,["downloadUri"]);d!=null&&b(e,["downloadUri"],d);const h=v(t,["state"]);h!=null&&b(e,["state"],h);const p=v(t,["source"]);p!=null&&b(e,["source"],p);const m=v(t,["videoMetadata"]);m!=null&&b(e,["videoMetadata"],m);const y=v(t,["error"]);return y!=null&&b(e,["error"],yEe(y)),e}function vEe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>fO(o))),b(e,["files"],i)}return e}function bEe(){return{}}function wEe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xEe extends dg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bS(Kp.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>fO(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dEe(e);return o=It("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vEe(l),c=new Dxe;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pEe(e);return o=It("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=bEe(),u=new Lxe;return Object.assign(u,l),u})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gEe(e);return o=It("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>fO(l))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mEe(e);return o=It("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=wEe(),u=new Oxe;return Object.assign(u,l),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Ee(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function SEe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Lee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],_Ee(n)),e}function EEe(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],SEe(n)),e}function CEe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Lee(r)),e}function TEe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CEe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function AEe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Lee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],TEe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function REe(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&b(e,["voiceConfig"],EEe(n)),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function PEe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function IEe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function kEe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function MEe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function NEe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function DEe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function LEe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],PEe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],kEe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],NEe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function OEe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],IEe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],MEe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],DEe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function FEe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LEe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function $Ee(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OEe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function BEe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function VEe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function zEe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function UEe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function HEe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],zEe(n)),e}function qEe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],UEe(n)),e}function jEe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function WEe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function GEe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],jEe(n)),e}function KEe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],WEe(n)),e}function YEe(){return{}}function XEe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function JEe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],XEe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function QEe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],JEe(n)),e}function ZEe(){return{}}function e1e(){return{}}function t1e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>BEe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],HEe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],GEe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],ZEe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function n1e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>VEe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],qEe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],KEe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],YEe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],QEe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],e1e());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function r1e(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function i1e(t){const e={},n=v(t,["handle"]);n!=null&&b(e,["handle"],n);const r=v(t,["transparent"]);return r!=null&&b(e,["transparent"],r),e}function c9(){return{}}function d9(){return{}}function o1e(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function s1e(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function a1e(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],o1e(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function l1e(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],s1e(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function u1e(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function c1e(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function d1e(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],u1e(r)),e}function f1e(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],c1e(r)),e}function h1e(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function p1e(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function g1e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],AEe(z5(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],FEe(ao(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let I=h0(m);Array.isArray(I)&&(I=I.map(N=>t1e(f0(N)))),b(e,["setup","tools"],I)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],r1e(y));const w=v(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&b(e,["setup","inputAudioTranscription"],c9());const _=v(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&b(e,["setup","outputAudioTranscription"],c9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],a1e(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],d1e(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],h1e(T)),n}function m1e(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],REe(z5(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],$Ee(ao(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let I=h0(m);Array.isArray(I)&&(I=I.map(N=>n1e(f0(N)))),b(e,["setup","tools"],I)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],i1e(y));const w=v(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&b(e,["setup","inputAudioTranscription"],d9());const _=v(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&b(e,["setup","outputAudioTranscription"],d9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],l1e(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],f1e(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],p1e(T)),n}function y1e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],g1e(i,n)),n}function v1e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],m1e(i,n)),n}function b1e(){return{}}function w1e(){return{}}function x1e(){return{}}function _1e(){return{}}function S1e(t){const e={},n=v(t,["media"]);n!=null&&b(e,["mediaChunks"],See(n));const r=v(t,["audio"]);r!=null&&b(e,["audio"],Vxe(r));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&b(e,["video"],Bxe(o));const s=v(t,["text"]);return s!=null&&b(e,["text"],s),v(t,["activityStart"])!=null&&b(e,["activityStart"],b1e()),v(t,["activityEnd"])!=null&&b(e,["activityEnd"],x1e()),e}function E1e(t){const e={},n=v(t,["media"]);if(n!=null&&b(e,["mediaChunks"],See(n)),v(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=v(t,["audioStreamEnd"]);if(r!=null&&b(e,["audioStreamEnd"],r),v(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(v(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return v(t,["activityStart"])!=null&&b(e,["activityStart"],w1e()),v(t,["activityEnd"])!=null&&b(e,["activityEnd"],_1e()),e}function Oee(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["weight"]);return r!=null&&b(e,["weight"],r),e}function C1e(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Oee(i))),b(e,["weightedPrompts"],r)}return e}function Fee(t){const e={},n=v(t,["temperature"]);n!=null&&b(e,["temperature"],n);const r=v(t,["topK"]);r!=null&&b(e,["topK"],r);const i=v(t,["seed"]);i!=null&&b(e,["seed"],i);const o=v(t,["guidance"]);o!=null&&b(e,["guidance"],o);const s=v(t,["bpm"]);s!=null&&b(e,["bpm"],s);const a=v(t,["density"]);a!=null&&b(e,["density"],a);const l=v(t,["brightness"]);l!=null&&b(e,["brightness"],l);const u=v(t,["scale"]);u!=null&&b(e,["scale"],u);const c=v(t,["muteBass"]);c!=null&&b(e,["muteBass"],c);const d=v(t,["muteDrums"]);d!=null&&b(e,["muteDrums"],d);const h=v(t,["onlyBassAndDrums"]);return h!=null&&b(e,["onlyBassAndDrums"],h),e}function T1e(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],Fee(n)),e}function $ee(t){const e={},n=v(t,["model"]);return n!=null&&b(e,["model"],n),e}function Bee(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Oee(i))),b(e,["weightedPrompts"],r)}return e}function hO(t){const e={},n=v(t,["setup"]);n!=null&&b(e,["setup"],$ee(n));const r=v(t,["clientContent"]);r!=null&&b(e,["clientContent"],Bee(r));const i=v(t,["musicGenerationConfig"]);i!=null&&b(e,["musicGenerationConfig"],Fee(i));const o=v(t,["playbackControl"]);return o!=null&&b(e,["playbackControl"],o),e}function A1e(){return{}}function R1e(){return{}}function P1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function I1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function k1e(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function M1e(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function N1e(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function D1e(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function L1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],P1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],k1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],N1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function O1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],I1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],M1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],D1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function F1e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>L1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function $1e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>O1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function f9(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["finished"]);return r!=null&&b(e,["finished"],r),e}function h9(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["finished"]);return r!=null&&b(e,["finished"],r),e}function B1e(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function V1e(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>B1e(i))),b(e,["urlMetadata"],r)}return e}function z1e(t){const e={},n=v(t,["modelTurn"]);n!=null&&b(e,["modelTurn"],F1e(n));const r=v(t,["turnComplete"]);r!=null&&b(e,["turnComplete"],r);const i=v(t,["interrupted"]);i!=null&&b(e,["interrupted"],i);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const s=v(t,["generationComplete"]);s!=null&&b(e,["generationComplete"],s);const a=v(t,["inputTranscription"]);a!=null&&b(e,["inputTranscription"],f9(a));const l=v(t,["outputTranscription"]);l!=null&&b(e,["outputTranscription"],f9(l));const u=v(t,["urlContextMetadata"]);return u!=null&&b(e,["urlContextMetadata"],V1e(u)),e}function U1e(t){const e={},n=v(t,["modelTurn"]);n!=null&&b(e,["modelTurn"],$1e(n));const r=v(t,["turnComplete"]);r!=null&&b(e,["turnComplete"],r);const i=v(t,["interrupted"]);i!=null&&b(e,["interrupted"],i);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const s=v(t,["generationComplete"]);s!=null&&b(e,["generationComplete"],s);const a=v(t,["inputTranscription"]);a!=null&&b(e,["inputTranscription"],h9(a));const l=v(t,["outputTranscription"]);return l!=null&&b(e,["outputTranscription"],h9(l)),e}function H1e(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);return i!=null&&b(e,["name"],i),e}function q1e(t){const e={},n=v(t,["args"]);n!=null&&b(e,["args"],n);const r=v(t,["name"]);return r!=null&&b(e,["name"],r),e}function j1e(t){const e={},n=v(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>H1e(i))),b(e,["functionCalls"],r)}return e}function W1e(t){const e={},n=v(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>q1e(i))),b(e,["functionCalls"],r)}return e}function G1e(t){const e={},n=v(t,["ids"]);return n!=null&&b(e,["ids"],n),e}function K1e(t){const e={},n=v(t,["ids"]);return n!=null&&b(e,["ids"],n),e}function v1(t){const e={},n=v(t,["modality"]);n!=null&&b(e,["modality"],n);const r=v(t,["tokenCount"]);return r!=null&&b(e,["tokenCount"],r),e}function b1(t){const e={},n=v(t,["modality"]);n!=null&&b(e,["modality"],n);const r=v(t,["tokenCount"]);return r!=null&&b(e,["tokenCount"],r),e}function Y1e(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["responseTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const a=v(t,["totalTokenCount"]);a!=null&&b(e,["totalTokenCount"],a);const l=v(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>v1(p))),b(e,["promptTokensDetails"],h)}const u=v(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>v1(p))),b(e,["cacheTokensDetails"],h)}const c=v(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>v1(p))),b(e,["responseTokensDetails"],h)}const d=v(t,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>v1(p))),b(e,["toolUsePromptTokensDetails"],h)}return e}function X1e(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const a=v(t,["totalTokenCount"]);a!=null&&b(e,["totalTokenCount"],a);const l=v(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>b1(m))),b(e,["promptTokensDetails"],p)}const u=v(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>b1(m))),b(e,["cacheTokensDetails"],p)}const c=v(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>b1(m))),b(e,["responseTokensDetails"],p)}const d=v(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>b1(m))),b(e,["toolUsePromptTokensDetails"],p)}const h=v(t,["trafficType"]);return h!=null&&b(e,["trafficType"],h),e}function J1e(t){const e={},n=v(t,["timeLeft"]);return n!=null&&b(e,["timeLeft"],n),e}function Q1e(t){const e={},n=v(t,["timeLeft"]);return n!=null&&b(e,["timeLeft"],n),e}function Z1e(t){const e={},n=v(t,["newHandle"]);n!=null&&b(e,["newHandle"],n);const r=v(t,["resumable"]);r!=null&&b(e,["resumable"],r);const i=v(t,["lastConsumedClientMessageIndex"]);return i!=null&&b(e,["lastConsumedClientMessageIndex"],i),e}function eCe(t){const e={},n=v(t,["newHandle"]);n!=null&&b(e,["newHandle"],n);const r=v(t,["resumable"]);r!=null&&b(e,["resumable"],r);const i=v(t,["lastConsumedClientMessageIndex"]);return i!=null&&b(e,["lastConsumedClientMessageIndex"],i),e}function tCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],A1e());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],z1e(r));const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],j1e(i));const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],G1e(o));const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],Y1e(s));const a=v(t,["goAway"]);a!=null&&b(e,["goAway"],J1e(a));const l=v(t,["sessionResumptionUpdate"]);return l!=null&&b(e,["sessionResumptionUpdate"],Z1e(l)),e}function nCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],R1e());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],U1e(r));const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],W1e(i));const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],K1e(o));const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],X1e(s));const a=v(t,["goAway"]);a!=null&&b(e,["goAway"],Q1e(a));const l=v(t,["sessionResumptionUpdate"]);return l!=null&&b(e,["sessionResumptionUpdate"],eCe(l)),e}function rCe(){return{}}function iCe(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["weight"]);return r!=null&&b(e,["weight"],r),e}function oCe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iCe(i))),b(e,["weightedPrompts"],r)}return e}function sCe(t){const e={},n=v(t,["temperature"]);n!=null&&b(e,["temperature"],n);const r=v(t,["topK"]);r!=null&&b(e,["topK"],r);const i=v(t,["seed"]);i!=null&&b(e,["seed"],i);const o=v(t,["guidance"]);o!=null&&b(e,["guidance"],o);const s=v(t,["bpm"]);s!=null&&b(e,["bpm"],s);const a=v(t,["density"]);a!=null&&b(e,["density"],a);const l=v(t,["brightness"]);l!=null&&b(e,["brightness"],l);const u=v(t,["scale"]);u!=null&&b(e,["scale"],u);const c=v(t,["muteBass"]);c!=null&&b(e,["muteBass"],c);const d=v(t,["muteDrums"]);d!=null&&b(e,["muteDrums"],d);const h=v(t,["onlyBassAndDrums"]);return h!=null&&b(e,["onlyBassAndDrums"],h),e}function aCe(t){const e={},n=v(t,["clientContent"]);n!=null&&b(e,["clientContent"],oCe(n));const r=v(t,["musicGenerationConfig"]);return r!=null&&b(e,["musicGenerationConfig"],sCe(r)),e}function lCe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);r!=null&&b(e,["mimeType"],r);const i=v(t,["sourceMetadata"]);return i!=null&&b(e,["sourceMetadata"],aCe(i)),e}function uCe(t){const e={},n=v(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lCe(i))),b(e,["audioChunks"],r)}return e}function cCe(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["filteredReason"]);return r!=null&&b(e,["filteredReason"],r),e}function dCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],rCe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],uCe(r));const i=v(t,["filteredPrompt"]);return i!=null&&b(e,["filteredPrompt"],cCe(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fCe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function hCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function pCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function gCe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],fCe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],hCe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],pCe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function yR(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gCe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function mCe(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const w=v(t,["minimum"]);w!=null&&b(e,["minimum"],w);const _=v(t,["nullable"]);_!=null&&b(e,["nullable"],_);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const I=v(t,["required"]);I!=null&&b(e,["required"],I);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const P=v(t,["type"]);return P!=null&&b(e,["type"],P),e}function yCe(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&b(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function vCe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function bCe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function wCe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],bCe(n)),e}function xCe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function _Ce(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],xCe(n)),e}function SCe(){return{}}function ECe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>vCe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],wCe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],_Ce(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],SCe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function CCe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function TCe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function ACe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],TCe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function RCe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],CCe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],ACe(r)),e}function PCe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Vee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],PCe(n)),e}function ICe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Vee(r)),e}function kCe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ICe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function MCe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Vee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],kCe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function NCe(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function DCe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],yR(ao(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const w=v(e,["responseMimeType"]);w!=null&&b(r,["responseMimeType"],w);const _=v(e,["responseSchema"]);_!=null&&b(r,["responseSchema"],mCe(lx(_)));const E=v(e,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=v(e,["safetySettings"]);if(n!==void 0&&S!=null){let L=S;Array.isArray(L)&&(L=L.map(V=>yCe(V))),b(n,["safetySettings"],L)}const T=v(e,["tools"]);if(n!==void 0&&T!=null){let L=h0(T);Array.isArray(L)&&(L=L.map(V=>ECe(f0(V)))),b(n,["tools"],L)}const I=v(e,["toolConfig"]);if(n!==void 0&&I!=null&&b(n,["toolConfig"],RCe(I)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],od(t,N));const P=v(e,["responseModalities"]);P!=null&&b(r,["responseModalities"],P);const M=v(e,["mediaResolution"]);M!=null&&b(r,["mediaResolution"],M);const D=v(e,["speechConfig"]);if(D!=null&&b(r,["speechConfig"],MCe(V5(D))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=v(e,["thinkingConfig"]);return k!=null&&b(r,["thinkingConfig"],NCe(k)),r}function p9(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>yR(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["generationConfig"],DCe(t,o,n)),n}function LCe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function OCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);i!=null&&b(n,["requests[]","content"],Cee(t,i));const o=v(e,["config"]);o!=null&&b(n,["config"],LCe(o,n));const s=v(e,["model"]);return s!==void 0&&b(n,["requests[]","model"],Gn(t,s)),n}function FCe(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const o=v(t,["guidanceScale"]);if(e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&b(e,["parameters","safetySetting"],s);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&b(e,["parameters","personGeneration"],a);const l=v(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&b(e,["parameters","includeSafetyAttributes"],l);const u=v(t,["includeRaiReason"]);e!==void 0&&u!=null&&b(e,["parameters","includeRaiReason"],u);const c=v(t,["language"]);e!==void 0&&c!=null&&b(e,["parameters","language"],c);const d=v(t,["outputMimeType"]);e!==void 0&&d!=null&&b(e,["parameters","outputOptions","mimeType"],d);const h=v(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&b(e,["parameters","outputOptions","compressionQuality"],h),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $Ce(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&b(n,["config"],FCe(o,n)),n}function BCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function VCe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const s=v(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const a=v(e,["queryBase"]);return n!==void 0&&a!=null&&b(n,["_url","models_url"],Ree(t,a)),r}function zCe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],VCe(t,r,n)),n}function UCe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function HCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],UCe(i,n)),n}function qCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function jCe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function WCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>yR(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],jCe(o)),n}function GCe(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],sd(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function KCe(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["aspectRatio"]);if(e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o),v(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=v(t,["personGeneration"]);if(e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&b(e,["parameters","negativePrompt"],a);const l=v(t,["enhancePrompt"]);if(e!==void 0&&l!=null&&b(e,["parameters","enhancePrompt"],l),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(v(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function YCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["image"]);if(o!=null&&b(n,["instances[0]","image"],GCe(o)),v(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=v(e,["config"]);return s!=null&&b(n,["config"],KCe(s,n)),n}function XCe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function JCe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function QCe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function ZCe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],XCe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],JCe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],QCe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function p0(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZCe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function eTe(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const w=v(t,["minimum"]);w!=null&&b(e,["minimum"],w);const _=v(t,["nullable"]);_!=null&&b(e,["nullable"],_);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const I=v(t,["required"]);I!=null&&b(e,["required"],I);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const P=v(t,["type"]);return P!=null&&b(e,["type"],P),e}function tTe(t){const e={},n=v(t,["featureSelectionPreference"]);return n!=null&&b(e,["featureSelectionPreference"],n),e}function nTe(t){const e={},n=v(t,["method"]);n!=null&&b(e,["method"],n);const r=v(t,["category"]);r!=null&&b(e,["category"],r);const i=v(t,["threshold"]);return i!=null&&b(e,["threshold"],i),e}function rTe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function iTe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function oTe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],iTe(n)),e}function sTe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function aTe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],sTe(n)),e}function lTe(){return{}}function uTe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function cTe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],uTe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function dTe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],cTe(n)),e}function fTe(){return{}}function zee(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>rTe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],oTe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],aTe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],lTe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],dTe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],fTe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function hTe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function pTe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function gTe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],pTe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function mTe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],hTe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],gTe(r)),e}function yTe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function vTe(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],yTe(n)),e}function bTe(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&b(e,["voiceConfig"],vTe(n)),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function wTe(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function xTe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],p0(ao(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const w=v(e,["responseMimeType"]);w!=null&&b(r,["responseMimeType"],w);const _=v(e,["responseSchema"]);_!=null&&b(r,["responseSchema"],eTe(lx(_)));const E=v(e,["responseJsonSchema"]);E!=null&&b(r,["responseJsonSchema"],E);const S=v(e,["routingConfig"]);S!=null&&b(r,["routingConfig"],S);const T=v(e,["modelSelectionConfig"]);T!=null&&b(r,["modelConfig"],tTe(T));const I=v(e,["safetySettings"]);if(n!==void 0&&I!=null){let G=I;Array.isArray(G)&&(G=G.map(K=>nTe(K))),b(n,["safetySettings"],G)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let G=h0(N);Array.isArray(G)&&(G=G.map(K=>zee(f0(K)))),b(n,["tools"],G)}const P=v(e,["toolConfig"]);n!==void 0&&P!=null&&b(n,["toolConfig"],mTe(P));const M=v(e,["labels"]);n!==void 0&&M!=null&&b(n,["labels"],M);const D=v(e,["cachedContent"]);n!==void 0&&D!=null&&b(n,["cachedContent"],od(t,D));const k=v(e,["responseModalities"]);k!=null&&b(r,["responseModalities"],k);const L=v(e,["mediaResolution"]);L!=null&&b(r,["mediaResolution"],L);const V=v(e,["speechConfig"]);V!=null&&b(r,["speechConfig"],bTe(V5(V)));const $=v(e,["audioTimestamp"]);$!=null&&b(r,["audioTimestamp"],$);const z=v(e,["thinkingConfig"]);return z!=null&&b(r,["thinkingConfig"],wTe(z)),r}function g9(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>p0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["generationConfig"],xTe(t,o,n)),n}function _Te(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const o=v(t,["outputDimensionality"]);e!==void 0&&o!=null&&b(e,["parameters","outputDimensionality"],o);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&b(e,["instances[]","mimeType"],s);const a=v(t,["autoTruncate"]);return e!==void 0&&a!=null&&b(e,["parameters","autoTruncate"],a),n}function STe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);i!=null&&b(n,["instances[]","content"],Cee(t,i));const o=v(e,["config"]);return o!=null&&b(n,["config"],_Te(o,n)),n}function ETe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["guidanceScale"]);e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const w=v(t,["addWatermark"]);e!==void 0&&w!=null&&b(e,["parameters","addWatermark"],w);const _=v(t,["enhancePrompt"]);return e!==void 0&&_!=null&&b(e,["parameters","enhancePrompt"],_),n}function CTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&b(n,["config"],ETe(o,n)),n}function vR(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function TTe(t){const e={},n=v(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function ATe(t){const e={},n=v(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function RTe(t){const e={},n=v(t,["styleDescription"]);return n!=null&&b(e,["styleDescription"],n),e}function PTe(t){const e={},n=v(t,["subjectType"]);n!=null&&b(e,["subjectType"],n);const r=v(t,["subjectDescription"]);return r!=null&&b(e,["subjectDescription"],r),e}function ITe(t){const e={},n=v(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],vR(n));const r=v(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const o=v(t,["maskImageConfig"]);o!=null&&b(e,["maskImageConfig"],TTe(o));const s=v(t,["controlImageConfig"]);s!=null&&b(e,["controlImageConfig"],ATe(s));const a=v(t,["styleImageConfig"]);a!=null&&b(e,["styleImageConfig"],RTe(a));const l=v(t,["subjectImageConfig"]);return l!=null&&b(e,["subjectImageConfig"],PTe(l)),e}function kTe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["guidanceScale"]);e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const w=v(t,["editMode"]);e!==void 0&&w!=null&&b(e,["parameters","editMode"],w);const _=v(t,["baseSteps"]);return e!==void 0&&_!=null&&b(e,["parameters","editConfig","baseSteps"],_),n}function MTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>ITe(l))),b(n,["instances[0]","referenceImages"],a)}const s=v(e,["config"]);return s!=null&&b(n,["config"],kTe(s,n)),n}function NTe(t,e){const n={},r=v(t,["includeRaiReason"]);e!==void 0&&r!=null&&b(e,["parameters","includeRaiReason"],r);const i=v(t,["outputMimeType"]);e!==void 0&&i!=null&&b(e,["parameters","outputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&b(e,["parameters","outputOptions","compressionQuality"],o);const s=v(t,["enhanceInputImage"]);e!==void 0&&s!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],s);const a=v(t,["imagePreservationFactor"]);e!==void 0&&a!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],a);const l=v(t,["numberOfImages"]);e!==void 0&&l!=null&&b(e,["parameters","sampleCount"],l);const u=v(t,["mode"]);return e!==void 0&&u!=null&&b(e,["parameters","mode"],u),n}function DTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["image"]);i!=null&&b(n,["instances[0]","image"],vR(i));const o=v(e,["upscaleFactor"]);o!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=v(e,["config"]);return s!=null&&b(n,["config"],NTe(s,n)),n}function LTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function OTe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const s=v(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const a=v(e,["queryBase"]);return n!==void 0&&a!=null&&b(n,["_url","models_url"],Ree(t,a)),r}function FTe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],OTe(t,r,n)),n}function $Te(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function BTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],$Te(i,n)),n}function VTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function zTe(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],p0(ao(r)));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>zee(a))),b(e,["tools"],s)}const o=v(t,["generationConfig"]);return e!==void 0&&o!=null&&b(e,["generationConfig"],o),n}function UTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>p0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],zTe(o,n)),n}function HTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>p0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],o),n}function qTe(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function jTe(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=v(t,["fps"]);e!==void 0&&o!=null&&b(e,["parameters","fps"],o);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&b(e,["parameters","durationSeconds"],s);const a=v(t,["seed"]);e!==void 0&&a!=null&&b(e,["parameters","seed"],a);const l=v(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const u=v(t,["resolution"]);e!==void 0&&u!=null&&b(e,["parameters","resolution"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["pubsubTopic"]);e!==void 0&&d!=null&&b(e,["parameters","pubsubTopic"],d);const h=v(t,["negativePrompt"]);e!==void 0&&h!=null&&b(e,["parameters","negativePrompt"],h);const p=v(t,["enhancePrompt"]);e!==void 0&&p!=null&&b(e,["parameters","enhancePrompt"],p);const m=v(t,["generateAudio"]);e!==void 0&&m!=null&&b(e,["parameters","generateAudio"],m);const y=v(t,["lastFrame"]);e!==void 0&&y!=null&&b(e,["instances[0]","lastFrame"],vR(y));const w=v(t,["compressionQuality"]);return e!==void 0&&w!=null&&b(e,["parameters","compressionQuality"],w),n}function WTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Gn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&b(n,["instances[0]","image"],vR(o));const s=v(e,["video"]);s!=null&&b(n,["instances[0]","video"],qTe(s));const a=v(e,["config"]);return a!=null&&b(n,["config"],jTe(a,n)),n}function GTe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function KTe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function YTe(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function XTe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],GTe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],KTe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],YTe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function JTe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>XTe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function QTe(t){const e={},n=v(t,["citationSources"]);return n!=null&&b(e,["citations"],n),e}function ZTe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function eAe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ZTe(i))),b(e,["urlMetadata"],r)}return e}function tAe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],JTe(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],QTe(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],eAe(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function m9(t){const e={},n=v(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>tAe(a))),b(e,["candidates"],s)}const r=v(t,["modelVersion"]);r!=null&&b(e,["modelVersion"],r);const i=v(t,["promptFeedback"]);i!=null&&b(e,["promptFeedback"],i);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function nAe(t){const e={},n=v(t,["values"]);return n!=null&&b(e,["values"],n),e}function rAe(){return{}}function iAe(t){const e={},n=v(t,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nAe(o))),b(e,["embeddings"],i)}return v(t,["metadata"])!=null&&b(e,["metadata"],rAe()),e}function oAe(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],sd(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Uee(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function sAe(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],oAe(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],Uee(i)),e}function aAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sAe(o))),b(e,["generatedImages"],i)}const r=v(t,["positivePromptSafetyAttributes"]);return r!=null&&b(e,["positivePromptSafetyAttributes"],Uee(r)),e}function lAe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function pO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["version"]);o!=null&&b(e,["version"],o);const s=v(t,["_self"]);s!=null&&b(e,["tunedModelInfo"],lAe(s));const a=v(t,["inputTokenLimit"]);a!=null&&b(e,["inputTokenLimit"],a);const l=v(t,["outputTokenLimit"]);l!=null&&b(e,["outputTokenLimit"],l);const u=v(t,["supportedGenerationMethods"]);return u!=null&&b(e,["supportedActions"],u),e}function uAe(t,e){const n={},r=v(e,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=Pee(i);Array.isArray(o)&&(o=o.map(s=>pO(s))),b(n,["models"],o)}return n}function cAe(){return{}}function dAe(t){const e={},n=v(t,["totalTokens"]);n!=null&&b(e,["totalTokens"],n);const r=v(t,["cachedContentTokenCount"]);return r!=null&&b(e,["cachedContentTokenCount"],r),e}function fAe(t){const e={},n=v(t,["video","uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function hAe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],fAe(n)),e}function pAe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>hAe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function gAe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],pAe(s)),e}function mAe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function yAe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function vAe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function bAe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],mAe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],yAe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],vAe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function wAe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bAe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function xAe(t){const e={},n=v(t,["citations"]);return n!=null&&b(e,["citations"],n),e}function _Ae(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function SAe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_Ae(i))),b(e,["urlMetadata"],r)}return e}function EAe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],wAe(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],xAe(r));const i=v(t,["finishMessage"]);i!=null&&b(e,["finishMessage"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],SAe(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function y9(t){const e={},n=v(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>EAe(u))),b(e,["candidates"],l)}const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["responseId"]);i!=null&&b(e,["responseId"],i);const o=v(t,["modelVersion"]);o!=null&&b(e,["modelVersion"],o);const s=v(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=v(t,["usageMetadata"]);return a!=null&&b(e,["usageMetadata"],a),e}function CAe(t){const e={},n=v(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function TAe(t){const e={},n=v(t,["values"]);n!=null&&b(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&b(e,["statistics"],CAe(r)),e}function AAe(t){const e={},n=v(t,["billableCharacterCount"]);return n!=null&&b(e,["billableCharacterCount"],n),e}function RAe(t){const e={},n=v(t,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TAe(o))),b(e,["embeddings"],i)}const r=v(t,["metadata"]);return r!=null&&b(e,["metadata"],AAe(r)),e}function PAe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Hee(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function U5(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],PAe(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&b(e,["safetyAttributes"],Hee(i));const o=v(t,["prompt"]);return o!=null&&b(e,["enhancedPrompt"],o),e}function IAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>U5(o))),b(e,["generatedImages"],i)}const r=v(t,["positivePromptSafetyAttributes"]);return r!=null&&b(e,["positivePromptSafetyAttributes"],Hee(r)),e}function kAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>U5(i))),b(e,["generatedImages"],r)}return e}function MAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>U5(i))),b(e,["generatedImages"],r)}return e}function NAe(t){const e={},n=v(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function DAe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function LAe(t){const e={},n=v(t,["checkpointId"]);n!=null&&b(e,["checkpointId"],n);const r=v(t,["epoch"]);r!=null&&b(e,["epoch"],r);const i=v(t,["step"]);return i!=null&&b(e,["step"],i),e}function gO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["versionId"]);o!=null&&b(e,["version"],o);const s=v(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>NAe(h))),b(e,["endpoints"],d)}const a=v(t,["labels"]);a!=null&&b(e,["labels"],a);const l=v(t,["_self"]);l!=null&&b(e,["tunedModelInfo"],DAe(l));const u=v(t,["defaultCheckpointId"]);u!=null&&b(e,["defaultCheckpointId"],u);const c=v(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>LAe(h))),b(e,["checkpoints"],d)}return e}function OAe(t,e){const n={},r=v(e,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=Pee(i);Array.isArray(o)&&(o=o.map(s=>gO(s))),b(n,["models"],o)}return n}function FAe(){return{}}function $Ae(t){const e={},n=v(t,["totalTokens"]);return n!=null&&b(e,["totalTokens"],n),e}function BAe(t){const e={},n=v(t,["tokensInfo"]);return n!=null&&b(e,["tokensInfo"],n),e}function VAe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function zAe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],VAe(n)),e}function UAe(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>zAe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function HAe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],UAe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qAe="Content-Type",jAe="X-Server-Timeout",WAe="User-Agent",mO="x-goog-api-client",GAe="1.7.0",KAe=`google-genai-sdk/${GAe}`,YAe="v1beta1",XAe="v1beta",v9=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JAe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:YAe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:XAe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&QAe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await b9(i),new lO(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await b9(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return wy(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield fr(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l);try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),p=h.status,m=h.code,y=`got status: ${p}. ${JSON.stringify(d)}`;if(m>=400&&m<600)throw new mR({message:y,status:m})}}catch(d){if(d.name==="ApiError")throw d}s+=u;let c=s.match(v9);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fr(new lO(h)),s=s.slice(c[0].length),c=s.match(v9)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=KAe+" "+this.clientOptions.userAgentExtra;return e[WAe]=n,e[mO]=n,e[qAe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(jAe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l=await this.fetchUploadUrl(i,n);return o.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:It("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function b9(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new mR({message:i,status:n}):new Error(i)}}function QAe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZAe="mcp_used/unknown";function qee(t){for(const e of t)if(H5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function jee(t){var e;const n=(e=t[mO])!==null&&e!==void 0?e:"";t[mO]=(n+` ${ZAe}`).trimStart()}function eRe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>H5(i)))!==null&&r!==void 0?r:!1}function tRe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!H5(i)))!==null&&r!==void 0?r:!1}function H5(t){return t!==null&&typeof t=="object"&&t instanceof q5}function nRe(t,e=100){return wy(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield fr(t.listTools({cursor:r}));for(const s of o.tools)yield yield fr(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class q5{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new q5(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Rw(nRe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Jxe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rRe(t,e,n){const r=new $xe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=dCe(i);Object.assign(r,o),e(r)}class iRe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=aRe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,h=function(){u({})},p=this.apiClient,m={onopen:h,onmessage:S=>{rRe(p,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(l,sRe(s),m);y.connect(),await c;const w=Gn(this.apiClient,e.model),_=$ee({model:w}),E=hO({setup:_});return y.send(JSON.stringify(E)),new oRe(y,this.apiClient)}}class oRe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=C1e(e),r=Bee(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=T1e(e),r=hO(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=hO({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(dy.PLAY)}pause(){this.sendPlaybackControl(dy.PAUSE)}stop(){this.sendPlaybackControl(dy.STOP)}resetContext(){this.sendPlaybackControl(dy.RESET_CONTEXT)}close(){this.conn.close()}}function sRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lRe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uRe(t,e,n){const r=new Fxe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=nCe(o);Object.assign(r,s)}else{const s=tCe(o);Object.assign(r,s)}e(r)}class cRe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new iRe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&qee(e.config.tools)&&jee(d);const h=pRe(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const D=this.apiClient.getApiKey();let k="BidiGenerateContent",L="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),k="BidiGenerateContentConstrained",L="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${k}?${L}=${D}`}let p=()=>{};const m=new Promise(D=>{p=D}),y=e.callbacks,w=function(){var D;(D=y==null?void 0:y.onopen)===null||D===void 0||D.call(y),p({})},_=this.apiClient,E={onopen:w,onmessage:D=>{uRe(_,y.onmessage,D)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(D){}},S=this.webSocketFactory.create(c,hRe(h),E);S.connect(),await m;let T=Gn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const D=this.apiClient.getProject(),k=this.apiClient.getLocation();T=`projects/${D}/locations/${k}/`+T}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$T.AUDIO]}:e.config.responseModalities=[$T.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],P=[];for(const D of N)if(this.isCallableTool(D)){const k=D;P.push(await k.tool())}else P.push(D);P.length>0&&(e.config.tools=P);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=v1e(this.apiClient,M):I=y1e(this.apiClient,M),delete I.config,S.send(JSON.stringify(I)),new fRe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const dRe={turnComplete:!0};class fRe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fa(n.turns),e.isVertexAI()?r=r.map(i=>p0(i)):r=r.map(i=>yR(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(lRe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},dRe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:E1e(e)}:n={realtimeInput:S1e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w9=10;function x9(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(mC(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function mC(t){return"callTool"in t&&typeof t.callTool=="function"}function _9(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gRe extends dg{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsForMcpUsage(n);if(!eRe(n)||x9(n.config))return await this.generateContentInternal(l);if(tRe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const d=fa(l.contents),h=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:w9;let p=0;for(;p<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const m=u.candidates[0].content,y=[];for(const w of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(mC(w)){const E=await w.callTool(u.functionCalls);y.push(...E)}p++,c={role:"user",parts:y},l.contents=fa(l.contents),l.contents.push(m),l.contents.push(c),_9(l.config)&&(d.push(m),d.push(c))}return _9(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async n=>{if(x9(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o}:a={generatedImages:s},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new bS(Kp.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>mC(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&qee(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),jee(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(mC(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:w9;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,p;return wy(this,arguments,function*(){for(var m,y,w,_;a<o;){s&&(a++,s=!1);const I=yield fr(u.processParamsForMcpUsage(d)),N=yield fr(u.generateContentStreamInternal(I)),P=[],M=[];try{for(var E=!0,S=(y=void 0,Rw(N)),T;T=yield fr(S.next()),m=T.done,!m;E=!0){_=T.value,E=!1;const D=_;if(yield yield fr(D),D.candidates&&(!((h=D.candidates[0])===null||h===void 0)&&h.content)){M.push(D.candidates[0].content);for(const k of(p=D.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(a<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(k.functionCall.name)){const L=yield fr(c.get(k.functionCall.name).callTool([k.functionCall]));P.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(D){y={error:D}}finally{try{!E&&!m&&(w=S.return)&&(yield fr(w.call(S)))}finally{if(y)throw y.error}}if(P.length>0){s=!0;const D=new ub;D.candidates=[{content:{role:"user",parts:P}}],yield yield fr(D);const k=[];k.push(...M),k.push({role:"user",parts:P});const L=fa(d.contents).concat(k);d.contents=L}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=g9(this.apiClient,e);return a=It("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=y9(c),h=new ub;return Object.assign(h,d),h})}else{const u=p9(this.apiClient,e);return a=It("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=m9(c),h=new ub;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=g9(this.apiClient,e);return a=It("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return wy(this,arguments,function*(){var h,p,m,y;try{for(var w=!0,_=Rw(d),E;E=yield fr(_.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const T=y9(yield fr(y.json())),I=new ub;Object.assign(I,T),yield yield fr(I)}}catch(S){p={error:S}}finally{try{!w&&!h&&(m=_.return)&&(yield fr(m.call(_)))}finally{if(p)throw p.error}}})})}else{const u=p9(this.apiClient,e);return a=It("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return wy(this,arguments,function*(){var h,p,m,y;try{for(var w=!0,_=Rw(d),E;E=yield fr(_.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const T=m9(yield fr(y.json())),I=new ub;Object.assign(I,T),yield yield fr(I)}}catch(S){p={error:S}}finally{try{!w&&!h&&(m=_.return)&&(yield fr(m.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=STe(this.apiClient,e);return a=It("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=RAe(c),h=new GH;return Object.assign(h,d),h})}else{const u=OCe(this.apiClient,e);return a=It("{model}:batchEmbedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=iAe(c),h=new GH;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=CTe(this.apiClient,e);return a=It("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=IAe(c),h=new KH;return Object.assign(h,d),h})}else{const u=$Ce(this.apiClient,e);return a=It("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=aAe(c),h=new KH;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=MTe(this.apiClient,e);return o=It("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kAe(l),c=new kxe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=DTe(this.apiClient,e);return o=It("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=MAe(l),c=new Mxe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LTe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gO(c))}else{const u=BCe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pO(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FTe(this.apiClient,e);return a=It("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=OAe(this.apiClient,c),h=new YH;return Object.assign(h,d),h})}else{const u=zCe(this.apiClient,e);return a=It("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=uAe(this.apiClient,c),h=new YH;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BTe(this.apiClient,e);return a=It("{model}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gO(c))}else{const u=HCe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pO(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VTe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=FAe(),d=new XH;return Object.assign(d,c),d})}else{const u=qCe(this.apiClient,e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=cAe(),d=new XH;return Object.assign(d,c),d})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UTe(this.apiClient,e);return a=It("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=$Ae(c),h=new JH;return Object.assign(h,d),h})}else{const u=WCe(this.apiClient,e);return a=It("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=dAe(c),h=new JH;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=HTe(this.apiClient,e);return o=It("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=BAe(l),c=new Nxe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=WTe(this.apiClient,e);return a=It("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>HAe(c))}else{const u=YCe(this.apiClient,e);return a=It("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>gAe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["_url","operationName"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function yRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["_url","operationName"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function vRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=v(t,["resourceName"]);r!=null&&b(e,["_url","resourceName"],r);const i=v(t,["config"]);return i!=null&&b(e,["config"],i),e}function bRe(t){const e={},n=v(t,["video","uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function wRe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],bRe(n)),e}function xRe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>wRe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function _Re(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],xRe(s)),e}function SRe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function ERe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],SRe(n)),e}function CRe(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ERe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function S9(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],CRe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TRe extends dg{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yRe(e);return a=It("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>S9(c))}else{const u=mRe(e);return a=It("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>_Re(c))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=vRe(e);return o=It("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>S9(l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ARe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Wee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],ARe(n)),e}function RRe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Wee(r)),e}function PRe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>RRe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function IRe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Wee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],PRe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function kRe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function MRe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function NRe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function DRe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],kRe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],MRe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],NRe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function LRe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>DRe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function ORe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function FRe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function $Re(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],FRe(n)),e}function BRe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function VRe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],BRe(n)),e}function zRe(){return{}}function URe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>ORe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],$Re(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],VRe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],zRe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function HRe(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function E9(){return{}}function qRe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function jRe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],qRe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function WRe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function GRe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],WRe(r)),e}function KRe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function YRe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],IRe(z5(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],LRe(ao(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let I=h0(m);Array.isArray(I)&&(I=I.map(N=>URe(f0(N)))),b(e,["setup","tools"],I)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],HRe(y));const w=v(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&b(e,["setup","inputAudioTranscription"],E9());const _=v(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&b(e,["setup","outputAudioTranscription"],E9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],jRe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],GRe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],KRe(T)),n}function XRe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Gn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],YRe(i,n)),n}function JRe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const s=v(e,["uses"]);n!==void 0&&s!=null&&b(n,["uses"],s);const a=v(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&b(n,["bidiGenerateContentSetup"],XRe(t,a));const l=v(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&b(n,["fieldMask"],l),r}function QRe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],JRe(t,r,n)),n}function ZRe(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ePe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function tPe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=ePe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class nPe extends dg{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=QRe(this.apiClient,e);o=It("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=tPe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>ZRe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function iPe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function oPe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],iPe(n,e)),e}function sPe(t){const e={},n=v(t,["textInput"]);n!=null&&b(e,["textInput"],n);const r=v(t,["output"]);return r!=null&&b(e,["output"],r),e}function aPe(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sPe(i))),b(e,["examples","examples"],r)}return e}function lPe(t,e){const n={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=v(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&b(e,["displayName"],r),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=v(t,["epochCount"]);e!==void 0&&i!=null&&b(e,["tuningTask","hyperparameters","epochCount"],i);const o=v(t,["learningRateMultiplier"]);if(o!=null&&b(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=v(t,["batchSize"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","batchSize"],s);const a=v(t,["learningRate"]);return e!==void 0&&a!=null&&b(e,["tuningTask","hyperparameters","learningRate"],a),n}function uPe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["trainingDataset"]);r!=null&&b(e,["tuningTask","trainingData"],aPe(r));const i=v(t,["config"]);return i!=null&&b(e,["config"],lPe(i,e)),e}function cPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function dPe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function fPe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],dPe(n,e)),e}function hPe(t,e){const n={},r=v(t,["gcsUri"]);if(e!==void 0&&r!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],r),v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function pPe(t){const e={},n=v(t,["gcsUri"]);return n!=null&&b(e,["validationDatasetUri"],n),e}function gPe(t,e){const n={},r=v(t,["validationDataset"]);e!==void 0&&r!=null&&b(e,["supervisedTuningSpec"],pPe(r));const i=v(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&b(e,["tunedModelDisplayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=v(t,["epochCount"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=v(t,["learningRateMultiplier"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=v(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=v(t,["adapterSize"]);if(e!==void 0&&u!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function mPe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["trainingDataset"]);r!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],hPe(r,e));const i=v(t,["config"]);return i!=null&&b(e,["config"],gPe(i,e)),e}function yPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["model"],n);const r=v(t,["name"]);return r!=null&&b(e,["endpoint"],r),e}function Gee(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["state"]);r!=null&&b(e,["state"],Tee(r));const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=v(t,["tuningTask","startTime"]);o!=null&&b(e,["startTime"],o);const s=v(t,["tuningTask","completeTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["description"]);l!=null&&b(e,["description"],l);const u=v(t,["baseModel"]);u!=null&&b(e,["baseModel"],u);const c=v(t,["_self"]);c!=null&&b(e,["tunedModel"],yPe(c));const d=v(t,["distillationSpec"]);d!=null&&b(e,["distillationSpec"],d);const h=v(t,["experiment"]);h!=null&&b(e,["experiment"],h);const p=v(t,["labels"]);p!=null&&b(e,["labels"],p);const m=v(t,["pipelineJob"]);m!=null&&b(e,["pipelineJob"],m);const y=v(t,["serviceAccount"]);y!=null&&b(e,["serviceAccount"],y);const w=v(t,["tunedModelDisplayName"]);return w!=null&&b(e,["tunedModelDisplayName"],w),e}function vPe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Gee(o))),b(e,["tuningJobs"],i)}return e}function bPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);return o!=null&&b(e,["error"],o),e}function wPe(t){const e={},n=v(t,["checkpointId"]);n!=null&&b(e,["checkpointId"],n);const r=v(t,["epoch"]);r!=null&&b(e,["epoch"],r);const i=v(t,["step"]);i!=null&&b(e,["step"],i);const o=v(t,["endpoint"]);return o!=null&&b(e,["endpoint"],o),e}function xPe(t){const e={},n=v(t,["model"]);n!=null&&b(e,["model"],n);const r=v(t,["endpoint"]);r!=null&&b(e,["endpoint"],r);const i=v(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wPe(s))),b(e,["checkpoints"],o)}return e}function yO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["state"]);r!=null&&b(e,["state"],Tee(r));const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=v(t,["startTime"]);o!=null&&b(e,["startTime"],o);const s=v(t,["endTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["error"]);l!=null&&b(e,["error"],l);const u=v(t,["description"]);u!=null&&b(e,["description"],u);const c=v(t,["baseModel"]);c!=null&&b(e,["baseModel"],c);const d=v(t,["tunedModel"]);d!=null&&b(e,["tunedModel"],xPe(d));const h=v(t,["supervisedTuningSpec"]);h!=null&&b(e,["supervisedTuningSpec"],h);const p=v(t,["tuningDataStats"]);p!=null&&b(e,["tuningDataStats"],p);const m=v(t,["encryptionSpec"]);m!=null&&b(e,["encryptionSpec"],m);const y=v(t,["partnerModelTuningSpec"]);y!=null&&b(e,["partnerModelTuningSpec"],y);const w=v(t,["distillationSpec"]);w!=null&&b(e,["distillationSpec"],w);const _=v(t,["experiment"]);_!=null&&b(e,["experiment"],_);const E=v(t,["labels"]);E!=null&&b(e,["labels"],E);const S=v(t,["pipelineJob"]);S!=null&&b(e,["pipelineJob"],S);const T=v(t,["serviceAccount"]);T!=null&&b(e,["serviceAccount"],T);const I=v(t,["tunedModelDisplayName"]);return I!=null&&b(e,["tunedModelDisplayName"],I),e}function _Pe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>yO(o))),b(e,["tuningJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SPe extends dg{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bS(Kp.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:aO.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cPe(e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>yO(c))}else{const u=rPe(e);return a=It("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Gee(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fPe(e);return a=It("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=_Pe(c),h=new QH;return Object.assign(h,d),h})}else{const u=oPe(e);return a=It("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=vPe(c),h=new QH;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=mPe(e);return o=It("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>yO(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uPe(e);return o=It("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>bPe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EPe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const CPe=1024*1024*8,TPe=3,APe=1e3,RPe=2,Tk="x-goog-upload-status";async function PPe(t,e,n){var r,i,o;let s=0,a=0,l=new lO(new Response),u="upload";for(s=t.size;a<s;){const d=Math.min(CPe,s-a),h=t.slice(a,a+d);a+d>=s&&(u+=", finalize");let p=0,m=APe;for(;p<TPe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Tk]));)p++,await kPe(m),m=m*RPe;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Tk])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Tk])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function IPe(t){return{size:t.size,type:t.type}}function kPe(t){return new Promise(e=>setTimeout(e,t))}class MPe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await PPe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IPe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NPe{create(e,n,r){return new DPe(e,n,r)}}class DPe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C9="x-goog-api-key";class LPe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(C9)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(C9,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OPe="gl-node/";class FPe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Ixe(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new LPe(this.apiKey);this.apiClient=new JAe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:OPe+"web",uploader:new MPe,downloader:new EPe}),this.models=new gRe(this.apiClient),this.live=new cRe(this.apiClient,i,new NPe),this.batches=new iSe(this.apiClient),this.chats=new lEe(this.models,this.apiClient),this.caches=new oEe(this.apiClient),this.files=new xEe(this.apiClient),this.operations=new TRe(this.apiClient),this.authTokens=new nPe(this.apiClient),this.tunings=new SPe(this.apiClient)}}const $Pe=`
You are an expert research methodology advisor and academic mentor. 
Your purpose is to help researchers read an academic paper more effectively by assessing their current reading progress and providing a set of specific, actionable reading goals to guide their next steps in reading.
`,BPe=3,VPe=`
Keshav's "three-pass approach":
- a quick first pass (i.e. skimming) to get a bird's-eye view, 
- a second pass to grasp content, and 
- a third pass for in-depth understanding.
`,zPe=`
- Level 0: Skimming (What is the paper about?)
-- To Skim: get a bird's-eye view of the paper.

- Level 1: Foundational Understanding (What does the paper say?)
-- To Learn / Self-Inform: learning its core concepts and background.
-- To Search / Answer Questions: questions a reader might want to find the answer to in this paper.
-- To Summarize: summarizing the paper's central argument and conclusion.

- Level 2: Critical Evaluation (How good is the paper's argument?)
-- For Critical Review: critically evaluate this paper's specific methodology, evidence, or logical structure.
-- For Discussion: form a critical opinion or a key question for discussing this paper with peers.

- Level 3: Connection & Application (How can I use this paper?)
-- To Apply: extract a specific method, theory, or finding from this paper for practical application.
-- To Write and Revise: use this paper to support your own writing or literature review.
-- For Decision Making: use the paper's findings to inform a specific research or practical decision.
`,UPe=`
You will be provided with (1) the full text of an academic paper and (2) a list of reading goals that the user has already completed.

Your task is to: 
(1) first understand the paper, 
(2) then provide a brief assessment of the user's current reading progress using the provided reading framework (note: if no reading goals have been completed, the user should start with level 0),
(3) finally generate ${BPe} potential reading goals and their descriptions according to the provided intention framework.

${VPe}

${zPe}

Ensure all generated goals are phrased as actionable tasks and are tailored directly to the content of the paper content and should aimed for the user's current reading progress. 

The user has already completed the following reading goals:
`,Or={READING:"reading",ANALYZING:"analyzing"},Kee=F.createContext(void 0),HPe=({children:t})=>{const{userData:e,getAllUsers:n,getAllPapersData:r}=d0(),[i,o]=F.useState({}),[s,a]=F.useState({}),[l,u]=F.useState(Or.READING),[c,d]=F.useState(null);F.useEffect(()=>{u(Or.READING),d(null),h()},[e]);const h=async()=>{if(!e)return;if(e.role===sx.STUDENT)o({[e.id]:e});else{const m=await n();o(m.reduce((y,w)=>(y[w.id]=w,y),{}))}const p=await r();a(p.reduce((m,y)=>(m[y.id]=y,m),{}))};return O.jsx(Kee.Provider,{value:{usersDict:i,papersDict:s,setUsersDict:o,setPapersDict:a,mode:l,setMode:u,viewingPaperId:c,setViewingPaperId:d},children:t})},ad=()=>{const t=F.useContext(Kee);if(t===void 0)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return t},Un={PAPERS:"papers",USERS:"users",PURPOSES:"purposes"},Yee=F.createContext(void 0),qPe=({children:t})=>{const{userData:e,getSessionsByUsersAndPapers:n,getHighlightsByUsersAndPapers:r,getPurposesByUserAndPaper:i,getCanvasUserAndPaper:o}=d0(),{usersDict:s,papersDict:a,setViewingPaperId:l}=ad(),[u,c]=F.useState([]),[d,h]=F.useState([]),[p,m]=F.useState({}),[y,w]=F.useState({}),[_,E]=F.useState({}),[S,T]=F.useState({}),[I,N]=F.useState(0),[P,M]=F.useState(!1),[D,k]=F.useState(Un.PAPERS),[L,V]=F.useState(null),[$,z]=F.useState(null),[G,K]=F.useState(!1),[J,ee]=F.useState([]),[X,j]=F.useState([]),[Q,ue]=F.useState([]),[q,Y]=F.useState({}),[te,le]=F.useState({}),[de,se]=F.useState({}),[ce,fe]=F.useState("");F.useEffect(()=>{ye()},[e]),F.useEffect(()=>{d.length>0&&u.length>0&&Ae(),L&&!u.includes(L)?(V(null),k(Un.PAPERS)):$&&!d.includes($)&&(z(null),k(Un.USERS))},[d,u]),F.useEffect(()=>{L&&l(L)},[L]),F.useEffect(()=>{be()},[p,y,_,d,u,D,L,$]);const ye=()=>{c([]),h([]),m({}),w({}),E({}),T({}),N(0),k(Un.PAPERS),V(null),z(null),ee([]),j([]),ue([]),Y({}),le({}),se({}),fe("")},we=(ke,dt=!1)=>{c(ot=>ot.includes(ke)?dt?ot:ot.filter(St=>St!==ke):[...ot,ke])},Re=(ke,dt=!1)=>{h(ot=>ot.includes(ke)?dt?ot:ot.filter(St=>St!==ke):[...ot,ke])},Ae=async()=>{if(!(d.length===0||u.length===0)){M(!0);try{const ke=await n(d,u),dt=await r(d,u),ot={},St={};for(const Ce of d)for(const He of u){const et=`${Ce}_${He}`;try{const Ze=await i(Ce,He);ot[et]=Ze;const tt=await o(Ce,He);St[et]=tt}catch(Ze){console.error(`Error fetching purposes for user ${Ce} and paper ${He}:`,Ze),ot[et]=[]}}let ve=0;Object.values(ke).forEach(Ce=>{const He=Ce.reduce((et,Ze)=>et+Ze.duration,0);ve=Math.max(ve,He)}),N(ve),m(ke),w(dt),E(ot),T(St)}catch(ke){console.error("Error fetching analysis data:",ke)}finally{M(!1)}}},be=()=>{const ke=Object.keys(p).filter(dt=>{const[ot,St]=dt.split("_");return d.includes(ot)&&u.includes(St)});D===Un.PAPERS?Ke(ke):D===Un.USERS&&L?Ve(L):D===Un.PURPOSES&&L&&$&&Oe($,L)},Ke=ke=>{const dt=new Map;ke.forEach(St=>{const[ve,Ce]=St.split("_"),He=p[St]||[],et=y[St]||[];dt.has(Ce)||dt.set(Ce,{totalDuration:0,userCount:0,totalHighlights:0,users:new Set});const Ze=dt.get(Ce);Ze.totalDuration+=He.reduce((tt,Yt)=>tt+Yt.duration,0),Ze.totalHighlights+=et.length,Ze.users.add(ve)});const ot=Array.from(dt.entries()).map(([St,ve])=>{var Ce;return{paperId:St,paperTitle:((Ce=a[St])==null?void 0:Ce.title)||"Unknown Paper",totalDuration:ve.totalDuration,averageDuration:ve.users.size>0?ve.totalDuration/ve.users.size:0,userCount:ve.users.size,totalHighlights:ve.totalHighlights,averageHighlights:ve.users.size>0?ve.totalHighlights/ve.users.size:0}}).sort((St,ve)=>ve.totalDuration-St.totalDuration);ee(ot)},Ve=ke=>{const dt=[];let ot={};d.forEach(St=>{var Ze;const ve=`${St}_${ke}`,Ce=p[ve]||[],He=y[ve]||[],et=_[ve]||[];if(Ce.length>0||He.length>0){const tt=Ce.reduce(($t,rn)=>$t+rn.duration,0),Yt=Math.max(...Ce.map($t=>$t.startTime+$t.duration),0);dt.push({userId:St,userName:((Ze=s[St])==null?void 0:Ze.name)||"Unknown User",duration:tt,highlightCount:He.length,textHighlightCount:He.filter($t=>$t.type==="text").length,imageHighlightCount:He.filter($t=>$t.type==="area").length,purposeCount:et.length,lastReadTime:Yt}),ot[St]||(ot[St]=[]),ot[St].push(...He)}}),j(dt.sort((St,ve)=>ve.duration-St.duration)),Y(ot)},Oe=(ke,dt)=>{const ot=`${ke}_${dt}`,St=p[ot]||[],ve=y[ot]||[],Ce=_[ot]||[],He=S[ot]||"",et=Ce.map(Ze=>{const tt=St.filter(Qe=>Qe.readPurposeId===Ze.id),Yt=ve.filter(Qe=>Qe.readPurposeId===Ze.id),$t=tt.reduce((Qe,Rt)=>Qe+Rt.duration,0),rn=Math.max(...tt.map(Qe=>Qe.startTime+Qe.duration),0);return{purposeId:Ze.id,purposeTitle:Ze.title,purposeColor:Ze.color,duration:$t,highlightCount:Yt.length,textHighlightCount:Yt.filter(Qe=>Qe.type==="text").length,imageHighlightCount:Yt.filter(Qe=>Qe.type==="area").length,lastReadTime:rn}}).sort((Ze,tt)=>tt.duration-Ze.duration);ue(et),Y({[ke]:ve}),le({[ke]:Ce}),se({[ke]:St}),fe(He.reactFlowJson)},Me=ke=>{V(ke),k(Un.USERS)},je=ke=>{z(ke),k(Un.PURPOSES)},wt=ke=>{k(ke),ke===Un.PAPERS?(V(null),z(null)):ke===Un.USERS&&z(null)};return O.jsx(Yee.Provider,{value:{selectedAnalyticsPapersId:u,selectedAnalyticsUsersId:d,togglePaperForAnalytics:we,toggleUserForAnalytics:Re,userPaperReadSessions:p,userPaperHighlights:y,userPaperPurposes:_,maxDuration:I,isLoadingData:P,analyticsLevel:D,selectedPaper:L,selectedUser:$,handlePaperClick:Me,handleUserClick:je,handleBreadcrumbClick:wt,paperStats:J,userPaperStats:X,userPurposeStats:Q,fetchData:Ae,analyticsHighlights:q,analyticsPurposes:te,analyticsSessions:de,analyticsCanvasJSON:ce,reloadAnalytics:ye,showCanvas:G,setShowCanvas:K},children:t})},fg=()=>{const t=F.useContext(Yee);if(!t)throw new Error("useAnalysisContext must be used within an AnalysisProvider");return t},Xee=F.createContext(void 0),T9={HIGHLIGHT:"highlight",THEME:"theme"},no={CHRONOLOGICAL:"chronological",RELATIONAL:"relational"},A9={type:Tv.Arrow,width:15,height:15},R9={type:Tv.Arrow,width:20,height:20,color:"black"},Jee=500,jPe="AIzaSyCI7AHHYDkgnfUco9GoTiYtX6-jrV3Nh8w",WPe=({children:t})=>{const{userData:e,getHighlightsByUsersAndPapers:n,getPurposesByUserAndPaper:r,getCanvasUserAndPaper:i,getSessionsByUsersAndPapers:o,batchAddPurposes:s,batchAddHighlights:a,batchAddSessions:l,updateCanvas:u,getPaperFile:c}=d0(),{mode:d,viewingPaperId:h}=ad(),{analyticsHighlights:p,analyticsPurposes:m,analyticsSessions:y,analyticsCanvasJSON:w,analyticsLevel:_,selectedPaper:E}=fg(),[S,T]=F.useState(null),[I,N]=F.useState([]),[P,M]=F.useState(0),D=F.useRef(null),[k,L]=F.useState({}),[V,$]=F.useState(""),[z,G]=F.useState(""),[K,J]=F.useState([]),[ee,X]=F.useState([]),[j,Q,ue]=cge([]),[q,Y,te]=dge([]),[le,de]=F.useState(!1),[se,ce]=F.useState([no.CHRONOLOGICAL,no.RELATIONAL]),fe=150,ye=150,[we,Re]=F.useState({}),Ae=F.useRef(null),be=F.useRef(null),Ke=new FPe({apiKey:jPe});F.useEffect(()=>{console.log("load Paper Context",h),Me(),d===Or.READING?je():d===Or.ANALYZING&&wt()},[h]),F.useEffect(()=>{d===Or.ANALYZING&&wt()},[_,p,m,y,w]);const Ve=()=>{$(""),G(""),X([]),be.current=null,J([]),ce([no.CHRONOLOGICAL,no.RELATIONAL])},Oe=()=>{N([]),L({}),Q([]),Y([]),Re({}),Ve()},Me=async()=>{if(!h){T(null);return}try{const Ye=await c(h);T(Ye)}catch(Ye){console.error("Error fetching paper file:",Ye)}},je=async()=>{if(!h||!e){Oe();return}const xt=(await n([e.id],[h]))[`${e.id}_${h}`]||[],Pt=await r(e.id,h),Ut=await i(e.id,h),kn=(await o([e.id],[h]))[`${e.id}_${h}`]||[];Ve(),ke(xt,Pt,kn,(Ut==null?void 0:Ut.reactFlowJson)||"")},wt=async()=>{if(!h||!e||h!==E){Oe();return}_===Un.PAPERS?ke(void 0,void 0,void 0,void 0):_===Un.USERS?ke(Object.values(p).flat(),void 0,void 0,void 0):_===Un.PURPOSES&&ke(Object.values(p).flat(),Object.values(m).flat(),Object.values(y).flat(),w)},ke=(Ye,xt,Pt,Ut)=>{N(Ye||[]),L((xt==null?void 0:xt.reduce((kn,Zn)=>(kn[Zn.id]=Zn,kn),{}))||{}),Re((Pt==null?void 0:Pt.reduce((kn,Zn)=>(kn[Zn.id]=Zn,kn),{}))||{}),X((xt==null?void 0:xt.map(kn=>kn.id))||[]);const Rn=JSON.parse(Ut||"{}");Q(Rn.nodes||[]),Y(Rn.edges||[])};F.useEffect(()=>{M(I.filter(Ye=>Ye.id.startsWith(V.toString())).length)},[V]),F.useEffect(()=>{Y(q==null?void 0:q.map(Ye=>({...Ye,hidden:!se.includes(Ye.type??"")})))},[se]);const dt=async()=>{if(!D.current)return{};const Ye=await D.current.getAllText(),xt=Object.keys(k).length>0?Object.values(k).map((Rn,kn)=>`${kn+1}. ${Rn.title}: ${Rn.description}`).join(`
`):"No reading goals have been completed yet.",Pt=UPe+`

`+xt+`

Below is the full text of the paper:
`+Ye,Ut=await _n(Pt);return Ut?JSON.parse(Ut):{}},ot=Ye=>{var xt;if(Ye.type==="text"){const Pt=((xt=Ye.content.text)==null?void 0:xt.trim())??"",Ut=Pt.split(/\s+/),Rn=Ut.length>10?Ut.slice(0,10).join(" ")+"...":Pt;return{type:Ye.type,label:Rn,content:Ye.content.text}}else if(Ye.type==="area")return{type:Ye.type,label:"Image",content:Ye.content.image}},St=Ye=>{const xt=`${V}-${P}`;if(!D.current)return;const Pt=D.current.getPageView(0).height,Rn=(Ye.position.boundingRect.y1+(Ye.position.boundingRect.pageNumber-1)*Pt)/(D.current.pagesCount*Pt);N(Zn=>[...Zn,{...Ye,id:xt,userId:e.id,paperId:h,readPurposeId:V,sessionId:z,timestamp:Date.now(),posPercentage:Rn}]);const kn=P===0;if(Q(Zn=>[...Zn,{id:xt,type:T9.HIGHLIGHT,data:{id:xt,readPurposeId:V,...ot(Ye),notes:""},position:{x:kn?Object.keys(k).findIndex(Mn=>Mn===V)*fe:j[j.length-1].position.x,y:kn?ye:j[j.length-1].position.y+ye},style:{backgroundColor:k[V].color}}]),!kn){const Zn=j[j.length-1].id;Y(Mn=>[...Mn,{id:xt,source:Zn,sourceHandle:`chronological-handle-${Zn}-source`,target:xt,targetHandle:`chronological-handle-${xt}-target`,type:no.CHRONOLOGICAL,markerEnd:A9,hidden:!se.includes(no.CHRONOLOGICAL)}])}M(Zn=>Zn+1)},ve=(Ye,xt)=>{let Pt=[...j];Pt=Pt.map(Ut=>Ut.id===Ye?{...Ut,data:{...Ut.data,...xt}}:Ut),Q(Pt)},Ce=Ye=>{K.forEach(xt=>{if(K.includes(Ye.target))return;const Pt={source:xt,target:Ye.target,sourceHandle:`relational-handle-${xt}-source`,targetHandle:`relational-handle-${Ye.target}-target`,id:`relational-${xt}-${Ye.target}`,type:no.RELATIONAL,markerEnd:R9,hidden:!se.includes(no.RELATIONAL)};Y(Ut=>aJ(Pt,Ut))}),J([])},He=(Ye,xt)=>{if(Ye.length<2)return;let Pt=[...j];const Ut=xw(),Rn=j.filter(Mn=>Ye.includes(Mn.id)),kn={id:Ut,type:T9.THEME,data:{id:Ut,readPurposeId:V,label:xt||`Group (${Ye.length} nodes)`,notes:""},position:{x:Rn.reduce((Mn,Bt)=>Mn+Bt.position.x,0)/Rn.length+fe,y:Rn.reduce((Mn,Bt)=>Mn+Bt.position.y,0)/Rn.length},style:{backgroundColor:k[V].color}};if(Pt.length>0){const Mn=Pt[Pt.length-1].id;Y(Bt=>[...Bt,{id:`chronological-${Ut}`,source:Mn,sourceHandle:`chronological-handle-${Mn}-source`,target:Ut,targetHandle:`chronological-handle-${Ut}-target`,type:no.CHRONOLOGICAL,markerEnd:A9,hidden:!se.includes(no.CHRONOLOGICAL)}])}const Zn=Ye.map(Mn=>({id:`group-${Ut}-${Mn}`,source:Ut,sourceHandle:`relational-handle-${Ut}-source`,target:Mn,targetHandle:`relational-handle-${Mn}-target`,type:no.RELATIONAL,markerEnd:R9,hidden:!se.includes(no.RELATIONAL)}));Pt=[...Pt,kn],Q(Pt),Y(Mn=>[...Mn,...Zn]),M(Mn=>Mn+1)},et=Ye=>{console.log("Delete highlight",Ye),N(I.filter(xt=>xt.id!==Ye)),Q(j.filter(xt=>xt.id!==Ye)),Y(q.filter(xt=>xt.id!==Ye&&xt.source!==Ye&&xt.target!==Ye)),J([])},Ze=()=>{console.log("Reset highlights"),N([]),Q([]),Y([]),J([]),M(0)},tt=(Ye,xt)=>{if(!e||!h)return;const Pt=xw();L(Ut=>({...Ut,[Pt]:{id:Pt,paperId:h,userId:e.id,title:Ye,color:xt}})),$(Pt),Yt(Pt,!0)},Yt=(Ye,xt=!1)=>{if(ee.includes(Ye)){if(xt)return;X(ee.filter(Pt=>Pt!==Ye))}else X([...ee,Ye])},$t=Ye=>{console.log("Creating new reading session",Ye);const xt=xw();G(xt);const Pt=Date.now(),Ut=D.current.scroll.lastY/(D.current.pagesCount*D.current.getPageView(0).height);return Re(Rn=>({...Rn,[xt]:{id:xt,userId:e.id,paperId:h,readPurposeId:Ye,startTime:Pt,duration:0,scrollSequence:[Ut]}})),xt},rn=()=>{if(!be.current||!D.current)return;const Ye=be.current;if(!Ye)return;const xt=Date.now(),Pt=D.current.container.clientHeight/2,Ut=(D.current.scroll.lastY+Pt)/(D.current.pagesCount*D.current.getPageView(0).height);Re(Rn=>({...Rn,[Ye]:{...Rn[Ye],duration:xt-Rn[Ye].startTime,scrollSequence:[...Rn[Ye].scrollSequence,Ut]}}))},Qe=()=>{Ae.current=setInterval(()=>{rn()},Jee)},Rt=()=>{console.log("Stopping current update interval"),Ae.current&&(clearInterval(Ae.current),Ae.current=null)};F.useEffect(()=>{if(Rt(),V!==""){const Ye=$t(V);be.current=Ye,Yt(V,!0),Qe()}return()=>{Rt()}},[V]),F.useEffect(()=>{const Ye=()=>{document.hidden&&be.current?(Rt(),console.log("Visibility change: Hidden",be.current)):!document.hidden&&be.current&&(Qe(),console.log("Visibility change: Visible",be.current))};return document.addEventListener("visibilitychange",Ye),()=>{document.removeEventListener("visibilitychange",Ye)}},[be.current]);const mn=async()=>{if(!e){alert("Please login to save your work");return}try{const Ye=Object.values(k);await s(Ye),await a(I),await l(Object.values(we));const Pt={id:`${e.id}_${h}`,userId:e.id,paperId:h,reactFlowJson:JSON.stringify({nodes:j,edges:q})};await u(Pt)}catch(Ye){console.error("Error saving data:",Ye),alert("Failed to save data. Please try again.")}},_n=async(Ye,xt)=>(await Ke.models.generateContent({model:"gemini-2.5-flash",contents:Ye+(xt?`
`+xt:""),config:{systemInstruction:$Pe,responseMimeType:"application/json",responseSchema:{type:so.OBJECT,properties:{readingProgress:{type:so.STRING},readingGoals:{type:so.ARRAY,items:{type:so.OBJECT,properties:{goalName:{type:so.STRING},goalDescription:{type:so.STRING}}}}}}}})).text??"";return O.jsx(Xee.Provider,{value:{paperUrl:S,setPaperUrl:T,generateReadingGoals:dt,highlights:I,setHighlights:N,addHighlight:St,updateNodeData:ve,deleteHighlight:et,resetHighlights:Ze,pdfViewerRef:D,nodes:j,setNodes:Q,onNodesChange:ue,edges:q,setEdges:Y,onEdgesChange:te,onConnect:Ce,onSelectNode:le,setOnSelectNode:de,createGroupNode:He,displayEdgeTypes:se,setDisplayEdgeTypes:ce,readPurposes:k,createRead:tt,currentReadId:V,setCurrentReadId:$,currentSessionId:z,setCurrentSessionId:G,displayedReads:ee,setReadPurposes:L,toggleRead:Yt,selectedHighlightIds:K,setSelectedHighlightIds:J,readSessions:we,setReadSessions:Re,stopUpdateReadingSession:Rt,query_gemini:_n,saveReadingData:mn,resetPaperContext:Oe,loadPaperContext:je},children:t})},Gf=()=>{const t=F.useContext(Xee);if(t===void 0)throw new Error("usePaperContext must be used within a PaperContextProvider");return t},GPe=[{target:".upload-pdf",content:"Get started by uploading your first PDF!",placement:"bottom",data:{pause:!0}},{target:".add-new-read-btn",content:"Get started with setting up your first read here! Different reads should be mapped to different intentions.",placement:"bottom",data:{pause:!0}},{target:".active-read",content:"You can see what read you are currently on. Any highlight will be associated with the selected read. Use this to also toggle between your reads.",placement:"left-end"},{target:".pdf-container",content:"Get started by highlighting your first highlight! You can also hold option and take a screenshot as a highlight",placement:"right"},{target:".pdf-container",content:"Each highlight you make will create a node corresponding to that node and the current read you are on. With this node, you are able to link them to other nodes, generate summaries & definitions, as well as take your own notes.",placement:"right"}],bR=F.createContext(void 0),KPe=({children:t})=>{const[e,n]=F.useState(!1),[r,i]=F.useState(GPe),[o,s]=F.useState(0);return O.jsx(bR.Provider,{value:{runTour:e,setRunTour:n,steps:r,setSteps:i,stepIndex:o,setStepIndex:s},children:t})},YPe=()=>{const t=F.useContext(bR);if(t===void 0)throw new Error("useTourContext must be used within a TourContextProvider");return t},ux={black:"#000",white:"#fff"},ym={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},vm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},bm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},wm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cb={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},XPe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Jc(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const wR="$$material";function VT(){return VT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VT.apply(null,arguments)}function JPe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function QPe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ZPe=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(QPe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=JPe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xi="-ms-",zT="-moz-",On="-webkit-",Qee="comm",j5="rule",W5="decl",eIe="@import",Zee="@keyframes",tIe="@layer",nIe=Math.abs,xR=String.fromCharCode,rIe=Object.assign;function iIe(t,e){return Bi(t,0)^45?(((e<<2^Bi(t,0))<<2^Bi(t,1))<<2^Bi(t,2))<<2^Bi(t,3):0}function ete(t){return t.trim()}function oIe(t,e){return(t=e.exec(t))?t[0]:t}function $n(t,e,n){return t.replace(e,n)}function vO(t,e){return t.indexOf(e)}function Bi(t,e){return t.charCodeAt(e)|0}function cx(t,e,n){return t.slice(e,n)}function nu(t){return t.length}function G5(t){return t.length}function w1(t,e){return e.push(t),t}function sIe(t,e){return t.map(e).join("")}var _R=1,jv=1,tte=0,ss=0,Zr=0,g0="";function SR(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:_R,column:jv,length:s,return:""}}function db(t,e){return rIe(SR("",null,null,"",null,null,0),t,{length:-t.length},e)}function aIe(){return Zr}function lIe(){return Zr=ss>0?Bi(g0,--ss):0,jv--,Zr===10&&(jv=1,_R--),Zr}function Bs(){return Zr=ss<tte?Bi(g0,ss++):0,jv++,Zr===10&&(jv=1,_R++),Zr}function vu(){return Bi(g0,ss)}function yC(){return ss}function wS(t,e){return cx(g0,t,e)}function dx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nte(t){return _R=jv=1,tte=nu(g0=t),ss=0,[]}function rte(t){return g0="",t}function vC(t){return ete(wS(ss-1,bO(t===91?t+2:t===40?t+1:t)))}function uIe(t){for(;(Zr=vu())&&Zr<33;)Bs();return dx(t)>2||dx(Zr)>3?"":" "}function cIe(t,e){for(;--e&&Bs()&&!(Zr<48||Zr>102||Zr>57&&Zr<65||Zr>70&&Zr<97););return wS(t,yC()+(e<6&&vu()==32&&Bs()==32))}function bO(t){for(;Bs();)switch(Zr){case t:return ss;case 34:case 39:t!==34&&t!==39&&bO(Zr);break;case 40:t===41&&bO(t);break;case 92:Bs();break}return ss}function dIe(t,e){for(;Bs()&&t+Zr!==57;)if(t+Zr===84&&vu()===47)break;return"/*"+wS(e,ss-1)+"*"+xR(t===47?t:Bs())}function fIe(t){for(;!dx(vu());)Bs();return wS(t,ss)}function hIe(t){return rte(bC("",null,null,null,[""],t=nte(t),0,[0],t))}function bC(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,p=0,m=0,y=1,w=1,_=1,E=0,S="",T=i,I=o,N=r,P=S;w;)switch(m=E,E=Bs()){case 40:if(m!=108&&Bi(P,d-1)==58){vO(P+=$n(vC(E),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:P+=vC(E);break;case 9:case 10:case 13:case 32:P+=uIe(m);break;case 92:P+=cIe(yC()-1,7);continue;case 47:switch(vu()){case 42:case 47:w1(pIe(dIe(Bs(),yC()),e,n),l);break;default:P+="/"}break;case 123*y:a[u++]=nu(P)*_;case 125*y:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+c:_==-1&&(P=$n(P,/\f/g,"")),p>0&&nu(P)-d&&w1(p>32?I9(P+";",r,n,d-1):I9($n(P," ","")+";",r,n,d-2),l);break;case 59:P+=";";default:if(w1(N=P9(P,e,n,u,c,i,a,S,T=[],I=[],d),o),E===123)if(c===0)bC(P,e,N,N,T,o,d,a,I);else switch(h===99&&Bi(P,3)===110?100:h){case 100:case 108:case 109:case 115:bC(t,N,N,r&&w1(P9(t,N,N,0,0,i,a,S,i,T=[],d),I),i,I,d,a,r?T:I);break;default:bC(P,N,N,N,[""],I,0,a,I)}}u=c=p=0,y=_=1,S=P="",d=s;break;case 58:d=1+nu(P),p=m;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&lIe()==125)continue}switch(P+=xR(E),E*y){case 38:_=c>0?1:(P+="\f",-1);break;case 44:a[u++]=(nu(P)-1)*_,_=1;break;case 64:vu()===45&&(P+=vC(Bs())),h=vu(),c=d=nu(S=P+=fIe(yC())),E++;break;case 45:m===45&&nu(P)==2&&(y=0)}}return o}function P9(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],p=G5(h),m=0,y=0,w=0;m<r;++m)for(var _=0,E=cx(t,d+1,d=nIe(y=s[m])),S=t;_<p;++_)(S=ete(y>0?h[_]+" "+E:$n(E,/&\f/g,h[_])))&&(l[w++]=S);return SR(t,e,n,i===0?j5:a,l,u,c)}function pIe(t,e,n){return SR(t,e,n,Qee,xR(aIe()),cx(t,2,-2),0)}function I9(t,e,n,r){return SR(t,e,n,W5,cx(t,0,r),cx(t,r+1,-1),r)}function xy(t,e){for(var n="",r=G5(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function gIe(t,e,n,r){switch(t.type){case tIe:if(t.children.length)break;case eIe:case W5:return t.return=t.return||t.value;case Qee:return"";case Zee:return t.return=t.value+"{"+xy(t.children,r)+"}";case j5:t.value=t.props.join(",")}return nu(n=xy(t.children,r))?t.return=t.value+"{"+n+"}":""}function mIe(t){var e=G5(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function yIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function ite(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var vIe=function(e,n,r){for(var i=0,o=0;i=o,o=vu(),i===38&&o===12&&(n[r]=1),!dx(o);)Bs();return wS(e,ss)},bIe=function(e,n){var r=-1,i=44;do switch(dx(i)){case 0:i===38&&vu()===12&&(n[r]=1),e[r]+=vIe(ss-1,n,r);break;case 2:e[r]+=vC(i);break;case 4:if(i===44){e[++r]=vu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xR(i)}while(i=Bs());return e},wIe=function(e,n){return rte(bIe(nte(e),n))},k9=new WeakMap,xIe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!k9.get(r))&&!i){k9.set(e,!0);for(var o=[],s=wIe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},_Ie=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ote(t,e){switch(iIe(t,e)){case 5103:return On+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return On+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return On+t+zT+t+Xi+t+t;case 6828:case 4268:return On+t+Xi+t+t;case 6165:return On+t+Xi+"flex-"+t+t;case 5187:return On+t+$n(t,/(\w+).+(:[^]+)/,On+"box-$1$2"+Xi+"flex-$1$2")+t;case 5443:return On+t+Xi+"flex-item-"+$n(t,/flex-|-self/,"")+t;case 4675:return On+t+Xi+"flex-line-pack"+$n(t,/align-content|flex-|-self/,"")+t;case 5548:return On+t+Xi+$n(t,"shrink","negative")+t;case 5292:return On+t+Xi+$n(t,"basis","preferred-size")+t;case 6060:return On+"box-"+$n(t,"-grow","")+On+t+Xi+$n(t,"grow","positive")+t;case 4554:return On+$n(t,/([^-])(transform)/g,"$1"+On+"$2")+t;case 6187:return $n($n($n(t,/(zoom-|grab)/,On+"$1"),/(image-set)/,On+"$1"),t,"")+t;case 5495:case 3959:return $n(t,/(image-set\([^]*)/,On+"$1$`$1");case 4968:return $n($n(t,/(.+:)(flex-)?(.*)/,On+"box-pack:$3"+Xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+On+t+t;case 4095:case 3583:case 4068:case 2532:return $n(t,/(.+)-inline(.+)/,On+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nu(t)-1-e>6)switch(Bi(t,e+1)){case 109:if(Bi(t,e+4)!==45)break;case 102:return $n(t,/(.+:)(.+)-([^]+)/,"$1"+On+"$2-$3$1"+zT+(Bi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vO(t,"stretch")?ote($n(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bi(t,e+1)!==115)break;case 6444:switch(Bi(t,nu(t)-3-(~vO(t,"!important")&&10))){case 107:return $n(t,":",":"+On)+t;case 101:return $n(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+On+(Bi(t,14)===45?"inline-":"")+"box$3$1"+On+"$2$3$1"+Xi+"$2box$3")+t}break;case 5936:switch(Bi(t,e+11)){case 114:return On+t+Xi+$n(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return On+t+Xi+$n(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return On+t+Xi+$n(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return On+t+Xi+t+t}return t}var SIe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case W5:e.return=ote(e.value,e.length);break;case Zee:return xy([db(e,{value:$n(e.value,"@","@"+On)})],i);case j5:if(e.length)return sIe(e.props,function(o){switch(oIe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xy([db(e,{props:[$n(o,/:(read-\w+)/,":"+zT+"$1")]})],i);case"::placeholder":return xy([db(e,{props:[$n(o,/:(plac\w+)/,":"+On+"input-$1")]}),db(e,{props:[$n(o,/:(plac\w+)/,":"+zT+"$1")]}),db(e,{props:[$n(o,/:(plac\w+)/,Xi+"input-$1")]})],i)}return""})}},EIe=[SIe],CIe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var w=y.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||EIe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var w=y.getAttribute("data-emotion").split(" "),_=1;_<w.length;_++)o[w[_]]=!0;a.push(y)});var l,u=[xIe,_Ie];{var c,d=[gIe,yIe(function(y){c.insert(y)})],h=mIe(u.concat(i,d)),p=function(w){return xy(hIe(w),h)};l=function(w,_,E,S){c=E,p(w?w+"{"+_.styles+"}":_.styles),S&&(m.inserted[_.name]=!0)}}var m={key:n,sheet:new ZPe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},Ak={exports:{}},zn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M9;function TIe(){if(M9)return zn;M9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,w=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function S(I){if(typeof I=="object"&&I!==null){var N=I.$$typeof;switch(N){case e:switch(I=I.type,I){case l:case u:case r:case o:case i:case d:return I;default:switch(I=I&&I.$$typeof,I){case a:case c:case m:case p:case s:return I;default:return N}}case n:return N}}}function T(I){return S(I)===u}return zn.AsyncMode=l,zn.ConcurrentMode=u,zn.ContextConsumer=a,zn.ContextProvider=s,zn.Element=e,zn.ForwardRef=c,zn.Fragment=r,zn.Lazy=m,zn.Memo=p,zn.Portal=n,zn.Profiler=o,zn.StrictMode=i,zn.Suspense=d,zn.isAsyncMode=function(I){return T(I)||S(I)===l},zn.isConcurrentMode=T,zn.isContextConsumer=function(I){return S(I)===a},zn.isContextProvider=function(I){return S(I)===s},zn.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},zn.isForwardRef=function(I){return S(I)===c},zn.isFragment=function(I){return S(I)===r},zn.isLazy=function(I){return S(I)===m},zn.isMemo=function(I){return S(I)===p},zn.isPortal=function(I){return S(I)===n},zn.isProfiler=function(I){return S(I)===o},zn.isStrictMode=function(I){return S(I)===i},zn.isSuspense=function(I){return S(I)===d},zn.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===u||I===o||I===i||I===d||I===h||typeof I=="object"&&I!==null&&(I.$$typeof===m||I.$$typeof===p||I.$$typeof===s||I.$$typeof===a||I.$$typeof===c||I.$$typeof===w||I.$$typeof===_||I.$$typeof===E||I.$$typeof===y)},zn.typeOf=S,zn}var N9;function AIe(){return N9||(N9=1,Ak.exports=TIe()),Ak.exports}var Rk,D9;function RIe(){if(D9)return Rk;D9=1;var t=AIe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(m){return t.isMemo(m)?i:o[m.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function p(m,y,w){if(typeof y!="string"){if(h){var _=d(y);_&&_!==h&&p(m,_,w)}var E=l(y);u&&(E=E.concat(u(y)));for(var S=s(m),T=s(y),I=0;I<E.length;++I){var N=E[I];if(!n[N]&&!(w&&w[N])&&!(T&&T[N])&&!(S&&S[N])){var P=c(y,N);try{a(m,N,P)}catch{}}}}return m}return Rk=p,Rk}RIe();var PIe=!0;function ste(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var K5=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||PIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Y5=function(e,n,r){K5(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function IIe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var kIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MIe=/[A-Z]|^ms/g,NIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ate=function(e){return e.charCodeAt(1)===45},L9=function(e){return e!=null&&typeof e!="boolean"},Pk=ite(function(t){return ate(t)?t:t.replace(MIe,"-$&").toLowerCase()}),O9=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(NIe,function(r,i,o){return ru={name:i,styles:o,next:ru},i})}return kIe[e]!==1&&!ate(e)&&typeof n=="number"&&n!==0?n+"px":n};function fx(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ru={name:i.name,styles:i.styles,next:ru},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ru={name:s.name,styles:s.styles,next:ru},s=s.next;var a=o.styles+";";return a}return DIe(t,e,n)}case"function":{if(t!==void 0){var l=ru,u=n(t);return ru=l,fx(t,e,u)}break}}var c=n;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function DIe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fx(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":L9(a)&&(r+=Pk(o)+":"+O9(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)L9(s[l])&&(r+=Pk(o)+":"+O9(o,s[l])+";");else{var u=fx(t,e,s);switch(o){case"animation":case"animationName":{r+=Pk(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var F9=/label:\s*([^\s;{]+)\s*(;|$)/g,ru;function xS(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ru=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=fx(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=fx(n,e,t[a]),r){var l=o;i+=l[a]}F9.lastIndex=0;for(var u="",c;(c=F9.exec(i))!==null;)u+="-"+c[1];var d=IIe(i)+u;return{name:d,styles:i,next:ru}}var LIe=function(e){return e()},lte=mL.useInsertionEffect?mL.useInsertionEffect:!1,ute=lte||LIe,$9=lte||F.useLayoutEffect,cte=F.createContext(typeof HTMLElement<"u"?CIe({key:"css"}):null);cte.Provider;var X5=function(e){return F.forwardRef(function(n,r){var i=F.useContext(cte);return e(n,i,r)})},ER=F.createContext({}),J5={}.hasOwnProperty,wO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",OIe=function(e,n){var r={};for(var i in n)J5.call(n,i)&&(r[i]=n[i]);return r[wO]=e,r},FIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return K5(n,r,i),ute(function(){return Y5(n,r,i)}),null},$Ie=X5(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[wO],o=[r],s="";typeof t.className=="string"?s=ste(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=xS(o,void 0,F.useContext(ER));s+=e.key+"-"+a.name;var l={};for(var u in t)J5.call(t,u)&&u!=="css"&&u!==wO&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),F.createElement(F.Fragment,null,F.createElement(FIe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),F.createElement(i,l))}),BIe=$Ie,B9=function(e,n){var r=arguments;if(n==null||!J5.call(n,"css"))return F.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=BIe,o[1]=OIe(e,n);for(var s=2;s<i;s++)o[s]=r[s];return F.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(B9||(B9={}));var VIe=X5(function(t,e){var n=t.styles,r=xS([n],void 0,F.useContext(ER)),i=F.useRef();return $9(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),$9(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&Y5(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function Q5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return xS(e)}function _S(){var t=Q5.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var zIe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,UIe=ite(function(t){return zIe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),HIe=UIe,qIe=function(e){return e!=="theme"},V9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?HIe:qIe},z9=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},jIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return K5(n,r,i),ute(function(){return Y5(n,r,i)}),null},WIe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=z9(e,n,r),l=a||V9(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{var h=c[0];d.push(h[0]);for(var p=c.length,m=1;m<p;m++)d.push(c[m],h[m])}var y=X5(function(w,_,E){var S=u&&w.as||i,T="",I=[],N=w;if(w.theme==null){N={};for(var P in w)N[P]=w[P];N.theme=F.useContext(ER)}typeof w.className=="string"?T=ste(_.registered,I,w.className):w.className!=null&&(T=w.className+" ");var M=xS(d.concat(I),_.registered,N);T+=_.key+"-"+M.name,s!==void 0&&(T+=" "+s);var D=u&&a===void 0?V9(S):l,k={};for(var L in w)u&&L==="as"||D(L)&&(k[L]=w[L]);return k.className=T,E&&(k.ref=E),F.createElement(F.Fragment,null,F.createElement(jIe,{cache:_,serialized:M,isStringTag:typeof S=="string"}),F.createElement(S,k))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(w,_){var E=t(w,VT({},n,_,{shouldForwardProp:z9(y,_,!0)}));return E.apply(void 0,d)},y}},GIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xO=WIe.bind(null);GIe.forEach(function(t){xO[t]=xO(t)});var Ik={exports:{}},kk,U9;function KIe(){if(U9)return kk;U9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kk=t,kk}var Mk,H9;function YIe(){if(H9)return Mk;H9=1;var t=KIe();function e(){}function n(){}return n.resetWarningCache=e,Mk=function(){function r(s,a,l,u,c,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Mk}var q9;function Z5(){return q9||(q9=1,Ik.exports=YIe()()),Ik.exports}var XIe=Z5();const ge=uo(XIe);function JIe(t){return t==null||Object.keys(t).length===0}function QIe(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(JIe(i)?n:i):e;return O.jsx(VIe,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function dte(t,e){return xO(t,e)}function ZIe(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const j9=[];function W9(t){return j9[0]=t,xS(j9)}var Nk={exports:{}},Yn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G9;function eke(){if(G9)return Yn;G9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case n:case i:case r:case l:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case s:case a:case d:case c:return y;case o:return y;default:return w}}case e:return w}}}return Yn.ContextConsumer=o,Yn.ContextProvider=s,Yn.Element=t,Yn.ForwardRef=a,Yn.Fragment=n,Yn.Lazy=d,Yn.Memo=c,Yn.Portal=e,Yn.Profiler=i,Yn.StrictMode=r,Yn.Suspense=l,Yn.SuspenseList=u,Yn.isContextConsumer=function(y){return m(y)===o},Yn.isContextProvider=function(y){return m(y)===s},Yn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Yn.isForwardRef=function(y){return m(y)===a},Yn.isFragment=function(y){return m(y)===n},Yn.isLazy=function(y){return m(y)===d},Yn.isMemo=function(y){return m(y)===c},Yn.isPortal=function(y){return m(y)===e},Yn.isProfiler=function(y){return m(y)===i},Yn.isStrictMode=function(y){return m(y)===r},Yn.isSuspense=function(y){return m(y)===l},Yn.isSuspenseList=function(y){return m(y)===u},Yn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===c||y.$$typeof===s||y.$$typeof===o||y.$$typeof===a||y.$$typeof===p||y.getModuleId!==void 0)},Yn.typeOf=m,Yn}var K9;function tke(){return K9||(K9=1,Nk.exports=eke()),Nk.exports}var fte=tke();function su(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hte(t){if(F.isValidElement(t)||fte.isValidElementType(t)||!su(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=hte(t[n])}),e}function Ei(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return su(t)&&su(e)&&Object.keys(e).forEach(i=>{F.isValidElement(e[i])||fte.isValidElementType(e[i])?r[i]=e[i]:su(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&su(t[i])?r[i]=Ei(t[i],e[i],n):n.clone?r[i]=su(e[i])?hte(e[i]):e[i]:r[i]=e[i]}),r}const nke=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function rke(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=nke(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function c(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:u,only:c,not:d,unit:n,...i}}function ike(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function oke(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function ske(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function ake(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const lke={borderRadius:4};function Pw(t,e){return e?Ei(t,e,{clone:!1}):t}const CR={xs:0,sm:600,md:900,lg:1200,xl:1536},Y9={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${CR[t]}px)`},uke={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:CR[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function al(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Y9;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||Y9;return Object.keys(e).reduce((s,a)=>{if(oke(o.keys,a)){const l=ske(r.containerQueries?r:uke,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||CR).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function pte(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function gte(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function cke(t,...e){const n=pte(t),r=[n,...e].reduce((i,o)=>Ei(i,o),{});return gte(Object.keys(n),r)}function dke(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Dk({values:t,breakpoints:e,base:n}){const r=n||dke(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function Ne(t){if(typeof t!="string")throw new Error(Jc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Cf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function UT(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Cf(t,n)||r,e&&(i=e(i,r,t)),i}function qr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=Cf(l,r)||{};return al(s,a,d=>{let h=UT(u,i,d);return d===h&&typeof d=="string"&&(h=UT(u,i,`${e}${d==="default"?"":Ne(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function fke(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const hke={m:"margin",p:"padding"},pke={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},X9={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gke=fke(t=>{if(t.length>2)if(X9[t])t=X9[t];else return[t];const[e,n]=t.split(""),r=hke[e],i=pke[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),e4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],t4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...e4,...t4];function SS(t,e,n,r){const i=Cf(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function TR(t){return SS(t,"spacing",8)}function Yp(t,e){return typeof e=="string"||e==null?e:t(e)}function mke(t,e){return n=>t.reduce((r,i)=>(r[i]=Yp(e,n),r),{})}function yke(t,e,n,r){if(!e.includes(n))return null;const i=gke(n),o=mke(i,r),s=t[n];return al(t,s,o)}function mte(t,e){const n=TR(t.theme);return Object.keys(t).map(r=>yke(t,e,r,n)).reduce(Pw,{})}function Mr(t){return mte(t,e4)}Mr.propTypes={};Mr.filterProps=e4;function Nr(t){return mte(t,t4)}Nr.propTypes={};Nr.filterProps=t4;function yte(t=8,e=TR({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function AR(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Pw(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function sa(t){return typeof t!="number"?t:`${t}px solid`}function va(t,e){return qr({prop:t,themeKey:"borders",transform:e})}const vke=va("border",sa),bke=va("borderTop",sa),wke=va("borderRight",sa),xke=va("borderBottom",sa),_ke=va("borderLeft",sa),Ske=va("borderColor"),Eke=va("borderTopColor"),Cke=va("borderRightColor"),Tke=va("borderBottomColor"),Ake=va("borderLeftColor"),Rke=va("outline",sa),Pke=va("outlineColor"),RR=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=SS(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yp(e,r)});return al(t,t.borderRadius,n)}return null};RR.propTypes={};RR.filterProps=["borderRadius"];AR(vke,bke,wke,xke,_ke,Ske,Eke,Cke,Tke,Ake,RR,Rke,Pke);const PR=t=>{if(t.gap!==void 0&&t.gap!==null){const e=SS(t.theme,"spacing",8),n=r=>({gap:Yp(e,r)});return al(t,t.gap,n)}return null};PR.propTypes={};PR.filterProps=["gap"];const IR=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=SS(t.theme,"spacing",8),n=r=>({columnGap:Yp(e,r)});return al(t,t.columnGap,n)}return null};IR.propTypes={};IR.filterProps=["columnGap"];const kR=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=SS(t.theme,"spacing",8),n=r=>({rowGap:Yp(e,r)});return al(t,t.rowGap,n)}return null};kR.propTypes={};kR.filterProps=["rowGap"];const Ike=qr({prop:"gridColumn"}),kke=qr({prop:"gridRow"}),Mke=qr({prop:"gridAutoFlow"}),Nke=qr({prop:"gridAutoColumns"}),Dke=qr({prop:"gridAutoRows"}),Lke=qr({prop:"gridTemplateColumns"}),Oke=qr({prop:"gridTemplateRows"}),Fke=qr({prop:"gridTemplateAreas"}),$ke=qr({prop:"gridArea"});AR(PR,IR,kR,Ike,kke,Mke,Nke,Dke,Lke,Oke,Fke,$ke);function _y(t,e){return e==="grey"?e:t}const Bke=qr({prop:"color",themeKey:"palette",transform:_y}),Vke=qr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_y}),zke=qr({prop:"backgroundColor",themeKey:"palette",transform:_y});AR(Bke,Vke,zke);function Ds(t){return t<=1&&t!==0?`${t*100}%`:t}const Uke=qr({prop:"width",transform:Ds}),n4=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||CR[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ds(n)}};return al(t,t.maxWidth,e)}return null};n4.filterProps=["maxWidth"];const Hke=qr({prop:"minWidth",transform:Ds}),qke=qr({prop:"height",transform:Ds}),jke=qr({prop:"maxHeight",transform:Ds}),Wke=qr({prop:"minHeight",transform:Ds});qr({prop:"size",cssProperty:"width",transform:Ds});qr({prop:"size",cssProperty:"height",transform:Ds});const Gke=qr({prop:"boxSizing"});AR(Uke,n4,Hke,qke,jke,Wke,Gke);const ES={border:{themeKey:"borders",transform:sa},borderTop:{themeKey:"borders",transform:sa},borderRight:{themeKey:"borders",transform:sa},borderBottom:{themeKey:"borders",transform:sa},borderLeft:{themeKey:"borders",transform:sa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:sa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:RR},color:{themeKey:"palette",transform:_y},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_y},backgroundColor:{themeKey:"palette",transform:_y},p:{style:Nr},pt:{style:Nr},pr:{style:Nr},pb:{style:Nr},pl:{style:Nr},px:{style:Nr},py:{style:Nr},padding:{style:Nr},paddingTop:{style:Nr},paddingRight:{style:Nr},paddingBottom:{style:Nr},paddingLeft:{style:Nr},paddingX:{style:Nr},paddingY:{style:Nr},paddingInline:{style:Nr},paddingInlineStart:{style:Nr},paddingInlineEnd:{style:Nr},paddingBlock:{style:Nr},paddingBlockStart:{style:Nr},paddingBlockEnd:{style:Nr},m:{style:Mr},mt:{style:Mr},mr:{style:Mr},mb:{style:Mr},ml:{style:Mr},mx:{style:Mr},my:{style:Mr},margin:{style:Mr},marginTop:{style:Mr},marginRight:{style:Mr},marginBottom:{style:Mr},marginLeft:{style:Mr},marginX:{style:Mr},marginY:{style:Mr},marginInline:{style:Mr},marginInlineStart:{style:Mr},marginInlineEnd:{style:Mr},marginBlock:{style:Mr},marginBlockStart:{style:Mr},marginBlockEnd:{style:Mr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:PR},rowGap:{style:kR},columnGap:{style:IR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ds},maxWidth:{style:n4},minWidth:{transform:Ds},height:{transform:Ds},maxHeight:{transform:Ds},minHeight:{transform:Ds},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Kke(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Yke(t,e){return typeof t=="function"?t(e):t}function Xke(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Cf(i,u)||{};return d?d(s):al(s,r,m=>{let y=UT(h,c,m);return m===y&&typeof m=="string"&&(y=UT(h,c,`${n}${m==="default"?"":Ne(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??ES;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=pte(i.breakpoints),c=Object.keys(u);let d=u;return Object.keys(l).forEach(h=>{const p=Yke(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])d=Pw(d,t(h,p,i,o));else{const m=al({theme:i},p,y=>({[h]:y}));Kke(m,p)?d[h]=e({sx:p,theme:i}):d=Pw(d,m)}else d=Pw(d,t(h,p,i,o))}),ike(i,gte(c,d))}return Array.isArray(r)?r.map(s):s(r)}return e}const Xp=Xke();Xp.filterProps=["sx"];function Jke(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function MR(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=rke(n),l=yte(i);let u=Ei({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...lke,...o}},s);return u=ake(u),u.applyStyles=Jke,u=e.reduce((c,d)=>Ei(c,d),u),u.unstable_sxConfig={...ES,...s==null?void 0:s.unstable_sxConfig},u.unstable_sx=function(d){return Xp({sx:d,theme:this})},u}function Qke(t){return Object.keys(t).length===0}function Zke(t=null){const e=F.useContext(ER);return!e||Qke(e)?t:e}const eMe=MR();function NR(t=eMe){return Zke(t)}function tMe({styles:t,themeId:e,defaultTheme:n={}}){const r=NR(n),i=typeof t=="function"?t(e&&r[e]||r):t;return O.jsx(QIe,{styles:i})}const nMe=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??ES;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function r4(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=nMe(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return su(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const J9=t=>t,rMe=()=>{let t=J9;return{configure(e){t=e},generate(e){return t(e)},reset(){t=J9}}},vte=rMe();function bte(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=bte(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=bte(t))&&(r&&(r+=" "),r+=e);return r}function iMe(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=dte("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Xp);return F.forwardRef(function(l,u){const c=NR(n),{className:d,component:h="div",...p}=r4(l);return O.jsx(o,{as:h,ref:u,className:Je(d,i?i(r):r),theme:e&&c[e]||c,...p})})}const oMe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function kt(t,e,n="Mui"){const r=oMe[e];return r?`${n}-${r}`:`${vte.generate(t)}-${e}`}function Mt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=kt(t,i,n)}),r}function wte(t){const{variants:e,...n}=t,r={variants:e,style:W9(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=W9(i.style))}),r}const sMe=MR();function Lk(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function aMe(t){return t?(e,n)=>n[t]:null}function lMe(t,e,n){t.theme=cMe(t.theme)?n:t.theme[e]||t.theme}function wC(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>wC(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return xte(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function xte(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function _te(t={}){const{themeId:e,defaultTheme:n=sMe,rootShouldForwardProp:r=Lk,slotShouldForwardProp:i=Lk}=t;function o(a){lMe(a,e,n)}return(a,l={})=>{ZIe(a,I=>I.filter(N=>N!==Xp));const{name:u,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:p=aMe(fMe(c)),...m}=l,y=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,w=h||!1;let _=Lk;c==="Root"||c==="root"?_=r:c?_=i:dMe(a)&&(_=void 0);const E=dte(a,{shouldForwardProp:_,label:uMe(),...m}),S=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(P){return wC(P,I)};if(su(I)){const N=wte(I);return N.variants?function(M){return wC(M,N)}:N.style}return I},T=(...I)=>{const N=[],P=I.map(S),M=[];if(N.push(o),u&&p&&M.push(function(V){var K,J;const z=(J=(K=V.theme.components)==null?void 0:K[u])==null?void 0:J.styleOverrides;if(!z)return null;const G={};for(const ee in z)G[ee]=wC(V,z[ee]);return p(V,G)}),u&&!y&&M.push(function(V){var G,K;const $=V.theme,z=(K=(G=$==null?void 0:$.components)==null?void 0:G[u])==null?void 0:K.variants;return z?xte(V,z):null}),w||M.push(Xp),Array.isArray(P[0])){const L=P.shift(),V=new Array(N.length).fill(""),$=new Array(M.length).fill("");let z;z=[...V,...L,...$],z.raw=[...V,...L.raw,...$],N.unshift(z)}const D=[...N,...P,...M],k=E(...D);return a.muiName&&(k.muiName=a.muiName),k};return E.withConfig&&(T.withConfig=E.withConfig),T}}function uMe(t,e){return void 0}function cMe(t){for(const e in t)return!1;return!0}function dMe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function fMe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const hMe=_te();function hx(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=hx(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function pMe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:hx(e.components[n].defaultProps,r)}function gMe({props:t,name:e,defaultTheme:n,themeId:r}){let i=NR(n);return r&&(i=i[r]||i),pMe({theme:i,name:e,props:t})}const ll=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Ste(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function i4(t,e=0,n=1){return Ste(t,e,n)}function mMe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vf(t){if(t.type)return t;if(t.charAt(0)==="#")return Vf(mMe(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Jc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Jc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const yMe=t=>{const e=Vf(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Gb=(t,e)=>{try{return yMe(t)}catch{return t}};function DR(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Ete(t){t=Vf(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),DR({type:a,values:l})}function _O(t){t=Vf(t);let e=t.type==="hsl"||t.type==="hsla"?Vf(Ete(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function vMe(t,e){const n=_O(t),r=_O(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function tn(t,e){return t=Vf(t),e=i4(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,DR(t)}function x1(t,e,n){try{return tn(t,e)}catch{return t}}function CS(t,e){if(t=Vf(t),e=i4(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return DR(t)}function tr(t,e,n){try{return CS(t,e)}catch{return t}}function TS(t,e){if(t=Vf(t),e=i4(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return DR(t)}function nr(t,e,n){try{return TS(t,e)}catch{return t}}function HT(t,e=.15){return _O(t)>.5?CS(t,e):TS(t,e)}function _1(t,e,n){try{return HT(t,e)}catch{return t}}function Q9(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Cte(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Iw(t,e){var n,r,i;return F.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function zs(t){return t&&t.ownerDocument||document}function Qc(t){return zs(t).defaultView||window}function Z9(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let eq=0;function bMe(t){const[e,n]=F.useState(t),r=t||e;return F.useEffect(()=>{e==null&&(eq+=1,n(`mui-${eq}`))},[e]),r}const wMe={...mL},tq=wMe.useId;function m0(t){if(tq!==void 0){const e=tq();return t??e}return bMe(t)}function px({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=F.useRef(t!==void 0),[o,s]=F.useState(e),a=i?t:o,l=F.useCallback(u=>{i||s(u)},[]);return[a,l]}function Vc(t){const e=F.useRef(t);return ll(()=>{e.current=t}),F.useRef((...n)=>(0,e.current)(...n)).current}function Ir(...t){const e=F.useRef(void 0),n=F.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},t);return F.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const nq={};function Tte(t,e){const n=F.useRef(nq);return n.current===nq&&(n.current=t(e)),n}const xMe=[];function _Me(t){F.useEffect(t,xMe)}class LR{constructor(){ht(this,"currentId",null);ht(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ht(this,"disposeEffect",()=>this.clear)}static create(){return new LR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Oh(){const t=Tte(LR.create).current;return _Me(t.disposeEffect),t}function Wv(t){try{return t.matches(":focus-visible")}catch{}return!1}function Ate(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Nt(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const u=o[l];u&&(s+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[i]=s}return r}function SMe(t){return typeof t=="string"}function Rte(t,e,n){return t===void 0||SMe(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Pte(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function rq(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Ite(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Je(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...n,...i,...r};return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const s=Pte({...i,...r}),a=rq(r),l=rq(i),u=e(s),c=Je(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...u,...n,...l,...a};return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}function kte(t,e,n){return typeof t=="function"?t(e,n):t}function o4(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:kte(n,r),{props:a,internalRef:l}=Ite({...o,externalSlotProps:s}),u=Ir(l,s==null?void 0:s.ref,(d=t.additionalProps)==null?void 0:d.ref);return Rte(e,{...a,ref:u},r)}function hg(t){var e;return parseInt(F.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const EMe=F.createContext(),s4=()=>F.useContext(EMe)??!1,CMe=F.createContext(void 0);function TMe(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?hx(i.defaultProps,r):!i.styleOverrides&&!i.variants?hx(i,r):r}function AMe({props:t,name:e}){const n=F.useContext(CMe);return TMe({props:t,name:e,theme:{components:n}})}const iq={theme:void 0};function RMe(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(iq.theme=i.theme,o=wte(t(iq)),e=o,n=i.theme),o}}function PMe(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const oq=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},IMe=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},kMe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Ok(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return IMe(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`,d=kMe(a,l);Object.assign(i,{[c]:d}),oq(o,a,`var(${c})`,u),oq(s,a,`var(${c}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function MMe(t,e={}){const{getSelector:n=w,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:u,css:c,varsWithDefaults:d}=Ok(l,e);let h=d;const p={},{[a]:m,...y}=o;if(Object.entries(y||{}).forEach(([S,T])=>{const{vars:I,css:N,varsWithDefaults:P}=Ok(T,e);h=Ei(h,P),p[S]={css:N,vars:I}}),m){const{css:S,vars:T,varsWithDefaults:I}=Ok(m,e);h=Ei(h,I),p[a]={css:S,vars:T}}function w(S,T){var N,P;let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),S){if(I==="media")return t.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((P=(N=o[S])==null?void 0:N.palette)==null?void 0:P.mode)||S})`]:{":root":T}};if(I)return t.defaultColorScheme===S?`:root, ${I.replace("%s",String(S))}`:I.replace("%s",String(S))}return":root"}return{vars:h,generateThemeVars:()=>{let S={...u};return Object.entries(p).forEach(([,{vars:T}])=>{S=Ei(S,T)}),S},generateStyleSheets:()=>{var M,D;const S=[],T=t.defaultColorScheme||"light";function I(k,L){Object.keys(L).length&&S.push(typeof k=="string"?{[k]:{...L}}:k)}I(n(void 0,{...c}),c);const{[T]:N,...P}=p;if(N){const{css:k}=N,L=(D=(M=o[T])==null?void 0:M.palette)==null?void 0:D.mode,V=!r&&L?{colorScheme:L,...k}:{...k};I(n(T,{...V}),V)}return Object.entries(P).forEach(([k,{css:L}])=>{var z,G;const V=(G=(z=o[k])==null?void 0:z.palette)==null?void 0:G.mode,$=!r&&V?{colorScheme:V,...L}:{...L};I(n(k,{...$}),$)}),S}}}function NMe(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const DMe=MR(),LMe=hMe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function OMe(t){return gMe({props:t,name:"MuiStack",defaultTheme:DMe})}function FMe(t,e){const n=F.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(F.cloneElement(e,{key:`separator-${o}`})),r),[])}const $Me=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],BMe=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...al({theme:e},Dk({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=TR(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),o=Dk({values:t.direction,base:i}),s=Dk({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const h=u>0?o[c[u-1]]:"column";o[l]=h}}),n=Ei(n,al({theme:e},s,(l,u)=>t.useFlexGap?{gap:Yp(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${$Me(u?o[u]:t.direction)}`]:Yp(r,l)}}))}return n=cke(e.breakpoints,n),n};function VMe(t={}){const{createStyledComponent:e=LMe,useThemeProps:n=OMe,componentName:r="MuiStack"}=t,i=()=>Nt({root:["root"]},l=>kt(r,l),{}),o=e(BMe);return F.forwardRef(function(l,u){const c=n(l),d=r4(c),{component:h="div",direction:p="column",spacing:m=0,divider:y,children:w,className:_,useFlexGap:E=!1,...S}=d,T={direction:p,spacing:m,useFlexGap:E},I=i();return O.jsx(o,{as:h,ownerState:T,ref:u,className:Je(I.root,_),...S,children:y?FMe(w,y):w})})}function Mte(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ux.white,default:ux.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const zMe=Mte();function Nte(){return{text:{primary:ux.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ux.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const sq=Nte();function aq(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=TS(t.main,i):e==="dark"&&(t.dark=CS(t.main,o)))}function UMe(t="light"){return t==="dark"?{main:bm[200],light:bm[50],dark:bm[400]}:{main:bm[700],light:bm[400],dark:bm[800]}}function HMe(t="light"){return t==="dark"?{main:vm[200],light:vm[50],dark:vm[400]}:{main:vm[500],light:vm[300],dark:vm[700]}}function qMe(t="light"){return t==="dark"?{main:ym[500],light:ym[300],dark:ym[700]}:{main:ym[700],light:ym[400],dark:ym[800]}}function jMe(t="light"){return t==="dark"?{main:wm[400],light:wm[300],dark:wm[700]}:{main:wm[700],light:wm[500],dark:wm[900]}}function WMe(t="light"){return t==="dark"?{main:xm[400],light:xm[300],dark:xm[700]}:{main:xm[800],light:xm[500],dark:xm[900]}}function GMe(t="light"){return t==="dark"?{main:cb[400],light:cb[300],dark:cb[700]}:{main:"#ed6c02",light:cb[500],dark:cb[900]}}function a4(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||UMe(e),s=t.secondary||HMe(e),a=t.error||qMe(e),l=t.info||jMe(e),u=t.success||WMe(e),c=t.warning||GMe(e);function d(y){return vMe(y,sq.text.primary)>=n?sq.text.primary:zMe.text.primary}const h=({color:y,name:w,mainShade:_=500,lightShade:E=300,darkShade:S=700})=>{if(y={...y},!y.main&&y[_]&&(y.main=y[_]),!y.hasOwnProperty("main"))throw new Error(Jc(11,w?` (${w})`:"",_));if(typeof y.main!="string")throw new Error(Jc(12,w?` (${w})`:"",JSON.stringify(y.main)));return aq(y,"light",E,r),aq(y,"dark",S,r),y.contrastText||(y.contrastText=d(y.main)),y};let p;return e==="light"?p=Mte():e==="dark"&&(p=Nte()),Ei({common:{...ux},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:XPe,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function KMe(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function YMe(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function XMe(t){return Math.round(t*1e5)/1e5}const lq={textTransform:"uppercase"},uq='"Roboto", "Helvetica", "Arial", sans-serif';function JMe(t,e){const{fontFamily:n=uq,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...d}=typeof e=="function"?e(t):e,h=r/14,p=c||(w=>`${w/l*h}rem`),m=(w,_,E,S,T)=>({fontFamily:n,fontWeight:w,fontSize:p(_),lineHeight:E,...n===uq?{letterSpacing:`${XMe(S/_)}em`}:{},...T,...u}),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,lq),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,lq),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ei({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...y},d,{clone:!1})}const QMe=.2,ZMe=.14,e2e=.12;function vr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${QMe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${ZMe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${e2e})`].join(",")}const t2e=["none",vr(0,2,1,-1,0,1,1,0,0,1,3,0),vr(0,3,1,-2,0,2,2,0,0,1,5,0),vr(0,3,3,-2,0,3,4,0,0,1,8,0),vr(0,2,4,-1,0,4,5,0,0,1,10,0),vr(0,3,5,-1,0,5,8,0,0,1,14,0),vr(0,3,5,-1,0,6,10,0,0,1,18,0),vr(0,4,5,-2,0,7,10,1,0,2,16,1),vr(0,5,5,-3,0,8,10,1,0,3,14,2),vr(0,5,6,-3,0,9,12,1,0,3,16,2),vr(0,6,6,-3,0,10,14,1,0,4,18,3),vr(0,6,7,-4,0,11,15,1,0,4,20,3),vr(0,7,8,-4,0,12,17,2,0,5,22,4),vr(0,7,8,-4,0,13,19,2,0,5,24,4),vr(0,7,9,-4,0,14,21,2,0,5,26,4),vr(0,8,9,-5,0,15,22,2,0,6,28,5),vr(0,8,10,-5,0,16,24,2,0,6,30,5),vr(0,8,11,-5,0,17,26,2,0,6,32,5),vr(0,9,11,-5,0,18,28,2,0,7,34,6),vr(0,9,12,-6,0,19,29,2,0,7,36,6),vr(0,10,13,-6,0,20,31,3,0,8,38,7),vr(0,10,13,-6,0,21,33,3,0,8,40,7),vr(0,10,14,-6,0,22,35,3,0,8,42,7),vr(0,11,14,-7,0,23,36,3,0,9,44,8),vr(0,11,15,-7,0,24,38,3,0,9,46,8)],n2e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},r2e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function cq(t){return`${Math.round(t)}ms`}function i2e(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function o2e(t){const e={...n2e,...t.easing},n={...r2e,...t.duration};return{getAutoHeightDuration:i2e,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=o;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:cq(s)} ${a} ${typeof l=="string"?l:cq(l)}`).join(",")},...t,easing:e,duration:n}}const s2e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function a2e(t){return su(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Dte(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!a2e(a)||s.startsWith("unstable_")?delete r[s]:su(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function SO(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Jc(20));const c=a4(o),d=MR(t);let h=Ei(d,{mixins:YMe(d.breakpoints,r),palette:c,shadows:t2e.slice(),typography:JMe(c,a),transitions:o2e(s),zIndex:{...s2e}});return h=Ei(h,u),h=e.reduce((p,m)=>Ei(p,m),h),h.unstable_sxConfig={...ES,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(m){return Xp({sx:m,theme:this})},h.toRuntimeSource=Dte,h}function EO(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const l2e=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=EO(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Lte(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Ote(t){return t==="dark"?l2e:[]}function u2e(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=a4(e);return{palette:o,opacity:{...Lte(o.mode),...n},overlays:r||Ote(o.mode),...i}}function c2e(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const d2e=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],f2e=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return d2e(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function h2e(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Pe(t,e,n){!t[e]&&n&&(t[e]=n)}function Kb(t){return typeof t!="string"||!t.startsWith("hsl")?t:Ete(t)}function Qu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Gb(Kb(t[e])))}function p2e(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Nl=t=>{try{return t()}catch{}},g2e=(t="mui")=>PMe(t);function Fk(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=u2e({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=SO({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...Lte(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Ote(i)},s}function m2e(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=c2e,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(n)[0],d=r||(n.light&&c!=="light"?"light":c),h=g2e(o),{[d]:p,light:m,dark:y,...w}=n,_={...w};let E=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(E=!0),!E)throw new Error(Jc(21,d));const S=Fk(_,E,u,d);m&&!_.light&&Fk(_,m,void 0,"light"),y&&!_.dark&&Fk(_,y,void 0,"dark");let T={defaultColorScheme:d,...S,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:_,font:{...KMe(S.typography),...S.font},spacing:p2e(u.spacing)};Object.keys(T.colorSchemes).forEach(D=>{const k=T.colorSchemes[D].palette,L=V=>{const $=V.split("-"),z=$[1],G=$[2];return h(V,k[z][G])};if(k.mode==="light"&&(Pe(k.common,"background","#fff"),Pe(k.common,"onBackground","#000")),k.mode==="dark"&&(Pe(k.common,"background","#000"),Pe(k.common,"onBackground","#fff")),h2e(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){Pe(k.Alert,"errorColor",tr(k.error.light,.6)),Pe(k.Alert,"infoColor",tr(k.info.light,.6)),Pe(k.Alert,"successColor",tr(k.success.light,.6)),Pe(k.Alert,"warningColor",tr(k.warning.light,.6)),Pe(k.Alert,"errorFilledBg",L("palette-error-main")),Pe(k.Alert,"infoFilledBg",L("palette-info-main")),Pe(k.Alert,"successFilledBg",L("palette-success-main")),Pe(k.Alert,"warningFilledBg",L("palette-warning-main")),Pe(k.Alert,"errorFilledColor",Nl(()=>k.getContrastText(k.error.main))),Pe(k.Alert,"infoFilledColor",Nl(()=>k.getContrastText(k.info.main))),Pe(k.Alert,"successFilledColor",Nl(()=>k.getContrastText(k.success.main))),Pe(k.Alert,"warningFilledColor",Nl(()=>k.getContrastText(k.warning.main))),Pe(k.Alert,"errorStandardBg",nr(k.error.light,.9)),Pe(k.Alert,"infoStandardBg",nr(k.info.light,.9)),Pe(k.Alert,"successStandardBg",nr(k.success.light,.9)),Pe(k.Alert,"warningStandardBg",nr(k.warning.light,.9)),Pe(k.Alert,"errorIconColor",L("palette-error-main")),Pe(k.Alert,"infoIconColor",L("palette-info-main")),Pe(k.Alert,"successIconColor",L("palette-success-main")),Pe(k.Alert,"warningIconColor",L("palette-warning-main")),Pe(k.AppBar,"defaultBg",L("palette-grey-100")),Pe(k.Avatar,"defaultBg",L("palette-grey-400")),Pe(k.Button,"inheritContainedBg",L("palette-grey-300")),Pe(k.Button,"inheritContainedHoverBg",L("palette-grey-A100")),Pe(k.Chip,"defaultBorder",L("palette-grey-400")),Pe(k.Chip,"defaultAvatarColor",L("palette-grey-700")),Pe(k.Chip,"defaultIconColor",L("palette-grey-700")),Pe(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Pe(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Pe(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Pe(k.LinearProgress,"primaryBg",nr(k.primary.main,.62)),Pe(k.LinearProgress,"secondaryBg",nr(k.secondary.main,.62)),Pe(k.LinearProgress,"errorBg",nr(k.error.main,.62)),Pe(k.LinearProgress,"infoBg",nr(k.info.main,.62)),Pe(k.LinearProgress,"successBg",nr(k.success.main,.62)),Pe(k.LinearProgress,"warningBg",nr(k.warning.main,.62)),Pe(k.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.11)`),Pe(k.Slider,"primaryTrack",nr(k.primary.main,.62)),Pe(k.Slider,"secondaryTrack",nr(k.secondary.main,.62)),Pe(k.Slider,"errorTrack",nr(k.error.main,.62)),Pe(k.Slider,"infoTrack",nr(k.info.main,.62)),Pe(k.Slider,"successTrack",nr(k.success.main,.62)),Pe(k.Slider,"warningTrack",nr(k.warning.main,.62));const V=_1(k.background.default,.8);Pe(k.SnackbarContent,"bg",V),Pe(k.SnackbarContent,"color",Nl(()=>k.getContrastText(V))),Pe(k.SpeedDialAction,"fabHoverBg",_1(k.background.paper,.15)),Pe(k.StepConnector,"border",L("palette-grey-400")),Pe(k.StepContent,"border",L("palette-grey-400")),Pe(k.Switch,"defaultColor",L("palette-common-white")),Pe(k.Switch,"defaultDisabledColor",L("palette-grey-100")),Pe(k.Switch,"primaryDisabledColor",nr(k.primary.main,.62)),Pe(k.Switch,"secondaryDisabledColor",nr(k.secondary.main,.62)),Pe(k.Switch,"errorDisabledColor",nr(k.error.main,.62)),Pe(k.Switch,"infoDisabledColor",nr(k.info.main,.62)),Pe(k.Switch,"successDisabledColor",nr(k.success.main,.62)),Pe(k.Switch,"warningDisabledColor",nr(k.warning.main,.62)),Pe(k.TableCell,"border",nr(x1(k.divider,1),.88)),Pe(k.Tooltip,"bg",x1(k.grey[700],.92))}if(k.mode==="dark"){Pe(k.Alert,"errorColor",nr(k.error.light,.6)),Pe(k.Alert,"infoColor",nr(k.info.light,.6)),Pe(k.Alert,"successColor",nr(k.success.light,.6)),Pe(k.Alert,"warningColor",nr(k.warning.light,.6)),Pe(k.Alert,"errorFilledBg",L("palette-error-dark")),Pe(k.Alert,"infoFilledBg",L("palette-info-dark")),Pe(k.Alert,"successFilledBg",L("palette-success-dark")),Pe(k.Alert,"warningFilledBg",L("palette-warning-dark")),Pe(k.Alert,"errorFilledColor",Nl(()=>k.getContrastText(k.error.dark))),Pe(k.Alert,"infoFilledColor",Nl(()=>k.getContrastText(k.info.dark))),Pe(k.Alert,"successFilledColor",Nl(()=>k.getContrastText(k.success.dark))),Pe(k.Alert,"warningFilledColor",Nl(()=>k.getContrastText(k.warning.dark))),Pe(k.Alert,"errorStandardBg",tr(k.error.light,.9)),Pe(k.Alert,"infoStandardBg",tr(k.info.light,.9)),Pe(k.Alert,"successStandardBg",tr(k.success.light,.9)),Pe(k.Alert,"warningStandardBg",tr(k.warning.light,.9)),Pe(k.Alert,"errorIconColor",L("palette-error-main")),Pe(k.Alert,"infoIconColor",L("palette-info-main")),Pe(k.Alert,"successIconColor",L("palette-success-main")),Pe(k.Alert,"warningIconColor",L("palette-warning-main")),Pe(k.AppBar,"defaultBg",L("palette-grey-900")),Pe(k.AppBar,"darkBg",L("palette-background-paper")),Pe(k.AppBar,"darkColor",L("palette-text-primary")),Pe(k.Avatar,"defaultBg",L("palette-grey-600")),Pe(k.Button,"inheritContainedBg",L("palette-grey-800")),Pe(k.Button,"inheritContainedHoverBg",L("palette-grey-700")),Pe(k.Chip,"defaultBorder",L("palette-grey-700")),Pe(k.Chip,"defaultAvatarColor",L("palette-grey-300")),Pe(k.Chip,"defaultIconColor",L("palette-grey-300")),Pe(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Pe(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Pe(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Pe(k.LinearProgress,"primaryBg",tr(k.primary.main,.5)),Pe(k.LinearProgress,"secondaryBg",tr(k.secondary.main,.5)),Pe(k.LinearProgress,"errorBg",tr(k.error.main,.5)),Pe(k.LinearProgress,"infoBg",tr(k.info.main,.5)),Pe(k.LinearProgress,"successBg",tr(k.success.main,.5)),Pe(k.LinearProgress,"warningBg",tr(k.warning.main,.5)),Pe(k.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.13)`),Pe(k.Slider,"primaryTrack",tr(k.primary.main,.5)),Pe(k.Slider,"secondaryTrack",tr(k.secondary.main,.5)),Pe(k.Slider,"errorTrack",tr(k.error.main,.5)),Pe(k.Slider,"infoTrack",tr(k.info.main,.5)),Pe(k.Slider,"successTrack",tr(k.success.main,.5)),Pe(k.Slider,"warningTrack",tr(k.warning.main,.5));const V=_1(k.background.default,.98);Pe(k.SnackbarContent,"bg",V),Pe(k.SnackbarContent,"color",Nl(()=>k.getContrastText(V))),Pe(k.SpeedDialAction,"fabHoverBg",_1(k.background.paper,.15)),Pe(k.StepConnector,"border",L("palette-grey-600")),Pe(k.StepContent,"border",L("palette-grey-600")),Pe(k.Switch,"defaultColor",L("palette-grey-300")),Pe(k.Switch,"defaultDisabledColor",L("palette-grey-600")),Pe(k.Switch,"primaryDisabledColor",tr(k.primary.main,.55)),Pe(k.Switch,"secondaryDisabledColor",tr(k.secondary.main,.55)),Pe(k.Switch,"errorDisabledColor",tr(k.error.main,.55)),Pe(k.Switch,"infoDisabledColor",tr(k.info.main,.55)),Pe(k.Switch,"successDisabledColor",tr(k.success.main,.55)),Pe(k.Switch,"warningDisabledColor",tr(k.warning.main,.55)),Pe(k.TableCell,"border",tr(x1(k.divider,1),.68)),Pe(k.Tooltip,"bg",x1(k.grey[700],.92))}Qu(k.background,"default"),Qu(k.background,"paper"),Qu(k.common,"background"),Qu(k.common,"onBackground"),Qu(k,"divider"),Object.keys(k).forEach(V=>{const $=k[V];V!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&Pe(k[V],"mainChannel",Gb(Kb($.main))),$.light&&Pe(k[V],"lightChannel",Gb(Kb($.light))),$.dark&&Pe(k[V],"darkChannel",Gb(Kb($.dark))),$.contrastText&&Pe(k[V],"contrastTextChannel",Gb(Kb($.contrastText))),V==="text"&&(Qu(k[V],"primary"),Qu(k[V],"secondary")),V==="action"&&($.active&&Qu(k[V],"active"),$.selected&&Qu(k[V],"selected")))})}),T=e.reduce((D,k)=>Ei(D,k),T);const I={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:f2e(T)},{vars:N,generateThemeVars:P,generateStyleSheets:M}=MMe(T,I);return T.vars=N,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([D,k])=>{T[D]=k}),T.generateThemeVars=P,T.generateStyleSheets=M,T.generateSpacing=function(){return yte(u.spacing,TR(this))},T.getColorSchemeSelector=NMe(a),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=s,T.unstable_sxConfig={...ES,...u==null?void 0:u.unstable_sxConfig},T.unstable_sx=function(k){return Xp({sx:k,theme:this})},T.toRuntimeSource=Dte,T}function dq(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:a4({...n===!0?{}:n.palette,mode:e})})}function Fte(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return SO(t,...e);let c=n;"palette"in t||u[a]&&(u[a]!==!0?c=u[a].palette:a==="dark"&&(c={mode:"dark"}));const d=SO({...t,palette:c},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},dq(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},dq(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),m2e({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const l4=Fte();function Kf(){const t=NR(l4);return t[wR]||t}function $te(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const co=t=>$te(t)&&t!=="classes",Fe=_te({themeId:wR,defaultTheme:l4,rootShouldForwardProp:co});function y2e(t){return O.jsx(tMe,{...t,defaultTheme:l4,themeId:wR})}function v2e(t){return function(n){return O.jsx(y2e,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function b2e(){return r4}const Lt=RMe;function Ft(t){return AMe(t)}function w2e(t){return kt("MuiSvgIcon",t)}Mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const x2e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ne(e)}`,`fontSize${Ne(n)}`]};return Nt(i,w2e,r)},_2e=Fe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ne(n.color)}`],e[`fontSize${Ne(n.fontSize)}`]]}})(Lt(({theme:t})=>{var e,n,r,i,o,s,a,l,u,c,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var w,_;return{props:{color:y},style:{color:(_=(w=(t.vars??t).palette)==null?void 0:w[y])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(h=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),CO=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,m=F.isValidElement(i)&&i.type==="svg",y={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m},w={};c||(w.viewBox=h);const _=x2e(y);return O.jsxs(_2e,{as:a,className:Je(_.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...w,...p,...m&&i.props,ownerState:y,children:[m?i.props.children:i,d?O.jsx("title",{children:d}):null]})});CO.muiName="SvgIcon";function nn(t,e){function n(r,i){return O.jsx(CO,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=CO.muiName,F.memo(F.forwardRef(n))}function u4(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const o=typeof e=="function"?e(i):e,s=typeof t=="function"?t({...i,...o}):t,a=Je(i==null?void 0:i.className,o==null?void 0:o.className,s==null?void 0:s.className);return{...o,...s,...!!a&&{className:a},...(o==null?void 0:o.style)&&(s==null?void 0:s.style)&&{style:{...o.style,...s.style}},...(o==null?void 0:o.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const n=e,r=Je(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!r&&{className:r},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function Bte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function TO(t,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},TO(t,e)}function Vte(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,TO(t,e)}const fq={disabled:!1},qT=oe.createContext(null);var S2e=function(e){return e.scrollTop},Yb="unmounted",Th="exited",Ah="entering",$m="entered",AO="exiting",hl=function(t){Vte(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Th,o.appearStatus=Ah):l=$m:r.unmountOnExit||r.mountOnEnter?l=Yb:l=Th,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Yb?{status:Th}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ah&&s!==$m&&(o=Ah):(s===Ah||s===$m)&&(o=AO)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ah){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Sf.findDOMNode(this);s&&S2e(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Th&&this.setState({status:Yb})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Sf.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||fq.disabled){this.safeSetState({status:$m},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ah},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:$m},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Sf.findDOMNode(this);if(!o||fq.disabled){this.safeSetState({status:Th},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:AO},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Th},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Sf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Yb)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Bte(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oe.createElement(qT.Provider,{value:null},typeof s=="function"?s(i,a):oe.cloneElement(oe.Children.only(s),a))},e}(oe.Component);hl.contextType=qT;hl.propTypes={};function _m(){}hl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_m,onEntering:_m,onEntered:_m,onExit:_m,onExiting:_m,onExited:_m};hl.UNMOUNTED=Yb;hl.EXITED=Th;hl.ENTERING=Ah;hl.ENTERED=$m;hl.EXITING=AO;function E2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c4(t,e){var n=function(o){return e&&F.isValidElement(o)?e(o):o},r=Object.create(null);return t&&F.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function C2e(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Fh(t,e,n){return n[e]!=null?n[e]:t.props[e]}function T2e(t,e){return c4(t.children,function(n){return F.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Fh(n,"appear",t),enter:Fh(n,"enter",t),exit:Fh(n,"exit",t)})})}function A2e(t,e,n){var r=c4(t.children),i=C2e(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(F.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=F.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=F.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Fh(s,"exit",t),enter:Fh(s,"enter",t)}):!l&&a&&!c?i[o]=F.cloneElement(s,{in:!1}):l&&a&&F.isValidElement(u)&&(i[o]=F.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Fh(s,"exit",t),enter:Fh(s,"enter",t)}))}}),i}var R2e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},P2e={component:"div",childFactory:function(e){return e}},d4=function(t){Vte(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(E2e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?T2e(i,a):A2e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=c4(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=VT({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Bte(i,["component","childFactory"]),l=this.state.contextValue,u=R2e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?oe.createElement(qT.Provider,{value:l},u):oe.createElement(qT.Provider,{value:l},oe.createElement(o,a,u))},e}(oe.Component);d4.propTypes={};d4.defaultProps=P2e;const f4=t=>t.scrollTop;function Gv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function I2e(t){return kt("MuiPaper",t)}Mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const k2e=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Nt(o,I2e,i)},M2e=Fe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Lt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),au=F.forwardRef(function(e,n){var p;const r=Ft({props:e,name:"MuiPaper"}),i=Kf(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:u="elevation",...c}=r,d={...r,component:s,elevation:a,square:l,variant:u},h=k2e(d);return O.jsx(M2e,{as:s,ownerState:d,className:Je(h.root,o),ref:n,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${tn("#fff",EO(a))}, ${tn("#fff",EO(a))})`}},...c.style}})});function on(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:c={[t]:void 0},slotProps:d={[t]:void 0},...h}=o,p=c[t]||r,m=kte(d[t],i),{props:{component:y,...w},internalRef:_}=Ite({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),E=Ir(_,m==null?void 0:m.ref,e.ref),S=t==="root"?y||u:y,T=Rte(p,{...t==="root"&&!u&&!c[t]&&s,...t!=="root"&&!c[t]&&s,...w,...S&&!a&&{as:S},...S&&a&&{component:S},ref:E},i);return[p,T]}class jT{constructor(){ht(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new jT}static use(){const e=Tte(jT.create).current,[n,r]=F.useState(!1);return e.shouldMount=n,e.setShouldMount=r,F.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=D2e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function N2e(){return jT.use()}function D2e(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function L2e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,d]=F.useState(!1),h=Je(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=Je(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),F.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,a,u]),O.jsx("span",{className:h,style:p,children:O.jsx("span",{className:m})})}const oa=Mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),RO=550,O2e=80,F2e=_S`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,$2e=_S`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,B2e=_S`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,V2e=Fe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),z2e=Fe(L2e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${oa.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${F2e};
    animation-duration: ${RO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${oa.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${oa.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${oa.childLeaving} {
    opacity: 0;
    animation-name: ${$2e};
    animation-duration: ${RO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${oa.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${B2e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,U2e=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,u]=F.useState([]),c=F.useRef(0),d=F.useRef(null);F.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=F.useRef(!1),p=Oh(),m=F.useRef(null),y=F.useRef(null),w=F.useCallback(T=>{const{pulsate:I,rippleX:N,rippleY:P,rippleSize:M,cb:D}=T;u(k=>[...k,O.jsx(z2e,{classes:{ripple:Je(o.ripple,oa.ripple),rippleVisible:Je(o.rippleVisible,oa.rippleVisible),ripplePulsate:Je(o.ripplePulsate,oa.ripplePulsate),child:Je(o.child,oa.child),childLeaving:Je(o.childLeaving,oa.childLeaving),childPulsate:Je(o.childPulsate,oa.childPulsate)},timeout:RO,pulsate:I,rippleX:N,rippleY:P,rippleSize:M},c.current)]),c.current+=1,d.current=D},[o]),_=F.useCallback((T={},I={},N=()=>{})=>{const{pulsate:P=!1,center:M=i||I.pulsate,fakeElement:D=!1}=I;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const k=D?null:y.current,L=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,$,z;if(M||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)V=Math.round(L.width/2),$=Math.round(L.height/2);else{const{clientX:G,clientY:K}=T.touches&&T.touches.length>0?T.touches[0]:T;V=Math.round(G-L.left),$=Math.round(K-L.top)}if(M)z=Math.sqrt((2*L.width**2+L.height**2)/3),z%2===0&&(z+=1);else{const G=Math.max(Math.abs((k?k.clientWidth:0)-V),V)*2+2,K=Math.max(Math.abs((k?k.clientHeight:0)-$),$)*2+2;z=Math.sqrt(G**2+K**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{w({pulsate:P,rippleX:V,rippleY:$,rippleSize:z,cb:N})},p.start(O2e,()=>{m.current&&(m.current(),m.current=null)})):w({pulsate:P,rippleX:V,rippleY:$,rippleSize:z,cb:N})},[i,w,p]),E=F.useCallback(()=>{_({},{pulsate:!0})},[_]),S=F.useCallback((T,I)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{S(T,I)});return}m.current=null,u(N=>N.length>0?N.slice(1):N),d.current=I},[p]);return F.useImperativeHandle(n,()=>({pulsate:E,start:_,stop:S}),[E,_,S]),O.jsx(V2e,{className:Je(oa.root,o.root,s),ref:y,...a,children:O.jsx(d4,{component:null,exit:!0,children:l})})});function H2e(t){return kt("MuiButtonBase",t)}const q2e=Mt("MuiButtonBase",["root","disabled","focusVisible"]),j2e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Nt({root:["root",e&&"disabled",n&&"focusVisible"]},H2e,i);return n&&r&&(s.root+=` ${r}`),s},W2e=Fe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${q2e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zc=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:y,onClick:w,onContextMenu:_,onDragLeave:E,onFocus:S,onFocusVisible:T,onKeyDown:I,onKeyUp:N,onMouseDown:P,onMouseLeave:M,onMouseUp:D,onTouchEnd:k,onTouchMove:L,onTouchStart:V,tabIndex:$=0,TouchRippleProps:z,touchRippleRef:G,type:K,...J}=r,ee=F.useRef(null),X=N2e(),j=Ir(X.ref,G),[Q,ue]=F.useState(!1);u&&Q&&ue(!1),F.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),ee.current.focus()}}),[]);const q=X.shouldMount&&!c&&!u;F.useEffect(()=>{Q&&h&&!c&&X.pulsate()},[c,h,Q,X]);const Y=Zu(X,"start",P,d),te=Zu(X,"stop",_,d),le=Zu(X,"stop",E,d),de=Zu(X,"stop",D,d),se=Zu(X,"stop",ke=>{Q&&ke.preventDefault(),M&&M(ke)},d),ce=Zu(X,"start",V,d),fe=Zu(X,"stop",k,d),ye=Zu(X,"stop",L,d),we=Zu(X,"stop",ke=>{Wv(ke.target)||ue(!1),y&&y(ke)},!1),Re=Vc(ke=>{ee.current||(ee.current=ke.currentTarget),Wv(ke.target)&&(ue(!0),T&&T(ke)),S&&S(ke)}),Ae=()=>{const ke=ee.current;return l&&l!=="button"&&!(ke.tagName==="A"&&ke.href)},be=Vc(ke=>{h&&!ke.repeat&&Q&&ke.key===" "&&X.stop(ke,()=>{X.start(ke)}),ke.target===ke.currentTarget&&Ae()&&ke.key===" "&&ke.preventDefault(),I&&I(ke),ke.target===ke.currentTarget&&Ae()&&ke.key==="Enter"&&!u&&(ke.preventDefault(),w&&w(ke))}),Ke=Vc(ke=>{h&&ke.key===" "&&Q&&!ke.defaultPrevented&&X.stop(ke,()=>{X.pulsate(ke)}),N&&N(ke),w&&ke.target===ke.currentTarget&&Ae()&&ke.key===" "&&!ke.defaultPrevented&&w(ke)});let Ve=l;Ve==="button"&&(J.href||J.to)&&(Ve=m);const Oe={};Ve==="button"?(Oe.type=K===void 0?"button":K,Oe.disabled=u):(!J.href&&!J.to&&(Oe.role="button"),u&&(Oe["aria-disabled"]=u));const Me=Ir(n,ee),je={...r,centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:$,focusVisible:Q},wt=j2e(je);return O.jsxs(W2e,{as:Ve,className:Je(wt.root,a),ownerState:je,onBlur:we,onClick:w,onContextMenu:te,onFocus:Re,onKeyDown:be,onKeyUp:Ke,onMouseDown:Y,onMouseLeave:se,onMouseUp:de,onDragLeave:le,onTouchEnd:fe,onTouchMove:ye,onTouchStart:ce,ref:Me,tabIndex:u?-1:$,type:K,...Oe,...J,children:[s,q?O.jsx(U2e,{ref:j,center:o,...z}):null]})});function Zu(t,e,n,r=!1){return Vc(i=>(n&&n(i),r||t[e](i),!0))}function G2e(t){return typeof t.main=="string"}function K2e(t,e=[]){if(!G2e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Si(t=[]){return([,e])=>e&&K2e(e,t)}function Y2e(t){return kt("MuiCircularProgress",t)}Mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Vd=44,PO=_S`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,IO=_S`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,X2e=typeof PO!="string"?Q5`
        animation: ${PO} 1.4s linear infinite;
      `:null,J2e=typeof IO!="string"?Q5`
        animation: ${IO} 1.4s ease-in-out infinite;
      `:null,Q2e=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${Ne(r)}`],svg:["svg"],circle:["circle",`circle${Ne(n)}`,i&&"circleDisableShrink"]};return Nt(o,Y2e,e)},Z2e=Fe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ne(n.color)}`]]}})(Lt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:X2e||{animation:`${PO} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),eNe=Fe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),tNe=Fe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ne(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Lt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:J2e||{animation:`${IO} 1.4s ease-in-out infinite`}}]}))),h4=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:u,value:c,variant:d},m=Q2e(p),y={},w={},_={};if(d==="determinate"){const E=2*Math.PI*((Vd-u)/2);y.strokeDasharray=E.toFixed(3),_["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*E).toFixed(3)}px`,w.transform="rotate(-90deg)"}return O.jsx(Z2e,{className:Je(m.root,i),style:{width:a,height:a,...w,...l},ownerState:p,ref:n,role:"progressbar",..._,...h,children:O.jsx(eNe,{className:m.svg,ownerState:p,viewBox:`${Vd/2} ${Vd/2} ${Vd} ${Vd}`,children:O.jsx(tNe,{className:m.circle,style:y,ownerState:p,cx:Vd,cy:Vd,r:(Vd-u)/2,fill:"none",strokeWidth:u})})})});function nNe(t){return kt("MuiIconButton",t)}const hq=Mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),rNe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Ne(r)}`,i&&`edge${Ne(i)}`,`size${Ne(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Nt(a,nNe,e)},iNe=Fe(Zc,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ne(n.color)}`],n.edge&&e[`edge${Ne(n.edge)}`],e[`size${Ne(n.size)}`]]}})(Lt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Lt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tn((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${hq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${hq.loading}`]:{color:"transparent"}}))),oNe=Fe("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Yo=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium",id:d,loading:h=null,loadingIndicator:p,...m}=r,y=m0(d),w=p??O.jsx(h4,{"aria-labelledby":y,color:"inherit",size:16}),_={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:h,loadingIndicator:w,size:c},E=rNe(_);return O.jsxs(iNe,{id:h?y:d,className:Je(E.root,s),centerRipple:!0,focusRipple:!u,disabled:l||h,ref:n,...m,ownerState:_,children:[typeof h=="boolean"&&O.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:O.jsx(oNe,{className:E.loadingIndicator,ownerState:_,children:h&&w})}),o]})});function sNe(t){return kt("MuiTypography",t)}const pq=Mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),aNe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},lNe=b2e(),uNe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${Ne(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Nt(a,sNe,s)},cNe=Fe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ne(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Lt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Si()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ne(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),gq={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},nt=F.forwardRef(function(e,n){const{color:r,...i}=Ft({props:e,name:"MuiTypography"}),o=!aNe[r],s=lNe({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=gq,...y}=s,w={...s,align:a,color:r,className:l,component:u,gutterBottom:c,noWrap:d,paragraph:h,variant:p,variantMapping:m},_=u||(h?"p":m[p]||gq[p])||"span",E=uNe(w);return O.jsx(cNe,{as:_,ref:n,className:Je(E.root,l),...y,ownerState:w,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});var ns="top",pa="bottom",ga="right",rs="left",p4="auto",AS=[ns,pa,ga,rs],Kv="start",gx="end",dNe="clippingParents",zte="viewport",fb="popper",fNe="reference",mq=AS.reduce(function(t,e){return t.concat([e+"-"+Kv,e+"-"+gx])},[]),Ute=[].concat(AS,[p4]).reduce(function(t,e){return t.concat([e,e+"-"+Kv,e+"-"+gx])},[]),hNe="beforeRead",pNe="read",gNe="afterRead",mNe="beforeMain",yNe="main",vNe="afterMain",bNe="beforeWrite",wNe="write",xNe="afterWrite",_Ne=[hNe,pNe,gNe,mNe,yNe,vNe,bNe,wNe,xNe];function Au(t){return t?(t.nodeName||"").toLowerCase():null}function Us(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Jp(t){var e=Us(t).Element;return t instanceof e||t instanceof Element}function ha(t){var e=Us(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function g4(t){if(typeof ShadowRoot>"u")return!1;var e=Us(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function SNe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ha(o)||!Au(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function ENe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!ha(i)||!Au(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const CNe={name:"applyStyles",enabled:!0,phase:"write",fn:SNe,effect:ENe,requires:["computeStyles"]};function bu(t){return t.split("-")[0]}var Fp=Math.max,WT=Math.min,Yv=Math.round;function kO(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Hte(){return!/^((?!chrome|android).)*safari/i.test(kO())}function Xv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ha(t)&&(i=t.offsetWidth>0&&Yv(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Yv(r.height)/t.offsetHeight||1);var s=Jp(t)?Us(t):window,a=s.visualViewport,l=!Hte()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function m4(t){var e=Xv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function qte(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&g4(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ed(t){return Us(t).getComputedStyle(t)}function TNe(t){return["table","td","th"].indexOf(Au(t))>=0}function Yf(t){return((Jp(t)?t.ownerDocument:t.document)||window.document).documentElement}function OR(t){return Au(t)==="html"?t:t.assignedSlot||t.parentNode||(g4(t)?t.host:null)||Yf(t)}function yq(t){return!ha(t)||ed(t).position==="fixed"?null:t.offsetParent}function ANe(t){var e=/firefox/i.test(kO()),n=/Trident/i.test(kO());if(n&&ha(t)){var r=ed(t);if(r.position==="fixed")return null}var i=OR(t);for(g4(i)&&(i=i.host);ha(i)&&["html","body"].indexOf(Au(i))<0;){var o=ed(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function RS(t){for(var e=Us(t),n=yq(t);n&&TNe(n)&&ed(n).position==="static";)n=yq(n);return n&&(Au(n)==="html"||Au(n)==="body"&&ed(n).position==="static")?e:n||ANe(t)||e}function y4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function kw(t,e,n){return Fp(t,WT(e,n))}function RNe(t,e,n){var r=kw(t,e,n);return r>n?n:r}function jte(){return{top:0,right:0,bottom:0,left:0}}function Wte(t){return Object.assign({},jte(),t)}function Gte(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var PNe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Wte(typeof e!="number"?e:Gte(e,AS))};function INe(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=bu(n.placement),l=y4(a),u=[rs,ga].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=PNe(i.padding,n),h=m4(o),p=l==="y"?ns:rs,m=l==="y"?pa:ga,y=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],w=s[l]-n.rects.reference[l],_=RS(o),E=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,S=y/2-w/2,T=d[p],I=E-h[c]-d[m],N=E/2-h[c]/2+S,P=kw(T,N,I),M=l;n.modifiersData[r]=(e={},e[M]=P,e.centerOffset=P-N,e)}}function kNe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||qte(e.elements.popper,i)&&(e.elements.arrow=i))}const MNe={name:"arrow",enabled:!0,phase:"main",fn:INe,effect:kNe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jv(t){return t.split("-")[1]}var NNe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DNe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Yv(n*i)/i||0,y:Yv(r*i)/i||0}}function vq(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,y=m===void 0?0:m,w=typeof c=="function"?c({x:p,y}):{x:p,y};p=w.x,y=w.y;var _=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),S=rs,T=ns,I=window;if(u){var N=RS(n),P="clientHeight",M="clientWidth";if(N===Us(n)&&(N=Yf(n),ed(N).position!=="static"&&a==="absolute"&&(P="scrollHeight",M="scrollWidth")),N=N,i===ns||(i===rs||i===ga)&&o===gx){T=pa;var D=d&&N===I&&I.visualViewport?I.visualViewport.height:N[P];y-=D-r.height,y*=l?1:-1}if(i===rs||(i===ns||i===pa)&&o===gx){S=ga;var k=d&&N===I&&I.visualViewport?I.visualViewport.width:N[M];p-=k-r.width,p*=l?1:-1}}var L=Object.assign({position:a},u&&NNe),V=c===!0?DNe({x:p,y},Us(n)):{x:p,y};if(p=V.x,y=V.y,l){var $;return Object.assign({},L,($={},$[T]=E?"0":"",$[S]=_?"0":"",$.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},L,(e={},e[T]=E?y+"px":"",e[S]=_?p+"px":"",e.transform="",e))}function LNe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:bu(e.placement),variation:Jv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vq(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vq(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ONe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:LNe,data:{}};var S1={passive:!0};function FNe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Us(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,S1)}),a&&l.addEventListener("resize",n.update,S1),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,S1)}),a&&l.removeEventListener("resize",n.update,S1)}}const $Ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FNe,data:{}};var BNe={left:"right",right:"left",bottom:"top",top:"bottom"};function xC(t){return t.replace(/left|right|bottom|top/g,function(e){return BNe[e]})}var VNe={start:"end",end:"start"};function bq(t){return t.replace(/start|end/g,function(e){return VNe[e]})}function v4(t){var e=Us(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function b4(t){return Xv(Yf(t)).left+v4(t).scrollLeft}function zNe(t,e){var n=Us(t),r=Yf(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=Hte();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+b4(t),y:l}}function UNe(t){var e,n=Yf(t),r=v4(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Fp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Fp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+b4(t),l=-r.scrollTop;return ed(i||n).direction==="rtl"&&(a+=Fp(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function w4(t){var e=ed(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kte(t){return["html","body","#document"].indexOf(Au(t))>=0?t.ownerDocument.body:ha(t)&&w4(t)?t:Kte(OR(t))}function Mw(t,e){var n;e===void 0&&(e=[]);var r=Kte(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Us(r),s=i?[o].concat(o.visualViewport||[],w4(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Mw(OR(s)))}function MO(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function HNe(t,e){var n=Xv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function wq(t,e,n){return e===zte?MO(zNe(t,n)):Jp(e)?HNe(e,n):MO(UNe(Yf(t)))}function qNe(t){var e=Mw(OR(t)),n=["absolute","fixed"].indexOf(ed(t).position)>=0,r=n&&ha(t)?RS(t):t;return Jp(r)?e.filter(function(i){return Jp(i)&&qte(i,r)&&Au(i)!=="body"}):[]}function jNe(t,e,n,r){var i=e==="clippingParents"?qNe(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=wq(t,u,r);return l.top=Fp(c.top,l.top),l.right=WT(c.right,l.right),l.bottom=WT(c.bottom,l.bottom),l.left=Fp(c.left,l.left),l},wq(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Yte(t){var e=t.reference,n=t.element,r=t.placement,i=r?bu(r):null,o=r?Jv(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ns:l={x:s,y:e.y-n.height};break;case pa:l={x:s,y:e.y+e.height};break;case ga:l={x:e.x+e.width,y:a};break;case rs:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?y4(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Kv:l[u]=l[u]-(e[c]/2-n[c]/2);break;case gx:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function mx(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?dNe:a,u=n.rootBoundary,c=u===void 0?zte:u,d=n.elementContext,h=d===void 0?fb:d,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,w=y===void 0?0:y,_=Wte(typeof w!="number"?w:Gte(w,AS)),E=h===fb?fNe:fb,S=t.rects.popper,T=t.elements[m?E:h],I=jNe(Jp(T)?T:T.contextElement||Yf(t.elements.popper),l,c,s),N=Xv(t.elements.reference),P=Yte({reference:N,element:S,placement:i}),M=MO(Object.assign({},S,P)),D=h===fb?M:N,k={top:I.top-D.top+_.top,bottom:D.bottom-I.bottom+_.bottom,left:I.left-D.left+_.left,right:D.right-I.right+_.right},L=t.modifiersData.offset;if(h===fb&&L){var V=L[i];Object.keys(k).forEach(function($){var z=[ga,pa].indexOf($)>=0?1:-1,G=[ns,pa].indexOf($)>=0?"y":"x";k[$]+=V[G]*z})}return k}function WNe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Ute:l,c=Jv(r),d=c?a?mq:mq.filter(function(m){return Jv(m)===c}):AS,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,y){return m[y]=mx(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[bu(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function GNe(t){if(bu(t)===p4)return[];var e=xC(t);return[bq(t),e,bq(e)]}function KNe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,w=e.options.placement,_=bu(w),E=_===w,S=l||(E||!m?[xC(w)]:GNe(w)),T=[w].concat(S).reduce(function(Y,te){return Y.concat(bu(te)===p4?WNe(e,{placement:te,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:y}):te)},[]),I=e.rects.reference,N=e.rects.popper,P=new Map,M=!0,D=T[0],k=0;k<T.length;k++){var L=T[k],V=bu(L),$=Jv(L)===Kv,z=[ns,pa].indexOf(V)>=0,G=z?"width":"height",K=mx(e,{placement:L,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),J=z?$?ga:rs:$?pa:ns;I[G]>N[G]&&(J=xC(J));var ee=xC(J),X=[];if(o&&X.push(K[V]<=0),a&&X.push(K[J]<=0,K[ee]<=0),X.every(function(Y){return Y})){D=L,M=!1;break}P.set(L,X)}if(M)for(var j=m?3:1,Q=function(te){var le=T.find(function(de){var se=P.get(de);if(se)return se.slice(0,te).every(function(ce){return ce})});if(le)return D=le,"break"},ue=j;ue>0;ue--){var q=Q(ue);if(q==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}const YNe={name:"flip",enabled:!0,phase:"main",fn:KNe,requiresIfExists:["offset"],data:{_skip:!1}};function xq(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _q(t){return[ns,ga,pa,rs].some(function(e){return t[e]>=0})}function XNe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=mx(e,{elementContext:"reference"}),a=mx(e,{altBoundary:!0}),l=xq(s,r),u=xq(a,i,o),c=_q(l),d=_q(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const JNe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:XNe};function QNe(t,e,n){var r=bu(t),i=[rs,ns].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[rs,ga].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function ZNe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Ute.reduce(function(c,d){return c[d]=QNe(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const eDe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ZNe};function tDe(t){var e=t.state,n=t.name;e.modifiersData[n]=Yte({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const nDe={name:"popperOffsets",enabled:!0,phase:"read",fn:tDe,data:{}};function rDe(t){return t==="x"?"y":"x"}function iDe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,y=m===void 0?0:m,w=mx(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),_=bu(e.placement),E=Jv(e.placement),S=!E,T=y4(_),I=rDe(T),N=e.modifiersData.popperOffsets,P=e.rects.reference,M=e.rects.popper,D=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,k=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(N){if(o){var $,z=T==="y"?ns:rs,G=T==="y"?pa:ga,K=T==="y"?"height":"width",J=N[T],ee=J+w[z],X=J-w[G],j=p?-M[K]/2:0,Q=E===Kv?P[K]:M[K],ue=E===Kv?-M[K]:-P[K],q=e.elements.arrow,Y=p&&q?m4(q):{width:0,height:0},te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jte(),le=te[z],de=te[G],se=kw(0,P[K],Y[K]),ce=S?P[K]/2-j-se-le-k.mainAxis:Q-se-le-k.mainAxis,fe=S?-P[K]/2+j+se+de+k.mainAxis:ue+se+de+k.mainAxis,ye=e.elements.arrow&&RS(e.elements.arrow),we=ye?T==="y"?ye.clientTop||0:ye.clientLeft||0:0,Re=($=L==null?void 0:L[T])!=null?$:0,Ae=J+ce-Re-we,be=J+fe-Re,Ke=kw(p?WT(ee,Ae):ee,J,p?Fp(X,be):X);N[T]=Ke,V[T]=Ke-J}if(a){var Ve,Oe=T==="x"?ns:rs,Me=T==="x"?pa:ga,je=N[I],wt=I==="y"?"height":"width",ke=je+w[Oe],dt=je-w[Me],ot=[ns,rs].indexOf(_)!==-1,St=(Ve=L==null?void 0:L[I])!=null?Ve:0,ve=ot?ke:je-P[wt]-M[wt]-St+k.altAxis,Ce=ot?je+P[wt]+M[wt]-St-k.altAxis:dt,He=p&&ot?RNe(ve,je,Ce):kw(p?ve:ke,je,p?Ce:dt);N[I]=He,V[I]=He-je}e.modifiersData[r]=V}}const oDe={name:"preventOverflow",enabled:!0,phase:"main",fn:iDe,requiresIfExists:["offset"]};function sDe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function aDe(t){return t===Us(t)||!ha(t)?v4(t):sDe(t)}function lDe(t){var e=t.getBoundingClientRect(),n=Yv(e.width)/t.offsetWidth||1,r=Yv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function uDe(t,e,n){n===void 0&&(n=!1);var r=ha(e),i=ha(e)&&lDe(e),o=Yf(e),s=Xv(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Au(e)!=="body"||w4(o))&&(a=aDe(e)),ha(e)?(l=Xv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=b4(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function cDe(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function dDe(t){var e=cDe(t);return _Ne.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function fDe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function hDe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Sq={placement:"bottom",modifiers:[],strategy:"absolute"};function Eq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function pDe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Sq:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sq,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(_){var E=typeof _=="function"?_(c.options):_;y(),c.options=Object.assign({},o,c.options,E),c.scrollParents={reference:Jp(a)?Mw(a):a.contextElement?Mw(a.contextElement):[],popper:Mw(l)};var S=dDe(hDe([].concat(r,c.options.modifiers)));return c.orderedModifiers=S.filter(function(T){return T.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var _=c.elements,E=_.reference,S=_.popper;if(Eq(E,S)){c.rects={reference:uDe(E,RS(S),c.options.strategy==="fixed"),popper:m4(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var I=c.orderedModifiers[T],N=I.fn,P=I.options,M=P===void 0?{}:P,D=I.name;typeof N=="function"&&(c=N({state:c,options:M,name:D,instance:p})||c)}}}},update:fDe(function(){return new Promise(function(w){p.forceUpdate(),w(c)})}),destroy:function(){y(),h=!0}};if(!Eq(a,l))return p;p.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function m(){c.orderedModifiers.forEach(function(w){var _=w.name,E=w.options,S=E===void 0?{}:E,T=w.effect;if(typeof T=="function"){var I=T({state:c,name:_,instance:p,options:S}),N=function(){};d.push(I||N)}})}function y(){d.forEach(function(w){return w()}),d=[]}return p}}var gDe=[$Ne,nDe,ONe,CNe,eDe,YNe,oDe,MNe,JNe],mDe=pDe({defaultModifiers:gDe});function yDe(t){return typeof t=="function"?t():t}const Xte=F.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=F.useState(null),l=Ir(F.isValidElement(r)?hg(r):null,n);if(ll(()=>{o||a(yDe(i)||document.body)},[i,o]),ll(()=>{if(s&&!o)return Z9(n,s),()=>{Z9(n,null)}},[n,s,o]),o){if(F.isValidElement(r)){const u={ref:l};return F.cloneElement(r,u)}return r}return s&&Fc.createPortal(r,s)});function vDe(t){return kt("MuiPopper",t)}Mt("MuiPopper",["root"]);function bDe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function NO(t){return typeof t=="function"?t():t}function wDe(t){return t.nodeType!==void 0}const xDe=t=>{const{classes:e}=t;return Nt({root:["root"]},vDe,e)},_De={},SDe=F.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:h={},slots:p={},TransitionProps:m,ownerState:y,...w}=e,_=F.useRef(null),E=Ir(_,n),S=F.useRef(null),T=Ir(S,d),I=F.useRef(T);ll(()=>{I.current=T},[T]),F.useImperativeHandle(d,()=>S.current,[]);const N=bDe(u,o),[P,M]=F.useState(N),[D,k]=F.useState(NO(r));F.useEffect(()=>{S.current&&S.current.forceUpdate()}),F.useEffect(()=>{r&&k(NO(r))},[r]),ll(()=>{if(!D||!l)return;const G=ee=>{M(ee.placement)};let K=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{G(ee)}}];a!=null&&(K=K.concat(a)),c&&c.modifiers!=null&&(K=K.concat(c.modifiers));const J=mDe(D,_.current,{placement:N,...c,modifiers:K});return I.current(J),()=>{J.destroy(),I.current(null)}},[D,s,a,l,c,N]);const L={placement:P};m!==null&&(L.TransitionProps=m);const V=xDe(e),$=p.root??"div",z=o4({elementType:$,externalSlotProps:h.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:V.root});return O.jsx($,{...z,children:typeof i=="function"?i(L):i})}),EDe=F.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=_De,popperRef:p,style:m,transition:y=!1,slotProps:w={},slots:_={},...E}=e,[S,T]=F.useState(!0),I=()=>{T(!1)},N=()=>{T(!0)};if(!l&&!c&&(!y||S))return null;let P;if(o)P=o;else if(r){const k=NO(r);P=k&&wDe(k)?zs(k).body:zs(null).body}const M=!c&&l&&(!y||S)?"none":void 0,D=y?{in:c,onEnter:I,onExited:N}:void 0;return O.jsx(Xte,{disablePortal:a,container:P,children:O.jsx(SDe,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:y?!S:c,placement:d,popperOptions:h,popperRef:p,slotProps:w,slots:_,...E,style:{position:"fixed",top:0,left:0,display:M,...m},TransitionProps:D,children:i})})}),CDe=Fe(EDe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Jte=F.forwardRef(function(e,n){const r=s4(),i=Ft({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:y,popperRef:w,transition:_,slots:E,slotProps:S,...T}=i,I=(E==null?void 0:E.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:y,popperRef:w,transition:_,...T};return O.jsx(CDe,{as:s,direction:r?"rtl":"ltr",slots:{root:I},slotProps:S??l,...N,ref:n})}),TDe=nn(O.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ADe(t){return kt("MuiChip",t)}const hn=Mt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),RDe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,u={root:["root",l,n&&"disabled",`size${Ne(r)}`,`color${Ne(i)}`,a&&"clickable",a&&`clickableColor${Ne(i)}`,s&&"deletable",s&&`deletableColor${Ne(i)}`,`${l}${Ne(i)}`],label:["label",`label${Ne(r)}`],avatar:["avatar",`avatar${Ne(r)}`,`avatarColor${Ne(i)}`],icon:["icon",`icon${Ne(r)}`,`iconColor${Ne(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Ne(r)}`,`deleteIconColor${Ne(i)}`,`deleteIcon${Ne(l)}Color${Ne(i)}`]};return Nt(u,ADe,e)},PDe=Fe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${hn.avatar}`]:e.avatar},{[`& .${hn.avatar}`]:e[`avatar${Ne(a)}`]},{[`& .${hn.avatar}`]:e[`avatarColor${Ne(r)}`]},{[`& .${hn.icon}`]:e.icon},{[`& .${hn.icon}`]:e[`icon${Ne(a)}`]},{[`& .${hn.icon}`]:e[`iconColor${Ne(i)}`]},{[`& .${hn.deleteIcon}`]:e.deleteIcon},{[`& .${hn.deleteIcon}`]:e[`deleteIcon${Ne(a)}`]},{[`& .${hn.deleteIcon}`]:e[`deleteIconColor${Ne(r)}`]},{[`& .${hn.deleteIcon}`]:e[`deleteIcon${Ne(l)}Color${Ne(r)}`]},e.root,e[`size${Ne(a)}`],e[`color${Ne(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${Ne(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Ne(r)}`],e[l],e[`${l}${Ne(r)}`]]}})(Lt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${hn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${hn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${hn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${hn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${hn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${hn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${hn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:tn(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:tn(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${hn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${hn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Si(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${hn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:tn(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${hn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${hn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${hn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Si(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${hn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${hn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Si(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${hn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${hn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${hn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${hn.avatar}`]:{marginLeft:4},[`& .${hn.avatarSmall}`]:{marginLeft:2},[`& .${hn.icon}`]:{marginLeft:4},[`& .${hn.iconSmall}`]:{marginLeft:2},[`& .${hn.deleteIcon}`]:{marginRight:5},[`& .${hn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Si()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:tn(t.palette[n].main,.7)}`,[`&.${hn.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${hn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:tn(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${hn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:tn(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),IDe=Fe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Ne(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Cq(t){return t.key==="Backspace"||t.key==="Delete"}const DO=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:p,onDelete:m,onKeyDown:y,onKeyUp:w,size:_="medium",variant:E="filled",tabIndex:S,skipFocusWhenDisabled:T=!1,...I}=r,N=F.useRef(null),P=Ir(N,n),M=X=>{X.stopPropagation(),m&&m(X)},D=X=>{X.currentTarget===X.target&&Cq(X)&&X.preventDefault(),y&&y(X)},k=X=>{X.currentTarget===X.target&&m&&Cq(X)&&m(X),w&&w(X)},L=s!==!1&&p?!0:s,V=L||m?Zc:l||"div",$={...r,component:V,disabled:c,size:_,color:a,iconColor:F.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:L,variant:E},z=RDe($),G=V===Zc?{component:l||"div",focusVisibleClassName:z.focusVisible,...m&&{disableRipple:!0}}:{};let K=null;m&&(K=u&&F.isValidElement(u)?F.cloneElement(u,{className:Je(u.props.className,z.deleteIcon),onClick:M}):O.jsx(TDe,{className:Je(z.deleteIcon),onClick:M}));let J=null;i&&F.isValidElement(i)&&(J=F.cloneElement(i,{className:Je(z.avatar,i.props.className)}));let ee=null;return d&&F.isValidElement(d)&&(ee=F.cloneElement(d,{className:Je(z.icon,d.props.className)})),O.jsxs(PDe,{as:V,className:Je(z.root,o),disabled:L&&c?!0:void 0,onClick:p,onKeyDown:D,onKeyUp:k,ref:P,tabIndex:T&&c?-1:S,ownerState:$,...G,...I,children:[J||ee,O.jsx(IDe,{className:Je(z.label),ownerState:$,children:h}),K]})});function E1(t){return parseInt(t,10)||0}const kDe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function MDe(t){for(const e in t)return!1;return!0}function Tq(t){return MDe(t)||t.outerHeightStyle===0&&!t.overflowing}const NDe=F.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:u}=F.useRef(a!=null),c=F.useRef(null),d=Ir(n,c),h=F.useRef(null),p=F.useRef(null),m=F.useCallback(()=>{const S=c.current,T=p.current;if(!S||!T)return;const N=Qc(S).getComputedStyle(S);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=N.width,T.value=S.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const P=N.boxSizing,M=E1(N.paddingBottom)+E1(N.paddingTop),D=E1(N.borderBottomWidth)+E1(N.borderTopWidth),k=T.scrollHeight;T.value="x";const L=T.scrollHeight;let V=k;o&&(V=Math.max(Number(o)*L,V)),i&&(V=Math.min(Number(i)*L,V)),V=Math.max(V,L);const $=V+(P==="border-box"?M+D:0),z=Math.abs(V-k)<=1;return{outerHeightStyle:$,overflowing:z}},[i,o,e.placeholder]),y=Vc(()=>{const S=c.current,T=m();if(!S||!T||Tq(T))return!1;const I=T.outerHeightStyle;return h.current!=null&&h.current!==I}),w=F.useCallback(()=>{const S=c.current,T=m();if(!S||!T||Tq(T))return;const I=T.outerHeightStyle;h.current!==I&&(h.current=I,S.style.height=`${I}px`),S.style.overflow=T.overflowing?"hidden":""},[m]),_=F.useRef(-1);ll(()=>{const S=Cte(w),T=c==null?void 0:c.current;if(!T)return;const I=Qc(T);I.addEventListener("resize",S);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{y()&&(N.unobserve(T),cancelAnimationFrame(_.current),w(),_.current=requestAnimationFrame(()=>{N.observe(T)}))}),N.observe(T)),()=>{S.clear(),cancelAnimationFrame(_.current),I.removeEventListener("resize",S),N&&N.disconnect()}},[m,w,y]),ll(()=>{w()});const E=S=>{u||w(),r&&r(S)};return O.jsxs(F.Fragment,{children:[O.jsx("textarea",{value:a,onChange:E,ref:d,rows:o,style:s,...l}),O.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...kDe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function yx(t){return typeof t=="string"}function Xf({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const FR=F.createContext(void 0);function ku(){return F.useContext(FR)}function Aq(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function GT(t,e=!1){return t&&(Aq(t.value)&&t.value!==""||e&&Aq(t.defaultValue)&&t.defaultValue!=="")}function DDe(t){return t.startAdornment}function LDe(t){return kt("MuiInputBase",t)}const Qv=Mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Rq;const $R=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ne(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},BR=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},ODe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:m}=t,y={root:["root",`color${Ne(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${Ne(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Nt(y,LDe,e)},VR=Fe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:$R})(Lt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Qv.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),zR=Fe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:BR})(Lt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Qv.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Qv.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Pq=v2e({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),x4=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:y,fullWidth:w=!1,id:_,inputComponent:E="input",inputProps:S={},inputRef:T,margin:I,maxRows:N,minRows:P,multiline:M=!1,name:D,onBlur:k,onChange:L,onClick:V,onFocus:$,onKeyDown:z,onKeyUp:G,placeholder:K,readOnly:J,renderSuffix:ee,rows:X,size:j,slotProps:Q={},slots:ue={},startAdornment:q,type:Y="text",value:te,...le}=r,de=S.value!=null?S.value:te,{current:se}=F.useRef(de!=null),ce=F.useRef(),fe=F.useCallback(tt=>{},[]),ye=Ir(ce,T,S.ref,fe),[we,Re]=F.useState(!1),Ae=ku(),be=Xf({props:r,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});be.focused=Ae?Ae.focused:we,F.useEffect(()=>{!Ae&&h&&we&&(Re(!1),k&&k())},[Ae,h,we,k]);const Ke=Ae&&Ae.onFilled,Ve=Ae&&Ae.onEmpty,Oe=F.useCallback(tt=>{GT(tt)?Ke&&Ke():Ve&&Ve()},[Ke,Ve]);ll(()=>{se&&Oe({value:de})},[de,Oe,se]);const Me=tt=>{$&&$(tt),S.onFocus&&S.onFocus(tt),Ae&&Ae.onFocus?Ae.onFocus(tt):Re(!0)},je=tt=>{k&&k(tt),S.onBlur&&S.onBlur(tt),Ae&&Ae.onBlur?Ae.onBlur(tt):Re(!1)},wt=(tt,...Yt)=>{if(!se){const $t=tt.target||ce.current;if($t==null)throw new Error(Jc(1));Oe({value:$t.value})}S.onChange&&S.onChange(tt,...Yt),L&&L(tt,...Yt)};F.useEffect(()=>{Oe(ce.current)},[]);const ke=tt=>{ce.current&&tt.currentTarget===tt.target&&ce.current.focus(),V&&V(tt)};let dt=E,ot=S;M&&dt==="input"&&(X?ot={type:void 0,minRows:X,maxRows:X,...ot}:ot={type:void 0,maxRows:N,minRows:P,...ot},dt=NDe);const St=tt=>{Oe(tt.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};F.useEffect(()=>{Ae&&Ae.setAdornedStart(!!q)},[Ae,q]);const ve={...r,color:be.color||"primary",disabled:be.disabled,endAdornment:m,error:be.error,focused:be.focused,formControl:Ae,fullWidth:w,hiddenLabel:be.hiddenLabel,multiline:M,size:be.size,startAdornment:q,type:Y},Ce=ODe(ve),He=ue.root||u.Root||VR,et=Q.root||c.root||{},Ze=ue.input||u.Input||zR;return ot={...ot,...Q.input??c.input},O.jsxs(F.Fragment,{children:[!p&&typeof Pq=="function"&&(Rq||(Rq=O.jsx(Pq,{}))),O.jsxs(He,{...et,ref:n,onClick:ke,...le,...!yx(He)&&{ownerState:{...ve,...et.ownerState}},className:Je(Ce.root,et.className,a,J&&"MuiInputBase-readOnly"),children:[q,O.jsx(FR.Provider,{value:null,children:O.jsx(Ze,{"aria-invalid":be.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:be.disabled,id:_,onAnimationStart:St,name:D,placeholder:K,readOnly:J,required:be.required,rows:X,value:de,onKeyDown:z,onKeyUp:G,type:Y,...ot,...!yx(Ze)&&{as:dt,ownerState:{...ve,...ot.ownerState}},ref:ye,className:Je(Ce.input,ot.className,J&&"MuiInputBase-readOnly"),onBlur:je,onChange:wt,onFocus:Me})}),m,ee?ee({...be,startAdornment:q}):null]})]})});function FDe(t){return kt("MuiInput",t)}const hb={...Qv,...Mt("MuiInput",["root","underline","input"])};function $De(t){return kt("MuiOutlinedInput",t)}const Dl={...Qv,...Mt("MuiOutlinedInput",["root","notchedOutline","input"])};function BDe(t){return kt("MuiFilledInput",t)}const _h={...Qv,...Mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},VDe=nn(O.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zDe=nn(O.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function UDe(t){return kt("MuiAvatar",t)}Mt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const HDe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Nt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},UDe,e)},qDe=Fe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Lt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),jDe=Fe("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),WDe=Fe(zDe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function GDe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=F.useState(!1);return F.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const Iq=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:h,srcSet:p,variant:m="circular",...y}=r;let w=null;const _={...r,component:a,variant:m},E=GDe({...c,...typeof u.img=="function"?u.img(_):u.img,src:h,srcSet:p}),S=h||p,T=S&&E!=="error";_.colorDefault=!T,delete _.ownerState;const I=HDe(_),[N,P]=on("img",{className:I.img,elementType:jDe,externalForwardedProps:{slots:l,slotProps:{img:{...c,...u.img}}},additionalProps:{alt:i,src:h,srcSet:p,sizes:d},ownerState:_});return T?w=O.jsx(N,{...P}):o||o===0?w=o:S&&i?w=i[0]:w=O.jsx(WDe,{ownerState:_,className:I.fallback}),O.jsx(qDe,{as:a,className:Je(I.root,s),ref:n,...y,ownerState:_,children:w})}),KDe={entering:{opacity:1},entered:{opacity:1}},LO=F.forwardRef(function(e,n){const r=Kf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:w,timeout:_=i,TransitionComponent:E=hl,...S}=e,T=F.useRef(null),I=Ir(T,hg(a),n),N=z=>G=>{if(z){const K=T.current;G===void 0?z(K):z(K,G)}},P=N(h),M=N((z,G)=>{f4(z);const K=Gv({style:w,timeout:_,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",K),z.style.transition=r.transitions.create("opacity",K),c&&c(z,G)}),D=N(d),k=N(y),L=N(z=>{const G=Gv({style:w,timeout:_,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",G),z.style.transition=r.transitions.create("opacity",G),p&&p(z)}),V=N(m),$=z=>{o&&o(T.current,z)};return O.jsx(E,{appear:s,in:u,nodeRef:T,onEnter:M,onEntered:D,onEntering:P,onExit:L,onExited:V,onExiting:k,addEndListener:$,timeout:_,...S,children:(z,{ownerState:G,...K})=>F.cloneElement(a,{style:{opacity:0,visibility:z==="exited"&&!u?"hidden":void 0,...KDe[z],...w,...a.props.style},ref:I,...K})})});function YDe(t){return kt("MuiBackdrop",t)}Mt("MuiBackdrop",["root","invisible"]);const XDe=t=>{const{classes:e,invisible:n}=t;return Nt({root:["root",n&&"invisible"]},YDe,e)},JDe=Fe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),_4=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:u={},componentsProps:c={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:m,...y}=r,w={...r,component:s,invisible:a},_=XDe(w),E={transition:p,root:u.Root,...h},S={...c,...d},T={slots:E,slotProps:S},[I,N]=on("root",{elementType:JDe,externalForwardedProps:T,className:Je(_.root,o),ownerState:w}),[P,M]=on("transition",{elementType:LO,externalForwardedProps:T,ownerState:w});return O.jsx(P,{in:l,timeout:m,...y,...M,children:O.jsx(I,{"aria-hidden":!0,...N,classes:_,ref:n,children:i})})}),QDe=Mt("MuiBox",["root"]),ZDe=Fte(),ze=iMe({themeId:wR,defaultTheme:ZDe,defaultClassName:QDe.root,generateClassName:vte.generate}),eLe=nn(O.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),tLe=Fe(Zc)(Lt(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:HT(t.palette.grey[200],.12)}:{backgroundColor:HT(t.palette.grey[600],.12)}}}))),nLe=Fe(eLe)({width:24,height:16});function rLe(t){const{slots:e={},slotProps:n={},...r}=t,i=t;return O.jsx("li",{children:O.jsx(tLe,{focusRipple:!0,...r,ownerState:i,children:O.jsx(nLe,{as:e.CollapsedIcon,ownerState:i,...n.collapsedIcon})})})}function iLe(t){return kt("MuiBreadcrumbs",t)}const oLe=Mt("MuiBreadcrumbs",["root","ol","li","separator"]),sLe=t=>{const{classes:e}=t;return Nt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},iLe,e)},aLe=Fe(nt,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${oLe.li}`]:e.li},e.root]})({}),lLe=Fe("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),uLe=Fe("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function cLe(t,e,n,r){return t.reduce((i,o,s)=>(s<t.length-1?i=i.concat(o,O.jsx(uLe,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${s}`)):i.push(o),i),[])}const dLe=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiBreadcrumbs"}),{children:i,className:o,component:s="nav",slots:a={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:c=1,itemsBeforeCollapse:d=1,maxItems:h=8,separator:p="/",...m}=r,[y,w]=F.useState(!1),_={...r,component:s,expanded:y,expandText:u,itemsAfterCollapse:c,itemsBeforeCollapse:d,maxItems:h,separator:p},E=sLe(_),S=o4({elementType:a.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:_}),T=F.useRef(null),I=P=>{const M=()=>{w(!0);const D=T.current.querySelector("a[href],button,[tabindex]");D&&D.focus()};return d+c>=P.length?P:[...P.slice(0,d),O.jsx(rLe,{"aria-label":u,slots:{CollapsedIcon:a.CollapsedIcon},slotProps:{collapsedIcon:S},onClick:M},"ellipsis"),...P.slice(P.length-c,P.length)]},N=F.Children.toArray(i).filter(P=>F.isValidElement(P)).map((P,M)=>O.jsx("li",{className:E.li,children:P},`child-${M}`));return O.jsx(aLe,{ref:n,component:s,color:"textSecondary",className:Je(E.root,o),ownerState:_,...m,children:O.jsx(lLe,{className:E.ol,ref:T,ownerState:_,children:cLe(y||h&&N.length<=h?N:I(N),E.separator,p,_)})})});function fLe(t){return kt("MuiButton",t)}const Sh=Mt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),hLe=F.createContext({}),pLe=F.createContext(void 0),gLe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,u={root:["root",s&&"loading",o,`${o}${Ne(e)}`,`size${Ne(i)}`,`${o}Size${Ne(i)}`,`color${Ne(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Ne(a)}`],startIcon:["icon","startIcon",`iconSize${Ne(i)}`],endIcon:["icon","endIcon",`iconSize${Ne(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=Nt(u,fLe,l);return{...l,...c}},Qte=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],mLe=Fe(Zc,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ne(n.color)}`],e[`size${Ne(n.size)}`],e[`${n.variant}Size${Ne(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Lt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Sh.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Sh.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Sh.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Sh.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Si()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:tn(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Sh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Sh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Sh.loading}`]:{color:"transparent"}}}]}})),yLe=Fe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ne(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Qte]})),vLe=Fe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ne(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Qte]})),bLe=Fe("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),kq=Fe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),lr=F.forwardRef(function(e,n){const r=F.useContext(hLe),i=F.useContext(pLe),o=hx(r,e),s=Ft({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:w=!1,id:_,loading:E=null,loadingIndicator:S,loadingPosition:T="center",size:I="medium",startIcon:N,type:P,variant:M="text",...D}=s,k=m0(_),L=S??O.jsx(h4,{"aria-labelledby":k,color:"inherit",size:16}),V={...s,color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:w,loading:E,loadingIndicator:L,loadingPosition:T,size:I,type:P,variant:M},$=gLe(V),z=(N||E&&T==="start")&&O.jsx(yLe,{className:$.startIcon,ownerState:V,children:N||O.jsx(kq,{className:$.loadingIconPlaceholder,ownerState:V})}),G=(m||E&&T==="end")&&O.jsx(vLe,{className:$.endIcon,ownerState:V,children:m||O.jsx(kq,{className:$.loadingIconPlaceholder,ownerState:V})}),K=i||"",J=typeof E=="boolean"?O.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:E&&O.jsx(bLe,{className:$.loadingIndicator,ownerState:V,children:L})}):null;return O.jsxs(mLe,{ownerState:V,className:Je(r.className,$.root,c,K),component:u,disabled:d||E,focusRipple:!p,focusVisibleClassName:Je($.focusVisible,y),ref:n,type:P,id:E?k:_,...D,classes:$,children:[z,T!=="end"&&J,a,T==="end"&&J,G]})});function wLe(t){return kt("PrivateSwitchBase",t)}Mt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const xLe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ne(i)}`],input:["input"]};return Nt(o,wLe,e)},_Le=Fe(Zc)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),SLe=Fe("input",{shouldForwardProp:co})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Zte=F.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:h,inputRef:p,name:m,onBlur:y,onChange:w,onFocus:_,readOnly:E,required:S=!1,tabIndex:T,type:I,value:N,slots:P={},slotProps:M={},...D}=e,[k,L]=px({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),V=ku(),$=te=>{_&&_(te),V&&V.onFocus&&V.onFocus(te)},z=te=>{y&&y(te),V&&V.onBlur&&V.onBlur(te)},G=te=>{if(te.nativeEvent.defaultPrevented)return;const le=te.target.checked;L(le),w&&w(te,le)};let K=a;V&&typeof K>"u"&&(K=V.disabled);const J=I==="checkbox"||I==="radio",ee={...e,checked:k,disabled:K,disableFocusRipple:l,edge:u},X=xLe(ee),j={slots:P,slotProps:{input:h,...M}},[Q,ue]=on("root",{ref:n,elementType:_Le,className:X.root,shouldForwardComponentProp:!0,externalForwardedProps:{...j,component:"span",...D},getSlotProps:te=>({...te,onFocus:le=>{var de;(de=te.onFocus)==null||de.call(te,le),$(le)},onBlur:le=>{var de;(de=te.onBlur)==null||de.call(te,le),z(le)}}),ownerState:ee,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:K,role:void 0,tabIndex:null}}),[q,Y]=on("input",{ref:p,elementType:SLe,className:X.input,externalForwardedProps:j,getSlotProps:te=>({onChange:le=>{var de;(de=te.onChange)==null||de.call(te,le),G(le)}}),ownerState:ee,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:K,id:J?d:void 0,name:m,readOnly:E,required:S,tabIndex:T,type:I,...I==="checkbox"&&N===void 0?{}:{value:N}}});return O.jsxs(Q,{...ue,children:[O.jsx(q,{...Y}),k?o:c]})}),ELe=nn(O.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CLe=nn(O.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),TLe=nn(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function ALe(t){return kt("MuiCheckbox",t)}const $k=Mt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),RLe=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${Ne(r)}`,`size${Ne(i)}`]},s=Nt(o,ALe,e);return{...e,...s}},PLe=Fe(Zte,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ne(n.size)}`],n.color!=="default"&&e[`color${Ne(n.color)}`]]}})(Lt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{color:e},style:{[`&.${$k.checked}, &.${$k.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${$k.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ILe=O.jsx(CLe,{}),kLe=O.jsx(ELe,{}),MLe=O.jsx(TLe,{}),OO=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiCheckbox"}),{checkedIcon:i=ILe,color:o="primary",icon:s=kLe,indeterminate:a=!1,indeterminateIcon:l=MLe,inputProps:u,size:c="medium",disableRipple:d=!1,className:h,slots:p={},slotProps:m={},...y}=r,w=a?l:s,_=a?l:i,E={...r,disableRipple:d,color:o,indeterminate:a,size:c},S=RLe(E),T=m.input??u,[I,N]=on("root",{ref:n,elementType:PLe,className:Je(S.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:m,...y},ownerState:E,additionalProps:{type:"checkbox",icon:F.cloneElement(w,{fontSize:w.props.fontSize??c}),checkedIcon:F.cloneElement(_,{fontSize:_.props.fontSize??c}),disableRipple:d,slots:p,slotProps:{input:u4(typeof T=="function"?T(E):T,{"data-indeterminate":a})}}});return O.jsx(I,{...N,classes:S})});function NLe(t){const e=zs(t);return e.body===t?Qc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nw(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Mq(t){return parseInt(Qc(t).getComputedStyle(t).paddingRight,10)||0}function DLe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Nq(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!DLe(s);a&&l&&Nw(s,i)})}function Bk(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function LLe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(NLe(r)){const s=Ate(Qc(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Mq(r)+s}px`;const a=zs(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Mq(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=zs(r).body;else{const s=r.parentElement,a=Qc(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function OLe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class FLe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Nw(e.modalRef,!1);const i=OLe(n);Nq(n,e.mount,e.modalRef,i,!0);const o=Bk(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Bk(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=LLe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Bk(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Nw(e.modalRef,n),Nq(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Nw(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const $Le=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function BLe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function VLe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function zLe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||VLe(t))}function ULe(t){const e=[],n=[];return Array.from(t.querySelectorAll($Le)).forEach((r,i)=>{const o=BLe(r);o===-1||!zLe(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function HLe(){return!0}function qLe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=ULe,isEnabled:s=HLe,open:a}=t,l=F.useRef(!1),u=F.useRef(null),c=F.useRef(null),d=F.useRef(null),h=F.useRef(null),p=F.useRef(!1),m=F.useRef(null),y=Ir(hg(e),m),w=F.useRef(null);F.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),F.useEffect(()=>{if(!a||!m.current)return;const S=zs(m.current);return m.current.contains(S.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),F.useEffect(()=>{if(!a||!m.current)return;const S=zs(m.current),T=P=>{w.current=P,!(r||!s()||P.key!=="Tab")&&S.activeElement===m.current&&P.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{var D,k;const P=m.current;if(P===null)return;if(!S.hasFocus()||!s()||l.current){l.current=!1;return}if(P.contains(S.activeElement)||r&&S.activeElement!==u.current&&S.activeElement!==c.current)return;if(S.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let M=[];if((S.activeElement===u.current||S.activeElement===c.current)&&(M=o(m.current)),M.length>0){const L=!!((D=w.current)!=null&&D.shiftKey&&((k=w.current)==null?void 0:k.key)==="Tab"),V=M[0],$=M[M.length-1];typeof V!="string"&&typeof $!="string"&&(L?$.focus():V.focus())}else P.focus()};S.addEventListener("focusin",I),S.addEventListener("keydown",T,!0);const N=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(N),S.removeEventListener("focusin",I),S.removeEventListener("keydown",T,!0)}},[n,r,i,s,a,o]);const _=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0,h.current=S.target;const T=e.props.onFocus;T&&T(S)},E=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0};return O.jsxs(F.Fragment,{children:[O.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),F.cloneElement(e,{ref:y,onFocus:_}),O.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:c,"data-testid":"sentinelEnd"})]})}function jLe(t){return typeof t=="function"?t():t}function WLe(t){return t?t.props.hasOwnProperty("in"):!1}const Dq=()=>{},C1=new FLe;function GLe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:u,rootRef:c}=t,d=F.useRef({}),h=F.useRef(null),p=F.useRef(null),m=Ir(p,c),[y,w]=F.useState(!u),_=WLe(a);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const S=()=>zs(h.current),T=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),I=()=>{C1.mount(T(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=Vc(()=>{const G=jLe(e)||S().body;C1.add(T(),G),p.current&&I()}),P=()=>C1.isTopModal(T()),M=Vc(G=>{h.current=G,G&&(u&&P()?I():p.current&&Nw(p.current,E))}),D=F.useCallback(()=>{C1.remove(T(),E)},[E]);F.useEffect(()=>()=>{D()},[D]),F.useEffect(()=>{u?N():(!_||!i)&&D()},[u,D,_,i,N]);const k=G=>K=>{var J;(J=G.onKeyDown)==null||J.call(G,K),!(K.key!=="Escape"||K.which===229||!P())&&(n||(K.stopPropagation(),l&&l(K,"escapeKeyDown")))},L=G=>K=>{var J;(J=G.onClick)==null||J.call(G,K),K.target===K.currentTarget&&l&&l(K,"backdropClick")};return{getRootProps:(G={})=>{const K=Pte(t);delete K.onTransitionEnter,delete K.onTransitionExited;const J={...K,...G};return{role:"presentation",...J,onKeyDown:k(J),ref:m}},getBackdropProps:(G={})=>{const K=G;return{"aria-hidden":!0,...K,onClick:L(K),open:u}},getTransitionProps:()=>{const G=()=>{w(!1),o&&o()},K=()=>{w(!0),s&&s(),i&&D()};return{onEnter:Q9(G,(a==null?void 0:a.props.onEnter)??Dq),onExited:Q9(K,(a==null?void 0:a.props.onExited)??Dq)}},rootRef:m,portalRef:M,isTopModal:P,exited:y,hasTransition:_}}function KLe(t){return kt("MuiModal",t)}Mt("MuiModal",["root","hidden","backdrop"]);const YLe=t=>{const{open:e,exited:n,classes:r}=t;return Nt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},KLe,r)},XLe=Fe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Lt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),JLe=Fe(_4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),ene=F.forwardRef(function(e,n){const r=Ft({name:"MuiModal",props:e}),{BackdropComponent:i=JLe,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:u,container:c,component:d,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:E=!1,disableScrollLock:S=!1,hideBackdrop:T=!1,keepMounted:I=!1,onBackdropClick:N,onClose:P,onTransitionEnter:M,onTransitionExited:D,open:k,slotProps:L={},slots:V={},theme:$,...z}=r,G={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:y,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:E,disableScrollLock:S,hideBackdrop:T,keepMounted:I},{getRootProps:K,getBackdropProps:J,getTransitionProps:ee,portalRef:X,isTopModal:j,exited:Q,hasTransition:ue}=GLe({...G,rootRef:n}),q={...G,exited:Q},Y=YLe(q),te={};if(u.props.tabIndex===void 0&&(te.tabIndex="-1"),ue){const{onEnter:ye,onExited:we}=ee();te.onEnter=ye,te.onExited=we}const le={slots:{root:h.Root,backdrop:h.Backdrop,...V},slotProps:{...p,...L}},[de,se]=on("root",{ref:n,elementType:XLe,externalForwardedProps:{...le,...z,component:d},getSlotProps:K,ownerState:q,className:Je(a,Y==null?void 0:Y.root,!q.open&&q.exited&&(Y==null?void 0:Y.hidden))}),[ce,fe]=on("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:le,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ye=>J({...ye,onClick:we=>{N&&N(we),ye!=null&&ye.onClick&&ye.onClick(we)}}),className:Je(o==null?void 0:o.className,Y==null?void 0:Y.backdrop),ownerState:q});return!I&&!k&&(!ue||Q)?null:O.jsx(Xte,{ref:X,container:c,disablePortal:_,children:O.jsxs(de,{...se,children:[!T&&i?O.jsx(ce,{...fe}):null,O.jsx(qLe,{disableEnforceFocus:y,disableAutoFocus:m,disableRestoreFocus:E,isEnabled:j,open:k,children:F.cloneElement(u,te)})]})})});function QLe(t){return kt("MuiDialog",t)}const Vk=Mt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),tne=F.createContext({}),ZLe=Fe(_4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),eOe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${Ne(n)}`],paper:["paper",`paperScroll${Ne(n)}`,`paperWidth${Ne(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Nt(s,QLe,e)},tOe=Fe(ene,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),nOe=Fe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ne(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),rOe=Fe(au,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ne(n.scroll)}`],e[`paperWidth${Ne(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Lt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Vk.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Vk.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Vk.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_C=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialog"}),i=Kf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:c,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:y=!1,maxWidth:w="sm",onBackdropClick:_,onClick:E,onClose:S,open:T,PaperComponent:I=au,PaperProps:N={},scroll:P="paper",slots:M={},slotProps:D={},TransitionComponent:k=LO,transitionDuration:L=o,TransitionProps:V,...$}=r,z={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:y,maxWidth:w,scroll:P},G=eOe(z),K=F.useRef(),J=Ae=>{K.current=Ae.target===Ae.currentTarget},ee=Ae=>{E&&E(Ae),K.current&&(K.current=null,_&&_(Ae),S&&S(Ae,"backdropClick"))},X=m0(a),j=F.useMemo(()=>({titleId:X}),[X]),Q={transition:k,...M},ue={transition:V,paper:N,backdrop:c,...D},q={slots:Q,slotProps:ue},[Y,te]=on("root",{elementType:tOe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:z,className:Je(G.root,h),ref:n}),[le,de]=on("backdrop",{elementType:ZLe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:z}),[se,ce]=on("paper",{elementType:rOe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:z,className:Je(G.paper,N.className)}),[fe,ye]=on("container",{elementType:nOe,externalForwardedProps:q,ownerState:z,className:Je(G.container)}),[we,Re]=on("transition",{elementType:LO,externalForwardedProps:q,ownerState:z,additionalProps:{appear:!0,in:T,timeout:L,role:"presentation"}});return O.jsx(Y,{closeAfterTransition:!0,slots:{backdrop:le},slotProps:{backdrop:{transitionDuration:L,as:u,...de}},disableEscapeKeyDown:p,onClose:S,open:T,onClick:ee,...te,...$,children:O.jsx(we,{...Re,children:O.jsx(fe,{onMouseDown:J,...ye,children:O.jsx(se,{as:I,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":X,"aria-modal":l,...ce,children:O.jsx(tne.Provider,{value:j,children:d})})})})})});function iOe(t){return kt("MuiDialogActions",t)}Mt("MuiDialogActions",["root","spacing"]);const oOe=t=>{const{classes:e,disableSpacing:n}=t;return Nt({root:["root",!n&&"spacing"]},iOe,e)},sOe=Fe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),SC=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=oOe(a);return O.jsx(sOe,{className:Je(l.root,i),ownerState:a,ref:n,...s})});function aOe(t){return kt("MuiDialogContent",t)}Mt("MuiDialogContent",["root","dividers"]);function lOe(t){return kt("MuiDialogTitle",t)}const uOe=Mt("MuiDialogTitle",["root"]),cOe=t=>{const{classes:e,dividers:n}=t;return Nt({root:["root",n&&"dividers"]},aOe,e)},dOe=Fe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Lt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${uOe.root} + &`]:{paddingTop:0}}}]}))),EC=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=cOe(a);return O.jsx(dOe,{className:Je(l.root,i),ownerState:a,ref:n,...s})}),fOe=t=>{const{classes:e}=t;return Nt({root:["root"]},lOe,e)},hOe=Fe(nt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),CC=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=fOe(a),{titleId:u=o}=F.useContext(tne);return O.jsx(hOe,{component:"h2",className:Je(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??u,...s})});function pOe(t){return kt("MuiDivider",t)}const Lq=Mt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),gOe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return Nt({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},pOe,r)},mOe=Fe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Lt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:tn(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),yOe=Fe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Lt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Sy=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:l=o||a==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:d=l!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth",...m}=r,y={...r,absolute:i,component:l,flexItem:u,light:c,orientation:a,role:d,textAlign:h,variant:p},w=gOe(y);return O.jsx(mOe,{as:l,className:Je(w.root,s),role:d,ref:n,ownerState:y,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...m,children:o?O.jsx(yOe,{className:w.wrapper,ownerState:y,children:o}):null})});Sy&&(Sy.muiSkipListHighlight=!0);function vOe(t){return kt("MuiFab",t)}const Oq=Mt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),bOe=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${Ne(i)}`,e==="inherit"?"colorInherit":e]},s=Nt(o,vOe,r);return{...r,...s}},wOe=Fe(Zc,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>co(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ne(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ne(n.size)],e[n.color]]}})(Lt(({theme:t})=>{var e,n;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(e=t.palette).getContrastText)==null?void 0:n.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${Oq.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),Lt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(Si(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),Lt(({theme:t})=>({[`&.${Oq.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),nne=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:d="large",variant:h="circular",...p}=r,m={...r,color:s,component:a,disabled:l,disableFocusRipple:u,size:d,variant:h},y=bOe(m);return O.jsx(wOe,{className:Je(y.root,o),component:a,disabled:l,focusRipple:!u,focusVisibleClassName:Je(y.focusVisible,c),ownerState:m,ref:n,...p,classes:y,children:i})}),xOe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Ne(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Nt(l,BDe,e);return{...e,...u}},_Oe=Fe(VR,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$R(t,e),!n.disableUnderline&&e.underline]}})(Lt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${_h.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${_h.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_h.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_h.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_h.disabled}, .${_h.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${_h.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Si()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),SOe=Fe(zR,{name:"MuiFilledInput",slot:"Input",overridesResolver:BR})(Lt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),S4=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:d,slots:h={},type:p="text",...m}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:c,type:p},w=xOe(r),_={root:{ownerState:y},input:{ownerState:y}},E=d??s?Ei(_,d??s):_,S=h.root??o.Root??_Oe,T=h.input??o.Input??SOe;return O.jsx(x4,{slots:{root:S,input:T},slotProps:E,fullWidth:a,inputComponent:u,multiline:c,ref:n,type:p,...m,classes:w})});S4.muiName="Input";function EOe(t){return kt("MuiFormControl",t)}Mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const COe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ne(n)}`,r&&"fullWidth"]};return Nt(i,EOe,e)},TOe=Fe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ne(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),AOe=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:y="medium",variant:w="outlined",..._}=r,E={...r,color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:y,variant:w},S=COe(E),[T,I]=F.useState(()=>{let G=!1;return i&&F.Children.forEach(i,K=>{if(!Iw(K,["Input","Select"]))return;const J=Iw(K,["Select"])?K.props.input:K;J&&DDe(J.props)&&(G=!0)}),G}),[N,P]=F.useState(()=>{let G=!1;return i&&F.Children.forEach(i,K=>{Iw(K,["Input","Select"])&&(GT(K.props,!0)||GT(K.props.inputProps,!0))&&(G=!0)}),G}),[M,D]=F.useState(!1);l&&M&&D(!1);const k=c!==void 0&&!l?c:M;let L;F.useRef(!1);const V=F.useCallback(()=>{P(!0)},[]),$=F.useCallback(()=>{P(!1)},[]),z=F.useMemo(()=>({adornedStart:T,setAdornedStart:I,color:s,disabled:l,error:u,filled:N,focused:k,fullWidth:d,hiddenLabel:h,size:y,onBlur:()=>{D(!1)},onFocus:()=>{D(!0)},onEmpty:$,onFilled:V,registerEffect:L,required:m,variant:w}),[T,s,l,u,N,k,d,h,L,$,V,m,y,w]);return O.jsx(FR.Provider,{value:z,children:O.jsx(TOe,{as:a,ownerState:E,className:Je(S.root,o),ref:n,..._,children:i})})});function ROe(t){return kt("MuiFormControlLabel",t)}const Xb=Mt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),POe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Ne(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Nt(s,ROe,e)},IOe=Fe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Xb.label}`]:e.label},e.root,e[`labelPlacement${Ne(n.labelPlacement)}`]]}})(Lt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Xb.disabled}`]:{cursor:"default"},[`& .${Xb.label}`]:{[`&.${Xb.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),kOe=Fe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Lt(({theme:t})=>({[`&.${Xb.error}`]:{color:(t.vars||t).palette.error.main}}))),Fq=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:u,inputRef:c,label:d,labelPlacement:h="end",name:p,onChange:m,required:y,slots:w={},slotProps:_={},value:E,...S}=r,T=ku(),I=l??a.props.disabled??(T==null?void 0:T.disabled),N=y??a.props.required,P={disabled:I,required:N};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof a.props[G]>"u"&&typeof r[G]<"u"&&(P[G]=r[G])});const M=Xf({props:r,muiFormControl:T,states:["error"]}),D={...r,disabled:I,labelPlacement:h,required:N,error:M.error},k=POe(D),L={slots:w,slotProps:{...s,..._}},[V,$]=on("typography",{elementType:nt,externalForwardedProps:L,ownerState:D});let z=d;return z!=null&&z.type!==nt&&!u&&(z=O.jsx(V,{component:"span",...$,className:Je(k.label,$==null?void 0:$.className),children:z})),O.jsxs(IOe,{className:Je(k.root,o),ownerState:D,ref:n,...S,children:[F.cloneElement(a,P),N?O.jsxs("div",{children:[z,O.jsxs(kOe,{ownerState:D,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):z]})});function MOe(t){return kt("MuiFormGroup",t)}Mt("MuiFormGroup",["root","row","error"]);const NOe=t=>{const{classes:e,row:n,error:r}=t;return Nt({root:["root",n&&"row",r&&"error"]},MOe,e)},DOe=Fe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),LOe=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1,...s}=r,a=ku(),l=Xf({props:r,muiFormControl:a,states:["error"]}),u={...r,row:o,error:l.error},c=NOe(u);return O.jsx(DOe,{className:Je(c.root,i),ownerState:u,ref:n,...s})});function OOe(t){return kt("MuiFormHelperText",t)}const $q=Mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Bq;const FOe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${Ne(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Nt(u,OOe,e)},$Oe=Fe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ne(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Lt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${$q.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${$q.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),BOe=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:u,focused:c,margin:d,required:h,variant:p,...m}=r,y=ku(),w=Xf({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),_={...r,component:s,contained:w.variant==="filled"||w.variant==="outlined",variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required};delete _.ownerState;const E=FOe(_);return O.jsx($Oe,{as:s,className:Je(E.root,o),ref:n,...m,ownerState:_,children:i===" "?Bq||(Bq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function VOe(t){return kt("MuiFormLabel",t)}const Dw=Mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),zOe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${Ne(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Nt(l,VOe,e)},UOe=Fe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Lt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{color:e},style:{[`&.${Dw.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Dw.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Dw.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),HOe=Fe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Lt(({theme:t})=>({[`&.${Dw.error}`]:{color:(t.vars||t).palette.error.main}}))),qOe=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:u,filled:c,focused:d,required:h,...p}=r,m=ku(),y=Xf({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),w={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},_=zOe(w);return O.jsxs(UOe,{as:a,ownerState:w,className:Je(_.root,o),ref:n,...p,children:[i,y.required&&O.jsxs(HOe,{ownerState:w,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]})});function FO(t){return`scale(${t}, ${t**2})`}const jOe={entering:{opacity:1,transform:FO(1)},entered:{opacity:1,transform:"none"}},zk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),KT=F.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:m,timeout:y="auto",TransitionComponent:w=hl,..._}=e,E=Oh(),S=F.useRef(),T=Kf(),I=F.useRef(null),N=Ir(I,hg(o),n),P=G=>K=>{if(G){const J=I.current;K===void 0?G(J):G(J,K)}},M=P(c),D=P((G,K)=>{f4(G);const{duration:J,delay:ee,easing:X}=Gv({style:m,timeout:y,easing:s},{mode:"enter"});let j;y==="auto"?(j=T.transitions.getAutoHeightDuration(G.clientHeight),S.current=j):j=J,G.style.transition=[T.transitions.create("opacity",{duration:j,delay:ee}),T.transitions.create("transform",{duration:zk?j:j*.666,delay:ee,easing:X})].join(","),l&&l(G,K)}),k=P(u),L=P(p),V=P(G=>{const{duration:K,delay:J,easing:ee}=Gv({style:m,timeout:y,easing:s},{mode:"exit"});let X;y==="auto"?(X=T.transitions.getAutoHeightDuration(G.clientHeight),S.current=X):X=K,G.style.transition=[T.transitions.create("opacity",{duration:X,delay:J}),T.transitions.create("transform",{duration:zk?X:X*.666,delay:zk?J:J||X*.333,easing:ee})].join(","),G.style.opacity=0,G.style.transform=FO(.75),d&&d(G)}),$=P(h),z=G=>{y==="auto"&&E.start(S.current||0,G),r&&r(I.current,G)};return O.jsx(w,{appear:i,in:a,nodeRef:I,onEnter:D,onEntered:k,onEntering:M,onExit:V,onExited:$,onExiting:L,addEndListener:z,timeout:y==="auto"?null:y,..._,children:(G,{ownerState:K,...J})=>F.cloneElement(o,{style:{opacity:0,transform:FO(.75),visibility:G==="exited"&&!a?"hidden":void 0,...jOe[G],...m,...o.props.style},ref:N,...J})})});KT&&(KT.muiSupportAuto=!0);const WOe=t=>{const{classes:e,disableUnderline:n}=t,i=Nt({root:["root",!n&&"underline"],input:["input"]},FDe,e);return{...e,...i}},GOe=Fe(VR,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...$R(t,e),!n.disableUnderline&&e.underline]}})(Lt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hb.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hb.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hb.disabled}, .${hb.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${hb.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Si()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),KOe=Fe(zR,{name:"MuiInput",slot:"Input",overridesResolver:BR})({}),E4=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:d={},type:h="text",...p}=r,m=WOe(r),w={root:{ownerState:{disableUnderline:i}}},_=c??s?Ei(c??s,w):w,E=d.root??o.Root??GOe,S=d.input??o.Input??KOe;return O.jsx(x4,{slots:{root:E,input:S},slotProps:_,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:h,...p,classes:m})});E4.muiName="Input";function YOe(t){return kt("MuiInputAdornment",t)}const Vq=Mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var zq;const XOe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ne(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},JOe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Ne(i)}`,s,r&&"hiddenLabel",o&&`size${Ne(o)}`]};return Nt(a,YOe,e)},QOe=Fe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:XOe})(Lt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Vq.positionStart}&:not(.${Vq.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),$O=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c,...d}=r,h=ku()||{};let p=c;c&&h.variant,h&&!p&&(p=h.variant);const m={...r,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:u,variant:p},y=JOe(m);return O.jsx(FR.Provider,{value:null,children:O.jsx(QOe,{as:s,ownerState:m,className:Je(y.root,o),ref:n,...d,children:typeof i=="string"&&!l?O.jsx(nt,{color:"textSecondary",children:i}):O.jsxs(F.Fragment,{children:[u==="start"?zq||(zq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function ZOe(t){return kt("MuiInputLabel",t)}Mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const eFe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ne(r)}`,s],asterisk:[a&&"asterisk"]},u=Nt(l,ZOe,e);return{...e,...u}},tFe=Fe(qOe,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Dw.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Lt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),nFe=F.forwardRef(function(e,n){const r=Ft({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...u}=r,c=ku();let d=s;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const h=Xf({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:c,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=eFe(p);return O.jsx(tFe,{"data-shrink":d,ref:n,className:Je(m.root,l),...u,ownerState:p,classes:m})});function rFe(t){return kt("MuiLink",t)}const iFe=Mt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),oFe=({theme:t,ownerState:e})=>{const n=e.color,r=Cf(t,`palette.${n}.main`,!1)||Cf(t,`palette.${n}`,!1)||e.color,i=Cf(t,`palette.${n}.mainChannel`)||Cf(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:tn(r,.4)},Uq={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},sFe=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,o={root:["root",`underline${Ne(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Nt(o,rFe,e)},aFe=Fe(nt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Ne(n.underline)}`],n.component==="button"&&e.button]}})(Lt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Si()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:tn(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:tn(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:tn(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${iFe.focusVisible}`]:{outline:"auto"}}}]}))),Hq=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiLink"}),i=Kf(),{className:o,color:s="primary",component:a="a",onBlur:l,onFocus:u,TypographyClasses:c,underline:d="always",variant:h="inherit",sx:p,...m}=r,[y,w]=F.useState(!1),_=I=>{Wv(I.target)||w(!1),l&&l(I)},E=I=>{Wv(I.target)&&w(!0),u&&u(I)},S={...r,color:s,component:a,focusVisible:y,underline:d,variant:h},T=sFe(S);return O.jsx(aFe,{color:s,className:Je(T.root,o),classes:c,component:a,onBlur:_,onFocus:E,ref:n,ownerState:S,variant:h,...m,sx:[...Uq[s]===void 0?[{color:s}]:[],...Array.isArray(p)?p:[p]],style:{...m.style,...d==="always"&&s!=="inherit"&&!Uq[s]&&{"--Link-underlineColor":oFe({theme:i,ownerState:S})}}})}),ol=F.createContext({});function lFe(t){return kt("MuiList",t)}Mt("MuiList",["root","padding","dense","subheader"]);const uFe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Nt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},lFe,e)},cFe=Fe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),BO=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...c}=r,d=F.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=uFe(h);return O.jsx(ol.Provider,{value:d,children:O.jsxs(cFe,{as:s,className:Je(p.root,o),ref:n,ownerState:h,...c,children:[u,i]})})});function dFe(t){return kt("MuiListItem",t)}Mt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function fFe(t){return kt("MuiListItemButton",t)}const Bm=Mt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),hFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},pFe=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=t,u=Nt({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},fFe,n);return{...n,...u}},gFe=Fe(Zc,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:hFe})(Lt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bm.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Bm.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Bm.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Bm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),qq=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:h=!1,className:p,...m}=r,y=F.useContext(ol),w=F.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,l,u]),_=F.useRef(null);ll(()=>{o&&_.current&&_.current.focus()},[o]);const E={...r,alignItems:i,dense:w.dense,disableGutters:u,divider:c,selected:h},S=pFe(E),T=Ir(_,n);return O.jsx(ol.Provider,{value:w,children:O.jsx(gFe,{ref:T,href:m.href||m.to,component:(m.href||m.to)&&s==="div"?"button":s,focusVisibleClassName:Je(S.focusVisible,d),ownerState:E,className:Je(S.root,p),...m,classes:S,children:a})})});function mFe(t){return kt("MuiListItemSecondaryAction",t)}Mt("MuiListItemSecondaryAction",["root","disableGutters"]);const yFe=t=>{const{disableGutters:e,classes:n}=t;return Nt({root:["root",e&&"disableGutters"]},mFe,n)},vFe=Fe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),rne=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=F.useContext(ol),a={...r,disableGutters:s.disableGutters},l=yFe(a);return O.jsx(vFe,{className:Je(l.root,i),ownerState:a,ref:n,...o})});rne.muiName="ListItemSecondaryAction";const bFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},wFe=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=t;return Nt({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},dFe,n)},xFe=Fe("div",{name:"MuiListItem",slot:"Root",overridesResolver:bFe})(Lt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Bm.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),_Fe=Fe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),jq=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:l={},componentsProps:u={},ContainerComponent:c="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:m=!1,disablePadding:y=!1,divider:w=!1,secondaryAction:_,slotProps:E={},slots:S={},...T}=r,I=F.useContext(ol),N=F.useMemo(()=>({dense:p||I.dense||!1,alignItems:i,disableGutters:m}),[i,I.dense,p,m]),P=F.useRef(null),M=F.Children.toArray(o),D=M.length&&Iw(M[M.length-1],["ListItemSecondaryAction"]),k={...r,alignItems:i,dense:N.dense,disableGutters:m,disablePadding:y,divider:w,hasSecondaryAction:D},L=wFe(k),V=Ir(P,n),$=S.root||l.Root||xFe,z=E.root||u.root||{},G={className:Je(L.root,z.className,s),...T};let K=a||"li";return D?(K=!G.component&&!a?"div":K,c==="li"&&(K==="li"?K="div":G.component==="li"&&(G.component="div")),O.jsx(ol.Provider,{value:N,children:O.jsxs(_Fe,{as:c,className:Je(L.container,d),ref:V,ownerState:k,...h,children:[O.jsx($,{...z,...!yx($)&&{as:K,ownerState:{...k,...z.ownerState}},...G,children:M}),M.pop()]})})):O.jsx(ol.Provider,{value:N,children:O.jsxs($,{...z,as:K,ref:V,...!yx($)&&{ownerState:{...k,...z.ownerState}},...G,children:[M,_&&O.jsx(rne,{children:_})]})})});function SFe(t){return kt("MuiListItemIcon",t)}const Wq=Mt("MuiListItemIcon",["root","alignItemsFlexStart"]),EFe=t=>{const{alignItems:e,classes:n}=t;return Nt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},SFe,n)},CFe=Fe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Lt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),vx=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemIcon"}),{className:i,...o}=r,s=F.useContext(ol),a={...r,alignItems:s.alignItems},l=EFe(a);return O.jsx(CFe,{className:Je(l.root,i),ownerState:a,ref:n,...o})});function TFe(t){return kt("MuiListItemText",t)}const fy=Mt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),AFe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Nt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},TFe,e)},RFe=Fe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${fy.primary}`]:e.primary},{[`& .${fy.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${pq.root}:where(& .${fy.primary})`]:{display:"block"},[`.${pq.root}:where(& .${fy.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Qp=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d,slots:h={},slotProps:p={},...m}=r,{dense:y}=F.useContext(ol);let w=l??i,_=c;const E={...r,disableTypography:s,inset:a,primary:!!w,secondary:!!_,dense:y},S=AFe(E),T={slots:h,slotProps:{primary:u,secondary:d,...p}},[I,N]=on("root",{className:Je(S.root,o),elementType:RFe,externalForwardedProps:{...T,...m},ownerState:E,ref:n}),[P,M]=on("primary",{className:S.primary,elementType:nt,externalForwardedProps:T,ownerState:E}),[D,k]=on("secondary",{className:S.secondary,elementType:nt,externalForwardedProps:T,ownerState:E});return w!=null&&w.type!==nt&&!s&&(w=O.jsx(P,{variant:y?"body2":"body1",component:M!=null&&M.variant?void 0:"span",...M,children:w})),_!=null&&_.type!==nt&&!s&&(_=O.jsx(D,{variant:"body2",color:"textSecondary",...k,children:_})),O.jsxs(I,{...N,children:[w,_]})});function Uk(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function Gq(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function ine(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function pb(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!ine(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const PFe=F.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu",...h}=e,p=F.useRef(null),m=F.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ll(()=>{i&&p.current.focus()},[i]),F.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:T})=>{const I=!p.current.style.width;if(S.clientHeight<p.current.clientHeight&&I){const N=`${Ate(Qc(S))}px`;p.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const y=S=>{const T=p.current,I=S.key;if(S.ctrlKey||S.metaKey||S.altKey){c&&c(S);return}const P=zs(T).activeElement;if(I==="ArrowDown")S.preventDefault(),pb(T,P,u,l,Uk);else if(I==="ArrowUp")S.preventDefault(),pb(T,P,u,l,Gq);else if(I==="Home")S.preventDefault(),pb(T,null,u,l,Uk);else if(I==="End")S.preventDefault(),pb(T,null,u,l,Gq);else if(I.length===1){const M=m.current,D=I.toLowerCase(),k=performance.now();M.keys.length>0&&(k-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&D!==M.keys[0]&&(M.repeating=!1)),M.lastTime=k,M.keys.push(D);const L=P&&!M.repeating&&ine(P,M);M.previousKeyMatched&&(L||pb(T,P,!1,l,Uk,M))?S.preventDefault():M.previousKeyMatched=!1}c&&c(S)},w=Ir(p,n);let _=-1;F.Children.forEach(s,(S,T)=>{if(!F.isValidElement(S)){_===T&&(_+=1,_>=s.length&&(_=-1));return}S.props.disabled||(d==="selectedMenu"&&S.props.selected||_===-1)&&(_=T),_===T&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(_+=1,_>=s.length&&(_=-1))});const E=F.Children.map(s,(S,T)=>{if(T===_){const I={};return o&&(I.autoFocus=!0),S.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),F.cloneElement(S,I)}return S});return O.jsx(BO,{role:"menu",ref:w,className:a,onKeyDown:y,tabIndex:i?0:-1,...h,children:E})});function IFe(t){return kt("MuiPopover",t)}Mt("MuiPopover",["root","paper"]);function Kq(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Yq(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Xq(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function T1(t){return typeof t=="function"?t():t}const kFe=t=>{const{classes:e}=t;return Nt({root:["root"],paper:["paper"]},IFe,e)},MFe=Fe(ene,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),one=Fe(au,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),NFe=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:y={},slots:w={},slotProps:_={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:T="auto",TransitionProps:I={},disableScrollLock:N=!1,...P}=r,M=F.useRef(),D={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:E,TransitionComponent:S,transitionDuration:T,TransitionProps:I},k=kFe(D),L=F.useCallback(()=>{if(l==="anchorPosition")return a;const fe=T1(o),we=(fe&&fe.nodeType===1?fe:zs(M.current).body).getBoundingClientRect();return{top:we.top+Kq(we,s.vertical),left:we.left+Yq(we,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),V=F.useCallback(fe=>({vertical:Kq(fe,E.vertical),horizontal:Yq(fe,E.horizontal)}),[E.horizontal,E.vertical]),$=F.useCallback(fe=>{const ye={width:fe.offsetWidth,height:fe.offsetHeight},we=V(ye);if(l==="none")return{top:null,left:null,transformOrigin:Xq(we)};const Re=L();let Ae=Re.top-we.vertical,be=Re.left-we.horizontal;const Ke=Ae+ye.height,Ve=be+ye.width,Oe=Qc(T1(o)),Me=Oe.innerHeight-p,je=Oe.innerWidth-p;if(p!==null&&Ae<p){const wt=Ae-p;Ae-=wt,we.vertical+=wt}else if(p!==null&&Ke>Me){const wt=Ke-Me;Ae-=wt,we.vertical+=wt}if(p!==null&&be<p){const wt=be-p;be-=wt,we.horizontal+=wt}else if(Ve>je){const wt=Ve-je;be-=wt,we.horizontal+=wt}return{top:`${Math.round(Ae)}px`,left:`${Math.round(be)}px`,transformOrigin:Xq(we)}},[o,l,L,V,p]),[z,G]=F.useState(m),K=F.useCallback(()=>{const fe=M.current;if(!fe)return;const ye=$(fe);ye.top!==null&&fe.style.setProperty("top",ye.top),ye.left!==null&&(fe.style.left=ye.left),fe.style.transformOrigin=ye.transformOrigin,G(!0)},[$]);F.useEffect(()=>(N&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[o,N,K]);const J=()=>{K()},ee=()=>{G(!1)};F.useEffect(()=>{m&&K()}),F.useImperativeHandle(i,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),F.useEffect(()=>{if(!m)return;const fe=Cte(()=>{K()}),ye=Qc(T1(o));return ye.addEventListener("resize",fe),()=>{fe.clear(),ye.removeEventListener("resize",fe)}},[o,m,K]);let X=T;const j={slots:{transition:S,...w},slotProps:{transition:I,paper:y,..._}},[Q,ue]=on("transition",{elementType:KT,externalForwardedProps:j,ownerState:D,getSlotProps:fe=>({...fe,onEntering:(ye,we)=>{var Re;(Re=fe.onEntering)==null||Re.call(fe,ye,we),J()},onExited:ye=>{var we;(we=fe.onExited)==null||we.call(fe,ye),ee()}}),additionalProps:{appear:!0,in:m}});T==="auto"&&!Q.muiSupportAuto&&(X=void 0);const q=d||(o?zs(T1(o)).body:void 0),[Y,{slots:te,slotProps:le,...de}]=on("root",{ref:n,elementType:MFe,externalForwardedProps:{...j,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:w.backdrop},slotProps:{backdrop:u4(typeof _.backdrop=="function"?_.backdrop(D):_.backdrop,{invisible:!0})},container:q,open:m},ownerState:D,className:Je(k.root,c)}),[se,ce]=on("paper",{ref:M,className:k.paper,elementType:one,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:z?void 0:{opacity:0}},ownerState:D});return O.jsx(Y,{...de,...!yx(Y)&&{slots:te,slotProps:le,disableScrollLock:N},children:O.jsx(Q,{...ue,timeout:X,children:O.jsx(se,{...ce,children:u})})})});function DFe(t){return kt("MuiMenu",t)}Mt("MuiMenu",["root","paper","list"]);const LFe={vertical:"top",horizontal:"right"},OFe={vertical:"top",horizontal:"left"},FFe=t=>{const{classes:e}=t;return Nt({root:["root"],paper:["paper"],list:["list"]},DFe,e)},$Fe=Fe(NFe,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),BFe=Fe(one,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),VFe=Fe(PFe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),UR=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...y}={},variant:w="selectedMenu",slots:_={},slotProps:E={},...S}=r,T=s4(),I={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:w},N=FFe(I),P=i&&!a&&c,M=F.useRef(null),D=(X,j)=>{M.current&&M.current.adjustStyleForScrollbar(X,{direction:T?"rtl":"ltr"}),m&&m(X,j)},k=X=>{X.key==="Tab"&&(X.preventDefault(),u&&u(X,"tabKeyDown"))};let L=-1;F.Children.map(o,(X,j)=>{F.isValidElement(X)&&(X.props.disabled||(w==="selectedMenu"&&X.props.selected||L===-1)&&(L=j))});const V={slots:_,slotProps:{list:l,transition:y,paper:d,...E}},$=o4({elementType:_.root,externalSlotProps:E.root,ownerState:I,className:[N.root,s]}),[z,G]=on("paper",{className:N.paper,elementType:BFe,externalForwardedProps:V,shouldForwardComponentProp:!0,ownerState:I}),[K,J]=on("list",{className:Je(N.list,l.className),elementType:VFe,shouldForwardComponentProp:!0,externalForwardedProps:V,getSlotProps:X=>({...X,onKeyDown:j=>{var Q;k(j),(Q=X.onKeyDown)==null||Q.call(X,j)}}),ownerState:I}),ee=typeof V.slotProps.transition=="function"?V.slotProps.transition(I):V.slotProps.transition;return O.jsx($Fe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?LFe:OFe,slots:{root:_.root,paper:z,backdrop:_.backdrop,..._.transition&&{transition:_.transition}},slotProps:{root:$,paper:G,backdrop:typeof E.backdrop=="function"?E.backdrop(I):E.backdrop,transition:{...ee,onEntering:(...X)=>{var j;D(...X),(j=ee==null?void 0:ee.onEntering)==null||j.call(ee,...X)}}},open:c,ref:n,transitionDuration:p,ownerState:I,...S,classes:h,children:O.jsx(K,{actions:M,autoFocus:i&&(L===-1||a),autoFocusItem:P,variant:w,...J,children:o})})});function zFe(t){return kt("MuiMenuItem",t)}const gb=Mt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),UFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},HFe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Nt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},zFe,s);return{...s,...l}},qFe=Fe(Zc,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:UFe})(Lt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gb.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${gb.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:tn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${gb.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${gb.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${gb.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Lq.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Lq.inset}`]:{marginLeft:52},[`& .${fy.root}`]:{marginTop:0,marginBottom:0},[`& .${fy.inset}`]:{paddingLeft:36},[`& .${Wq.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${Wq.root} svg`]:{fontSize:"1.25rem"}}}]}))),bx=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h,...p}=r,m=F.useContext(ol),y=F.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),w=F.useRef(null);ll(()=>{i&&w.current&&w.current.focus()},[i]);const _={...r,dense:y.dense,divider:a,disableGutters:l},E=HFe(r),S=Ir(w,n);let T;return r.disabled||(T=d!==void 0?d:-1),O.jsx(ol.Provider,{value:y,children:O.jsx(qFe,{ref:S,role:c,tabIndex:T,component:o,focusVisibleClassName:Je(E.focusVisible,u),className:Je(E.root,h),...p,ownerState:_,classes:E})})});function jFe(t){return kt("MuiNativeSelect",t)}const C4=Mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),WFe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ne(n)}`,o&&"iconOpen",r&&"disabled"]};return Nt(a,jFe,e)},sne=Fe("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${C4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),GFe=Fe(sne,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:co,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${C4.multiple}`]:e.multiple}]}})({}),ane=Fe("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${C4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),KFe=Fe(ane,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ne(n.variant)}`],n.open&&e.iconOpen]}})({}),YFe=F.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:o},d=WFe(c);return O.jsxs(F.Fragment,{children:[O.jsx(GFe,{ownerState:c,className:Je(d.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:O.jsx(KFe,{as:s,ownerState:c,className:d.icon})]})});var Jq;const XFe=Fe("fieldset",{shouldForwardProp:co})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),JFe=Fe("legend",{shouldForwardProp:co})(Lt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function QFe(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return O.jsx(XFe,{"aria-hidden":!0,className:r,ownerState:l,...s,children:O.jsx(JFe,{ownerState:l,children:a?O.jsx("span",{children:i}):Jq||(Jq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const ZFe=t=>{const{classes:e}=t,r=Nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$De,e);return{...e,...r}},e$e=Fe(VR,{shouldForwardProp:t=>co(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:$R})(Lt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Dl.focused} .${Dl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Si()).map(([n])=>({props:{color:n},style:{[`&.${Dl.focused} .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Dl.error} .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Dl.disabled} .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),t$e=Fe(QFe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Lt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),n$e=Fe(zR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:BR})(Lt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),T4=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:a,multiline:l=!1,notched:u,slots:c={},slotProps:d={},type:h="text",...p}=r,m=ZFe(r),y=ku(),w=Xf({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_={...r,color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:y,fullWidth:o,hiddenLabel:w.hiddenLabel,multiline:l,size:w.size,type:h},E=c.root??i.Root??e$e,S=c.input??i.Input??n$e,[T,I]=on("notchedOutline",{elementType:t$e,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:_,externalForwardedProps:{slots:c,slotProps:d},additionalProps:{label:a!=null&&a!==""&&w.required?O.jsxs(F.Fragment,{children:[a," ","*"]}):a}});return O.jsx(x4,{slots:{root:E,input:S},slotProps:d,renderSuffix:N=>O.jsx(T,{...I,notched:typeof u<"u"?u:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:o,inputComponent:s,multiline:l,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});T4.muiName="Input";function lne(t){return kt("MuiSelect",t)}const mb=Mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Qq;const r$e=Fe(sne,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${mb.select}`]:e.select},{[`&.${mb.select}`]:e[n.variant]},{[`&.${mb.error}`]:e.error},{[`&.${mb.multiple}`]:e.multiple}]}})({[`&.${mb.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),i$e=Fe(ane,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ne(n.variant)}`],n.open&&e.iconOpen]}})({}),o$e=Fe("input",{shouldForwardProp:t=>$te(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Zq(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function s$e(t){return t==null||typeof t=="string"&&!t.trim()}const a$e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ne(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Nt(a,lne,e)},l$e=F.forwardRef(function(e,n){var rn;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:y,labelId:w,MenuProps:_={},multiple:E,name:S,onBlur:T,onChange:I,onClose:N,onFocus:P,onOpen:M,open:D,readOnly:k,renderValue:L,required:V,SelectDisplayProps:$={},tabIndex:z,type:G,value:K,variant:J="standard",...ee}=e,[X,j]=px({controlled:K,default:c,name:"Select"}),[Q,ue]=px({controlled:D,default:u,name:"Select"}),q=F.useRef(null),Y=F.useRef(null),[te,le]=F.useState(null),{current:de}=F.useRef(D!=null),[se,ce]=F.useState(),fe=Ir(n,y),ye=F.useCallback(Qe=>{Y.current=Qe,Qe&&le(Qe)},[]),we=te==null?void 0:te.parentNode;F.useImperativeHandle(fe,()=>({focus:()=>{Y.current.focus()},node:q.current,value:X}),[X]),F.useEffect(()=>{u&&Q&&te&&!de&&(ce(s?null:we.clientWidth),Y.current.focus())},[te,s]),F.useEffect(()=>{o&&Y.current.focus()},[o]),F.useEffect(()=>{if(!w)return;const Qe=zs(Y.current).getElementById(w);if(Qe){const Rt=()=>{getSelection().isCollapsed&&Y.current.focus()};return Qe.addEventListener("click",Rt),()=>{Qe.removeEventListener("click",Rt)}}},[w]);const Re=(Qe,Rt)=>{Qe?M&&M(Rt):N&&N(Rt),de||(ce(s?null:we.clientWidth),ue(Qe))},Ae=Qe=>{Qe.button===0&&(Qe.preventDefault(),Y.current.focus(),Re(!0,Qe))},be=Qe=>{Re(!1,Qe)},Ke=F.Children.toArray(a),Ve=Qe=>{const Rt=Ke.find(mn=>mn.props.value===Qe.target.value);Rt!==void 0&&(j(Rt.props.value),I&&I(Qe,Rt))},Oe=Qe=>Rt=>{let mn;if(Rt.currentTarget.hasAttribute("tabindex")){if(E){mn=Array.isArray(X)?X.slice():[];const _n=X.indexOf(Qe.props.value);_n===-1?mn.push(Qe.props.value):mn.splice(_n,1)}else mn=Qe.props.value;if(Qe.props.onClick&&Qe.props.onClick(Rt),X!==mn&&(j(mn),I)){const _n=Rt.nativeEvent||Rt,Ye=new _n.constructor(_n.type,_n);Object.defineProperty(Ye,"target",{writable:!0,value:{value:mn,name:S}}),I(Ye,Qe)}E||Re(!1,Rt)}},Me=Qe=>{k||[" ","ArrowUp","ArrowDown","Enter"].includes(Qe.key)&&(Qe.preventDefault(),Re(!0,Qe))},je=te!==null&&Q,wt=Qe=>{!je&&T&&(Object.defineProperty(Qe,"target",{writable:!0,value:{value:X,name:S}}),T(Qe))};delete ee["aria-invalid"];let ke,dt;const ot=[];let St=!1;(GT({value:X})||h)&&(L?ke=L(X):St=!0);const ve=Ke.map(Qe=>{if(!F.isValidElement(Qe))return null;let Rt;if(E){if(!Array.isArray(X))throw new Error(Jc(2));Rt=X.some(mn=>Zq(mn,Qe.props.value)),Rt&&St&&ot.push(Qe.props.children)}else Rt=Zq(X,Qe.props.value),Rt&&St&&(dt=Qe.props.children);return F.cloneElement(Qe,{"aria-selected":Rt?"true":"false",onClick:Oe(Qe),onKeyUp:mn=>{mn.key===" "&&mn.preventDefault(),Qe.props.onKeyUp&&Qe.props.onKeyUp(mn)},role:"option",selected:Rt,value:void 0,"data-value":Qe.props.value})});St&&(E?ot.length===0?ke=null:ke=ot.reduce((Qe,Rt,mn)=>(Qe.push(Rt),mn<ot.length-1&&Qe.push(", "),Qe),[]):ke=dt);let Ce=se;!s&&de&&te&&(Ce=we.clientWidth);let He;typeof z<"u"?He=z:He=d?null:0;const et=$.id||(S?`mui-component-select-${S}`:void 0),Ze={...e,variant:J,value:X,open:je,error:p},tt=a$e(Ze),Yt={..._.PaperProps,...(rn=_.slotProps)==null?void 0:rn.paper},$t=m0();return O.jsxs(F.Fragment,{children:[O.jsx(r$e,{as:"div",ref:ye,tabIndex:He,role:"combobox","aria-controls":je?$t:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":je?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[w,et].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":V?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Me,onMouseDown:d||k?null:Ae,onBlur:wt,onFocus:P,...$,ownerState:Ze,className:Je($.className,tt.select,l),id:et,children:s$e(ke)?Qq||(Qq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ke}),O.jsx(o$e,{"aria-invalid":p,value:Array.isArray(X)?X.join(","):X,name:S,ref:q,"aria-hidden":!0,onChange:Ve,tabIndex:-1,disabled:d,className:tt.nativeInput,autoFocus:o,required:V,...ee,ownerState:Ze}),O.jsx(i$e,{as:m,className:tt.icon,ownerState:Ze}),O.jsx(UR,{id:`menu-${S||""}`,anchorEl:we,open:je,onClose:be,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._,slotProps:{..._.slotProps,list:{"aria-labelledby":w,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:$t,..._.MenuListProps},paper:{...Yt,style:{minWidth:Ce,...Yt!=null?Yt.style:null}}},children:ve})]})}),u$e=t=>{const{classes:e}=t,r=Nt({root:["root"]},lne,e);return{...e,...r}},A4={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>co(t)&&t!=="variant",slot:"Root"},c$e=Fe(E4,A4)(""),d$e=Fe(T4,A4)(""),f$e=Fe(S4,A4)(""),une=F.forwardRef(function(e,n){const r=Ft({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=VDe,id:d,input:h,inputProps:p,label:m,labelId:y,MenuProps:w,multiple:_=!1,native:E=!1,onClose:S,onOpen:T,open:I,renderValue:N,SelectDisplayProps:P,variant:M="outlined",...D}=r,k=E?YFe:l$e,L=ku(),V=Xf({props:r,muiFormControl:L,states:["variant","error"]}),$=V.variant||M,z={...r,variant:$,classes:s},G=u$e(z),{root:K,...J}=G,ee=h||{standard:O.jsx(c$e,{ownerState:z}),outlined:O.jsx(d$e,{label:m,ownerState:z}),filled:O.jsx(f$e,{ownerState:z})}[$],X=Ir(n,hg(ee));return O.jsx(F.Fragment,{children:F.cloneElement(ee,{inputComponent:k,inputProps:{children:o,error:V.error,IconComponent:c,variant:$,type:void 0,multiple:_,...E?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:w,onClose:S,onOpen:T,open:I,renderValue:N,SelectDisplayProps:{id:d,...P}},...p,classes:p?Ei(J,p.classes):J,...h?h.props.inputProps:{}},...(_&&E||u)&&$==="outlined"?{notched:!0}:{},ref:X,className:Je(ee.props.className,a,G.root),...!h&&{variant:$},...D})})});une.muiName="Select";const h$e={entering:{transform:"none"},entered:{transform:"none"}},p$e=F.forwardRef(function(e,n){const r=Kf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:w,timeout:_=i,TransitionComponent:E=hl,...S}=e,T=F.useRef(null),I=Ir(T,hg(a),n),N=z=>G=>{if(z){const K=T.current;G===void 0?z(K):z(K,G)}},P=N(h),M=N((z,G)=>{f4(z);const K=Gv({style:w,timeout:_,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("transform",K),z.style.transition=r.transitions.create("transform",K),c&&c(z,G)}),D=N(d),k=N(y),L=N(z=>{const G=Gv({style:w,timeout:_,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("transform",G),z.style.transition=r.transitions.create("transform",G),p&&p(z)}),V=N(m),$=z=>{o&&o(T.current,z)};return O.jsx(E,{appear:s,in:u,nodeRef:T,onEnter:M,onEntered:D,onEntering:P,onExit:L,onExited:V,onExiting:k,addEndListener:$,timeout:_,...S,children:(z,{ownerState:G,...K})=>F.cloneElement(a,{style:{transform:"scale(0)",visibility:z==="exited"&&!u?"hidden":void 0,...h$e[z],...w,...a.props.style},ref:I,...K})})});function g$e(t){return kt("MuiSpeedDial",t)}const A1=Mt("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),m$e=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${Ne(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Nt(i,g$e,e)};function yb(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const zd=32,R1=16,y$e=Fe("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${Ne(n.direction)}`]]}})(Lt(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${A1.actions}`]:{flexDirection:"column-reverse",marginBottom:-zd,paddingBottom:R1+zd}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${A1.actions}`]:{flexDirection:"column",marginTop:-zd,paddingTop:R1+zd}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${A1.actions}`]:{flexDirection:"row-reverse",marginRight:-zd,paddingRight:R1+zd}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${A1.actions}`]:{flexDirection:"row",marginLeft:-zd,paddingLeft:R1+zd}}}]}))),v$e=Fe(nne,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})({pointerEvents:"auto"}),b$e=Fe("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),w$e=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSpeedDial"}),i=Kf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:s,FabProps:{ref:a,...l}={},children:u,className:c,direction:d="up",hidden:h=!1,icon:p,onBlur:m,onClose:y,onFocus:w,onKeyDown:_,onMouseEnter:E,onMouseLeave:S,onOpen:T,open:I,openIcon:N,slots:P={},slotProps:M={},TransitionComponent:D,TransitionProps:k,transitionDuration:L=o,...V}=r,[$,z]=px({controlled:I,default:!1,name:"SpeedDial",state:"open"}),G={...r,open:$,direction:d},K=m$e(G),J=Oh(),ee=F.useRef(0),X=F.useRef(),j=F.useRef([]);j.current=[j.current[0]];const Q=F.useCallback(Oe=>{j.current[0]=Oe},[]),ue=Ir(a,Q),q=(Oe,Me)=>je=>{j.current[Oe+1]=je,Me&&Me(je)},Y=Oe=>{_&&_(Oe);const Me=Oe.key.replace("Arrow","").toLowerCase(),{current:je=Me}=X;if(Oe.key==="Escape"){z(!1),j.current[0].focus(),y&&y(Oe,"escapeKeyDown");return}if(yb(Me)===yb(je)&&yb(Me)!==void 0){Oe.preventDefault();const wt=Me===je?1:-1,ke=Ste(ee.current+wt,0,j.current.length-1);j.current[ke].focus(),ee.current=ke,X.current=je}};F.useEffect(()=>{$||(ee.current=0,X.current=void 0)},[$]);const te=Oe=>{Oe.type==="mouseleave"&&S&&S(Oe),Oe.type==="blur"&&m&&m(Oe),J.clear(),Oe.type==="blur"?J.start(0,()=>{z(!1),y&&y(Oe,"blur")}):(z(!1),y&&y(Oe,"mouseLeave"))},le=Oe=>{l.onClick&&l.onClick(Oe),J.clear(),$?(z(!1),y&&y(Oe,"toggle")):(z(!0),T&&T(Oe,"toggle"))},de=Oe=>{Oe.type==="mouseenter"&&E&&E(Oe),Oe.type==="focus"&&w&&w(Oe),J.clear(),$||J.start(0,()=>{z(!0),T&&T(Oe,{focus:"focus",mouseenter:"mouseEnter"}[Oe.type])})},se=s.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ce=F.Children.toArray(u).filter(Oe=>F.isValidElement(Oe)),fe=ce.map((Oe,Me)=>{const{FabProps:{ref:je,...wt}={},tooltipPlacement:ke}=Oe.props,dt=ke||(yb(d)==="vertical"?"left":"top");return F.cloneElement(Oe,{FabProps:{...wt,ref:q(Me,je)},delay:30*($?Me:ce.length-Me),open:$,tooltipPlacement:dt,id:`${se}-action-${Me}`})}),ye={transition:D,...P},we={transition:k,...M},Re={slots:ye,slotProps:we},[Ae,be]=on("root",{elementType:y$e,externalForwardedProps:{...Re,...V},ownerState:G,ref:n,className:Je(K.root,c),additionalProps:{role:"presentation"},getSlotProps:Oe=>({...Oe,onKeyDown:Me=>{var je;(je=Oe.onKeyDown)==null||je.call(Oe,Me),Y(Me)},onBlur:Me=>{var je;(je=Oe.onBlur)==null||je.call(Oe,Me),te(Me)},onFocus:Me=>{var je;(je=Oe.onFocus)==null||je.call(Oe,Me),de(Me)},onMouseEnter:Me=>{var je;(je=Oe.onMouseEnter)==null||je.call(Oe,Me),de(Me)},onMouseLeave:Me=>{var je;(je=Oe.onMouseLeave)==null||je.call(Oe,Me),te(Me)}})}),[Ke,Ve]=on("transition",{elementType:p$e,externalForwardedProps:Re,ownerState:G});return O.jsxs(Ae,{...be,children:[O.jsx(Ke,{in:!h,timeout:L,unmountOnExit:!0,...Ve,children:O.jsx(v$e,{color:"primary","aria-label":s,"aria-haspopup":"true","aria-expanded":$,"aria-controls":`${se}-actions`,...l,onClick:le,className:Je(K.fab,l.className),ref:ue,ownerState:G,children:F.isValidElement(p)&&Iw(p,["SpeedDialIcon"])?F.cloneElement(p,{open:$}):p})}),O.jsx(b$e,{id:`${se}-actions`,role:"menu","aria-orientation":yb(d),className:Je(K.actions,!$&&K.actionsClosed),ownerState:G,children:fe})]})});function x$e(t){return kt("MuiTooltip",t)}const Lr=Mt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function _$e(t){return Math.round(t*1e5)/1e5}const S$e=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ne(o.split("-")[0])}`],arrow:["arrow"]};return Nt(s,x$e,e)},E$e=Fe(Jte,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Lt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Lr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Lr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Lr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Lr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Lr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Lr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Lr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Lr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),C$e=Fe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ne(n.placement.split("-")[0])}`]]}})(Lt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:tn(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Lr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Lr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Lr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Lr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${_$e(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Lr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Lr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Lr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Lr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Lr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Lr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Lr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Lr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Lr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Lr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),T$e=Fe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Lt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:tn(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let P1=!1;const ej=new LR;let vb={x:0,y:0};function I1(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const cne=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:c=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:y=0,enterTouchDelay:w=700,followCursor:_=!1,id:E,leaveDelay:S=0,leaveTouchDelay:T=1500,onClose:I,onOpen:N,open:P,placement:M="bottom",PopperComponent:D,PopperProps:k={},slotProps:L={},slots:V={},title:$,TransitionComponent:z,TransitionProps:G,...K}=r,J=F.isValidElement(o)?o:O.jsx("span",{children:o}),ee=Kf(),X=s4(),[j,Q]=F.useState(),[ue,q]=F.useState(null),Y=F.useRef(!1),te=h||_,le=Oh(),de=Oh(),se=Oh(),ce=Oh(),[fe,ye]=px({controlled:P,default:!1,name:"Tooltip",state:"open"});let we=fe;const Re=m0(E),Ae=F.useRef(),be=Vc(()=>{Ae.current!==void 0&&(document.body.style.WebkitUserSelect=Ae.current,Ae.current=void 0),ce.clear()});F.useEffect(()=>be,[be]);const Ke=Bt=>{ej.clear(),P1=!0,ye(!0),N&&!we&&N(Bt)},Ve=Vc(Bt=>{ej.start(800+S,()=>{P1=!1}),ye(!1),I&&we&&I(Bt),le.start(ee.transitions.duration.shortest,()=>{Y.current=!1})}),Oe=Bt=>{Y.current&&Bt.type!=="touchstart"||(j&&j.removeAttribute("title"),de.clear(),se.clear(),m||P1&&y?de.start(P1?y:m,()=>{Ke(Bt)}):Ke(Bt))},Me=Bt=>{de.clear(),se.start(S,()=>{Ve(Bt)})},[,je]=F.useState(!1),wt=Bt=>{Wv(Bt.target)||(je(!1),Me(Bt))},ke=Bt=>{j||Q(Bt.currentTarget),Wv(Bt.target)&&(je(!0),Oe(Bt))},dt=Bt=>{Y.current=!0;const _r=J.props;_r.onTouchStart&&_r.onTouchStart(Bt)},ot=Bt=>{dt(Bt),se.clear(),le.clear(),be(),Ae.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(w,()=>{document.body.style.WebkitUserSelect=Ae.current,Oe(Bt)})},St=Bt=>{J.props.onTouchEnd&&J.props.onTouchEnd(Bt),be(),se.start(T,()=>{Ve(Bt)})};F.useEffect(()=>{if(!we)return;function Bt(_r){_r.key==="Escape"&&Ve(_r)}return document.addEventListener("keydown",Bt),()=>{document.removeEventListener("keydown",Bt)}},[Ve,we]);const ve=Ir(hg(J),Q,n);!$&&$!==0&&(we=!1);const Ce=F.useRef(),He=Bt=>{const _r=J.props;_r.onMouseMove&&_r.onMouseMove(Bt),vb={x:Bt.clientX,y:Bt.clientY},Ce.current&&Ce.current.update()},et={},Ze=typeof $=="string";u?(et.title=!we&&Ze&&!d?$:null,et["aria-describedby"]=we?Re:null):(et["aria-label"]=Ze?$:null,et["aria-labelledby"]=we&&!Ze?Re:null);const tt={...et,...K,...J.props,className:Je(K.className,J.props.className),onTouchStart:dt,ref:ve,..._?{onMouseMove:He}:{}},Yt={};p||(tt.onTouchStart=ot,tt.onTouchEnd=St),d||(tt.onMouseOver=I1(Oe,tt.onMouseOver),tt.onMouseLeave=I1(Me,tt.onMouseLeave),te||(Yt.onMouseOver=Oe,Yt.onMouseLeave=Me)),c||(tt.onFocus=I1(ke,tt.onFocus),tt.onBlur=I1(wt,tt.onBlur),te||(Yt.onFocus=ke,Yt.onBlur=wt));const $t={...r,isRtl:X,arrow:i,disableInteractive:te,placement:M,PopperComponentProp:D,touch:Y.current},rn=typeof L.popper=="function"?L.popper($t):L.popper,Qe=F.useMemo(()=>{var _r,vl;let Bt=[{name:"arrow",enabled:!!ue,options:{element:ue,padding:4}}];return(_r=k.popperOptions)!=null&&_r.modifiers&&(Bt=Bt.concat(k.popperOptions.modifiers)),(vl=rn==null?void 0:rn.popperOptions)!=null&&vl.modifiers&&(Bt=Bt.concat(rn.popperOptions.modifiers)),{...k.popperOptions,...rn==null?void 0:rn.popperOptions,modifiers:Bt}},[ue,k.popperOptions,rn==null?void 0:rn.popperOptions]),Rt=S$e($t),mn=typeof L.transition=="function"?L.transition($t):L.transition,_n={slots:{popper:a.Popper,transition:a.Transition??z,tooltip:a.Tooltip,arrow:a.Arrow,...V},slotProps:{arrow:L.arrow??l.arrow,popper:{...k,...rn??l.popper},tooltip:L.tooltip??l.tooltip,transition:{...G,...mn??l.transition}}},[Ye,xt]=on("popper",{elementType:E$e,externalForwardedProps:_n,ownerState:$t,className:Je(Rt.popper,k==null?void 0:k.className)}),[Pt,Ut]=on("transition",{elementType:KT,externalForwardedProps:_n,ownerState:$t}),[Rn,kn]=on("tooltip",{elementType:C$e,className:Rt.tooltip,externalForwardedProps:_n,ownerState:$t}),[Zn,Mn]=on("arrow",{elementType:T$e,className:Rt.arrow,externalForwardedProps:_n,ownerState:$t,ref:q});return O.jsxs(F.Fragment,{children:[F.cloneElement(J,tt),O.jsx(Ye,{as:D??Jte,placement:M,anchorEl:_?{getBoundingClientRect:()=>({top:vb.y,left:vb.x,right:vb.x,bottom:vb.y,width:0,height:0})}:j,popperRef:Ce,open:j?we:!1,id:Re,transition:!0,...Yt,...xt,popperOptions:Qe,children:({TransitionProps:Bt})=>O.jsx(Pt,{timeout:ee.transitions.duration.shorter,...Bt,...Ut,children:O.jsxs(Rn,{...kn,children:[$,i?O.jsx(Zn,{...Mn}):null]})})})]})});function A$e(t){return kt("MuiSpeedDialAction",t)}const k1=Mt("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),R$e=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Ne(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Nt(i,A$e,r)},P$e=Fe(nne,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(Lt(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:HT(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]}))),I$e=Fe("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${Ne(n.tooltipPlacement)}`]]}})(Lt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${k1.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${k1.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${k1.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${k1.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),k$e=Fe("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(Lt(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),M1=F.forwardRef(function(e,n){var ee;const r=Ft({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:o=0,FabProps:s={},icon:a,id:l,open:u,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:h="left",tooltipTitle:p,slots:m={},slotProps:y={},...w}=r,_={...r,tooltipPlacement:h},E=R$e(_),S={slots:m,slotProps:{fab:s,...y,tooltip:u4(typeof y.tooltip=="function"?y.tooltip(_):y.tooltip,{title:p,open:d,placement:h,classes:c})}},[T,I]=F.useState((ee=S.slotProps.tooltip)==null?void 0:ee.open),N=()=>{I(!1)},P=()=>{I(!0)},M={transitionDelay:`${o}ms`},[D,k]=on("fab",{elementType:P$e,externalForwardedProps:S,ownerState:_,shouldForwardComponentProp:!0,className:Je(E.fab,i),additionalProps:{style:M,tabIndex:-1,role:"menuitem",size:"small"}}),[L,V]=on("tooltip",{elementType:cne,externalForwardedProps:S,shouldForwardComponentProp:!0,ref:n,additionalProps:{id:l},ownerState:_,getSlotProps:X=>({...X,onClose:j=>{var Q;(Q=X.onClose)==null||Q.call(X,j),N()},onOpen:j=>{var Q;(Q=X.onOpen)==null||Q.call(X,j),P()}})}),[$,z]=on("staticTooltip",{elementType:I$e,externalForwardedProps:S,ownerState:_,ref:n,className:E.staticTooltip,additionalProps:{id:l}}),[G,K]=on("staticTooltipLabel",{elementType:k$e,externalForwardedProps:S,ownerState:_,className:E.staticTooltipLabel,additionalProps:{style:M,id:`${l}-label`}}),J=O.jsx(D,{...k,children:a});return V.open?O.jsxs($,{...z,...w,children:[O.jsx(G,{...K,children:V.title}),F.cloneElement(J,{"aria-labelledby":`${l}-label`})]}):(!u&&T&&I(!1),O.jsx(L,{...V,title:V.title,open:u&&T,placement:V.placement,classes:V.classes,...w,children:J}))}),Hk=VMe({createStyledComponent:Fe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ft({props:t,name:"MuiStack"})});function M$e(t){return kt("MuiSwitch",t)}const wo=Mt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),N$e=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:s}=t,a={root:["root",n&&`edge${Ne(n)}`,`size${Ne(r)}`],switchBase:["switchBase",`color${Ne(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Nt(a,M$e,e);return{...e,...l}},D$e=Fe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Ne(n.edge)}`],e[`size${Ne(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${wo.thumb}`]:{width:16,height:16},[`& .${wo.switchBase}`]:{padding:4,[`&.${wo.checked}`]:{transform:"translateX(16px)"}}}}]}),L$e=Fe(Zte,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${wo.input}`]:e.input},n.color!=="default"&&e[`color${Ne(n.color)}`]]}})(Lt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${wo.checked}`]:{transform:"translateX(20px)"},[`&.${wo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${wo.checked} + .${wo.track}`]:{opacity:.5},[`&.${wo.disabled} + .${wo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${wo.input}`]:{left:"-100%",width:"300%"}})),Lt(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Si(["light"])).map(([e])=>({props:{color:e},style:{[`&.${wo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:tn(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?TS(t.palette[e].main,.62):CS(t.palette[e].main,.55)}`}},[`&.${wo.checked} + .${wo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),O$e=Fe("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(Lt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),F$e=Fe("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(Lt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),dne=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l,slots:u={},slotProps:c={},...d}=r,h={...r,color:o,edge:s,size:a},p=N$e(h),m={slots:u,slotProps:c},[y,w]=on("root",{className:Je(p.root,i),elementType:D$e,externalForwardedProps:m,ownerState:h,additionalProps:{sx:l}}),[_,E]=on("thumb",{className:p.thumb,elementType:F$e,externalForwardedProps:m,ownerState:h}),S=O.jsx(_,{...E}),[T,I]=on("track",{className:p.track,elementType:O$e,externalForwardedProps:m,ownerState:h});return O.jsxs(y,{...w,children:[O.jsx(L$e,{type:"checkbox",icon:S,checkedIcon:S,ref:n,ownerState:h,...d,classes:{...p,root:p.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...c.switchBase&&{root:typeof c.switchBase=="function"?c.switchBase(h):c.switchBase},...c.input&&{input:typeof c.input=="function"?c.input(h):c.input}}}),O.jsx(T,{...I})]})}),fne=F.createContext();function $$e(t){return kt("MuiTable",t)}Mt("MuiTable",["root","stickyHeader"]);const B$e=t=>{const{classes:e,stickyHeader:n}=t;return Nt({root:["root",n&&"stickyHeader"]},$$e,e)},V$e=Fe("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Lt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),tj="table",z$e=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTable"}),{className:i,component:o=tj,padding:s="normal",size:a="medium",stickyHeader:l=!1,...u}=r,c={...r,component:o,padding:s,size:a,stickyHeader:l},d=B$e(c),h=F.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return O.jsx(fne.Provider,{value:h,children:O.jsx(V$e,{as:o,role:o===tj?null:"table",ref:n,className:Je(d.root,i),ownerState:c,...u})})}),HR=F.createContext();function U$e(t){return kt("MuiTableBody",t)}Mt("MuiTableBody",["root"]);const H$e=t=>{const{classes:e}=t;return Nt({root:["root"]},U$e,e)},q$e=Fe("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),j$e={variant:"body"},nj="tbody",W$e=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableBody"}),{className:i,component:o=nj,...s}=r,a={...r,component:o},l=H$e(a);return O.jsx(HR.Provider,{value:j$e,children:O.jsx(q$e,{className:Je(l.root,i),as:o,ref:n,role:o===nj?null:"rowgroup",ownerState:a,...s})})});function G$e(t){return kt("MuiTableCell",t)}const K$e=Mt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Y$e=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Ne(r)}`,i!=="normal"&&`padding${Ne(i)}`,`size${Ne(o)}`]};return Nt(a,G$e,e)},X$e=Fe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ne(n.size)}`],n.padding!=="normal"&&e[`padding${Ne(n.padding)}`],n.align!=="inherit"&&e[`align${Ne(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Lt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?TS(tn(t.palette.divider,1),.88):CS(tn(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${K$e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),N1=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:u,sortDirection:c,variant:d,...h}=r,p=F.useContext(fne),m=F.useContext(HR),y=m&&m.variant==="head";let w;s?w=s:w=y?"th":"td";let _=l;w==="td"?_=void 0:!_&&y&&(_="col");const E=d||m&&m.variant,S={...r,align:i,component:w,padding:a||(p&&p.padding?p.padding:"normal"),size:u||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:E==="head"&&p&&p.stickyHeader,variant:E},T=Y$e(S);let I=null;return c&&(I=c==="asc"?"ascending":"descending"),O.jsx(X$e,{as:w,ref:n,className:Je(T.root,o),"aria-sort":I,scope:_,ownerState:S,...h})});function J$e(t){return kt("MuiTableHead",t)}Mt("MuiTableHead",["root"]);const Q$e=t=>{const{classes:e}=t;return Nt({root:["root"]},J$e,e)},Z$e=Fe("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),e5e={variant:"head"},rj="thead",t5e=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableHead"}),{className:i,component:o=rj,...s}=r,a={...r,component:o},l=Q$e(a);return O.jsx(HR.Provider,{value:e5e,children:O.jsx(Z$e,{as:o,className:Je(l.root,i),ref:n,role:o===rj?null:"rowgroup",ownerState:a,...s})})});function n5e(t){return kt("MuiTableRow",t)}const ij=Mt("MuiTableRow",["root","selected","hover","head","footer"]),r5e=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return Nt({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},n5e,e)},i5e=Fe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Lt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ij.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${ij.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:tn(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:tn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),oj="tr",sj=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTableRow"}),{className:i,component:o=oj,hover:s=!1,selected:a=!1,...l}=r,u=F.useContext(HR),c={...r,component:o,hover:s,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},d=r5e(c);return O.jsx(i5e,{as:o,ref:n,className:Je(d.root,i),role:o===oj?null:"row",ownerState:c,...l})});function o5e(t){return kt("MuiTextField",t)}Mt("MuiTextField",["root"]);const s5e={standard:E4,filled:S4,outlined:T4},a5e=t=>{const{classes:e}=t;return Nt({root:["root"]},o5e,e)},l5e=Fe(AOe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ko=F.forwardRef(function(e,n){const r=Ft({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:w,inputProps:_,InputProps:E,inputRef:S,label:T,maxRows:I,minRows:N,multiline:P=!1,name:M,onBlur:D,onChange:k,onFocus:L,placeholder:V,required:$=!1,rows:z,select:G=!1,SelectProps:K,slots:J={},slotProps:ee={},type:X,value:j,variant:Q="outlined",...ue}=r,q={...r,autoFocus:o,color:l,disabled:c,error:d,fullWidth:p,multiline:P,required:$,select:G,variant:Q},Y=a5e(q),te=m0(y),le=m&&te?`${te}-helper-text`:void 0,de=T&&te?`${te}-label`:void 0,se=s5e[Q],ce={slots:J,slotProps:{input:E,inputLabel:w,htmlInput:_,formHelperText:h,select:K,...ee}},fe={},ye=ce.slotProps.inputLabel;Q==="outlined"&&(ye&&typeof ye.shrink<"u"&&(fe.notched=ye.shrink),fe.label=T),G&&((!K||!K.native)&&(fe.id=void 0),fe["aria-describedby"]=void 0);const[we,Re]=on("root",{elementType:l5e,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...ue},ownerState:q,className:Je(Y.root,a),ref:n,additionalProps:{disabled:c,error:d,fullWidth:p,required:$,color:l,variant:Q}}),[Ae,be]=on("input",{elementType:se,externalForwardedProps:ce,additionalProps:fe,ownerState:q}),[Ke,Ve]=on("inputLabel",{elementType:nFe,externalForwardedProps:ce,ownerState:q}),[Oe,Me]=on("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:q}),[je,wt]=on("formHelperText",{elementType:BOe,externalForwardedProps:ce,ownerState:q}),[ke,dt]=on("select",{elementType:une,externalForwardedProps:ce,ownerState:q}),ot=O.jsx(Ae,{"aria-describedby":le,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:P,name:M,rows:z,maxRows:I,minRows:N,type:X,value:j,id:te,inputRef:S,onBlur:D,onChange:k,onFocus:L,placeholder:V,inputProps:Me,slots:{input:J.htmlInput?Oe:void 0},...be});return O.jsxs(we,{...Re,children:[T!=null&&T!==""&&O.jsx(Ke,{htmlFor:te,id:de,...Ve,children:T}),G?O.jsx(ke,{"aria-describedby":le,id:te,labelId:de,value:j,input:ot,...dt,children:s}):ot,m&&O.jsx(je,{id:le,...wt,children:m})]})}),u5e=nn(O.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),qk=nn(O.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),hne=nn(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),pne=nn(O.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),c5e=nn(O.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),d5e=nn(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),f5e=nn(O.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),h5e=nn(O.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),p5e=nn(O.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),g5e=nn(O.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank"),m5e=nn(O.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),y5e=nn(O.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),gne=nn(O.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),v5e=nn(O.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),b5e=nn(O.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),aj=nn(O.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),w5e=nn(O.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),x5e=nn(O.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),_5e=nn(O.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),S5e=nn(O.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),E5e=nn(O.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),lj=nn(O.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),C5e=nn(O.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),T5e=nn([O.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),O.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),A5e=nn(O.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),R5e=nn(O.jsx("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation"),mne=nn(O.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),P5e=nn(O.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),R4=nn(O.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),I5e=nn(O.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),k5e=nn(O.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}),"Polyline"),M5e=nn(O.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),VO=nn(O.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),N5e=nn(O.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),D5e=nn(O.jsx("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m-2-1h8v-2H5zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5m4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94z"}),"TipsAndUpdates"),uj=nn(O.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube"),YT="/re-ad/re-ad-icon.svg";var bb={},cj;function L5e(){if(cj)return bb;cj=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.parse=s,bb.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function s(h,p){const m=new o,y=h.length;if(y<2)return m;const w=(p==null?void 0:p.decode)||c;let _=0;do{const E=h.indexOf("=",_);if(E===-1)break;const S=h.indexOf(";",_),T=S===-1?y:S;if(E>T){_=h.lastIndexOf(";",E-1)+1;continue}const I=a(h,_,E),N=l(h,E,I),P=h.slice(I,N);if(m[P]===void 0){let M=a(h,E+1,T),D=l(h,T,M);const k=w(h.slice(M,D));m[P]=k}_=T+1}while(_<y);return m}function a(h,p,m){do{const y=h.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<m);return m}function l(h,p,m){for(;p>m;){const y=h.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return m}function u(h,p,m){const y=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const w=y(p);if(!e.test(w))throw new TypeError(`argument val is invalid: ${p}`);let _=h+"="+w;if(!m)return _;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);_+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);_+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);_+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);_+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(_+="; HttpOnly"),m.secure&&(_+="; Secure"),m.partitioned&&(_+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return _}function c(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return i.call(h)==="[object Date]"}return bb}L5e();var dj="popstate";function O5e(t={}){function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=pg(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),zO("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:wx(o))}function r(i,o){ul(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return $5e(e,n,r,t)}function Rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ul(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F5e(){return Math.random().toString(36).substring(2,10)}function fj(t,e){return{usr:t.state,key:t.key,idx:e}}function zO(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pg(e):e,state:n,key:e&&e.key||r||F5e()}}function wx({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $5e(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let w=c(),_=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:_})}function h(w,_){a="PUSH";let E=zO(y.location,w,_);n&&n(E,w),u=c()+1;let S=fj(E,u),T=y.createHref(E);try{s.pushState(S,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}o&&l&&l({action:a,location:y.location,delta:1})}function p(w,_){a="REPLACE";let E=zO(y.location,w,_);n&&n(E,w),u=c();let S=fj(E,u),T=y.createHref(E);s.replaceState(S,"",T),o&&l&&l({action:a,location:y.location,delta:0})}function m(w){return B5e(w)}let y={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dj,d),l=w,()=>{i.removeEventListener(dj,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let _=m(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(w){return s.go(w)}};return y}function B5e(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wx(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yne(t,e,n="/"){return V5e(t,e,n,!1)}function V5e(t,e,n,r){let i=typeof e=="string"?pg(e):e,o=td(i.pathname||"/",n);if(o==null)return null;let s=vne(t);z5e(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Q5e(o);a=X5e(s[l],u,r)}return a}function vne(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Rr(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=zc([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Rr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),vne(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:K5e(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of bne(o.path))i(o,s,l)}),e}function bne(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=bne(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function z5e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y5e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var U5e=/^:[\w-]+$/,H5e=3,q5e=2,j5e=1,W5e=10,G5e=-2,hj=t=>t==="*";function K5e(t,e){let n=t.split("/"),r=n.length;return n.some(hj)&&(r+=G5e),e&&(r+=q5e),n.filter(i=>!hj(i)).reduce((i,o)=>i+(U5e.test(o)?H5e:o===""?j5e:W5e),r)}function Y5e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function X5e(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=XT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=XT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:zc([o,d.pathname]),pathnameBase:n4e(zc([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=zc([o,d.pathnameBase]))}return s}function XT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=J5e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function J5e(t,e=!1,n=!0){ul(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Q5e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ul(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function td(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Z5e(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pg(t):t;return{pathname:n?n.startsWith("/")?n:e4e(n,e):e,search:r4e(r),hash:i4e(i)}}function e4e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jk(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t4e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wne(t){let e=t4e(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xne(t,e,n,r=!1){let i;typeof t=="string"?i=pg(t):(i={...t},Rr(!i.pathname||!i.pathname.includes("?"),jk("?","pathname","search",i)),Rr(!i.pathname||!i.pathname.includes("#"),jk("#","pathname","hash",i)),Rr(!i.search||!i.search.includes("#"),jk("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Z5e(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var zc=t=>t.join("/").replace(/\/\/+/g,"/"),n4e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r4e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i4e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o4e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _ne=["POST","PUT","PATCH","DELETE"];new Set(_ne);var s4e=["GET",..._ne];new Set(s4e);var y0=F.createContext(null);y0.displayName="DataRouter";var qR=F.createContext(null);qR.displayName="DataRouterState";var Sne=F.createContext({isTransitioning:!1});Sne.displayName="ViewTransition";var a4e=F.createContext(new Map);a4e.displayName="Fetchers";var l4e=F.createContext(null);l4e.displayName="Await";var Mu=F.createContext(null);Mu.displayName="Navigation";var PS=F.createContext(null);PS.displayName="Location";var ld=F.createContext({outlet:null,matches:[],isDataRoute:!1});ld.displayName="Route";var P4=F.createContext(null);P4.displayName="RouteError";function u4e(t,{relative:e}={}){Rr(IS(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Mu),{hash:i,pathname:o,search:s}=kS(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:zc([n,o])),r.createHref({pathname:a,search:s,hash:i})}function IS(){return F.useContext(PS)!=null}function gg(){return Rr(IS(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(PS).location}var Ene="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cne(t){F.useContext(Mu).static||F.useLayoutEffect(t)}function jR(){let{isDataRoute:t}=F.useContext(ld);return t?_4e():c4e()}function c4e(){Rr(IS(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(y0),{basename:e,navigator:n}=F.useContext(Mu),{matches:r}=F.useContext(ld),{pathname:i}=gg(),o=JSON.stringify(wne(r)),s=F.useRef(!1);return Cne(()=>{s.current=!0}),F.useCallback((l,u={})=>{if(ul(s.current,Ene),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=xne(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:zc([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}F.createContext(null);function kS(t,{relative:e}={}){let{matches:n}=F.useContext(ld),{pathname:r}=gg(),i=JSON.stringify(wne(n));return F.useMemo(()=>xne(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function d4e(t,e){return Tne(t,e)}function Tne(t,e,n,r){var _;Rr(IS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(Mu),{matches:o}=F.useContext(ld),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let E=c&&c.path||"";Ane(l,!c||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=gg(),h;if(e){let E=typeof e=="string"?pg(e):e;Rr(u==="/"||((_=E.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),h=E}else h=d;let p=h.pathname||"/",m=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=yne(t,{pathname:m});ul(c||y!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ul(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=m4e(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:zc([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:zc([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&w?F.createElement(PS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},w):w}function f4e(){let t=x4e(),e=o4e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}var h4e=F.createElement(f4e,null),p4e=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(ld.Provider,{value:this.props.routeContext},F.createElement(P4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g4e({routeContext:t,match:e,children:n}){let r=F.useContext(y0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ld.Provider,{value:t},n)}function m4e(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Rr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,h=!1,p=null,m=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||h4e,s&&(a<0&&c===0?(Ane("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===c&&(h=!0,m=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),w=()=>{let _;return d?_=p:h?_=m:u.route.Component?_=F.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,F.createElement(g4e,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?F.createElement(p4e,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}function I4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y4e(t){let e=F.useContext(y0);return Rr(e,I4(t)),e}function v4e(t){let e=F.useContext(qR);return Rr(e,I4(t)),e}function b4e(t){let e=F.useContext(ld);return Rr(e,I4(t)),e}function k4(t){let e=b4e(t),n=e.matches[e.matches.length-1];return Rr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function w4e(){return k4("useRouteId")}function x4e(){var r;let t=F.useContext(P4),e=v4e("useRouteError"),n=k4("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function _4e(){let{router:t}=y4e("useNavigate"),e=k4("useNavigate"),n=F.useRef(!1);return Cne(()=>{n.current=!0}),F.useCallback(async(i,o={})=>{ul(n.current,Ene),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var pj={};function Ane(t,e,n){!e&&!pj[t]&&(pj[t]=!0,ul(!1,n))}F.memo(S4e);function S4e({routes:t,future:e,state:n}){return Tne(t,void 0,n,e)}function TC(t){Rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E4e({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Rr(!IS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=F.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=pg(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,p=F.useMemo(()=>{let m=td(l,s);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:h},navigationType:r}},[s,l,u,c,d,h,r]);return ul(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:F.createElement(Mu.Provider,{value:a},F.createElement(PS.Provider,{children:e,value:p}))}function C4e({children:t,location:e}){return d4e(UO(t),e)}function UO(t,e=[]){let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,UO(r.props.children,o));return}Rr(r.type===TC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=UO(r.props.children,o)),n.push(s)}),n}var AC="get",RC="application/x-www-form-urlencoded";function WR(t){return t!=null&&typeof t.tagName=="string"}function T4e(t){return WR(t)&&t.tagName.toLowerCase()==="button"}function A4e(t){return WR(t)&&t.tagName.toLowerCase()==="form"}function R4e(t){return WR(t)&&t.tagName.toLowerCase()==="input"}function P4e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I4e(t,e){return t.button===0&&(!e||e==="_self")&&!P4e(t)}var D1=null;function k4e(){if(D1===null)try{new FormData(document.createElement("form"),0),D1=!1}catch{D1=!0}return D1}var M4e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wk(t){return t!=null&&!M4e.has(t)?(ul(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${RC}"`),null):t}function N4e(t,e){let n,r,i,o,s;if(A4e(t)){let a=t.getAttribute("action");r=a?td(a,e):null,n=t.getAttribute("method")||AC,i=Wk(t.getAttribute("enctype"))||RC,o=new FormData(t)}else if(T4e(t)||R4e(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?td(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||AC,i=Wk(t.getAttribute("formenctype"))||Wk(a.getAttribute("enctype"))||RC,o=new FormData(a,t),!k4e()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,d)}}else{if(WR(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=AC,r=null,i=RC,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function M4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function D4e(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L4e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function O4e(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await D4e(o,n);return s.links?s.links():[]}return[]}));return V4e(r.flat(1).filter(L4e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gj(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function F4e(t,e,{includeHydrateFallback:n}={}){return $4e(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function $4e(t){return[...new Set(t)]}function B4e(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function V4e(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(B4e(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z4e=new Set([100,101,204,205]);function U4e(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&td(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Rne(){let t=F.useContext(y0);return M4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function H4e(){let t=F.useContext(qR);return M4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N4=F.createContext(void 0);N4.displayName="FrameworkContext";function Pne(){let t=F.useContext(N4);return M4(t,"You must render this element inside a <HydratedRouter> element"),t}function q4e(t,e){let n=F.useContext(N4),[r,i]=F.useState(!1),[o,s]=F.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,h=F.useRef(null);F.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=_=>{_.forEach(E=>{s(E.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[t]),F.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:wb(a,p),onBlur:wb(l,m),onMouseEnter:wb(u,p),onMouseLeave:wb(c,m),onTouchStart:wb(d,p)}]:[!1,h,{}]}function wb(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function j4e({page:t,...e}){let{router:n}=Rne(),r=F.useMemo(()=>yne(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(G4e,{page:t,matches:r,...e}):null}function W4e(t){let{manifest:e,routeModules:n}=Pne(),[r,i]=F.useState([]);return F.useEffect(()=>{let o=!1;return O4e(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function G4e({page:t,matches:e,...n}){let r=gg(),{manifest:i,routeModules:o}=Pne(),{basename:s}=Rne(),{loaderData:a,matches:l}=H4e(),u=F.useMemo(()=>gj(t,e,l,i,r,"data"),[t,e,l,i,r]),c=F.useMemo(()=>gj(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(_=>{var S;let E=i.routes[_.route.id];!E||!E.hasLoader||(!u.some(T=>T.route.id===_.route.id)&&_.route.id in a&&((S=o[_.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?y=!0:m.add(_.route.id))}),m.size===0)return[];let w=U4e(t,s);return y&&m.size>0&&w.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[s,a,r,i,u,e,t,o]),h=F.useMemo(()=>F4e(c,i),[c,i]),p=W4e(c);return F.createElement(F.Fragment,null,d.map(m=>F.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>F.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>F.createElement("link",{key:m,...y})))}function K4e(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ine=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ine&&(window.__reactRouterVersion="7.6.2")}catch{}function Y4e({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=O5e({window:n,v5Compat:!0}));let i=r.current,[o,s]=F.useState({action:i.action,location:i.location}),a=F.useCallback(l=>{F.startTransition(()=>s(l))},[s]);return F.useLayoutEffect(()=>i.listen(a),[i,a]),F.createElement(E4e,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var kne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mne=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},p){let{basename:m}=F.useContext(Mu),y=typeof u=="string"&&kne.test(u),w,_=!1;if(typeof u=="string"&&y&&(w=u,Ine))try{let D=new URL(window.location.href),k=u.startsWith("//")?new URL(D.protocol+u):new URL(u),L=td(k.pathname,m);k.origin===D.origin&&L!=null?u=L+k.search+k.hash:_=!0}catch{ul(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=u4e(u,{relative:i}),[S,T,I]=q4e(r,h),N=Z4e(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function P(D){e&&e(D),D.defaultPrevented||N(D)}let M=F.createElement("a",{...h,...I,href:w||E,onClick:_||o?e:P,ref:K4e(p,T),target:l,"data-discover":!y&&n==="render"?"true":void 0});return S&&!y?F.createElement(F.Fragment,null,M,F.createElement(j4e,{page:E})):M});Mne.displayName="Link";var X4e=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=kS(s,{relative:u.relative}),h=gg(),p=F.useContext(qR),{navigator:m,basename:y}=F.useContext(Mu),w=p!=null&&i3e(d)&&a===!0,_=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,E=h.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(E=E.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&y&&(S=td(S,y)||S);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let I=E===_||!i&&E.startsWith(_)&&E.charAt(T)==="/",N=S!=null&&(S===_||!i&&S.startsWith(_)&&S.charAt(_.length)==="/"),P={isActive:I,isPending:N,isTransitioning:w},M=I?e:void 0,D;typeof r=="function"?D=r(P):D=[r,I?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(P):o;return F.createElement(Mne,{...u,"aria-current":M,className:D,ref:c,style:k,to:s,viewTransition:a},typeof l=="function"?l(P):l)});X4e.displayName="NavLink";var J4e=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=AC,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},p)=>{let m=n3e(),y=r3e(a,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&kne.test(a),E=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,I=(T==null?void 0:T.getAttribute("formmethod"))||s;m(T||S.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return F.createElement("form",{ref:p,method:w,action:y,onSubmit:r?l:E,...h,"data-discover":!_&&t==="render"?"true":void 0})});J4e.displayName="Form";function Q4e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nne(t){let e=F.useContext(y0);return Rr(e,Q4e(t)),e}function Z4e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=jR(),l=gg(),u=kS(t,{relative:o});return F.useCallback(c=>{if(I4e(c,e)){c.preventDefault();let d=n!==void 0?n:wx(l)===wx(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var e3e=0,t3e=()=>`__${String(++e3e)}__`;function n3e(){let{router:t}=Nne("useSubmit"),{basename:e}=F.useContext(Mu),n=w4e();return F.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=N4e(r,e);if(i.navigate===!1){let c=i.fetcherKey||t3e();await t.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function r3e(t,{relative:e}={}){let{basename:n}=F.useContext(Mu),r=F.useContext(ld);Rr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...kS(t||".",{relative:e})},s=gg();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:zc([n,o.pathname])),wx(o)}function i3e(t,e={}){let n=F.useContext(Sne);Rr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Nne("useViewTransitionState"),i=kS(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=td(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=td(n.nextLocation.pathname,r)||n.nextLocation.pathname;return XT(i.pathname,s)!=null||XT(i.pathname,o)!=null}[...z4e];var zo={},Sm={},Gk,mj;function Dne(){if(mj)return Gk;mj=1;var t=typeof _f=="object"&&_f&&_f.Object===Object&&_f;return Gk=t,Gk}var Kk,yj;function Nu(){if(yj)return Kk;yj=1;var t=Dne(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Kk=n,Kk}var Yk,vj;function MS(){if(vj)return Yk;vj=1;var t=Nu(),e=t.Symbol;return Yk=e,Yk}var Xk,bj;function o3e(){if(bj)return Xk;bj=1;var t=MS(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return Xk=o,Xk}var Jk,wj;function s3e(){if(wj)return Jk;wj=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Jk=n,Jk}var Qk,xj;function mg(){if(xj)return Qk;xj=1;var t=MS(),e=o3e(),n=s3e(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return Qk=s,Qk}var Zk,_j;function pl(){if(_j)return Zk;_j=1;var t=Array.isArray;return Zk=t,Zk}var eM,Sj;function ud(){if(Sj)return eM;Sj=1;function t(e){return e!=null&&typeof e=="object"}return eM=t,eM}var tM,Ej;function a3e(){if(Ej)return tM;Ej=1;var t=mg(),e=pl(),n=ud(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return tM=i,tM}var nM,Cj;function l3e(){if(Cj)return nM;Cj=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++o];if(r(s[u],u,s)===!1)break}return n}}return nM=t,nM}var rM,Tj;function u3e(){if(Tj)return rM;Tj=1;var t=l3e(),e=t();return rM=e,rM}var iM,Aj;function c3e(){if(Aj)return iM;Aj=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return iM=t,iM}var oM,Rj;function d3e(){if(Rj)return oM;Rj=1;var t=mg(),e=ud(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return oM=r,oM}var sM,Pj;function Lne(){if(Pj)return sM;Pj=1;var t=d3e(),e=ud(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return sM=o,sM}var Jb={exports:{}},aM,Ij;function f3e(){if(Ij)return aM;Ij=1;function t(){return!1}return aM=t,aM}Jb.exports;var kj;function D4(){return kj||(kj=1,function(t,e){var n=Nu(),r=f3e(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(Jb,Jb.exports)),Jb.exports}var lM,Mj;function One(){if(Mj)return lM;Mj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return lM=n,lM}var uM,Nj;function L4(){if(Nj)return uM;Nj=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return uM=e,uM}var cM,Dj;function h3e(){if(Dj)return cM;Dj=1;var t=mg(),e=L4(),n=ud(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",m="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",k="[object Uint32Array]",L={};L[E]=L[S]=L[T]=L[I]=L[N]=L[P]=L[M]=L[D]=L[k]=!0,L[r]=L[i]=L[w]=L[o]=L[_]=L[s]=L[a]=L[l]=L[u]=L[c]=L[d]=L[h]=L[p]=L[m]=L[y]=!1;function V($){return n($)&&e($.length)&&!!L[t($)]}return cM=V,cM}var dM,Lj;function O4(){if(Lj)return dM;Lj=1;function t(e){return function(n){return e(n)}}return dM=t,dM}var Qb={exports:{}};Qb.exports;var Oj;function F4(){return Oj||(Oj=1,function(t,e){var n=Dne(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(Qb,Qb.exports)),Qb.exports}var fM,Fj;function Fne(){if(Fj)return fM;Fj=1;var t=h3e(),e=O4(),n=F4(),r=n&&n.isTypedArray,i=r?e(r):t;return fM=i,fM}var hM,$j;function $ne(){if($j)return hM;$j=1;var t=c3e(),e=Lne(),n=pl(),r=D4(),i=One(),o=Fne(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var d=n(u),h=!d&&e(u),p=!d&&!h&&r(u),m=!d&&!h&&!p&&o(u),y=d||h||p||m,w=y?t(u.length,String):[],_=w.length;for(var E in u)(c||a.call(u,E))&&!(y&&(E=="length"||p&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&w.push(E);return w}return hM=l,hM}var pM,Bj;function $4(){if(Bj)return pM;Bj=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return pM=e,pM}var gM,Vj;function Bne(){if(Vj)return gM;Vj=1;function t(e,n){return function(r){return e(n(r))}}return gM=t,gM}var mM,zj;function p3e(){if(zj)return mM;zj=1;var t=Bne(),e=t(Object.keys,Object);return mM=e,mM}var yM,Uj;function g3e(){if(Uj)return yM;Uj=1;var t=$4(),e=p3e(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return yM=i,yM}var vM,Hj;function v0(){if(Hj)return vM;Hj=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return vM=t,vM}var bM,qj;function Vne(){if(qj)return bM;qj=1;var t=mg(),e=v0(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==o}return bM=s,bM}var wM,jj;function GR(){if(jj)return wM;jj=1;var t=Vne(),e=L4();function n(r){return r!=null&&e(r.length)&&!t(r)}return wM=n,wM}var xM,Wj;function NS(){if(Wj)return xM;Wj=1;var t=$ne(),e=g3e(),n=GR();function r(i){return n(i)?t(i):e(i)}return xM=r,xM}var _M,Gj;function zne(){if(Gj)return _M;Gj=1;var t=u3e(),e=NS();function n(r,i){return r&&t(r,i,e)}return _M=n,_M}var SM,Kj;function Une(){if(Kj)return SM;Kj=1;function t(e){return e}return SM=t,SM}var EM,Yj;function m3e(){if(Yj)return EM;Yj=1;var t=Une();function e(n){return typeof n=="function"?n:t}return EM=e,EM}var CM,Xj;function B4(){if(Xj)return CM;Xj=1;var t=zne(),e=m3e();function n(r,i){return r&&t(r,e(i))}return CM=n,CM}var TM,Jj;function V4(){if(Jj)return TM;Jj=1;var t=Bne(),e=t(Object.getPrototypeOf,Object);return TM=e,TM}var AM,Qj;function y3e(){if(Qj)return AM;Qj=1;var t=mg(),e=V4(),n=ud(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||t(c)!=r)return!1;var d=e(c);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return AM=u,AM}var RM,Zj;function Hne(){if(Zj)return RM;Zj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return RM=t,RM}var PM,e8;function v3e(){if(e8)return PM;e8=1;function t(){this.__data__=[],this.size=0}return PM=t,PM}var IM,t8;function z4(){if(t8)return IM;t8=1;function t(e,n){return e===n||e!==e&&n!==n}return IM=t,IM}var kM,n8;function KR(){if(n8)return kM;n8=1;var t=z4();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return kM=e,kM}var MM,r8;function b3e(){if(r8)return MM;r8=1;var t=KR(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return MM=r,MM}var NM,i8;function w3e(){if(i8)return NM;i8=1;var t=KR();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return NM=e,NM}var DM,o8;function x3e(){if(o8)return DM;o8=1;var t=KR();function e(n){return t(this.__data__,n)>-1}return DM=e,DM}var LM,s8;function _3e(){if(s8)return LM;s8=1;var t=KR();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return LM=e,LM}var OM,a8;function YR(){if(a8)return OM;a8=1;var t=v3e(),e=b3e(),n=w3e(),r=x3e(),i=_3e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,OM=o,OM}var FM,l8;function S3e(){if(l8)return FM;l8=1;var t=YR();function e(){this.__data__=new t,this.size=0}return FM=e,FM}var $M,u8;function E3e(){if(u8)return $M;u8=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return $M=t,$M}var BM,c8;function C3e(){if(c8)return BM;c8=1;function t(e){return this.__data__.get(e)}return BM=t,BM}var VM,d8;function T3e(){if(d8)return VM;d8=1;function t(e){return this.__data__.has(e)}return VM=t,VM}var zM,f8;function A3e(){if(f8)return zM;f8=1;var t=Nu(),e=t["__core-js_shared__"];return zM=e,zM}var UM,h8;function R3e(){if(h8)return UM;h8=1;var t=A3e(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return UM=n,UM}var HM,p8;function qne(){if(p8)return HM;p8=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return HM=n,HM}var qM,g8;function P3e(){if(g8)return qM;g8=1;var t=Vne(),e=R3e(),n=v0(),r=qne(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!n(h)||e(h))return!1;var p=t(h)?c:o;return p.test(r(h))}return qM=d,qM}var jM,m8;function I3e(){if(m8)return jM;m8=1;function t(e,n){return e==null?void 0:e[n]}return jM=t,jM}var WM,y8;function yg(){if(y8)return WM;y8=1;var t=P3e(),e=I3e();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return WM=n,WM}var GM,v8;function U4(){if(v8)return GM;v8=1;var t=yg(),e=Nu(),n=t(e,"Map");return GM=n,GM}var KM,b8;function XR(){if(b8)return KM;b8=1;var t=yg(),e=t(Object,"create");return KM=e,KM}var YM,w8;function k3e(){if(w8)return YM;w8=1;var t=XR();function e(){this.__data__=t?t(null):{},this.size=0}return YM=e,YM}var XM,x8;function M3e(){if(x8)return XM;x8=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return XM=t,XM}var JM,_8;function N3e(){if(_8)return JM;_8=1;var t=XR(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return JM=i,JM}var QM,S8;function D3e(){if(S8)return QM;S8=1;var t=XR(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return QM=r,QM}var ZM,E8;function L3e(){if(E8)return ZM;E8=1;var t=XR(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return ZM=n,ZM}var e2,C8;function O3e(){if(C8)return e2;C8=1;var t=k3e(),e=M3e(),n=N3e(),r=D3e(),i=L3e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,e2=o,e2}var t2,T8;function F3e(){if(T8)return t2;T8=1;var t=O3e(),e=YR(),n=U4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return t2=r,t2}var n2,A8;function $3e(){if(A8)return n2;A8=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return n2=t,n2}var r2,R8;function JR(){if(R8)return r2;R8=1;var t=$3e();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return r2=e,r2}var i2,P8;function B3e(){if(P8)return i2;P8=1;var t=JR();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return i2=e,i2}var o2,I8;function V3e(){if(I8)return o2;I8=1;var t=JR();function e(n){return t(this,n).get(n)}return o2=e,o2}var s2,k8;function z3e(){if(k8)return s2;k8=1;var t=JR();function e(n){return t(this,n).has(n)}return s2=e,s2}var a2,M8;function U3e(){if(M8)return a2;M8=1;var t=JR();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return a2=e,a2}var l2,N8;function H4(){if(N8)return l2;N8=1;var t=F3e(),e=B3e(),n=V3e(),r=z3e(),i=U3e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,l2=o,l2}var u2,D8;function H3e(){if(D8)return u2;D8=1;var t=YR(),e=U4(),n=H4(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return u2=i,u2}var c2,L8;function q4(){if(L8)return c2;L8=1;var t=YR(),e=S3e(),n=E3e(),r=C3e(),i=T3e(),o=H3e();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,c2=s,c2}var d2,O8;function q3e(){if(O8)return d2;O8=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return d2=e,d2}var f2,F8;function j3e(){if(F8)return f2;F8=1;function t(e){return this.__data__.has(e)}return f2=t,f2}var h2,$8;function W3e(){if($8)return h2;$8=1;var t=H4(),e=q3e(),n=j3e();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,h2=r,h2}var p2,B8;function G3e(){if(B8)return p2;B8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return p2=t,p2}var g2,V8;function K3e(){if(V8)return g2;V8=1;function t(e,n){return e.has(n)}return g2=t,g2}var m2,z8;function jne(){if(z8)return m2;z8=1;var t=W3e(),e=G3e(),n=K3e(),r=1,i=2;function o(s,a,l,u,c,d){var h=l&r,p=s.length,m=a.length;if(p!=m&&!(h&&m>p))return!1;var y=d.get(s),w=d.get(a);if(y&&w)return y==a&&w==s;var _=-1,E=!0,S=l&i?new t:void 0;for(d.set(s,a),d.set(a,s);++_<p;){var T=s[_],I=a[_];if(u)var N=h?u(I,T,_,a,s,d):u(T,I,_,s,a,d);if(N!==void 0){if(N)continue;E=!1;break}if(S){if(!e(a,function(P,M){if(!n(S,M)&&(T===P||c(T,P,l,u,d)))return S.push(M)})){E=!1;break}}else if(!(T===I||c(T,I,l,u,d))){E=!1;break}}return d.delete(s),d.delete(a),E}return m2=o,m2}var y2,U8;function Wne(){if(U8)return y2;U8=1;var t=Nu(),e=t.Uint8Array;return y2=e,y2}var v2,H8;function Y3e(){if(H8)return v2;H8=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return v2=t,v2}var b2,q8;function X3e(){if(q8)return b2;q8=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return b2=t,b2}var w2,j8;function J3e(){if(j8)return w2;j8=1;var t=MS(),e=Wne(),n=z4(),r=jne(),i=Y3e(),o=X3e(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",h="[object Number]",p="[object RegExp]",m="[object Set]",y="[object String]",w="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",S=t?t.prototype:void 0,T=S?S.valueOf:void 0;function I(N,P,M,D,k,L,V){switch(M){case E:if(N.byteLength!=P.byteLength||N.byteOffset!=P.byteOffset)return!1;N=N.buffer,P=P.buffer;case _:return!(N.byteLength!=P.byteLength||!L(new e(N),new e(P)));case l:case u:case h:return n(+N,+P);case c:return N.name==P.name&&N.message==P.message;case p:case y:return N==P+"";case d:var $=i;case m:var z=D&s;if($||($=o),N.size!=P.size&&!z)return!1;var G=V.get(N);if(G)return G==P;D|=a,V.set(N,P);var K=r($(N),$(P),D,k,L,V);return V.delete(N),K;case w:if(T)return T.call(N)==T.call(P)}return!1}return w2=I,w2}var x2,W8;function Gne(){if(W8)return x2;W8=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return x2=t,x2}var _2,G8;function Kne(){if(G8)return _2;G8=1;var t=Gne(),e=pl();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return _2=n,_2}var S2,K8;function Q3e(){if(K8)return S2;K8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return S2=t,S2}var E2,Y8;function Yne(){if(Y8)return E2;Y8=1;function t(){return[]}return E2=t,E2}var C2,X8;function j4(){if(X8)return C2;X8=1;var t=Q3e(),e=Yne(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return C2=o,C2}var T2,J8;function Xne(){if(J8)return T2;J8=1;var t=Kne(),e=j4(),n=NS();function r(i){return t(i,n,e)}return T2=r,T2}var A2,Q8;function Z3e(){if(Q8)return A2;Q8=1;var t=Xne(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var d=a&e,h=t(o),p=h.length,m=t(s),y=m.length;if(p!=y&&!d)return!1;for(var w=p;w--;){var _=h[w];if(!(d?_ in s:r.call(s,_)))return!1}var E=c.get(o),S=c.get(s);if(E&&S)return E==s&&S==o;var T=!0;c.set(o,s),c.set(s,o);for(var I=d;++w<p;){_=h[w];var N=o[_],P=s[_];if(l)var M=d?l(P,N,_,s,o,c):l(N,P,_,o,s,c);if(!(M===void 0?N===P||u(N,P,a,l,c):M)){T=!1;break}I||(I=_=="constructor")}if(T&&!I){var D=o.constructor,k=s.constructor;D!=k&&"constructor"in o&&"constructor"in s&&!(typeof D=="function"&&D instanceof D&&typeof k=="function"&&k instanceof k)&&(T=!1)}return c.delete(o),c.delete(s),T}return A2=i,A2}var R2,Z8;function eBe(){if(Z8)return R2;Z8=1;var t=yg(),e=Nu(),n=t(e,"DataView");return R2=n,R2}var P2,eW;function tBe(){if(eW)return P2;eW=1;var t=yg(),e=Nu(),n=t(e,"Promise");return P2=n,P2}var I2,tW;function nBe(){if(tW)return I2;tW=1;var t=yg(),e=Nu(),n=t(e,"Set");return I2=n,I2}var k2,nW;function rBe(){if(nW)return k2;nW=1;var t=yg(),e=Nu(),n=t(e,"WeakMap");return k2=n,k2}var M2,rW;function QR(){if(rW)return M2;rW=1;var t=eBe(),e=U4(),n=tBe(),r=nBe(),i=rBe(),o=mg(),s=qne(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",h="[object DataView]",p=s(t),m=s(e),y=s(n),w=s(r),_=s(i),E=o;return(t&&E(new t(new ArrayBuffer(1)))!=h||e&&E(new e)!=a||n&&E(n.resolve())!=u||r&&E(new r)!=c||i&&E(new i)!=d)&&(E=function(S){var T=o(S),I=T==l?S.constructor:void 0,N=I?s(I):"";if(N)switch(N){case p:return h;case m:return a;case y:return u;case w:return c;case _:return d}return T}),M2=E,M2}var N2,iW;function iBe(){if(iW)return N2;iW=1;var t=q4(),e=jne(),n=J3e(),r=Z3e(),i=QR(),o=pl(),s=D4(),a=Fne(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function m(y,w,_,E,S,T){var I=o(y),N=o(w),P=I?c:i(y),M=N?c:i(w);P=P==u?d:P,M=M==u?d:M;var D=P==d,k=M==d,L=P==M;if(L&&s(y)){if(!s(w))return!1;I=!0,D=!1}if(L&&!D)return T||(T=new t),I||a(y)?e(y,w,_,E,S,T):n(y,w,P,_,E,S,T);if(!(_&l)){var V=D&&p.call(y,"__wrapped__"),$=k&&p.call(w,"__wrapped__");if(V||$){var z=V?y.value():y,G=$?w.value():w;return T||(T=new t),S(z,G,_,E,T)}}return L?(T||(T=new t),r(y,w,_,E,S,T)):!1}return N2=m,N2}var D2,oW;function Jne(){if(oW)return D2;oW=1;var t=iBe(),e=ud();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return D2=n,D2}var L2,sW;function oBe(){if(sW)return L2;sW=1;var t=q4(),e=Jne(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,d=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(d&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],m=o[p],y=h[1];if(d&&h[2]){if(m===void 0&&!(p in o))return!1}else{var w=new t;if(l)var _=l(m,y,p,o,s,w);if(!(_===void 0?e(y,m,n|r,l,w):_))return!1}}return!0}return L2=i,L2}var O2,aW;function Qne(){if(aW)return O2;aW=1;var t=v0();function e(n){return n===n&&!t(n)}return O2=e,O2}var F2,lW;function sBe(){if(lW)return F2;lW=1;var t=Qne(),e=NS();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return F2=n,F2}var $2,uW;function Zne(){if(uW)return $2;uW=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return $2=t,$2}var B2,cW;function aBe(){if(cW)return B2;cW=1;var t=oBe(),e=sBe(),n=Zne();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return B2=r,B2}var V2,dW;function W4(){if(dW)return V2;dW=1;var t=mg(),e=ud(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return V2=r,V2}var z2,fW;function G4(){if(fW)return z2;fW=1;var t=pl(),e=W4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return z2=i,z2}var U2,hW;function lBe(){if(hW)return U2;hW=1;var t=H4(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||t),o}return n.Cache=t,U2=n,U2}var H2,pW;function uBe(){if(pW)return H2;pW=1;var t=lBe(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return H2=n,H2}var q2,gW;function cBe(){if(gW)return q2;gW=1;var t=uBe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return q2=r,q2}var j2,mW;function dBe(){if(mW)return j2;mW=1;var t=MS(),e=Hne(),n=pl(),r=W4(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return j2=s,j2}var W2,yW;function fBe(){if(yW)return W2;yW=1;var t=dBe();function e(n){return n==null?"":t(n)}return W2=e,W2}var G2,vW;function ere(){if(vW)return G2;vW=1;var t=pl(),e=G4(),n=cBe(),r=fBe();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return G2=i,G2}var K2,bW;function ZR(){if(bW)return K2;bW=1;var t=W4();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return K2=e,K2}var Y2,wW;function tre(){if(wW)return Y2;wW=1;var t=ere(),e=ZR();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return Y2=n,Y2}var X2,xW;function hBe(){if(xW)return X2;xW=1;var t=tre();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return X2=e,X2}var J2,_W;function pBe(){if(_W)return J2;_W=1;function t(e,n){return e!=null&&n in Object(e)}return J2=t,J2}var Q2,SW;function gBe(){if(SW)return Q2;SW=1;var t=ere(),e=Lne(),n=pl(),r=One(),i=L4(),o=ZR();function s(a,l,u){l=t(l,a);for(var c=-1,d=l.length,h=!1;++c<d;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=d?h:(d=a==null?0:a.length,!!d&&i(d)&&r(p,d)&&(n(a)||e(a)))}return Q2=s,Q2}var Z2,EW;function mBe(){if(EW)return Z2;EW=1;var t=pBe(),e=gBe();function n(r,i){return r!=null&&e(r,i,t)}return Z2=n,Z2}var eN,CW;function yBe(){if(CW)return eN;CW=1;var t=Jne(),e=hBe(),n=mBe(),r=G4(),i=Qne(),o=Zne(),s=ZR(),a=1,l=2;function u(c,d){return r(c)&&i(d)?o(s(c),d):function(h){var p=e(h,c);return p===void 0&&p===d?n(h,c):t(d,p,a|l)}}return eN=u,eN}var tN,TW;function vBe(){if(TW)return tN;TW=1;function t(e){return function(n){return n==null?void 0:n[e]}}return tN=t,tN}var nN,AW;function bBe(){if(AW)return nN;AW=1;var t=tre();function e(n){return function(r){return t(r,n)}}return nN=e,nN}var rN,RW;function wBe(){if(RW)return rN;RW=1;var t=vBe(),e=bBe(),n=G4(),r=ZR();function i(o){return n(o)?t(r(o)):e(o)}return rN=i,rN}var iN,PW;function xBe(){if(PW)return iN;PW=1;var t=aBe(),e=yBe(),n=Une(),r=pl(),i=wBe();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return iN=o,iN}var oN,IW;function _Be(){if(IW)return oN;IW=1;var t=GR();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return oN=e,oN}var sN,kW;function SBe(){if(kW)return sN;kW=1;var t=zne(),e=_Be(),n=e(t);return sN=n,sN}var aN,MW;function EBe(){if(MW)return aN;MW=1;var t=SBe(),e=GR();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return aN=n,aN}var lN,NW;function CBe(){if(NW)return lN;NW=1;var t=Hne(),e=xBe(),n=EBe(),r=pl();function i(o,s){var a=r(o)?t:n;return a(o,e(s,3))}return lN=i,lN}var DW;function TBe(){if(DW)return Sm;DW=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.flattenNames=void 0;var t=a3e(),e=l(t),n=B4(),r=l(n),i=y3e(),o=l(i),s=CBe(),a=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=Sm.flattenNames=function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=[];return(0,a.default)(d,function(p){Array.isArray(p)?c(p).map(function(m){return h.push(m)}):(0,o.default)(p)?(0,r.default)(p,function(m,y){m===!0&&h.push(y),h.push(y+"-"+m)}):(0,e.default)(p)&&h.push(p)}),h};return Sm.default=u,Sm}var Em={},uN,LW;function ABe(){if(LW)return uN;LW=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return uN=t,uN}var cN,OW;function RBe(){if(OW)return cN;OW=1;var t=yg(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return cN=e,cN}var dN,FW;function nre(){if(FW)return dN;FW=1;var t=RBe();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return dN=e,dN}var fN,$W;function rre(){if($W)return fN;$W=1;var t=nre(),e=z4(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&t(o,s,a)}return fN=i,fN}var hN,BW;function eP(){if(BW)return hN;BW=1;var t=rre(),e=nre();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=s?s(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),a?e(o,c,d):t(o,c,d)}return o}return hN=n,hN}var pN,VW;function PBe(){if(VW)return pN;VW=1;var t=eP(),e=NS();function n(r,i){return r&&t(i,e(i),r)}return pN=n,pN}var gN,zW;function IBe(){if(zW)return gN;zW=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return gN=t,gN}var mN,UW;function kBe(){if(UW)return mN;UW=1;var t=v0(),e=$4(),n=IBe(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!t(s))return n(s);var a=e(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return mN=o,mN}var yN,HW;function K4(){if(HW)return yN;HW=1;var t=$ne(),e=kBe(),n=GR();function r(i){return n(i)?t(i,!0):e(i)}return yN=r,yN}var vN,qW;function MBe(){if(qW)return vN;qW=1;var t=eP(),e=K4();function n(r,i){return r&&t(i,e(i),r)}return vN=n,vN}var Zb={exports:{}};Zb.exports;var jW;function NBe(){return jW||(jW=1,function(t,e){var n=Nu(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}t.exports=l}(Zb,Zb.exports)),Zb.exports}var bN,WW;function DBe(){if(WW)return bN;WW=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return bN=t,bN}var wN,GW;function LBe(){if(GW)return wN;GW=1;var t=eP(),e=j4();function n(r,i){return t(r,e(r),i)}return wN=n,wN}var xN,KW;function ire(){if(KW)return xN;KW=1;var t=Gne(),e=V4(),n=j4(),r=Yne(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)t(a,n(s)),s=e(s);return a}:r;return xN=o,xN}var _N,YW;function OBe(){if(YW)return _N;YW=1;var t=eP(),e=ire();function n(r,i){return t(r,e(r),i)}return _N=n,_N}var SN,XW;function FBe(){if(XW)return SN;XW=1;var t=Kne(),e=ire(),n=K4();function r(i){return t(i,n,e)}return SN=r,SN}var EN,JW;function $Be(){if(JW)return EN;JW=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return EN=n,EN}var CN,QW;function Y4(){if(QW)return CN;QW=1;var t=Wne();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return CN=e,CN}var TN,ZW;function BBe(){if(ZW)return TN;ZW=1;var t=Y4();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return TN=e,TN}var AN,e7;function VBe(){if(e7)return AN;e7=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return AN=e,AN}var RN,t7;function zBe(){if(t7)return RN;t7=1;var t=MS(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return RN=r,RN}var PN,n7;function UBe(){if(n7)return PN;n7=1;var t=Y4();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return PN=e,PN}var IN,r7;function HBe(){if(r7)return IN;r7=1;var t=Y4(),e=BBe(),n=VBe(),r=zBe(),i=UBe(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]";function M(D,k,L){var V=D.constructor;switch(k){case p:return t(D);case o:case s:return new V(+D);case m:return e(D,L);case y:case w:case _:case E:case S:case T:case I:case N:case P:return i(D,L);case a:return new V;case l:case d:return new V(D);case u:return n(D);case c:return new V;case h:return r(D)}}return IN=M,IN}var kN,i7;function qBe(){if(i7)return kN;i7=1;var t=v0(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return kN=n,kN}var MN,o7;function jBe(){if(o7)return MN;o7=1;var t=qBe(),e=V4(),n=$4();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return MN=r,MN}var NN,s7;function WBe(){if(s7)return NN;s7=1;var t=QR(),e=ud(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return NN=r,NN}var DN,a7;function GBe(){if(a7)return DN;a7=1;var t=WBe(),e=O4(),n=F4(),r=n&&n.isMap,i=r?e(r):t;return DN=i,DN}var LN,l7;function KBe(){if(l7)return LN;l7=1;var t=QR(),e=ud(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return LN=r,LN}var ON,u7;function YBe(){if(u7)return ON;u7=1;var t=KBe(),e=O4(),n=F4(),r=n&&n.isSet,i=r?e(r):t;return ON=i,ON}var FN,c7;function XBe(){if(c7)return FN;c7=1;var t=q4(),e=ABe(),n=rre(),r=PBe(),i=MBe(),o=NBe(),s=DBe(),a=LBe(),l=OBe(),u=Xne(),c=FBe(),d=QR(),h=$Be(),p=HBe(),m=jBe(),y=pl(),w=D4(),_=GBe(),E=v0(),S=YBe(),T=NS(),I=K4(),N=1,P=2,M=4,D="[object Arguments]",k="[object Array]",L="[object Boolean]",V="[object Date]",$="[object Error]",z="[object Function]",G="[object GeneratorFunction]",K="[object Map]",J="[object Number]",ee="[object Object]",X="[object RegExp]",j="[object Set]",Q="[object String]",ue="[object Symbol]",q="[object WeakMap]",Y="[object ArrayBuffer]",te="[object DataView]",le="[object Float32Array]",de="[object Float64Array]",se="[object Int8Array]",ce="[object Int16Array]",fe="[object Int32Array]",ye="[object Uint8Array]",we="[object Uint8ClampedArray]",Re="[object Uint16Array]",Ae="[object Uint32Array]",be={};be[D]=be[k]=be[Y]=be[te]=be[L]=be[V]=be[le]=be[de]=be[se]=be[ce]=be[fe]=be[K]=be[J]=be[ee]=be[X]=be[j]=be[Q]=be[ue]=be[ye]=be[we]=be[Re]=be[Ae]=!0,be[$]=be[z]=be[q]=!1;function Ke(Ve,Oe,Me,je,wt,ke){var dt,ot=Oe&N,St=Oe&P,ve=Oe&M;if(Me&&(dt=wt?Me(Ve,je,wt,ke):Me(Ve)),dt!==void 0)return dt;if(!E(Ve))return Ve;var Ce=y(Ve);if(Ce){if(dt=h(Ve),!ot)return s(Ve,dt)}else{var He=d(Ve),et=He==z||He==G;if(w(Ve))return o(Ve,ot);if(He==ee||He==D||et&&!wt){if(dt=St||et?{}:m(Ve),!ot)return St?l(Ve,i(dt,Ve)):a(Ve,r(dt,Ve))}else{if(!be[He])return wt?Ve:{};dt=p(Ve,He,ot)}}ke||(ke=new t);var Ze=ke.get(Ve);if(Ze)return Ze;ke.set(Ve,dt),S(Ve)?Ve.forEach(function($t){dt.add(Ke($t,Oe,Me,$t,Ve,ke))}):_(Ve)&&Ve.forEach(function($t,rn){dt.set(rn,Ke($t,Oe,Me,rn,Ve,ke))});var tt=ve?St?c:u:St?I:T,Yt=Ce?void 0:tt(Ve);return e(Yt||Ve,function($t,rn){Yt&&(rn=$t,$t=Ve[rn]),n(dt,rn,Ke($t,Oe,Me,rn,Ve,ke))}),dt}return FN=Ke,FN}var $N,d7;function JBe(){if(d7)return $N;d7=1;var t=XBe(),e=1,n=4;function r(i){return t(i,e|n)}return $N=r,$N}var f7;function QBe(){if(f7)return Em;f7=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.mergeClasses=void 0;var t=B4(),e=o(t),n=JBe(),r=o(n),i=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var s=Em.mergeClasses=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=l.default&&(0,r.default)(l.default)||{};return u.map(function(d){var h=l[d];return h&&(0,e.default)(h,function(p,m){c[m]||(c[m]={}),c[m]=i({},c[m],h[m])}),d}),c};return Em.default=s,Em}var Cm={},h7;function ZBe(){if(h7)return Cm;h7=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.autoprefix=void 0;var t=B4(),e=r(t),n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s};function r(s){return s&&s.__esModule?s:{default:s}}var i={borderRadius:function(a){return{msBorderRadius:a,MozBorderRadius:a,OBorderRadius:a,WebkitBorderRadius:a,borderRadius:a}},boxShadow:function(a){return{msBoxShadow:a,MozBoxShadow:a,OBoxShadow:a,WebkitBoxShadow:a,boxShadow:a}},userSelect:function(a){return{WebkitTouchCallout:a,KhtmlUserSelect:a,MozUserSelect:a,msUserSelect:a,WebkitUserSelect:a,userSelect:a}},flex:function(a){return{WebkitBoxFlex:a,MozBoxFlex:a,WebkitFlex:a,msFlex:a,flex:a}},flexBasis:function(a){return{WebkitFlexBasis:a,flexBasis:a}},justifyContent:function(a){return{WebkitJustifyContent:a,justifyContent:a}},transition:function(a){return{msTransition:a,MozTransition:a,OTransition:a,WebkitTransition:a,transition:a}},transform:function(a){return{msTransform:a,MozTransform:a,OTransform:a,WebkitTransform:a,transform:a}},absolute:function(a){var l=a&&a.split(" ");return{position:"absolute",top:l&&l[0],right:l&&l[1],bottom:l&&l[2],left:l&&l[3]}},extend:function(a,l){var u=l[a];return u||{extend:a}}},o=Cm.autoprefix=function(a){var l={};return(0,e.default)(a,function(u,c){var d={};(0,e.default)(u,function(h,p){var m=i[p];m?d=n({},d,m(h)):d[p]=h}),l[c]=d}),l};return Cm.default=o,Cm}var Tm={},p7;function eVe(){if(p7)return Tm;p7=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.hover=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=dl(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=Tm.hover=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(h,d);function h(){var p,m,y,w;i(this,h);for(var _=arguments.length,E=Array(_),S=0;S<_;S++)E[S]=arguments[S];return w=(m=(y=o(this,(p=h.__proto__||Object.getPrototypeOf(h)).call.apply(p,[this].concat(E))),y),y.state={hover:!1},y.handleMouseOver=function(){return y.setState({hover:!0})},y.handleMouseOut=function(){return y.setState({hover:!1})},y.render=function(){return n.default.createElement(c,{onMouseOver:y.handleMouseOver,onMouseOut:y.handleMouseOut},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,w)}return h}(n.default.Component)};return Tm.default=a,Tm}var Am={},g7;function tVe(){if(g7)return Am;g7=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.active=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=dl(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=Am.active=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(h,d);function h(){var p,m,y,w;i(this,h);for(var _=arguments.length,E=Array(_),S=0;S<_;S++)E[S]=arguments[S];return w=(m=(y=o(this,(p=h.__proto__||Object.getPrototypeOf(h)).call.apply(p,[this].concat(E))),y),y.state={active:!1},y.handleMouseDown=function(){return y.setState({active:!0})},y.handleMouseUp=function(){return y.setState({active:!1})},y.render=function(){return n.default.createElement(c,{onMouseDown:y.handleMouseDown,onMouseUp:y.handleMouseUp},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,w)}return h}(n.default.Component)};return Am.default=a,Am}var L1={},m7;function nVe(){if(m7)return L1;m7=1,Object.defineProperty(L1,"__esModule",{value:!0});var t=function(n,r){var i={},o=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[a]=l};return n===0&&o("first-child"),n===r-1&&o("last-child"),(n===0||n%2===0)&&o("even"),Math.abs(n%2)===1&&o("odd"),o("nth-child",n),i};return L1.default=t,L1}var y7;function rVe(){if(y7)return zo;y7=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.ReactCSS=zo.loop=zo.handleActive=zo.handleHover=zo.hover=void 0;var t=TBe(),e=h(t),n=QBe(),r=h(n),i=ZBe(),o=h(i),s=eVe(),a=h(s),l=tVe(),u=h(l),c=nVe(),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}zo.hover=a.default,zo.handleHover=a.default,zo.handleActive=u.default,zo.loop=d.default;var p=zo.ReactCSS=function(y){for(var w=arguments.length,_=Array(w>1?w-1:0),E=1;E<w;E++)_[E-1]=arguments[E];var S=(0,e.default)(_),T=(0,r.default)(y,S);return(0,o.default)(T)};return zo.default=p,zo}var X4=rVe();const Kt=uo(X4);var iVe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(d<0?h=0:d>a?h=1:h=Math.round(d*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>s?p=1:p=Math.round(c*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},BN={},oVe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},sVe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(BN[o])return BN[o];var s=oVe(e,n,r,i);return BN[o]=s,s},v7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,u=Kt({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+sVe(n,r,i,o.canvas)+") center left"}}});return F.isValidElement(l)?oe.cloneElement(l,v7({},l.props,{style:v7({},l.props.style,u.grid)})):oe.createElement("div",{style:u.grid})};b0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var aVe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lVe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function uVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var J4=function(t){cVe(e,t);function e(){var n,r,i,o;uVe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=b7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=iVe(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),b7(i,o)}return lVe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Kt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:aVe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return oe.createElement("div",{style:o.alpha},oe.createElement("div",{style:o.checkboard},oe.createElement(b0,{renderers:this.props.renderers})),oe.createElement("div",{style:o.gradient}),oe.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("div",{style:o.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:o.slider}))))}}]),e}(F.PureComponent||F.Component),dVe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function fVe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pVe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mVe=1,ore=38,yVe=40,vVe=[ore,yVe],bVe=function(e){return vVe.indexOf(e)>-1},wVe=function(e){return Number(String(e).replace(/%/g,""))},xVe=1,wn=function(t){gVe(e,t);function e(n){hVe(this,e);var r=pVe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=wVe(i.target.value);if(!isNaN(o)&&bVe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===ore?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+xVe++,r}return dVe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return fVe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||mVe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Kt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return oe.createElement("div",{style:i.wrap},oe.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?oe.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(F.PureComponent||F.Component),_Ve=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(c<0)d=359;else if(c>s)d=0;else{var h=-(c*100/s)+100;d=360*h/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>o)p=359;else{var m=u*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},SVe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function EVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function CVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var w0=function(t){CVe(e,t);function e(){var n,r,i,o;EVe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=w7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=_Ve(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),w7(i,o)}return SVe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Kt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return oe.createElement("div",{style:s.hue},oe.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),oe.createElement("div",{style:s.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:s.slider}))))}}]),e}(F.PureComponent||F.Component);function TVe(){this.__data__=[],this.size=0}function DS(t,e){return t===e||t!==t&&e!==e}function tP(t,e){for(var n=t.length;n--;)if(DS(t[n][0],e))return n;return-1}var AVe=Array.prototype,RVe=AVe.splice;function PVe(t){var e=this.__data__,n=tP(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():RVe.call(e,n,1),--this.size,!0}function IVe(t){var e=this.__data__,n=tP(e,t);return n<0?void 0:e[n][1]}function kVe(t){return tP(this.__data__,t)>-1}function MVe(t,e){var n=this.__data__,r=tP(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function cd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cd.prototype.clear=TVe;cd.prototype.delete=PVe;cd.prototype.get=IVe;cd.prototype.has=kVe;cd.prototype.set=MVe;function NVe(){this.__data__=new cd,this.size=0}function DVe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function LVe(t){return this.__data__.get(t)}function OVe(t){return this.__data__.has(t)}var sre=typeof global=="object"&&global&&global.Object===Object&&global,FVe=typeof self=="object"&&self&&self.Object===Object&&self,gl=sre||FVe||Function("return this")(),zf=gl.Symbol,are=Object.prototype,$Ve=are.hasOwnProperty,BVe=are.toString,xb=zf?zf.toStringTag:void 0;function VVe(t){var e=$Ve.call(t,xb),n=t[xb];try{t[xb]=void 0;var r=!0}catch{}var i=BVe.call(t);return r&&(e?t[xb]=n:delete t[xb]),i}var zVe=Object.prototype,UVe=zVe.toString;function HVe(t){return UVe.call(t)}var qVe="[object Null]",jVe="[object Undefined]",x7=zf?zf.toStringTag:void 0;function vg(t){return t==null?t===void 0?jVe:qVe:x7&&x7 in Object(t)?VVe(t):HVe(t)}function ma(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var WVe="[object AsyncFunction]",GVe="[object Function]",KVe="[object GeneratorFunction]",YVe="[object Proxy]";function Q4(t){if(!ma(t))return!1;var e=vg(t);return e==GVe||e==KVe||e==WVe||e==YVe}var VN=gl["__core-js_shared__"],_7=function(){var t=/[^.]+$/.exec(VN&&VN.keys&&VN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function XVe(t){return!!_7&&_7 in t}var JVe=Function.prototype,QVe=JVe.toString;function bg(t){if(t!=null){try{return QVe.call(t)}catch{}try{return t+""}catch{}}return""}var ZVe=/[\\^$.*+?()[\]{}|]/g,eze=/^\[object .+?Constructor\]$/,tze=Function.prototype,nze=Object.prototype,rze=tze.toString,ize=nze.hasOwnProperty,oze=RegExp("^"+rze.call(ize).replace(ZVe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sze(t){if(!ma(t)||XVe(t))return!1;var e=Q4(t)?oze:eze;return e.test(bg(t))}function aze(t,e){return t==null?void 0:t[e]}function wg(t,e){var n=aze(t,e);return sze(n)?n:void 0}var xx=wg(gl,"Map"),_x=wg(Object,"create");function lze(){this.__data__=_x?_x(null):{},this.size=0}function uze(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cze="__lodash_hash_undefined__",dze=Object.prototype,fze=dze.hasOwnProperty;function hze(t){var e=this.__data__;if(_x){var n=e[t];return n===cze?void 0:n}return fze.call(e,t)?e[t]:void 0}var pze=Object.prototype,gze=pze.hasOwnProperty;function mze(t){var e=this.__data__;return _x?e[t]!==void 0:gze.call(e,t)}var yze="__lodash_hash_undefined__";function vze(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_x&&e===void 0?yze:e,this}function Zp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zp.prototype.clear=lze;Zp.prototype.delete=uze;Zp.prototype.get=hze;Zp.prototype.has=mze;Zp.prototype.set=vze;function bze(){this.size=0,this.__data__={hash:new Zp,map:new(xx||cd),string:new Zp}}function wze(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function nP(t,e){var n=t.__data__;return wze(e)?n[typeof e=="string"?"string":"hash"]:n.map}function xze(t){var e=nP(this,t).delete(t);return this.size-=e?1:0,e}function _ze(t){return nP(this,t).get(t)}function Sze(t){return nP(this,t).has(t)}function Eze(t,e){var n=nP(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function dd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dd.prototype.clear=bze;dd.prototype.delete=xze;dd.prototype.get=_ze;dd.prototype.has=Sze;dd.prototype.set=Eze;var Cze=200;function Tze(t,e){var n=this.__data__;if(n instanceof cd){var r=n.__data__;if(!xx||r.length<Cze-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new dd(r)}return n.set(t,e),this.size=n.size,this}function wu(t){var e=this.__data__=new cd(t);this.size=e.size}wu.prototype.clear=NVe;wu.prototype.delete=DVe;wu.prototype.get=LVe;wu.prototype.has=OVe;wu.prototype.set=Tze;var JT=function(){try{var t=wg(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Z4(t,e,n){e=="__proto__"&&JT?JT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function HO(t,e,n){(n!==void 0&&!DS(t[e],n)||n===void 0&&!(e in t))&&Z4(t,e,n)}function Aze(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var lre=Aze(),ure=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,S7=ure&&typeof $s=="object"&&$s&&!$s.nodeType&&$s,Rze=S7&&S7.exports===ure,E7=Rze?gl.Buffer:void 0;E7&&E7.allocUnsafe;function Pze(t,e){return t.slice()}var QT=gl.Uint8Array;function Ize(t){var e=new t.constructor(t.byteLength);return new QT(e).set(new QT(t)),e}function kze(t,e){var n=Ize(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Mze(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var C7=Object.create,Nze=function(){function t(){}return function(e){if(!ma(e))return{};if(C7)return C7(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function cre(t,e){return function(n){return t(e(n))}}var dre=cre(Object.getPrototypeOf,Object),Dze=Object.prototype;function e3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Dze;return t===n}function Lze(t){return typeof t.constructor=="function"&&!e3(t)?Nze(dre(t)):{}}function Uf(t){return t!=null&&typeof t=="object"}var Oze="[object Arguments]";function T7(t){return Uf(t)&&vg(t)==Oze}var fre=Object.prototype,Fze=fre.hasOwnProperty,$ze=fre.propertyIsEnumerable,ZT=T7(function(){return arguments}())?T7:function(t){return Uf(t)&&Fze.call(t,"callee")&&!$ze.call(t,"callee")},Hs=Array.isArray,Bze=9007199254740991;function t3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bze}function x0(t){return t!=null&&t3(t.length)&&!Q4(t)}function Vze(t){return Uf(t)&&x0(t)}function zze(){return!1}var hre=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,A7=hre&&typeof $s=="object"&&$s&&!$s.nodeType&&$s,Uze=A7&&A7.exports===hre,R7=Uze?gl.Buffer:void 0,Hze=R7?R7.isBuffer:void 0,eA=Hze||zze,qze="[object Object]",jze=Function.prototype,Wze=Object.prototype,pre=jze.toString,Gze=Wze.hasOwnProperty,Kze=pre.call(Object);function Yze(t){if(!Uf(t)||vg(t)!=qze)return!1;var e=dre(t);if(e===null)return!0;var n=Gze.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pre.call(n)==Kze}var Xze="[object Arguments]",Jze="[object Array]",Qze="[object Boolean]",Zze="[object Date]",e6e="[object Error]",t6e="[object Function]",n6e="[object Map]",r6e="[object Number]",i6e="[object Object]",o6e="[object RegExp]",s6e="[object Set]",a6e="[object String]",l6e="[object WeakMap]",u6e="[object ArrayBuffer]",c6e="[object DataView]",d6e="[object Float32Array]",f6e="[object Float64Array]",h6e="[object Int8Array]",p6e="[object Int16Array]",g6e="[object Int32Array]",m6e="[object Uint8Array]",y6e="[object Uint8ClampedArray]",v6e="[object Uint16Array]",b6e="[object Uint32Array]",hr={};hr[d6e]=hr[f6e]=hr[h6e]=hr[p6e]=hr[g6e]=hr[m6e]=hr[y6e]=hr[v6e]=hr[b6e]=!0;hr[Xze]=hr[Jze]=hr[u6e]=hr[Qze]=hr[c6e]=hr[Zze]=hr[e6e]=hr[t6e]=hr[n6e]=hr[r6e]=hr[i6e]=hr[o6e]=hr[s6e]=hr[a6e]=hr[l6e]=!1;function w6e(t){return Uf(t)&&t3(t.length)&&!!hr[vg(t)]}function x6e(t){return function(e){return t(e)}}var gre=typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,Lw=gre&&typeof $s=="object"&&$s&&!$s.nodeType&&$s,_6e=Lw&&Lw.exports===gre,zN=_6e&&sre.process,P7=function(){try{var t=Lw&&Lw.require&&Lw.require("util").types;return t||zN&&zN.binding&&zN.binding("util")}catch{}}(),I7=P7&&P7.isTypedArray,n3=I7?x6e(I7):w6e;function qO(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var S6e=Object.prototype,E6e=S6e.hasOwnProperty;function C6e(t,e,n){var r=t[e];(!(E6e.call(t,e)&&DS(r,n))||n===void 0&&!(e in t))&&Z4(t,e,n)}function T6e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?Z4(n,a,l):C6e(n,a,l)}return n}function A6e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var R6e=9007199254740991,P6e=/^(?:0|[1-9]\d*)$/;function r3(t,e){var n=typeof t;return e=e??R6e,!!e&&(n=="number"||n!="symbol"&&P6e.test(t))&&t>-1&&t%1==0&&t<e}var I6e=Object.prototype,k6e=I6e.hasOwnProperty;function mre(t,e){var n=Hs(t),r=!n&&ZT(t),i=!n&&!r&&eA(t),o=!n&&!r&&!i&&n3(t),s=n||r||i||o,a=s?A6e(t.length,String):[],l=a.length;for(var u in t)(e||k6e.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||r3(u,l)))&&a.push(u);return a}function M6e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var N6e=Object.prototype,D6e=N6e.hasOwnProperty;function L6e(t){if(!ma(t))return M6e(t);var e=e3(t),n=[];for(var r in t)r=="constructor"&&(e||!D6e.call(t,r))||n.push(r);return n}function yre(t){return x0(t)?mre(t,!0):L6e(t)}function O6e(t){return T6e(t,yre(t))}function F6e(t,e,n,r,i,o,s){var a=qO(t,n),l=qO(e,n),u=s.get(l);if(u){HO(t,n,u);return}var c=o?o(a,l,n+"",t,e,s):void 0,d=c===void 0;if(d){var h=Hs(l),p=!h&&eA(l),m=!h&&!p&&n3(l);c=l,h||p||m?Hs(a)?c=a:Vze(a)?c=Mze(a):p?(d=!1,c=Pze(l)):m?(d=!1,c=kze(l)):c=[]:Yze(l)||ZT(l)?(c=a,ZT(a)?c=O6e(a):(!ma(a)||Q4(a))&&(c=Lze(l))):d=!1}d&&(s.set(l,c),i(c,l,r,o,s),s.delete(l)),HO(t,n,c)}function vre(t,e,n,r,i){t!==e&&lre(e,function(o,s){if(i||(i=new wu),ma(o))F6e(t,e,s,n,vre,r,i);else{var a=r?r(qO(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),HO(t,s,a)}},yre)}function rP(t){return t}function $6e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var k7=Math.max;function B6e(t,e,n){return e=k7(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=k7(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),$6e(t,this,a)}}function V6e(t){return function(){return t}}var z6e=JT?function(t,e){return JT(t,"toString",{configurable:!0,enumerable:!1,value:V6e(e),writable:!0})}:rP,U6e=800,H6e=16,q6e=Date.now;function j6e(t){var e=0,n=0;return function(){var r=q6e(),i=H6e-(r-n);if(n=r,i>0){if(++e>=U6e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var W6e=j6e(z6e);function G6e(t,e){return W6e(B6e(t,e,rP),t+"")}function K6e(t,e,n){if(!ma(n))return!1;var r=typeof e;return(r=="number"?x0(n)&&r3(e,n.length):r=="string"&&e in n)?DS(n[e],t):!1}function Y6e(t){return G6e(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&K6e(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var as=Y6e(function(t,e,n){vre(t,e,n)}),LS=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Kt(as({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return oe.createElement("div",{style:l.wrap},oe.createElement("div",{style:l.bg}),oe.createElement("div",{style:l.content},o))};LS.propTypes={background:ge.string,zDepth:ge.oneOf([0,1,2,3,4,5]),radius:ge.number,styles:ge.object};LS.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var UN=function(){return gl.Date.now()},X6e=/\s/;function J6e(t){for(var e=t.length;e--&&X6e.test(t.charAt(e)););return e}var Q6e=/^\s+/;function Z6e(t){return t&&t.slice(0,J6e(t)+1).replace(Q6e,"")}var eUe="[object Symbol]";function iP(t){return typeof t=="symbol"||Uf(t)&&vg(t)==eUe}var M7=NaN,tUe=/^[-+]0x[0-9a-f]+$/i,nUe=/^0b[01]+$/i,rUe=/^0o[0-7]+$/i,iUe=parseInt;function N7(t){if(typeof t=="number")return t;if(iP(t))return M7;if(ma(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ma(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Z6e(t);var n=nUe.test(t);return n||rUe.test(t)?iUe(t.slice(2),n?2:8):tUe.test(t)?M7:+t}var oUe="Expected a function",sUe=Math.max,aUe=Math.min;function bre(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(oUe);e=N7(e)||0,ma(n)&&(c=!!n.leading,d="maxWait"in n,o=d?sUe(N7(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var P=r,M=i;return r=i=void 0,u=N,s=t.apply(M,P),s}function m(N){return u=N,a=setTimeout(_,e),c?p(N):s}function y(N){var P=N-l,M=N-u,D=e-P;return d?aUe(D,o-M):D}function w(N){var P=N-l,M=N-u;return l===void 0||P>=e||P<0||d&&M>=o}function _(){var N=UN();if(w(N))return E(N);a=setTimeout(_,y(N))}function E(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function T(){return a===void 0?s:E(UN())}function I(){var N=UN(),P=w(N);if(r=arguments,i=this,l=N,P){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return I.cancel=S,I.flush=T,I}var lUe="Expected a function";function uUe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lUe);return ma(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),bre(t,e,{leading:r,maxWait:e,trailing:i})}var cUe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),c<0?c=0:c>s&&(c=s);var d=u/o,h=1-c/s;return{h:n.h,s:d,v:h,a:n.a,source:"hsv"}},dUe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function fUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hUe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oP=function(t){pUe(e,t);function e(n){fUe(this,e);var r=hUe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,cUe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=uUe(function(i,o,s){i(o,s)},50),r}return dUe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,u=i.circle,c=Kt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return oe.createElement("div",{style:c.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),oe.createElement("div",{style:c.white,className:"saturation-white"},oe.createElement("div",{style:c.black,className:"saturation-black"}),oe.createElement("div",{style:c.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:c.circle}))))}}]),e}(F.PureComponent||F.Component);function gUe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var mUe=cre(Object.keys,Object),yUe=Object.prototype,vUe=yUe.hasOwnProperty;function bUe(t){if(!e3(t))return mUe(t);var e=[];for(var n in Object(t))vUe.call(t,n)&&n!="constructor"&&e.push(n);return e}function i3(t){return x0(t)?mre(t):bUe(t)}function wUe(t,e){return t&&lre(t,e,i3)}function xUe(t,e){return function(n,r){if(n==null)return n;if(!x0(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var wre=xUe(wUe);function _Ue(t){return typeof t=="function"?t:rP}function SUe(t,e){var n=Hs(t)?gUe:wre;return n(t,_Ue(e))}function tA(t){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(t)}var EUe=/^\s+/,CUe=/\s+$/;function Tt(t,e){if(t=t||"",e=e||{},t instanceof Tt)return t;if(!(this instanceof Tt))return new Tt(t,e);var n=TUe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Tt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=xre(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=L7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=L7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=D7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=D7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return O7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return IUe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wr(this._r,255)*100)+"%",g:Math.round(wr(this._g,255)*100)+"%",b:Math.round(wr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%)":"rgba("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:UUe[O7(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+F7(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Tt(e);r="#"+F7(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Tt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(DUe,arguments)},brighten:function(){return this._applyModification(LUe,arguments)},darken:function(){return this._applyModification(OUe,arguments)},desaturate:function(){return this._applyModification(kUe,arguments)},saturate:function(){return this._applyModification(MUe,arguments)},greyscale:function(){return this._applyModification(NUe,arguments)},spin:function(){return this._applyModification(FUe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(VUe,arguments)},complement:function(){return this._applyCombination($Ue,arguments)},monochromatic:function(){return this._applyCombination(zUe,arguments)},splitcomplement:function(){return this._applyCombination(BUe,arguments)},triad:function(){return this._applyCombination($7,[3])},tetrad:function(){return this._applyCombination($7,[4])}};Tt.fromRatio=function(t,e){if(tA(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ew(t[r]));t=n}return Tt(t,e)};function TUe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=WUe(t)),tA(t)=="object"&&(ec(t.r)&&ec(t.g)&&ec(t.b)?(e=AUe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ec(t.h)&&ec(t.s)&&ec(t.v)?(r=ew(t.s),i=ew(t.v),e=PUe(t.h,r,i),s=!0,a="hsv"):ec(t.h)&&ec(t.s)&&ec(t.l)&&(r=ew(t.s),o=ew(t.l),e=RUe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=xre(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function AUe(t,e,n){return{r:wr(t,255)*255,g:wr(e,255)*255,b:wr(n,255)*255}}function D7(t,e,n){t=wr(t,255),e=wr(e,255),n=wr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function RUe(t,e,n){var r,i,o;t=wr(t,360),e=wr(e,100),n=wr(n,100);function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function L7(t,e,n){t=wr(t,255),e=wr(e,255),n=wr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function PUe(t,e,n){t=wr(t,360)*6,e=wr(e,100),n=wr(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:d*255}}function O7(t,e,n,r){var i=[rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function IUe(t,e,n,r,i){var o=[rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(n).toString(16)),rl(_re(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function F7(t,e,n,r){var i=[rl(_re(r)),rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(n).toString(16))];return i.join("")}Tt.equals=function(t,e){return!t||!e?!1:Tt(t).toRgbString()==Tt(e).toRgbString()};Tt.random=function(){return Tt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function kUe(t,e){e=e===0?0:e||10;var n=Tt(t).toHsl();return n.s-=e/100,n.s=sP(n.s),Tt(n)}function MUe(t,e){e=e===0?0:e||10;var n=Tt(t).toHsl();return n.s+=e/100,n.s=sP(n.s),Tt(n)}function NUe(t){return Tt(t).desaturate(100)}function DUe(t,e){e=e===0?0:e||10;var n=Tt(t).toHsl();return n.l+=e/100,n.l=sP(n.l),Tt(n)}function LUe(t,e){e=e===0?0:e||10;var n=Tt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Tt(n)}function OUe(t,e){e=e===0?0:e||10;var n=Tt(t).toHsl();return n.l-=e/100,n.l=sP(n.l),Tt(n)}function FUe(t,e){var n=Tt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Tt(n)}function $Ue(t){var e=Tt(t).toHsl();return e.h=(e.h+180)%360,Tt(e)}function $7(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Tt(t).toHsl(),r=[Tt(t)],i=360/e,o=1;o<e;o++)r.push(Tt({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function BUe(t){var e=Tt(t).toHsl(),n=e.h;return[Tt(t),Tt({h:(n+72)%360,s:e.s,l:e.l}),Tt({h:(n+216)%360,s:e.s,l:e.l})]}function VUe(t,e,n){e=e||6,n=n||30;var r=Tt(t).toHsl(),i=360/n,o=[Tt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Tt(r));return o}function zUe(t,e){e=e||6;for(var n=Tt(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Tt({h:r,s:i,v:o})),o=(o+a)%1;return s}Tt.mix=function(t,e,n){n=n===0?0:n||50;var r=Tt(t).toRgb(),i=Tt(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Tt(s)};Tt.readability=function(t,e){var n=Tt(t),r=Tt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Tt.isReadable=function(t,e,n){var r=Tt.readability(t,e),i,o;switch(o=!1,i=GUe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Tt.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)o=Tt.readability(t,e[u]),o>i&&(i=o,r=Tt(e[u]));return Tt.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Tt.mostReadable(t,["#fff","#000"],n))};var jO=Tt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},UUe=Tt.hexNames=HUe(jO);function HUe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function xre(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function wr(t,e){qUe(t)&&(t="100%");var n=jUe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function sP(t){return Math.min(1,Math.max(0,t))}function xs(t){return parseInt(t,16)}function qUe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function jUe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function rl(t){return t.length==1?"0"+t:""+t}function ew(t){return t<=1&&(t=t*100+"%"),t}function _re(t){return Math.round(parseFloat(t)*255).toString(16)}function B7(t){return xs(t)/255}var Oa=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ec(t){return!!Oa.CSS_UNIT.exec(t)}function WUe(t){t=t.replace(EUe,"").replace(CUe,"").toLowerCase();var e=!1;if(jO[t])t=jO[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Oa.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Oa.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Oa.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Oa.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Oa.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Oa.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Oa.hex8.exec(t))?{r:xs(n[1]),g:xs(n[2]),b:xs(n[3]),a:B7(n[4]),format:e?"name":"hex8"}:(n=Oa.hex6.exec(t))?{r:xs(n[1]),g:xs(n[2]),b:xs(n[3]),format:e?"name":"hex"}:(n=Oa.hex4.exec(t))?{r:xs(n[1]+""+n[1]),g:xs(n[2]+""+n[2]),b:xs(n[3]+""+n[3]),a:B7(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Oa.hex3.exec(t))?{r:xs(n[1]+""+n[1]),g:xs(n[2]+""+n[2]),b:xs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function GUe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var V7=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return SUe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},tw=function(e,n){var r=e.hex?Tt(e.hex):Tt(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Jf=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Tt(e).isValid()},o3=function(e){if(!e)return"#fff";var n=tw(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},HN=function(e,n){var r=e.replace("°","");return Tt(n+" ("+r+")")._ok},_b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KUe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function YUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XUe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ls=function(e){var n=function(r){JUe(i,r);function i(o){YUe(this,i);var s=XUe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var u=V7(a);if(u){var c=tw(a,a.h||s.state.oldHue);s.setState(c),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,c,l),s.props.onChange&&s.props.onChange(c,l)}},s.handleSwatchHover=function(a,l){var u=V7(a);if(u){var c=tw(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(c,l)}},s.state=_b({},tw(o.color,0)),s.debounce=bre(function(a,l,u){a(l,u)},100),s}return KUe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),oe.createElement(e,_b({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return _b({},tw(s.color,a.oldHue))}}]),i}(F.PureComponent||F.Component);return n.propTypes=_b({},e.propTypes),n.defaultProps=_b({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},QUe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZUe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function eHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nHe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){tHe(i,r);function i(){var o,s,a,l;eHe(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(s=(a=z7(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),z7(a,l)}return ZUe(i,[{key:"render",value:function(){return oe.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},oe.createElement(e,QUe({},this.props,this.state)))}}]),i}(oe.Component)},U7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rHe=13,iHe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,d=e.focusStyle,h=d===void 0?{}:d,p=n==="transparent",m=Kt({default:{swatch:U7({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?h:{})}}),y=function(T){return o(n,T)},w=function(T){return T.keyCode===rHe&&o(n,T)},_=function(T){return s(n,T)},E={};return s&&(E.onMouseOver=_),oe.createElement("div",U7({style:m.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:w},E),u,p&&oe.createElement(b0,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const xg=nHe(iHe);var oHe=function(e){var n=e.direction,r=Kt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return oe.createElement("div",{style:r.picker})},sHe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sre=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,h=d===void 0?"":d,p=Kt({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return oe.createElement("div",{style:p.picker,className:"alpha-picker "+h},oe.createElement(J4,sHe({},p.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:s,direction:a})))};Sre.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:oHe};ls(Sre);function Ere(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var aHe="__lodash_hash_undefined__";function lHe(t){return this.__data__.set(t,aHe),this}function uHe(t){return this.__data__.has(t)}function nA(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dd;++e<n;)this.add(t[e])}nA.prototype.add=nA.prototype.push=lHe;nA.prototype.has=uHe;function cHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function dHe(t,e){return t.has(e)}var fHe=1,hHe=2;function Cre(t,e,n,r,i,o){var s=n&fHe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=n&hHe?new nA:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var w=s?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!cHe(e,function(_,E){if(!dHe(p,E)&&(m===_||i(m,_,n,r,o)))return p.push(E)})){h=!1;break}}else if(!(m===y||i(m,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function pHe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function gHe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var mHe=1,yHe=2,vHe="[object Boolean]",bHe="[object Date]",wHe="[object Error]",xHe="[object Map]",_He="[object Number]",SHe="[object RegExp]",EHe="[object Set]",CHe="[object String]",THe="[object Symbol]",AHe="[object ArrayBuffer]",RHe="[object DataView]",H7=zf?zf.prototype:void 0,qN=H7?H7.valueOf:void 0;function PHe(t,e,n,r,i,o,s){switch(n){case RHe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case AHe:return!(t.byteLength!=e.byteLength||!o(new QT(t),new QT(e)));case vHe:case bHe:case _He:return DS(+t,+e);case wHe:return t.name==e.name&&t.message==e.message;case SHe:case CHe:return t==e+"";case xHe:var a=pHe;case EHe:var l=r&mHe;if(a||(a=gHe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=yHe,s.set(t,e);var c=Cre(a(t),a(e),r,i,o,s);return s.delete(t),c;case THe:if(qN)return qN.call(t)==qN.call(e)}return!1}function IHe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function kHe(t,e,n){var r=e(t);return Hs(t)?r:IHe(r,n(t))}function MHe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function NHe(){return[]}var DHe=Object.prototype,LHe=DHe.propertyIsEnumerable,q7=Object.getOwnPropertySymbols,OHe=q7?function(t){return t==null?[]:(t=Object(t),MHe(q7(t),function(e){return LHe.call(t,e)}))}:NHe;function j7(t){return kHe(t,i3,OHe)}var FHe=1,$He=Object.prototype,BHe=$He.hasOwnProperty;function VHe(t,e,n,r,i,o){var s=n&FHe,a=j7(t),l=a.length,u=j7(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:BHe.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=s;++d<l;){h=a[d];var _=t[h],E=e[h];if(r)var S=s?r(E,_,h,e,t,o):r(_,E,h,t,e,o);if(!(S===void 0?_===E||i(_,E,n,r,o):S)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var T=t.constructor,I=e.constructor;T!=I&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof I=="function"&&I instanceof I)&&(y=!1)}return o.delete(t),o.delete(e),y}var WO=wg(gl,"DataView"),GO=wg(gl,"Promise"),KO=wg(gl,"Set"),YO=wg(gl,"WeakMap"),W7="[object Map]",zHe="[object Object]",G7="[object Promise]",K7="[object Set]",Y7="[object WeakMap]",X7="[object DataView]",UHe=bg(WO),HHe=bg(xx),qHe=bg(GO),jHe=bg(KO),WHe=bg(YO),Yd=vg;(WO&&Yd(new WO(new ArrayBuffer(1)))!=X7||xx&&Yd(new xx)!=W7||GO&&Yd(GO.resolve())!=G7||KO&&Yd(new KO)!=K7||YO&&Yd(new YO)!=Y7)&&(Yd=function(t){var e=vg(t),n=e==zHe?t.constructor:void 0,r=n?bg(n):"";if(r)switch(r){case UHe:return X7;case HHe:return W7;case qHe:return G7;case jHe:return K7;case WHe:return Y7}return e});var GHe=1,J7="[object Arguments]",Q7="[object Array]",O1="[object Object]",KHe=Object.prototype,Z7=KHe.hasOwnProperty;function YHe(t,e,n,r,i,o){var s=Hs(t),a=Hs(e),l=s?Q7:Yd(t),u=a?Q7:Yd(e);l=l==J7?O1:l,u=u==J7?O1:u;var c=l==O1,d=u==O1,h=l==u;if(h&&eA(t)){if(!eA(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new wu),s||n3(t)?Cre(t,e,n,r,i,o):PHe(t,e,l,n,r,i,o);if(!(n&GHe)){var p=c&&Z7.call(t,"__wrapped__"),m=d&&Z7.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,w=m?e.value():e;return o||(o=new wu),i(y,w,n,r,o)}}return h?(o||(o=new wu),VHe(t,e,n,r,i,o)):!1}function s3(t,e,n,r,i){return t===e?!0:t==null||e==null||!Uf(t)&&!Uf(e)?t!==t&&e!==e:YHe(t,e,n,r,s3,i)}var XHe=1,JHe=2;function QHe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],u=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var c=new wu,d;if(!(d===void 0?s3(u,l,XHe|JHe,r,c):d))return!1}}return!0}function Tre(t){return t===t&&!ma(t)}function ZHe(t){for(var e=i3(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Tre(i)]}return e}function Are(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function e9e(t){var e=ZHe(t);return e.length==1&&e[0][2]?Are(e[0][0],e[0][1]):function(n){return n===t||QHe(n,t,e)}}var t9e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n9e=/^\w*$/;function a3(t,e){if(Hs(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||iP(t)?!0:n9e.test(t)||!t9e.test(t)||e!=null&&t in Object(e)}var r9e="Expected a function";function l3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(r9e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(l3.Cache||dd),n}l3.Cache=dd;var i9e=500;function o9e(t){var e=l3(t,function(r){return n.size===i9e&&n.clear(),r}),n=e.cache;return e}var s9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a9e=/\\(\\)?/g,l9e=o9e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(s9e,function(n,r,i,o){e.push(i?o.replace(a9e,"$1"):r||n)}),e}),eG=zf?zf.prototype:void 0,tG=eG?eG.toString:void 0;function Rre(t){if(typeof t=="string")return t;if(Hs(t))return Ere(t,Rre)+"";if(iP(t))return tG?tG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function u9e(t){return t==null?"":Rre(t)}function Pre(t,e){return Hs(t)?t:a3(t,e)?[t]:l9e(u9e(t))}function aP(t){if(typeof t=="string"||iP(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ire(t,e){e=Pre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[aP(e[n++])];return n&&n==r?t:void 0}function c9e(t,e,n){var r=t==null?void 0:Ire(t,e);return r===void 0?n:r}function d9e(t,e){return t!=null&&e in Object(t)}function f9e(t,e,n){e=Pre(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=aP(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&t3(i)&&r3(s,i)&&(Hs(t)||ZT(t)))}function h9e(t,e){return t!=null&&f9e(t,e,d9e)}var p9e=1,g9e=2;function m9e(t,e){return a3(t)&&Tre(e)?Are(aP(t),e):function(n){var r=c9e(n,t);return r===void 0&&r===e?h9e(n,t):s3(e,r,p9e|g9e)}}function y9e(t){return function(e){return e==null?void 0:e[t]}}function v9e(t){return function(e){return Ire(e,t)}}function b9e(t){return a3(t)?y9e(aP(t)):v9e(t)}function w9e(t){return typeof t=="function"?t:t==null?rP:typeof t=="object"?Hs(t)?m9e(t[0],t[1]):e9e(t):b9e(t)}function x9e(t,e){var n=-1,r=x0(t)?Array(t.length):[];return wre(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function _g(t,e){var n=Hs(t)?Ere:x9e;return n(t,w9e(e))}var _9e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Kt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return oe.createElement("div",{style:o.swatches},_g(n,function(s){return oe.createElement(xg,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),oe.createElement("div",{style:o.clear}))},u3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=i==="transparent",p=function(w,_){Jf(w)&&n({hex:w,source:"hex"},_)},m=Kt(as({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:o3(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return oe.createElement("div",{style:m.card,className:"block-picker "+d},oe.createElement("div",{style:m.triangle}),oe.createElement("div",{style:m.head},h&&oe.createElement(b0,{borderRadius:"6px 6px 0 0"}),oe.createElement("div",{style:m.label},i)),oe.createElement("div",{style:m.body},oe.createElement(_9e,{colors:o,onClick:p,onSwatchHover:r}),oe.createElement(wn,{style:{input:m.input},value:i,onChange:p})))};u3.propTypes={width:ge.oneOfType([ge.string,ge.number]),colors:ge.arrayOf(ge.string),triangle:ge.oneOf(["top","hide"]),styles:ge.object};u3.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ls(u3);var Vm={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},zm={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Um={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Hm={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},qm={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},jm={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Wm={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Gm={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Km={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},nw={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Ym={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Xm={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Jm={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Qm={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Zm={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},ey={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},ty={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},ny={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},kre=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,u=Kt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return oe.createElement("div",{style:u.swatch},oe.createElement(xg,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};kre.defaultProps={circleSize:28,circleSpacing:14};const S9e=X4.handleHover(kre);var c3=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,h=d===void 0?"":d,p=Kt(as({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),m=function(w,_){return r({hex:w,source:"hex"},_)};return oe.createElement("div",{style:p.card,className:"circle-picker "+h},_g(o,function(y){return oe.createElement(S9e,{key:y,color:y,onClick:m,onSwatchHover:i,active:s===y.toLowerCase(),circleSize:a,circleSpacing:c})}))};c3.propTypes={width:ge.oneOfType([ge.string,ge.number]),circleSize:ge.number,circleSpacing:ge.number,styles:ge.object};c3.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Vm[500],zm[500],Um[500],Hm[500],qm[500],jm[500],Wm[500],Gm[500],Km[500],nw[500],Ym[500],Xm[500],Jm[500],Qm[500],Zm[500],ey[500],ty[500],ny[500]],styles:{}};ls(c3);function nG(t){return t===void 0}var F1={},rG;function E9e(){if(rG)return F1;rG=1,Object.defineProperty(F1,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=dl(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return F1.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,h=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:h},m)},y),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},F1}var C9e=E9e();const T9e=uo(C9e);var A9e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function R9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P9e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function I9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Mre=function(t){I9e(e,t);function e(n){R9e(this,e);var r=P9e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Jf(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(nG(i.s)?r.props.hsl.s:i.s),l:Number(nG(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return A9e(e,[{key:"render",value:function(){var r=this,i=Kt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),oe.createElement("div",{style:i.alpha},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),oe.createElement("div",{style:i.alpha},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),oe.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,oe.createElement("div",{style:i.toggle},oe.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},oe.createElement(T9e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(oe.Component);Mre.defaultProps={view:"hex"};var iG=function(){var e=Kt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},k9e=function(){var e=Kt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return oe.createElement("div",{style:e.picker})},d3=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,h=e.className,p=h===void 0?"":h,m=e.defaultView,y=Kt(as({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return oe.createElement("div",{style:y.picker,className:"chrome-picker "+p},oe.createElement("div",{style:y.saturation},oe.createElement(oP,{style:y.Saturation,hsl:s,hsv:a,pointer:k9e,onChange:r})),oe.createElement("div",{style:y.body},oe.createElement("div",{style:y.controls,className:"flexbox-fix"},oe.createElement("div",{style:y.color},oe.createElement("div",{style:y.swatch},oe.createElement("div",{style:y.active}),oe.createElement(b0,{renderers:u}))),oe.createElement("div",{style:y.toggles},oe.createElement("div",{style:y.hue},oe.createElement(w0,{style:y.Hue,hsl:s,pointer:iG,onChange:r})),oe.createElement("div",{style:y.alpha},oe.createElement(J4,{style:y.Alpha,rgb:o,hsl:s,pointer:iG,renderers:u,onChange:r})))),oe.createElement(Mre,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};d3.propTypes={width:ge.oneOfType([ge.string,ge.number]),disableAlpha:ge.bool,styles:ge.object,defaultView:ge.oneOf(["hex","rgb","hsl"])};d3.defaultProps={width:225,disableAlpha:!1,styles:{}};const M9e=ls(d3);var N9e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Kt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o3(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return oe.createElement(xg,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},oe.createElement("div",{style:a.dot}))},D9e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Kt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return oe.createElement("div",{style:o.fields,className:"flexbox-fix"},oe.createElement("div",{style:o.active}),oe.createElement(wn,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),oe.createElement(wn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),oe.createElement(wn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),oe.createElement(wn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},f3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=Kt(as({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(m,y){m.hex?Jf(m.hex)&&n({hex:m.hex,source:"hex"},y):n(m,y)};return oe.createElement(LS,{style:d.Compact,styles:l},oe.createElement("div",{style:d.compact,className:"compact-picker "+c},oe.createElement("div",null,_g(i,function(p){return oe.createElement(N9e,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),oe.createElement("div",{style:d.clear})),oe.createElement(D9e,{hex:o,rgb:s,onChange:h})))};f3.propTypes={colors:ge.arrayOf(ge.string),styles:ge.object};f3.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ls(f3);var L9e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Kt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return oe.createElement("div",{style:a.swatch},oe.createElement(xg,{color:r,onClick:i,onHover:o,focusStyle:s}))};const O9e=X4.handleHover(L9e);var h3=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=Kt(as({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(m,y){return i({hex:m,source:"hex"},y)};return oe.createElement("div",{style:d.card,className:"github-picker "+c},oe.createElement("div",{style:d.triangleShadow}),oe.createElement("div",{style:d.triangle}),_g(r,function(p){return oe.createElement(O9e,{color:p,key:p,onClick:h,onSwatchHover:o})}))};h3.propTypes={width:ge.oneOfType([ge.string,ge.number]),colors:ge.arrayOf(ge.string),triangle:ge.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ge.object};h3.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ls(h3);var F9e=function(e){var n=e.direction,r=Kt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return oe.createElement("div",{style:r.picker})},$9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p3=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=Kt(as({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),p=function(y){return i({a:1,h:y.h,l:.5,s:1})};return oe.createElement("div",{style:h.picker,className:"hue-picker "+d},oe.createElement(w0,$9e({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};p3.propTypes={styles:ge.object};p3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:F9e,styles:{}};ls(p3);var B9e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=Kt(as({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),c=function(h,p){h.hex?Jf(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return oe.createElement(LS,{styles:s},oe.createElement("div",{style:u.material,className:"material-picker "+l},oe.createElement(wn,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),oe.createElement("div",{style:u.split,className:"flexbox-fix"},oe.createElement("div",{style:u.third},oe.createElement(wn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),oe.createElement("div",{style:u.third},oe.createElement(wn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),oe.createElement("div",{style:u.third},oe.createElement(wn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};ls(B9e);var V9e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Kt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Jf(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return oe.createElement("div",{style:s.fields},oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),oe.createElement("div",{style:s.divider}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),oe.createElement("div",{style:s.divider}),oe.createElement(wn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),oe.createElement("div",{style:s.fieldSymbols},oe.createElement("div",{style:s.symbol},"°"),oe.createElement("div",{style:s.symbol},"%"),oe.createElement("div",{style:s.symbol},"%")))},z9e=function(e){var n=e.hsl,r=Kt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return oe.createElement("div",{style:r.picker})},U9e=function(){var e=Kt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return oe.createElement("div",{style:e.pointer},oe.createElement("div",{style:e.left},oe.createElement("div",{style:e.leftInside})),oe.createElement("div",{style:e.right},oe.createElement("div",{style:e.rightInside})))},oG=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Kt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return oe.createElement("div",{style:s.button,onClick:n},r||i)},H9e=function(e){var n=e.rgb,r=e.currentColor,i=Kt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return oe.createElement("div",null,oe.createElement("div",{style:i.label},"new"),oe.createElement("div",{style:i.swatches},oe.createElement("div",{style:i.new}),oe.createElement("div",{style:i.current})),oe.createElement("div",{style:i.label},"current"))},q9e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function j9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function G9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g3=function(t){G9e(e,t);function e(n){j9e(this,e);var r=W9e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return q9e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Kt(as({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return oe.createElement("div",{style:l.picker,className:"photoshop-picker "+a},oe.createElement("div",{style:l.head},this.props.header),oe.createElement("div",{style:l.body,className:"flexbox-fix"},oe.createElement("div",{style:l.saturation},oe.createElement(oP,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:z9e,onChange:this.props.onChange})),oe.createElement("div",{style:l.hue},oe.createElement(w0,{direction:"vertical",hsl:this.props.hsl,pointer:U9e,onChange:this.props.onChange})),oe.createElement("div",{style:l.controls},oe.createElement("div",{style:l.top,className:"flexbox-fix"},oe.createElement("div",{style:l.previews},oe.createElement(H9e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),oe.createElement("div",{style:l.actions},oe.createElement(oG,{label:"OK",onClick:this.props.onAccept,active:!0}),oe.createElement(oG,{label:"Cancel",onClick:this.props.onCancel}),oe.createElement(V9e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(oe.Component);g3.propTypes={header:ge.string,styles:ge.object};g3.defaultProps={header:"Color Picker",styles:{}};ls(g3);var K9e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Kt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(c,d){c.hex?Jf(c.hex)&&n({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return oe.createElement("div",{style:a.fields,className:"flexbox-fix"},oe.createElement("div",{style:a.double},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),oe.createElement("div",{style:a.single},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.single},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.single},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.alpha},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},Y9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nre=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Kt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return oe.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return oe.createElement("div",{key:c,style:s.swatchWrap},oe.createElement(xg,Y9e({},u,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};Nre.propTypes={colors:ge.arrayOf(ge.oneOfType([ge.string,ge.shape({color:ge.string,title:ge.string})])).isRequired};var X9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m3=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,y=m===void 0?"":m,w=Kt(as({default:X9e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return oe.createElement("div",{style:w.picker,className:"sketch-picker "+y},oe.createElement("div",{style:w.saturation},oe.createElement(oP,{style:w.Saturation,hsl:s,hsv:o,onChange:a})),oe.createElement("div",{style:w.controls,className:"flexbox-fix"},oe.createElement("div",{style:w.sliders},oe.createElement("div",{style:w.hue},oe.createElement(w0,{style:w.Hue,hsl:s,onChange:a})),oe.createElement("div",{style:w.alpha},oe.createElement(J4,{style:w.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),oe.createElement("div",{style:w.color},oe.createElement(b0,null),oe.createElement("div",{style:w.activeColor}))),oe.createElement(K9e,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:u}),oe.createElement(Nre,{colors:c,onClick:a,onSwatchHover:l}))};m3.propTypes={disableAlpha:ge.bool,width:ge.oneOfType([ge.string,ge.number]),styles:ge.object};m3.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ls(m3);var Sb=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,u=Kt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),c=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return oe.createElement("div",{style:u.swatch,onClick:c})},J9e=function(e){var n=e.onClick,r=e.hsl,i=Kt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return oe.createElement("div",{style:i.swatches},oe.createElement("div",{style:i.swatch},oe.createElement(Sb,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),oe.createElement("div",{style:i.swatch},oe.createElement(Sb,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(Sb,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(Sb,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(Sb,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),oe.createElement("div",{style:i.clear}))},Q9e=function(){var e=Kt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},y3=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=Kt(as({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return oe.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},oe.createElement("div",{style:u.hue},oe.createElement(w0,{style:u.Hue,hsl:n,pointer:i,onChange:r})),oe.createElement("div",{style:u.swatches},oe.createElement(J9e,{hsl:n,onClick:r})))};y3.propTypes={styles:ge.object};y3.defaultProps={pointer:Q9e,styles:{}};ls(y3);var $1={},sG;function Z9e(){if(sG)return $1;sG=1,Object.defineProperty($1,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=dl(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return $1.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,h=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:h},m)},y),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},$1}var eqe=Z9e();const tqe=uo(eqe);var nqe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,u=Kt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:o3(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return oe.createElement(xg,{color:n,style:u.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},oe.createElement("div",{style:u.check},oe.createElement(tqe,null)))},rqe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Kt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return oe.createElement("div",{style:s.group},_g(i,function(a,l){return oe.createElement(nqe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},v3=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=Kt(as({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(y,w){return i({hex:y,source:"hex"},w)};return oe.createElement("div",{style:h.picker,className:"swatches-picker "+d},oe.createElement(LS,null,oe.createElement("div",{style:h.overflow},oe.createElement("div",{style:h.body},_g(s,function(m){return oe.createElement(rqe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),oe.createElement("div",{style:h.clear})))))};v3.propTypes={width:ge.oneOfType([ge.string,ge.number]),height:ge.oneOfType([ge.string,ge.number]),colors:ge.arrayOf(ge.arrayOf(ge.string)),styles:ge.object};v3.defaultProps={width:320,height:240,colors:[[Vm[900],Vm[700],Vm[500],Vm[300],Vm[100]],[zm[900],zm[700],zm[500],zm[300],zm[100]],[Um[900],Um[700],Um[500],Um[300],Um[100]],[Hm[900],Hm[700],Hm[500],Hm[300],Hm[100]],[qm[900],qm[700],qm[500],qm[300],qm[100]],[jm[900],jm[700],jm[500],jm[300],jm[100]],[Wm[900],Wm[700],Wm[500],Wm[300],Wm[100]],[Gm[900],Gm[700],Gm[500],Gm[300],Gm[100]],[Km[900],Km[700],Km[500],Km[300],Km[100]],["#194D33",nw[700],nw[500],nw[300],nw[100]],[Ym[900],Ym[700],Ym[500],Ym[300],Ym[100]],[Xm[900],Xm[700],Xm[500],Xm[300],Xm[100]],[Jm[900],Jm[700],Jm[500],Jm[300],Jm[100]],[Qm[900],Qm[700],Qm[500],Qm[300],Qm[100]],[Zm[900],Zm[700],Zm[500],Zm[300],Zm[100]],[ey[900],ey[700],ey[500],ey[300],ey[100]],[ty[900],ty[700],ty[500],ty[300],ty[100]],[ny[900],ny[700],ny[500],ny[300],ny[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ls(v3);var b3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=Kt(as({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(y,w){Jf(y)&&n({hex:y,source:"hex"},w)};return oe.createElement("div",{style:h.card,className:"twitter-picker "+d},oe.createElement("div",{style:h.triangleShadow}),oe.createElement("div",{style:h.triangle}),oe.createElement("div",{style:h.body},_g(o,function(m,y){return oe.createElement(xg,{key:y,color:m,hex:m,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),oe.createElement("div",{style:h.hash},"#"),oe.createElement(wn,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),oe.createElement("div",{style:h.clear})))};b3.propTypes={width:ge.oneOfType([ge.string,ge.number]),triangle:ge.oneOf(["hide","top-left","top-right"]),colors:ge.arrayOf(ge.string),styles:ge.object};b3.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ls(b3);var w3=function(e){var n=Kt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return oe.createElement("div",{style:n.picker})};w3.propTypes={hsl:ge.shape({h:ge.number,s:ge.number,l:ge.number,a:ge.number})};w3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var x3=function(e){var n=Kt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return oe.createElement("div",{style:n.picker})};x3.propTypes={hsl:ge.shape({h:ge.number,s:ge.number,l:ge.number,a:ge.number})};x3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var iqe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)Jf(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var y=p.rgb.split(",");HN(p.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},m)}else if(p.hsv){var w=p.hsv.split(",");HN(p.hsv,"hsv")&&(w[2]=w[2].replace("%",""),w[1]=w[1].replace("%",""),w[0]=w[0].replace("°",""),w[1]==1?w[1]=.01:w[2]==1&&(w[2]=.01),n({h:Number(w[0]),s:Number(w[1]),v:Number(w[2]),source:"hsv"},m))}else if(p.hsl){var _=p.hsl.split(",");HN(p.hsl,"hsl")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsl"},m))}},l=Kt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return oe.createElement("div",{style:l.wrap,className:"flexbox-fix"},oe.createElement("div",{style:l.fields},oe.createElement("div",{style:l.double},oe.createElement(wn,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),oe.createElement("div",{style:l.column},oe.createElement("div",{style:l.single},oe.createElement(wn,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),oe.createElement("div",{style:l.single},oe.createElement(wn,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),oe.createElement("div",{style:l.single},oe.createElement(wn,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},_3=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,h=d===void 0?"":d,p=Kt(as({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return oe.createElement("div",{style:p.picker,className:"google-picker "+h},oe.createElement("div",{style:p.head},l),oe.createElement("div",{style:p.swatch}),oe.createElement("div",{style:p.saturation},oe.createElement(oP,{hsl:o,hsv:s,pointer:w3,onChange:r})),oe.createElement("div",{style:p.body},oe.createElement("div",{style:p.controls,className:"flexbox-fix"},oe.createElement("div",{style:p.hue},oe.createElement(w0,{style:p.Hue,hsl:o,radius:"4px",pointer:x3,onChange:r}))),oe.createElement(iqe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};_3.propTypes={width:ge.oneOfType([ge.string,ge.number]),styles:ge.object,header:ge.string};_3.defaultProps={width:652,styles:{},header:"Color picker"};ls(_3);const oqe=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];function sqe(){var we,Re,Ae,be,Ke,Ve,Oe;const{userData:t}=d0(),{mode:e,setMode:n,viewingPaperId:r}=ad(),{readPurposes:i,currentReadId:o,setCurrentReadId:s,displayedReads:a,toggleRead:l,createRead:u,generateReadingGoals:c,saveReadingData:d,stopUpdateReadingSession:h,resetPaperContext:p,loadPaperContext:m}=Gf(),{togglePaperForAnalytics:y,toggleUserForAnalytics:w,reloadAnalytics:_}=fg(),{setRunTour:E}=YPe(),S=jR(),[T,I]=F.useState(""),[N,P]=F.useState(null),[M,D]=F.useState(!1),[k,L]=F.useState(!1),[V,$]=F.useState(""),[z,G]=F.useState(null),[K,J]=F.useState(!1),[ee,X]=F.useState(null),[j,Q]=F.useState(!1),[ue,q]=F.useState(""),Y=async()=>{D(!0),L(!0);const Me=await c();if(!Me){L(!1);return}$(Me.readingProgress),G(Me.readingGoals),L(!1)},te=()=>{if(!T){alert("Please enter a title");return}if(!N){alert("Please select a color");return}u(T,N),le()},le=()=>{I(""),P(null),D(!1),J(!1)},de=()=>{E(!0)},se=()=>{X(null)},ce=(Me,je)=>{je.stopPropagation(),l(Me)},fe=Me=>{s(Me),se()},ye=async()=>{Q(!0),e===Or.READING?(q("Saving your reading progress..."),h(),await d(),p(),y(r,!0),w(t.id,!0),n(Or.ANALYZING)):e===Or.ANALYZING&&(q("Loading your reading progress..."),_(),await m(),n(Or.READING)),Q(!1)};return O.jsxs("div",{className:"NavBar",children:[O.jsxs("div",{className:"logo-text",children:[O.jsx("img",{src:YT,height:40,alt:"re:ad",style:{cursor:"pointer"},onClick:()=>{S("/papers")}}),O.jsx(Yo,{sx:{ml:3},className:"mui-button",size:"small",onClick:de,children:O.jsx(D5e,{})})]}),O.jsx(ze,{className:"reads-dropdown",children:e==="reading"?O.jsx(O.Fragment,{children:Object.values(i).length>0?O.jsxs(ze,{sx:{display:"flex",alignItems:"center",gap:2},children:[o?O.jsx(lr,{variant:"outlined",endIcon:O.jsx(lj,{}),onClick:Me=>X(Me.currentTarget),className:"nav-read-btn",sx:{borderColor:((we=i[o])==null?void 0:we.color)||"#ccc","&:hover":{borderColor:((Re=i[o])==null?void 0:Re.color)||"#ccc",backgroundColor:`${(Ae=i[o])==null?void 0:Ae.color}20`||"#f5f5f5"}},children:(be=i[o])==null?void 0:be.title}):O.jsx(lr,{variant:"outlined",endIcon:O.jsx(lj,{}),onClick:Me=>X(Me.currentTarget),className:"nav-read-btn",sx:{borderColor:((Ke=i[o])==null?void 0:Ke.color)||"#ccc","&:hover":{borderColor:((Ve=i[o])==null?void 0:Ve.color)||"#ccc",backgroundColor:`${(Oe=i[o])==null?void 0:Oe.color}20`||"#f5f5f5"}},children:"Please select an active read"}),O.jsx(UR,{anchorEl:ee,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:!!ee,onClose:se,sx:{minWidth:"200px"},children:Object.values(i).map(Me=>O.jsxs(bx,{onClick:()=>fe(Me.id),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,backgroundColor:o===Me.id?`${Me.color}20`:"transparent","&:hover":{backgroundColor:`${Me.color}30`}},children:[O.jsx(vx,{children:O.jsx(OO,{checked:a.includes(Me.id),disabled:o===Me.id,onClick:je=>ce(Me.id,je),sx:{color:Me.color,"&.Mui-checked":{color:Me.color},"&.Mui-disabled":{color:Me.color}}})}),O.jsx(Qp,{primary:Me.title,sx:{"& .MuiListItemText-primary":{fontWeight:o===Me.id?"bold":"normal"}}}),O.jsx(ze,{sx:{width:12,height:12,backgroundColor:Me.color,borderRadius:"50%",ml:1}})]},Me.id))}),O.jsx(Yo,{onClick:Y,size:"small",children:O.jsx(qk,{})})]}):O.jsx(lr,{className:"mui-button add-new-read-btn",size:"small",variant:"outlined",startIcon:O.jsx(qk,{}),onClick:Y,sx:{textTransform:"none"},children:"New Read"})}):O.jsx(ze,{sx:{display:"flex",alignItems:"center"},children:O.jsx(nt,{variant:"h6",sx:{color:"text.primary",fontWeight:"medium"},children:"Analysis Mode"})})}),O.jsxs(ze,{sx:{mx:2,display:"flex",gap:2,alignItems:"center",justifyContent:"flex-end"},children:[e==="reading"&&O.jsx(Yo,{onClick:d,disabled:j,size:"small",children:O.jsx(M5e,{fontSize:"small"})}),O.jsxs(ze,{className:"nav-mode-switch",children:[O.jsx(T5e,{sx:{boxSizing:"border-box",color:e==="reading"?"primary.main":"text.secondary"}}),O.jsx(dne,{checked:e==="analyzing",onChange:ye,inputProps:{"aria-label":"toggle mode"},sx:{boxSizing:"border-box","& .MuiSwitch-thumb":{backgroundColor:"white"},"& .MuiSwitch-track":{backgroundColor:"primary.main"}}}),O.jsx(hne,{sx:{boxSizing:"border-box",color:e==="analyzing"?"primary.main":"text.secondary"}})]})]}),e==="reading"&&O.jsxs(_C,{open:M,children:[O.jsx(CC,{children:"Create New Read"}),O.jsxs(EC,{sx:{minWidth:"25vw",px:4,py:2,boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O.jsx(Ko,{fullWidth:!0,multiline:!0,label:"Title",value:T,onChange:Me=>I(Me.target.value),sx:{my:1}}),k?O.jsxs(ze,{sx:{my:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O.jsx("p",{style:{animation:"pulse 1.5s ease-in-out infinite",fontSize:"16px",color:"#666"},children:"Generating reading goals..."}),O.jsx("style",{children:`
                  @keyframes pulse {
                    0% { opacity: 0.4; }
                    50% { opacity: 1; }
                    100% { opacity: 0.4; }
                  }
                `})]}):O.jsxs(ze,{sx:{my:2,display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:2},children:[O.jsxs(ze,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[O.jsx(nt,{variant:"body1",sx:{fontWeight:"bold"},children:"Reading Progress:"}),O.jsx(nt,{variant:"body1",children:V})]}),O.jsxs(ze,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[O.jsx(nt,{variant:"body1",sx:{fontWeight:"bold"},children:"Suggested Reading Goals:"}),O.jsx(ze,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:z&&z.map(Me=>O.jsx(cne,{title:Me.goalDescription,arrow:!0,placement:"right",children:O.jsx(DO,{label:Me.goalName,variant:"outlined",onClick:()=>I(Me.goalName)})},Me.goalName))})]})]}),O.jsxs(ze,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:[O.jsx(nt,{variant:"body1",sx:{fontWeight:"bold"},children:"Color Palette:"}),O.jsxs(ze,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"flex-start",gap:1},children:[oqe.map(Me=>O.jsx(ze,{sx:{width:20,height:20,backgroundColor:Me,borderRadius:4,border:Me===N?"2px solid black":"none"},onClick:()=>P(Me)},Me)),K?O.jsx(Yo,{onClick:()=>{J(!1),P(null)},children:O.jsx(gne,{})}):O.jsx(Yo,{onClick:()=>J(!0),children:O.jsx(qk,{})})]}),K&&O.jsx(M9e,{disableAlpha:!0,color:N??"#000000",onChange:(Me,je)=>{P(Me.hex),je.preventDefault()}})]})]}),O.jsxs(SC,{sx:{p:2},children:[O.jsx(lr,{variant:"text",color:"error",onClick:le,children:"Cancel"}),O.jsx(lr,{variant:"text",onClick:te,children:"Create"})]})]}),O.jsxs(_4,{sx:{color:"#fff",zIndex:Me=>Me.zIndex.drawer+1,flexDirection:"column",gap:2},open:j,children:[O.jsx(h4,{color:"inherit"}),O.jsx(nt,{variant:"h6",children:ue})]})]})}const aqe="modulepreload",lqe=function(t){return"/re-ad/"+t},aG={},rw=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(u=>{if(u=lqe(u),u in aG)return;aG[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":aqe,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var jN,lG;function uqe(){if(lG)return jN;lG=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof _f=="object"&&_f&&_f.Object===Object&&_f,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,h=d.toString,p=Math.max,m=Math.min,y=function(){return c.Date.now()};function w(I,N,P){var M,D,k,L,V,$,z=0,G=!1,K=!1,J=!0;if(typeof I!="function")throw new TypeError(t);N=T(N)||0,_(P)&&(G=!!P.leading,K="maxWait"in P,k=K?p(T(P.maxWait)||0,N):k,J="trailing"in P?!!P.trailing:J);function ee(de){var se=M,ce=D;return M=D=void 0,z=de,L=I.apply(ce,se),L}function X(de){return z=de,V=setTimeout(ue,N),G?ee(de):L}function j(de){var se=de-$,ce=de-z,fe=N-se;return K?m(fe,k-ce):fe}function Q(de){var se=de-$,ce=de-z;return $===void 0||se>=N||se<0||K&&ce>=k}function ue(){var de=y();if(Q(de))return q(de);V=setTimeout(ue,j(de))}function q(de){return V=void 0,J&&M?ee(de):(M=D=void 0,L)}function Y(){V!==void 0&&clearTimeout(V),z=0,M=$=D=V=void 0}function te(){return V===void 0?L:q(y())}function le(){var de=y(),se=Q(de);if(M=arguments,D=this,$=de,se){if(V===void 0)return X($);if(K)return V=setTimeout(ue,N),ee($)}return V===void 0&&(V=setTimeout(ue,N)),L}return le.cancel=Y,le.flush=te,le}function _(I){var N=typeof I;return!!I&&(N=="object"||N=="function")}function E(I){return!!I&&typeof I=="object"}function S(I){return typeof I=="symbol"||E(I)&&h.call(I)==n}function T(I){if(typeof I=="number")return I;if(S(I))return e;if(_(I)){var N=typeof I.valueOf=="function"?I.valueOf():I;I=_(N)?N+"":N}if(typeof I!="string")return I===0?I:+I;I=I.replace(r,"");var P=o.test(I);return P||s.test(I)?a(I.slice(2),P?2:8):i.test(I)?e:+I}return jN=w,jN}var cqe=uqe();const dqe=uo(cqe),XO=F.createContext(void 0),Dre=()=>{const t=F.useContext(XO);if(t===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return t},Lre=(t,{width:e,height:n})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:e,height:n,pageNumber:t.pageNumber}),Ore=({boundingRect:t,rects:e},n)=>{const r=t.pageNumber,i=n.getPageView(r-1).viewport,o=s=>Lre(s,i);return{boundingRect:o(t),rects:(e||[]).map(o)}},fqe=(t,e)=>{const[n,r,i,o]=e.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(n,i),top:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(r-o),pageNumber:t.pageNumber}},Fre=(t,e,n=!1)=>{const{width:r,height:i}=e;if(n)return fqe(t,e);if(t.x1===void 0)throw new Error("You are using old position format, please update");const o=r*t.x1/t.width,s=i*t.y1/t.height,a=r*t.x2/t.width,l=i*t.y2/t.height;return{left:o,top:s,width:a-o,height:l-s,pageNumber:t.pageNumber}},hqe=({boundingRect:t,rects:e,usePdfCoordinates:n},r)=>{const i=t.pageNumber,o=r.getPageView(i-1).viewport,s=a=>Fre(a,o,n);return{boundingRect:s(t),rects:(e||[]).map(s)}},pqe=t=>{const e=Array.from(t).map(c=>{const{left:d,top:h,width:p,height:m,pageNumber:y}=c,w=d,_=d+p,E=h,S=h+m;return{X0:w,X1:_,Y0:E,Y1:S,pageNumber:y}});let n=Number.MAX_SAFE_INTEGER;e.forEach(c=>{n=Math.min(n,c.pageNumber??n)});const r=e.filter(c=>(c.X0>0||c.X1>0||c.Y0>0||c.Y1>0)&&c.pageNumber===n),i=r.reduce((c,d)=>({X0:Math.min(c.X0,d.X0),X1:Math.max(c.X1,d.X1),Y0:Math.min(c.Y0,d.Y0),Y1:Math.max(c.Y1,d.Y1),pageNumber:n}),r[0]),{X0:o,X1:s,Y0:a,Y1:l,pageNumber:u}=i;return{left:o,top:a,width:s-o,height:l-a,pageNumber:u}},gqe=t=>t.sort((e,n)=>{const r=(e.pageNumber||0)*e.top-(n.pageNumber||0)*n.top;return r===0?e.left-n.left:r}),mqe=(t,e)=>t.pageNumber===e.pageNumber&&t.left<=e.left&&e.left<=t.left+t.width,yqe=(t,e,n=5)=>t.pageNumber===e.pageNumber&&Math.abs(t.top-e.top)<n&&Math.abs(t.height-e.height)<n,vqe=(t,e)=>t.pageNumber===e.pageNumber&&t.top>e.top&&t.left>e.left&&t.top+t.height<e.top+e.height&&t.left+t.width<e.left+e.width,bqe=(t,e,n=10)=>{const r=t.left+t.width,i=e.left+e.width;return t.pageNumber===e.pageNumber&&t.left<=e.left&&r<=i&&e.left-r<=n},uG=(t,e)=>{t.width=Math.max(e.width-t.left+e.left,t.width)},wqe=t=>{const e=gqe(t),n=new Set,r=e.filter(o=>e.every(s=>!vqe(o,s)));let i=0;for(;i<=2;)r.forEach(o=>{r.forEach(s=>{o===s||n.has(o)||n.has(s)||yqe(o,s)&&(mqe(o,s)&&(uG(o,s),o.height=Math.max(o.height,s.height),n.add(s)),bqe(o,s)&&(uG(o,s),n.add(s)))})}),i+=1;return r.filter(o=>!n.has(o))},xqe=(t,e)=>!(t.top<e.top||t.bottom>e.bottom||t.right>e.right||t.left<e.left),_qe=(t,e,n=!0)=>{const r=Array.from(t.getClientRects()),i=[];for(const o of r)for(const s of e){const a=s.node.getBoundingClientRect();if(xqe(o,a)&&o.width>0&&o.height>0&&o.width<a.width&&o.left>a.left&&o.height<a.height){const l={top:o.top+s.node.scrollTop-a.top,left:o.left+s.node.scrollLeft-a.left,width:o.width,height:o.height,pageNumber:s.number};i.push(l)}}return n?wqe(i):i},Sqe=t=>t.reduce((e,n)=>(n&&[n.position.boundingRect.pageNumber,...n.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const o={...n,position:{...n.position,rects:n.position.rects.filter(s=>i===s.pageNumber)}};e[i].push(o)}),e),{}),$re=t=>(t||{}).ownerDocument||document,rA=t=>($re(t)||{}).defaultView||window,Sx=t=>t instanceof HTMLElement||t instanceof rA(t).HTMLElement,Eqe=t=>t instanceof HTMLCanvasElement||t instanceof rA(t).HTMLCanvasElement,lu=t=>t,Ow=t=>{const e=lu(t.closest(".page"));if(!e||!Sx(e))return null;const n=Number(lu(e).dataset.pageNumber);return{node:e,number:n}},Cqe=t=>{const e=t.startContainer.parentElement,n=t.endContainer.parentElement;if(!Sx(e)||!Sx(n))return[];const r=Ow(lu(e)),i=Ow(lu(n));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const o=[];let s=r.number;const a=r.node.ownerDocument;for(;s<=i.number;){const l=Ow(a.querySelector(`[data-page-number='${s}'`));l&&o.push(l),s++}return o},Tqe=(t,e)=>{const n=$re(t);let r=t.querySelector(`.${e}`);return!r&&t.children.length&&(r=n.createElement("div"),r.className=e,t.appendChild(r)),r},Bre=F.createContext(void 0),Aqe=()=>{const t=F.useContext(Bre);if(t===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return t},Rqe=(t,e)=>{const{left:n,top:r,width:i,height:o}=e,s=t?t.ownerDocument:null,a=s&&s.createElement("canvas");if(!a||!Eqe(a))return"";a.width=i,a.height=o;const l=a.getContext("2d");if(!l||!t)return"";const u=window.devicePixelRatio;return l.drawImage(t,n*u,r*u,i*u,o*u,0,0,i,o),a.toDataURL("image/png")},Vre=(t,e,n)=>Rqe(n.getPageView(e-1).canvas,t),Pqe="empty-id",Iqe=({highlightsByPage:t,pageNumber:e,scrolledToHighlightId:n,viewer:r,highlightBindings:i,children:o})=>{const s=t[e]||[];return oe.createElement("div",null,s.map((a,l)=>{const u={...a,id:"id"in a?a.id:Pqe,position:hqe(a.position,r)},c=n===u.id,d={highlight:u,viewportToScaled:h=>{const p=r.getPageView((h.pageNumber||e)-1).viewport;return Lre(h,p)},screenshot:h=>Vre(h,e,r),isScrolledTo:c,highlightBindings:i};return oe.createElement(Bre.Provider,{value:d,key:l},o)}))},cG=(t,e)=>({left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),dG=(t,e,n)=>{const r=t.getBoundingClientRect();return{x:e-r.left+t.scrollLeft,y:n-r.top+t.scrollTop-window.scrollY}},kqe=({viewer:t,onSelection:e,onReset:n,onDragStart:r,enableAreaSelection:i,onChange:o,style:s})=>{const[a,l]=F.useState(null),[u,c]=F.useState(null),[d,h]=F.useState(!1),p=F.useRef(null),m=F.useRef(null),y=()=>{n&&n(),l(null),c(null),h(!1)};return F.useEffect(()=>{if(o&&o(!!(a&&u)),!p.current)return;const w=lu(p.current.parentElement),_=T=>{if(!a||!u||!m.current)return;const I=cG(a,u),N=I.width>=1&&I.height>=1;if(!w.contains(lu(T.target))||!N){y();return}h(!0);const P=Ow(m.current);if(!P)return;const M={...I,top:I.top-P.node.offsetTop,left:I.left-P.node.offsetLeft,pageNumber:P.number},D={boundingRect:M,rects:[]},k=Ore(D,t),L=Vre(M,M.pageNumber,t);e&&e(D,k,L,y,T)},E=T=>{!p.current||!a||d||c(dG(w,T.pageX,T.pageY))},S=T=>{const I=P=>i(P)&&Sx(P.target)&&!!lu(P.target).closest(".page"),N=P=>a&&!lu(P.target).closest(".PdfHighlighter__tip-container");if(!I(T)){N(T)&&y();return}m.current=lu(T.target),r&&r(T),l(dG(w,T.pageX,T.pageY)),c(null),h(!1)};return w.addEventListener("mousemove",E),w.addEventListener("mousedown",S),document.addEventListener("mouseup",_),()=>{w.removeEventListener("mousemove",E),w.removeEventListener("mousedown",S),document.removeEventListener("mouseup",_)}},[a,u]),oe.createElement("div",{className:"MouseSelection-container",ref:p},a&&u&&oe.createElement("div",{className:"MouseSelection",style:{...cG(a,u),...s}}))},Mqe=(t,e,n)=>Math.min(Math.max(t,e),n),WN=5,Nqe=({viewer:t,updateTipPositionRef:e})=>{const[n,r]=F.useState(0),[i,o]=F.useState(0),s=F.useRef(null),a=()=>{if(!s.current)return;const{offsetHeight:D,offsetWidth:k}=s.current;r(D),o(k)};e.current=a,F.useLayoutEffect(()=>{a()},[a]);const{getTip:l}=Dre(),u=l();if(!u)return null;const{position:c,content:d}=u,{boundingRect:h}=c,p=h.pageNumber,m=t.getPageView(p-1).div,y=m.getBoundingClientRect(),{left:w,width:_}=y,E=t.container.scrollTop,S=m.offsetLeft+h.left+h.width/2,T=h.top+m.offsetTop,I=T+h.height,P=T-n-WN<E?I+WN:T-n-WN,M=Mqe(S-i/2,0,w+_-i);return oe.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:P,left:M,height:"max-content",width:"max-content"},ref:s},d)};let zre,Ure,Hre;(async()=>{const t=await rw(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);zre=t.EventBus,Ure=t.PDFLinkService,Hre=t.PDFViewer})();const Dqe=10,Lqe="auto",Oqe="rgba(153,193,218,255)",Fqe=t=>Tqe(t,"PdfHighlighter__highlight-layer"),fG=(t,e)=>{var n;(n=t.viewer)==null||n.classList.toggle("PdfHighlighter--disable-selection",e)},$qe=({highlights:t,onScrollAway:e,pdfScaleValue:n=Lqe,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:o,selectionTip:s,enableAreaSelection:a,mouseSelectionStyle:l,pdfDocument:u,children:c,textSelectionColor:d=Oqe,utilsRef:h,style:p})=>{const[m,y]=F.useState(null),[w,_]=F.useState(!1),E=F.useRef(null),S=F.useRef({}),T=F.useRef(null),I=F.useRef(null),N=F.useRef(null),P=F.useRef(!1),M=F.useRef(!1),D=F.useRef(()=>{}),k=F.useRef(new zre),L=F.useRef(new Ure({eventBus:k.current,externalLinkTarget:2})),V=F.useRef(null),$=F.useRef(null);F.useLayoutEffect(()=>{if(!E.current)return;const de=dqe(()=>{$.current=$.current||new Hre({container:E.current,eventBus:k.current,textLayerMode:2,removePageBorders:!0,linkService:L.current}),$.current.setDocument(u),L.current.setDocument(u),L.current.setViewer($.current),_(!0)},100);return de(),()=>{de.cancel()}},[document]),F.useLayoutEffect(()=>{if(!E.current)return;V.current=new ResizeObserver(ee),V.current.observe(E.current);const de=E.current.ownerDocument;return k.current.on("textlayerrendered",j),k.current.on("pagesinit",ee),de.addEventListener("keydown",J),j(),()=>{var se;k.current.off("pagesinit",ee),k.current.off("textlayerrendered",j),de.removeEventListener("keydown",J),(se=V.current)==null||se.disconnect()}},[s,t,r]);const z=()=>{e&&e(),N.current=null,j()},G=()=>{const de=E.current,se=rA(de).getSelection();if(!de||!se||se.isCollapsed||!$.current)return;const ce=se.rangeCount>0?se.getRangeAt(0):null;if(!ce||!de.contains(ce.commonAncestorContainer))return;const fe=Cqe(ce);if(!fe||fe.length===0)return;const ye=_qe(ce,fe);if(ye.length===0)return;const we={boundingRect:pqe(ye),rects:ye},Re=Ore(we,$.current),Ae={text:se.toString().split(`
`).join(" ")};I.current={content:Ae,type:"text",position:Re,makeGhostHighlight:()=>(T.current={content:Ae,type:"text",position:Re},i&&i(T.current),Y(),j(),T.current)},r&&r(I.current),s&&y({position:we,content:s})},K=de=>{!Sx(de.target)||lu(de.target).closest(".PdfHighlighter__tip-container")||(y(null),Y(),q(),ue(!1))},J=de=>{de.code==="Escape"&&(Y(),q(),y(null))},ee=()=>{$.current&&($.current.currentScaleValue=n.toString())},X=(de,se)=>{$.current&&de.reactRoot.render(oe.createElement(XO.Provider,{value:le},oe.createElement(Iqe,{highlightsByPage:Sqe([...t,T.current]),pageNumber:se,scrolledToHighlightId:N.current,viewer:$.current,highlightBindings:de,children:c})))},j=()=>{var de;if($.current)for(let se=1;se<=u.numPages;se++){const ce=S.current[se];if((de=ce==null?void 0:ce.container)!=null&&de.isConnected)X(ce,se);else{const{textLayer:fe}=$.current.getPageView(se-1)||{};if(!fe)continue;const ye=Fqe(fe.div);if(ye){const we=pX.createRoot(ye);S.current[se]={reactRoot:we,container:ye,textLayer:fe.div},X(S.current[se],se)}}}},Q=()=>!!I.current||!!T.current||P.current||M.current,ue=de=>{var se;de!==void 0?M.current=de:M.current=!M.current,$.current&&((se=$.current.viewer)==null||se.classList.toggle("PdfHighlighter--disable-selection",M.current))},q=()=>{o&&T.current&&o(T.current),T.current=null,j()},Y=()=>{I.current=null;const de=E.current,se=rA(de).getSelection();!de||!se||se.removeAllRanges()},le={isEditingOrHighlighting:Q,getCurrentSelection:()=>I.current,getGhostHighlight:()=>T.current,removeGhostHighlight:q,toggleEditInProgress:ue,isEditInProgress:()=>M.current,isSelectionInProgress:()=>!!I.current||P.current,scrollToHighlight:de=>{const{boundingRect:se,usePdfCoordinates:ce}=de.position,fe=se.pageNumber;$.current.container.removeEventListener("scroll",z);const ye=$.current.getPageView(fe-1).viewport;$.current.scrollPageIntoView({pageNumber:fe,destArray:[null,{name:"XYZ"},...ye.convertToPdfPoint(0,Fre(se,ye,ce).top-Dqe),0]}),N.current=de.id,j(),setTimeout(()=>{$.current.container.addEventListener("scroll",z,{once:!0})},100)},getViewer:()=>$.current,getTip:()=>m,setTip:y,updateTipPosition:D.current};return h(le),oe.createElement(XO.Provider,{value:le},oe.createElement("div",{ref:E,className:"PdfHighlighter",onPointerDown:K,onPointerUp:G,style:p},oe.createElement("div",{className:"pdfViewer"}),oe.createElement("style",null,`
          .textLayer ::selection {
            background: ${d};
          }
        `),w&&oe.createElement(Nqe,{viewer:$.current,updateTipPositionRef:D}),w&&a&&oe.createElement(kqe,{viewer:$.current,onChange:de=>P.current=de,enableAreaSelection:a,style:l,onDragStart:()=>fG($.current,!0),onReset:()=>{I.current=null,fG($.current,!1)},onSelection:(de,se,ce,fe)=>{I.current={content:{image:ce},type:"area",position:se,makeGhostHighlight:()=>(T.current={position:se,type:"area",content:{image:ce}},i&&i(T.current),fe(),j(),T.current)},r&&r(I.current),s&&y({position:de,content:s})}})))},Bqe=({highlight:t,onClick:e,onMouseOver:n,onMouseOut:r,isScrolledTo:i,onContextMenu:o,style:s})=>{const a=i?"TextHighlight--scrolledTo":"",{rects:l}=t.position;return oe.createElement("div",{className:`TextHighlight ${a}`,onContextMenu:o},oe.createElement("div",{className:"TextHighlight__parts"},l.map((u,c)=>oe.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:e,key:c,style:{...u,...s},className:"TextHighlight__part"}))))};var Eb={exports:{}},GN={};function qre(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=qre(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function hG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=qre(t))&&(r&&(r+=" "),r+=e);return r}const Vqe=Object.freeze(Object.defineProperty({__proto__:null,clsx:hG,default:hG},Symbol.toStringTag,{value:"Module"})),zqe=Tle(Vqe);var Vr={},Ud={},pG;function lP(){if(pG)return Ud;pG=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.dontSetMe=i,Ud.findInArray=t,Ud.int=r,Ud.isFunction=e,Ud.isNum=n;function t(o,s){for(let a=0,l=o.length;a<l;a++)if(s.apply(s,[o[a],a,o]))return o[a]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function n(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,s,a){if(o[s])return new Error("Invalid prop ".concat(s," passed to ").concat(a," - do not set this, set it on the child."))}return Ud}var Hd={},gG;function Uqe(){if(gG)return Hd;gG=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.browserPrefixToKey=n,Hd.browserPrefixToStyle=r,Hd.default=void 0,Hd.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var o;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!a||s in a)return"";for(let l=0;l<t.length;l++)if(n(s,t[l])in a)return t[l];return""}function n(o,s){return s?"".concat(s).concat(i(o)):o}function r(o,s){return s?"-".concat(s.toLowerCase(),"-").concat(o):o}function i(o){let s="",a=!0;for(let l=0;l<o.length;l++)a?(s+=o[l].toUpperCase(),a=!1):o[l]==="-"?a=!0:s+=o[l];return s}return Hd.default=e(),Hd}var mG;function S3(){if(mG)return Vr;mG=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.addClassName=I,Vr.addEvent=a,Vr.addUserSelectStyles=S,Vr.createCSSTransform=m,Vr.createSVGTransform=y,Vr.getTouch=_,Vr.getTouchIdentifier=E,Vr.getTranslation=w,Vr.innerHeight=d,Vr.innerWidth=h,Vr.matchesSelector=o,Vr.matchesSelectorAndParentsTo=s,Vr.offsetXYFromParent=p,Vr.outerHeight=u,Vr.outerWidth=c,Vr.removeClassName=N,Vr.removeEvent=l,Vr.removeUserSelectStyles=T;var t=lP(),e=r(Uqe());function n(P){if(typeof WeakMap!="function")return null;var M=new WeakMap,D=new WeakMap;return(n=function(k){return k?D:M})(P)}function r(P,M){if(P&&P.__esModule)return P;if(P===null||typeof P!="object"&&typeof P!="function")return{default:P};var D=n(M);if(D&&D.has(P))return D.get(P);var k={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in P)if(V!=="default"&&Object.prototype.hasOwnProperty.call(P,V)){var $=L?Object.getOwnPropertyDescriptor(P,V):null;$&&($.get||$.set)?Object.defineProperty(k,V,$):k[V]=P[V]}return k.default=P,D&&D.set(P,k),k}let i="";function o(P,M){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(D){return(0,t.isFunction)(P[D])})),(0,t.isFunction)(P[i])?P[i](M):!1}function s(P,M,D){let k=P;do{if(o(k,M))return!0;if(k===D)return!1;k=k.parentNode}while(k);return!1}function a(P,M,D,k){if(!P)return;const L={capture:!0,...k};P.addEventListener?P.addEventListener(M,D,L):P.attachEvent?P.attachEvent("on"+M,D):P["on"+M]=D}function l(P,M,D,k){if(!P)return;const L={capture:!0,...k};P.removeEventListener?P.removeEventListener(M,D,L):P.detachEvent?P.detachEvent("on"+M,D):P["on"+M]=null}function u(P){let M=P.clientHeight;const D=P.ownerDocument.defaultView.getComputedStyle(P);return M+=(0,t.int)(D.borderTopWidth),M+=(0,t.int)(D.borderBottomWidth),M}function c(P){let M=P.clientWidth;const D=P.ownerDocument.defaultView.getComputedStyle(P);return M+=(0,t.int)(D.borderLeftWidth),M+=(0,t.int)(D.borderRightWidth),M}function d(P){let M=P.clientHeight;const D=P.ownerDocument.defaultView.getComputedStyle(P);return M-=(0,t.int)(D.paddingTop),M-=(0,t.int)(D.paddingBottom),M}function h(P){let M=P.clientWidth;const D=P.ownerDocument.defaultView.getComputedStyle(P);return M-=(0,t.int)(D.paddingLeft),M-=(0,t.int)(D.paddingRight),M}function p(P,M,D){const L=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),V=(P.clientX+M.scrollLeft-L.left)/D,$=(P.clientY+M.scrollTop-L.top)/D;return{x:V,y:$}}function m(P,M){const D=w(P,M,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:D}}function y(P,M){return w(P,M,"")}function w(P,M,D){let{x:k,y:L}=P,V="translate(".concat(k).concat(D,",").concat(L).concat(D,")");if(M){const $="".concat(typeof M.x=="string"?M.x:M.x+D),z="".concat(typeof M.y=="string"?M.y:M.y+D);V="translate(".concat($,", ").concat(z,")")+V}return V}function _(P,M){return P.targetTouches&&(0,t.findInArray)(P.targetTouches,D=>M===D.identifier)||P.changedTouches&&(0,t.findInArray)(P.changedTouches,D=>M===D.identifier)}function E(P){if(P.targetTouches&&P.targetTouches[0])return P.targetTouches[0].identifier;if(P.changedTouches&&P.changedTouches[0])return P.changedTouches[0].identifier}function S(P){if(!P)return;let M=P.getElementById("react-draggable-style-el");M||(M=P.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,P.getElementsByTagName("head")[0].appendChild(M)),P.body&&I(P.body,"react-draggable-transparent-selection")}function T(P){if(P)try{if(P.body&&N(P.body,"react-draggable-transparent-selection"),P.selection)P.selection.empty();else{const M=(P.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function I(P,M){P.classList?P.classList.add(M):P.className.match(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)")))||(P.className+=" ".concat(M))}function N(P,M){P.classList?P.classList.remove(M):P.className=P.className.replace(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)"),"g"),"")}return Vr}var Ll={},yG;function jre(){if(yG)return Ll;yG=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.canDragX=i,Ll.canDragY=o,Ll.createCoreData=a,Ll.createDraggableData=l,Ll.getBoundPosition=n,Ll.getControlPosition=s,Ll.snapToGrid=r;var t=lP(),e=S3();function n(d,h,p){if(!d.props.bounds)return[h,p];let{bounds:m}=d.props;m=typeof m=="string"?m:u(m);const y=c(d);if(typeof m=="string"){const{ownerDocument:w}=y,_=w.defaultView;let E;if(m==="parent"?E=y.parentNode:E=w.querySelector(m),!(E instanceof _.HTMLElement))throw new Error('Bounds selector "'+m+'" could not find an element.');const S=E,T=_.getComputedStyle(y),I=_.getComputedStyle(S);m={left:-y.offsetLeft+(0,t.int)(I.paddingLeft)+(0,t.int)(T.marginLeft),top:-y.offsetTop+(0,t.int)(I.paddingTop)+(0,t.int)(T.marginTop),right:(0,e.innerWidth)(S)-(0,e.outerWidth)(y)-y.offsetLeft+(0,t.int)(I.paddingRight)-(0,t.int)(T.marginRight),bottom:(0,e.innerHeight)(S)-(0,e.outerHeight)(y)-y.offsetTop+(0,t.int)(I.paddingBottom)-(0,t.int)(T.marginBottom)}}return(0,t.isNum)(m.right)&&(h=Math.min(h,m.right)),(0,t.isNum)(m.bottom)&&(p=Math.min(p,m.bottom)),(0,t.isNum)(m.left)&&(h=Math.max(h,m.left)),(0,t.isNum)(m.top)&&(p=Math.max(p,m.top)),[h,p]}function r(d,h,p){const m=Math.round(h/d[0])*d[0],y=Math.round(p/d[1])*d[1];return[m,y]}function i(d){return d.props.axis==="both"||d.props.axis==="x"}function o(d){return d.props.axis==="both"||d.props.axis==="y"}function s(d,h,p){const m=typeof h=="number"?(0,e.getTouch)(d,h):null;if(typeof h=="number"&&!m)return null;const y=c(p),w=p.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,e.offsetXYFromParent)(m||d,w,p.props.scale)}function a(d,h,p){const m=!(0,t.isNum)(d.lastX),y=c(d);return m?{node:y,deltaX:0,deltaY:0,lastX:h,lastY:p,x:h,y:p}:{node:y,deltaX:h-d.lastX,deltaY:p-d.lastY,lastX:d.lastX,lastY:d.lastY,x:h,y:p}}function l(d,h){const p=d.props.scale;return{node:h.node,x:d.state.x+h.deltaX/p,y:d.state.y+h.deltaY/p,deltaX:h.deltaX/p,deltaY:h.deltaY/p,lastX:d.state.x,lastY:d.state.y}}function u(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}}function c(d){const h=d.findDOMNode();if(!h)throw new Error("<DraggableCore>: Unmounted during event!");return h}return Ll}var Cb={},B1={},vG;function Wre(){if(vG)return B1;vG=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.default=t;function t(){}return B1}var bG;function Hqe(){if(bG)return Cb;bG=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.default=void 0;var t=u(dl()),e=a(Z5()),n=a(VA()),r=S3(),i=jre(),o=lP(),s=a(Wre());function a(w){return w&&w.__esModule?w:{default:w}}function l(w){if(typeof WeakMap!="function")return null;var _=new WeakMap,E=new WeakMap;return(l=function(S){return S?E:_})(w)}function u(w,_){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var E=l(_);if(E&&E.has(w))return E.get(w);var S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in w)if(I!=="default"&&Object.prototype.hasOwnProperty.call(w,I)){var N=T?Object.getOwnPropertyDescriptor(w,I):null;N&&(N.get||N.set)?Object.defineProperty(S,I,N):S[I]=w[I]}return S.default=w,E&&E.set(w,S),S}function c(w,_,E){return _=d(_),_ in w?Object.defineProperty(w,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[_]=E,w}function d(w){var _=h(w,"string");return typeof _=="symbol"?_:String(_)}function h(w,_){if(typeof w!="object"||w===null)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var S=E.call(w,_);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(w)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,y=class extends t.Component{constructor(){super(...arguments),c(this,"dragging",!1),c(this,"lastX",NaN),c(this,"lastY",NaN),c(this,"touchIdentifier",null),c(this,"mounted",!1),c(this,"handleDragStart",_=>{if(this.props.onMouseDown(_),!this.props.allowAnyClick&&typeof _.button=="number"&&_.button!==0)return!1;const E=this.findDOMNode();if(!E||!E.ownerDocument||!E.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:S}=E;if(this.props.disabled||!(_.target instanceof S.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(_.target,this.props.handle,E)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(_.target,this.props.cancel,E))return;_.type==="touchstart"&&_.preventDefault();const T=(0,r.getTouchIdentifier)(_);this.touchIdentifier=T;const I=(0,i.getControlPosition)(_,T,this);if(I==null)return;const{x:N,y:P}=I,M=(0,i.createCoreData)(this,N,P);(0,s.default)("DraggableCore: handleDragStart: %j",M),(0,s.default)("calling",this.props.onStart),!(this.props.onStart(_,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(S),this.dragging=!0,this.lastX=N,this.lastY=P,(0,r.addEvent)(S,m.move,this.handleDrag),(0,r.addEvent)(S,m.stop,this.handleDragStop))}),c(this,"handleDrag",_=>{const E=(0,i.getControlPosition)(_,this.touchIdentifier,this);if(E==null)return;let{x:S,y:T}=E;if(Array.isArray(this.props.grid)){let P=S-this.lastX,M=T-this.lastY;if([P,M]=(0,i.snapToGrid)(this.props.grid,P,M),!P&&!M)return;S=this.lastX+P,T=this.lastY+M}const I=(0,i.createCoreData)(this,S,T);if((0,s.default)("DraggableCore: handleDrag: %j",I),this.props.onDrag(_,I)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=S,this.lastY=T}),c(this,"handleDragStop",_=>{if(!this.dragging)return;const E=(0,i.getControlPosition)(_,this.touchIdentifier,this);if(E==null)return;let{x:S,y:T}=E;if(Array.isArray(this.props.grid)){let M=S-this.lastX||0,D=T-this.lastY||0;[M,D]=(0,i.snapToGrid)(this.props.grid,M,D),S=this.lastX+M,T=this.lastY+D}const I=(0,i.createCoreData)(this,S,T);if(this.props.onStop(_,I)===!1||this.mounted===!1)return!1;const P=this.findDOMNode();P&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(P.ownerDocument),(0,s.default)("DraggableCore: handleDragStop: %j",I),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,P&&((0,s.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(P.ownerDocument,m.move,this.handleDrag),(0,r.removeEvent)(P.ownerDocument,m.stop,this.handleDragStop))}),c(this,"onMouseDown",_=>(m=p.mouse,this.handleDragStart(_))),c(this,"onMouseUp",_=>(m=p.mouse,this.handleDragStop(_))),c(this,"onTouchStart",_=>(m=p.touch,this.handleDragStart(_))),c(this,"onTouchEnd",_=>(m=p.touch,this.handleDragStop(_)))}componentDidMount(){this.mounted=!0;const _=this.findDOMNode();_&&(0,r.addEvent)(_,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const _=this.findDOMNode();if(_){const{ownerDocument:E}=_;(0,r.removeEvent)(E,p.mouse.move,this.handleDrag),(0,r.removeEvent)(E,p.touch.move,this.handleDrag),(0,r.removeEvent)(E,p.mouse.stop,this.handleDragStop),(0,r.removeEvent)(E,p.touch.stop,this.handleDragStop),(0,r.removeEvent)(_,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(E)}}findDOMNode(){var _,E;return(_=this.props)!==null&&_!==void 0&&_.nodeRef?(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Cb.default=y,c(y,"displayName","DraggableCore"),c(y,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(w,_){if(w[_]&&w[_].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),c(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Cb}var wG;function qqe(){return wG||(wG=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(dl()),n=c(Z5()),r=c(VA()),i=c(zqe),o=S3(),s=jre(),a=lP(),l=c(Hqe()),u=c(Wre());function c(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,T=new WeakMap;return(d=function(I){return I?T:S})(E)}function h(E,S){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var T=d(S);if(T&&T.has(E))return T.get(E);var I={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in E)if(P!=="default"&&Object.prototype.hasOwnProperty.call(E,P)){var M=N?Object.getOwnPropertyDescriptor(E,P):null;M&&(M.get||M.set)?Object.defineProperty(I,P,M):I[P]=E[P]}return I.default=E,T&&T.set(E,I),I}function p(){return p=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var T=arguments[S];for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(E[I]=T[I])}return E},p.apply(this,arguments)}function m(E,S,T){return S=y(S),S in E?Object.defineProperty(E,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[S]=T,E}function y(E){var S=w(E,"string");return typeof S=="symbol"?S:String(S)}function w(E,S){if(typeof E!="object"||E===null)return E;var T=E[Symbol.toPrimitive];if(T!==void 0){var I=T.call(E,S);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(E)}class _ extends e.Component{static getDerivedStateFromProps(S,T){let{position:I}=S,{prevPropsPosition:N}=T;return I&&(!N||I.x!==N.x||I.y!==N.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:I,prevPropsPosition:N}),{x:I.x,y:I.y,prevPropsPosition:{...I}}):null}constructor(S){super(S),m(this,"onDragStart",(T,I)=>{if((0,u.default)("Draggable: onDragStart: %j",I),this.props.onStart(T,(0,s.createDraggableData)(this,I))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(T,I)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",I);const N=(0,s.createDraggableData)(this,I),P={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:D,y:k}=P;P.x+=this.state.slackX,P.y+=this.state.slackY;const[L,V]=(0,s.getBoundPosition)(this,P.x,P.y);P.x=L,P.y=V,P.slackX=this.state.slackX+(D-P.x),P.slackY=this.state.slackY+(k-P.y),N.x=P.x,N.y=P.y,N.deltaX=P.x-this.state.x,N.deltaY=P.y-this.state.y}if(this.props.onDrag(T,N)===!1)return!1;this.setState(P)}),m(this,"onDragStop",(T,I)=>{if(!this.state.dragging||this.props.onStop(T,(0,s.createDraggableData)(this,I))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",I);const P={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:D,y:k}=this.props.position;P.x=D,P.y=k}this.setState(P)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,T;return(S=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&S!==void 0?S:r.default.findDOMNode(this)}render(){const{axis:S,bounds:T,children:I,defaultPosition:N,defaultClassName:P,defaultClassNameDragging:M,defaultClassNameDragged:D,position:k,positionOffset:L,scale:V,...$}=this.props;let z={},G=null;const J=!!!k||this.state.dragging,ee=k||N,X={x:(0,s.canDragX)(this)&&J?this.state.x:ee.x,y:(0,s.canDragY)(this)&&J?this.state.y:ee.y};this.state.isElementSVG?G=(0,o.createSVGTransform)(X,L):z=(0,o.createCSSTransform)(X,L);const j=(0,i.default)(I.props.className||"",P,{[M]:this.state.dragging,[D]:this.state.dragged});return e.createElement(l.default,p({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(I),{className:j,style:{...I.props.style,...z},transform:G}))}}t.default=_,m(_,"displayName","Draggable"),m(_,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(_,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(GN)),GN}var xG;function jqe(){if(xG)return Eb.exports;xG=1;const{default:t,DraggableCore:e}=qqe();return Eb.exports=t,Eb.exports.default=t,Eb.exports.DraggableCore=e,Eb.exports}var Wqe=jqe();const Gqe=uo(Wqe);var Xr=function(){return Xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xr.apply(this,arguments)},_G={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},SG={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},V1={width:"20px",height:"20px",position:"absolute",zIndex:1},Kqe={top:Xr(Xr({},_G),{top:"-5px"}),right:Xr(Xr({},SG),{left:void 0,right:"-5px"}),bottom:Xr(Xr({},_G),{top:void 0,bottom:"-5px"}),left:Xr(Xr({},SG),{left:"-5px"}),topRight:Xr(Xr({},V1),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Xr(Xr({},V1),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Xr(Xr({},V1),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Xr(Xr({},V1),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Yqe=F.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,o=t.className,s=F.useCallback(function(u){e(u,n)},[e,n]),a=F.useCallback(function(u){e(u,n)},[e,n]),l=F.useMemo(function(){return Xr(Xr({position:"absolute",userSelect:"none"},Kqe[n]),i??{})},[i,n]);return O.jsx("div",{className:o||void 0,style:l,onMouseDown:s,onTouchStart:a,children:r})}),Xqe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(){return Fl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fl.apply(this,arguments)},Jqe={width:"auto",height:"auto"},z1=function(t,e,n){return Math.max(Math.min(t,n),e)},EG=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},Rm=function(t,e){return new RegExp(t,"i").test(e)},U1=function(t){return!!(t.touches&&t.touches.length)},Qqe=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},CG=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,s,a){return Math.abs(s-t)<Math.abs(e[o]-t)?a:o},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},KN=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},H1=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},Zqe=function(t,e,n,r,i,o,s){return r=H1(r,t.width,e,n),i=H1(i,t.height,e,n),o=H1(o,t.width,e,n),s=H1(s,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof s>"u"?void 0:Number(s)}},eje=function(t){return Array.isArray(t)?t:[t,t]},tje=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],TG="__resizable_base__",nje=function(t){Xqe(e,t);function e(n){var r,i,o,s,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(TG):u.className+=TG,l.appendChild(u),u},a.removeBase=function(l){var u=a.parentNode;u&&u.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(s=(o=a.propsSize)===null||o===void 0?void 0:o.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Jqe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=s}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),c=Number(n.state[a].toString().replace("px","")),d=c/u[a]*100;return"".concat(d,"%")}return KN(n.state[a])},o=r&&typeof r.width<"u"&&!this.state.isResizing?KN(r.width):i("width"),s=r&&typeof r.height<"u"&&!this.state.isResizing?KN(r.height):i("height");return{width:o,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,o=this.state.direction,s=i&&Rm("left",o),a=i&&Rm("top",o),l,u;if(this.props.bounds==="parent"){var c=this.parentNode;c&&(l=s?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,o=eje(this.props.resizeRatio||1),s=o[0],a=o[1],l=this.state,u=l.direction,c=l.original,d=this.props,h=d.lockAspectRatio,p=d.lockAspectRatioExtraHeight,m=d.lockAspectRatioExtraWidth,y=c.width,w=c.height,_=p||0,E=m||0;return Rm("right",u)&&(y=c.width+(n-c.x)*s/i,h&&(w=(y-E)/this.ratio+_)),Rm("left",u)&&(y=c.width-(n-c.x)*s/i,h&&(w=(y-E)/this.ratio+_)),Rm("bottom",u)&&(w=c.height+(r-c.y)*a/i,h&&(y=(w-_)*this.ratio+E)),Rm("top",u)&&(w=c.height-(r-c.y)*a/i,h&&(y=(w-_)*this.ratio+E)),{newWidth:y,newHeight:w}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,o){var s=this.props,a=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,c=typeof o.width>"u"?10:o.width,d=typeof i.width>"u"||i.width<0?n:i.width,h=typeof o.height>"u"?10:o.height,p=typeof i.height>"u"||i.height<0?r:i.height,m=l||0,y=u||0;if(a){var w=(h-m)*this.ratio+y,_=(p-m)*this.ratio+y,E=(c-y)/this.ratio+m,S=(d-y)/this.ratio+m,T=Math.max(c,w),I=Math.min(d,_),N=Math.max(h,E),P=Math.min(p,S);n=z1(n,T,I),r=z1(r,N,P)}else n=z1(n,c,d),r=z1(r,h,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,l=s.top,u=s.right,c=s.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=l*n,this.resizableBottom=c*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,o=0;if(n.nativeEvent&&Qqe(n.nativeEvent)?(i=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&U1(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(n,r,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var u=this.parentNode;if(u){var c=this.window.getComputedStyle(u).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Fl(Fl({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&U1(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,s=i.maxHeight,a=i.minWidth,l=i.minHeight,u=U1(n)?n.touches[0].clientX:n.clientX,c=U1(n)?n.touches[0].clientY:n.clientY,d=this.state,h=d.direction,p=d.original,m=d.width,y=d.height,w=this.getParentSize(),_=Zqe(w,this.window.innerWidth,this.window.innerHeight,o,s,a,l);o=_.maxWidth,s=_.maxHeight,a=_.minWidth,l=_.minHeight;var E=this.calculateNewSizeFromDirection(u,c),S=E.newHeight,T=E.newWidth,I=this.calculateNewMaxFromBoundary(o,s);this.props.snap&&this.props.snap.x&&(T=CG(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=CG(S,this.props.snap.y,this.props.snapGap));var N=this.calculateNewSizeFromAspectRatio(T,S,{width:I.maxWidth,height:I.maxHeight},{width:a,height:l});if(T=N.newWidth,S=N.newHeight,this.props.grid){var P=EG(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),M=EG(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),D=this.props.snapGap||0,k=D===0||Math.abs(P-T)<=D?P:T,L=D===0||Math.abs(M-S)<=D?M:S;T=k,S=L}var V={width:T-p.width,height:S-p.height};if(this.delta=V,m&&typeof m=="string"){if(m.endsWith("%")){var $=T/w.width*100;T="".concat($,"%")}else if(m.endsWith("vw")){var z=T/this.window.innerWidth*100;T="".concat(z,"vw")}else if(m.endsWith("vh")){var G=T/this.window.innerHeight*100;T="".concat(G,"vh")}}if(y&&typeof y=="string"){if(y.endsWith("%")){var $=S/w.height*100;S="".concat($,"%")}else if(y.endsWith("vw")){var z=S/this.window.innerWidth*100;S="".concat(z,"vw")}else if(y.endsWith("vh")){var G=S/this.window.innerHeight*100;S="".concat(G,"vh")}}var K={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?K.flexBasis=K.width:this.flexDir==="column"&&(K.flexBasis=K.height);var J=this.state.width!==K.width,ee=this.state.height!==K.height,X=this.state.flexBasis!==K.flexBasis,j=J||ee||X;j&&Fc.flushSync(function(){r.setState(K)}),this.props.onResize&&j&&this.props.onResize(n,h,this.resizable,V)}},e.prototype.onMouseUp=function(n){var r,i,o=this.state,s=o.isResizing,a=o.direction;o.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Fl(Fl({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,o=r.handleStyles,s=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,u=r.handleComponent;if(!i)return null;var c=Object.keys(i).map(function(d){return i[d]!==!1?O.jsx(Yqe,{direction:d,onResizeStart:n.onResizeStart,replaceStyles:o&&o[d],className:s&&s[d],children:u&&u[d]?u[d]:null},d):null});return O.jsx("div",{className:l,style:a,children:c})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(s,a){return tje.indexOf(a)!==-1||(s[a]=n.props[a]),s},{}),i=Fl(Fl(Fl({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return O.jsxs(o,Fl({style:i,className:this.props.className},r,{ref:function(s){s&&(n.resizable=s)},children:[this.state.isResizing&&O.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(F.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var JO=function(t,e){return JO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},JO(t,e)};function rje(t,e){JO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var li=function(){return li=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},li.apply(this,arguments)};function ije(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var oje={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},sje=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},aje=function(t){rje(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,o=this.getDraggablePosition(),s=o.x,a=o.y;this.draggable.setState({x:s-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),s=this.props.scale,a;if(this.props.bounds==="parent")a=o;else if(this.props.bounds==="body"){var l=o.getBoundingClientRect(),u=l.left,c=l.top,d=document.body.getBoundingClientRect(),h=-(u-o.offsetLeft*s-d.left)/s,p=-(c-o.offsetTop*s-d.top)/s,m=(document.body.offsetWidth-this.resizable.size.width*s)/s+h,y=(document.body.offsetHeight-this.resizable.size.height*s)/s+p;return this.setState({bounds:{top:p,right:m,bottom:y,left:h}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var w=o.getBoundingClientRect(),_=w.left,E=w.top,S=-(_-o.offsetLeft*s)/s,T=-(E-o.offsetTop*s)/s,m=(window.innerWidth-this.resizable.size.width*s)/s+S,y=(window.innerHeight-this.resizable.size.height*s)/s+T;return this.setState({bounds:{top:T,right:m,bottom:y,left:S}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(o instanceof HTMLElement))){var I=a.getBoundingClientRect(),N=I.left,P=I.top,M=o.getBoundingClientRect(),D=M.left,k=M.top,L=(N-D)/s,V=P-k;if(this.resizable){this.updateOffsetFromParent();var $=this.offsetFromParent;this.setState({bounds:{top:V-$.top,right:L+(a.offsetWidth-this.resizable.size.width)-$.left/s,bottom:V+(a.offsetHeight-this.resizable.size.height)-$.top,left:L-$.left/s}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,li(li({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDrag(n,li(li({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,li(li({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,li(li({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,li(li({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,li(li({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,s=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+s.left,y:a.y+s.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),u=void 0;this.props.bounds==="parent"?u=l:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(u instanceof HTMLElement||u===window)&&l instanceof HTMLElement){var d=this.getMaxSizesFromProps(),h=d.maxWidth,p=d.maxHeight,m=this.getParentSize();if(h&&typeof h=="string")if(h.endsWith("%")){var y=Number(h.replace("%",""))/100;h=m.width*y}else h.endsWith("px")&&(h=Number(h.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var y=Number(p.replace("%",""))/100;p=m.height*y}else p.endsWith("px")&&(p=Number(p.replace("px","")));var w=c.getBoundingClientRect(),_=w.left,E=w.top,S=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),T=S.left,I=S.top,N=this.getOffsetWidth(u),P=this.getOffsetHeight(u),M=r.toLowerCase().endsWith("left"),D=r.toLowerCase().endsWith("right"),k=r.startsWith("top"),L=r.startsWith("bottom");if((M||k)&&this.resizable){var V=(_-T)/o+this.resizable.size.width;this.setState({maxWidth:V>Number(h)?h:V})}if(D||this.props.lockAspectRatio&&!M&&!k){var V=N+(T-_)/o;this.setState({maxWidth:V>Number(h)?h:V})}if((k||M)&&this.resizable){var V=(E-I)/o+this.resizable.size.height;this.setState({maxHeight:V>Number(p)?p:V})}if(L||this.props.lockAspectRatio&&!k&&!M){var V=P+(I-E)/o;this.setState({maxHeight:V>Number(p)?p:V})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,o){var s=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-o.width,u=-o.height,c=["top","left","topLeft","bottomLeft","topRight"];c.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=u));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&Fc.flushSync(function(){s.draggable.setState(a)}),this.updateOffsetFromParent();var h=this.offsetFromParent,p=this.getDraggablePosition().x+h.left,m=this.getDraggablePosition().y+h.top;this.resizingPosition={x:p,y:m},this.props.onResize&&this.props.onResize(n,r,i,o,{x:p,y:m})},e.prototype.onResizeStop=function(n,r,i,o){this.setState({resizing:!1});var s=this.getMaxSizesFromProps(),a=s.maxWidth,l=s.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var o=r.getBoundingClientRect(),s=o.left,a=o.top,l=i.getBoundingClientRect(),u=this.getDraggablePosition(),c=r.scrollLeft,d=r.scrollTop;this.offsetFromParent={left:l.left-s+c-u.x*n,top:l.top-a+d-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,o=r.style,s=r.dragHandleClassName,a=r.position,l=r.onMouseDown,u=r.onMouseUp,c=r.dragAxis,d=r.dragGrid,h=r.bounds,p=r.enableUserSelectHack,m=r.cancel,y=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var w=r.resizeHandleStyles,_=r.resizeHandleClasses,E=r.resizeHandleComponent,S=r.enableResizing,T=r.resizeGrid,I=r.resizeHandleWrapperClass,N=r.resizeHandleWrapperStyle,P=r.scale,M=r.allowAnyClick,D=r.dragPositionOffset,k=ije(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),L=this.props.default?li({},this.props.default):void 0;delete k.default;var V=i||s?{cursor:"auto"}:{cursor:"move"},$=li(li(li({},oje),V),o),z=this.offsetFromParent,G=z.left,K=z.top,J;a&&(J={x:a.x-G,y:a.y-K});var ee=this.state.resizing?void 0:J,X=this.state.resizing?"both":c;return F.createElement(Gqe,{ref:function(j){j&&(n.draggable=j)},handle:s?".".concat(s):void 0,defaultPosition:L,onMouseDown:l,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:X,disabled:i,grid:d,bounds:h?this.state.bounds:void 0,position:ee,enableUserSelectHack:p,cancel:m,scale:P,allowAnyClick:M,nodeRef:this.resizableElement,positionOffset:D},F.createElement(nje,li({},k,{ref:function(j){j&&(n.resizable=j,n.resizableElement.current=j.resizable)},defaultSize:L,size:this.props.size,enable:typeof S=="boolean"?sje(S):S,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:$,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:T,handleWrapperClass:I,handleWrapperStyle:N,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:w,handleClasses:_,handleComponent:E,scale:this.props.scale}),y))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(F.PureComponent);const lje=({highlight:t,onChange:e,isScrolledTo:n,bounds:r,onContextMenu:i,onEditStart:o,style:s})=>{const a=n?"AreaHighlight--scrolledTo":"",l=`${t.position.boundingRect.width}${t.position.boundingRect.height}${t.position.boundingRect.left}${t.position.boundingRect.top}`;return oe.createElement("div",{className:`AreaHighlight ${a}`,onContextMenu:i},oe.createElement(aje,{className:"AreaHighlight__part",onDragStop:(u,c)=>{const d={...t.position.boundingRect,top:c.y,left:c.x};e&&e(d)},onResizeStop:(u,c,d,h,p)=>{var y;const m={top:p.y,left:p.x,width:d.offsetWidth,height:d.offsetHeight,pageNumber:((y=Ow(d))==null?void 0:y.number)||-1};e&&e(m)},onDragStart:o,onResizeStart:o,default:{x:t.position.boundingRect.left,y:t.position.boundingRect.top,width:t.position.boundingRect.width,height:t.position.boundingRect.height},key:l,bounds:r,onClick:u=>{u.stopPropagation(),u.preventDefault()},style:s}))};var Fw={};Fw.d=(t,e)=>{for(var n in e)Fw.o(e,n)&&!Fw.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};Fw.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Wt=globalThis.pdfjsLib={};Fw.d(Wt,{AbortException:()=>Eg,AnnotationEditorLayer:()=>a$,AnnotationEditorParamsType:()=>Xt,AnnotationEditorType:()=>Tn,AnnotationEditorUIManager:()=>tg,AnnotationLayer:()=>sWe,AnnotationMode:()=>Qd,CMapCompressionType:()=>ZO,ColorPicker:()=>uA,DOMSVGFactory:()=>T3,DrawLayer:()=>d$,FeatureTest:()=>Qo,GlobalWorkerOptions:()=>Uc,ImageKind:()=>PC,InvalidPDFException:()=>Kre,MissingPDFException:()=>Sg,OPS:()=>$a,Outliner:()=>UF,PDFDataRangeTransport:()=>Hie,PDFDateString:()=>tie,PDFWorker:()=>Cy,PasswordResponses:()=>fje,PermissionFlag:()=>dje,PixelsPerInch:()=>Hf,RenderingCancelledException:()=>A3,TextLayer:()=>Zv,UnexpectedResponseException:()=>fP,Util:()=>At,VerbosityLevel:()=>uP,XfaLayer:()=>jie,build:()=>V8e,createValidAbsoluteUrl:()=>mje,fetchData:()=>yP,getDocument:()=>k8e,getFilenameFromUrl:()=>Tje,getPdfFilenameFromUrl:()=>Aje,getXfaPageViewport:()=>Rje,isDataScheme:()=>R3,isPdfFile:()=>P3,noContextMenu:()=>is,normalizeUnicode:()=>_je,renderTextLayer:()=>_8e,setLayerDimensions:()=>eg,shadow:()=>In,updateTextLayer:()=>S8e,version:()=>B8e});const lo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Gre=[1,0,0,1,0,0],QO=[.001,0,0,.001,0,0],uje=1e7,YN=1.35,ia={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Qd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cje="pdfjs_internal_editor_",Tn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},dje={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ji={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},PC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ai={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Tb={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},uP={ERRORS:0,WARNINGS:1,INFOS:5},ZO={NONE:0,BINARY:1},$a={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},fje={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cP=uP.WARNINGS;function hje(t){Number.isInteger(t)&&(cP=t)}function pje(){return cP}function dP(t){cP>=uP.INFOS&&console.log(`Info: ${t}`)}function dn(t){cP>=uP.WARNINGS&&console.log(`Warning: ${t}`)}function Jn(t){throw new Error(t)}function hi(t,e){t||Jn(e)}function gje(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mje(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=xje(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(gje(r))return r}catch{}return null}function In(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Qf=function(){function e(n,r){this.constructor===e&&Jn("Cannot initialize BaseException."),this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class eF extends Qf{constructor(e,n){super(e,"PasswordException"),this.code=n}}class tF extends Qf{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class Kre extends Qf{constructor(e){super(e,"InvalidPDFException")}}class Sg extends Qf{constructor(e){super(e,"MissingPDFException")}}class fP extends Qf{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class yje extends Qf{constructor(e){super(e,"FormatError")}}class Eg extends Qf{constructor(e){super(e,"AbortException")}}function Yre(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Jn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),s=t.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function hP(t){typeof t!="string"&&Jn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function vje(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function E3(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function bje(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function wje(){try{return new Function(""),!0}catch{return!1}}class Qo{static get isLittleEndian(){return In(this,"isLittleEndian",bje())}static get isEvalSupported(){return In(this,"isEvalSupported",wje())}static get isOffscreenCanvasSupported(){return In(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?In(this,"platform",{isMac:navigator.platform.includes("Mac")}):In(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return In(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const XN=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var qc,IC,nF;class At{static makeHexColor(e,n,r){return`#${XN[e]}${XN[n]}${XN[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,o=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,o]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),o=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],o=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],a=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-o*i))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>s?null:[r,o,i,s]}static bezierBoundingBox(e,n,r,i,o,s,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],re(this,qc,nF).call(this,e,r,o,a,n,i,s,l,3*(-e+3*(r-o)+a),6*(e-2*r+o),3*(r-e),u),re(this,qc,nF).call(this,e,r,o,a,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}qc=new WeakSet,IC=function(e,n,r,i,o,s,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,h=u*u,p=h*u,m=d*(d*(d*e+3*u*n)+3*h*r)+p*i,y=d*(d*(d*o+3*u*s)+3*h*a)+p*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],y),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],y)},nF=function(e,n,r,i,o,s,a,l,u,c,d,h){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&re(this,qc,IC).call(this,e,n,r,i,o,s,a,l,-d/c,h);return}const p=c**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;re(this,qc,IC).call(this,e,n,r,i,o,s,a,l,(-c+m)/y,h),re(this,qc,IC).call(this,e,n,r,i,o,s,a,l,(-c-m)/y,h)},ie(At,qc);function xje(t){return decodeURIComponent(escape(t))}let JN=null,AG=null;function _je(t){return JN||(JN=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,AG=new Map([["ﬅ","ſt"]])),t.replaceAll(JN,(e,n,r)=>n?n.normalize("NFKC"):AG.get(r))}function Sje(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return Yre(t)}const Xre="pdfjs_internal_id_",tc={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class pP{constructor(){this.constructor===pP&&Jn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,o){return"none"}destroy(e=!1){}}var Px;const sB=class sB{constructor({enableHWA:e=!1}={}){ie(this,Px,!1);this.constructor===sB&&Jn("Cannot initialize BaseCanvasFactory."),ne(this,Px,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!C(this,Px)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Jn("Abstract method `_createCanvas` called.")}};Px=new WeakMap;let iA=sB;class gP{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===gP&&Jn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?ZO.BINARY:ZO.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){Jn("Abstract method `_fetchData` called.")}}class mP{constructor({baseUrl:e=null}){this.constructor===mP&&Jn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){Jn("Abstract method `_fetchData` called.")}}class C3{constructor(){this.constructor===C3&&Jn("Cannot initialize BaseSVGFactory.")}create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Jn("Abstract method `_createSVG` called.")}}const ic="http://www.w3.org/2000/svg",Mh=class Mh{};ht(Mh,"CSS",96),ht(Mh,"PDF",72),ht(Mh,"PDF_TO_CSS_UNITS",Mh.CSS/Mh.PDF);let Hf=Mh;var Bh,Vl,cc,qo,xA,Vh,bt,Qi,ry,iy,kC,Jre,rF,oy,iw,ow,iF,sw;class Eje extends pP{constructor({docId:n,ownerDocument:r=globalThis.document}={}){super();ie(this,bt);ie(this,Bh);ie(this,Vl);ie(this,cc);ie(this,qo);ie(this,xA);ie(this,Vh,0);ne(this,cc,n),ne(this,qo,r)}addFilter(n){if(!n)return"none";let r=C(this,bt,Qi).get(n);if(r)return r;const[i,o,s]=re(this,bt,kC).call(this,n),a=n.length===1?i:`${i}${o}${s}`;if(r=C(this,bt,Qi).get(a),r)return C(this,bt,Qi).set(n,r),r;const l=`g_${C(this,cc)}_transfer_map_${vs(this,Vh)._++}`,u=`url(#${l})`;C(this,bt,Qi).set(n,u),C(this,bt,Qi).set(a,u);const c=re(this,bt,oy).call(this,l);return re(this,bt,ow).call(this,i,o,s,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,o="base";let s=C(this,bt,ry).get(o);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},C(this,bt,ry).set(o,s)),!n||!r))return s.url;const a=re(this,bt,sw).call(this,n);n=At.makeHexColor(...a);const l=re(this,bt,sw).call(this,r);if(r=At.makeHexColor(...l),C(this,bt,iy).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const c=u.join(","),d=`g_${C(this,cc)}_hcm_filter`,h=s.filter=re(this,bt,oy).call(this,d);re(this,bt,ow).call(this,c,c,c,h),re(this,bt,rF).call(this,h);const p=(y,w)=>{const _=a[y]/255,E=l[y]/255,S=new Array(w+1);for(let T=0;T<=w;T++)S[T]=_+T/w*(E-_);return S.join(",")};return re(this,bt,ow).call(this,p(0,5),p(1,5),p(2,5),h),s.url=`url(#${d})`,s.url}addAlphaFilter(n){let r=C(this,bt,Qi).get(n);if(r)return r;const[i]=re(this,bt,kC).call(this,[n]),o=`alpha_${i}`;if(r=C(this,bt,Qi).get(o),r)return C(this,bt,Qi).set(n,r),r;const s=`g_${C(this,cc)}_alpha_map_${vs(this,Vh)._++}`,a=`url(#${s})`;C(this,bt,Qi).set(n,a),C(this,bt,Qi).set(o,a);const l=re(this,bt,oy).call(this,s);return re(this,bt,iF).call(this,i,l),a}addLuminosityFilter(n){let r=C(this,bt,Qi).get(n||"luminosity");if(r)return r;let i,o;if(n?([i]=re(this,bt,kC).call(this,[n]),o=`luminosity_${i}`):o="luminosity",r=C(this,bt,Qi).get(o),r)return C(this,bt,Qi).set(n,r),r;const s=`g_${C(this,cc)}_luminosity_map_${vs(this,Vh)._++}`,a=`url(#${s})`;C(this,bt,Qi).set(n,a),C(this,bt,Qi).set(o,a);const l=re(this,bt,oy).call(this,s);return re(this,bt,Jre).call(this,l),n&&re(this,bt,iF).call(this,i,l),a}addHighlightHCMFilter(n,r,i,o,s){var E;const a=`${r}-${i}-${o}-${s}`;let l=C(this,bt,ry).get(n);if((l==null?void 0:l.key)===a||(l?((E=l.filter)==null||E.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},C(this,bt,ry).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(re(this,bt,sw).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,m]=[o,s].map(re(this,bt,sw).bind(this));h<d&&([d,h,p,m]=[h,d,m,p]),C(this,bt,iy).style.color="";const y=(S,T,I)=>{const N=new Array(256),P=(h-d)/I,M=S/255,D=(T-S)/(255*I);let k=0;for(let L=0;L<=I;L++){const V=Math.round(d+L*P),$=M+L*D;for(let z=k;z<=V;z++)N[z]=$;k=V+1}for(let L=k;L<256;L++)N[L]=N[k-1];return N.join(",")},w=`g_${C(this,cc)}_hcm_${n}_filter`,_=l.filter=re(this,bt,oy).call(this,w);return re(this,bt,rF).call(this,_),re(this,bt,ow).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),_),l.url=`url(#${w})`,l.url}destroy(n=!1){n&&C(this,bt,ry).size!==0||(C(this,Vl)&&(C(this,Vl).parentNode.parentNode.remove(),ne(this,Vl,null)),C(this,Bh)&&(C(this,Bh).clear(),ne(this,Bh,null)),ne(this,Vh,0))}}Bh=new WeakMap,Vl=new WeakMap,cc=new WeakMap,qo=new WeakMap,xA=new WeakMap,Vh=new WeakMap,bt=new WeakSet,Qi=function(){return C(this,Bh)||ne(this,Bh,new Map)},ry=function(){return C(this,xA)||ne(this,xA,new Map)},iy=function(){if(!C(this,Vl)){const n=C(this,qo).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=C(this,qo).createElementNS(ic,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ne(this,Vl,C(this,qo).createElementNS(ic,"defs")),n.append(i),i.append(C(this,Vl)),C(this,qo).body.append(n)}return C(this,Vl)},kC=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=u[h]/255;const d=c.join(",");return[d,d,d]}const[r,i,o]=n,s=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,a[u]=i[u]/255,l[u]=o[u]/255;return[s.join(","),a.join(","),l.join(",")]},Jre=function(n){const r=C(this,qo).createElementNS(ic,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},rF=function(n){const r=C(this,qo).createElementNS(ic,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},oy=function(n){const r=C(this,qo).createElementNS(ic,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),C(this,bt,iy).append(r),r},iw=function(n,r,i){const o=C(this,qo).createElementNS(ic,r);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)},ow=function(n,r,i,o){const s=C(this,qo).createElementNS(ic,"feComponentTransfer");o.append(s),re(this,bt,iw).call(this,s,"feFuncR",n),re(this,bt,iw).call(this,s,"feFuncG",r),re(this,bt,iw).call(this,s,"feFuncB",i)},iF=function(n,r){const i=C(this,qo).createElementNS(ic,"feComponentTransfer");r.append(i),re(this,bt,iw).call(this,i,"feFuncA",n)},sw=function(n){return C(this,bt,iy).style.color=n,I3(getComputedStyle(C(this,bt,iy)).getPropertyValue("color"))};class Cje extends iA{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}async function yP(t,e="text"){if(aw(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Qre extends gP{_fetchData(e,n){return yP(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):hP(r),compressionType:n}))}}class Zre extends mP{_fetchData(e){return yP(e,"arraybuffer").then(n=>new Uint8Array(n))}}class T3 extends C3{_createSVG(e){return document.createElementNS(ic,e)}}class OS{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,h=1;break;case 90:u=0,c=1,d=1,h=0;break;case 270:u=0,c=-1,d=-1,h=0;break;case 0:u=1,c=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,h=-h);let p,m,y,w;u===0?(p=Math.abs(l-e[1])*n+i,m=Math.abs(a-e[0])*n+o,y=(e[3]-e[1])*n,w=(e[2]-e[0])*n):(p=Math.abs(a-e[0])*n+i,m=Math.abs(l-e[1])*n+o,y=(e[2]-e[0])*n,w=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,h*n,p-u*n*a-d*n*l,m-c*n*a-h*n*l],this.width=y,this.height=w}get rawDims(){const{viewBox:e}=this;return In(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new OS({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,n){return At.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=At.applyTransform([e[0],e[1]],this.transform),r=At.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return At.applyInverseTransform([e,n],this.transform)}}class A3 extends Qf{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function R3(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function P3(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Tje(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Aje(t,e="document.pdf"){if(typeof t!="string")return e;if(R3(t))return dn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||e}class RG{constructor(){ht(this,"started",Object.create(null));ht(this,"times",[])}time(e){e in this.started&&dn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||dn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(n)} ${o-i}ms
`);return e.join("")}}function aw(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function is(t){t.preventDefault()}function eie(t){console.log("Deprecated API usage: "+t)}let PG;class tie{static toDateObject(e){if(!e||typeof e!="string")return null;PG||(PG=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=PG.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(s+=c,a+=d):u==="+"&&(s-=c,a-=d),new Date(Date.UTC(r,i,o,s,a,l))}}function Rje(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new OS({viewBox:o,scale:e,rotation:n})}function I3(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(dn(`Not a valid color format: "${t}"`),[0,0,0])}function Pje(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,I3(r))}e.remove()}function Ar(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform();return[e,n,r,i,o,s]}function nc(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform().invertSelf();return[e,n,r,i,o,s]}function eg(t,e,n=!1,r=!0){if(e instanceof OS){const{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=t,a=Qo.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${o}px`,c=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${u}, 1px)`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=d):(s.width=d,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}var zh,Uh,Es,Hh,_A,nie,Co,rie,iie,MC,oie,sF;const SA=class SA{constructor(e){ie(this,Co);ie(this,zh,null);ie(this,Uh,null);ie(this,Es);ie(this,Hh,null);ne(this,Es,e)}render(){const e=ne(this,zh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=C(this,Es)._uiManager._signal;e.addEventListener("contextmenu",is,{signal:n}),e.addEventListener("pointerdown",re(SA,_A,nie),{signal:n});const r=ne(this,Hh,document.createElement("div"));r.className="buttons",e.append(r);const i=C(this,Es).toolbarPosition;if(i){const{style:o}=e,s=C(this,Es)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return re(this,Co,oie).call(this),e}hide(){var e;C(this,zh).classList.add("hidden"),(e=C(this,Uh))==null||e.hideDropdown()}show(){C(this,zh).classList.remove("hidden")}addAltTextButton(e){re(this,Co,MC).call(this,e),C(this,Hh).prepend(e,C(this,Co,sF))}addColorPicker(e){ne(this,Uh,e);const n=e.renderButton();re(this,Co,MC).call(this,n),C(this,Hh).prepend(n,C(this,Co,sF))}remove(){var e;C(this,zh).remove(),(e=C(this,Uh))==null||e.destroy(),ne(this,Uh,null)}};zh=new WeakMap,Uh=new WeakMap,Es=new WeakMap,Hh=new WeakMap,_A=new WeakSet,nie=function(e){e.stopPropagation()},Co=new WeakSet,rie=function(e){C(this,Es)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},iie=function(e){C(this,Es)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},MC=function(e){const n=C(this,Es)._uiManager._signal;e.addEventListener("focusin",re(this,Co,rie).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",re(this,Co,iie).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",is,{signal:n})},oie=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${C(this,Es).editorType}-button`),re(this,Co,MC).call(this,e),e.addEventListener("click",n=>{C(this,Es)._uiManager.delete()},{signal:C(this,Es)._uiManager._signal}),C(this,Hh).append(e)},sF=function(){const e=document.createElement("div");return e.className="divider",e},ie(SA,_A);let oF=SA;var Ix,qh,jh,jf,sie,aie,lie;class Ije{constructor(e){ie(this,jf);ie(this,Ix,null);ie(this,qh,null);ie(this,jh);ne(this,jh,e)}show(e,n,r){const[i,o]=re(this,jf,aie).call(this,n,r),{style:s}=C(this,qh)||ne(this,qh,re(this,jf,sie).call(this));e.append(C(this,qh)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){C(this,qh).remove()}}Ix=new WeakMap,qh=new WeakMap,jh=new WeakMap,jf=new WeakSet,sie=function(){const e=ne(this,qh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",is,{signal:C(this,jh)._signal});const n=ne(this,Ix,document.createElement("div"));return n.className="buttons",e.append(n),re(this,jf,lie).call(this),e},aie=function(e,n){let r=0,i=0;for(const o of e){const s=o.y+o.height;if(s<r)continue;const a=o.x+(n?o.width:0);if(s>r){i=a,r=s;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},lie=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=C(this,jh)._signal;e.addEventListener("contextmenu",is,{signal:r}),e.addEventListener("click",()=>{C(this,jh).highlightSelection("floating_button")},{signal:r}),C(this,Ix).append(e)};function oA(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function kje(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var EA;class Mje{constructor(){ie(this,EA,0)}get id(){return`${cje}${vs(this,EA)._++}`}}EA=new WeakMap;var kx,CA,ea,Mx,lF;const aB=class aB{constructor(){ie(this,Mx);ie(this,kx,Sje());ie(this,CA,0);ie(this,ea,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return In(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:o}=e;return re(this,Mx,lF).call(this,`${n}_${r}_${i}_${o}`,e)}async getFromUrl(e){return re(this,Mx,lF).call(this,e,e)}async getFromId(e){C(this,ea)||ne(this,ea,new Map);const n=C(this,ea).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=C(this,ea).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){C(this,ea)||ne(this,ea,new Map);const n=C(this,ea).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${C(this,kx)}_`)}};kx=new WeakMap,CA=new WeakMap,ea=new WeakMap,Mx=new WeakSet,lF=async function(e,n){C(this,ea)||ne(this,ea,new Map);let r=C(this,ea).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${C(this,kx)}_${vs(this,CA)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await yP(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const o=aB._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},s.onload=async()=>{const d=r.svgUrl=s.result;a.src=await o?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return C(this,ea).set(e,r),r&&C(this,ea).set(r.id,r),r};let aF=aB;var wi,ef,Nx,xi;class Nje{constructor(e=128){ie(this,wi,[]);ie(this,ef,!1);ie(this,Nx);ie(this,xi,-1);ne(this,Nx,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),C(this,ef))return;const l={cmd:e,undo:n,post:r,type:o};if(C(this,xi)===-1){C(this,wi).length>0&&(C(this,wi).length=0),ne(this,xi,0),C(this,wi).push(l);return}if(s&&C(this,wi)[C(this,xi)].type===o){a&&(l.undo=C(this,wi)[C(this,xi)].undo),C(this,wi)[C(this,xi)]=l;return}const u=C(this,xi)+1;u===C(this,Nx)?C(this,wi).splice(0,1):(ne(this,xi,u),u<C(this,wi).length&&C(this,wi).splice(u)),C(this,wi).push(l)}undo(){if(C(this,xi)===-1)return;ne(this,ef,!0);const{undo:e,post:n}=C(this,wi)[C(this,xi)];e(),n==null||n(),ne(this,ef,!1),ne(this,xi,C(this,xi)-1)}redo(){if(C(this,xi)<C(this,wi).length-1){ne(this,xi,C(this,xi)+1),ne(this,ef,!0);const{cmd:e,post:n}=C(this,wi)[C(this,xi)];e(),n==null||n(),ne(this,ef,!1)}}hasSomethingToUndo(){return C(this,xi)!==-1}hasSomethingToRedo(){return C(this,xi)<C(this,wi).length-1}destroy(){ne(this,wi,null)}}wi=new WeakMap,ef=new WeakMap,Nx=new WeakMap,xi=new WeakMap;var TA,uie;class FS{constructor(e){ie(this,TA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Qo.platform;for(const[r,i,o={}]of e)for(const s of r){const a=s.startsWith("mac+");n&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!n&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(re(this,TA,uie).call(this,n));if(!r)return;const{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...s,n)(),o||(n.stopPropagation(),n.preventDefault()))}}TA=new WeakSet,uie=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const AA=class AA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Pje(e),In(this,"_colors",e)}convert(e){const n=I3(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((o,s)=>o===n[s]))return AA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?At.makeHexColor(...n):e}};ht(AA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let uF=AA;var Ry,Cs,ui,Mi,Py,dc,Iy,Ba,ky,Wh,zl,Va,Gh,Dx,Lx,Ul,My,tf,Hl,RA,nf,Ox,Kh,Fx,Ny,Ni,jn,fc,Yh,$x,Bx,Vx,zx,Ux,Hx,qx,jx,Wx,Gx,Kx,Yx,Xx,rf,ql,hc,Jx,rt,NC,cie,die,DC,fie,hie,pie,cF,gie,dF,fF,mie,bo,jd,yie,vie,hF,bie,lw,pF;const py=class py{constructor(e,n,r,i,o,s,a,l,u){ie(this,rt);ie(this,Ry,new AbortController);ie(this,Cs,null);ie(this,ui,new Map);ie(this,Mi,new Map);ie(this,Py,null);ie(this,dc,null);ie(this,Iy,null);ie(this,Ba,new Nje);ie(this,ky,0);ie(this,Wh,new Set);ie(this,zl,null);ie(this,Va,null);ie(this,Gh,new Set);ie(this,Dx,!1);ie(this,Lx,null);ie(this,Ul,null);ie(this,My,null);ie(this,tf,!1);ie(this,Hl,null);ie(this,RA,new Mje);ie(this,nf,!1);ie(this,Ox,!1);ie(this,Kh,null);ie(this,Fx,null);ie(this,Ny,null);ie(this,Ni,Tn.NONE);ie(this,jn,new Set);ie(this,fc,null);ie(this,Yh,null);ie(this,$x,null);ie(this,Bx,this.blur.bind(this));ie(this,Vx,this.focus.bind(this));ie(this,zx,this.copy.bind(this));ie(this,Ux,this.cut.bind(this));ie(this,Hx,this.paste.bind(this));ie(this,qx,this.keydown.bind(this));ie(this,jx,this.keyup.bind(this));ie(this,Wx,this.onEditingAction.bind(this));ie(this,Gx,this.onPageChanging.bind(this));ie(this,Kx,this.onScaleChanging.bind(this));ie(this,Yx,this.onRotationChanging.bind(this));ie(this,Xx,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ie(this,rf,[0,0]);ie(this,ql,null);ie(this,hc,null);ie(this,Jx,null);this._signal=C(this,Ry).signal,ne(this,hc,e),ne(this,Jx,n),ne(this,Py,r),this._eventBus=i,this._eventBus._on("editingaction",C(this,Wx)),this._eventBus._on("pagechanging",C(this,Gx)),this._eventBus._on("scalechanging",C(this,Kx)),this._eventBus._on("rotationchanging",C(this,Yx)),re(this,rt,fie).call(this),re(this,rt,mie).call(this),re(this,rt,cF).call(this),ne(this,dc,o.annotationStorage),ne(this,Lx,o.filterFactory),ne(this,Yh,s),ne(this,My,a||null),ne(this,Dx,l),ne(this,Ny,u||null),this.viewParameters={realScale:Hf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=py.prototype,n=s=>C(s,hc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return In(this,"_keyboardManager",new FS([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&C(s,hc).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&C(s,hc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,r;(e=C(this,Ry))==null||e.abort(),ne(this,Ry,null),this._signal=null,this._eventBus._off("editingaction",C(this,Wx)),this._eventBus._off("pagechanging",C(this,Gx)),this._eventBus._off("scalechanging",C(this,Kx)),this._eventBus._off("rotationchanging",C(this,Yx));for(const i of C(this,Mi).values())i.destroy();C(this,Mi).clear(),C(this,ui).clear(),C(this,Gh).clear(),ne(this,Cs,null),C(this,jn).clear(),C(this,Ba).destroy(),(n=C(this,Py))==null||n.destroy(),(r=C(this,Hl))==null||r.hide(),ne(this,Hl,null),C(this,Ul)&&(clearTimeout(C(this,Ul)),ne(this,Ul,null)),C(this,ql)&&(clearTimeout(C(this,ql)),ne(this,ql,null))}async mlGuess(e){var n;return((n=C(this,Ny))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!C(this,Ny)}get hcmFilter(){return In(this,"hcmFilter",C(this,Yh)?C(this,Lx).addHCMFilter(C(this,Yh).foreground,C(this,Yh).background):"none")}get direction(){return In(this,"direction",getComputedStyle(C(this,hc)).direction)}get highlightColors(){return In(this,"highlightColors",C(this,My)?new Map(C(this,My).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return In(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){ne(this,Fx,e)}editAltText(e){var n;(n=C(this,Py))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){ne(this,ky,e-1)}focusMainContainer(){C(this,hc).focus()}findParent(e,n){for(const r of C(this,Mi).values()){const{x:i,y:o,width:s,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=o&&n<=o+a)return r}return null}disableUserSelect(e=!1){C(this,Jx).classList.toggle("noUserSelect",e)}addShouldRescale(e){C(this,Gh).add(e)}removeShouldRescale(e){C(this,Gh).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Hf.PDF_TO_CSS_UNITS;for(const n of C(this,Gh))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=n,a=n.toString(),u=re(this,rt,NC).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){n.empty(),C(this,Ni)===Tn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Tn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of C(this,Mi).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&C(this,dc)&&!C(this,dc).has(e.id)&&C(this,dc).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,C(this,tf)&&(ne(this,tf,!1),re(this,rt,DC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of C(this,jn))if(n.div.contains(e)){ne(this,Kh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!C(this,Kh))return;const[e,n]=C(this,Kh);ne(this,Kh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){re(this,rt,cF).call(this),re(this,rt,dF).call(this)}removeEditListeners(){re(this,rt,gie).call(this),re(this,rt,fF).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of C(this,Va))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of C(this,Va))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=C(this,Cs))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of C(this,jn)){const o=i.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const s of C(this,Va))if(s.isHandlingMimeForPasting(o.type)){s.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){dn(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const l of r){const u=i.deserialize(l);if(!u)return;o.push(u)}const s=()=>{for(const l of o)re(this,rt,hF).call(this,l);re(this,rt,pF).call(this,o)},a=()=>{for(const l of o)l.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(o){dn(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),C(this,Ni)!==Tn.NONE&&!this.isEditorHandlingKeyboard&&py._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,C(this,tf)&&(ne(this,tf,!1),re(this,rt,DC).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(re(this,rt,hie).call(this),re(this,rt,dF).call(this),re(this,rt,bo).call(this,{isEditing:C(this,Ni)!==Tn.NONE,isEmpty:re(this,rt,lw).call(this),hasSomethingToUndo:C(this,Ba).hasSomethingToUndo(),hasSomethingToRedo:C(this,Ba).hasSomethingToRedo(),hasSelectedEditor:!1})):(re(this,rt,pie).call(this),re(this,rt,fF).call(this),re(this,rt,bo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!C(this,Va)){ne(this,Va,e);for(const n of C(this,Va))re(this,rt,jd).call(this,n.defaultPropertiesToUpdate)}}getId(){return C(this,RA).id}get currentLayer(){return C(this,Mi).get(C(this,ky))}getLayer(e){return C(this,Mi).get(e)}get currentPageIndex(){return C(this,ky)}addLayer(e){C(this,Mi).set(e.pageIndex,e),C(this,nf)?e.enable():e.disable()}removeLayer(e){C(this,Mi).delete(e.pageIndex)}updateMode(e,n=null,r=!1){if(C(this,Ni)!==e){if(ne(this,Ni,e),e===Tn.NONE){this.setEditingState(!1),re(this,rt,vie).call(this);return}this.setEditingState(!0),re(this,rt,yie).call(this),this.unselectAll();for(const i of C(this,Mi).values())i.updateMode(e);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of C(this,ui).values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==C(this,Ni)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(C(this,Va)){switch(e){case Xt.CREATE:this.currentLayer.addNewEditor();return;case Xt.HIGHLIGHT_DEFAULT_COLOR:(r=C(this,Fx))==null||r.updateColor(n);break;case Xt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(C(this,$x)||ne(this,$x,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of C(this,jn))i.updateParams(e,n);for(const i of C(this,Va))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var o;for(const s of C(this,ui).values())s.editorType===e&&s.show(n);(((o=C(this,$x))==null?void 0:o.get(Xt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&re(this,rt,jd).call(this,[[Xt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(C(this,Ox)!==e){ne(this,Ox,e);for(const n of C(this,Mi).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of C(this,ui).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return C(this,ui).get(e)}addEditor(e){C(this,ui).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(C(this,Ul)&&clearTimeout(C(this,Ul)),ne(this,Ul,setTimeout(()=>{this.focusMainContainer(),ne(this,Ul,null)},0))),C(this,ui).delete(e.id),this.unselect(e),(!e.annotationElementId||!C(this,Wh).has(e.annotationElementId))&&((n=C(this,dc))==null||n.remove(e.id))}addDeletedAnnotationElement(e){C(this,Wh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return C(this,Wh).has(e)}removeDeletedAnnotationElement(e){C(this,Wh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){C(this,Cs)!==e&&(ne(this,Cs,e),e&&re(this,rt,jd).call(this,e.propertiesToUpdate))}updateUI(e){C(this,rt,bie)===e&&re(this,rt,jd).call(this,e.propertiesToUpdate)}toggleSelected(e){if(C(this,jn).has(e)){C(this,jn).delete(e),e.unselect(),re(this,rt,bo).call(this,{hasSelectedEditor:this.hasSelection});return}C(this,jn).add(e),e.select(),re(this,rt,jd).call(this,e.propertiesToUpdate),re(this,rt,bo).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of C(this,jn))n!==e&&n.unselect();C(this,jn).clear(),C(this,jn).add(e),e.select(),re(this,rt,jd).call(this,e.propertiesToUpdate),re(this,rt,bo).call(this,{hasSelectedEditor:!0})}isSelected(e){return C(this,jn).has(e)}get firstSelectedEditor(){return C(this,jn).values().next().value}unselect(e){e.unselect(),C(this,jn).delete(e),re(this,rt,bo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return C(this,jn).size!==0}get isEnterHandled(){return C(this,jn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){C(this,Ba).undo(),re(this,rt,bo).call(this,{hasSomethingToUndo:C(this,Ba).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:re(this,rt,lw).call(this)})}redo(){C(this,Ba).redo(),re(this,rt,bo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:C(this,Ba).hasSomethingToRedo(),isEmpty:re(this,rt,lw).call(this)})}addCommands(e){C(this,Ba).add(e),re(this,rt,bo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:re(this,rt,lw).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...C(this,jn)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)re(this,rt,hF).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=C(this,Cs))==null||e.commitOrRemove()}hasSomethingToControl(){return C(this,Cs)||this.hasSelection}selectAll(){for(const e of C(this,jn))e.commit();re(this,rt,pF).call(this,C(this,ui).values())}unselectAll(){if(!(C(this,Cs)&&(C(this,Cs).commitOrRemove(),C(this,Ni)!==Tn.NONE))&&this.hasSelection){for(const e of C(this,jn))e.unselect();C(this,jn).clear(),re(this,rt,bo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;C(this,rf)[0]+=e,C(this,rf)[1]+=n;const[i,o]=C(this,rf),s=[...C(this,jn)],a=1e3;C(this,ql)&&clearTimeout(C(this,ql)),ne(this,ql,setTimeout(()=>{ne(this,ql,null),C(this,rf)[0]=C(this,rf)[1]=0,this.addCommands({cmd:()=>{for(const l of s)C(this,ui).has(l.id)&&l.translateInPage(i,o)},undo:()=>{for(const l of s)C(this,ui).has(l.id)&&l.translateInPage(-i,-o)},mustExec:!1})},a));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ne(this,zl,new Map);for(const e of C(this,jn))C(this,zl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!C(this,zl))return!1;this.disableUserSelect(!1);const e=C(this,zl);ne(this,zl,null);let n=!1;for(const[{x:i,y:o,pageIndex:s},a]of e)a.newX=i,a.newY=o,a.newPageIndex=s,n||(n=i!==a.savedX||o!==a.savedY||s!==a.savedPageIndex);if(!n)return!1;const r=(i,o,s,a)=>{if(C(this,ui).has(i.id)){const l=C(this,Mi).get(a);l?i._setParentAndPosition(l,o,s):(i.pageIndex=a,i.x=o,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:s,newPageIndex:a}]of e)r(i,o,s,a)},undo:()=>{for(const[i,{savedX:o,savedY:s,savedPageIndex:a}]of e)r(i,o,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(C(this,zl))for(const r of C(this,zl).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||C(this,jn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return C(this,Cs)===e}getActive(){return C(this,Cs)}getMode(){return C(this,Ni)}get imageManager(){return In(this,"imageManager",new aF)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:o,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,d,h)=>({x:(c-i)/s,y:1-(u+d-r)/o,width:h/s,height:d/o});break;case"180":a=(u,c,d,h)=>({x:1-(u+d-r)/o,y:1-(c+h-i)/s,width:d/o,height:h/s});break;case"270":a=(u,c,d,h)=>({x:1-(c+h-i)/s,y:(u-r)/o,width:h/s,height:d/o});break;default:a=(u,c,d,h)=>({x:(u-r)/o,y:(c-i)/s,width:d/o,height:h/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:h,y:p,width:m,height:y}of d.getClientRects())m===0||y===0||l.push(a(h,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(C(this,Iy)||ne(this,Iy,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=C(this,Iy))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=C(this,Iy))==null?void 0:i.get(e.data.id);if(!n)return;const r=C(this,dc).getRawValue(n);r&&(C(this,Ni)===Tn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Ry=new WeakMap,Cs=new WeakMap,ui=new WeakMap,Mi=new WeakMap,Py=new WeakMap,dc=new WeakMap,Iy=new WeakMap,Ba=new WeakMap,ky=new WeakMap,Wh=new WeakMap,zl=new WeakMap,Va=new WeakMap,Gh=new WeakMap,Dx=new WeakMap,Lx=new WeakMap,Ul=new WeakMap,My=new WeakMap,tf=new WeakMap,Hl=new WeakMap,RA=new WeakMap,nf=new WeakMap,Ox=new WeakMap,Kh=new WeakMap,Fx=new WeakMap,Ny=new WeakMap,Ni=new WeakMap,jn=new WeakMap,fc=new WeakMap,Yh=new WeakMap,$x=new WeakMap,Bx=new WeakMap,Vx=new WeakMap,zx=new WeakMap,Ux=new WeakMap,Hx=new WeakMap,qx=new WeakMap,jx=new WeakMap,Wx=new WeakMap,Gx=new WeakMap,Kx=new WeakMap,Yx=new WeakMap,Xx=new WeakMap,rf=new WeakMap,ql=new WeakMap,hc=new WeakMap,Jx=new WeakMap,rt=new WeakSet,NC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},cie=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=re(this,rt,NC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(C(this,Hl)||ne(this,Hl,new Ije(this)),C(this,Hl).show(r,i,this.direction==="ltr"))},die=function(){var o,s,a;const e=document.getSelection();if(!e||e.isCollapsed){C(this,fc)&&((o=C(this,Hl))==null||o.hide(),ne(this,fc,null),re(this,rt,bo).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===C(this,fc))return;if(!re(this,rt,NC).call(this,e).closest(".textLayer")){C(this,fc)&&((s=C(this,Hl))==null||s.hide(),ne(this,fc,null),re(this,rt,bo).call(this,{hasSelectedText:!1}));return}if((a=C(this,Hl))==null||a.hide(),ne(this,fc,n),re(this,rt,bo).call(this,{hasSelectedText:!0}),!(C(this,Ni)!==Tn.HIGHLIGHT&&C(this,Ni)!==Tn.NONE)&&(C(this,Ni)===Tn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ne(this,tf,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),c.type==="pointerup"&&re(this,rt,DC).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},DC=function(e=""){C(this,Ni)===Tn.HIGHLIGHT?this.highlightSelection(e):C(this,Dx)&&re(this,rt,cie).call(this)},fie=function(){document.addEventListener("selectionchange",re(this,rt,die).bind(this),{signal:this._signal})},hie=function(){const e=this._signal;window.addEventListener("focus",C(this,Vx),{signal:e}),window.addEventListener("blur",C(this,Bx),{signal:e})},pie=function(){window.removeEventListener("focus",C(this,Vx)),window.removeEventListener("blur",C(this,Bx))},cF=function(){const e=this._signal;window.addEventListener("keydown",C(this,qx),{signal:e}),window.addEventListener("keyup",C(this,jx),{signal:e})},gie=function(){window.removeEventListener("keydown",C(this,qx)),window.removeEventListener("keyup",C(this,jx))},dF=function(){const e=this._signal;document.addEventListener("copy",C(this,zx),{signal:e}),document.addEventListener("cut",C(this,Ux),{signal:e}),document.addEventListener("paste",C(this,Hx),{signal:e})},fF=function(){document.removeEventListener("copy",C(this,zx)),document.removeEventListener("cut",C(this,Ux)),document.removeEventListener("paste",C(this,Hx))},mie=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},bo=function(e){Object.entries(e).some(([r,i])=>C(this,Xx)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(C(this,Xx),e)}),C(this,Ni)===Tn.HIGHLIGHT&&e.hasSelectedEditor===!1&&re(this,rt,jd).call(this,[[Xt.HIGHLIGHT_FREE,!0]]))},jd=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},yie=function(){if(!C(this,nf)){ne(this,nf,!0);for(const e of C(this,Mi).values())e.enable();for(const e of C(this,ui).values())e.enable()}},vie=function(){if(this.unselectAll(),C(this,nf)){ne(this,nf,!1);for(const e of C(this,Mi).values())e.disable();for(const e of C(this,ui).values())e.disable()}},hF=function(e){const n=C(this,Mi).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},bie=function(){let e=null;for(e of C(this,jn));return e},lw=function(){if(C(this,ui).size===0)return!0;if(C(this,ui).size===1)for(const e of C(this,ui).values())return e.isEmpty();return!1},pF=function(e){for(const n of C(this,jn))n.unselect();C(this,jn).clear();for(const n of e)n.isEmpty()||(C(this,jn).add(n),n.select());re(this,rt,bo).call(this,{hasSelectedEditor:this.hasSelection})},ht(py,"TRANSLATE_SMALL",1),ht(py,"TRANSLATE_BIG",10);let tg=py;var pc,gc,za,mc,Ts,Dy,Ua,Qx,gF;const sc=class sc{constructor(e){ie(this,Qx);ie(this,pc,"");ie(this,gc,!1);ie(this,za,null);ie(this,mc,null);ie(this,Ts,null);ie(this,Dy,!1);ie(this,Ua,null);ne(this,Ua,e)}static initialize(e){sc._l10nPromise||(sc._l10nPromise=e)}async render(){const e=ne(this,za,document.createElement("button"));e.className="altText";const n=await sc._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const r=C(this,Ua)._uiManager._signal;e.addEventListener("contextmenu",is,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),C(this,Ua)._uiManager.editAltText(C(this,Ua))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(ne(this,Dy,!0),i(o))},{signal:r}),await re(this,Qx,gF).call(this),e}finish(){C(this,za)&&(C(this,za).focus({focusVisible:C(this,Dy)}),ne(this,Dy,!1))}isEmpty(){return!C(this,pc)&&!C(this,gc)}get data(){return{altText:C(this,pc),decorative:C(this,gc)}}set data({altText:e,decorative:n}){C(this,pc)===e&&C(this,gc)===n||(ne(this,pc,e),ne(this,gc,n),re(this,Qx,gF).call(this))}toggle(e=!1){C(this,za)&&(!e&&C(this,Ts)&&(clearTimeout(C(this,Ts)),ne(this,Ts,null)),C(this,za).disabled=!e)}destroy(){var e;(e=C(this,za))==null||e.remove(),ne(this,za,null),ne(this,mc,null)}};pc=new WeakMap,gc=new WeakMap,za=new WeakMap,mc=new WeakMap,Ts=new WeakMap,Dy=new WeakMap,Ua=new WeakMap,Qx=new WeakSet,gF=async function(){var i;const e=C(this,za);if(!e)return;if(!C(this,pc)&&!C(this,gc)){e.classList.remove("done"),(i=C(this,mc))==null||i.remove();return}e.classList.add("done"),sc._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let n=C(this,mc);if(!n){ne(this,mc,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const o=n.id=`alt-text-tooltip-${C(this,Ua).id}`;e.setAttribute("aria-describedby",o);const s=100,a=C(this,Ua)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(C(this,Ts)),ne(this,Ts,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ne(this,Ts,setTimeout(()=>{ne(this,Ts,null),C(this,mc).classList.add("show"),C(this,Ua)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;C(this,Ts)&&(clearTimeout(C(this,Ts)),ne(this,Ts,null)),(l=C(this,mc))==null||l.classList.remove("show")},{signal:a})}n.innerText=C(this,gc)?await sc._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):C(this,pc),n.parentNode||e.append(n);const r=C(this,Ua).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},ht(sc,"_l10nPromise",null);let sA=sc;var Xh,Ha,eo,Ly,Jh,Di,Qh,Oy,Fy,to,Zx,Zh,of,e_,ep,yc,jl,$y,By,ta,t_,PA,pn,mF,n_,yF,vF,wie,xie,bF,wF,xF,_ie,Sie,Eie,Cie,_F,uw;const rr=class rr{constructor(e){ie(this,pn);ie(this,Xh,null);ie(this,Ha,null);ie(this,eo,null);ie(this,Ly,!1);ie(this,Jh,!1);ie(this,Di,null);ie(this,Qh,null);ie(this,Oy,this.focusin.bind(this));ie(this,Fy,this.focusout.bind(this));ie(this,to,null);ie(this,Zx,"");ie(this,Zh,!1);ie(this,of,null);ie(this,e_,!1);ie(this,ep,!1);ie(this,yc,!1);ie(this,jl,null);ie(this,$y,0);ie(this,By,0);ie(this,ta,null);ht(this,"_initialOptions",Object.create(null));ht(this,"_isVisible",!0);ht(this,"_uiManager",null);ht(this,"_focusEventsAllowed",!0);ht(this,"_l10nPromise",null);ie(this,t_,!1);ie(this,PA,rr._zIndex++);this.constructor===rr&&Jn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,s];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=rr.prototype._resizeWithKeyboard,n=tg.TRANSLATE_SMALL,r=tg.TRANSLATE_BIG;return In(this,"_resizerKeyboardManager",new FS([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],rr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return In(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Dje({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,r){if(rr._l10nPromise||(rr._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,s=>`-${s.toLowerCase()}`))]))),r!=null&&r.strings)for(const o of r.strings)rr._l10nPromise.set(o,e.get(o));if(rr._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);rr._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Jn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return C(this,t_)}set _isDraggable(e){var n;ne(this,t_,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=C(this,PA)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):re(this,pn,uw).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(C(this,Zh)?ne(this,Zh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[o,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){re(this,pn,mF).call(this,this.parentDimensions,e,n)}translateInPage(e,n){C(this,of)||ne(this,of,[this.x,this.y]),re(this,pn,mF).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){C(this,of)||ne(this,of,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[a,l]=this.getBaseTranslation();o+=a,s+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!C(this,of)&&(C(this,of)[0]!==this.x||C(this,of)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=rr,i=r/e,o=r/n;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:o,width:s,height:a}=this;if(s*=n,a*=r,i*=n,o*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),o=Math.max(0,Math.min(r-a,o));break;case 90:i=Math.max(0,Math.min(n-a,i)),o=Math.min(r,Math.max(s,o));break;case 180:i=Math.min(n,Math.max(s,i)),o=Math.min(r,Math.max(a,o));break;case 270:i=Math.min(n,Math.max(a,i)),o=Math.max(0,Math.min(r-s,o));break}this.x=i/=n,this.y=o/=r;const[l,u]=this.getBaseTranslation();i+=l,o+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return re(r=rr,n_,yF).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return re(r=rr,n_,yF).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this,i=n*e,o=r*e;return Qo.isCSSRoundSupported?[Math.round(i),Math.round(o)]:[i,o]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,C(this,Jh)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),o=!C(this,Jh)&&n.endsWith("%");if(i&&o)return;const[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!C(this,Jh)&&!o&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=C(this,eo))==null||e.finish()}async addEditToolbar(){return C(this,to)||C(this,ep)?C(this,to):(ne(this,to,new oF(this)),this.div.append(C(this,to).render()),C(this,eo)&&C(this,to).addAltTextButton(await C(this,eo).render()),C(this,to))}removeEditToolbar(){var e;C(this,to)&&(C(this,to).remove(),ne(this,to,null),(e=C(this,eo))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){C(this,eo)||(sA.initialize(rr._l10nPromise),ne(this,eo,new sA(this)),C(this,Xh)&&(C(this,eo).data=C(this,Xh),ne(this,Xh,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=C(this,eo))==null?void 0:e.data}set altTextData(e){C(this,eo)&&(C(this,eo).data=e)}hasAltText(){var e;return!((e=C(this,eo))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=C(this,Ly)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",C(this,Oy),{signal:e}),this.div.addEventListener("focusout",C(this,Fy),{signal:e});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),oA(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=Qo.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(ne(this,Zh,!0),this._isDraggable){re(this,pn,_ie).call(this,e);return}re(this,pn,xF).call(this,e)}moveInDOM(){C(this,jl)&&clearTimeout(C(this,jl)),ne(this,jl,setTimeout(()=>{var e;ne(this,jl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*o,h=this.y*s,p=this.width*o,m=this.height*s;switch(r){case 0:return[d+u+a,s-h-c-m+l,d+u+p+a,s-h-c+l];case 90:return[d+c+a,s-h+u+l,d+c+m+a,s-h+u+p+l];case 180:return[d-u-p+a,s-h+c+l,d-u+a,s-h+c+m+l];case 270:return[d-c-m+a,s-h-u-p+l,d-c+a,s-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,o,s]=e,a=o-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,a,l];case 90:return[r,n-i,l,a];case 180:return[o,n-i,a,l];case 270:return[o,n-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ne(this,ep,!0)}disableEditMode(){ne(this,ep,!1)}isInEditMode(){return C(this,ep)}shouldGetKeyboardEvents(){return C(this,yc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,r;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",C(this,Oy),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",C(this,Fy),{signal:e})}rotate(e){}serialize(e=!1,n=null){Jn("An editor must be serializable")}static deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,ne(i,Xh,e.accessibilityData);const[o,s]=i.pageDimensions,[a,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=l/s,i.width=u/o,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",C(this,Oy)),this.div.removeEventListener("focusout",C(this,Fy)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),C(this,jl)&&(clearTimeout(C(this,jl)),ne(this,jl,null)),re(this,pn,uw).call(this),this.removeEditToolbar(),C(this,ta)){for(const e of C(this,ta).values())clearTimeout(e);ne(this,ta,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(re(this,pn,wie).call(this),C(this,Di).classList.remove("hidden"),oA(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ne(this,Qh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=C(this,Di).children;if(!C(this,Ha)){ne(this,Ha,Array.from(n));const s=re(this,pn,Sie).bind(this),a=re(this,pn,Eie).bind(this),l=this._uiManager._signal;for(const u of C(this,Ha)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",re(this,pn,Cie).bind(this,c),{signal:l}),rr._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(d=>u.setAttribute("aria-label",d))}}const r=C(this,Ha)[0];let i=0;for(const s of n){if(s===r)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(C(this,Ha).length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)C(this,Di).append(C(this,Di).firstChild);else if(o>i)for(let a=0;a<o-i;a++)C(this,Di).firstChild.before(C(this,Di).lastChild);let s=0;for(const a of n){const u=C(this,Ha)[s++].getAttribute("data-resizer-name");rr._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(c=>a.setAttribute("aria-label",c))}}re(this,pn,_F).call(this,0),ne(this,yc,!0),C(this,Di).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){C(this,yc)&&re(this,pn,wF).call(this,C(this,Zx),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){re(this,pn,uw).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!C(this,to)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=C(this,to))==null||i.show())});return}(n=C(this,to))==null||n.show()}unselect(){var e,n,r,i;(e=C(this,Di))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=C(this,to))==null||i.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return C(this,e_)}set isEditing(e){ne(this,e_,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){ne(this,Jh,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){C(this,ta)||ne(this,ta,new Map);const{action:r}=e;let i=C(this,ta).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),C(this,ta).delete(r),C(this,ta).size===0&&ne(this,ta,null)},rr._telemetryTimeout),C(this,ta).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ne(this,Ly,!1)}disable(){this.div&&(this.div.tabIndex=-1),ne(this,Ly,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Xh=new WeakMap,Ha=new WeakMap,eo=new WeakMap,Ly=new WeakMap,Jh=new WeakMap,Di=new WeakMap,Qh=new WeakMap,Oy=new WeakMap,Fy=new WeakMap,to=new WeakMap,Zx=new WeakMap,Zh=new WeakMap,of=new WeakMap,e_=new WeakMap,ep=new WeakMap,yc=new WeakMap,jl=new WeakMap,$y=new WeakMap,By=new WeakMap,ta=new WeakMap,t_=new WeakMap,PA=new WeakMap,pn=new WeakSet,mF=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},n_=new WeakSet,yF=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},vF=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},wie=function(){if(C(this,Di))return;ne(this,Di,document.createElement("div")),C(this,Di).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");C(this,Di).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",re(this,pn,xie).bind(this,r),{signal:n}),i.addEventListener("contextmenu",is,{signal:n}),i.tabIndex=-1}this.div.prepend(C(this,Di))},xie=function(e,n){var y;n.preventDefault();const{isMac:r}=Qo.platform;if(n.button!==0||n.ctrlKey&&r)return;(y=C(this,eo))==null||y.toggle(!1);const i=re(this,pn,wF).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const s=this._uiManager._signal,a={passive:!0,capture:!0,signal:s};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",is,{signal:s});const l=this.x,u=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const m=()=>{var w;this.parent.togglePointerEvents(!0),(w=C(this,eo))==null||w.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",is),this.parent.div.style.cursor=h,this.div.style.cursor=p,re(this,pn,bF).call(this,l,u,c,d)};window.addEventListener("pointerup",m,{signal:s}),window.addEventListener("blur",m,{signal:s})},bF=function(e,n,r,i){const o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===n&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=o,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*a,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},wF=function(e,n){const[r,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,u=rr.MIN_SIZE/r,c=rr.MIN_SIZE/i,d=J=>Math.round(J*1e4)/1e4,h=re(this,pn,vF).call(this,this.rotation),p=(J,ee)=>[h[0]*J+h[2]*ee,h[1]*J+h[3]*ee],m=re(this,pn,vF).call(this,360-this.rotation),y=(J,ee)=>[m[0]*J+m[2]*ee,m[1]*J+m[3]*ee];let w,_,E=!1,S=!1;switch(e){case"topLeft":E=!0,w=(J,ee)=>[0,0],_=(J,ee)=>[J,ee];break;case"topMiddle":w=(J,ee)=>[J/2,0],_=(J,ee)=>[J/2,ee];break;case"topRight":E=!0,w=(J,ee)=>[J,0],_=(J,ee)=>[0,ee];break;case"middleRight":S=!0,w=(J,ee)=>[J,ee/2],_=(J,ee)=>[0,ee/2];break;case"bottomRight":E=!0,w=(J,ee)=>[J,ee],_=(J,ee)=>[0,0];break;case"bottomMiddle":w=(J,ee)=>[J/2,ee],_=(J,ee)=>[J/2,0];break;case"bottomLeft":E=!0,w=(J,ee)=>[0,ee],_=(J,ee)=>[J,0];break;case"middleLeft":S=!0,w=(J,ee)=>[0,ee/2],_=(J,ee)=>[J,ee/2];break}const T=w(a,l),I=_(a,l);let N=p(...I);const P=d(o+N[0]),M=d(s+N[1]);let D=1,k=1,[L,V]=this.screenToPageTranslation(n.movementX,n.movementY);if([L,V]=y(L/r,V/i),E){const J=Math.hypot(a,l);D=k=Math.max(Math.min(Math.hypot(I[0]-T[0]-L,I[1]-T[1]-V)/J,1/a,1/l),u/a,c/l)}else S?D=Math.max(u,Math.min(1,Math.abs(I[0]-T[0]-L)))/a:k=Math.max(c,Math.min(1,Math.abs(I[1]-T[1]-V)))/l;const $=d(a*D),z=d(l*k);N=p(..._($,z));const G=P-N[0],K=M-N[1];this.width=$,this.height=z,this.x=G,this.y=K,this.setDims(r*$,i*z),this.fixAndSetPosition()},xF=function(e){const{isMac:n}=Qo.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},_ie=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const o=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:o},ne(this,$y,e.clientX),ne(this,By,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[c,d]=this.screenToPageTranslation(l-C(this,$y),u-C(this,By));ne(this,$y,l),ne(this,By,u),this._uiManager.dragSelectedEditors(c,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),ne(this,Zh,!1),this._uiManager.endDragSession()||re(this,pn,xF).call(this,e)};window.addEventListener("pointerup",s,{signal:o}),window.addEventListener("blur",s,{signal:o})},Sie=function(e){rr._resizerKeyboardManager.exec(this,e)},Eie=function(e){var n;C(this,yc)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==C(this,Di)&&re(this,pn,uw).call(this)},Cie=function(e){ne(this,Zx,C(this,yc)?e:"")},_F=function(e){if(C(this,Ha))for(const n of C(this,Ha))n.tabIndex=e},uw=function(){if(ne(this,yc,!1),re(this,pn,_F).call(this,-1),C(this,Qh)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=C(this,Qh);re(this,pn,bF).call(this,e,n,r,i),ne(this,Qh,null)}},ie(rr,n_),ht(rr,"_borderLineWidth",-1),ht(rr,"_colorManager",new uF),ht(rr,"_zIndex",1),ht(rr,"_telemetryTimeout",1e3);let Wn=rr;class Dje extends Wn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const IG=3285377520,Qs=4294901760,Ol=65535;class Tie{constructor(e){this.h1=e?e&4294967295:IG,this.h2=e?e&4294967295:IG}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,w=e.length;y<w;y++){const _=e.charCodeAt(y);_<=255?n[r++]=_:(n[r++]=_>>>8,n[r++]=_&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,o=r-i*4,s=new Uint32Array(n.buffer,0,i);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,h=461845907,p=d&Ol,m=h&Ol;for(let y=0;y<i;y++)y&1?(a=s[y],a=a*d&Qs|a*p&Ol,a=a<<15|a>>>17,a=a*h&Qs|a*m&Ol,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[y],l=l*d&Qs|l*p&Ol,l=l<<15|l>>>17,l=l*h&Qs|l*m&Ol,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,o){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*d&Qs|a*p&Ol,a=a<<15|a>>>17,a=a*h&Qs|a*m&Ol,i&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Qs|e*36045&Ol,n=n*4283543511&Qs|((n<<16|e>>>16)*2950163797&Qs)>>>16,e^=n>>>1,e=e*444984403&Qs|e*60499&Ol,n=n*3301882366&Qs|((n<<16|e>>>16)*3120437893&Qs)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const SF=Object.freeze({map:null,hash:"",transfer:void 0});var tp,Li,IA,Aie;class k3{constructor(){ie(this,IA);ie(this,tp,!1);ie(this,Li,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=C(this,Li).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return C(this,Li).get(e)}remove(e){if(C(this,Li).delete(e),C(this,Li).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of C(this,Li).values())if(n instanceof Wn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=C(this,Li).get(e);let i=!1;if(r!==void 0)for(const[o,s]of Object.entries(n))r[o]!==s&&(i=!0,r[o]=s);else i=!0,C(this,Li).set(e,n);i&&re(this,IA,Aie).call(this),n instanceof Wn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return C(this,Li).has(e)}getAll(){return C(this,Li).size>0?E3(C(this,Li)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return C(this,Li).size}resetModified(){C(this,tp)&&(ne(this,tp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Rie(this)}get serializable(){if(C(this,Li).size===0)return SF;const e=new Map,n=new Tie,r=[],i=Object.create(null);let o=!1;for(const[s,a]of C(this,Li)){const l=a instanceof Wn?a.serialize(!1,i):a;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:SF}get editorStats(){let e=null;const n=new Map;for(const r of C(this,Li).values()){if(!(r instanceof Wn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:o}=i;n.has(o)||n.set(o,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[o]||(e[o]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=s.get(a);u||(u=new Map,s.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}}tp=new WeakMap,Li=new WeakMap,IA=new WeakSet,Aie=function(){C(this,tp)||(ne(this,tp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var r_;class Rie extends k3{constructor(n){super();ie(this,r_);const{map:r,hash:i,transfer:o}=n.serializable,s=structuredClone(r,o?{transfer:o}:null);ne(this,r_,{map:s,hash:i,transfer:o})}get print(){Jn("Should not call PrintAnnotationStorage.print")}get serializable(){return C(this,r_)}}r_=new WeakMap;var Vy;class Lje{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){ie(this,Vy,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),C(this,Vy).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||C(this,Vy).has(e.loadedName))){if(hi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,s=new FontFace(r,i,o);this.addNativeFontFace(s);try{await s.load(),C(this,Vy).add(r),n==null||n(e)}catch{dn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Jn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw dn(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return In(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(lo||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),In(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(hi(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const o=r.shift();setTimeout(o.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return In(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(T,I){return T.charCodeAt(I)<<24|T.charCodeAt(I+1)<<16|T.charCodeAt(I+2)<<8|T.charCodeAt(I+3)&255}function i(T,I,N,P){const M=T.substring(0,I),D=T.substring(I+N);return M+P+D}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(T,I){if(++u>30){dn("Load test font never loaded."),I();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(c.bind(null,T,I))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const m=16,y=1482184792;let w=r(h,m);for(o=0,s=d.length-3;o<s;o+=4)w=w-y+r(d,o)|0;o<d.length&&(w=w-y+r(d+"XXX",o)|0),h=i(h,m,4,vje(w));const _=`url(data:font/opentype;base64,${btoa(h)});`,E=`@font-face {font-family:"${d}";src:${_}}`;this.insertRule(E);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const T of[e.loadedName,d]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=T,S.append(I)}this._document.body.append(S),c(d,()=>{S.remove(),n.complete()})}}Vy=new WeakMap;class Oje{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Yre(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${n}}`}return(i=this._inspectFont)==null||i.call(this,this,n),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(o){dn(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(o,s){};const i=[];for(let o=0,s=r.length;o<s;)switch(r[o++]){case tc.BEZIER_CURVE_TO:{const[a,l,u,c,d,h]=r.slice(o,o+6);i.push(p=>p.bezierCurveTo(a,l,u,c,d,h)),o+=6}break;case tc.MOVE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.moveTo(a,l)),o+=2}break;case tc.LINE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.lineTo(a,l)),o+=2}break;case tc.QUADRATIC_CURVE_TO:{const[a,l,u,c]=r.slice(o,o+4);i.push(d=>d.quadraticCurveTo(a,l,u,c)),o+=4}break;case tc.RESTORE:i.push(a=>a.restore());break;case tc.SAVE:i.push(a=>a.save());break;case tc.SCALE:hi(i.length===2,"Scale command is only valid at the third position.");break;case tc.TRANSFORM:{const[a,l,u,c,d,h]=r.slice(o,o+6);i.push(p=>p.transform(a,l,u,c,d,h)),o+=6}break;case tc.TRANSLATE:{const[a,l]=r.slice(o,o+2);i.push(u=>u.translate(a,l)),o+=2}break}return this.compiledGlyphs[n]=function(s,a){i[0](s),i[1](s),s.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}if(lo){var EF=Promise.withResolvers(),$w=null;(async()=>{const e=await rw(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await rw(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await rw(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await rw(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:o,path2d:s}))})().then(e=>{$w=e,EF.resolve()},e=>{dn(`loadPackages: ${e}`),$w=new Map,EF.resolve()})}class Ru{static get promise(){return EF.promise}static get(e){return $w==null?void 0:$w.get(e)}}const Pie=function(t){return Ru.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class Fje extends pP{}class $je extends iA{_createCanvas(e,n){return Ru.get("canvas").createCanvas(e,n)}}class Bje extends gP{_fetchData(e,n){return Pie(e).then(r=>({cMapData:r,compressionType:n}))}}class Vje extends mP{_fetchData(e){return Pie(e)}}const So={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function CF(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class $S{constructor(){this.constructor===$S&&Jn("Cannot initialize BaseShadingPattern.")}getPattern(){Jn("Abstract method `getPattern` called.")}}class zje extends $S{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let o;if(i===So.STROKE||i===So.FILL){const s=n.current.getClippedPathBoundingBox(i,Ar(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",a,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=At.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),CF(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),o=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);o.setTransform(d)}else CF(e,this._bbox),o=this._createGradient(e);return o}}function QN(t,e,n,r,i,o,s,a){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=a,a=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY,_=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY;if(m>=E)return;const S=u[o],T=u[o+1],I=u[o+2],N=u[s],P=u[s+1],M=u[s+2],D=u[a],k=u[a+1],L=u[a+2],V=Math.round(m),$=Math.round(E);let z,G,K,J,ee,X,j,Q;for(let ue=V;ue<=$;ue++){if(ue<w){const de=ue<m?0:(m-ue)/(m-w);z=p-(p-y)*de,G=S-(S-N)*de,K=T-(T-P)*de,J=I-(I-M)*de}else{let de;ue>E?de=1:w===E?de=0:de=(w-ue)/(w-E),z=y-(y-_)*de,G=N-(N-D)*de,K=P-(P-k)*de,J=M-(M-L)*de}let q;ue<m?q=0:ue>E?q=1:q=(m-ue)/(m-E),ee=p-(p-_)*q,X=S-(S-D)*q,j=T-(T-k)*q,Q=I-(I-L)*q;const Y=Math.round(Math.min(z,ee)),te=Math.round(Math.max(z,ee));let le=d*ue+Y*4;for(let de=Y;de<=te;de++)q=(z-de)/(z-ee),q<0?q=0:q>1&&(q=1),c[le++]=G-(G-X)*q|0,c[le++]=K-(K-j)*q|0,c[le++]=J-(J-Q)*q|0,c[le++]=255}}function Uje(t,e,n){const r=e.coords,i=e.colors;let o,s;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(o=0;o<l;o++){let c=o*a;for(let d=0;d<u;d++,c++)QN(t,n,r[c],r[c+1],r[c+a],i[c],i[c+1],i[c+a]),QN(t,n,r[c+a+1],r[c+1],r[c+a],i[c+a+1],i[c+1],i[c+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)QN(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class Hje extends $S{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=u/d,m=c/h,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},w=d+2*2,_=h+2*2,E=r.getCanvas("mesh",w,_,!1),S=E.context,T=S.createImageData(d,h);if(n){const N=T.data;for(let P=0,M=N.length;P<M;P+=4)N[P]=n[0],N[P+1]=n[1],N[P+2]=n[2],N[P+3]=255}for(const N of this._figures)Uje(T,N,y);return S.putImageData(T,2,2),{canvas:E.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,n,r,i){CF(e,this._bbox);let o;if(i===So.SHADING)o=At.singularValueDecompose2dScale(Ar(e));else if(o=At.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=At.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}const s=this._createMeshCanvas(o,i===So.SHADING?null:this._background,n.cachedCanvases);return i!==So.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class qje extends $S{getPattern(){return"hotpink"}}function jje(t){switch(t[0]){case"RadialAxial":return new zje(t);case"Mesh":return new Hje(t);case"Dummy":return new qje}throw new Error(`Unknown IR type: ${t[0]}`)}const kG={COLORED:1,UNCOLORED:2},kA=class kA{constructor(e,n,r,i,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}createPatternCanvas(e){const n=this.operatorList,r=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;dP("TilingType: "+a);const c=r[0],d=r[1],h=r[2],p=r[3],m=At.singularValueDecompose2dScale(this.matrix),y=At.singularValueDecompose2dScale(this.baseTransform),w=[m[0]*y[0],m[1]*y[1]],_=this.getSizeAndScale(i,this.ctx.canvas.width,w[0]),E=this.getSizeAndScale(o,this.ctx.canvas.height,w[1]),S=e.cachedCanvases.getCanvas("pattern",_.size,E.size,!0),T=S.context,I=u.createCanvasGraphics(T);I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,s,l);let N=c,P=d,M=h,D=p;return c<0&&(N=0,M+=Math.abs(c)),d<0&&(P=0,D+=Math.abs(d)),T.translate(-(_.scale*N),-(E.scale*P)),I.transform(_.scale,0,0,E.scale,0,0),T.save(),this.clipBbox(I,N,P,M,D),I.baseTransform=Ar(I.ctx),I.executeOperatorList(n),I.endDrawing(),{canvas:S.canvas,scaleX:_.scale,scaleY:E.scale,offsetX:N,offsetY:P}}getSizeAndScale(e,n,r){e=Math.abs(e);const i=Math.max(kA.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,i,o){const s=i-n,a=o-r;e.ctx.rect(n,r,s,a),e.current.updateRectMinMax(Ar(e.ctx),[n,r,i,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,o=e.current;switch(n){case kG.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case kG.UNCOLORED:const a=At.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new yje(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let o=r;i!==So.SHADING&&(o=At.transform(o,n.baseTransform),this.matrix&&(o=At.transform(o,this.matrix)));const s=this.createPatternCanvas(n);let a=new DOMMatrix(o);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(a),l}};ht(kA,"MAX_PATTERN_SIZE",3e3);let TF=kA;function Wje({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){const a=Qo.isLittleEndian?4278190080:255,[l,u]=s?[o,a]:[a,o],c=r>>3,d=r&7,h=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const w=e+c;e<w;e++){const _=e<h?t[e]:255;n[p++]=_&128?u:l,n[p++]=_&64?u:l,n[p++]=_&32?u:l,n[p++]=_&16?u:l,n[p++]=_&8?u:l,n[p++]=_&4?u:l,n[p++]=_&2?u:l,n[p++]=_&1?u:l}if(d===0)continue;const y=e<h?t[e++]:255;for(let w=0;w<d;w++)n[p++]=y&1<<7-w?u:l}return{srcPos:e,destPos:p}}const MG=16,NG=100,Gje=15,DG=10,LG=1e3,Wo=16;function Kje(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,o,s,a,l){e.transform(r,i,o,s,a,l),this.__originalTransform(r,i,o,s,a,l)},t.setTransform=function(r,i,o,s,a,l){e.setTransform(r,i,o,s,a,l),this.__originalSetTransform(r,i,o,s,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,o,s,a){e.bezierCurveTo(n,r,i,o,s,a),this.__originalBezierCurveTo(n,r,i,o,s,a)},t.rect=function(n,r,i,o){e.rect(n,r,i,o),this.__originalRect(n,r,i,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Yje{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function q1(t,e,n,r,i,o,s,a,l,u){const[c,d,h,p,m,y]=Ar(t);if(d===0&&h===0){const E=s*c+m,S=Math.round(E),T=a*p+y,I=Math.round(T),N=(s+l)*c+m,P=Math.abs(Math.round(N)-S)||1,M=(a+u)*p+y,D=Math.abs(Math.round(M)-I)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(p),S,I),t.drawImage(e,n,r,i,o,0,0,P,D),t.setTransform(c,d,h,p,m,y),[P,D]}if(c===0&&p===0){const E=a*h+m,S=Math.round(E),T=s*d+y,I=Math.round(T),N=(a+u)*h+m,P=Math.abs(Math.round(N)-S)||1,M=(s+l)*d+y,D=Math.abs(Math.round(M)-I)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,S,I),t.drawImage(e,n,r,i,o,0,0,D,P),t.setTransform(c,d,h,p,m,y),[D,P]}t.drawImage(e,n,r,i,o,s,a,l,u);const w=Math.hypot(c,d),_=Math.hypot(h,p);return[w*l,_*u]}function Xje(t){const{width:e,height:n}=t;if(e>LG||n>LG)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let s=new Uint8Array(o*(n+1)),a,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),h=0;for(const _ of t.data){let E=128;for(;E>0;)d[h++]=_&E?0:255,E>>=1}let p=0;for(h=0,d[h]!==0&&(s[0]=1,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(s[l]=d[h]?2:1,++p),h++;for(d[h]!==0&&(s[l]=2,++p),a=1;a<n;a++){h=a*c,u=a*o,d[h-c]!==d[h]&&(s[u]=d[h]?1:8,++p);let _=(d[h]?4:0)+(d[h-c]?8:0);for(l=1;l<e;l++)_=(_>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),i[_]&&(s[u+l]=i[_],++p),h++;if(d[h-c]!==d[h]&&(s[u+l]=d[h]?2:4,++p),p>r)return null}for(h=c*(n-1),u=a*o,d[h]!==0&&(s[u]=8,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(s[u+l]=d[h]?4:8,++p),h++;if(d[h]!==0&&(s[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=n;a++){let _=a*o;const E=_+e;for(;_<E&&!s[_];)_++;if(_===E)continue;y.moveTo(_%o,a);const S=_;let T=s[_];do{const I=m[T];do _+=I;while(!s[_]);const N=s[_];N!==5&&N!==10?(T=N,s[_]=0):(T=N&51*T>>4,s[_]&=T>>2|T<<2),y.lineTo(_%o,_/o|0),s[_]||--p}while(S!==_);--a}return d=null,s=null,function(_){_.save(),_.scale(1/e,-1/n),_.translate(0,-n),_.fill(y),_.beginPath(),_.restore()}}class OG{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Gre,this.textMatrixScale=1,this.fontMatrix=QO,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ji.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=At.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=At.applyTransform(n,e),i=At.applyTransform(n.slice(2),e),o=At.applyTransform([n[0],n[3]],e),s=At.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,n){At.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,o,s,a,l,u,c){const d=At.bezierBoundingBox(n,r,i,o,s,a,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=So.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===So.STROKE){n||Jn("Stroke bounding box must include transform.");const i=At.singularValueDecompose2dScale(n),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}updateClipFromPath(){const e=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=So.FILL,n=null){return At.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function FG(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Wo,o=(n-i)/Wo,s=i===0?o:o+1,a=t.createImageData(r,Wo);let l=0,u;const c=e.data,d=a.data;let h,p,m,y;if(e.kind===PC.GRAYSCALE_1BPP){const w=c.byteLength,_=new Uint32Array(d.buffer,0,d.byteLength>>2),E=_.length,S=r+7>>3,T=4294967295,I=Qo.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(m=h<o?Wo:i,u=0,p=0;p<m;p++){const N=w-l;let P=0;const M=N>S?r:N*8-7,D=M&-8;let k=0,L=0;for(;P<D;P+=8)L=c[l++],_[u++]=L&128?T:I,_[u++]=L&64?T:I,_[u++]=L&32?T:I,_[u++]=L&16?T:I,_[u++]=L&8?T:I,_[u++]=L&4?T:I,_[u++]=L&2?T:I,_[u++]=L&1?T:I;for(;P<M;P++)k===0&&(L=c[l++],k=128),_[u++]=L&k?T:I,k>>=1}for(;u<E;)_[u++]=0;t.putImageData(a,0,h*Wo)}}else if(e.kind===PC.RGBA_32BPP){for(p=0,y=r*Wo*4,h=0;h<o;h++)d.set(c.subarray(l,l+y)),l+=y,t.putImageData(a,0,p),p+=Wo;h<s&&(y=r*i*4,d.set(c.subarray(l,l+y)),t.putImageData(a,0,p))}else if(e.kind===PC.RGB_24BPP)for(m=Wo,y=r*m,h=0;h<s;h++){for(h>=o&&(m=i,y=r*m),u=0,p=y;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(a,0,h*Wo)}else throw new Error(`bad image kind: ${e.kind}`)}function $G(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Wo,o=(n-i)/Wo,s=i===0?o:o+1,a=t.createImageData(r,Wo);let l=0;const u=e.data,c=a.data;for(let d=0;d<s;d++){const h=d<o?Wo:i;({srcPos:l}=Wje({src:u,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),t.putImageData(a,0,d*Wo)}}function Ab(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function j1(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!lo){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function BG(t,e){if(e)return!0;const n=At.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Hf.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const Jje=["butt","round","square"],Qje=["miter","round","bevel"],Zje={},VG={};var Wf,AF,RF;const lB=class lB{constructor(e,n,r,i,o,{optionalContentConfig:s,markedContentStack:a=null},l,u){ie(this,Wf);this.ctx=e,this.current=new OG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new Yje(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ar(this.compositeCtx))}this.ctx.save(),j1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ar(this.ctx)}executeOperatorList(e,n,r,i){const o=e.argsArray,s=e.fnArray;let a=n||0;const l=o.length;if(l===a)return a;const u=l-a>DG&&typeof r=="function",c=u?Date.now()+Gje:0;let d=0;const h=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=s[a],m!==$a.dependency)this[m].apply(this,o[a]);else for(const y of o[a]){const w=y.startsWith("g_")?h:p;if(!w.has(y))return w.get(y,r),a}if(a++,a===l)return a;if(u&&++d>DG){if(Date.now()>c)return r(),a;d=0}}}endDrawing(){re(this,Wf,AF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),re(this,Wf,RF).call(this)}_scaleImage(e,n){const r=e.width,i=e.height;let o=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,u="prescale1",c,d;for(;o>2&&a>1||s>2&&l>1;){let h=a,p=l;o>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/h),s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/p),c=this.cachedCanvases.getCanvas(u,h,p),d=c.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,a,l,0,0,h,p),e=c.canvas,a=h,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,a=Ar(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;u=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const D=l.get(u);if(D&&!s){const k=Math.round(Math.min(a[0],a[2])+a[4]),L=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:k,offsetY:L}}c=D}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),$G(d.context,e));let h=At.transform(a,[1/r,0,0,-1/i,0,0]);h=At.transform(h,[1,0,0,1,0,-i]);const[p,m,y,w]=At.getAxialAlignedBoundingBox([0,0,r,i],h),_=Math.round(y-p)||1,E=Math.round(w-m)||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,E),T=S.context,I=p,N=m;T.translate(-I,-N),T.transform(...h),c||(c=this._scaleImage(d.canvas,nc(T)),c=c.img,l&&s&&l.set(u,c)),T.imageSmoothingEnabled=BG(Ar(T),e.interpolate),q1(T,c,0,0,c.width,c.height,0,0,r,i),T.globalCompositeOperation="source-in";const P=At.transform(nc(T),[1,0,0,1,-I,-N]);return T.fillStyle=s?o.getPattern(n,this,P,So.FILL):o,T.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(I),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Jje[e]}setLineJoin(e){this.ctx.lineJoin=Qje[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...Ar(this.suspendedCtx)),Ab(this.suspendedCtx,o),Kje(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ab(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const o=i[0],s=i[1],a=i[2]-o,l=i[3]-s;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,o,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,o,s,a,l,u,c,d){let h=e.canvas,p=l-c,m=u-d;if(s){if(p<0||m<0||p+r>h.width||m+i>h.height){const w=this.cachedCanvases.getCanvas("maskExtension",r,i),_=w.context;_.drawImage(h,-p,-m),s.some(E=>E!==0)&&(_.globalCompositeOperation="destination-atop",_.fillStyle=At.makeHexColor(...s),_.fillRect(0,0,r,i),_.globalCompositeOperation="source-over"),h=w.canvas,p=m=0}else if(s.some(w=>w!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(p,m,r,i),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=At.makeHexColor(...s),e.fillRect(p,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(h,p,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(Ab(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ab(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,o,s){this.ctx.transform(e,n,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,o=this.current;let s=o.x,a=o.y,l,u;const c=Ar(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=d?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case $a.rectangle:s=n[m++],a=n[m++];const w=n[m++],_=n[m++],E=s+w,S=a+_;i.moveTo(s,a),w===0||_===0?i.lineTo(E,S):(i.lineTo(E,a),i.lineTo(E,S),i.lineTo(s,S)),d||o.updateRectMinMax(c,[s,a,E,S]),i.closePath();break;case $a.moveTo:s=n[m++],a=n[m++],i.moveTo(s,a),d||o.updatePathMinMax(c,s,a);break;case $a.lineTo:s=n[m++],a=n[m++],i.lineTo(s,a),d||o.updatePathMinMax(c,s,a);break;case $a.curveTo:l=s,u=a,s=n[m+4],a=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],s,a,h),m+=6;break;case $a.curveTo2:l=s,u=a,i.bezierCurveTo(s,a,n[m],n[m+1],n[m+2],n[m+3]),o.updateCurvePathMinMax(c,l,u,s,a,n[m],n[m+1],n[m+2],n[m+3],h),s=n[m+2],a=n[m+3],m+=4;break;case $a.curveTo3:l=s,u=a,s=n[m+2],a=n[m+3],i.bezierCurveTo(n[m],n[m+1],s,a,s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],s,a,s,a,h),m+=4;break;case $a.closePath:i.closePath();break}d&&o.updateScalingPathMinMax(c,h),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,nc(n),So.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let o=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,nc(n),So.FILL),o=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Zje}eoClip(){this.pendingClip=VG}beginText(){this.current.textMatrix=Gre,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||QO,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&dn("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${o}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=n;n<MG?u=MG:n>NG&&(u=NG),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${a} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,o,s){this.current.textMatrix=[e,n,r,i,o,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&Ji.FILL_STROKE_MASK,d=!!(l&Ji.ADD_TO_PATH_FLAG),h=s.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||h)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(o.save(),o.translate(n,r),o.beginPath(),p(o,u),i&&o.setTransform(...i),(c===Ji.FILL||c===Ji.FILL_STROKE)&&o.fill(),(c===Ji.STROKE||c===Ji.FILL_STROKE)&&o.stroke(),o.restore()):((c===Ji.FILL||c===Ji.FILL_STROKE)&&o.fillText(e,n,r),(c===Ji.STROKE||c===Ji.FILL_STROKE)&&o.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ar(o),x:n,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return In(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const o=this.ctx,s=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,h=r.vertical,p=h?1:-1,m=r.defaultVMetrics,y=i*n.fontMatrix[0],w=n.textRenderingMode===Ji.FILL&&!r.disableFontFace&&!n.patternFill;o.save(),o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),u>0?o.scale(c,-1):o.scale(c,1);let _;if(n.patternFill){o.save();const N=n.fillColor.getPattern(o,this,nc(o),So.FILL);_=Ar(o),o.restore(),o.fillStyle=N}let E=n.lineWidth;const S=n.textMatrixScale;if(S===0||E===0){const N=n.textRenderingMode&Ji.FILL_STROKE_MASK;(N===Ji.STROKE||N===Ji.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(s!==1&&(o.scale(s,s),E/=s),o.lineWidth=E,r.isInvalidPDFjsFont){const N=[];let P=0;for(const M of e)N.push(M.unicode),P+=M.width;o.fillText(N.join(""),0,0),n.x+=P*y*c,o.restore(),this.compose();return}let T=0,I;for(I=0;I<d;++I){const N=e[I];if(typeof N=="number"){T+=p*N*i/1e3;continue}let P=!1;const M=(N.isSpace?l:0)+a,D=N.fontChar,k=N.accent;let L,V,$=N.width;if(h){const G=N.vmetric||m,K=-(N.vmetric?G[1]:$*.5)*y,J=G[2]*y;$=G?-G[0]:$,L=K/s,V=(T+J)/s}else L=T/s,V=0;if(r.remeasure&&$>0){const G=o.measureText(D).width*1e3/i*s;if($<G&&this.isFontSubpixelAAEnabled){const K=$/G;P=!0,o.save(),o.scale(K,1),L/=K}else $!==G&&(L+=($-G)/2e3*i/s)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(w&&!k)o.fillText(D,L,V);else if(this.paintChar(D,L,V,_),k){const G=L+i*k.offset.x/s,K=V-i*k.offset.y/s;this.paintChar(k.fontChar,G,K,_)}}const z=h?$*y-M*u:$*y+M*u;T+=z,P&&o.restore()}h?n.y-=T:n.x+=T*c,o.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,d=r.fontMatrix||QO,h=e.length,p=r.textRenderingMode===Ji.INVISIBLE;let m,y,w,_;if(!(p||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),m=0;m<h;++m){if(y=e[m],typeof y=="number"){_=a*y*o/1e3,this.ctx.translate(_,0),r.x+=_*c;continue}const E=(y.isSpace?u:0)+l,S=i.charProcOperatorList[y.operatorListId];if(!S){dn(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),n.scale(o,o),n.transform(...d),this.executeOperatorList(S),this.restore()),w=At.applyTransform([y.width,0],d)[0]*o+E,n.translate(w,0),r.x+=w*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,o,s){this.ctx.rect(r,i,o-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ar(this.ctx),o={createCanvasGraphics:s=>new lB(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new TF(e,r,this.ctx,o,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){const i=At.makeHexColor(e,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,n,r){const i=At.makeHexColor(e,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=jje(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,nc(n),So.SHADING);const i=nc(n);if(i){const{width:o,height:s}=n.canvas,[a,l,u,c]=At.getAxialAlignedBoundingBox([0,0,o,s],i);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Jn("Should not call beginInlineImage")}beginImageData(){Jn("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ar(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Ar(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||dP("TODO: Support non-isolated groups."),e.knockout&&dn("Knockout groups not supported.");const r=Ar(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=At.getAxialAlignedBoundingBox(e.bbox,Ar(n));const o=[0,0,n.canvas.width,n.canvas.height];i=At.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),h=d.context;h.translate(-s,-a),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,a),n.save()),Ab(n,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ar(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const o=At.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,o){if(re(this,Wf,AF).call(this),j1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=a;const[l,u]=At.singularValueDecompose2dScale(Ar(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),j1(this.ctx)}else j1(this.ctx),this.ctx.rect(n[0],n[1],s,a),this.ctx.clip(),this.endPath()}this.current=new OG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),re(this,Wf,RF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Xje(e)),i.compiled)){i.compiled(r);return}const o=this._createMaskCanvas(e),s=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ar(a);a.transform(n,r,i,o,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=s.length;c<d;c+=2){const h=At.transform(l,[n,r,i,o,s[c],s[c+1]]),[p,m]=At.applyTransform([0,0],h);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const o of e){const{data:s,width:a,height:l,transform:u}=o,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const h=this.getObject(s,o);$G(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,nc(n),So.FILL):r,d.fillRect(0,0,a,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),q1(n,c.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){dn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){dn("Dependent image isn't ready yet");return}const s=o.width,a=o.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!lo){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;FG(l,e),o=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(o,nc(i));i.imageSmoothingEnabled=BG(Ar(i),e.interpolate),q1(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;FG(l,e),i=this.applyTransferMapsToCanvas(l)}for(const o of n)r.save(),r.transform(...o.transform),r.scale(1,-1),q1(r,i,o.x,o.y,o.w,o.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===VG?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ar(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:o}=this.ctx.getTransform();let s,a;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(o);if(l===u)if(e===0)s=a=1/l;else{const c=l*e;s=a=c<1?1/c:1}else if(e===0)s=1/l,a=1/u;else{const c=l*e,d=u*e;s=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(n*o-r*i),u=Math.hypot(n,r),c=Math.hypot(i,o);if(e===0)s=c/l,a=u/l;else{const d=e*l;s=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,o]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&o===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,o),s.length>0){const a=Math.max(i,o);n.setLineDash(s.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Wf=new WeakSet,AF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},RF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let Ey=lB;for(const t in $a)Ey.prototype[t]!==void 0&&(Ey.prototype[$a[t]]=Ey.prototype[t]);var i_,o_;class Uc{static get workerPort(){return C(this,i_)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ne(this,i_,e)}static get workerSrc(){return C(this,o_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ne(this,o_,e)}}i_=new WeakMap,o_=new WeakMap,ie(Uc,i_,null),ie(Uc,o_,"");const W1={DATA:1,ERROR:2},Kr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ws(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Jn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Eg(t.message);case"MissingPDFException":return new Sg(t.message);case"PasswordException":return new eF(t.message,t.code);case"UnexpectedResponseException":return new fP(t.message,t.status);case"UnknownErrorException":return new tF(t.message,t.details);default:return new tF(t.message,t.toString())}}var xu,Iie,kie,LC;class cw{constructor(e,n,r){ie(this,xu);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const o=i.data;if(o.targetName!==this.sourceName)return;if(o.stream){re(this,xu,kie).call(this,o);return}if(o.callback){const a=o.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],o.callback===W1.DATA)l.resolve(o.data);else if(o.callback===W1.ERROR)l.reject(ws(o.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[o.action];if(!s)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const a=this.sourceName,l=o.sourceName;new Promise(function(u){u(s(o.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:W1.DATA,callbackId:o.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:W1.ERROR,callbackId:o.callbackId,reason:ws(u)})});return}if(o.streamId){re(this,xu,Iie).call(this,o);return}s(o.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,n,r,i){const o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[o]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[o].pullCall=c,l.postMessage({sourceName:s,targetName:a,stream:Kr.PULL,streamId:o,desiredSize:u.desiredSize}),c.promise},cancel:u=>{hi(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[o].cancelCall=c,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:Kr.CANCEL,streamId:o,reason:ws(u)}),c.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}xu=new WeakSet,Iie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:Kr.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:Kr.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){hi(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:Kr.ERROR,streamId:n,reason:ws(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Kr.START_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:r,targetName:i,stream:Kr.START_COMPLETE,streamId:n,reason:ws(u)})})},kie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case Kr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ws(e.reason));break;case Kr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ws(e.reason));break;case Kr.PULL:if(!a){o.postMessage({sourceName:r,targetName:i,stream:Kr.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Kr.PULL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:Kr.PULL_COMPLETE,streamId:n,reason:ws(l)})});break;case Kr.ENQUEUE:if(hi(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Kr.CLOSE:if(hi(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),re(this,xu,LC).call(this,s,n);break;case Kr.ERROR:hi(s,"error should have stream controller"),s.controller.error(ws(e.reason)),re(this,xu,LC).call(this,s,n);break;case Kr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ws(e.reason)),re(this,xu,LC).call(this,s,n);break;case Kr.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,ws(e.reason)))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Kr.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:Kr.CANCEL_COMPLETE,streamId:n,reason:ws(l)})}),a.sinkCapability.reject(ws(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},LC=async function(e,n){var r,i,o;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var np,s_;class e8e{constructor({parsedData:e,rawData:n}){ie(this,np);ie(this,s_);ne(this,np,e),ne(this,s_,n)}getRaw(){return C(this,s_)}get(e){return C(this,np).get(e)??null}getAll(){return E3(C(this,np))}has(e){return C(this,np).has(e)}}np=new WeakMap,s_=new WeakMap;const Wd=Symbol("INTERNAL");var a_,l_,u_,zy;class t8e{constructor(e,{name:n,intent:r,usage:i}){ie(this,a_,!1);ie(this,l_,!1);ie(this,u_,!1);ie(this,zy,!0);ne(this,a_,!!(e&ia.DISPLAY)),ne(this,l_,!!(e&ia.PRINT)),this.name=n,this.intent=r,this.usage=i}get visible(){if(C(this,u_))return C(this,zy);if(!C(this,zy))return!1;const{print:e,view:n}=this.usage;return C(this,a_)?(n==null?void 0:n.viewState)!=="OFF":C(this,l_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Wd&&Jn("Internal method `_setVisible` called."),ne(this,u_,r),ne(this,zy,n)}}a_=new WeakMap,l_=new WeakMap,u_=new WeakMap,zy=new WeakMap;var sf,Xn,Uy,Hy,c_,PF;class n8e{constructor(e,n=ia.DISPLAY){ie(this,c_);ie(this,sf,null);ie(this,Xn,new Map);ie(this,Uy,null);ie(this,Hy,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ne(this,Hy,e.order);for(const r of e.groups)C(this,Xn).set(r.id,new t8e(n,r));if(e.baseState==="OFF")for(const r of C(this,Xn).values())r._setVisible(Wd,!1);for(const r of e.on)C(this,Xn).get(r)._setVisible(Wd,!0);for(const r of e.off)C(this,Xn).get(r)._setVisible(Wd,!1);ne(this,Uy,this.getHash())}}isVisible(e){if(C(this,Xn).size===0)return!0;if(!e)return dP("Optional content group not defined."),!0;if(e.type==="OCG")return C(this,Xn).has(e.id)?C(this,Xn).get(e.id).visible:(dn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return re(this,c_,PF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!C(this,Xn).has(n))return dn(`Optional content group not found: ${n}`),!0;if(C(this,Xn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!C(this,Xn).has(n))return dn(`Optional content group not found: ${n}`),!0;if(!C(this,Xn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!C(this,Xn).has(n))return dn(`Optional content group not found: ${n}`),!0;if(!C(this,Xn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!C(this,Xn).has(n))return dn(`Optional content group not found: ${n}`),!0;if(C(this,Xn).get(n).visible)return!1}return!0}return dn(`Unknown optional content policy ${e.policy}.`),!0}return dn(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const r=C(this,Xn).get(e);if(!r){dn(`Optional content group not found: ${e}`);return}r._setVisible(Wd,!!n,!0),ne(this,sf,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const o=C(this,Xn).get(i);if(o)switch(r){case"ON":o._setVisible(Wd,!0);break;case"OFF":o._setVisible(Wd,!1);break;case"Toggle":o._setVisible(Wd,!o.visible);break}}ne(this,sf,null)}get hasInitialVisibility(){return C(this,Uy)===null||this.getHash()===C(this,Uy)}getOrder(){return C(this,Xn).size?C(this,Hy)?C(this,Hy).slice():[...C(this,Xn).keys()]:null}getGroups(){return C(this,Xn).size>0?E3(C(this,Xn)):null}getGroup(e){return C(this,Xn).get(e)||null}getHash(){if(C(this,sf)!==null)return C(this,sf);const e=new Tie;for(const[n,r]of C(this,Xn))e.update(`${n}:${r.visible}`);return ne(this,sf,e.hexdigest())}}sf=new WeakMap,Xn=new WeakMap,Uy=new WeakMap,Hy=new WeakMap,c_=new WeakSet,PF=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const o=e[i];let s;if(Array.isArray(o))s=re(this,c_,PF).call(this,o);else if(C(this,Xn).has(o))s=C(this,Xn).get(o).visible;else return dn(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class r8e{constructor(e,{disableRange:n=!1,disableStream:r=!1}){hi(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});hi(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,o;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){hi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new i8e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new o8e(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class i8e{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=P3(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o8e{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function s8e(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=a(n);return c=unescape(c),c=l(c),c=u(c),o(c)}if(n=s(t),n){const c=u(n);return o(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=a(n);return c=u(c),o(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(c,{fatal:!0}),p=hP(d);d=h.decode(p),e=!1}catch{}}return d}function o(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const d=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(c))!==null;){let[,y,w,_]=h;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[w,_]}const m=[];for(let y=0;y<d.length&&y in d;++y){let[w,_]=d[y];_=a(_),w&&(_=unescape(_),y===0&&(_=l(_))),m.push(_)}return m.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const h=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(h,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,w){return String.fromCharCode(parseInt(w,16))}),i(h,m);try{m=atob(m)}catch{}return i(h,m)})}return""}function M3({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*n)||r||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function N3(t){const e=t("Content-Disposition");if(e){let n=s8e(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(P3(n))return n}return null}function vP(t,e){return t===404||t===0&&e.startsWith("file:")?new Sg('Missing PDF "'+e+'".'):new fP(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function Mie(t){return t===200||t===206}function Nie(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Die(t){const e=new Headers;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Lie(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(dn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class zG{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a8e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new l8e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class a8e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=Die(this._stream.httpHeaders);const r=n.url;fetch(r,Nie(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!Mie(i.status))throw vP(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=l=>i.headers.get(l),{allowRangeRequests:s,suggestedLength:a}=M3({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=N3(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Eg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Lie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class l8e{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Die(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,Nie(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!Mie(s.status))throw vP(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Lie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const ZN=200,eD=206;function u8e(t){const e=t.response;return typeof e!="string"?e:hP(e).buffer}class c8e{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const o in r)i[o]=r[o];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const s=this.httpHeaders[o];s!==void 0&&n.setRequestHeader(o,s)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=eD):i.expectedStatus=ZN,n.responseType="arraybuffer",e.onError&&(n.onerror=function(o){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const o=i.status||ZN;if(!(o===ZN&&r.expectedStatus===eD)&&o!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=u8e(i);if(o===eD){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(h[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class d8e{constructor(e){this._source=e,this._manager=new c8e(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return hi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new f8e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new h8e(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class f8e{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=s=>n.getResponseHeader(s),{allowRangeRequests:i,suggestedLength:o}=M3({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=N3(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=vP(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h8e{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=vP(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Oie=/^file:\/\/\/[a-zA-Z]:\//;function p8e(t){const e=Ru.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class g8e{constructor(e){this.source=e,this.url=p8e(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v8e(this):new m8e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new b8e(this,e,n):new y8e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Fie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Eg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class $ie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function aA(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class m8e extends Fie{constructor(e){super(e);const n=r=>{if(r.statusCode===404){const a=new Sg(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=M3({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=N3(i)};if(this._request=null,this._url.protocol==="http:"){const r=Ru.get("http");this._request=r.request(aA(this._url,e.httpHeaders),n)}else{const r=Ru.get("https");this._request=r.request(aA(this._url,e.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class y8e extends $ie{constructor(e,n,r){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const s=e.httpHeaders[o];s!==void 0&&(this._httpHeaders[o]=s)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=o=>{if(o.statusCode===404){const s=new Sg(`Missing PDF "${this._url}".`);this._storedError=s;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=Ru.get("http");this._request=o.request(aA(this._url,this._httpHeaders),i)}else{const o=Ru.get("https");this._request=o.request(aA(this._url,this._httpHeaders),i)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class v8e extends Fie{constructor(e){super(e);let n=decodeURIComponent(this._url.path);Oie.test(this._url.href)&&(n=n.replace(/^\//,""));const r=Ru.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Sg(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class b8e extends $ie{constructor(e,n,r){super(e);let i=decodeURIComponent(this._url.path);Oie.test(this._url.href)&&(i=i.replace(/^\//,""));const o=Ru.get("fs");this._setReadableStream(o.createReadStream(i,{start:n,end:r-1}))}}const w8e=1e5,Uo=30,x8e=.8;var hX,af,jo,d_,f_,rp,vc,h_,p_,ip,qy,jy,lf,Wy,g_,Gy,op,m_,y_,sp,ap,uf,Ky,nd,Bie,Vie,IF,_u,OC,zie,Uie;const Zi=class Zi{constructor({textContentSource:e,container:n,viewport:r}){ie(this,nd);ie(this,af,Promise.withResolvers());ie(this,jo,null);ie(this,d_,!1);ie(this,f_,!!((hX=globalThis.FontInspector)!=null&&hX.enabled));ie(this,rp,null);ie(this,vc,null);ie(this,h_,0);ie(this,p_,0);ie(this,ip,null);ie(this,qy,null);ie(this,jy,0);ie(this,lf,0);ie(this,Wy,Object.create(null));ie(this,g_,[]);ie(this,Gy,null);ie(this,op,[]);ie(this,m_,new WeakMap);ie(this,y_,null);var l;if(e instanceof ReadableStream)ne(this,Gy,e);else if(typeof e=="object")ne(this,Gy,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');ne(this,jo,ne(this,qy,n)),ne(this,lf,r.scale*(globalThis.devicePixelRatio||1)),ne(this,jy,r.rotation),ne(this,vc,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=r.rawDims;ne(this,y_,[1,0,0,-1,-s,a+o]),ne(this,p_,i),ne(this,h_,o),re(l=Zi,_u,zie).call(l),eg(n,r),C(this,af).promise.catch(()=>{}).then(()=>{C(Zi,Ky).delete(this),ne(this,vc,null),ne(this,Wy,null)})}render(){const e=()=>{C(this,ip).read().then(({value:n,done:r})=>{if(r){C(this,af).resolve();return}C(this,rp)??ne(this,rp,n.lang),Object.assign(C(this,Wy),n.styles),re(this,nd,Bie).call(this,n.items),e()},C(this,af).reject)};return ne(this,ip,C(this,Gy).getReader()),C(Zi,Ky).add(this),e(),C(this,af).promise}update({viewport:e,onBefore:n=null}){var o;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==C(this,jy)&&(n==null||n(),ne(this,jy,i),eg(C(this,qy),{rotation:i})),r!==C(this,lf)){n==null||n(),ne(this,lf,r);const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:re(o=Zi,_u,OC).call(o,C(this,rp))};for(const a of C(this,op))s.properties=C(this,m_).get(a),s.div=a,re(this,nd,IF).call(this,s)}}cancel(){var n;const e=new Eg("TextLayer task cancelled.");(n=C(this,ip))==null||n.cancel(e).catch(()=>{}),ne(this,ip,null),C(this,af).reject(e)}get textDivs(){return C(this,op)}get textContentItemsStr(){return C(this,g_)}static cleanup(){if(!(C(this,Ky).size>0)){C(this,sp).clear();for(const{canvas:e}of C(this,ap).values())e.remove();C(this,ap).clear()}}};af=new WeakMap,jo=new WeakMap,d_=new WeakMap,f_=new WeakMap,rp=new WeakMap,vc=new WeakMap,h_=new WeakMap,p_=new WeakMap,ip=new WeakMap,qy=new WeakMap,jy=new WeakMap,lf=new WeakMap,Wy=new WeakMap,g_=new WeakMap,Gy=new WeakMap,op=new WeakMap,m_=new WeakMap,y_=new WeakMap,sp=new WeakMap,ap=new WeakMap,uf=new WeakMap,Ky=new WeakMap,nd=new WeakSet,Bie=function(e){var i,o;if(C(this,d_))return;(o=C(this,vc)).ctx??(o.ctx=re(i=Zi,_u,OC).call(i,C(this,rp)));const n=C(this,op),r=C(this,g_);for(const s of e){if(n.length>w8e){dn("Ignoring additional textDivs for performance reasons."),ne(this,d_,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=C(this,jo);ne(this,jo,document.createElement("span")),C(this,jo).classList.add("markedContent"),s.id!==null&&C(this,jo).setAttribute("id",`${s.id}`),a.append(C(this,jo))}else s.type==="endMarkedContent"&&ne(this,jo,C(this,jo).parentNode);continue}r.push(s.str),re(this,nd,Vie).call(this,s)}},Vie=function(e){var y;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};C(this,op).push(n);const i=At.transform(C(this,y_),e.transform);let o=Math.atan2(i[1],i[0]);const s=C(this,Wy)[e.fontName];s.vertical&&(o+=Math.PI/2);const a=C(this,f_)&&s.fontSubstitution||s.fontFamily,l=Math.hypot(i[2],i[3]),u=l*re(y=Zi,_u,Uie).call(y,a,C(this,rp));let c,d;o===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(o),d=i[5]-u*Math.cos(o));const h="calc(var(--scale-factor)*",p=n.style;C(this,jo)===C(this,qy)?(p.left=`${(100*c/C(this,p_)).toFixed(2)}%`,p.top=`${(100*d/C(this,h_)).toFixed(2)}%`):(p.left=`${h}${c.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${(C(Zi,uf)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,C(this,f_)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);w!==_&&Math.max(w,_)/Math.min(w,_)>1.5&&(m=!0)}if(m&&(r.canvasWidth=s.vertical?e.height:e.width),C(this,m_).set(n,r),C(this,vc).div=n,C(this,vc).properties=r,re(this,nd,IF).call(this,C(this,vc)),r.hasText&&C(this,jo).append(n),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),C(this,jo).append(w)}},IF=function(e){const{div:n,properties:r,ctx:i,prevFontSize:o,prevFontFamily:s}=e,{style:a}=n;let l="";if(C(Zi,uf)>1&&(l=`scale(${1/C(Zi,uf)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:d}=r;(o!==d||s!==u)&&(i.font=`${d*C(this,lf)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:h}=i.measureText(n.textContent);h>0&&(l=`scaleX(${c*C(this,lf)/h}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},_u=new WeakSet,OC=function(e=null){let n=C(this,ap).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),C(this,ap).set(e,n)}return n},zie=function(){if(C(this,uf)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),ne(this,uf,e.getBoundingClientRect().height),e.remove()},Uie=function(e,n){const r=C(this,sp).get(e);if(r)return r;const i=re(this,_u,OC).call(this,n),o=i.font;i.canvas.width=i.canvas.height=Uo,i.font=`${Uo}px ${e}`;const s=i.measureText("");let a=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(a){const d=a/(a+l);return C(this,sp).set(e,d),i.canvas.width=i.canvas.height=0,i.font=o,d}i.strokeStyle="red",i.clearRect(0,0,Uo,Uo),i.strokeText("g",0,0);let u=i.getImageData(0,0,Uo,Uo).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/Uo);break}i.clearRect(0,0,Uo,Uo),i.strokeText("A",0,Uo),u=i.getImageData(0,0,Uo,Uo).data,a=0;for(let d=0,h=u.length;d<h;d+=4)if(u[d]>0){a=Uo-Math.floor(d/4/Uo);break}i.canvas.width=i.canvas.height=0,i.font=o;const c=a?a/(a+l):x8e;return C(this,sp).set(e,c),c},ie(Zi,_u),ie(Zi,sp,new Map),ie(Zi,ap,new Map),ie(Zi,uf,null),ie(Zi,Ky,new Set);let Zv=Zi;function _8e(){eie("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&dn("Ignoring `renderTextLayer` parameters: "+i.join(", "));const o=new Zv({textContentSource:t,container:e,viewport:n}),{textDivs:s,textContentItemsStr:a}=o;return{promise:o.render(),textDivs:s,textContentItemsStr:a}}function S8e(){eie("`updateTextLayer`, please use `TextLayer` instead.")}class Ex{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(o){var l;if(!o)return;let s=null;const a=o.name;if(a==="#text")s=o.value;else if(Ex.shouldBuildText(a))(l=o==null?void 0:o.attributes)!=null&&l.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&n.push({str:s}),!!o.children)for(const u of o.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const E8e=65536,C8e=100,T8e=5e3,A8e=lo?$je:Cje,R8e=lo?Bje:Qre,P8e=lo?Fje:Eje,I8e=lo?Vje:Zre;function k8e(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new kF,{docId:n}=e,r=t.url?M8e(t.url):null,i=t.data?N8e(t.data):null,o=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,l=t.range instanceof Hie?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:E8e;let c=t.worker instanceof Cy?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!R3(t.docBaseUrl)?t.docBaseUrl:null,p=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,y=t.CMapReaderFactory||R8e,w=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,_=t.StandardFontDataFactory||I8e,E=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,I=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!lo,N=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,P=typeof t.disableFontFace=="boolean"?t.disableFontFace:lo,M=t.fontExtraProperties===!0,D=t.enableXfa===!0,k=t.ownerDocument||globalThis.document,L=t.disableRange===!0,V=t.disableStream===!0,$=t.disableAutoFetch===!0,z=t.pdfBug===!0,G=t.enableHWA===!0,K=l?l.length:t.length??NaN,J=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!lo&&!P,ee=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:y===Qre&&_===Zre&&p&&w&&aw(p,document.baseURI)&&aw(w,document.baseURI),X=t.canvasFactory||new A8e({ownerDocument:k,enableHWA:G}),j=t.filterFactory||new P8e({docId:n,ownerDocument:k}),Q=null;hje(d);const ue={canvasFactory:X,filterFactory:j};if(ee||(ue.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),ue.standardFontDataFactory=new _({baseUrl:w})),!c){const te={verbosity:d,port:Uc.workerPort};c=te.port?Cy.fromPort(te):new Cy(te),e._worker=c}const q={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:$,rangeChunkSize:u,length:K,docBaseUrl:h,enableXfa:D,evaluatorOptions:{maxImageSize:S,disableFontFace:P,ignoreErrors:E,isEvalSupported:T,isOffscreenCanvasSupported:I,canvasMaxAreaInBytes:N,fontExtraProperties:M,useSystemFonts:J,cMapUrl:ee?p:null,standardFontDataUrl:ee?w:null}},Y={disableFontFace:P,fontExtraProperties:M,ownerDocument:k,pdfBug:z,styleElement:Q,loadingParams:{disableAutoFetch:$,enableXfa:D}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const te=c.messageHandler.sendWithPromise("GetDocRequest",q,i?[i.buffer]:null);let le;if(l)le=new r8e(l,{disableRange:L,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");le=(se=>lo?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&aw(se.url)?new zG(se):new g8e(se):aw(se.url)?new zG(se):new d8e(se))({url:r,length:K,httpHeaders:o,withCredentials:s,rangeChunkSize:u,disableRange:L,disableStream:V})}return te.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const se=new cw(n,de,c.port),ce=new F8e(se,e,le,Y,ue);e._transport=ce,se.send("Ready",null)})}).catch(e._capability.reject),e}function M8e(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(lo&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function N8e(t){if(lo&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return hP(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function UG(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var MA;const NA=class NA{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${vs(NA,MA)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};MA=new WeakMap,ie(NA,MA,0);let kF=NA;class Hie{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Jn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class D8e{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return In(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var cf,bc,ua,sy,FC;class L8e{constructor(e,n,r,i=!1){ie(this,ua);ie(this,cf,null);ie(this,bc,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new RG:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new qie,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new OS({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return In(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=Qd.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null}){var S,T;(S=this._stats)==null||S.time("Overall");const d=this._transport.getRenderingIntent(r,i,c),{renderingIntent:h,cacheKey:p}=d;ne(this,bc,!1),re(this,ua,FC).call(this),a||(a=this._transport.getOptionalContentConfig(h));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(h&ia.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(d));const w=I=>{var N;m.renderTasks.delete(_),(this._maybeCleanupAfterRender||y)&&ne(this,bc,!0),re(this,ua,sy).call(this,!y),I?(_.capability.reject(I),this._abortOperatorList({intentState:m,reason:I instanceof Error?I:new Error(I)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new NF({callback:w,params:{canvasContext:e,viewport:n,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(_);const E=_.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([I,N])=>{var P;if(this.destroyed){w();return}if((P=this._stats)==null||P.time("Rendering"),!(N.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:I,optionalContentConfig:N}),_.operatorListChanged()}).catch(w),E}getOperatorList({intent:e="display",annotationMode:n=Qd.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))}const o=this._transport.getRenderingIntent(e,n,r,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let a;return s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ex.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function o(){s.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},i)}const s=n.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),ne(this,bc,!1),re(this,ua,FC).call(this),Promise.all(e)}cleanup(e=!1){ne(this,bc,!0);const n=re(this,ua,sy).call(this,!1);return e&&n&&this._stats&&(this._stats=new RG),n}_startRenderPage(e,n){var i,o;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=r.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&re(this,ua,sy).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:o}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},o).getReader(),l=this._intentStates.get(n);l.streamReader=a;const u=()=>{a.read().then(({value:c,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,l),u())},c=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();re(this,ua,sy).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(c);else if(l.opListReadCapability)l.opListReadCapability.reject(c);else throw c}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof A3){let i=C8e;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Eg(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}cf=new WeakMap,bc=new WeakMap,ua=new WeakSet,sy=function(e=!1){if(re(this,ua,FC).call(this),!C(this,bc)||this.destroyed)return!1;if(e)return ne(this,cf,setTimeout(()=>{ne(this,cf,null),re(this,ua,sy).call(this,!1)},T8e)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ne(this,bc,!1),!0},FC=function(){C(this,cf)&&(clearTimeout(C(this,cf)),ne(this,cf,null))};var lp,DA;class O8e{constructor(){ie(this,lp,new Set);ie(this,DA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};C(this,DA).then(()=>{for(const i of C(this,lp))i.call(this,r)})}addEventListener(e,n){C(this,lp).add(n)}removeEventListener(e,n){C(this,lp).delete(n)}terminate(){C(this,lp).clear()}}lp=new WeakMap,DA=new WeakMap;const uc={isWorkerDisabled:!1,fakeWorkerId:0};lo&&(uc.isWorkerDisabled=!0,Uc.workerSrc||(Uc.workerSrc="./pdf.worker.mjs")),uc.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},uc.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var up,Yy,$C,Xy,BC;const Ss=class Ss{constructor({name:e=null,port:n=null,verbosity:r=pje()}={}){ie(this,Yy);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=C(Ss,up))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(C(Ss,up)||ne(Ss,up,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return lo?Promise.all([Ru.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new cw("main","worker",e),this._messageHandler.on("ready",function(){}),re(this,Yy,$C).call(this)}_initialize(){if(uc.isWorkerDisabled||C(Ss,Xy,BC)){this._setupFakeWorker();return}let{workerSrc:e}=Ss;try{uc.isSameOrigin(window.location.href,e)||(e=uc.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new cw("main","worker",n),i=()=>{o.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),r.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,re(this,Yy,$C).call(this)}),r.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{dP("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){uc.isWorkerDisabled||(dn("Setting up fake worker."),uc.isWorkerDisabled=!0),Ss._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new O8e;this._port=n;const r=`fake${uc.fakeWorkerId++}`,i=new cw(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new cw(r,r+"_worker",n),re(this,Yy,$C).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=C(Ss,up))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=C(this,up))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Ss(e)}static get workerSrc(){if(Uc.workerSrc)return Uc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return In(this,"_setupFakeWorkerGlobal",(async()=>C(this,Xy,BC)?C(this,Xy,BC):(await import(this.workerSrc)).WorkerMessageHandler)())}};up=new WeakMap,Yy=new WeakSet,$C=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Xy=new WeakSet,BC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ie(Ss,Xy),ie(Ss,up);let Cy=Ss;var wc,Wl,Jy,Qy,Gl,cp,dw;class F8e{constructor(e,n,r,i,o){ie(this,cp);ie(this,wc,new Map);ie(this,Wl,new Map);ie(this,Jy,new Map);ie(this,Qy,new Map);ie(this,Gl,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new qie,this.fontLoader=new Lje({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return In(this,"annotationStorage",new k3)}getRenderingIntent(e,n=Qd.ENABLE,r=null,i=!1){let o=ia.DISPLAY,s=SF;switch(e){case"any":o=ia.ANY;break;case"display":break;case"print":o=ia.PRINT;break;default:dn(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case Qd.DISABLE:o+=ia.ANNOTATIONS_DISABLE;break;case Qd.ENABLE:break;case Qd.ENABLE_FORMS:o+=ia.ANNOTATIONS_FORMS;break;case Qd.ENABLE_STORAGE:o+=ia.ANNOTATIONS_STORAGE,s=(o&ia.PRINT&&r instanceof Rie?r:this.annotationStorage).serializable;break;default:dn(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(o+=ia.OPLIST),{renderingIntent:o,cacheKey:`${o}_${s.hash}`,annotationStorageSerializable:s}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=C(this,Gl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of C(this,Wl).values())e.push(i._destroy());C(this,Wl).clear(),C(this,Jy).clear(),C(this,Qy).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),C(this,wc).clear(),this.filterFactory.destroy(),Zv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Eg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{hi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}hi(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var s;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((s=n.onProgress)==null||s.call(n,this._lastProgress)),o.onProgress=a=>{var l;(l=n.onProgress)==null||l.call(n,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{hi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}hi(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new D8e(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new eF(r.message,r.code);break;case"InvalidPDFException":i=new Kre(r.message);break;case"MissingPDFException":i=new Sg(r.message);break;case"UnexpectedResponseException":i=new fP(r.message,r.status);break;case"UnknownErrorException":i=new tF(r.message,r.details);break;default:Jn("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(ne(this,Gl,Promise.withResolvers()),n.onPassword){const i=o=>{o instanceof Error?C(this,Gl).reject(o):C(this,Gl).resolve({password:o})};try{n.onPassword(i,r.code)}catch(o){C(this,Gl).reject(o)}}else C(this,Gl).reject(new eF(r.message,r.code));return C(this,Gl).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;C(this,Wl).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in o){const p=o.error;dn(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new Oje(o,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=o;hi(h,"The imageRef must be defined.");for(const p of C(this,Wl).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,s])=>{var l;if(this.destroyed)return;const a=C(this,Wl).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(o){case"Image":a.objs.resolve(r,s),(s==null?void 0:s.dataLen)>uje&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&dn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=C(this,Jy).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&C(this,Qy).set(o.refStr,e);const s=new L8e(n,o,this,this._params.pdfBug);return C(this,Wl).set(n,s),s});return C(this,Jy).set(n,i),i}getPageIndex(e){return UG(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return re(this,cp,dw).call(this,"GetFieldObjects")}hasJSActions(){return re(this,cp,dw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return re(this,cp,dw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return re(this,cp,dw).call(this,"GetOptionalContentConfig").then(n=>new n8e(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=C(this,wc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var o,s;return{info:i[0],metadata:i[1]?new e8e(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return C(this,wc).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of C(this,Wl).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),C(this,wc).clear(),this.filterFactory.destroy(!0),Zv.cleanup()}}cachedPageNumber(e){if(!UG(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return C(this,Qy).get(n)??null}}wc=new WeakMap,Wl=new WeakMap,Jy=new WeakMap,Qy=new WeakMap,Gl=new WeakMap,cp=new WeakSet,dw=function(e,n=null){const r=C(this,wc).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return C(this,wc).set(e,i),i};const G1=Symbol("INITIAL_DATA");var qa,v_,MF;class qie{constructor(){ie(this,v_);ie(this,qa,Object.create(null))}get(e,n=null){if(n){const i=re(this,v_,MF).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=C(this,qa)[e];if(!r||r.data===G1)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=C(this,qa)[e];return!!n&&n.data!==G1}resolve(e,n=null){const r=re(this,v_,MF).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in C(this,qa)){const{data:r}=C(this,qa)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}ne(this,qa,Object.create(null))}*[Symbol.iterator](){for(const e in C(this,qa)){const{data:n}=C(this,qa)[e];n!==G1&&(yield[e,n])}}}qa=new WeakMap,v_=new WeakSet,MF=function(e){var n;return(n=C(this,qa))[e]||(n[e]={...Promise.withResolvers(),data:G1})};var df;class $8e{constructor(e){ie(this,df,null);ne(this,df,e),this.onContinue=null}get promise(){return C(this,df).capability.promise}cancel(e=0){C(this,df).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=C(this,df).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=C(this,df);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}df=new WeakMap;var ff,dp;const Nh=class Nh{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:h=null}){ie(this,ff,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new $8e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(C(Nh,dp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");C(Nh,dp).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new Ey(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),C(this,ff)&&(window.cancelAnimationFrame(C(this,ff)),ne(this,ff,null)),C(Nh,dp).delete(this._canvas),this.callback(e||new A3(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ne(this,ff,window.requestAnimationFrame(()=>{ne(this,ff,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),C(Nh,dp).delete(this._canvas),this.callback())))}};ff=new WeakMap,dp=new WeakMap,ie(Nh,dp,new WeakSet);let NF=Nh;const B8e="4.4.168",V8e="19fbc8998";function HG(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Rb(t){return Math.max(0,Math.min(255,255*t))}class qG{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Rb(e),[e,e,e]}static G_HTML([e]){const n=HG(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Rb)}static RGB_HTML(e){return`#${e.map(HG).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Rb(1-Math.min(1,e+i)),Rb(1-Math.min(1,r+i)),Rb(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,o=1-n,s=1-r,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}}class jie{static setupStorage(e,n,r,i,o){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:o}){const{attributes:s}=n,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&o.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var d,h;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});const a=o!=="richText",l=e.div;if(l.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),a&&Ex.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[p,m,y]=c.at(-1);if(m+1===p.children.length){c.pop();continue}const w=p.children[++c.at(-1)[1]];if(w===null)continue;const{name:_}=w;if(_==="#text"){const S=document.createTextNode(w.value);u.push(S),y.append(S);continue}const E=(d=w==null?void 0:w.attributes)!=null&&d.xmlns?document.createElementNS(w.attributes.xmlns,_):document.createElement(_);if(y.append(E),w.attributes&&this.setAttributes({html:E,element:w,storage:n,intent:o,linkService:r}),((h=w.children)==null?void 0:h.length)>0)c.push([w,-1,E]);else if(w.value){const S=document.createTextNode(w.value);a&&Ex.shouldBuildText(_)&&u.push(S),E.append(S)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const BS=1e3,z8e=9,ng=new WeakSet;function Hc(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class U8e{static create(e){switch(e.data.annotationType){case ai.LINK:return new Wie(e);case ai.TEXT:return new H8e(e);case ai.WIDGET:switch(e.data.fieldType){case"Tx":return new q8e(e);case"Btn":return e.data.radioButton?new Yie(e):e.data.checkBox?new W8e(e):new G8e(e);case"Ch":return new K8e(e);case"Sig":return new j8e(e)}return new Cg(e);case ai.POPUP:return new LF(e);case ai.FREETEXT:return new eoe(e);case ai.LINE:return new X8e(e);case ai.SQUARE:return new J8e(e);case ai.CIRCLE:return new Q8e(e);case ai.POLYLINE:return new toe(e);case ai.CARET:return new eWe(e);case ai.INK:return new noe(e);case ai.POLYGON:return new Z8e(e);case ai.HIGHLIGHT:return new tWe(e);case ai.UNDERLINE:return new nWe(e);case ai.SQUIGGLY:return new rWe(e);case ai.STRIKEOUT:return new iWe(e);case ai.STAMP:return new roe(e);case ai.FILEATTACHMENT:return new oWe(e);default:return new Hr(e)}}}var fp,Zy,ev,b_,DF;const uB=class uB{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ie(this,b_);ie(this,fp,null);ie(this,Zy,!1);ie(this,ev,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get hasPopupData(){return uB._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;C(this,fp)||ne(this,fp,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&re(this,b_,DF).call(this,n),(r=C(this,ev))==null||r.popup.updateEdited(e)}resetEdited(){var e;C(this,fp)&&(re(this,b_,DF).call(this,C(this,fp).rect),(e=C(this,ev))==null||e.popup.resetEdited(),ne(this,fp,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),this instanceof Cg||(o.tabIndex=BS);const{style:s}=o;if(s.zIndex=this.parent.zIndex++,n.popupRef&&o.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof LF){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,o),o}const{width:a,height:l}=Hc(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,w=n.borderStyle.verticalCornerRadius;if(y>0||w>0){const E=`calc(${y}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;s.borderRadius=E}else if(this instanceof Yie){const E=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=E}switch(n.borderStyle.style){case Tb.SOLID:s.borderStyle="solid";break;case Tb.DASHED:s.borderStyle="dashed";break;case Tb.BEVELED:dn("Unimplemented border style: beveled");break;case Tb.INSET:dn("Unimplemented border style: inset");break;case Tb.UNDERLINE:s.borderBottomStyle="solid";break}const _=n.borderColor||null;_?(ne(this,Zy,!0),s.borderColor=At.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):s.borderWidth=0}const u=At.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:p}=i.rawDims;s.left=`${100*(u[0]-h)/c}%`,s.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(s.width=`${100*a/c}%`,s.height=`${100*l/d}%`):this.setRotation(m,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=Hc(this.data.rect);let a,l;e%180===0?(a=100*o/r,l=100*s/i):(a=100*s/r,l=100*o/i),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const o=i.detail[n],s=o[0],a=o.slice(1);i.target.style[r]=qG[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:qG[`${s}_rgb`](a)})};return In(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const o=e[i]||r[i];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,o]of Object.entries(n)){const s=r[i];if(s){const a={detail:{[i]:o},target:e};s(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,o]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,w,_,E]=e.subarray(2,6);if(i===y&&o===w&&n===_&&r===E)return}const{style:s}=this.container;let a;if(C(this,Zy)){const{borderColor:y,borderWidth:w}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-n,u=o-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const p=c.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let y=2,w=e.length;y<w;y+=8){const _=e[y],E=e[y+1],S=e[y+2],T=e[y+3],I=c.createElement("rect"),N=(S-n)/l,P=(o-E)/u,M=(_-S)/l,D=(E-T)/u;I.setAttribute("x",N),I.setAttribute("y",P),I.setAttribute("width",M),I.setAttribute("height",D),p.append(I),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${P}" width="${M}" height="${D}"/>`)}C(this,Zy)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const r=ne(this,ev,new LF({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Jn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:o,id:s,exportValues:a}of i){if(o===-1||s===n)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!ng.has(u)){dn(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==n&&ng.has(i)&&r.push({id:s,exportValue:o,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};fp=new WeakMap,Zy=new WeakMap,ev=new WeakMap,b_=new WeakSet,DF=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Hc(e);n.left=`${100*(e[0]-a)/o}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/o}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let Hr=uB;var Ns,Rh,Gie,Kie;class Wie extends Hr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ie(this,Ns);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action),o=!0):n.attachment?(re(this,Ns,Gie).call(this,i,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(re(this,Ns,Kie).call(this,i,n.setOCGState),o=!0):n.dest?(this._bindLink(i,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&re(this,Ns,Rh).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),re(this,Ns,Rh).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(r.actions)){const s=i.get(o);s&&(n[s]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:o}}),!1})}n.onclick||(n.onclick=()=>!1),re(this,Ns,Rh).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),re(this,Ns,Rh).call(this),!this._fieldObjects){dn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:o,refs:s,include:a}=r,l=[];if(o.length!==0||s.length!==0){const h=new Set(s);for(const p of o){const m=this._fieldObjects[p]||[];for(const{id:y}of m)h.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)h.has(m.id)===a&&l.push(m)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,c=[];for(const h of l){const{id:p}=h;switch(c.push(p),h.type){case"text":{const y=h.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!ng.has(m)){dn(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Ns=new WeakSet,Rh=function(){this.container.setAttribute("data-internal-link","")},Gie=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,i),!1},re(this,Ns,Rh).call(this)},Kie=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),re(this,Ns,Rh).call(this)};class H8e extends Hr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Cg extends Hr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Qo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,o){r.includes("mouse")?e.addEventListener(r,s=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var a;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}o&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}}))})}_setEventListeners(e,n,r,i){var o,s,a;for(const[l,u]of r)(u==="Action"||(o=this.data.actions)!=null&&o[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":At.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||z8e,o=e.style;let s;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(YN*i))||1,d=u/c;s=Math.min(i,l(d/YN))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,l(u/YN))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=At.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class q8e extends Cg{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const o=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),o.setValue(s.id,{[i]:r})}render(){var i,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let a=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ng.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=BS,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(n,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";r.value=c.userValue=p,c.formattedValue=null});let d=h=>{const{formattedValue:p}=c;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(c.focused)return;const{target:m}=p;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){c.userValue=y.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),y.target.value=c.userValue},formattedValue(y){const{formattedValue:w}=y.detail;c.formattedValue=w,w!=null&&y.target!==document.activeElement&&(y.target.value=w),e.setValue(n,{formattedValue:w})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var S;const{charLimit:w}=y.detail,{target:_}=y;if(w===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",w);let E=c.userValue;!E||E.length<=w||(E=E.slice(0,w),_.value=c.userValue=E,e.setValue(n,{value:E}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var w;c.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:y}=p.target;c.lastCommittedValue!==y&&(c.lastCommittedValue=y,c.userValue=y,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,r.addEventListener("blur",p=>{var y,w;if(!c.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(c.focused=!1);const{value:m}=p.target;c.userValue=m,c.lastCommittedValue!==m&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(o=this.data.actions)!=null&&o.Keystroke&&r.addEventListener("beforeinput",p=>{var I;c.lastCommittedValue=null;const{data:m,target:y}=p,{value:w,selectionStart:_,selectionEnd:E}=y;let S=_,T=E;switch(p.inputType){case"deleteWordBackward":{const N=w.substring(0,_).match(/\w*[^\w]*$/);N&&(S-=N[0].length);break}case"deleteWordForward":{const N=w.substring(_).match(/^[^\w]*\w*/);N&&(T+=N[0].length);break}case"deleteContentBackward":_===E&&(S-=1);break;case"deleteContentForward":_===E&&(T+=1);break}p.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,change:m||"",willCommit:!1,selStart:S,selEnd:T}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class j8e extends Cg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class W8e extends Cg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ng.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=BS,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue||"Off";s.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Yie extends Cg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const o=document.createElement("input");if(ng.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=BS,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue;s.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;o.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=s===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const h=c&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class G8e extends Wie{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class K8e extends Cg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");ng.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=BS;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),o=!1),i.append(d)}let s=null;if(o){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=c=>{const d=c?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,m=>m.selected).map(m=>m[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(h){s==null||s();const p=h.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,m=h.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(h){const{index:p,displayValue:m,exportValue:y}=h.detail.insert,w=i.children[p],_=document.createElement("option");_.textContent=m,_.value=y,w?w.before(_):i.append(_),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:w}=m,_=document.createElement("option");_.textContent=y,_.value=w,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},indices(h){const p=new Set(h.detail.indices);for(const m of h.target.options)m.selected=p.has(m.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var p;const d=a(!0),h=a(!1);e.setValue(n,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class LF extends Hr{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Hr._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Y8e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Xre}${r}`).join(",")),this.container}}var tv,LA,OA,nv,hp,Dr,xc,pp,w_,x_,rv,_c,ja,Sc,__,Ec,S_,gp,mp,Qn,VC,OF,Xie,Jie,Qie,Zie,zC,UC,FF;class Y8e{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:u,parentRect:c,open:d}){ie(this,Qn);ie(this,tv,re(this,Qn,Qie).bind(this));ie(this,LA,re(this,Qn,FF).bind(this));ie(this,OA,re(this,Qn,UC).bind(this));ie(this,nv,re(this,Qn,zC).bind(this));ie(this,hp,null);ie(this,Dr,null);ie(this,xc,null);ie(this,pp,null);ie(this,w_,null);ie(this,x_,null);ie(this,rv,null);ie(this,_c,!1);ie(this,ja,null);ie(this,Sc,null);ie(this,__,null);ie(this,Ec,null);ie(this,S_,null);ie(this,gp,null);ie(this,mp,!1);var h;ne(this,Dr,e),ne(this,S_,i),ne(this,xc,s),ne(this,Ec,a),ne(this,x_,l),ne(this,hp,n),ne(this,__,u),ne(this,rv,c),ne(this,w_,r),ne(this,pp,tie.toDateObject(o)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",C(this,nv)),p.addEventListener("mouseenter",C(this,OA)),p.addEventListener("mouseleave",C(this,LA)),p.classList.add("popupTriggerArea");for(const p of r)(h=p.container)==null||h.addEventListener("keydown",C(this,tv));C(this,Dr).hidden=!0,d&&re(this,Qn,zC).call(this)}render(){if(C(this,ja))return;const e=ne(this,ja,document.createElement("div"));if(e.className="popup",C(this,hp)){const o=e.style.outlineColor=At.makeHexColor(...C(this,hp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=At.makeHexColor(...C(this,hp).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=C(this,S_),e.append(n),C(this,pp)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:C(this,pp).toLocaleDateString(),time:C(this,pp).toLocaleTimeString()})),n.append(o)}const i=C(this,Qn,VC);if(i)jie.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(C(this,xc));e.append(o)}C(this,Dr).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){const a=i[o];r.append(document.createTextNode(a)),o<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;C(this,gp)||ne(this,gp,{contentsObj:C(this,xc),richText:C(this,Ec)}),e&&ne(this,Sc,null),n&&(ne(this,Ec,re(this,Qn,Jie).call(this,n)),ne(this,xc,null)),(r=C(this,ja))==null||r.remove(),ne(this,ja,null)}resetEdited(){var e;C(this,gp)&&({contentsObj:vs(this,xc)._,richText:vs(this,Ec)._}=C(this,gp),ne(this,gp,null),(e=C(this,ja))==null||e.remove(),ne(this,ja,null),ne(this,Sc,null))}forceHide(){ne(this,mp,this.isVisible),C(this,mp)&&(C(this,Dr).hidden=!0)}maybeShow(){C(this,mp)&&(C(this,ja)||re(this,Qn,UC).call(this),ne(this,mp,!1),C(this,Dr).hidden=!1)}get isVisible(){return C(this,Dr).hidden===!1}}tv=new WeakMap,LA=new WeakMap,OA=new WeakMap,nv=new WeakMap,hp=new WeakMap,Dr=new WeakMap,xc=new WeakMap,pp=new WeakMap,w_=new WeakMap,x_=new WeakMap,rv=new WeakMap,_c=new WeakMap,ja=new WeakMap,Sc=new WeakMap,__=new WeakMap,Ec=new WeakMap,S_=new WeakMap,gp=new WeakMap,mp=new WeakMap,Qn=new WeakSet,VC=function(){const e=C(this,Ec),n=C(this,xc);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&C(this,Ec).html||null},OF=function(){var e,n,r;return((r=(n=(e=C(this,Qn,VC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},Xie=function(){var e,n,r;return((r=(n=(e=C(this,Qn,VC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},Jie=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:C(this,Qn,Xie),fontSize:C(this,Qn,OF)?`calc(${C(this,Qn,OF)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:i});return r},Qie=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&C(this,_c))&&re(this,Qn,zC).call(this)},Zie=function(){if(C(this,Sc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}}=C(this,x_);let s=!!C(this,rv),a=s?C(this,rv):C(this,__);for(const m of C(this,w_))if(!a||At.intersect(m.data.rect,a)!==null){a=m.data.rect,s=!0;break}const l=At.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=s?a[2]-a[0]+5:0,d=l[0]+c,h=l[1];ne(this,Sc,[100*(d-i)/n,100*(h-o)/r]);const{style:p}=C(this,Dr);p.left=`${C(this,Sc)[0]}%`,p.top=`${C(this,Sc)[1]}%`},zC=function(){ne(this,_c,!C(this,_c)),C(this,_c)?(re(this,Qn,UC).call(this),C(this,Dr).addEventListener("click",C(this,nv)),C(this,Dr).addEventListener("keydown",C(this,tv))):(re(this,Qn,FF).call(this),C(this,Dr).removeEventListener("click",C(this,nv)),C(this,Dr).removeEventListener("keydown",C(this,tv)))},UC=function(){C(this,ja)||this.render(),this.isVisible?C(this,_c)&&C(this,Dr).classList.add("focused"):(re(this,Qn,Zie).call(this),C(this,Dr).hidden=!1,C(this,Dr).style.zIndex=parseInt(C(this,Dr).style.zIndex)+1e3)},FF=function(){C(this,Dr).classList.remove("focused"),!(C(this,_c)||!this.isVisible)&&(C(this,Dr).hidden=!0,C(this,Dr).style.zIndex=parseInt(C(this,Dr).style.zIndex)-1e3)};class eoe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Tn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var E_;class X8e extends Hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,E_,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Hc(n.rect),o=this.svgFactory.create(r,i,!0),s=ne(this,E_,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,E_)}addHighlightArea(){this.container.classList.add("highlightArea")}}E_=new WeakMap;var C_;class J8e extends Hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,C_,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Hc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ne(this,C_,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",r-s),a.setAttribute("height",i-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,C_)}addHighlightArea(){this.container.classList.add("highlightArea")}}C_=new WeakMap;var T_;class Q8e extends Hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,T_,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Hc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ne(this,T_,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-s/2),a.setAttribute("ry",i/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,T_)}addHighlightArea(){this.container.classList.add("highlightArea")}}T_=new WeakMap;var A_;class toe extends Hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,A_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:o}}=this;if(!r)return this.container;const{width:s,height:a}=Hc(n),l=this.svgFactory.create(s,a,!0);let u=[];for(let d=0,h=r.length;d<h;d+=2){const p=r[d]-n[0],m=n[3]-r[d+1];u.push(`${p},${m}`)}u=u.join(" ");const c=ne(this,A_,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,A_)}addHighlightArea(){this.container.classList.add("highlightArea")}}A_=new WeakMap;class Z8e extends toe{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eWe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var R_;class noe extends Hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,R_,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Tn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:o}}=this,{width:s,height:a}=Hc(n),l=this.svgFactory.create(s,a,!0);for(const u of r){let c=[];for(let h=0,p=u.length;h<p;h+=2){const m=u[h]-n[0],y=n[3]-u[h+1];c.push(`${m},${y}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);C(this,R_).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return C(this,R_)}addHighlightArea(){this.container.classList.add("highlightArea")}}R_=new WeakMap;class tWe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nWe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class rWe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class iWe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class roe extends Hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var P_,I_,$F;class oWe extends Hr{constructor(n){var i;super(n,{isRenderable:!0});ie(this,I_);ie(this,P_,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",re(this,I_,$F).bind(this)),ne(this,P_,i);const{isMac:o}=Qo.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(o?s.metaKey:s.ctrlKey)&&re(this,I_,$F).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return C(this,P_)}addHighlightArea(){this.container.classList.add("highlightArea")}}P_=new WeakMap,I_=new WeakSet,$F=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var k_,yp,iv,ig,ioe,BF;class sWe{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:s}){ie(this,ig);ie(this,k_,null);ie(this,yp,null);ie(this,iv,new Map);this.div=e,ne(this,k_,n),ne(this,yp,r),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var s;const{annotations:n}=e,r=this.div;eg(r,this.viewport);const i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new T3,annotationStorage:e.annotationStorage||new k3,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===ai.POPUP;if(l){const d=i.get(a.id);if(!d)continue;o.elements=d}else{const{width:d,height:h}=Hc(a.rect);if(d<=0||h<=0)continue}o.data=a;const u=U8e.create(o);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(u):i.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),re(this,ig,ioe).call(this,c,a.id),u.annotationEditorType>0&&(C(this,iv).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}re(this,ig,BF).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,eg(n,{rotation:e.rotation}),re(this,ig,BF).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(C(this,iv).values())}getEditableAnnotation(e){return C(this,iv).get(e)}}k_=new WeakMap,yp=new WeakMap,iv=new WeakMap,ig=new WeakSet,ioe=function(e,n){var i;const r=e.firstChild||e;r.id=`${Xre}${n}`,this.div.append(e),(i=C(this,k_))==null||i.moveElementInDOM(this.div,e,r,!1)},BF=function(){if(!C(this,yp))return;const e=this.div;for(const[n,r]of C(this,yp)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r)}C(this,yp).clear()};const K1=/\r\n?|\n/g;var M_,N_,D_,L_,O_,Wa,As,F_,Rs,ov,ni,ooe,soe,aoe,HC,jc,qC,jC,loe,zF,uoe;const sr=class sr extends Wn{constructor(n){super({...n,name:"freeTextEditor"});ie(this,ni);ie(this,M_,this.editorDivBlur.bind(this));ie(this,N_,this.editorDivFocus.bind(this));ie(this,D_,this.editorDivInput.bind(this));ie(this,L_,this.editorDivKeydown.bind(this));ie(this,O_,this.editorDivPaste.bind(this));ie(this,Wa);ie(this,As,"");ie(this,F_,`${this.id}-editor`);ie(this,Rs);ie(this,ov,null);ne(this,Wa,n.color||sr._defaultColor||Wn._defaultLineColor),ne(this,Rs,n.fontSize||sr._defaultFontSize)}static get _keyboardManager(){const n=sr.prototype,r=s=>s.isEmpty(),i=tg.TRANSLATE_SMALL,o=tg.TRANSLATE_BIG;return In(this,"_keyboardManager",new FS([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}]]))}static initialize(n,r){Wn.initialize(n,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Xt.FREETEXT_SIZE:sr._defaultFontSize=r;break;case Xt.FREETEXT_COLOR:sr._defaultColor=r;break}}updateParams(n,r){switch(n){case Xt.FREETEXT_SIZE:re(this,ni,ooe).call(this,r);break;case Xt.FREETEXT_COLOR:re(this,ni,soe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Xt.FREETEXT_SIZE,sr._defaultFontSize],[Xt.FREETEXT_COLOR,sr._defaultColor||Wn._defaultLineColor]]}get propertiesToUpdate(){return[[Xt.FREETEXT_SIZE,C(this,Rs)],[Xt.FREETEXT_COLOR,C(this,Wa)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-sr._internalPadding*n,-(sr._internalPadding+C(this,Rs))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Tn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",C(this,L_),{signal:n}),this.editorDiv.addEventListener("focus",C(this,N_),{signal:n}),this.editorDiv.addEventListener("blur",C(this,M_),{signal:n}),this.editorDiv.addEventListener("input",C(this,D_),{signal:n}),this.editorDiv.addEventListener("paste",C(this,O_),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",C(this,F_)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",C(this,L_)),this.editorDiv.removeEventListener("focus",C(this,N_)),this.editorDiv.removeEventListener("blur",C(this,M_)),this.editorDiv.removeEventListener("input",C(this,D_)),this.editorDiv.removeEventListener("paste",C(this,O_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=C(this,As),r=ne(this,As,re(this,ni,aoe).call(this).trimEnd());if(n===r)return;const i=o=>{if(ne(this,As,o),!o){this.remove();return}re(this,ni,jC).call(this),this._uiManager.rebuild(this),re(this,ni,HC).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),re(this,ni,HC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){sr._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",C(this,F_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Wn._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var s;return(s=this.editorDiv)==null?void 0:s.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${C(this,Rs)}px * var(--scale-factor))`,i.color=C(this,Wa),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),oA(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=C(this,ov);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[h,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=n+(a[0]-h)/c,y=r+this.height-(a[1]-p)/d;break;case 90:m=n+(a[0]-h)/c,y=r-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(a[0]-h)/c,y=r-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:m=n+(a[0]-h-this.height*d)/c,y=r+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*o,y*s,l,u)}else this.setAt(n*o,r*s,this.width*o,this.height*s);re(this,ni,jC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,y,w;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const o=re(m=sr,jc,zF).call(m,r.getData("text")||"").replaceAll(K1,`
`);if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!o.includes(`
`)){a.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const _=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(K1,"")),_!==this.editorDiv){let E=c;for(const S of this.editorDiv.childNodes){if(S===_){E=d;continue}E.push(re(y=sr,jc,qC).call(y,S))}}c.push(l.nodeValue.slice(0,u).replaceAll(K1,""))}else if(l===this.editorDiv){let _=c,E=0;for(const S of this.editorDiv.childNodes)E++===u&&(_=d),_.push(re(w=sr,jc,qC).call(w,S))}ne(this,As,`${c.join(`
`)}${o}${d.join(`
`)}`),re(this,ni,jC).call(this);const h=new Range;let p=c.reduce((_,E)=>_+E.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const E=_.nodeValue.length;if(p<=E){h.setStart(_,p),h.setEnd(_,p);break}p-=E}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(n,r,i){var a;let o=null;if(n instanceof eoe){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:h},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=n;if(!p||p.length===0)return null;o=n={annotationType:Tn.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:c.slice(0),rotation:d,id:h,deleted:!1}}const s=super.deserialize(n,r,i);return ne(s,Rs,n.fontSize),ne(s,Wa,At.makeHexColor(...n.color)),ne(s,As,re(a=sr,jc,zF).call(a,n.value)),s.annotationElementId=n.id||null,ne(s,ov,o),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=sr._internalPadding*this.parentScale,i=this.getRect(r,r),o=Wn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:C(this,Wa)),s={annotationType:Tn.FREETEXT,color:o,fontSize:C(this,Rs),value:re(this,ni,loe).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!re(this,ni,uoe).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${C(this,Rs)}px * var(--scale-factor))`,i.color=C(this,Wa),r.replaceChildren();for(const s of C(this,As).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}const o=sr._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:C(this,As)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};M_=new WeakMap,N_=new WeakMap,D_=new WeakMap,L_=new WeakMap,O_=new WeakMap,Wa=new WeakMap,As=new WeakMap,F_=new WeakMap,Rs=new WeakMap,ov=new WeakMap,ni=new WeakSet,ooe=function(n){const r=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-C(this,Rs))*this.parentScale),ne(this,Rs,o),re(this,ni,HC).call(this)},i=C(this,Rs);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},soe=function(n){const r=o=>{ne(this,Wa,this.editorDiv.style.color=o)},i=C(this,Wa);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aoe=function(){var r;const n=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)n.push(re(r=sr,jc,qC).call(r,i));return n.join(`
`)},HC=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,a=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},jc=new WeakSet,qC=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(K1,"")},jC=function(){if(this.editorDiv.replaceChildren(),!!C(this,As))for(const n of C(this,As).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},loe=function(){return C(this,As).replaceAll(" "," ")},zF=function(n){return n.replaceAll(" "," ")},uoe=function(n){const{value:r,fontSize:i,color:o,pageIndex:s}=C(this,ov);return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,l)=>a!==o[l])||n.pageIndex!==s},ie(sr,jc),ht(sr,"_freeTextDefaultContent",""),ht(sr,"_internalPadding",0),ht(sr,"_defaultColor",null),ht(sr,"_defaultFontSize",10),ht(sr,"_type","freetext"),ht(sr,"_editorType",Tn.FREETEXT);let VF=sr;var $_,hf,Ga,To,coe,WC,doe,foe,HF;class UF{constructor(e,n=0,r=0,i=!0){ie(this,To);ie(this,$_);ie(this,hf,[]);ie(this,Ga,[]);let o=1/0,s=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:w,y:_,width:E,height:S}of e){const T=Math.floor((w-n)/u)*u,I=Math.ceil((w+E+n)/u)*u,N=Math.floor((_-n)/u)*u,P=Math.ceil((_+S+n)/u)*u,M=[T,N,P,!0],D=[I,N,P,!1];C(this,hf).push(M,D),o=Math.min(o,T),s=Math.max(s,I),a=Math.min(a,N),l=Math.max(l,P)}const c=s-o+2*r,d=l-a+2*r,h=o-r,p=a-r,m=C(this,hf).at(i?-1:-2),y=[m[0],m[2]];for(const w of C(this,hf)){const[_,E,S]=w;w[0]=(_-h)/c,w[1]=(E-p)/d,w[2]=(S-p)/d}ne(this,$_,{x:h,y:p,width:c,height:d,lastPoint:y})}getOutlines(){C(this,hf).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of C(this,hf))n[3]?(e.push(...re(this,To,HF).call(this,n)),re(this,To,doe).call(this,n)):(re(this,To,foe).call(this,n),e.push(...re(this,To,HF).call(this,n)));return re(this,To,coe).call(this,e)}}$_=new WeakMap,hf=new WeakMap,Ga=new WeakMap,To=new WeakSet,coe=function(e){const n=[],r=new Set;for(const s of e){const[a,l,u]=s;n.push([a,l,s],[a,u,s])}n.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=n.length;s<a;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let o;for(;r.size>0;){const s=r.values().next().value;let[a,l,u,c,d]=s;r.delete(s);let h=a,p=l;for(o=[a,u],i.push(o);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[a,l,u,c,d]=m,h!==a&&(o.push(h,p,a,p===l?l:u),h=a),p=p===l?u:l}o.push(h,p)}return new aWe(i,C(this,$_))},WC=function(e){const n=C(this,Ga);let r=0,i=n.length-1;for(;r<=i;){const o=r+i>>1,s=n[o][0];if(s===e)return o;s<e?r=o+1:i=o-1}return i+1},doe=function([,e,n]){const r=re(this,To,WC).call(this,e);C(this,Ga).splice(r,0,[e,n])},foe=function([,e,n]){const r=re(this,To,WC).call(this,e);for(let i=r;i<C(this,Ga).length;i++){const[o,s]=C(this,Ga)[i];if(o!==e)break;if(o===e&&s===n){C(this,Ga).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[o,s]=C(this,Ga)[i];if(o!==e)break;if(o===e&&s===n){C(this,Ga).splice(i,1);return}}},HF=function(e){const[n,r,i]=e,o=[[n,r,i]],s=re(this,To,WC).call(this,i);for(let a=0;a<s;a++){const[l,u]=C(this,Ga)[a];for(let c=0,d=o.length;c<d;c++){const[,h,p]=o[c];if(!(u<=h||p<=l)){if(h>=l){if(p>u)o[c][1]=u;else{if(d===1)return[];o.splice(c,1),c--,d--}continue}o[c][2]=l,p>u&&o.push([n,u,p])}}}return o};class hoe{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof jF}}var B_,sv;class aWe extends hoe{constructor(n,r){super();ie(this,B_);ie(this,sv);ne(this,sv,n),ne(this,B_,r)}toSVGPath(){const n=[];for(const r of C(this,sv)){let[i,o]=r;n.push(`M${i} ${o}`);for(let s=2;s<r.length;s+=2){const a=r[s],l=r[s+1];a===i?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,o],s){const a=[],l=i-n,u=o-r;for(const c of C(this,sv)){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=n+c[h]*l,d[h+1]=o-c[h+1]*u;a.push(d)}return a}get box(){return C(this,B_)}}B_=new WeakMap,sv=new WeakMap;var Kl,Cc,av,lv,Yl,bn,vp,bp,V_,z_,uv,cv,pf,U_,FA,$A,H_,qF;const ac=class ac{constructor({x:e,y:n},r,i,o,s,a=0){ie(this,H_);ie(this,Kl);ie(this,Cc,[]);ie(this,av);ie(this,lv);ie(this,Yl,[]);ie(this,bn,new Float64Array(18));ie(this,vp);ie(this,bp);ie(this,V_);ie(this,z_);ie(this,uv);ie(this,cv);ie(this,pf,[]);ne(this,Kl,r),ne(this,cv,o*i),ne(this,lv,s),C(this,bn).set([NaN,NaN,NaN,NaN,e,n],6),ne(this,av,a),ne(this,z_,C(ac,U_)*i),ne(this,V_,C(ac,$A)*i),ne(this,uv,i),C(this,pf).push(e,n)}get free(){return!0}isEmpty(){return isNaN(C(this,bn)[8])}add({x:e,y:n}){var D;ne(this,vp,e),ne(this,bp,n);const[r,i,o,s]=C(this,Kl);let[a,l,u,c]=C(this,bn).subarray(8,12);const d=e-u,h=n-c,p=Math.hypot(d,h);if(p<C(this,V_))return!1;const m=p-C(this,z_),y=m/p,w=y*d,_=y*h;let E=a,S=l;a=u,l=c,u+=w,c+=_,(D=C(this,pf))==null||D.push(e,n);const T=-_/m,I=w/m,N=T*C(this,cv),P=I*C(this,cv);return C(this,bn).set(C(this,bn).subarray(2,8),0),C(this,bn).set([u+N,c+P],4),C(this,bn).set(C(this,bn).subarray(14,18),12),C(this,bn).set([u-N,c-P],16),isNaN(C(this,bn)[6])?(C(this,Yl).length===0&&(C(this,bn).set([a+N,l+P],2),C(this,Yl).push(NaN,NaN,NaN,NaN,(a+N-r)/o,(l+P-i)/s),C(this,bn).set([a-N,l-P],14),C(this,Cc).push(NaN,NaN,NaN,NaN,(a-N-r)/o,(l-P-i)/s)),C(this,bn).set([E,S,a,l,u,c],6),!this.isEmpty()):(C(this,bn).set([E,S,a,l,u,c],6),Math.abs(Math.atan2(S-l,E-a)-Math.atan2(_,w))<Math.PI/2?([a,l,u,c]=C(this,bn).subarray(2,6),C(this,Yl).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/o,((l+c)/2-i)/s),[a,l,E,S]=C(this,bn).subarray(14,18),C(this,Cc).push(NaN,NaN,NaN,NaN,((E+a)/2-r)/o,((S+l)/2-i)/s),!0):([E,S,a,l,u,c]=C(this,bn).subarray(0,6),C(this,Yl).push(((E+5*a)/6-r)/o,((S+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),[u,c,a,l,E,S]=C(this,bn).subarray(12,18),C(this,Cc).push(((E+5*a)/6-r)/o,((S+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=C(this,Yl),n=C(this,Cc),r=C(this,bn).subarray(4,6),i=C(this,bn).subarray(16,18),[o,s,a,l]=C(this,Kl),[u,c,d,h]=re(this,H_,qF).call(this);if(isNaN(C(this,bn)[6])&&!this.isEmpty())return`M${(C(this,bn)[2]-o)/a} ${(C(this,bn)[3]-s)/l} L${(C(this,bn)[4]-o)/a} ${(C(this,bn)[5]-s)/l} L${u} ${c} L${d} ${h} L${(C(this,bn)[16]-o)/a} ${(C(this,bn)[17]-s)/l} L${(C(this,bn)[14]-o)/a} ${(C(this,bn)[15]-s)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-o)/a} ${(r[1]-s)/l} L${u} ${c} L${d} ${h} L${(i[0]-o)/a} ${(i[1]-s)/l}`);for(let m=n.length-6;m>=6;m-=6)isNaN(n[m])?p.push(`L${n[m+4]} ${n[m+5]}`):p.push(`C${n[m]} ${n[m+1]} ${n[m+2]} ${n[m+3]} ${n[m+4]} ${n[m+5]}`);return p.push(`L${n[4]} ${n[5]} Z`),p.join(" ")}getOutlines(){var _;const e=C(this,Yl),n=C(this,Cc),r=C(this,bn),i=r.subarray(4,6),o=r.subarray(16,18),[s,a,l,u]=C(this,Kl),c=new Float64Array((((_=C(this,pf))==null?void 0:_.length)??0)+2);for(let E=0,S=c.length-2;E<S;E+=2)c[E]=(C(this,pf)[E]-s)/l,c[E+1]=(C(this,pf)[E+1]-a)/u;c[c.length-2]=(C(this,vp)-s)/l,c[c.length-1]=(C(this,bp)-a)/u;const[d,h,p,m]=re(this,H_,qF).call(this);if(isNaN(r[6])&&!this.isEmpty()){const E=new Float64Array(36);return E.set([NaN,NaN,NaN,NaN,(r[2]-s)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-s)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-s)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-s)/l,(r[15]-a)/u],0),new jF(E,c,C(this,Kl),C(this,uv),C(this,av),C(this,lv))}const y=new Float64Array(C(this,Yl).length+24+C(this,Cc).length);let w=e.length;for(let E=0;E<w;E+=2){if(isNaN(e[E])){y[E]=y[E+1]=NaN;continue}y[E]=e[E],y[E+1]=e[E+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(o[0]-s)/l,(o[1]-a)/u],w),w+=24;for(let E=n.length-6;E>=6;E-=6)for(let S=0;S<6;S+=2){if(isNaN(n[E+S])){y[w]=y[w+1]=NaN,w+=2;continue}y[w]=n[E+S],y[w+1]=n[E+S+1],w+=2}return y.set([NaN,NaN,NaN,NaN,n[4],n[5]],w),new jF(y,c,C(this,Kl),C(this,uv),C(this,av),C(this,lv))}};Kl=new WeakMap,Cc=new WeakMap,av=new WeakMap,lv=new WeakMap,Yl=new WeakMap,bn=new WeakMap,vp=new WeakMap,bp=new WeakMap,V_=new WeakMap,z_=new WeakMap,uv=new WeakMap,cv=new WeakMap,pf=new WeakMap,U_=new WeakMap,FA=new WeakMap,$A=new WeakMap,H_=new WeakSet,qF=function(){const e=C(this,bn).subarray(4,6),n=C(this,bn).subarray(16,18),[r,i,o,s]=C(this,Kl);return[(C(this,vp)+(e[0]-n[0])/2-r)/o,(C(this,bp)+(e[1]-n[1])/2-i)/s,(C(this,vp)+(n[0]-e[0])/2-r)/o,(C(this,bp)+(n[1]-e[1])/2-i)/s]},ie(ac,U_,8),ie(ac,FA,2),ie(ac,$A,C(ac,U_)+C(ac,FA));let lA=ac;var dv,wp,Tc,q_,Ps,j_,zr,es,fw,hw,poe;class jF extends hoe{constructor(n,r,i,o,s,a){super();ie(this,es);ie(this,dv);ie(this,wp,null);ie(this,Tc);ie(this,q_);ie(this,Ps);ie(this,j_);ie(this,zr);ne(this,zr,n),ne(this,Ps,r),ne(this,dv,i),ne(this,j_,o),ne(this,Tc,s),ne(this,q_,a),re(this,es,poe).call(this,a);const{x:l,y:u,width:c,height:d}=C(this,wp);for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-l)/c,n[h+1]=(n[h+1]-u)/d;for(let h=0,p=r.length;h<p;h+=2)r[h]=(r[h]-l)/c,r[h+1]=(r[h+1]-u)/d}toSVGPath(){const n=[`M${C(this,zr)[4]} ${C(this,zr)[5]}`];for(let r=6,i=C(this,zr).length;r<i;r+=6){if(isNaN(C(this,zr)[r])){n.push(`L${C(this,zr)[r+4]} ${C(this,zr)[r+5]}`);continue}n.push(`C${C(this,zr)[r]} ${C(this,zr)[r+1]} ${C(this,zr)[r+2]} ${C(this,zr)[r+3]} ${C(this,zr)[r+4]} ${C(this,zr)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,o],s){const a=i-n,l=o-r;let u,c;switch(s){case 0:u=re(this,es,fw).call(this,C(this,zr),n,o,a,-l),c=re(this,es,fw).call(this,C(this,Ps),n,o,a,-l);break;case 90:u=re(this,es,hw).call(this,C(this,zr),n,r,a,l),c=re(this,es,hw).call(this,C(this,Ps),n,r,a,l);break;case 180:u=re(this,es,fw).call(this,C(this,zr),i,r,-a,l),c=re(this,es,fw).call(this,C(this,Ps),i,r,-a,l);break;case 270:u=re(this,es,hw).call(this,C(this,zr),i,o,-a,-l),c=re(this,es,hw).call(this,C(this,Ps),i,o,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return C(this,wp)}getNewOutline(n,r){const{x:i,y:o,width:s,height:a}=C(this,wp),[l,u,c,d]=C(this,dv),h=s*c,p=a*d,m=i*c+l,y=o*d+u,w=new lA({x:C(this,Ps)[0]*h+m,y:C(this,Ps)[1]*p+y},C(this,dv),C(this,j_),n,C(this,q_),r??C(this,Tc));for(let _=2;_<C(this,Ps).length;_+=2)w.add({x:C(this,Ps)[_]*h+m,y:C(this,Ps)[_+1]*p+y});return w.getOutlines()}}dv=new WeakMap,wp=new WeakMap,Tc=new WeakMap,q_=new WeakMap,Ps=new WeakMap,j_=new WeakMap,zr=new WeakMap,es=new WeakSet,fw=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l]*o,a[l+1]=i+n[l+1]*s;return a},hw=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l+1]*o,a[l+1]=i+n[l]*s;return a},poe=function(n){const r=C(this,zr);let i=r[4],o=r[5],s=i,a=o,l=i,u=o,c=i,d=o;const h=n?Math.max:Math.min;for(let _=6,E=r.length;_<E;_+=6){if(isNaN(r[_]))s=Math.min(s,r[_+4]),a=Math.min(a,r[_+5]),l=Math.max(l,r[_+4]),u=Math.max(u,r[_+5]),d<r[_+5]?(c=r[_+4],d=r[_+5]):d===r[_+5]&&(c=h(c,r[_+4]));else{const S=At.bezierBoundingBox(i,o,...r.slice(_,_+6));s=Math.min(s,S[0]),a=Math.min(a,S[1]),l=Math.max(l,S[2]),u=Math.max(u,S[3]),d<S[3]?(c=S[2],d=S[3]):d===S[3]&&(c=h(c,S[2]))}i=r[_+4],o=r[_+5]}const p=s-C(this,Tc),m=a-C(this,Tc),y=l-s+2*C(this,Tc),w=u-a+2*C(this,Tc);ne(this,wp,{x:p,y:m,width:y,height:w,lastPoint:[c,d]})};var W_,G_,Ka,xp,fv,ci,K_,hv,Y_,X_,Ya,pv,ir,WF,GF,goe,Ph,moe,Gd;const lc=class lc{constructor({editor:e=null,uiManager:n=null}){ie(this,ir);ie(this,W_,re(this,ir,goe).bind(this));ie(this,G_,re(this,ir,moe).bind(this));ie(this,Ka,null);ie(this,xp,null);ie(this,fv);ie(this,ci,null);ie(this,K_,!1);ie(this,hv,!1);ie(this,Y_,null);ie(this,X_);ie(this,Ya,null);ie(this,pv);var r;e?(ne(this,hv,!1),ne(this,pv,Xt.HIGHLIGHT_COLOR),ne(this,Y_,e)):(ne(this,hv,!0),ne(this,pv,Xt.HIGHLIGHT_DEFAULT_COLOR)),ne(this,Ya,(e==null?void 0:e._uiManager)||n),ne(this,X_,C(this,Ya)._eventBus),ne(this,fv,(e==null?void 0:e.color)||((r=C(this,Ya))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return In(this,"_keyboardManager",new FS([[["Escape","mac+Escape"],lc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],lc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],lc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],lc.prototype._moveToPrevious],[["Home","mac+Home"],lc.prototype._moveToBeginning],[["End","mac+End"],lc.prototype._moveToEnd]]))}renderButton(){const e=ne(this,Ka,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=C(this,Ya)._signal;e.addEventListener("click",re(this,ir,Ph).bind(this),{signal:n}),e.addEventListener("keydown",C(this,W_),{signal:n});const r=ne(this,xp,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=C(this,fv),e.append(r),e}renderMainDropdown(){const e=ne(this,ci,re(this,ir,WF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===C(this,Ka)){re(this,ir,Ph).call(this,e);return}const n=e.target.getAttribute("data-color");n&&re(this,ir,GF).call(this,n,e)}_moveToNext(e){var n,r;if(!C(this,ir,Gd)){re(this,ir,Ph).call(this,e);return}if(e.target===C(this,Ka)){(n=C(this,ci).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=C(this,ci))==null?void 0:n.firstChild)||e.target===C(this,Ka)){C(this,ir,Gd)&&this._hideDropdownFromKeyboard();return}C(this,ir,Gd)||re(this,ir,Ph).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!C(this,ir,Gd)){re(this,ir,Ph).call(this,e);return}(n=C(this,ci).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!C(this,ir,Gd)){re(this,ir,Ph).call(this,e);return}(n=C(this,ci).lastChild)==null||n.focus()}hideDropdown(){var e;(e=C(this,ci))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",C(this,G_))}_hideDropdownFromKeyboard(){var e;if(!C(this,hv)){if(!C(this,ir,Gd)){(e=C(this,Y_))==null||e.unselect();return}this.hideDropdown(),C(this,Ka).focus({preventScroll:!0,focusVisible:C(this,K_)})}}updateColor(e){if(C(this,xp)&&(C(this,xp).style.backgroundColor=e),!C(this,ci))return;const n=C(this,Ya).highlightColors.values();for(const r of C(this,ci).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=C(this,Ka))==null||e.remove(),ne(this,Ka,null),ne(this,xp,null),(n=C(this,ci))==null||n.remove(),ne(this,ci,null)}};W_=new WeakMap,G_=new WeakMap,Ka=new WeakMap,xp=new WeakMap,fv=new WeakMap,ci=new WeakMap,K_=new WeakMap,hv=new WeakMap,Y_=new WeakMap,X_=new WeakMap,Ya=new WeakMap,pv=new WeakMap,ir=new WeakSet,WF=function(){const e=document.createElement("div"),n=C(this,Ya)._signal;e.addEventListener("contextmenu",is,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of C(this,Ya).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.setAttribute("aria-selected",i===C(this,fv)),o.addEventListener("click",re(this,ir,GF).bind(this,i),{signal:n}),e.append(o)}return e.addEventListener("keydown",C(this,W_),{signal:n}),e},GF=function(e,n){n.stopPropagation(),C(this,X_).dispatch("switchannotationeditorparams",{source:this,type:C(this,pv),value:e})},goe=function(e){lc._keyboardManager.exec(this,e)},Ph=function(e){if(C(this,ir,Gd)){this.hideDropdown();return}if(ne(this,K_,e.detail===0),window.addEventListener("pointerdown",C(this,G_),{signal:C(this,Ya)._signal}),C(this,ci)){C(this,ci).classList.remove("hidden");return}const n=ne(this,ci,re(this,ir,WF).call(this));C(this,Ka).append(n)},moe=function(e){var n;(n=C(this,ci))!=null&&n.contains(e.target)||this.hideDropdown()},Gd=function(){return C(this,ci)&&!C(this,ci).classList.contains("hidden")};let uA=lc;var gv,J_,gf,_p,mv,na,Q_,Z_,Sp,Xa,xo,Is,BA,yv,Ep,di,vv,Xl,eS,gn,KF,YF,yoe,voe,boe,XF,pw,ca,ay,woe,GC,gw,xoe,_oe,Soe,Eoe;const Fn=class Fn extends Wn{constructor(n){super({...n,name:"highlightEditor"});ie(this,gn);ie(this,gv,null);ie(this,J_,0);ie(this,gf);ie(this,_p,null);ie(this,mv,null);ie(this,na,null);ie(this,Q_,null);ie(this,Z_,0);ie(this,Sp,null);ie(this,Xa,null);ie(this,xo,null);ie(this,Is,!1);ie(this,BA,re(this,gn,woe).bind(this));ie(this,yv,null);ie(this,Ep);ie(this,di,null);ie(this,vv,"");ie(this,Xl);ie(this,eS,"");this.color=n.color||Fn._defaultColor,ne(this,Xl,n.thickness||Fn._defaultThickness),ne(this,Ep,n.opacity||Fn._defaultOpacity),ne(this,gf,n.boxes||null),ne(this,eS,n.methodOfCreation||""),ne(this,vv,n.text||""),this._isDraggable=!1,n.highlightId>-1?(ne(this,Is,!0),re(this,gn,YF).call(this,n),re(this,gn,pw).call(this)):(ne(this,gv,n.anchorNode),ne(this,J_,n.anchorOffset),ne(this,Q_,n.focusNode),ne(this,Z_,n.focusOffset),re(this,gn,KF).call(this),re(this,gn,pw).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=Fn.prototype;return In(this,"_keyboardManager",new FS([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:C(this,Is)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:C(this,Xl),methodOfCreation:C(this,eS)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;Wn.initialize(n,r),Fn._defaultColor||(Fn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Xt.HIGHLIGHT_DEFAULT_COLOR:Fn._defaultColor=r;break;case Xt.HIGHLIGHT_THICKNESS:Fn._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return C(this,yv)}updateParams(n,r){switch(n){case Xt.HIGHLIGHT_COLOR:re(this,gn,yoe).call(this,r);break;case Xt.HIGHLIGHT_THICKNESS:re(this,gn,voe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Xt.HIGHLIGHT_DEFAULT_COLOR,Fn._defaultColor],[Xt.HIGHLIGHT_THICKNESS,Fn._defaultThickness]]}get propertiesToUpdate(){return[[Xt.HIGHLIGHT_COLOR,this.color||Fn._defaultColor],[Xt.HIGHLIGHT_THICKNESS,C(this,Xl)||Fn._defaultThickness],[Xt.HIGHLIGHT_FREE,C(this,Is)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(ne(this,mv,new uA({editor:this})),n.addColorPicker(C(this,mv))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(re(this,gn,gw).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,re(this,gn,gw).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){re(this,gn,XF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,gn,pw).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?re(this,gn,XF).call(this):n&&(re(this,gn,pw).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var o,s,a;const{drawLayer:r}=this.parent;let i;C(this,Is)?(n=(n-this.rotation+360)%360,i=re(o=Fn,ca,ay).call(o,C(this,Xa).box,n)):i=re(s=Fn,ca,ay).call(s,this,n),r.rotate(C(this,xo),n),r.rotate(C(this,di),n),r.updateBox(C(this,xo),i),r.updateBox(C(this,di),re(a=Fn,ca,ay).call(a,C(this,na).box,n))}render(){if(this.div)return this.div;const n=super.render();C(this,vv)&&(n.setAttribute("aria-label",C(this,vv)),n.setAttribute("role","mark")),C(this,Is)?n.classList.add("free"):this.div.addEventListener("keydown",C(this,BA),{signal:this._uiManager._signal});const r=ne(this,Sp,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=C(this,_p);const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),oA(this,C(this,Sp),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(C(this,di),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(C(this,di),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:re(this,gn,GC).call(this,!0);break;case 1:case 3:re(this,gn,GC).call(this,!1);break}}select(){var n,r;super.select(),C(this,di)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,di),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(C(this,di),"selected"))}unselect(){var n;super.unselect(),C(this,di)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,di),"selected"),C(this,Is)||re(this,gn,GC).call(this,!1))}get _mustFixPosition(){return!C(this,Is)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(C(this,xo),n),this.parent.drawLayer.show(C(this,di),n))}static startHighlighting(n,r,{target:i,x:o,y:s}){const{x:a,y:l,width:u,height:c}=i.getBoundingClientRect(),d=w=>{re(this,ca,Soe).call(this,n,w)},h=n._signal,p={capture:!0,passive:!1,signal:h},m=w=>{w.preventDefault(),w.stopPropagation()},y=w=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",is),re(this,ca,Eoe).call(this,n,w)};window.addEventListener("blur",y,{signal:h}),window.addEventListener("pointerup",y,{signal:h}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",is,{signal:h}),i.addEventListener("pointermove",d,{signal:h}),this._freeHighlight=new lA({x:o,y:s},[a,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,r,i){var y;const o=super.deserialize(n,r,i),{rect:[s,a,l,u],color:c,quadPoints:d}=n;o.color=At.makeHexColor(...c),ne(o,Ep,n.opacity);const[h,p]=o.pageDimensions;o.width=(l-s)/h,o.height=(u-a)/p;const m=ne(o,gf,[]);for(let w=0;w<d.length;w+=8)m.push({x:(d[4]-l)/h,y:(u-(1-d[w+5]))/p,width:(d[w+2]-d[w])/h,height:(d[w+5]-d[w+1])/p});return re(y=o,gn,KF).call(y),o}serialize(n=!1){if(this.isEmpty()||n)return null;const r=this.getRect(0,0),i=Wn._colorManager.convert(this.color);return{annotationType:Tn.HIGHLIGHT,color:i,opacity:C(this,Ep),thickness:C(this,Xl),quadPoints:re(this,gn,xoe).call(this),outlines:re(this,gn,_oe).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:re(this,gn,gw).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};gv=new WeakMap,J_=new WeakMap,gf=new WeakMap,_p=new WeakMap,mv=new WeakMap,na=new WeakMap,Q_=new WeakMap,Z_=new WeakMap,Sp=new WeakMap,Xa=new WeakMap,xo=new WeakMap,Is=new WeakMap,BA=new WeakMap,yv=new WeakMap,Ep=new WeakMap,di=new WeakMap,vv=new WeakMap,Xl=new WeakMap,eS=new WeakMap,gn=new WeakSet,KF=function(){const n=new UF(C(this,gf),.001);ne(this,Xa,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=C(this,Xa).box;const r=new UF(C(this,gf),.0025,.001,this._uiManager.direction==="ltr");ne(this,na,r.getOutlines());const{lastPoint:i}=C(this,na).box;ne(this,yv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},YF=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,h;if(ne(this,Xa,n),ne(this,na,n.getNewOutline(C(this,Xl)/2+1.5,.0025)),r>=0)ne(this,xo,r),ne(this,_p,i),this.parent.drawLayer.finalizeLine(r,n),ne(this,di,this.parent.drawLayer.highlightOutline(C(this,na)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(C(this,xo),n),this.parent.drawLayer.updateBox(C(this,xo),re(d=Fn,ca,ay).call(d,C(this,Xa).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(C(this,di),C(this,na)),this.parent.drawLayer.updateBox(C(this,di),re(h=Fn,ca,ay).call(h,C(this,na).box,p))}const{x:s,y:a,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-s,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:c}=C(this,na).box;ne(this,yv,[(c[0]-s)/l,(c[1]-a)/u])},yoe=function(n){const r=o=>{var s,a;this.color=o,(s=this.parent)==null||s.drawLayer.changeColor(C(this,xo),o),(a=C(this,mv))==null||a.updateColor(o)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},voe=function(n){const r=C(this,Xl),i=o=>{ne(this,Xl,o),re(this,gn,boe).call(this,o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},boe=function(n){if(!C(this,Is))return;re(this,gn,YF).call(this,{highlightOutlines:C(this,Xa).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},XF=function(){C(this,xo)===null||!this.parent||(this.parent.drawLayer.remove(C(this,xo)),ne(this,xo,null),this.parent.drawLayer.remove(C(this,di)),ne(this,di,null))},pw=function(n=this.parent){C(this,xo)===null&&({id:vs(this,xo)._,clipPathId:vs(this,_p)._}=n.drawLayer.highlight(C(this,Xa),this.color,C(this,Ep)),ne(this,di,n.drawLayer.highlightOutline(C(this,na))),C(this,Sp)&&(C(this,Sp).style.clipPath=C(this,_p)))},ca=new WeakSet,ay=function({x:n,y:r,width:i,height:o},s){switch(s){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}},woe=function(n){Fn._keyboardManager.exec(this,n)},GC=function(n){if(!C(this,gv))return;const r=window.getSelection();n?r.setPosition(C(this,gv),C(this,J_)):r.setPosition(C(this,Q_),C(this,Z_))},gw=function(){return C(this,Is)?this.rotation:0},xoe=function(){if(C(this,Is))return null;const[n,r]=this.pageDimensions,i=C(this,gf),o=new Float32Array(i.length*8);let s=0;for(const{x:a,y:l,width:u,height:c}of i){const d=a*n,h=(1-l-c)*r;o[s]=o[s+4]=d,o[s+1]=o[s+3]=h,o[s+2]=o[s+6]=d+u*n,o[s+5]=o[s+7]=h+c*r,s+=8}return o},_oe=function(n){return C(this,Xa).serialize(n,re(this,gn,gw).call(this))},Soe=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Eoe=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ie(Fn,ca),ht(Fn,"_defaultColor",null),ht(Fn,"_defaultOpacity",1),ht(Fn,"_defaultThickness",12),ht(Fn,"_l10nPromise"),ht(Fn,"_type","highlight"),ht(Fn,"_editorType",Tn.HIGHLIGHT),ht(Fn,"_freeHighlightId",-1),ht(Fn,"_freeHighlight",null),ht(Fn,"_freeHighlightClipId","");let cA=Fn;var Cp,Tp,tS,nS,rS,Ap,Jl,Ac,ra,Rp,Pp,Rc,Ip,kp,mf,it,Coe,Toe,Aoe,Roe,QF,Poe,ZF,Ioe,koe,Moe,Noe,Doe,Ih,e$,KC,YC,ly,t$,XC,rd,Loe,n$,Ooe,Foe,r$,JC,mw;const Tr=class Tr extends Wn{constructor(n){super({...n,name:"inkEditor"});ie(this,it);ie(this,Cp,0);ie(this,Tp,0);ie(this,tS,this.canvasPointermove.bind(this));ie(this,nS,this.canvasPointerleave.bind(this));ie(this,rS,this.canvasPointerup.bind(this));ie(this,Ap,this.canvasPointerdown.bind(this));ie(this,Jl,null);ie(this,Ac,new Path2D);ie(this,ra,!1);ie(this,Rp,!1);ie(this,Pp,!1);ie(this,Rc,null);ie(this,Ip,0);ie(this,kp,0);ie(this,mf,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){Wn.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case Xt.INK_THICKNESS:Tr._defaultThickness=r;break;case Xt.INK_COLOR:Tr._defaultColor=r;break;case Xt.INK_OPACITY:Tr._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case Xt.INK_THICKNESS:re(this,it,Coe).call(this,r);break;case Xt.INK_COLOR:re(this,it,Toe).call(this,r);break;case Xt.INK_OPACITY:re(this,it,Aoe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Xt.INK_THICKNESS,Tr._defaultThickness],[Xt.INK_COLOR,Tr._defaultColor||Wn._defaultLineColor],[Xt.INK_OPACITY,Math.round(Tr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Xt.INK_THICKNESS,this.thickness||Tr._defaultThickness],[Xt.INK_COLOR,this.color||Tr._defaultColor||Wn._defaultLineColor],[Xt.INK_OPACITY,Math.round(100*(this.opacity??Tr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(re(this,it,KC).call(this),re(this,it,YC).call(this)),this.isAttachedToDOM||(this.parent.add(this),re(this,it,ly).call(this)),re(this,it,mw).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,C(this,Jl)&&(clearTimeout(C(this,Jl)),ne(this,Jl,null)),(n=C(this,Rc))==null||n.disconnect(),ne(this,Rc,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,o=this.height*r;this.setDimensions(i,o)}enableEditMode(){C(this,ra)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",C(this,Ap),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",C(this,Ap)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){C(this,ra)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ne(this,ra,!0),this.div.classList.add("disabled"),re(this,it,mw).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||C(this,ra)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),re(this,it,Poe).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),re(this,it,ZF).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),re(this,it,e$).call(this,n)}canvasPointerleave(n){re(this,it,e$).call(this,n)}get isResizable(){return!this.isEmpty()&&C(this,ra)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,s,a]=re(this,it,Roe).call(this);if(this.setAt(i,o,0,0),this.setDims(s,a),re(this,it,KC).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),ne(this,Pp,!0),re(this,it,ly).call(this),this.setDims(this.width*l,this.height*u),re(this,it,Ih).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return re(this,it,YC).call(this),this.div}setDimensions(n,r){const i=Math.round(n),o=Math.round(r);if(C(this,Ip)===i&&C(this,kp)===o)return;ne(this,Ip,i),ne(this,kp,o),this.canvas.style.visibility="hidden";const[s,a]=this.parentDimensions;this.width=n/s,this.height=r/a,this.fixAndSetPosition(),C(this,ra)&&re(this,it,t$).call(this,n,r),re(this,it,ly).call(this),re(this,it,Ih).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,r,i){var w,_,E;if(n instanceof noe)return null;const o=super.deserialize(n,r,i);o.thickness=n.thickness,o.color=At.makeHexColor(...n.color),o.opacity=n.opacity;const[s,a]=o.pageDimensions,l=o.width*s,u=o.height*a,c=o.parentScale,d=n.thickness/2;ne(o,ra,!0),ne(o,Ip,Math.round(l)),ne(o,kp,Math.round(u));const{paths:h,rect:p,rotation:m}=n;for(let{bezier:S}of h){S=re(w=Tr,rd,Ooe).call(w,S,p,m);const T=[];o.paths.push(T);let I=c*(S[0]-d),N=c*(S[1]-d);for(let M=2,D=S.length;M<D;M+=6){const k=c*(S[M]-d),L=c*(S[M+1]-d),V=c*(S[M+2]-d),$=c*(S[M+3]-d),z=c*(S[M+4]-d),G=c*(S[M+5]-d);T.push([[I,N],[k,L],[V,$],[z,G]]),I=z,N=G}const P=re(this,rd,Loe).call(this,T);o.bezierPath2D.push(P)}const y=re(_=o,it,r$).call(_);return ne(o,Tp,Math.max(Wn.MIN_SIZE,y[2]-y[0])),ne(o,Cp,Math.max(Wn.MIN_SIZE,y[3]-y[1])),re(E=o,it,t$).call(E,l,u),o}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=Wn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Tn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:re(this,it,Foe).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Cp=new WeakMap,Tp=new WeakMap,tS=new WeakMap,nS=new WeakMap,rS=new WeakMap,Ap=new WeakMap,Jl=new WeakMap,Ac=new WeakMap,ra=new WeakMap,Rp=new WeakMap,Pp=new WeakMap,Rc=new WeakMap,Ip=new WeakMap,kp=new WeakMap,mf=new WeakMap,it=new WeakSet,Coe=function(n){const r=o=>{this.thickness=o,re(this,it,mw).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Toe=function(n){const r=o=>{this.color=o,re(this,it,Ih).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Aoe=function(n){const r=o=>{this.opacity=o,re(this,it,Ih).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Roe=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},QF=function(){const{ctx:n,color:r,opacity:i,thickness:o,parentScale:s,scaleFactor:a}=this;n.lineWidth=o*s/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${kje(i)}`},Poe=function(n,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",is,{signal:i}),this.canvas.addEventListener("pointerleave",C(this,nS),{signal:i}),this.canvas.addEventListener("pointermove",C(this,tS),{signal:i}),this.canvas.addEventListener("pointerup",C(this,rS),{signal:i}),this.canvas.removeEventListener("pointerdown",C(this,Ap)),this.isEditing=!0,C(this,Pp)||(ne(this,Pp,!0),re(this,it,ly).call(this),this.thickness||(this.thickness=Tr._defaultThickness),this.color||(this.color=Tr._defaultColor||Wn._defaultLineColor),this.opacity??(this.opacity=Tr._defaultOpacity)),this.currentPath.push([n,r]),ne(this,Rp,!1),re(this,it,QF).call(this),ne(this,mf,()=>{re(this,it,Moe).call(this),C(this,mf)&&window.requestAnimationFrame(C(this,mf))}),window.requestAnimationFrame(C(this,mf))},ZF=function(n,r){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===o)return;const s=this.currentPath;let a=C(this,Ac);if(s.push([n,r]),ne(this,Rp,!0),s.length<=2){a.moveTo(...s[0]),a.lineTo(n,r);return}s.length===3&&(ne(this,Ac,a=new Path2D),a.moveTo(...s[0])),re(this,it,Noe).call(this,a,...s.at(-3),...s.at(-2),n,r)},Ioe=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);C(this,Ac).lineTo(...n)},koe=function(n,r){ne(this,mf,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),re(this,it,ZF).call(this,n,r),re(this,it,Ioe).call(this);let i;if(this.currentPath.length!==1)i=re(this,it,Doe).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const o=C(this,Ac),s=this.currentPath;this.currentPath=[],ne(this,Ac,new Path2D);const a=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(re(this,it,KC).call(this),re(this,it,YC).call(this)),re(this,it,mw).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},Moe=function(){if(!C(this,Rp))return;ne(this,Rp,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),o=r.map(a=>a[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...o)-n,Math.max(...o)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)s.stroke(a);s.stroke(C(this,Ac)),s.restore()},Noe=function(n,r,i,o,s,a,l){const u=(r+o)/2,c=(i+s)/2,d=(o+a)/2,h=(s+l)/2;n.bezierCurveTo(u+2*(o-u)/3,c+2*(s-c)/3,d+2*(o-d)/3,h+2*(s-h)/3,d,h)},Doe=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[o,s]=n[0];for(i=1;i<n.length-2;i++){const[p,m]=n[i],[y,w]=n[i+1],_=(p+y)/2,E=(m+w)/2,S=[o+2*(p-o)/3,s+2*(m-s)/3],T=[_+2*(p-_)/3,E+2*(m-E)/3];r.push([[o,s],S,T,[_,E]]),[o,s]=[_,E]}const[a,l]=n[i],[u,c]=n[i+1],d=[o+2*(a-o)/3,s+2*(l-s)/3],h=[u+2*(a-u)/3,c+2*(l-c)/3];return r.push([[o,s],d,h,[u,c]]),r},Ih=function(){if(this.isEmpty()){re(this,it,XC).call(this);return}re(this,it,QF).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),re(this,it,XC).call(this);for(const i of this.bezierPath2D)r.stroke(i)},e$=function(n){this.canvas.removeEventListener("pointerleave",C(this,nS)),this.canvas.removeEventListener("pointermove",C(this,tS)),this.canvas.removeEventListener("pointerup",C(this,rS)),this.canvas.addEventListener("pointerdown",C(this,Ap),{signal:this._uiManager._signal}),C(this,Jl)&&clearTimeout(C(this,Jl)),ne(this,Jl,setTimeout(()=>{ne(this,Jl,null),this.canvas.removeEventListener("contextmenu",is)},10)),re(this,it,koe).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},KC=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},YC=function(){ne(this,Rc,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),C(this,Rc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,Rc))==null||n.disconnect(),ne(this,Rc,null)},{once:!0})},ly=function(){if(!C(this,Pp))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),re(this,it,XC).call(this)},t$=function(n,r){const i=re(this,it,JC).call(this),o=(n-i)/C(this,Tp),s=(r-i)/C(this,Cp);this.scaleFactor=Math.min(o,s)},XC=function(){const n=re(this,it,JC).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},rd=new WeakSet,Loe=function(n){const r=new Path2D;for(let i=0,o=n.length;i<o;i++){const[s,a,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},n$=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+o,n[u+1]=d+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=a-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},Ooe=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-s,n[u+1]=d-o}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return n},Foe=function(n,r,i,o){var c,d;const s=[],a=this.thickness/2,l=n*r+a,u=n*i+a;for(const h of this.paths){const p=[],m=[];for(let y=0,w=h.length;y<w;y++){const[_,E,S,T]=h[y];if(_[0]===T[0]&&_[1]===T[1]&&w===1){const $=n*_[0]+l,z=n*_[1]+u;p.push($,z),m.push($,z);break}const I=n*_[0]+l,N=n*_[1]+u,P=n*E[0]+l,M=n*E[1]+u,D=n*S[0]+l,k=n*S[1]+u,L=n*T[0]+l,V=n*T[1]+u;y===0&&(p.push(I,N),m.push(I,N)),p.push(P,M,D,k,L,V),m.push(P,M),y===w-1&&m.push(L,V)}s.push({bezier:re(c=Tr,rd,n$).call(c,p,o,this.rotation),points:re(d=Tr,rd,n$).call(d,m,o,this.rotation)})}return s},r$=function(){let n=1/0,r=-1/0,i=1/0,o=-1/0;for(const s of this.paths)for(const[a,l,u,c]of s){const d=At.bezierBoundingBox(...a,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),o=Math.max(o,d[3])}return[n,i,r,o]},JC=function(){return C(this,ra)?Math.ceil(this.thickness*this.parentScale):0},mw=function(n=!1){if(this.isEmpty())return;if(!C(this,ra)){re(this,it,Ih).call(this);return}const r=re(this,it,r$).call(this),i=re(this,it,JC).call(this);ne(this,Tp,Math.max(Wn.MIN_SIZE,r[2]-r[0])),ne(this,Cp,Math.max(Wn.MIN_SIZE,r[3]-r[1]));const o=Math.ceil(i+C(this,Tp)*this.scaleFactor),s=Math.ceil(i+C(this,Cp)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=o/a,this.height=s/l,this.setAspectRatio(o,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],re(this,it,ly).call(this),re(this,it,Ih).call(this),ne(this,Ip,o),ne(this,kp,s),this.setDims(o,s);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},ie(Tr,rd),ht(Tr,"_defaultColor",null),ht(Tr,"_defaultOpacity",1),ht(Tr,"_defaultThickness",1),ht(Tr,"_type","ink"),ht(Tr,"_editorType",Tn.INK);let JF=Tr;var Oi,Fi,yf,Pc,vf,bv,Ql,Ic,Zl,Ja,iS,Ln,yw,vw,QC,o$,$oe,Boe,s$,ZC,Voe;const Uw=class Uw extends Wn{constructor(n){super({...n,name:"stampEditor"});ie(this,Ln);ie(this,Oi,null);ie(this,Fi,null);ie(this,yf,null);ie(this,Pc,null);ie(this,vf,null);ie(this,bv,"");ie(this,Ql,null);ie(this,Ic,null);ie(this,Zl,null);ie(this,Ja,!1);ie(this,iS,!1);ne(this,Pc,n.bitmapUrl),ne(this,vf,n.bitmapFile)}static initialize(n,r){Wn.initialize(n,r)}static get supportedTypes(){return In(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return In(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Tn.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,r;C(this,Fi)&&(ne(this,Oi,null),this._uiManager.imageManager.deleteId(C(this,Fi)),(n=C(this,Ql))==null||n.remove(),ne(this,Ql,null),(r=C(this,Ic))==null||r.disconnect(),ne(this,Ic,null),C(this,Zl)&&(clearTimeout(C(this,Zl)),ne(this,Zl,null))),super.remove()}rebuild(){if(!this.parent){C(this,Fi)&&re(this,Ln,QC).call(this);return}super.rebuild(),this.div!==null&&(C(this,Fi)&&C(this,Ql)===null&&re(this,Ln,QC).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(C(this,yf)||C(this,Oi)||C(this,Pc)||C(this,vf)||C(this,Fi))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),C(this,Oi)?re(this,Ln,o$).call(this):re(this,Ln,QC).call(this),this.width){const[i,o]=this.parentDimensions;this.setAt(n*i,r*o,this.width*i,this.height*o)}return this.div}getImageForAltText(){return C(this,Ql)}static deserialize(n,r,i){if(n instanceof roe)return null;const o=super.deserialize(n,r,i),{rect:s,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:c}=n;l&&i.imageManager.isValidId(l)?ne(o,Fi,l):ne(o,Pc,a),ne(o,Ja,u);const[d,h]=o.pageDimensions;return o.width=(s[2]-s[0])/d,o.height=(s[3]-s[1])/h,c&&(o.altTextData=c),o}serialize(n=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Tn.STAMP,bitmapId:C(this,Fi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:C(this,Ja),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=re(this,Ln,ZC).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:o,altText:s}=this.altTextData;if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),r===null)return i;r.stamps||(r.stamps=new Map);const a=C(this,Ja)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(C(this,Fi)))r.stamps.set(C(this,Fi),{area:a,serialized:i}),i.bitmap=re(this,Ln,ZC).call(this,!1);else if(C(this,Ja)){const l=r.stamps.get(C(this,Fi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=re(this,Ln,ZC).call(this,!1))}return i}};Oi=new WeakMap,Fi=new WeakMap,yf=new WeakMap,Pc=new WeakMap,vf=new WeakMap,bv=new WeakMap,Ql=new WeakMap,Ic=new WeakMap,Zl=new WeakMap,Ja=new WeakMap,iS=new WeakMap,Ln=new WeakSet,yw=function(n,r=!1){if(!n){this.remove();return}ne(this,Oi,n.bitmap),r||(ne(this,Fi,n.id),ne(this,Ja,n.isSvg)),n.file&&ne(this,bv,n.file.name),re(this,Ln,o$).call(this)},vw=function(){ne(this,yf,null),this._uiManager.enableWaiting(!1),C(this,Ql)&&this.div.focus()},QC=function(){if(C(this,Fi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(C(this,Fi)).then(i=>re(this,Ln,yw).call(this,i,!0)).finally(()=>re(this,Ln,vw).call(this));return}if(C(this,Pc)){const i=C(this,Pc);ne(this,Pc,null),this._uiManager.enableWaiting(!0),ne(this,yf,this._uiManager.imageManager.getFromUrl(i).then(o=>re(this,Ln,yw).call(this,o)).finally(()=>re(this,Ln,vw).call(this)));return}if(C(this,vf)){const i=C(this,vf);ne(this,vf,null),this._uiManager.enableWaiting(!0),ne(this,yf,this._uiManager.imageManager.getFromFile(i).then(o=>re(this,Ln,yw).call(this,o)).finally(()=>re(this,Ln,vw).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Uw.supportedTypesStr;const r=this._uiManager._signal;ne(this,yf,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);re(this,Ln,yw).call(this,o)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>re(this,Ln,vw).call(this))),n.click()},o$=function(){const{div:n}=this;let{width:r,height:i}=C(this,Oi);const[o,s]=this.pageDimensions,a=.75;if(this.width)r=this.width*o,i=this.height*s;else if(r>a*o||i>a*s){const d=Math.min(a*o/r,a*s/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/o,i*u/s),this._uiManager.enableWaiting(!1);const c=ne(this,Ql,document.createElement("canvas"));n.append(c),n.hidden=!1,re(this,Ln,s$).call(this,r,i),re(this,Ln,Voe).call(this),C(this,iS)||(this.parent.addUndoableEditor(this),ne(this,iS,!0)),this._reportTelemetry({action:"inserted_image"}),C(this,bv)&&c.setAttribute("aria-label",C(this,bv))},$oe=function(n,r){var a;const[i,o]=this.parentDimensions;this.width=n/i,this.height=r/o,this.setDims(n,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,C(this,Zl)!==null&&clearTimeout(C(this,Zl)),ne(this,Zl,setTimeout(()=>{ne(this,Zl,null),re(this,Ln,s$).call(this,n,r)},200))},Boe=function(n,r){const{width:i,height:o}=C(this,Oi);let s=i,a=o,l=C(this,Oi);for(;s>2*n||a>2*r;){const u=s,c=a;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,s,a),l=d.transferToImageBitmap()}return l},s$=function(n,r){n=Math.ceil(n),r=Math.ceil(r);const i=C(this,Ql);if(!i||i.width===n&&i.height===r)return;i.width=n,i.height=r;const o=C(this,Ja)?C(this,Oi):re(this,Ln,Boe).call(this,n,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(n,r).getContext("2d");l.drawImage(o,0,0,o.width,o.height,0,0,n,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,n,r).data,width:n,height:r,channels:4}}).then(u=>{const c=(u==null?void 0:u.output)||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(o,0,0,o.width,o.height,0,0,n,r)},ZC=function(n){if(n){if(C(this,Ja)){const o=this._uiManager.imageManager.getSvgUrl(C(this,Fi));if(o)return o}const r=document.createElement("canvas");return{width:r.width,height:r.height}=C(this,Oi),r.getContext("2d").drawImage(C(this,Oi),0,0),r.toDataURL()}if(C(this,Ja)){const[r,i]=this.pageDimensions,o=Math.round(this.width*r*Hf.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Hf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(o,s);return a.getContext("2d").drawImage(C(this,Oi),0,0,C(this,Oi).width,C(this,Oi).height,0,0,o,s),a.transferToImageBitmap()}return structuredClone(C(this,Oi))},Voe=function(){this._uiManager._signal&&(ne(this,Ic,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&re(this,Ln,$oe).call(this,r.width,r.height)})),C(this,Ic).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,Ic))==null||n.disconnect(),ne(this,Ic,null)},{once:!0}))},ht(Uw,"_type","stamp"),ht(Uw,"_editorType",Tn.STAMP);let i$=Uw;var Mp,wv,eu,Np,kc,Mc,Nc,ks,bf,xv,_v,_o,Dt,wf,Ui,zoe,l$,u$,c$,eT;const Fa=class Fa{constructor({uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,drawLayer:s,textLayer:a,viewport:l,l10n:u}){ie(this,Ui);ie(this,Mp);ie(this,wv,!1);ie(this,eu,null);ie(this,Np,null);ie(this,kc,null);ie(this,Mc,null);ie(this,Nc,null);ie(this,ks,new Map);ie(this,bf,!1);ie(this,xv,!1);ie(this,_v,!1);ie(this,_o,null);ie(this,Dt);const c=[...C(Fa,wf).values()];if(!Fa._initialized){Fa._initialized=!0;for(const d of c)d.initialize(u,e)}e.registerEditorTypes(c),ne(this,Dt,e),this.pageIndex=n,this.div=r,ne(this,Mp,i),ne(this,eu,o),this.viewport=l,ne(this,_o,a),this.drawLayer=s,C(this,Dt).addLayer(this)}get isEmpty(){return C(this,ks).size===0}get isInvisible(){return this.isEmpty&&C(this,Dt).getMode()===Tn.NONE}updateToolbar(e){C(this,Dt).updateToolbar(e)}updateMode(e=C(this,Dt).getMode()){switch(re(this,Ui,eT).call(this),e){case Tn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Tn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Tn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of C(Fa,wf).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=C(this,_o))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(C(this,Dt).getMode()!==Tn.INK)return;if(!e){for(const r of C(this,ks).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){C(this,Dt).setEditingState(e)}addCommands(e){C(this,Dt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=C(this,eu))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of C(this,ks).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(C(this,Dt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!C(this,eu))return;const n=C(this,eu).getEditableAnnotations();for(const r of n){if(r.hide(),C(this,Dt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;ne(this,_v,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const o of C(this,ks).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else n.set(o.annotationElementId,o);(i=this.getEditableAnnotation(o.annotationElementId))==null||i.show(),o.remove()}if(C(this,eu)){const o=C(this,eu).getEditableAnnotations();for(const s of o){const{id:a}=s.data;if(C(this,Dt).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(a),l&&(C(this,Dt).addChangedExistingAnnotation(l),l.renderAnnotationElement(s),l.show(!1)),s.show()}}re(this,Ui,eT).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const o of C(Fa,wf).values())r.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ne(this,_v,!1)}getEditableAnnotation(e){var n;return((n=C(this,eu))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){C(this,Dt).getActive()!==e&&C(this,Dt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=C(this,_o))!=null&&e.div&&!C(this,Mc)&&(ne(this,Mc,re(this,Ui,zoe).bind(this)),C(this,_o).div.addEventListener("pointerdown",C(this,Mc),{signal:C(this,Dt)._signal}),C(this,_o).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=C(this,_o))!=null&&e.div&&C(this,Mc)&&(C(this,_o).div.removeEventListener("pointerdown",C(this,Mc)),ne(this,Mc,null),C(this,_o).div.classList.remove("highlighting"))}enableClick(){if(C(this,kc))return;const e=C(this,Dt)._signal;ne(this,kc,this.pointerdown.bind(this)),ne(this,Np,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",C(this,kc),{signal:e}),this.div.addEventListener("pointerup",C(this,Np),{signal:e})}disableClick(){C(this,kc)&&(this.div.removeEventListener("pointerdown",C(this,kc)),this.div.removeEventListener("pointerup",C(this,Np)),ne(this,kc,null),ne(this,Np,null))}attach(e){C(this,ks).set(e.id,e);const{annotationElementId:n}=e;n&&C(this,Dt).isDeletedAnnotationElement(n)&&C(this,Dt).removeDeletedAnnotationElement(e)}detach(e){var n;C(this,ks).delete(e.id),(n=C(this,Mp))==null||n.removePointerInTextLayer(e.contentDiv),!C(this,_v)&&e.annotationElementId&&C(this,Dt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),C(this,Dt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,C(this,xv)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(C(this,Dt).addDeletedAnnotationElement(e.annotationElementId),Wn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),C(this,Dt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),C(this,Dt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!C(this,Nc)&&(e._focusEventsAllowed=!1,ne(this,Nc,setTimeout(()=>{ne(this,Nc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:C(this,Dt)._signal}),n.focus())},0))),e._structTreeParentId=(r=C(this,Mp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return C(this,Dt).getId()}get _signal(){return C(this,Dt)._signal}canCreateNewEmptyEditor(){var e;return(e=C(this,Ui,l$))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){C(this,Dt).updateToolbar(e),C(this,Dt).updateMode(e);const{offsetX:r,offsetY:i}=re(this,Ui,c$).call(this),o=this.getNextId(),s=re(this,Ui,u$).call(this,{parent:this,id:o,x:r,y:i,uiManager:C(this,Dt),isCentered:!0,...n});s&&this.add(s)}deserialize(e){var n;return((n=C(Fa,wf).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,C(this,Dt)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),o=re(this,Ui,u$).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:C(this,Dt),isCentered:n,...r});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(re(this,Ui,c$).call(this),!0)}setSelected(e){C(this,Dt).setSelected(e)}toggleSelected(e){C(this,Dt).toggleSelected(e)}isSelected(e){return C(this,Dt).isSelected(e)}unselect(e){C(this,Dt).unselect(e)}pointerup(e){const{isMac:n}=Qo.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&C(this,bf)){if(ne(this,bf,!1),!C(this,wv)){ne(this,wv,!0);return}if(C(this,Dt).getMode()===Tn.STAMP){C(this,Dt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(C(this,Dt).getMode()===Tn.HIGHLIGHT&&this.enableTextSelection(),C(this,bf)){ne(this,bf,!1);return}const{isMac:n}=Qo.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;ne(this,bf,!0);const r=C(this,Dt).getActive();ne(this,wv,!r||r.isEmpty())}findNewParent(e,n,r){const i=C(this,Dt).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=C(this,Dt).getActive())==null?void 0:e.parent)===this&&(C(this,Dt).commitOrRemove(),C(this,Dt).setActiveEditor(null)),C(this,Nc)&&(clearTimeout(C(this,Nc)),ne(this,Nc,null));for(const r of C(this,ks).values())(n=C(this,Mp))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,C(this,ks).clear(),C(this,Dt).removeLayer(this)}render({viewport:e}){this.viewport=e,eg(this.div,e);for(const n of C(this,Dt).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){C(this,Dt).commitOrRemove(),re(this,Ui,eT).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,eg(this.div,{rotation:r}),n!==r)for(const i of C(this,ks).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return C(this,Dt).viewParameters.realScale}};Mp=new WeakMap,wv=new WeakMap,eu=new WeakMap,Np=new WeakMap,kc=new WeakMap,Mc=new WeakMap,Nc=new WeakMap,ks=new WeakMap,bf=new WeakMap,xv=new WeakMap,_v=new WeakMap,_o=new WeakMap,Dt=new WeakMap,wf=new WeakMap,Ui=new WeakSet,zoe=function(e){if(C(this,Dt).unselectAll(),e.target===C(this,_o).div){const{isMac:n}=Qo.platform;if(e.button!==0||e.ctrlKey&&n)return;C(this,Dt).showAllEditors("highlight",!0,!0),C(this,_o).div.classList.add("free"),cA.startHighlighting(this,C(this,Dt).direction==="ltr",e),C(this,_o).div.addEventListener("pointerup",()=>{C(this,_o).div.classList.remove("free")},{once:!0,signal:C(this,Dt)._signal}),e.preventDefault()}},l$=function(){return C(Fa,wf).get(C(this,Dt).getMode())},u$=function(e){const n=C(this,Ui,l$);return n?new n.prototype.constructor(e):null},c$=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),o=Math.max(0,e),s=Math.max(0,n),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(o+a)/2-e,c=(s+l)/2-n,[d,h]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:h}},eT=function(){ne(this,xv,!0);for(const e of C(this,ks).values())e.isEmpty()&&e.remove();ne(this,xv,!1)},ht(Fa,"_initialized",!1),ie(Fa,wf,new Map([VF,JF,i$,cA].map(e=>[e._editorType,e])));let a$=Fa;var tu,oS,fi,xf,sS,f$,og,h$,Uoe;const ki=class ki{constructor({pageIndex:e}){ie(this,og);ie(this,tu,null);ie(this,oS,0);ie(this,fi,new Map);ie(this,xf,new Map);this.pageIndex=e}setParent(e){if(!C(this,tu)){ne(this,tu,e);return}if(C(this,tu)!==e){if(C(this,fi).size>0)for(const n of C(this,fi).values())n.remove(),e.append(n);ne(this,tu,e)}}static get _svgFactory(){return In(this,"_svgFactory",new T3)}highlight(e,n,r,i=!1){const o=vs(this,oS)._++,s=re(this,og,h$).call(this,e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");const a=ki._svgFactory.createElement("defs");s.append(a);const l=ki._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&C(this,xf).set(o,l);const c=re(this,og,Uoe).call(this,a,u),d=ki._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),C(this,fi).set(o,s),{id:o,clipPathId:`url(#${c})`}}highlightOutline(e){const n=vs(this,oS)._++,r=re(this,og,h$).call(this,e.box);r.classList.add("highlightOutline");const i=ki._svgFactory.createElement("defs");r.append(i);const o=ki._svgFactory.createElement("path");i.append(o);const s=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",s),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const c=ki._svgFactory.createElement("mask");i.append(c),a=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");const d=ki._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=ki._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${s}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=ki._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),C(this,fi).set(n,r),n}finalizeLine(e,n){const r=C(this,xf).get(e);C(this,xf).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){C(this,fi).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),C(this,xf).delete(e)}updatePath(e,n){C(this,xf).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;re(r=ki,sS,f$).call(r,C(this,fi).get(e),n)}show(e,n){C(this,fi).get(e).classList.toggle("hidden",!n)}rotate(e,n){C(this,fi).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){C(this,fi).get(e).setAttribute("fill",n)}changeOpacity(e,n){C(this,fi).get(e).setAttribute("fill-opacity",n)}addClass(e,n){C(this,fi).get(e).classList.add(n)}removeClass(e,n){C(this,fi).get(e).classList.remove(n)}remove(e){C(this,tu)!==null&&(C(this,fi).get(e).remove(),C(this,fi).delete(e))}destroy(){ne(this,tu,null);for(const e of C(this,fi).values())e.remove();C(this,fi).clear()}};tu=new WeakMap,oS=new WeakMap,fi=new WeakMap,xf=new WeakMap,sS=new WeakSet,f$=function(e,{x:n=0,y:r=0,width:i=1,height:o=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*o}%`},og=new WeakSet,h$=function(e){var r;const n=ki._svgFactory.create(1,1,!0);return C(this,tu).append(n),n.setAttribute("aria-hidden",!0),re(r=ki,sS,f$).call(r,n,e),n},Uoe=function(e,n){const r=ki._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const o=ki._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),i},ie(ki,sS);let d$=ki;Wt.AbortException;Wt.AnnotationEditorLayer;Wt.AnnotationEditorParamsType;Wt.AnnotationEditorType;Wt.AnnotationEditorUIManager;Wt.AnnotationLayer;Wt.AnnotationMode;Wt.CMapCompressionType;Wt.ColorPicker;Wt.DOMSVGFactory;Wt.DrawLayer;Wt.FeatureTest;var lWe=Wt.GlobalWorkerOptions;Wt.ImageKind;Wt.InvalidPDFException;Wt.MissingPDFException;Wt.OPS;Wt.Outliner;Wt.PDFDataRangeTransport;Wt.PDFDateString;Wt.PDFWorker;Wt.PasswordResponses;Wt.PermissionFlag;Wt.PixelsPerInch;Wt.RenderingCancelledException;Wt.TextLayer;Wt.UnexpectedResponseException;Wt.Util;Wt.VerbosityLevel;Wt.XfaLayer;Wt.build;Wt.createValidAbsoluteUrl;Wt.fetchData;var uWe=Wt.getDocument;Wt.getFilenameFromUrl;Wt.getPdfFilenameFromUrl;Wt.getXfaPageViewport;Wt.isDataScheme;Wt.isPdfFile;Wt.noContextMenu;Wt.normalizeUnicode;Wt.renderTextLayer;Wt.setLayerDimensions;Wt.shadow;Wt.updateTextLayer;Wt.version;const cWe=t=>oe.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(t.loaded/t.total*100),"%"),dWe=t=>oe.createElement("div",{style:{color:"black"}},t.message),fWe=t=>{throw new Error(`Error loading PDF document: ${t.message}!`)},hWe="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",pWe=({document:t,beforeLoad:e=cWe,errorMessage:n=dWe,children:r,onError:i=fWe,workerSrc:o=hWe})=>{const s=F.useRef(null),a=F.useRef(null),[l,u]=F.useState(null),[c,d]=F.useState(null);return F.useEffect(()=>(lWe.workerSrc=o,s.current=uWe(t),s.current.onProgress=h=>{d(h.loaded>h.total?null:h)},s.current.promise.then(h=>{a.current=h}).catch(h=>{h.message!="Worker was destroyed"&&(u(h),i(h))}).finally(()=>{d(null)}),()=>{s.current&&s.current.destroy(),a.current&&a.current.destroy()}),[t]),l?n(l):c?e(c):a.current&&r(a.current)};function gWe({mode:t,analyticsLevel:e,readPurposes:n,displayedReads:r,selectedHighlightIds:i,setSelectedHighlightIds:o}){const{highlight:s,isScrolledTo:a,highlightBindings:l}=Aqe(),u=()=>{let d="#dceefa";return t===Or.ANALYZING?e===Un.PURPOSES&&(d=n[s.readPurposeId].color):t===Or.READING&&(d=r.includes(s.readPurposeId)?n[s.readPurposeId].color:"#e6e6e6"),d},c=i.includes(s.id);return s.type==="text"?O.jsx(Bqe,{isScrolledTo:a,highlight:s,style:{background:u(),border:c?"2px solid black":"none"},onClick:()=>o([s.id])}):O.jsx(lje,{isScrolledTo:a,highlight:s,bounds:l.textLayer,style:{background:u(),pointerEvents:"none",border:c?"2px solid black":"none"}})}const mWe=({addHighlight:t})=>{const e=F.useRef(null),{getCurrentSelection:n,removeGhostHighlight:r,setTip:i}=Dre();return O.jsx("div",{className:"Tip",children:O.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=n(),t({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function yWe(){const{mode:t}=ad(),{analyticsLevel:e}=fg(),{paperUrl:n,highlights:r,addHighlight:i,selectedHighlightIds:o,setSelectedHighlightIds:s,currentReadId:a,readPurposes:l,displayedReads:u,pdfViewerRef:c}=Gf();if(!F.useContext(bR))throw new Error("TourContext not found");const h=F.useRef(null);F.useEffect(()=>{o.length>0&&p()},[o]);const p=()=>{const m=o[o.length-1],y=r.find(w=>w.id===m);y&&h.current&&h.current.scrollToHighlight(y)};return O.jsx(ze,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:n&&O.jsx(ze,{style:{height:"100%",width:"100%",position:"relative"},className:"pdf pdf-container",children:O.jsx(pWe,{document:n,children:m=>{var y;return O.jsx($qe,{enableAreaSelection:w=>w.altKey,pdfDocument:m,utilsRef:w=>{c.current=w.getViewer(),h.current=w},selectionTip:Object.keys(l).length>0&&a!==""?O.jsx(mWe,{addHighlight:i}):null,highlights:r,textSelectionColor:(y=l[a])==null?void 0:y.color,children:O.jsx(gWe,{mode:t,analyticsLevel:e,readPurposes:l,displayedReads:u,selectedHighlightIds:o,setSelectedHighlightIds:s})})}})})})}var tD,jG;function D3(){if(jG)return tD;jG=1;var t="\0",e="\0",n="";class r{constructor(c){ht(this,"_isDirected",!0);ht(this,"_isMultigraph",!1);ht(this,"_isCompound",!1);ht(this,"_label");ht(this,"_defaultNodeLabelFn",()=>{});ht(this,"_defaultEdgeLabelFn",()=>{});ht(this,"_nodes",{});ht(this,"_in",{});ht(this,"_preds",{});ht(this,"_out",{});ht(this,"_sucs",{});ht(this,"_edgeObjs",{});ht(this,"_edgeLabels",{});ht(this,"_nodeCount",0);ht(this,"_edgeCount",0);ht(this,"_parent");ht(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var h=arguments,p=this;return c.forEach(function(m){h.length>1?p.setNode(m,d):p.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=e,this._children[c]={},this._children[e][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var h=p=>d.removeEdge(d._edgeObjs[p]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(p){d.setParent(p)}),delete this._children[c]),Object.keys(this._in[c]).forEach(h),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var h=d;h!==void 0;h=this.parent(h))if(h===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==e)return d}}children(c=e){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===e)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const p=new Set(d);for(var h of this.successors(c))p.add(h);return Array.from(p.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([y,w]){c(y)&&d.setNode(y,w)}),Object.values(this._edgeObjs).forEach(function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,h.edge(y))});var p={};function m(y){var w=h.parent(y);return w===void 0||d.hasNode(w)?(p[y]=w,w):w in p?p[w]:m(w)}return this._isCompound&&d.nodes().forEach(y=>d.setParent(y,m(y))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var h=this,p=arguments;return c.reduce(function(m,y){return p.length>1?h.setEdge(m,y,d):h.setEdge(m,y),y}),this}setEdge(){var c,d,h,p,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,h=y.name,arguments.length===2&&(p=arguments[1],m=!0)):(c=y,d=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),c=""+c,d=""+d,h!==void 0&&(h=""+h);var w=s(this._isDirected,c,d,h);if(Object.hasOwn(this._edgeLabels,w))return m&&(this._edgeLabels[w]=p),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[w]=m?p:this._defaultEdgeLabelFn(c,d,h);var _=a(this._isDirected,c,d,h);return c=_.v,d=_.w,Object.freeze(_),this._edgeObjs[w]=_,i(this._preds[d],c),i(this._sucs[c],d),this._in[d][w]=_,this._out[c][w]=_,this._edgeCount++,this}edge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h);return this._edgeLabels[p]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h);return Object.hasOwn(this._edgeLabels,p)}removeEdge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h),m=this._edgeObjs[p];return m&&(c=m.v,d=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this}inEdges(c,d){var h=this._in[c];if(h){var p=Object.values(h);return d?p.filter(m=>m.v===d):p}}outEdges(c,d){var h=this._out[c];if(h){var p=Object.values(h);return d?p.filter(m=>m.w===d):p}}nodeEdges(c,d){var h=this.inEdges(c,d);if(h)return h.concat(this.outEdges(c,d))}}function i(u,c){u[c]?u[c]++:u[c]=1}function o(u,c){--u[c]||delete u[c]}function s(u,c,d,h){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}return p+n+m+n+(h===void 0?t:h)}function a(u,c,d,h){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}var w={v:p,w:m};return h&&(w.name=h),w}function l(u,c){return s(u,c.v,c.w,c.name)}return tD=r,tD}var nD,WG;function vWe(){return WG||(WG=1,nD="2.2.4"),nD}var rD,GG;function bWe(){return GG||(GG=1,rD={Graph:D3(),version:vWe()}),rD}var iD,KG;function wWe(){if(KG)return iD;KG=1;var t=D3();iD={write:e,read:i};function e(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:r(o)};return o.graph()!==void 0&&(s.value=structuredClone(o.graph())),s}function n(o){return o.nodes().map(function(s){var a=o.node(s),l=o.parent(s),u={v:s};return a!==void 0&&(u.value=a),l!==void 0&&(u.parent=l),u})}function r(o){return o.edges().map(function(s){var a=o.edge(s),l={v:s.v,w:s.w};return s.name!==void 0&&(l.name=s.name),a!==void 0&&(l.value=a),l})}function i(o){var s=new t(o.options).setGraph(o.value);return o.nodes.forEach(function(a){s.setNode(a.v,a.value),a.parent&&s.setParent(a.v,a.parent)}),o.edges.forEach(function(a){s.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),s}return iD}var oD,YG;function xWe(){if(YG)return oD;YG=1,oD=t;function t(e){var n={},r=[],i;function o(s){Object.hasOwn(n,s)||(n[s]=!0,i.push(s),e.successors(s).forEach(o),e.predecessors(s).forEach(o))}return e.nodes().forEach(function(s){i=[],o(s),i.length&&r.push(i)}),r}return oD}var sD,XG;function Hoe(){if(XG)return sD;XG=1;class t{constructor(){ht(this,"_arr",[]);ht(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o}_swap(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r}}return sD=t,sD}var aD,JG;function qoe(){if(JG)return aD;JG=1;var t=Hoe();aD=n;var e=()=>1;function n(i,o,s,a){return r(i,String(o),s||e,a||function(l){return i.outEdges(l)})}function r(i,o,s,a){var l={},u=new t,c,d,h=function(p){var m=p.v!==c?p.v:p.w,y=l[m],w=s(p),_=d.distance+w;if(w<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+w);_<y.distance&&(y.distance=_,y.predecessor=c,u.decrease(m,_))};for(i.nodes().forEach(function(p){var m=p===o?0:Number.POSITIVE_INFINITY;l[p]={distance:m},u.add(p,m)});u.size()>0&&(c=u.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)a(c).forEach(h);return l}return aD}var lD,QG;function _We(){if(QG)return lD;QG=1;var t=qoe();lD=e;function e(n,r,i){return n.nodes().reduce(function(o,s){return o[s]=t(n,s,r,i),o},{})}return lD}var uD,ZG;function joe(){if(ZG)return uD;ZG=1,uD=t;function t(e){var n=0,r=[],i={},o=[];function s(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var u=[],c;do c=r.pop(),i[c].onStack=!1,u.push(c);while(a!==c);o.push(u)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||s(a)}),o}return uD}var cD,eK;function SWe(){if(eK)return cD;eK=1;var t=joe();cD=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return cD}var dD,tK;function EWe(){if(tK)return dD;tK=1,dD=e;var t=()=>1;function e(r,i,o){return n(r,i||t,o||function(s){return r.outEdges(s)})}function n(r,i,o){var s={},a=r.nodes();return a.forEach(function(l){s[l]={},s[l][l]={distance:0},a.forEach(function(u){l!==u&&(s[l][u]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(u){var c=u.v===l?u.w:u.v,d=i(u);s[l][c]={distance:d,predecessor:l}})}),a.forEach(function(l){var u=s[l];a.forEach(function(c){var d=s[c];a.forEach(function(h){var p=d[l],m=u[h],y=d[h],w=p.distance+m.distance;w<y.distance&&(y.distance=w,y.predecessor=m.predecessor)})})}),s}return dD}var fD,nK;function Woe(){if(nK)return fD;nK=1;function t(n){var r={},i={},o=[];function s(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(s),delete i[a],o.push(a))}if(n.sinks().forEach(s),Object.keys(r).length!==n.nodeCount())throw new e;return o}class e extends Error{constructor(){super(...arguments)}}return fD=t,t.CycleException=e,fD}var hD,rK;function CWe(){if(rK)return hD;rK=1;var t=Woe();hD=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return hD}var pD,iK;function Goe(){if(iK)return pD;iK=1,pD=t;function t(i,o,s){Array.isArray(o)||(o=[o]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=s==="post"?e:n,u=[],c={};return o.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,c,u)}),u}function e(i,o,s,a){for(var l=[[i,!1]];l.length>0;){var u=l.pop();u[1]?a.push(u[0]):Object.hasOwn(s,u[0])||(s[u[0]]=!0,l.push([u[0],!0]),r(o(u[0]),c=>l.push([c,!1])))}}function n(i,o,s,a){for(var l=[i];l.length>0;){var u=l.pop();Object.hasOwn(s,u)||(s[u]=!0,a.push(u),r(o(u),c=>l.push(c)))}}function r(i,o){for(var s=i.length;s--;)o(i[s],s,i);return i}return pD}var gD,oK;function TWe(){if(oK)return gD;oK=1;var t=Goe();gD=e;function e(n,r){return t(n,r,"post")}return gD}var mD,sK;function AWe(){if(sK)return mD;sK=1;var t=Goe();mD=e;function e(n,r){return t(n,r,"pre")}return mD}var yD,aK;function RWe(){if(aK)return yD;aK=1;var t=D3(),e=Hoe();yD=n;function n(r,i){var o=new t,s={},a=new e,l;function u(d){var h=d.v===l?d.w:d.v,p=a.priority(h);if(p!==void 0){var m=i(d);m<p&&(s[h]=l,a.decrease(h,m))}}if(r.nodeCount()===0)return o;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),a.decrease(r.nodes()[0],0);for(var c=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(s,l))o.setEdge(l,s[l]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(l).forEach(u)}return o}return yD}var vD,lK;function PWe(){return lK||(lK=1,vD={components:xWe(),dijkstra:qoe(),dijkstraAll:_We(),findCycles:SWe(),floydWarshall:EWe(),isAcyclic:CWe(),postorder:TWe(),preorder:AWe(),prim:RWe(),tarjan:joe(),topsort:Woe()}),vD}var bD,uK;function cl(){if(uK)return bD;uK=1;var t=bWe();return bD={Graph:t.Graph,json:wWe(),alg:PWe(),version:t.version},bD}var wD,cK;function IWe(){if(cK)return wD;cK=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,o=i._prev;if(o!==i)return e(o),o}enqueue(i){let o=this._sentinel;i._prev&&i._next&&e(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o}toString(){let i=[],o=this._sentinel,s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return wD=t,wD}var xD,dK;function kWe(){if(dK)return xD;dK=1;let t=cl().Graph,e=IWe();xD=r;let n=()=>1;function r(u,c){if(u.nodeCount()<=1)return[];let d=s(u,c||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(p=>u.outEdges(p.v,p.w))}function i(u,c,d){let h=[],p=c[c.length-1],m=c[0],y;for(;u.nodeCount();){for(;y=m.dequeue();)o(u,c,d,y);for(;y=p.dequeue();)o(u,c,d,y);if(u.nodeCount()){for(let w=c.length-2;w>0;--w)if(y=c[w].dequeue(),y){h=h.concat(o(u,c,d,y,!0));break}}}return h}function o(u,c,d,h,p){let m=p?[]:void 0;return u.inEdges(h.v).forEach(y=>{let w=u.edge(y),_=u.node(y.v);p&&m.push({v:y.v,w:y.w}),_.out-=w,a(c,d,_)}),u.outEdges(h.v).forEach(y=>{let w=u.edge(y),_=y.w,E=u.node(_);E.in-=w,a(c,d,E)}),u.removeNode(h.v),m}function s(u,c){let d=new t,h=0,p=0;u.nodes().forEach(w=>{d.setNode(w,{v:w,in:0,out:0})}),u.edges().forEach(w=>{let _=d.edge(w.v,w.w)||0,E=c(w),S=_+E;d.setEdge(w.v,w.w,S),p=Math.max(p,d.node(w.v).out+=E),h=Math.max(h,d.node(w.w).in+=E)});let m=l(p+h+3).map(()=>new e),y=h+1;return d.nodes().forEach(w=>{a(m,y,d.node(w))}),{graph:d,buckets:m,zeroIdx:y}}function a(u,c,d){d.out?d.in?u[d.out-d.in+c].enqueue(d):u[u.length-1].enqueue(d):u[0].enqueue(d)}function l(u){const c=[];for(let d=0;d<u;d++)c.push(d);return c}return xD}var _D,fK;function ti(){if(fK)return _D;fK=1;let t=cl().Graph;_D={addBorderNode:c,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:s,mapValues:N,maxRank:m,normalizeRanks:l,notime:_,partition:y,pick:I,predecessorWeights:o,range:T,removeEmptyRanks:u,simplify:n,successorWeights:i,time:w,uniqueId:S,zipObject:P};function e(M,D,k,L){let V;do V=S(L);while(M.hasNode(V));return k.dummy=D,M.setNode(V,k),V}function n(M){let D=new t().setGraph(M.graph());return M.nodes().forEach(k=>D.setNode(k,M.node(k))),M.edges().forEach(k=>{let L=D.edge(k.v,k.w)||{weight:0,minlen:1},V=M.edge(k);D.setEdge(k.v,k.w,{weight:L.weight+V.weight,minlen:Math.max(L.minlen,V.minlen)})}),D}function r(M){let D=new t({multigraph:M.isMultigraph()}).setGraph(M.graph());return M.nodes().forEach(k=>{M.children(k).length||D.setNode(k,M.node(k))}),M.edges().forEach(k=>{D.setEdge(k,M.edge(k))}),D}function i(M){let D=M.nodes().map(k=>{let L={};return M.outEdges(k).forEach(V=>{L[V.w]=(L[V.w]||0)+M.edge(V).weight}),L});return P(M.nodes(),D)}function o(M){let D=M.nodes().map(k=>{let L={};return M.inEdges(k).forEach(V=>{L[V.v]=(L[V.v]||0)+M.edge(V).weight}),L});return P(M.nodes(),D)}function s(M,D){let k=M.x,L=M.y,V=D.x-k,$=D.y-L,z=M.width/2,G=M.height/2;if(!V&&!$)throw new Error("Not possible to find intersection inside of the rectangle");let K,J;return Math.abs($)*z>Math.abs(V)*G?($<0&&(G=-G),K=G*V/$,J=G):(V<0&&(z=-z),K=z,J=z*$/V),{x:k+K,y:L+J}}function a(M){let D=T(m(M)+1).map(()=>[]);return M.nodes().forEach(k=>{let L=M.node(k),V=L.rank;V!==void 0&&(D[V][L.order]=k)}),D}function l(M){let D=M.nodes().map(L=>{let V=M.node(L).rank;return V===void 0?Number.MAX_VALUE:V}),k=p(Math.min,D);M.nodes().forEach(L=>{let V=M.node(L);Object.hasOwn(V,"rank")&&(V.rank-=k)})}function u(M){let D=M.nodes().map(z=>M.node(z).rank),k=p(Math.min,D),L=[];M.nodes().forEach(z=>{let G=M.node(z).rank-k;L[G]||(L[G]=[]),L[G].push(z)});let V=0,$=M.graph().nodeRankFactor;Array.from(L).forEach((z,G)=>{z===void 0&&G%$!==0?--V:z!==void 0&&V&&z.forEach(K=>M.node(K).rank+=V)})}function c(M,D,k,L){let V={width:0,height:0};return arguments.length>=4&&(V.rank=k,V.order=L),e(M,"border",V,D)}function d(M,D=h){const k=[];for(let L=0;L<M.length;L+=D){const V=M.slice(L,L+D);k.push(V)}return k}const h=65535;function p(M,D){if(D.length>h){const k=d(D);return M.apply(null,k.map(L=>M.apply(null,L)))}else return M.apply(null,D)}function m(M){const k=M.nodes().map(L=>{let V=M.node(L).rank;return V===void 0?Number.MIN_VALUE:V});return p(Math.max,k)}function y(M,D){let k={lhs:[],rhs:[]};return M.forEach(L=>{D(L)?k.lhs.push(L):k.rhs.push(L)}),k}function w(M,D){let k=Date.now();try{return D()}finally{console.log(M+" time: "+(Date.now()-k)+"ms")}}function _(M,D){return D()}let E=0;function S(M){var D=++E;return toString(M)+D}function T(M,D,k=1){D==null&&(D=M,M=0);let L=$=>$<D;k<0&&(L=$=>D<$);const V=[];for(let $=M;L($);$+=k)V.push($);return V}function I(M,D){const k={};for(const L of D)M[L]!==void 0&&(k[L]=M[L]);return k}function N(M,D){let k=D;return typeof D=="string"&&(k=L=>L[D]),Object.entries(M).reduce((L,[V,$])=>(L[V]=k($,V),L),{})}function P(M,D){return M.reduce((k,L,V)=>(k[L]=D[V],k),{})}return _D}var SD,hK;function MWe(){if(hK)return SD;hK=1;let t=kWe(),e=ti().uniqueId;SD={run:n,undo:i};function n(o){(o.graph().acyclicer==="greedy"?t(o,a(o)):r(o)).forEach(l=>{let u=o.edge(l);o.removeEdge(l),u.forwardName=l.name,u.reversed=!0,o.setEdge(l.w,l.v,u,e("rev"))});function a(l){return u=>l.edge(u).weight}}function r(o){let s=[],a={},l={};function u(c){Object.hasOwn(l,c)||(l[c]=!0,a[c]=!0,o.outEdges(c).forEach(d=>{Object.hasOwn(a,d.w)?s.push(d):u(d.w)}),delete a[c])}return o.nodes().forEach(u),s}function i(o){o.edges().forEach(s=>{let a=o.edge(s);if(a.reversed){o.removeEdge(s);let l=a.forwardName;delete a.reversed,delete a.forwardName,o.setEdge(s.w,s.v,a,l)}})}return SD}var ED,pK;function NWe(){if(pK)return ED;pK=1;let t=ti();ED={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(o=>n(i,o))}function n(i,o){let s=o.v,a=i.node(s).rank,l=o.w,u=i.node(l).rank,c=o.name,d=i.edge(o),h=d.labelRank;if(u===a+1)return;i.removeEdge(o);let p,m,y;for(y=0,++a;a<u;++y,++a)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:o,rank:a},p=t.addDummyNode(i,"edge",m,"_d"),a===h&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),i.setEdge(s,p,{weight:d.weight},c),y===0&&i.graph().dummyChains.push(p),s=p;i.setEdge(s,l,{weight:d.weight},c)}function r(i){i.graph().dummyChains.forEach(o=>{let s=i.node(o),a=s.edgeLabel,l;for(i.setEdge(s.edgeObj,a);s.dummy;)l=i.successors(o)[0],i.removeNode(o),a.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(a.x=s.x,a.y=s.y,a.width=s.width,a.height=s.height),o=l,s=i.node(o)})}return ED}var CD,gK;function dA(){if(gK)return CD;gK=1;const{applyWithChunking:t}=ti();CD={longestPath:e,slack:n};function e(r){var i={};function o(s){var a=r.node(s);if(Object.hasOwn(i,s))return a.rank;i[s]=!0;let l=r.outEdges(s).map(c=>c==null?Number.POSITIVE_INFINITY:o(c.w)-r.edge(c).minlen);var u=t(Math.min,l);return u===Number.POSITIVE_INFINITY&&(u=0),a.rank=u}r.sources().forEach(o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return CD}var TD,mK;function Koe(){if(mK)return TD;mK=1;var t=cl().Graph,e=dA().slack;TD=n;function n(s){var a=new t({directed:!1}),l=s.nodes()[0],u=s.nodeCount();a.setNode(l,{});for(var c,d;r(a,s)<u;)c=i(a,s),d=a.hasNode(c.v)?e(s,c):-e(s,c),o(a,s,d);return a}function r(s,a){function l(u){a.nodeEdges(u).forEach(c=>{var d=c.v,h=u===d?c.w:d;!s.hasNode(h)&&!e(a,c)&&(s.setNode(h,{}),s.setEdge(u,h,{}),l(h))})}return s.nodes().forEach(l),s.nodeCount()}function i(s,a){return a.edges().reduce((u,c)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(c.v)!==s.hasNode(c.w)&&(d=e(a,c)),d<u[0]?[d,c]:u},[Number.POSITIVE_INFINITY,null])[1]}function o(s,a,l){s.nodes().forEach(u=>a.node(u).rank+=l)}return TD}var AD,yK;function DWe(){if(yK)return AD;yK=1;var t=Koe(),e=dA().slack,n=dA().longestPath,r=cl().alg.preorder,i=cl().alg.postorder,o=ti().simplify;AD=s,s.initLowLimValues=c,s.initCutValues=a,s.calcCutValue=u,s.leaveEdge=h,s.enterEdge=p,s.exchangeEdges=m;function s(E){E=o(E),n(E);var S=t(E);c(S),a(S,E);for(var T,I;T=h(S);)I=p(S,E,T),m(S,E,T,I)}function a(E,S){var T=i(E,E.nodes());T=T.slice(0,T.length-1),T.forEach(I=>l(E,S,I))}function l(E,S,T){var I=E.node(T),N=I.parent;E.edge(T,N).cutvalue=u(E,S,T)}function u(E,S,T){var I=E.node(T),N=I.parent,P=!0,M=S.edge(T,N),D=0;return M||(P=!1,M=S.edge(N,T)),D=M.weight,S.nodeEdges(T).forEach(k=>{var L=k.v===T,V=L?k.w:k.v;if(V!==N){var $=L===P,z=S.edge(k).weight;if(D+=$?z:-z,w(E,T,V)){var G=E.edge(T,V).cutvalue;D+=$?-G:G}}}),D}function c(E,S){arguments.length<2&&(S=E.nodes()[0]),d(E,{},1,S)}function d(E,S,T,I,N){var P=T,M=E.node(I);return S[I]=!0,E.neighbors(I).forEach(D=>{Object.hasOwn(S,D)||(T=d(E,S,T,D,I))}),M.low=P,M.lim=T++,N?M.parent=N:delete M.parent,T}function h(E){return E.edges().find(S=>E.edge(S).cutvalue<0)}function p(E,S,T){var I=T.v,N=T.w;S.hasEdge(I,N)||(I=T.w,N=T.v);var P=E.node(I),M=E.node(N),D=P,k=!1;P.lim>M.lim&&(D=M,k=!0);var L=S.edges().filter(V=>k===_(E,E.node(V.v),D)&&k!==_(E,E.node(V.w),D));return L.reduce((V,$)=>e(S,$)<e(S,V)?$:V)}function m(E,S,T,I){var N=T.v,P=T.w;E.removeEdge(N,P),E.setEdge(I.v,I.w,{}),c(E),a(E,S),y(E,S)}function y(E,S){var T=E.nodes().find(N=>!S.node(N).parent),I=r(E,T);I=I.slice(1),I.forEach(N=>{var P=E.node(N).parent,M=S.edge(N,P),D=!1;M||(M=S.edge(P,N),D=!0),S.node(N).rank=S.node(P).rank+(D?M.minlen:-M.minlen)})}function w(E,S,T){return E.hasEdge(S,T)}function _(E,S,T){return T.low<=S.lim&&S.lim<=T.lim}return AD}var RD,vK;function LWe(){if(vK)return RD;vK=1;var t=dA(),e=t.longestPath,n=Koe(),r=DWe();RD=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":s(l);break;case"longest-path":o(l);break;default:a(l)}}var o=e;function s(l){e(l),n(l)}function a(l){r(l)}return RD}var PD,bK;function OWe(){if(bK)return PD;bK=1,PD=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(o=>{let s=r.node(o),a=s.edgeObj,l=e(r,i,a.v,a.w),u=l.path,c=l.lca,d=0,h=u[d],p=!0;for(;o!==a.w;){if(s=r.node(o),p){for(;(h=u[d])!==c&&r.node(h).maxRank<s.rank;)d++;h===c&&(p=!1)}if(!p){for(;d<u.length-1&&r.node(h=u[d+1]).minRank<=s.rank;)d++;h=u[d]}r.setParent(o,h),o=r.successors(o)[0]}})}function e(r,i,o,s){let a=[],l=[],u=Math.min(i[o].low,i[s].low),c=Math.max(i[o].lim,i[s].lim),d,h;d=o;do d=r.parent(d),a.push(d);while(d&&(i[d].low>u||c>i[d].lim));for(h=d,d=s;(d=r.parent(d))!==h;)l.push(d);return{path:a.concat(l.reverse()),lca:h}}function n(r){let i={},o=0;function s(a){let l=o;r.children(a).forEach(s),i[a]={low:l,lim:o++}}return r.children().forEach(s),i}return PD}var ID,wK;function FWe(){if(wK)return ID;wK=1;let t=ti();ID={run:e,cleanup:o};function e(s){let a=t.addDummyNode(s,"root",{},"_root"),l=r(s),u=Object.values(l),c=t.applyWithChunking(Math.max,u)-1,d=2*c+1;s.graph().nestingRoot=a,s.edges().forEach(p=>s.edge(p).minlen*=d);let h=i(s)+1;s.children().forEach(p=>n(s,a,d,h,c,l,p)),s.graph().nodeRankFactor=d}function n(s,a,l,u,c,d,h){let p=s.children(h);if(!p.length){h!==a&&s.setEdge(a,h,{weight:0,minlen:l});return}let m=t.addBorderNode(s,"_bt"),y=t.addBorderNode(s,"_bb"),w=s.node(h);s.setParent(m,h),w.borderTop=m,s.setParent(y,h),w.borderBottom=y,p.forEach(_=>{n(s,a,l,u,c,d,_);let E=s.node(_),S=E.borderTop?E.borderTop:_,T=E.borderBottom?E.borderBottom:_,I=E.borderTop?u:2*u,N=S!==T?1:c-d[h]+1;s.setEdge(m,S,{weight:I,minlen:N,nestingEdge:!0}),s.setEdge(T,y,{weight:I,minlen:N,nestingEdge:!0})}),s.parent(h)||s.setEdge(a,m,{weight:0,minlen:c+d[h]})}function r(s){var a={};function l(u,c){var d=s.children(u);d&&d.length&&d.forEach(h=>l(h,c+1)),a[u]=c}return s.children().forEach(u=>l(u,1)),a}function i(s){return s.edges().reduce((a,l)=>a+s.edge(l).weight,0)}function o(s){var a=s.graph();s.removeNode(a.nestingRoot),delete a.nestingRoot,s.edges().forEach(l=>{var u=s.edge(l);u.nestingEdge&&s.removeEdge(l)})}return ID}var kD,xK;function $We(){if(xK)return kD;xK=1;let t=ti();kD=e;function e(r){function i(o){let s=r.children(o),a=r.node(o);if(s.length&&s.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,u=a.maxRank+1;l<u;++l)n(r,"borderLeft","_bl",o,a,l),n(r,"borderRight","_br",o,a,l)}}r.children().forEach(i)}function n(r,i,o,s,a,l){let u={width:0,height:0,rank:l,borderType:i},c=a[i][l-1],d=t.addDummyNode(r,"border",u,o);a[i][l]=d,r.setParent(d,s),c&&r.setEdge(c,d,{weight:1})}return kD}var MD,_K;function BWe(){if(_K)return MD;_K=1,MD={adjust:t,undo:e};function t(l){let u=l.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&n(l)}function e(l){let u=l.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&i(l),(u==="lr"||u==="rl")&&(s(l),n(l))}function n(l){l.nodes().forEach(u=>r(l.node(u))),l.edges().forEach(u=>r(l.edge(u)))}function r(l){let u=l.width;l.width=l.height,l.height=u}function i(l){l.nodes().forEach(u=>o(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(o),Object.hasOwn(c,"y")&&o(c)})}function o(l){l.y=-l.y}function s(l){l.nodes().forEach(u=>a(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(a),Object.hasOwn(c,"x")&&a(c)})}function a(l){let u=l.x;l.x=l.y,l.y=u}return MD}var ND,SK;function VWe(){if(SK)return ND;SK=1;let t=ti();ND=e;function e(n){let r={},i=n.nodes().filter(c=>!n.children(c).length),o=i.map(c=>n.node(c).rank),s=t.applyWithChunking(Math.max,o),a=t.range(s+1).map(()=>[]);function l(c){if(r[c])return;r[c]=!0;let d=n.node(c);a[d.rank].push(c),n.successors(c).forEach(l)}return i.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(l),a}return ND}var DD,EK;function zWe(){if(EK)return DD;EK=1;let t=ti().zipObject;DD=e;function e(r,i){let o=0;for(let s=1;s<i.length;++s)o+=n(r,i[s-1],i[s]);return o}function n(r,i,o){let s=t(o,o.map((h,p)=>p)),a=i.flatMap(h=>r.outEdges(h).map(p=>({pos:s[p.w],weight:r.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),l=1;for(;l<o.length;)l<<=1;let u=2*l-1;l-=1;let c=new Array(u).fill(0),d=0;return a.forEach(h=>{let p=h.pos+l;c[p]+=h.weight;let m=0;for(;p>0;)p%2&&(m+=c[p+1]),p=p-1>>1,c[p]+=h.weight;d+=h.weight*m}),d}return DD}var LD,CK;function UWe(){if(CK)return LD;CK=1,LD=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let o=i.reduce((s,a)=>{let l=e.edge(a),u=e.node(a.v);return{sum:s.sum+l.weight*u.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}return LD}var OD,TK;function HWe(){if(TK)return OD;TK=1;let t=ti();OD=e;function e(i,o){let s={};i.forEach((l,u)=>{let c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};l.barycenter!==void 0&&(c.barycenter=l.barycenter,c.weight=l.weight)}),o.edges().forEach(l=>{let u=s[l.v],c=s[l.w];u!==void 0&&c!==void 0&&(c.indegree++,u.out.push(s[l.w]))});let a=Object.values(s).filter(l=>!l.indegree);return n(a)}function n(i){let o=[];function s(l){return u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&r(l,u)}}function a(l){return u=>{u.in.push(l),--u.indegree===0&&i.push(u)}}for(;i.length;){let l=i.pop();o.push(l),l.in.reverse().forEach(s(l)),l.out.forEach(a(l))}return o.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,o){let s=0,a=0;i.weight&&(s+=i.barycenter*i.weight,a+=i.weight),o.weight&&(s+=o.barycenter*o.weight,a+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=s/a,i.weight=a,i.i=Math.min(o.i,i.i),o.merged=!0}return OD}var FD,AK;function qWe(){if(AK)return FD;AK=1;let t=ti();FD=e;function e(i,o){let s=t.partition(i,m=>Object.hasOwn(m,"barycenter")),a=s.lhs,l=s.rhs.sort((m,y)=>y.i-m.i),u=[],c=0,d=0,h=0;a.sort(r(!!o)),h=n(u,l,h),a.forEach(m=>{h+=m.vs.length,u.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,h=n(u,l,h)});let p={vs:u.flat(!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function n(i,o,s){let a;for(;o.length&&(a=o[o.length-1]).i<=s;)o.pop(),i.push(a.vs),s++;return s}function r(i){return(o,s)=>o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:i?s.i-o.i:o.i-s.i}return FD}var $D,RK;function jWe(){if(RK)return $D;RK=1;let t=UWe(),e=HWe(),n=qWe();$D=r;function r(s,a,l,u){let c=s.children(a),d=s.node(a),h=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};h&&(c=c.filter(E=>E!==h&&E!==p));let y=t(s,c);y.forEach(E=>{if(s.children(E.v).length){let S=r(s,E.v,l,u);m[E.v]=S,Object.hasOwn(S,"barycenter")&&o(E,S)}});let w=e(y,l);i(w,m);let _=n(w,u);if(h&&(_.vs=[h,_.vs,p].flat(!0),s.predecessors(h).length)){let E=s.node(s.predecessors(h)[0]),S=s.node(s.predecessors(p)[0]);Object.hasOwn(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+E.order+S.order)/(_.weight+2),_.weight+=2}return _}function i(s,a){s.forEach(l=>{l.vs=l.vs.flatMap(u=>a[u]?a[u].vs:u)})}function o(s,a){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+a.barycenter*a.weight)/(s.weight+a.weight),s.weight+=a.weight):(s.barycenter=a.barycenter,s.weight=a.weight)}return $D}var BD,PK;function WWe(){if(PK)return BD;PK=1;let t=cl().Graph,e=ti();BD=n;function n(i,o,s){let a=r(i),l=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(u=>i.node(u));return i.nodes().forEach(u=>{let c=i.node(u),d=i.parent(u);(c.rank===o||c.minRank<=o&&o<=c.maxRank)&&(l.setNode(u),l.setParent(u,d||a),i[s](u).forEach(h=>{let p=h.v===u?h.w:h.v,m=l.edge(p,u),y=m!==void 0?m.weight:0;l.setEdge(p,u,{weight:i.edge(h).weight+y})}),Object.hasOwn(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[o],borderRight:c.borderRight[o]}))}),l}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return BD}var VD,IK;function GWe(){if(IK)return VD;IK=1,VD=t;function t(e,n,r){let i={},o;r.forEach(s=>{let a=e.parent(s),l,u;for(;a;){if(l=e.parent(a),l?(u=i[l],i[l]=a):(u=o,o=a),u&&u!==a){n.setEdge(u,a);return}a=l}})}return VD}var zD,kK;function KWe(){if(kK)return zD;kK=1;let t=VWe(),e=zWe(),n=jWe(),r=WWe(),i=GWe(),o=cl().Graph,s=ti();zD=a;function a(d,h){if(h&&typeof h.customOrder=="function"){h.customOrder(d,a);return}let p=s.maxRank(d),m=l(d,s.range(1,p+1),"inEdges"),y=l(d,s.range(p-1,-1,-1),"outEdges"),w=t(d);if(c(d,w),h&&h.disableOptimalOrderHeuristic)return;let _=Number.POSITIVE_INFINITY,E;for(let S=0,T=0;T<4;++S,++T){u(S%2?m:y,S%4>=2),w=s.buildLayerMatrix(d);let I=e(d,w);I<_&&(T=0,E=Object.assign({},w),_=I)}c(d,E)}function l(d,h,p){return h.map(function(m){return r(d,m,p)})}function u(d,h){let p=new o;d.forEach(function(m){let y=m.graph().root,w=n(m,y,p,h);w.vs.forEach((_,E)=>m.node(_).order=E),i(m,p,w.vs)})}function c(d,h){Object.values(h).forEach(p=>p.forEach((m,y)=>d.node(m).order=y))}return zD}var UD,MK;function YWe(){if(MK)return UD;MK=1;let t=cl().Graph,e=ti();UD={positionX:p,findType1Conflicts:n,findType2Conflicts:r,addConflict:o,hasConflict:s,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:h};function n(w,_){let E={};function S(T,I){let N=0,P=0,M=T.length,D=I[I.length-1];return I.forEach((k,L)=>{let V=i(w,k),$=V?w.node(V).order:M;(V||k===D)&&(I.slice(P,L+1).forEach(z=>{w.predecessors(z).forEach(G=>{let K=w.node(G),J=K.order;(J<N||$<J)&&!(K.dummy&&w.node(z).dummy)&&o(E,G,z)})}),P=L+1,N=$)}),I}return _.length&&_.reduce(S),E}function r(w,_){let E={};function S(I,N,P,M,D){let k;e.range(N,P).forEach(L=>{k=I[L],w.node(k).dummy&&w.predecessors(k).forEach(V=>{let $=w.node(V);$.dummy&&($.order<M||$.order>D)&&o(E,V,k)})})}function T(I,N){let P=-1,M,D=0;return N.forEach((k,L)=>{if(w.node(k).dummy==="border"){let V=w.predecessors(k);V.length&&(M=w.node(V[0]).order,S(N,D,L,P,M),D=L,P=M)}S(N,D,N.length,M,I.length)}),N}return _.length&&_.reduce(T),E}function i(w,_){if(w.node(_).dummy)return w.predecessors(_).find(E=>w.node(E).dummy)}function o(w,_,E){if(_>E){let T=_;_=E,E=T}let S=w[_];S||(w[_]=S={}),S[E]=!0}function s(w,_,E){if(_>E){let S=_;_=E,E=S}return!!w[_]&&Object.hasOwn(w[_],E)}function a(w,_,E,S){let T={},I={},N={};return _.forEach(P=>{P.forEach((M,D)=>{T[M]=M,I[M]=M,N[M]=D})}),_.forEach(P=>{let M=-1;P.forEach(D=>{let k=S(D);if(k.length){k=k.sort((V,$)=>N[V]-N[$]);let L=(k.length-1)/2;for(let V=Math.floor(L),$=Math.ceil(L);V<=$;++V){let z=k[V];I[D]===D&&M<N[z]&&!s(E,D,z)&&(I[z]=D,I[D]=T[D]=T[z],M=N[z])}}})}),{root:T,align:I}}function l(w,_,E,S,T){let I={},N=u(w,_,E,T),P=T?"borderLeft":"borderRight";function M(L,V){let $=N.nodes(),z=$.pop(),G={};for(;z;)G[z]?L(z):(G[z]=!0,$.push(z),$=$.concat(V(z))),z=$.pop()}function D(L){I[L]=N.inEdges(L).reduce((V,$)=>Math.max(V,I[$.v]+N.edge($)),0)}function k(L){let V=N.outEdges(L).reduce((z,G)=>Math.min(z,I[G.w]-N.edge(G)),Number.POSITIVE_INFINITY),$=w.node(L);V!==Number.POSITIVE_INFINITY&&$.borderType!==P&&(I[L]=Math.max(I[L],V))}return M(D,N.predecessors.bind(N)),M(k,N.successors.bind(N)),Object.keys(S).forEach(L=>I[L]=I[E[L]]),I}function u(w,_,E,S){let T=new t,I=w.graph(),N=m(I.nodesep,I.edgesep,S);return _.forEach(P=>{let M;P.forEach(D=>{let k=E[D];if(T.setNode(k),M){var L=E[M],V=T.edge(L,k);T.setEdge(L,k,Math.max(N(w,D,M),V||0))}M=D})}),T}function c(w,_){return Object.values(_).reduce((E,S)=>{let T=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;Object.entries(S).forEach(([P,M])=>{let D=y(w,P)/2;T=Math.max(M+D,T),I=Math.min(M-D,I)});const N=T-I;return N<E[0]&&(E=[N,S]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(w,_){let E=Object.values(_),S=e.applyWithChunking(Math.min,E),T=e.applyWithChunking(Math.max,E);["u","d"].forEach(I=>{["l","r"].forEach(N=>{let P=I+N,M=w[P];if(M===_)return;let D=Object.values(M),k=S-e.applyWithChunking(Math.min,D);N!=="l"&&(k=T-e.applyWithChunking(Math.max,D)),k&&(w[P]=e.mapValues(M,L=>L+k))})})}function h(w,_){return e.mapValues(w.ul,(E,S)=>{if(_)return w[_.toLowerCase()][S];{let T=Object.values(w).map(I=>I[S]).sort((I,N)=>I-N);return(T[1]+T[2])/2}})}function p(w){let _=e.buildLayerMatrix(w),E=Object.assign(n(w,_),r(w,_)),S={},T;["u","d"].forEach(N=>{T=N==="u"?_:Object.values(_).reverse(),["l","r"].forEach(P=>{P==="r"&&(T=T.map(L=>Object.values(L).reverse()));let M=(N==="u"?w.predecessors:w.successors).bind(w),D=a(w,T,E,M),k=l(w,T,D.root,D.align,P==="r");P==="r"&&(k=e.mapValues(k,L=>-L)),S[N+P]=k})});let I=c(w,S);return d(S,I),h(S,w.graph().align)}function m(w,_,E){return(S,T,I)=>{let N=S.node(T),P=S.node(I),M=0,D;if(M+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":D=-N.width/2;break;case"r":D=N.width/2;break}if(D&&(M+=E?D:-D),D=0,M+=(N.dummy?_:w)/2,M+=(P.dummy?_:w)/2,M+=P.width/2,Object.hasOwn(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":D=P.width/2;break;case"r":D=-P.width/2;break}return D&&(M+=E?D:-D),D=0,M}}function y(w,_){return w.node(_).width}return UD}var HD,NK;function XWe(){if(NK)return HD;NK=1;let t=ti(),e=YWe().positionX;HD=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([o,s])=>i.node(o).x=s)}function r(i){let o=t.buildLayerMatrix(i),s=i.graph().ranksep,a=0;o.forEach(l=>{const u=l.reduce((c,d)=>{const h=i.node(d).height;return c>h?c:h},0);l.forEach(c=>i.node(c).y=a+u/2),a+=u+s})}return HD}var qD,DK;function JWe(){if(DK)return qD;DK=1;let t=MWe(),e=NWe(),n=LWe(),r=ti().normalizeRanks,i=OWe(),o=ti().removeEmptyRanks,s=FWe(),a=$We(),l=BWe(),u=KWe(),c=XWe(),d=ti(),h=cl().Graph;qD=p;function p(q,Y){let te=Y&&Y.debugTiming?d.time:d.notime;te("layout",()=>{let le=te("  buildLayoutGraph",()=>M(q));te("  runLayout",()=>m(le,te,Y)),te("  updateInputGraph",()=>y(q,le))})}function m(q,Y,te){Y("    makeSpaceForEdgeLabels",()=>D(q)),Y("    removeSelfEdges",()=>ee(q)),Y("    acyclic",()=>t.run(q)),Y("    nestingGraph.run",()=>s.run(q)),Y("    rank",()=>n(d.asNonCompoundGraph(q))),Y("    injectEdgeLabelProxies",()=>k(q)),Y("    removeEmptyRanks",()=>o(q)),Y("    nestingGraph.cleanup",()=>s.cleanup(q)),Y("    normalizeRanks",()=>r(q)),Y("    assignRankMinMax",()=>L(q)),Y("    removeEdgeLabelProxies",()=>V(q)),Y("    normalize.run",()=>e.run(q)),Y("    parentDummyChains",()=>i(q)),Y("    addBorderSegments",()=>a(q)),Y("    order",()=>u(q,te)),Y("    insertSelfEdges",()=>X(q)),Y("    adjustCoordinateSystem",()=>l.adjust(q)),Y("    position",()=>c(q)),Y("    positionSelfEdges",()=>j(q)),Y("    removeBorderNodes",()=>J(q)),Y("    normalize.undo",()=>e.undo(q)),Y("    fixupEdgeLabelCoords",()=>G(q)),Y("    undoCoordinateSystem",()=>l.undo(q)),Y("    translateGraph",()=>$(q)),Y("    assignNodeIntersects",()=>z(q)),Y("    reversePoints",()=>K(q)),Y("    acyclic.undo",()=>t.undo(q))}function y(q,Y){q.nodes().forEach(te=>{let le=q.node(te),de=Y.node(te);le&&(le.x=de.x,le.y=de.y,le.rank=de.rank,Y.children(te).length&&(le.width=de.width,le.height=de.height))}),q.edges().forEach(te=>{let le=q.edge(te),de=Y.edge(te);le.points=de.points,Object.hasOwn(de,"x")&&(le.x=de.x,le.y=de.y)}),q.graph().width=Y.graph().width,q.graph().height=Y.graph().height}let w=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],S=["width","height"],T={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function M(q){let Y=new h({multigraph:!0,compound:!0}),te=ue(q.graph());return Y.setGraph(Object.assign({},_,Q(te,w),d.pick(te,E))),q.nodes().forEach(le=>{let de=ue(q.node(le));const se=Q(de,S);Object.keys(T).forEach(ce=>{se[ce]===void 0&&(se[ce]=T[ce])}),Y.setNode(le,se),Y.setParent(le,q.parent(le))}),q.edges().forEach(le=>{let de=ue(q.edge(le));Y.setEdge(le,Object.assign({},N,Q(de,I),d.pick(de,P)))}),Y}function D(q){let Y=q.graph();Y.ranksep/=2,q.edges().forEach(te=>{let le=q.edge(te);le.minlen*=2,le.labelpos.toLowerCase()!=="c"&&(Y.rankdir==="TB"||Y.rankdir==="BT"?le.width+=le.labeloffset:le.height+=le.labeloffset)})}function k(q){q.edges().forEach(Y=>{let te=q.edge(Y);if(te.width&&te.height){let le=q.node(Y.v),se={rank:(q.node(Y.w).rank-le.rank)/2+le.rank,e:Y};d.addDummyNode(q,"edge-proxy",se,"_ep")}})}function L(q){let Y=0;q.nodes().forEach(te=>{let le=q.node(te);le.borderTop&&(le.minRank=q.node(le.borderTop).rank,le.maxRank=q.node(le.borderBottom).rank,Y=Math.max(Y,le.maxRank))}),q.graph().maxRank=Y}function V(q){q.nodes().forEach(Y=>{let te=q.node(Y);te.dummy==="edge-proxy"&&(q.edge(te.e).labelRank=te.rank,q.removeNode(Y))})}function $(q){let Y=Number.POSITIVE_INFINITY,te=0,le=Number.POSITIVE_INFINITY,de=0,se=q.graph(),ce=se.marginx||0,fe=se.marginy||0;function ye(we){let Re=we.x,Ae=we.y,be=we.width,Ke=we.height;Y=Math.min(Y,Re-be/2),te=Math.max(te,Re+be/2),le=Math.min(le,Ae-Ke/2),de=Math.max(de,Ae+Ke/2)}q.nodes().forEach(we=>ye(q.node(we))),q.edges().forEach(we=>{let Re=q.edge(we);Object.hasOwn(Re,"x")&&ye(Re)}),Y-=ce,le-=fe,q.nodes().forEach(we=>{let Re=q.node(we);Re.x-=Y,Re.y-=le}),q.edges().forEach(we=>{let Re=q.edge(we);Re.points.forEach(Ae=>{Ae.x-=Y,Ae.y-=le}),Object.hasOwn(Re,"x")&&(Re.x-=Y),Object.hasOwn(Re,"y")&&(Re.y-=le)}),se.width=te-Y+ce,se.height=de-le+fe}function z(q){q.edges().forEach(Y=>{let te=q.edge(Y),le=q.node(Y.v),de=q.node(Y.w),se,ce;te.points?(se=te.points[0],ce=te.points[te.points.length-1]):(te.points=[],se=de,ce=le),te.points.unshift(d.intersectRect(le,se)),te.points.push(d.intersectRect(de,ce))})}function G(q){q.edges().forEach(Y=>{let te=q.edge(Y);if(Object.hasOwn(te,"x"))switch((te.labelpos==="l"||te.labelpos==="r")&&(te.width-=te.labeloffset),te.labelpos){case"l":te.x-=te.width/2+te.labeloffset;break;case"r":te.x+=te.width/2+te.labeloffset;break}})}function K(q){q.edges().forEach(Y=>{let te=q.edge(Y);te.reversed&&te.points.reverse()})}function J(q){q.nodes().forEach(Y=>{if(q.children(Y).length){let te=q.node(Y),le=q.node(te.borderTop),de=q.node(te.borderBottom),se=q.node(te.borderLeft[te.borderLeft.length-1]),ce=q.node(te.borderRight[te.borderRight.length-1]);te.width=Math.abs(ce.x-se.x),te.height=Math.abs(de.y-le.y),te.x=se.x+te.width/2,te.y=le.y+te.height/2}}),q.nodes().forEach(Y=>{q.node(Y).dummy==="border"&&q.removeNode(Y)})}function ee(q){q.edges().forEach(Y=>{if(Y.v===Y.w){var te=q.node(Y.v);te.selfEdges||(te.selfEdges=[]),te.selfEdges.push({e:Y,label:q.edge(Y)}),q.removeEdge(Y)}})}function X(q){var Y=d.buildLayerMatrix(q);Y.forEach(te=>{var le=0;te.forEach((de,se)=>{var ce=q.node(de);ce.order=se+le,(ce.selfEdges||[]).forEach(fe=>{d.addDummyNode(q,"selfedge",{width:fe.label.width,height:fe.label.height,rank:ce.rank,order:se+ ++le,e:fe.e,label:fe.label},"_se")}),delete ce.selfEdges})})}function j(q){q.nodes().forEach(Y=>{var te=q.node(Y);if(te.dummy==="selfedge"){var le=q.node(te.e.v),de=le.x+le.width/2,se=le.y,ce=te.x-de,fe=le.height/2;q.setEdge(te.e,te.label),q.removeNode(Y),te.label.points=[{x:de+2*ce/3,y:se-fe},{x:de+5*ce/6,y:se-fe},{x:de+ce,y:se},{x:de+5*ce/6,y:se+fe},{x:de+2*ce/3,y:se+fe}],te.label.x=te.x,te.label.y=te.y}})}function Q(q,Y){return d.mapValues(d.pick(q,Y),Number)}function ue(q){var Y={};return q&&Object.entries(q).forEach(([te,le])=>{typeof te=="string"&&(te=te.toLowerCase()),Y[te]=le}),Y}return qD}var jD,LK;function QWe(){if(LK)return jD;LK=1;let t=ti(),e=cl().Graph;jD={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),o=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(s=>{o.setNode(s,{label:s}),o.setParent(s,"layer"+r.node(s).rank)}),r.edges().forEach(s=>o.setEdge(s.v,s.w,{},s.name)),i.forEach((s,a)=>{let l="layer"+a;o.setNode(l,{rank:"same"}),s.reduce((u,c)=>(o.setEdge(u,c,{style:"invis"}),c))}),o}return jD}var WD,OK;function ZWe(){return OK||(OK=1,WD="1.1.4"),WD}var GD,FK;function e7e(){return FK||(FK=1,GD={graphlib:cl(),layout:JWe(),debug:QWe(),util:{time:ti().time,notime:ti().notime},version:ZWe()}),GD}var t7e=e7e();const $K=uo(t7e);function n7e({data:t}){var m;const{id:e,readPurposeId:n,label:r,type:i,content:o}=t,{readPurposes:s,displayedReads:a,selectedHighlightIds:l}=Gf(),{color:u}=s[n]||{color:"#e6e6e6"},c=a.includes(n),d=Q$(),h=l.includes(e),p=d.inProgress&&!h&&((m=d.toNode)==null?void 0:m.id)===e;return O.jsx(ze,{className:`graph-node highlight-node ${h?"selected":""} ${p?"target":""}`,id:`node-${e}`,sx:{backgroundColor:c?u:"#e6e6e6"},children:O.jsxs(ze,{sx:{width:"100%",m:1},children:[O.jsx(Jo,{className:"connection-handle",id:`relational-handle-${e}-source`,position:ct.Right,isConnectableStart:h,type:"source"}),O.jsx(Jo,{className:"connection-handle",id:`relational-handle-${e}-target`,position:ct.Left,type:"target",isConnectableStart:!1}),O.jsx(Jo,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:ct.Top,type:"target",isConnectableStart:!1}),O.jsx(Jo,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:ct.Bottom,type:"source",isConnectableStart:!1}),O.jsx(nt,{variant:"body1",children:r}),i==="area"&&O.jsx("img",{src:o,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}})]})})}function r7e({data:t}){const{id:e,readRecordId:n,label:r,content:i,type:o,notes:s}=t,{readPurposes:a,displayedReads:l,selectedHighlightIds:u}=Gf(),{color:c}=a[n],d=l.includes(n);return O.jsxs(ze,{className:`graph-node overview-node ${u.includes(e)?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[O.jsx(Jo,{type:"target",position:ct.Top,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}}),O.jsx(nt,{variant:"body1",children:r}),o==="area"&&O.jsxs(O.Fragment,{children:[O.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),O.jsx("br",{})]}),O.jsx(nt,{variant:"caption",children:s}),O.jsx(Jo,{type:"source",position:ct.Bottom,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}})]})}function i7e({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:o,markerEnd:s}){const[a,l,u]=YA({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return O.jsxs(O.Fragment,{children:[O.jsx(o0,{path:a,markerEnd:s,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),O.jsx(JJ,{children:O.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}function BK(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,o=e.internals.positionAbsolute,s=n/2,a=r/2,l=i.x+s,u=i.y+a,c=o.x+e.measured.width/2,d=o.y+e.measured.height/2,h=(c-l)/(2*s)-(d-u)/(2*a),p=(c-l)/(2*s)+(d-u)/(2*a),m=1/(Math.abs(h)+Math.abs(p)),y=m*h,w=m*p,_=s*(y+w)+l,E=a*(-y+w)+u;return{x:_,y:E}}function VK(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),o=Math.round(e.x),s=Math.round(e.y);return o<=r+1?ct.Left:o>=r+n.measured.width-1?ct.Right:s<=i+1?ct.Top:s>=n.y+n.measured.height-1?ct.Bottom:ct.Top}function o7e(t,e){const n=BK(t,e),r=BK(e,t),i=VK(t,n),o=VK(e,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:i,targetPos:o}}function s7e({toX:t,toY:e}){const{getInternalNode:n}=fS(),{selectedHighlightIds:r}=Gf();return uge().filter(a=>r.includes(a.id)).flatMap(a=>{var u,c,d;const l=n(a.id);return(c=(u=l==null?void 0:l.internals)==null?void 0:u.handleBounds)!=null&&c.source?(d=l.internals.handleBounds.source)==null?void 0:d.map(h=>({id:l.id,positionAbsolute:l.internals.positionAbsolute,bounds:h})):[]}).map(({id:a,positionAbsolute:l,bounds:u})=>{const c=u.x+u.width/2,d=u.y+u.height/2,h=l.x+c,p=l.y+d,[m]=J$({sourceX:h,sourceY:p,targetX:t,targetY:e});return O.jsx("g",{children:O.jsx("path",{fill:"none",strokeWidth:1,stroke:"#b1b1b7",d:m})},`${a}-${u.id}`)})}function a7e({source:t,target:e,markerEnd:n}){const r=k6(t),i=k6(e);if(!r||!i)return null;const{sx:o,sy:s,tx:a,ty:l,sourcePos:u,targetPos:c}=o7e(r,i),[d,h,p]=YA({sourceX:o,sourceY:s,sourcePosition:u,targetPosition:c,targetX:a,targetY:l});return O.jsxs(O.Fragment,{children:[O.jsx(o0,{path:d,markerEnd:n,style:{stroke:"black",strokeWidth:2}}),O.jsx(JJ,{children:O.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${h}px,${p}px)`}})})]})}function l7e(){const{nodes:t,updateNodeData:e,deleteHighlight:n,selectedHighlightIds:r,setSelectedHighlightIds:i,setOnSelectNode:o,query_gemini:s}=Gf(),[a,l]=F.useState(""),[u,c]=F.useState(""),[d,h]=F.useState(""),[p,m]=F.useState(!1),[y,w]=F.useState(!1);F.useEffect(()=>{const S=r[0],T=t.find(I=>I.id===S);T&&(l(T.data.label),T.data.content,T.data.type,c(T.data.summary),h(T.data.notes),m(!1),w(!1))},[r]);const _=()=>{const S=r[0];e(S,{label:a,summary:u,notes:d}),i([]),o(!1)},E=()=>{w(!0),p||(i([]),o(!1))};return O.jsxs("div",{className:"wrapper",style:{overflowY:y?"hidden":"auto"},children:[p&&y&&O.jsxs("div",{className:"closing-popup",children:[O.jsx("div",{className:"closing-background",onClick:()=>w(!1)}),O.jsxs("div",{className:"closing-modal",children:[O.jsx("h3",{children:"Would you like to save your changes?"}),O.jsxs("div",{className:"closing-modal-buttons",children:[O.jsx(lr,{variant:"outlined",color:"success",onClick:()=>_(),children:"Save"}),O.jsx(lr,{variant:"outlined",color:"error",onClick:()=>w(!1),children:"Cancel"})]})]})]}),O.jsx(Yo,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>E(),children:O.jsx(gne,{})}),O.jsxs(ze,{className:"field",children:[O.jsx("h3",{children:"Label"}),O.jsx(Ko,{id:"label",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:a,onChange:S=>{m(!0),l(S.target.value)}})]}),O.jsxs(ze,{className:"field",children:[O.jsx("h3",{children:"Notes"}),O.jsx(Ko,{id:"notes",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:d,onChange:S=>{m(!0),h(S.target.value)},multiline:!0,placeholder:"Write your notes here..."})]}),O.jsxs(ze,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[O.jsx(lr,{variant:"outlined",color:"success",onClick:()=>_(),children:"Save"}),O.jsx(lr,{variant:"outlined",color:"error",onClick:()=>{const S=r[0];n(S),i([])},children:"Delete"})]})]})}function u7e({data:t}){var h;const{id:e,readPurposeId:n,label:r}=t,{readPurposes:i,displayedReads:o,selectedHighlightIds:s}=Gf(),{color:a}=i[n]||{color:"#e6e6e6"},l=o.includes(n),u=Q$(),c=s.includes(e),d=u.inProgress&&!c&&((h=u.toNode)==null?void 0:h.id)===e;return O.jsx(ze,{className:`graph-node theme-node ${c?"selected":""} ${d?"target":""}`,id:`node-${e}`,sx:{backgroundColor:l?`${a}`:"#e6e6e6"},children:O.jsxs(ze,{sx:{width:"100%",m:1,mb:2},children:[O.jsx(Jo,{className:"connection-handle",id:`relational-handle-${e}-source`,position:ct.Right,isConnectableStart:c,type:"source"}),O.jsx(Jo,{className:"connection-handle",id:`relational-handle-${e}-target`,position:ct.Left,type:"target",isConnectableStart:!1}),O.jsx(Jo,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:ct.Top,type:"target",isConnectableStart:!1}),O.jsx(Jo,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:ct.Bottom,type:"source",isConnectableStart:!1}),O.jsx(nt,{variant:"h5",sx:{fontWeight:"600",textAlign:"center"},children:r})]})})}const c7e=({open:t,anchorPosition:e,onClose:n,onCreateGroup:r,onDeleteSelected:i,selectedCount:o})=>{const[s,a]=F.useState(!1),[l,u]=F.useState(""),c=()=>{a(!0),u(`Group (${o} nodes)`)},d=()=>{l.trim()&&(r(l.trim()),a(!1),u(""))},h=()=>{a(!1),u("")};return F.useEffect(()=>{a(!1),u("")},[t]),O.jsx(UR,{open:t,onClose:n,anchorReference:"anchorPosition",anchorPosition:e,slotProps:{paper:{style:{height:"min-content",width:"min-content"}}},children:s?O.jsxs(ze,{sx:{p:1,minWidth:250},children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"center",mb:2},children:[O.jsx(Yo,{onClick:h,sx:{mr:1},children:O.jsx(pne,{fontSize:"small"})}),O.jsx(nt,{variant:"subtitle2",children:"Create Group"})]}),O.jsx(Ko,{fullWidth:!0,label:"Group Label",value:l,onChange:p=>u(p.target.value),autoFocus:!0,size:"small",sx:{mb:2}}),O.jsxs(ze,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[O.jsx(lr,{size:"small",onClick:h,color:"secondary",children:"Cancel"}),O.jsx(lr,{size:"small",variant:"contained",onClick:d,disabled:!l.trim(),children:"Create"})]})]}):O.jsxs(O.Fragment,{children:[o>1&&O.jsxs(bx,{onClick:c,children:[O.jsx(vx,{children:O.jsx(E5e,{fontSize:"small"})}),O.jsx(Qp,{children:"Create Group"})]}),o>0&&O.jsxs(bx,{onClick:i,children:[O.jsx(vx,{children:O.jsx(w5e,{fontSize:"small"})}),O.jsx(Qp,{children:"Delete Selected"})]})]})})},d7e={highlight:n7e,overview:r7e,theme:u7e},f7e={chronological:i7e,relational:a7e};function h7e(t){const{mode:e,setShowCanvas:n,nodes:r,edges:i,setNodes:o,setEdges:s,onNodesChange:a,onEdgesChange:l,onConnect:u,selectedHighlightIds:c,setSelectedHighlightIds:d,onSelectNode:h,setOnSelectNode:p,createGroupNode:m,displayEdgeTypes:y,setDisplayEdgeTypes:w}=t,{fitView:_}=fS(),[E,S]=F.useState(!1),[T,I]=F.useState(!1),[N,P]=F.useState({open:!1,anchorPosition:void 0}),[M,D]=F.useState(!0);F.useEffect(()=>{const q=Y=>{Y.key==="Escape"&&d([])};return document.addEventListener("keydown",q),()=>{document.removeEventListener("keydown",q)}},[d]);const k=(q,Y)=>{if(!(E||!q))if(q.shiftKey&&e===Or.READING)if(c.includes(Y.id)){const te=c.filter(le=>le!==Y.id);d(te)}else{const te=[...c,Y.id];d(te)}else d([Y.id])},L=(q,Y)=>{E||!q||p(te=>!te)},V=(q,Y)=>{E||!q||e===Or.ANALYZING||(q.preventDefault(),c.includes(Y.id)||d([Y.id]),P({open:!0,anchorPosition:{top:q.clientY,left:q.clientX}}))},$=()=>{P({open:!1,anchorPosition:void 0})},z=q=>{m(c,q),$()},G=()=>{console.log("Delete selected nodes:",c),$()},K=()=>{console.log("open Overview"),o(E?r.map(q=>({...q,type:"highlight"})):r.map(q=>({...q,type:"overview"}))),d([]),S(!E)},J=(q,Y,te)=>{const le=new $K.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return le.setGraph({rankdir:te.direction}),Y.forEach(de=>le.setEdge(de.source,de.target)),q.forEach(de=>{var se,ce;return le.setNode(de.id,{...de,width:((se=de.measured)==null?void 0:se.width)??0,height:((ce=de.measured)==null?void 0:ce.height)??0})}),$K.layout(le),{nodes:q.map(de=>{var ye,we;const se=le.node(de.id),ce=se.x-(((ye=de.measured)==null?void 0:ye.width)??0)/2,fe=se.y-(((we=de.measured)==null?void 0:we.height)??0)/2;return{...de,position:{x:ce,y:fe}}}),edges:Y}},ee=F.useCallback(q=>{console.log(r);const Y=J(r,i,{direction:q});o([...Y.nodes]),s([...Y.edges]),window.requestAnimationFrame(()=>{_()})},[r,i]);F.useEffect(()=>{if(c.length>0&&h){console.log("viewport focus on selected nodes");const q=r.filter(Y=>c.includes(Y.id));q.length>0&&_({padding:3.5,nodes:q})}else _({padding:1})},[r,h,c]);const X=q=>{w(y.includes(q)?y.filter(Y=>Y!==q):[...y,q])},j=()=>{I(!T)},Q=()=>{M&&d([]),D(!0)},ue=(q,Y)=>{Y.isValid||(console.log("connectionState",Y),D(!1))};return O.jsxs(sge,{nodes:r,edges:i,onNodesChange:a,onEdgesChange:l,connectionLineComponent:s7e,onNodeClick:k,onNodeDoubleClick:L,onNodeContextMenu:V,nodeTypes:d7e,edgeTypes:f7e,fitView:!0,onPaneClick:Q,onConnect:u,onConnectEnd:ue,style:{width:"100%",height:"100%"},children:[O.jsx(mge,{}),O.jsx(Sge,{onFitView:()=>ee("TB"),style:{color:"black"}}),O.jsx(Oge,{}),O.jsx(kv,{position:"top-right",style:{color:"black"},children:O.jsxs(ze,{sx:{position:"relative"},children:[O.jsx(Yo,{onClick:j,size:"small",sx:{backgroundColor:T?"rgba(0, 0, 0, 0.1)":"transparent","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},"&:focus":{outline:"none"}},children:O.jsx(N5e,{})}),T&&O.jsx(au,{elevation:4,sx:{position:"absolute",top:"100%",right:0,mt:.5,p:1.5,backgroundColor:"white",minWidth:200,zIndex:1e3,borderRadius:1},children:O.jsxs(LOe,{children:[O.jsx(Fq,{control:O.jsx(OO,{size:"small",checked:y.includes(no.CHRONOLOGICAL),onChange:()=>X(no.CHRONOLOGICAL)}),label:"Chronological Link",sx:{fontSize:"0.875rem",mb:.5}}),O.jsx(Fq,{control:O.jsx(OO,{size:"small",checked:y.includes(no.RELATIONAL),onChange:()=>X(no.RELATIONAL)}),label:"Relational Link",sx:{fontSize:"0.875rem"}})]})})]})}),O.jsxs(kv,{position:"top-left",children:[e===Or.ANALYZING&&O.jsx(Yo,{color:"primary",onClick:()=>n(!1),children:O.jsx(pne,{})}),O.jsx(Yo,{onClick:K,children:E?O.jsx(v5e,{}):O.jsx(P5e,{})})]}),O.jsx(c7e,{open:N.open,anchorPosition:N.anchorPosition,onClose:$,onCreateGroup:z,onDeleteSelected:G,selectedCount:c.length})]})}function p7e(){const{mode:t}=ad(),{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:o,onEdgesChange:s,onConnect:a,selectedHighlightIds:l,setSelectedHighlightIds:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:h,displayEdgeTypes:p,setDisplayEdgeTypes:m}=Gf(),{setShowCanvas:y}=fg();return O.jsxs(ze,{style:{width:"100%",height:"100%",position:"relative"},children:[O.jsx(XJ,{children:O.jsx(h7e,{style:{height:"auto"},mode:t,setShowCanvas:y,nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:o,onEdgesChange:s,onConnect:a,selectedHighlightIds:l,setSelectedHighlightIds:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:h,displayEdgeTypes:p,setDisplayEdgeTypes:m})}),c&&l.length>0&&O.jsx(ze,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:O.jsx(l7e,{})})]})}function Yoe(t){return e=>typeof e===t}var g7e=Yoe("function"),m7e=t=>t===null,zK=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",UK=t=>!y7e(t)&&!m7e(t)&&(g7e(t)||typeof t=="object"),y7e=Yoe("undefined");function v7e(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Eo(t[r],e[r]))return!1;return!0}function b7e(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function w7e(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Eo(n[1],e.get(n[0])))return!1;return!0}function x7e(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Eo(t,e){if(t===e)return!0;if(t&&UK(t)&&e&&UK(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return v7e(t,e);if(t instanceof Map&&e instanceof Map)return w7e(t,e);if(t instanceof Set&&e instanceof Set)return x7e(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return b7e(t,e);if(zK(t)&&zK(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!Eo(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var _7e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],S7e=["bigint","boolean","null","number","string","symbol","undefined"];function bP(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(E7e(e))return e}function ml(t){return e=>bP(e)===t}function E7e(t){return _7e.includes(t)}function _0(t){return e=>typeof e===t}function C7e(t){return S7e.includes(t)}var T7e=["innerHTML","ownerDocument","style","attributes","nodeValue"];function ut(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ut.array(t))return"Array";if(ut.plainFunction(t))return"Function";const e=bP(t);return e||"Object"}ut.array=Array.isArray;ut.arrayOf=(t,e)=>!ut.array(t)&&!ut.function(e)?!1:t.every(n=>e(n));ut.asyncGeneratorFunction=t=>bP(t)==="AsyncGeneratorFunction";ut.asyncFunction=ml("AsyncFunction");ut.bigint=_0("bigint");ut.boolean=t=>t===!0||t===!1;ut.date=ml("Date");ut.defined=t=>!ut.undefined(t);ut.domElement=t=>ut.object(t)&&!ut.plainObject(t)&&t.nodeType===1&&ut.string(t.nodeName)&&T7e.every(e=>e in t);ut.empty=t=>ut.string(t)&&t.length===0||ut.array(t)&&t.length===0||ut.object(t)&&!ut.map(t)&&!ut.set(t)&&Object.keys(t).length===0||ut.set(t)&&t.size===0||ut.map(t)&&t.size===0;ut.error=ml("Error");ut.function=_0("function");ut.generator=t=>ut.iterable(t)&&ut.function(t.next)&&ut.function(t.throw);ut.generatorFunction=ml("GeneratorFunction");ut.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;ut.iterable=t=>!ut.nullOrUndefined(t)&&ut.function(t[Symbol.iterator]);ut.map=ml("Map");ut.nan=t=>Number.isNaN(t);ut.null=t=>t===null;ut.nullOrUndefined=t=>ut.null(t)||ut.undefined(t);ut.number=t=>_0("number")(t)&&!ut.nan(t);ut.numericString=t=>ut.string(t)&&t.length>0&&!Number.isNaN(Number(t));ut.object=t=>!ut.nullOrUndefined(t)&&(ut.function(t)||typeof t=="object");ut.oneOf=(t,e)=>ut.array(t)?t.indexOf(e)>-1:!1;ut.plainFunction=ml("Function");ut.plainObject=t=>{if(bP(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};ut.primitive=t=>ut.null(t)||C7e(typeof t);ut.promise=ml("Promise");ut.propertyOf=(t,e,n)=>{if(!ut.object(t)||!e)return!1;const r=t[e];return ut.function(n)?n(r):ut.defined(r)};ut.regexp=ml("RegExp");ut.set=ml("Set");ut.string=_0("string");ut.symbol=_0("symbol");ut.undefined=_0("undefined");ut.weakMap=ml("WeakMap");ut.weakSet=ml("WeakSet");var yt=ut;function A7e(...t){return t.every(e=>yt.string(e)||yt.array(e)||yt.plainObject(e))}function R7e(t,e,n){return Xoe(t,e)?[t,e].every(yt.array)?!t.some(GK(n))&&e.some(GK(n)):[t,e].every(yt.plainObject)?!Object.entries(t).some(WK(n))&&Object.entries(e).some(WK(n)):e===n:!1}function HK(t,e,n){const{actual:r,key:i,previous:o,type:s}=n,a=fu(t,i),l=fu(e,i);let u=[a,l].every(yt.number)&&(s==="increased"?a<l:a>l);return yt.undefined(r)||(u=u&&l===r),yt.undefined(o)||(u=u&&a===o),u}function qK(t,e,n){const{key:r,type:i,value:o}=n,s=fu(t,r),a=fu(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!yt.nullOrUndefined(o)){if(yt.defined(l)){if(yt.array(l)||yt.plainObject(l))return R7e(l,u,o)}else return Eo(u,o);return!1}return[s,a].every(yt.array)?!u.every(L3(l)):[s,a].every(yt.plainObject)?P7e(Object.keys(l),Object.keys(u)):![s,a].every(c=>yt.primitive(c)&&yt.defined(c))&&(i==="added"?!yt.defined(s)&&yt.defined(a):yt.defined(s)&&!yt.defined(a))}function jK(t,e,{key:n}={}){let r=fu(t,n),i=fu(e,n);if(!Xoe(r,i))throw new TypeError("Inputs have different types");if(!A7e(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(yt.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function WK(t){return([e,n])=>yt.array(t)?Eo(t,n)||t.some(r=>Eo(r,n)||yt.array(n)&&L3(n)(r)):yt.plainObject(t)&&t[e]?!!t[e]&&Eo(t[e],n):Eo(t,n)}function P7e(t,e){return e.some(n=>!t.includes(n))}function GK(t){return e=>yt.array(t)?t.some(n=>Eo(n,e)||yt.array(e)&&L3(e)(n)):Eo(t,e)}function Pb(t,e){return yt.array(t)?t.some(n=>Eo(n,e)):Eo(t,e)}function L3(t){return e=>t.some(n=>Eo(n,e))}function Xoe(...t){return t.every(yt.array)||t.every(yt.number)||t.every(yt.plainObject)||t.every(yt.string)}function fu(t,e){return yt.plainObject(t)||yt.array(t)?yt.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):yt.number(e)?t[e]:t:t}function fA(t,e){if([t,e].some(yt.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(c=>yt.plainObject(c)||yt.array(c)))throw new Error("Expected plain objects or array");return{added:(c,d)=>{try{return qK(t,e,{key:c,type:"added",value:d})}catch{return!1}},changed:(c,d,h)=>{try{const p=fu(t,c),m=fu(e,c),y=yt.defined(d),w=yt.defined(h);if(y||w){const _=w?Pb(h,p):!Pb(d,p),E=Pb(d,m);return _&&E}return[p,m].every(yt.array)||[p,m].every(yt.plainObject)?!Eo(p,m):p!==m}catch{return!1}},changedFrom:(c,d,h)=>{if(!yt.defined(c))return!1;try{const p=fu(t,c),m=fu(e,c),y=yt.defined(h);return Pb(d,p)&&(y?Pb(h,m):!y)}catch{return!1}},decreased:(c,d,h)=>{if(!yt.defined(c))return!1;try{return HK(t,e,{key:c,actual:d,previous:h,type:"decreased"})}catch{return!1}},emptied:c=>{try{const[d,h]=jK(t,e,{key:c});return!!d.length&&!h.length}catch{return!1}},filled:c=>{try{const[d,h]=jK(t,e,{key:c});return!d.length&&!!h.length}catch{return!1}},increased:(c,d,h)=>{if(!yt.defined(c))return!1;try{return HK(t,e,{key:c,actual:d,previous:h,type:"increased"})}catch{return!1}},removed:(c,d)=>{try{return qK(t,e,{key:c,type:"removed",value:d})}catch{return!1}}}}var KD,KK;function I7e(){if(KK)return KD;KK=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;KD={left:i("scrollLeft"),top:i("scrollTop")};function i(a){return function(u,c,d,h){d=d||{},typeof d=="function"&&(h=d,d={}),typeof h!="function"&&(h=s);var p=r(),m=u[a],y=d.ease||o,w=isNaN(d.duration)?350:+d.duration,_=!1;return m===c?h(t,u[a]):requestAnimationFrame(S),E;function E(){_=!0}function S(T){if(_)return h(e,u[a]);var I=r(),N=n(1,(I-p)/w),P=y(N);u[a]=P*(c-m)+m,N<1?requestAnimationFrame(S):requestAnimationFrame(function(){h(null,u[a])})}}}function o(a){return .5*(1-Math.cos(Math.PI*a))}function s(){}return KD}var k7e=I7e();const M7e=uo(k7e);var tT={exports:{}},N7e=tT.exports,YK;function D7e(){return YK||(YK=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(N7e,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(tT)),tT.exports}var L7e=D7e();const Joe=uo(L7e);var YD,XK;function O7e(){if(XK)return YD;XK=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,YD=n,YD}var F7e=O7e();const JK=uo(F7e);var XD,QK;function $7e(){if(QK)return XD;QK=1;var t=function(E){return e(E)&&!n(E)};function e(_){return!!_&&typeof _=="object"}function n(_){var E=Object.prototype.toString.call(_);return E==="[object RegExp]"||E==="[object Date]"||o(_)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(_){return _.$$typeof===i}function s(_){return Array.isArray(_)?[]:{}}function a(_,E){return E.clone!==!1&&E.isMergeableObject(_)?y(s(_),_,E):_}function l(_,E,S){return _.concat(E).map(function(T){return a(T,S)})}function u(_,E){if(!E.customMerge)return y;var S=E.customMerge(_);return typeof S=="function"?S:y}function c(_){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(_).filter(function(E){return Object.propertyIsEnumerable.call(_,E)}):[]}function d(_){return Object.keys(_).concat(c(_))}function h(_,E){try{return E in _}catch{return!1}}function p(_,E){return h(_,E)&&!(Object.hasOwnProperty.call(_,E)&&Object.propertyIsEnumerable.call(_,E))}function m(_,E,S){var T={};return S.isMergeableObject(_)&&d(_).forEach(function(I){T[I]=a(_[I],S)}),d(E).forEach(function(I){p(_,I)||(h(_,I)&&S.isMergeableObject(E[I])?T[I]=u(I,S)(_[I],E[I],S):T[I]=a(E[I],S))}),T}function y(_,E,S){S=S||{},S.arrayMerge=S.arrayMerge||l,S.isMergeableObject=S.isMergeableObject||t,S.cloneUnlessOtherwiseSpecified=a;var T=Array.isArray(E),I=Array.isArray(_),N=T===I;return N?T?S.arrayMerge(_,E,S):m(_,E,S):a(E,S)}y.all=function(E,S){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(T,I){return y(T,I,S)},{})};var w=y;return XD=w,XD}var B7e=$7e();const il=uo(B7e);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var VS=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",V7e=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(VS&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function z7e(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function U7e(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},V7e))}}var H7e=VS&&window.Promise,q7e=H7e?z7e:U7e;function Qoe(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Tg(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function O3(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function zS(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Tg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:zS(O3(t))}function Zoe(t){return t&&t.referenceNode?t.referenceNode:t}var ZK=VS&&!!(window.MSInputMethodContext&&document.documentMode),eY=VS&&/MSIE 10/.test(navigator.userAgent);function S0(t){return t===11?ZK:t===10?eY:ZK||eY}function e0(t){if(!t)return document.documentElement;for(var e=S0(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Tg(n,"position")==="static"?e0(n):n}function j7e(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||e0(t.firstElementChild)===t}function p$(t){return t.parentNode!==null?p$(t.parentNode):t}function hA(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||r.contains(i))return j7e(s)?s:e0(s);var a=p$(t);return a.host?hA(a.host,e):hA(t,p$(e).host)}function t0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function W7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t0(e,"top"),i=t0(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function tY(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function nY(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],S0(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function ese(t){var e=t.body,n=t.documentElement,r=S0(10)&&getComputedStyle(n);return{height:nY("Height",e,n,r),width:nY("Width",e,n,r)}}var G7e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},K7e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),n0=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},da=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function qf(t){return da({},t,{right:t.left+t.width,bottom:t.top+t.height})}function g$(t){var e={};try{if(S0(10)){e=t.getBoundingClientRect();var n=t0(t,"top"),r=t0(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o=t.nodeName==="HTML"?ese(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,a=o.height||t.clientHeight||i.height,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var c=Tg(t);l-=tY(c,"x"),u-=tY(c,"y"),i.width-=l,i.height-=u}return qf(i)}function F3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=S0(10),i=e.nodeName==="HTML",o=g$(t),s=g$(e),a=zS(t),l=Tg(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=qf({top:o.top-s.top-u,left:o.left-s.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-p,d.right-=c-p,d.marginTop=h,d.marginLeft=p}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(d=W7e(d,e)),d}function Y7e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=F3(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:t0(n),a=e?0:t0(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return qf(l)}function tse(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Tg(t,"position")==="fixed")return!0;var n=O3(t);return n?tse(n):!1}function nse(t){if(!t||!t.parentElement||S0())return document.documentElement;for(var e=t.parentElement;e&&Tg(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function $3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o={top:0,left:0},s=i?nse(t):hA(t,Zoe(e));if(r==="viewport")o=Y7e(s,i);else{var a=void 0;r==="scrollParent"?(a=zS(O3(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var l=F3(a,s,i);if(a.nodeName==="HTML"&&!tse(s)){var u=ese(t.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}else o=l}n=n||0;var h=typeof n=="number";return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function X7e(t){var e=t.width,n=t.height;return e*n}function rse(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=$3(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(h){return da({key:h},a[h],{area:X7e(a[h])})}).sort(function(h,p){return p.area-h.area}),u=l.filter(function(h){var p=h.width,m=h.height;return p>=n.clientWidth&&m>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function ise(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?nse(e):hA(e,Zoe(n));return F3(n,i,r)}function ose(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+i,height:t.offsetHeight+r};return o}function pA(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function sse(t,e,n){n=n.split("-")[0];var r=ose(t),i={width:r.width,height:r.height},o=["right","left"].indexOf(n)!==-1,s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[s]=e[s]+e[l]/2-r[l]/2,n===a?i[a]=e[a]-r[u]:i[a]=e[pA(a)],i}function US(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function J7e(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=US(t,function(i){return i[e]===n});return t.indexOf(r)}function ase(t,e,n){var r=n===void 0?t:t.slice(0,J7e(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=i.function||i.fn;i.enabled&&Qoe(o)&&(e.offsets.popper=qf(e.offsets.popper),e.offsets.reference=qf(e.offsets.reference),e=o(e,i))}),e}function Q7e(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=ise(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=rse(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=sse(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=ase(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function lse(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function B3(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(typeof document.body.style[o]<"u")return o}return null}function Z7e(){return this.state.isDestroyed=!0,lse(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B3("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function use(t){var e=t.ownerDocument;return e?e.defaultView:window}function cse(t,e,n,r){var i=t.nodeName==="BODY",o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||cse(zS(o.parentNode),e,n,r),r.push(o)}function eGe(t,e,n,r){n.updateBound=r,use(t).addEventListener("resize",n.updateBound,{passive:!0});var i=zS(t);return cse(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function tGe(){this.state.eventsEnabled||(this.state=eGe(this.reference,this.options,this.state,this.scheduleUpdate))}function nGe(t,e){return use(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function rGe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=nGe(this.reference,this.state))}function V3(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function m$(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&V3(e[n])&&(r="px"),t.style[n]=e[n]+r})}function iGe(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function oGe(t){return m$(t.instance.popper,t.styles),iGe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&m$(t.arrowElement,t.arrowStyles),t}function sGe(t,e,n,r,i){var o=ise(i,e,t,n.positionFixed),s=rse(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),m$(e,{position:n.positionFixed?"fixed":"absolute"}),n}function aGe(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(_){return _},l=o(i.width),u=o(r.width),c=["left","right"].indexOf(t.placement)!==-1,d=t.placement.indexOf("-")!==-1,h=l%2===u%2,p=l%2===1&&u%2===1,m=e?c||d||h?o:s:a,y=e?o:a;return{left:m(p&&!d&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:m(r.right)}}var lGe=VS&&/Firefox/i.test(navigator.userAgent);function uGe(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=US(t.instance.modifiers,function(S){return S.name==="applyStyle"}).gpuAcceleration;o!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==void 0?o:e.gpuAcceleration,a=e0(t.instance.popper),l=g$(a),u={position:i.position},c=aGe(t,window.devicePixelRatio<2||!lGe),d=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",p=B3("transform"),m=void 0,y=void 0;if(d==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+c.bottom:y=-l.height+c.bottom:y=c.top,h==="right"?a.nodeName==="HTML"?m=-a.clientWidth+c.right:m=-l.width+c.right:m=c.left,s&&p)u[p]="translate3d("+m+"px, "+y+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var w=d==="bottom"?-1:1,_=h==="right"?-1:1;u[d]=y*w,u[h]=m*_,u.willChange=d+", "+h}var E={"x-placement":t.placement};return t.attributes=da({},E,t.attributes),t.styles=da({},u,t.styles),t.arrowStyles=da({},t.offsets.arrow,t.arrowStyles),t}function dse(t,e,n){var r=US(t,function(a){var l=a.name;return l===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function cGe(t,e){var n;if(!dse(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=["left","right"].indexOf(i)!==-1,u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=ose(r)[u];a[p]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(a[p]-m)),a[d]+m>s[p]&&(t.offsets.popper[d]+=a[d]+m-s[p]),t.offsets.popper=qf(t.offsets.popper);var y=a[d]+a[u]/2-m/2,w=Tg(t.instance.popper),_=parseFloat(w["margin"+c]),E=parseFloat(w["border"+c+"Width"]),S=y-t.offsets.popper[d]-_-E;return S=Math.max(Math.min(s[u]-m,S),0),t.arrowElement=r,t.offsets.arrow=(n={},n0(n,d,Math.round(S)),n0(n,h,""),n),t}function dGe(t){return t==="end"?"start":t==="start"?"end":t}var fse=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],JD=fse.slice(3);function rY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=JD.indexOf(t),r=JD.slice(n+1).concat(JD.slice(0,n));return e?r.reverse():r}var QD={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function fGe(t,e){if(lse(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=$3(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=pA(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case QD.FLIP:s=[r,i];break;case QD.CLOCKWISE:s=rY(r);break;case QD.COUNTERCLOCKWISE:s=rY(r,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return t;r=t.placement.split("-")[0],i=pA(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h=r==="left"&&d(u.right)>d(c.left)||r==="right"&&d(u.left)<d(c.right)||r==="top"&&d(u.bottom)>d(c.top)||r==="bottom"&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),m=d(u.right)>d(n.right),y=d(u.top)<d(n.top),w=d(u.bottom)>d(n.bottom),_=r==="left"&&p||r==="right"&&m||r==="top"&&y||r==="bottom"&&w,E=["top","bottom"].indexOf(r)!==-1,S=!!e.flipVariations&&(E&&o==="start"&&p||E&&o==="end"&&m||!E&&o==="start"&&y||!E&&o==="end"&&w),T=!!e.flipVariationsByContent&&(E&&o==="start"&&m||E&&o==="end"&&p||!E&&o==="start"&&w||!E&&o==="end"&&y),I=S||T;(h||_||I)&&(t.flipped=!0,(h||_)&&(r=s[l+1]),I&&(o=dGe(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=da({},t.offsets.popper,sse(t.instance.popper,t.offsets.reference,t.placement)),t=ase(t.instance.modifiers,t,"flip"))}),t}function hGe(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[a])&&(t.offsets.popper[l]=o(r[a])),t}function pGe(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=qf(a);return l[e]/100*o}else if(s==="vh"||s==="vw"){var u=void 0;return s==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*o}else return o}function gGe(t,e,n,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,s=t.split(/(\+|\-)/).map(function(c){return c.trim()}),a=s.indexOf(US(s,function(c){return c.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map(function(c,d){var h=(d===1?!o:o)?"height":"width",p=!1;return c.reduce(function(m,y){return m[m.length-1]===""&&["+","-"].indexOf(y)!==-1?(m[m.length-1]=y,p=!0,m):p?(m[m.length-1]+=y,p=!1,m):m.concat(y)},[]).map(function(m){return pGe(m,h,e,n)})}),u.forEach(function(c,d){c.forEach(function(h,p){V3(h)&&(i[d]+=h*(c[p-1]==="-"?-1:1))})}),i}function mGe(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return V3(+n)?l=[+n,0]:l=gGe(n,o,s,a),a==="left"?(o.top+=l[0],o.left-=l[1]):a==="right"?(o.top+=l[0],o.left+=l[1]):a==="top"?(o.left+=l[0],o.top-=l[1]):a==="bottom"&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function yGe(t,e){var n=e.boundariesElement||e0(t.instance.popper);t.instance.reference===n&&(n=e0(n));var r=B3("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=$3(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(p){var m=c[p];return c[p]<l[p]&&!e.escapeWithReference&&(m=Math.max(c[p],l[p])),n0({},p,m)},secondary:function(p){var m=p==="right"?"left":"top",y=c[m];return c[p]>l[p]&&!e.escapeWithReference&&(y=Math.min(c[m],l[p]-(p==="right"?c.width:c.height))),n0({},m,y)}};return u.forEach(function(h){var p=["left","top"].indexOf(h)!==-1?"primary":"secondary";c=da({},c,d[p](h))}),t.offsets.popper=c,t}function vGe(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",c={start:n0({},l,o[l]),end:n0({},l,o[l]+o[u]-s[u])};t.offsets.popper=da({},s,c[r])}return t}function bGe(t){if(!dse(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=US(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function wGe(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=pA(e),t.offsets.popper=qf(i),t}var xGe={shift:{order:100,enabled:!0,fn:vGe},offset:{order:200,enabled:!0,fn:mGe,offset:0},preventOverflow:{order:300,enabled:!0,fn:yGe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:hGe},arrow:{order:500,enabled:!0,fn:cGe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:fGe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:wGe},hide:{order:800,enabled:!0,fn:bGe},computeStyle:{order:850,enabled:!0,fn:uGe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:oGe,onLoad:sGe,gpuAcceleration:void 0}},_Ge={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:xGe},Cx=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};G7e(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=q7e(this.update.bind(this)),this.options=da({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(da({},t.Defaults.modifiers,i.modifiers)).forEach(function(s){r.options.modifiers[s]=da({},t.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return da({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&Qoe(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return K7e(t,[{key:"update",value:function(){return Q7e.call(this)}},{key:"destroy",value:function(){return Z7e.call(this)}},{key:"enableEventListeners",value:function(){return tGe.call(this)}},{key:"disableEventListeners",value:function(){return rGe.call(this)}}]),t}();Cx.Utils=(typeof window<"u"?window:global).PopperUtils;Cx.placements=fse;Cx.Defaults=_Ge;var SGe=["innerHTML","ownerDocument","style","attributes","nodeValue"],EGe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],CGe=["bigint","boolean","null","number","string","symbol","undefined"];function wP(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(TGe(e))return e}function yl(t){return function(e){return wP(e)===t}}function TGe(t){return EGe.includes(t)}function E0(t){return function(e){return typeof e===t}}function AGe(t){return CGe.includes(t)}function Ie(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Ie.array(t))return"Array";if(Ie.plainFunction(t))return"Function";var e=wP(t);return e||"Object"}Ie.array=Array.isArray;Ie.arrayOf=function(t,e){return!Ie.array(t)&&!Ie.function(e)?!1:t.every(function(n){return e(n)})};Ie.asyncGeneratorFunction=function(t){return wP(t)==="AsyncGeneratorFunction"};Ie.asyncFunction=yl("AsyncFunction");Ie.bigint=E0("bigint");Ie.boolean=function(t){return t===!0||t===!1};Ie.date=yl("Date");Ie.defined=function(t){return!Ie.undefined(t)};Ie.domElement=function(t){return Ie.object(t)&&!Ie.plainObject(t)&&t.nodeType===1&&Ie.string(t.nodeName)&&SGe.every(function(e){return e in t})};Ie.empty=function(t){return Ie.string(t)&&t.length===0||Ie.array(t)&&t.length===0||Ie.object(t)&&!Ie.map(t)&&!Ie.set(t)&&Object.keys(t).length===0||Ie.set(t)&&t.size===0||Ie.map(t)&&t.size===0};Ie.error=yl("Error");Ie.function=E0("function");Ie.generator=function(t){return Ie.iterable(t)&&Ie.function(t.next)&&Ie.function(t.throw)};Ie.generatorFunction=yl("GeneratorFunction");Ie.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};Ie.iterable=function(t){return!Ie.nullOrUndefined(t)&&Ie.function(t[Symbol.iterator])};Ie.map=yl("Map");Ie.nan=function(t){return Number.isNaN(t)};Ie.null=function(t){return t===null};Ie.nullOrUndefined=function(t){return Ie.null(t)||Ie.undefined(t)};Ie.number=function(t){return E0("number")(t)&&!Ie.nan(t)};Ie.numericString=function(t){return Ie.string(t)&&t.length>0&&!Number.isNaN(Number(t))};Ie.object=function(t){return!Ie.nullOrUndefined(t)&&(Ie.function(t)||typeof t=="object")};Ie.oneOf=function(t,e){return Ie.array(t)?t.indexOf(e)>-1:!1};Ie.plainFunction=yl("Function");Ie.plainObject=function(t){if(wP(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};Ie.primitive=function(t){return Ie.null(t)||AGe(typeof t)};Ie.promise=yl("Promise");Ie.propertyOf=function(t,e,n){if(!Ie.object(t)||!e)return!1;var r=t[e];return Ie.function(n)?n(r):Ie.defined(r)};Ie.regexp=yl("RegExp");Ie.set=yl("Set");Ie.string=E0("string");Ie.symbol=E0("symbol");Ie.undefined=E0("undefined");Ie.weakMap=yl("WeakMap");Ie.weakSet=yl("WeakSet");function hse(t){return function(e){return typeof e===t}}var RGe=hse("function"),PGe=function(t){return t===null},iY=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},oY=function(t){return!IGe(t)&&!PGe(t)&&(RGe(t)||typeof t=="object")},IGe=hse("undefined"),y$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function kGe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!Zo(t[r],e[r]))return!1;return!0}function MGe(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function NGe(t,e){var n,r,i,o;if(t.size!==e.size)return!1;try{for(var s=y$(t.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!e.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var u=y$(t.entries()),c=u.next();!c.done;c=u.next()){var l=c.value;if(!Zo(l[1],e.get(l[0])))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return!0}function DGe(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=y$(t.entries()),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function Zo(t,e){if(t===e)return!0;if(t&&oY(t)&&e&&oY(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return kGe(t,e);if(t instanceof Map&&e instanceof Map)return NGe(t,e);if(t instanceof Set&&e instanceof Set)return DGe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return MGe(t,e);if(iY(t)&&iY(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!Zo(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function LGe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return Ie.string(n)||Ie.array(n)||Ie.plainObject(n)})}function OGe(t,e,n){return pse(t,e)?[t,e].every(Ie.array)?!t.some(cY(n))&&e.some(cY(n)):[t,e].every(Ie.plainObject)?!Object.entries(t).some(uY(n))&&Object.entries(e).some(uY(n)):e===n:!1}function sY(t,e,n){var r=n.actual,i=n.key,o=n.previous,s=n.type,a=hu(t,i),l=hu(e,i),u=[a,l].every(Ie.number)&&(s==="increased"?a<l:a>l);return Ie.undefined(r)||(u=u&&l===r),Ie.undefined(o)||(u=u&&a===o),u}function aY(t,e,n){var r=n.key,i=n.type,o=n.value,s=hu(t,r),a=hu(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!Ie.nullOrUndefined(o)){if(Ie.defined(l)){if(Ie.array(l)||Ie.plainObject(l))return OGe(l,u,o)}else return Zo(u,o);return!1}return[s,a].every(Ie.array)?!u.every(z3(l)):[s,a].every(Ie.plainObject)?FGe(Object.keys(l),Object.keys(u)):![s,a].every(function(c){return Ie.primitive(c)&&Ie.defined(c)})&&(i==="added"?!Ie.defined(s)&&Ie.defined(a):Ie.defined(s)&&!Ie.defined(a))}function lY(t,e,n){var r=n===void 0?{}:n,i=r.key,o=hu(t,i),s=hu(e,i);if(!pse(o,s))throw new TypeError("Inputs have different types");if(!LGe(o,s))throw new TypeError("Inputs don't have length");return[o,s].every(Ie.plainObject)&&(o=Object.keys(o),s=Object.keys(s)),[o,s]}function uY(t){return function(e){var n=e[0],r=e[1];return Ie.array(t)?Zo(t,r)||t.some(function(i){return Zo(i,r)||Ie.array(r)&&z3(r)(i)}):Ie.plainObject(t)&&t[n]?!!t[n]&&Zo(t[n],r):Zo(t,r)}}function FGe(t,e){return e.some(function(n){return!t.includes(n)})}function cY(t){return function(e){return Ie.array(t)?t.some(function(n){return Zo(n,e)||Ie.array(e)&&z3(e)(n)}):Zo(t,e)}}function Ib(t,e){return Ie.array(t)?t.some(function(n){return Zo(n,e)}):Zo(t,e)}function z3(t){return function(e){return t.some(function(n){return Zo(n,e)})}}function pse(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(Ie.array)||t.every(Ie.number)||t.every(Ie.plainObject)||t.every(Ie.string)}function hu(t,e){if(Ie.plainObject(t)||Ie.array(t)){if(Ie.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return Ie.number(e)?t[e]:t}return t}function $Ge(t,e){if([t,e].some(Ie.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(d){return Ie.plainObject(d)||Ie.array(d)}))throw new Error("Expected plain objects or array");var n=function(d,h){try{return aY(t,e,{key:d,type:"added",value:h})}catch{return!1}},r=function(d,h,p){try{var m=hu(t,d),y=hu(e,d),w=Ie.defined(h),_=Ie.defined(p);if(w||_){var E=_?Ib(p,m):!Ib(h,m),S=Ib(h,y);return E&&S}return[m,y].every(Ie.array)||[m,y].every(Ie.plainObject)?!Zo(m,y):m!==y}catch{return!1}},i=function(d,h,p){if(!Ie.defined(d))return!1;try{var m=hu(t,d),y=hu(e,d),w=Ie.defined(p);return Ib(h,m)&&(w?Ib(p,y):!w)}catch{return!1}},o=function(d,h){return Ie.defined(d)?r(d,h):!1},s=function(d,h,p){if(!Ie.defined(d))return!1;try{return sY(t,e,{key:d,actual:h,previous:p,type:"decreased"})}catch{return!1}},a=function(d){try{var h=lY(t,e,{key:d}),p=h[0],m=h[1];return!!p.length&&!m.length}catch{return!1}},l=function(d){try{var h=lY(t,e,{key:d}),p=h[0],m=h[1];return!p.length&&!!m.length}catch{return!1}},u=function(d,h,p){if(!Ie.defined(d))return!1;try{return sY(t,e,{key:d,actual:h,previous:p,type:"increased"})}catch{return!1}},c=function(d,h){try{return aY(t,e,{key:d,type:"removed",value:h})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:o,decreased:s,emptied:a,filled:l,increased:u,removed:c}}function dY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dY(Object(n),!0).forEach(function(r){io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mse(r.key),r)}}function qS(t,e,n){return e&&BGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function io(t,e,n){return e=mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v$(t,e)}function gA(t){return gA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gA(t)}function v$(t,e){return v$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v$(t,e)}function VGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zGe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gse(t,e){if(t==null)return{};var n=zGe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UGe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oc(t)}function WS(t){var e=VGe();return function(){var r=gA(t),i;if(e){var o=gA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UGe(this,i)}}function HGe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mse(t){var e=HGe(t,"string");return typeof e=="symbol"?e:String(e)}var qGe={flip:{padding:20},preventOverflow:{padding:10}},jGe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",WGe="The error message is optional, but must be a string if provided.";function GGe(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function KGe(t,e){return Object.hasOwnProperty.call(t,e)}function YGe(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function XGe(t,e){if(typeof t!="function")throw new TypeError(jGe);if(e&&typeof e!="string")throw new TypeError(WGe)}function fY(t,e,n){return XGe(t,n),function(r,i,o){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return GGe(e,r,i,o)?KGe(r,i)?t.apply(void 0,[r,i,o].concat(a)):YGe(r,i,o):t.apply(void 0,[r,i,o].concat(a))}}var Cn={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},kb=Sf.createPortal!==void 0;function iu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ZD(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Y1(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,o=t.debug,s=o===void 0?!1:o,a=i?console.warn||console.error:console.log;s&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){Ie.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function JGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function QGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function ZGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(s){n(s),QGe(t,e,i)},JGe(t,e,i,r)}function hY(){}var yse=function(t){jS(n,t);var e=WS(n);function n(){return HS(this,n),e.apply(this,arguments)}return qS(n,[{key:"componentDidMount",value:function(){iu()&&(this.node||this.appendNode(),kb||this.renderPortal())}},{key:"componentDidUpdate",value:function(){iu()&&(kb||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!iu()||!this.node||(kb||Sf.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,o=i.id,s=i.zIndex;this.node||(this.node=document.createElement("div"),o&&(this.node.id=o),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!iu())return null;var i=this.props,o=i.children,s=i.setRef;if(this.node||this.appendNode(),kb)return Sf.createPortal(o,this.node);var a=Sf.unstable_renderSubtreeIntoContainer(this,o.length>1?oe.createElement("div",null,o):o[0],this.node);return s(a),null}},{key:"renderReact16",value:function(){var i=this.props,o=i.hasChildren,s=i.placement,a=i.target;return o?this.renderPortal():a||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return kb?this.renderReact16():null}}]),n}(oe.Component);io(yse,"propTypes",{children:ge.oneOfType([ge.element,ge.array]),hasChildren:ge.bool,id:ge.oneOfType([ge.string,ge.number]),placement:ge.string,setRef:ge.func.isRequired,target:ge.oneOfType([ge.object,ge.string]),zIndex:ge.number});var vse=function(t){jS(n,t);var e=WS(n);function n(){return HS(this,n),e.apply(this,arguments)}return qS(n,[{key:"parentStyle",get:function(){var i=this.props,o=i.placement,s=i.styles,a=s.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return o.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):o.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):o.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):o.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var i=this.props,o=i.placement,s=i.setArrowRef,a=i.styles,l=a.arrow,u=l.color,c=l.display,d=l.length,h=l.margin,p=l.position,m=l.spread,y={display:c,position:p},w,_=m,E=d;return o.startsWith("top")?(w="0,0 ".concat(_/2,",").concat(E," ").concat(_,",0"),y.bottom=0,y.marginLeft=h,y.marginRight=h):o.startsWith("bottom")?(w="".concat(_,",").concat(E," ").concat(_/2,",0 0,").concat(E),y.top=0,y.marginLeft=h,y.marginRight=h):o.startsWith("left")?(E=m,_=d,w="0,0 ".concat(_,",").concat(E/2," 0,").concat(E),y.right=0,y.marginTop=h,y.marginBottom=h):o.startsWith("right")&&(E=m,_=d,w="".concat(_,",").concat(E," ").concat(_,",0 0,").concat(E/2),y.left=0,y.marginTop=h,y.marginBottom=h),oe.createElement("div",{className:"__floater__arrow",style:this.parentStyle},oe.createElement("span",{ref:s,style:y},oe.createElement("svg",{width:_,height:E,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},oe.createElement("polygon",{points:w,fill:u}))))}}]),n}(oe.Component);io(vse,"propTypes",{placement:ge.string.isRequired,setArrowRef:ge.func.isRequired,styles:ge.object.isRequired});var eKe=["color","height","width"];function bse(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,o=n.width,s=gse(n,eKe);return oe.createElement("button",{"aria-label":"close",onClick:e,style:s,type:"button"},oe.createElement("svg",{width:"".concat(o,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},oe.createElement("g",null,oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}bse.propTypes={handleClick:ge.func.isRequired,styles:ge.object.isRequired};function wse(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,o=t.positionWrapper,s=t.showCloseButton,a=t.title,l=t.styles,u={content:oe.isValidElement(e)?e:oe.createElement("div",{className:"__floater__content",style:l.content},e)};return a&&(u.title=oe.isValidElement(a)?a:oe.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=oe.isValidElement(n)?n:oe.createElement("div",{className:"__floater__footer",style:l.footer},n)),(s||o)&&!Ie.boolean(i)&&(u.close=oe.createElement(bse,{styles:l.close,handleClick:r})),oe.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}wse.propTypes={content:ge.node.isRequired,footer:ge.node,handleClick:ge.func.isRequired,open:ge.bool,positionWrapper:ge.bool.isRequired,showCloseButton:ge.bool.isRequired,styles:ge.object.isRequired,title:ge.node};var xse=function(t){jS(n,t);var e=WS(n);function n(){return HS(this,n),e.apply(this,arguments)}return qS(n,[{key:"style",get:function(){var i=this.props,o=i.disableAnimation,s=i.component,a=i.placement,l=i.hideArrow,u=i.status,c=i.styles,d=c.arrow.length,h=c.floater,p=c.floaterCentered,m=c.floaterClosing,y=c.floaterOpening,w=c.floaterWithAnimation,_=c.floaterWithComponent,E={};return l||(a.startsWith("top")?E.padding="0 0 ".concat(d,"px"):a.startsWith("bottom")?E.padding="".concat(d,"px 0 0"):a.startsWith("left")?E.padding="0 ".concat(d,"px 0 0"):a.startsWith("right")&&(E.padding="0 0 0 ".concat(d,"px"))),[Cn.OPENING,Cn.OPEN].indexOf(u)!==-1&&(E=br(br({},E),y)),u===Cn.CLOSING&&(E=br(br({},E),m)),u===Cn.OPEN&&!o&&(E=br(br({},E),w)),a==="center"&&(E=br(br({},E),p)),s&&(E=br(br({},E),_)),br(br({},h),E)}},{key:"render",value:function(){var i=this.props,o=i.component,s=i.handleClick,a=i.hideArrow,l=i.setFloaterRef,u=i.status,c={},d=["__floater"];return o?oe.isValidElement(o)?c.content=oe.cloneElement(o,{closeFn:s}):c.content=o({closeFn:s}):c.content=oe.createElement(wse,this.props),u===Cn.OPEN&&d.push("__floater__open"),a||(c.arrow=oe.createElement(vse,this.props)),oe.createElement("div",{ref:l,className:d.join(" "),style:this.style},oe.createElement("div",{className:"__floater__body"},c.content,c.arrow))}}]),n}(oe.Component);io(xse,"propTypes",{component:ge.oneOfType([ge.func,ge.element]),content:ge.node,disableAnimation:ge.bool.isRequired,footer:ge.node,handleClick:ge.func.isRequired,hideArrow:ge.bool.isRequired,open:ge.bool,placement:ge.string.isRequired,positionWrapper:ge.bool.isRequired,setArrowRef:ge.func.isRequired,setFloaterRef:ge.func.isRequired,showCloseButton:ge.bool,status:ge.string.isRequired,styles:ge.object.isRequired,title:ge.node});var _se=function(t){jS(n,t);var e=WS(n);function n(){return HS(this,n),e.apply(this,arguments)}return qS(n,[{key:"render",value:function(){var i=this.props,o=i.children,s=i.handleClick,a=i.handleMouseEnter,l=i.handleMouseLeave,u=i.setChildRef,c=i.setWrapperRef,d=i.style,h=i.styles,p;if(o)if(oe.Children.count(o)===1)if(!oe.isValidElement(o))p=oe.createElement("span",null,o);else{var m=Ie.function(o.type)?"innerRef":"ref";p=oe.cloneElement(oe.Children.only(o),io({},m,u))}else p=o;return p?oe.createElement("span",{ref:c,style:br(br({},h),d),onClick:s,onMouseEnter:a,onMouseLeave:l},p):null}}]),n}(oe.Component);io(_se,"propTypes",{children:ge.node,handleClick:ge.func.isRequired,handleMouseEnter:ge.func.isRequired,handleMouseLeave:ge.func.isRequired,setChildRef:ge.func.isRequired,setWrapperRef:ge.func.isRequired,style:ge.object,styles:ge.object.isRequired});var tKe={zIndex:100};function nKe(t){var e=il(tKe,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var rKe=["arrow","flip","offset"],iKe=["position","top","right","bottom","left"],U3=function(t){jS(n,t);var e=WS(n);function n(r){var i;return HS(this,n),i=e.call(this,r),io(oc(i),"setArrowRef",function(o){i.arrowRef=o}),io(oc(i),"setChildRef",function(o){i.childRef=o}),io(oc(i),"setFloaterRef",function(o){i.floaterRef=o}),io(oc(i),"setWrapperRef",function(o){i.wrapperRef=o}),io(oc(i),"handleTransitionEnd",function(){var o=i.state.status,s=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:o===Cn.OPENING?Cn.OPEN:Cn.IDLE},function(){var a=i.state.status;s(a===Cn.OPEN?"open":"close",i.props)})}),io(oc(i),"handleClick",function(){var o=i.props,s=o.event,a=o.open;if(!Ie.boolean(a)){var l=i.state,u=l.positionWrapper,c=l.status;(i.event==="click"||i.event==="hover"&&u)&&(Y1({title:"click",data:[{event:s,status:c===Cn.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),io(oc(i),"handleMouseEnter",function(){var o=i.props,s=o.event,a=o.open;if(!(Ie.boolean(a)||ZD())){var l=i.state.status;i.event==="hover"&&l===Cn.IDLE&&(Y1({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),io(oc(i),"handleMouseLeave",function(){var o=i.props,s=o.event,a=o.eventDelay,l=o.open;if(!(Ie.boolean(l)||ZD())){var u=i.state,c=u.status,d=u.positionWrapper;i.event==="hover"&&(Y1({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:i.debug}),a?[Cn.OPENING,Cn.OPEN].indexOf(c)!==-1&&!d&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},a*1e3)):i.toggle(Cn.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Cn.INIT,statusWrapper:Cn.INIT},i._isMounted=!1,i.hasMounted=!1,iu()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return qS(n,[{key:"componentDidMount",value:function(){if(iu()){var i=this.state.positionWrapper,o=this.props,s=o.children,a=o.open,l=o.target;this._isMounted=!0,Y1({title:"init",data:{hasChildren:!!s,hasTarget:!!l,isControlled:Ie.boolean(a),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&l&&Ie.boolean(a)}}},{key:"componentDidUpdate",value:function(i,o){if(iu()){var s=this.props,a=s.autoOpen,l=s.open,u=s.target,c=s.wrapperOptions,d=$Ge(o,this.state),h=d.changedFrom,p=d.changed;if(i.open!==l){var m;Ie.boolean(l)&&(m=l?Cn.OPENING:Cn.CLOSING),this.toggle(m)}(i.wrapperOptions.position!==c.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",Cn.IDLE)&&l?this.toggle(Cn.OPEN):h("status",Cn.INIT,Cn.IDLE)&&a&&this.toggle(Cn.OPEN),this.popper&&p("status",Cn.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",Cn.OPENING)||p("status",Cn.CLOSING))&&ZGe(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){iu()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,c=a.hideArrow,d=a.offset,h=a.placement,p=a.wrapperOptions,m=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:Cn.IDLE});else if(o&&this.floaterRef){var y=this.options,w=y.arrow,_=y.flip,E=y.offset,S=gse(y,rKe);new Cx(o,this.floaterRef,{placement:h,modifiers:br({arrow:br({enabled:!c,element:this.arrowRef},w),flip:br({enabled:!l,behavior:m},_),offset:br({offset:"0, ".concat(d,"px")},E)},S),onCreate:function(N){var P;if(i.popper=N,!((P=i.floaterRef)!==null&&P!==void 0&&P.isConnected)){i.setState({needsUpdate:!0});return}u(N,"floater"),i._isMounted&&i.setState({currentPlacement:N.placement,status:Cn.IDLE}),h!==N.placement&&setTimeout(function(){N.instance.update()},1)},onUpdate:function(N){i.popper=N;var P=i.state.currentPlacement;i._isMounted&&N.placement!==P&&i.setState({currentPlacement:N.placement})}})}if(s){var T=Ie.undefined(p.offset)?0:p.offset;new Cx(this.target,this.wrapperRef,{placement:p.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(T,"px")},flip:{enabled:!1}},onCreate:function(N){i.wrapperPopper=N,i._isMounted&&i.setState({statusWrapper:Cn.IDLE}),u(N,"wrapper"),h!==N.placement&&setTimeout(function(){N.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var o;(o=i.floaterRef)!==null&&o!==void 0&&o.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var o=i.target,s=i.wrapperOptions;this.setState({positionWrapper:s.position&&!!o})}},{key:"toggle",value:function(i){var o=this.state.status,s=o===Cn.OPEN?Cn.CLOSING:Cn.OPENING;Ie.undefined(i)||(s=i),this.setState({status:s})}},{key:"debug",get:function(){var i=this.props.debug;return i||iu()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,o=i.disableHoverToClick,s=i.event;return s==="hover"&&ZD()&&!o?"click":s}},{key:"options",get:function(){var i=this.props.options;return il(qGe,i||{})}},{key:"styles",get:function(){var i=this,o=this.state,s=o.status,a=o.positionWrapper,l=o.statusWrapper,u=this.props.styles,c=il(nKe(u),u);if(a){var d;[Cn.IDLE].indexOf(s)===-1||[Cn.IDLE].indexOf(l)===-1?d=c.wrapperPosition:d=this.wrapperPopper.styles,c.wrapper=br(br({},c.wrapper),d)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?c.wrapper=br(br({},c.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},a||(iKe.forEach(function(p){i.wrapperStyles[p]=h[p]}),c.wrapper=br(br({},c.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return c}},{key:"target",get:function(){if(!iu())return null;var i=this.props.target;return i?Ie.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,o=i.currentPlacement,s=i.positionWrapper,a=i.status,l=this.props,u=l.children,c=l.component,d=l.content,h=l.disableAnimation,p=l.footer,m=l.hideArrow,y=l.id,w=l.open,_=l.showCloseButton,E=l.style,S=l.target,T=l.title,I=oe.createElement(_se,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:E,styles:this.styles.wrapper},u),N={};return s?N.wrapperInPortal=I:N.wrapperAsChildren=I,oe.createElement("span",null,oe.createElement(yse,{hasChildren:!!u,id:y,placement:o,setRef:this.setFloaterRef,target:S,zIndex:this.styles.options.zIndex},oe.createElement(xse,{component:c,content:d,disableAnimation:h,footer:p,handleClick:this.handleClick,hideArrow:m||o==="center",open:w,placement:o,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:_,status:a,styles:this.styles,title:T}),N.wrapperInPortal),N.wrapperAsChildren)}}]),n}(oe.Component);io(U3,"propTypes",{autoOpen:ge.bool,callback:ge.func,children:ge.node,component:fY(ge.oneOfType([ge.func,ge.element]),function(t){return!t.content}),content:fY(ge.node,function(t){return!t.component}),debug:ge.bool,disableAnimation:ge.bool,disableFlip:ge.bool,disableHoverToClick:ge.bool,event:ge.oneOf(["hover","click"]),eventDelay:ge.number,footer:ge.node,getPopper:ge.func,hideArrow:ge.bool,id:ge.oneOfType([ge.string,ge.number]),offset:ge.number,open:ge.bool,options:ge.object,placement:ge.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:ge.bool,style:ge.object,styles:ge.object,target:ge.oneOfType([ge.object,ge.string]),title:ge.node,wrapperOptions:ge.shape({offset:ge.number,placement:ge.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:ge.bool})});io(U3,"defaultProps",{autoOpen:!1,callback:hY,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:hY,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var oKe=Object.defineProperty,sKe=(t,e,n)=>e in t?oKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vt=(t,e,n)=>sKe(t,typeof e!="symbol"?e+"":e,n),Bn={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Ms={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},en={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},cn={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Zd(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function Sse(t){return t?t.getBoundingClientRect():null}function aKe(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((o,s)=>o-s),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Lc(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function lKe(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function Tx(t,e,n){if(!t)return $h();const r=Joe(t);if(r){if(r.isSameNode($h()))return n?document:$h();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",$h()}return r}function xP(t,e){if(!t)return!1;const n=Tx(t,e);return n?!n.isSameNode($h()):!1}function uKe(t){return t.offsetParent!==document.body}function r0(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=lKe(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?r0(t.parentNode,e):!1}function cKe(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function dKe(t,e,n){var r,i,o;const s=Sse(t),a=Tx(t,n),l=xP(t,n),u=r0(t);let c=0,d=(r=s==null?void 0:s.top)!=null?r:0;if(l&&u){const h=(i=t==null?void 0:t.offsetTop)!=null?i:0,p=(o=a==null?void 0:a.scrollTop)!=null?o:0;d=h-p}else a instanceof HTMLElement&&(c=a.scrollTop,!l&&!r0(t)&&(d+=c),a.isSameNode($h())||(d+=$h().scrollTop));return Math.floor(d-e)}function fKe(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:o=0}=(r=Joe(t))!=null?r:{};let s=t.getBoundingClientRect().top+o;i&&(xP(t,n)||uKe(t))&&(s-=i);const a=Math.floor(s-e);return a<0?0:a}function $h(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function hKe(t,e){const{duration:n,element:r}=e;return new Promise((i,o)=>{const{scrollTop:s}=r,a=t>s?t-s:s-t;M7e.top(r,t,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?o(l):i())})}var Mb=Fc.createPortal!==void 0;function Ese(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function nT(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function ou(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let o=JK(t);if(o)(o.includes("{step}")||o.includes("{steps}"))&&r&&i&&(o=o.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(F.isValidElement(t)&&!Object.values(t.props).length&&nT(t.type)==="function"){const s=t.type({});o=ou(s,e)}else o=JK(n);return o}function pKe(t,e){return!yt.plainObject(t)||!yt.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function gKe(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,o,s,a)=>o+o+s+s+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function pY(t){return t.disableBeacon||t.placement==="center"}function gY(){return!["chrome","safari","firefox","opera"].includes(Ese())}function rg({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(o=>{yt.plainObject(o)&&o.key?i.apply(console,[o.key,o.value]):i.apply(console,[o])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function mKe(t){return Object.keys(t)}function Cse(t,...e){if(!yt.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function yKe(t,...e){if(!yt.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function b$(t,e,n){const r=o=>o.replace("{step}",String(e)).replace("{steps}",String(n));if(nT(t)==="string")return r(t);if(!F.isValidElement(t))return t;const{children:i}=t.props;if(nT(i)==="string"&&i.includes("{step}"))return F.cloneElement(t,{children:r(i)});if(Array.isArray(i))return F.cloneElement(t,{children:i.map(o=>typeof o=="string"?r(o):b$(o,e,n))});if(nT(t.type)==="function"&&!Object.values(t.props).length){const o=t.type({});return b$(o,e,n)}return t}function vKe(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:o,target:s}=t;return!o.disableScrolling&&(!e||i||n===en.TOOLTIP)&&o.placement!=="center"&&(!o.isFixed||!r0(s))&&r!==n&&[en.BEACON,en.TOOLTIP].includes(n)}var bKe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},Tse={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},wKe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:Tse,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},xKe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},_Ke={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Nb={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},mY={borderRadius:4,position:"absolute"};function SKe(t,e){var n,r,i,o,s;const{floaterProps:a,styles:l}=t,u=il((n=e.floaterProps)!=null?n:{},a??{}),c=il(l??{},(r=e.styles)!=null?r:{}),d=il(_Ke,c.options||{}),h=e.placement==="center"||e.disableBeacon;let{width:p}=d;window.innerWidth>480&&(p=380),"width"in d&&(p=typeof d.width=="number"&&window.innerWidth<d.width?window.innerWidth-30:d.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},y={beacon:{...Nb,display:h?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${gKe(d.primaryColor).join(",")}, 0.2)`,border:`2px solid ${d.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Nb,backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Nb,color:d.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Nb,color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Nb,color:d.textColor,fontSize:14},overlay:{...m,backgroundColor:d.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:d.overlayColor},spotlight:{...mY,backgroundColor:"gray"},spotlightLegacy:{...mY,boxShadow:`0 0 0 9999px ${d.overlayColor}, ${d.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(o=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:o.color)!=null?s:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return il(y,c)}function EKe(t){return yKe(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Pm(t,e){var n,r,i,o,s,a;const l=e??{},u=il.all([wKe,EKe(t),l],{isMergeableObject:yt.plainObject}),c=SKe(t,u),d=xP(Lc(u.target),u.disableScrollParentFix),h=il.all([bKe,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return h.offset=u.offset,h.styles=il((i=h.styles)!=null?i:{},c.floaterStyles),h.offset+=(s=(o=t.spotlightPadding)!=null?o:u.spotlightPadding)!=null?s:0,u.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=u.placementBeacon),d&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...u,locale:il.all([Tse,(a=t.locale)!=null?a:{},u.locale||{}]),floaterProps:h,styles:Cse(c,"floaterStyles")}}function Ase(t,e=!1){return yt.plainObject(t)?t.target?!0:(rg({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(rg({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function yY(t,e=!1){return yt.array(t)?t.every(n=>Ase(n,e)):(rg({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var Rse={action:"init",controlled:!1,index:0,lifecycle:en.INIT,origin:null,size:0,status:cn.IDLE},vY=mKe(Cse(Rse,"controlled","size")),CKe=class{constructor(t){vt(this,"beaconPopper"),vt(this,"tooltipPopper"),vt(this,"data",new Map),vt(this,"listener"),vt(this,"store",new Map),vt(this,"addListener",i=>{this.listener=i}),vt(this,"setSteps",i=>{const{size:o,status:s}=this.getState(),a={size:i.length,status:s};this.data.set("steps",i),s===cn.WAITING&&!o&&i.length&&(a.status=cn.RUNNING),this.setState(a)}),vt(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),vt(this,"setPopper",(i,o)=>{i==="beacon"?this.beaconPopper=o:this.tooltipPopper=o}),vt(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),vt(this,"close",(i=null)=>{const{index:o,status:s}=this.getState();s===cn.RUNNING&&this.setState({...this.getNextState({action:Bn.CLOSE,index:o+1,origin:i})})}),vt(this,"go",i=>{const{controlled:o,status:s}=this.getState();if(o||s!==cn.RUNNING)return;const a=this.getSteps()[i];this.setState({...this.getNextState({action:Bn.GO,index:i}),status:a?s:cn.FINISHED})}),vt(this,"info",()=>this.getState()),vt(this,"next",()=>{const{index:i,status:o}=this.getState();o===cn.RUNNING&&this.setState(this.getNextState({action:Bn.NEXT,index:i+1}))}),vt(this,"open",()=>{const{status:i}=this.getState();i===cn.RUNNING&&this.setState({...this.getNextState({action:Bn.UPDATE,lifecycle:en.TOOLTIP})})}),vt(this,"prev",()=>{const{index:i,status:o}=this.getState();o===cn.RUNNING&&this.setState({...this.getNextState({action:Bn.PREV,index:i-1})})}),vt(this,"reset",(i=!1)=>{const{controlled:o}=this.getState();o||this.setState({...this.getNextState({action:Bn.RESET,index:0}),status:i?cn.RUNNING:cn.READY})}),vt(this,"skip",()=>{const{status:i}=this.getState();i===cn.RUNNING&&this.setState({action:Bn.SKIP,lifecycle:en.INIT,status:cn.SKIPPED})}),vt(this,"start",i=>{const{index:o,size:s}=this.getState();this.setState({...this.getNextState({action:Bn.START,index:yt.number(i)?i:o},!0),status:s?cn.RUNNING:cn.WAITING})}),vt(this,"stop",(i=!1)=>{const{index:o,status:s}=this.getState();[cn.FINISHED,cn.SKIPPED].includes(s)||this.setState({...this.getNextState({action:Bn.STOP,index:o+(i?1:0)}),status:cn.PAUSED})}),vt(this,"update",i=>{var o,s;if(!pKe(i,vY))throw new Error(`State is not valid. Valid keys: ${vY.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(o=i.action)!=null?o:Bn.UPDATE,origin:(s=i.origin)!=null?s:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:Bn.INIT,controlled:yt.number(n),continuous:e,index:yt.number(n)?n:0,lifecycle:en.INIT,origin:null,status:r.length?cn.READY:cn.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Rse}}getNextState(t,e=!1){var n,r,i,o,s;const{action:a,controlled:l,index:u,size:c,status:d}=this.getState(),h=yt.number(t.index)?t.index:u,p=l&&!e?u:Math.min(Math.max(h,0),c);return{action:(n=t.action)!=null?n:a,controlled:l,index:p,lifecycle:(r=t.lifecycle)!=null?r:en.INIT,origin:(i=t.origin)!=null?i:null,size:(o=t.size)!=null?o:c,status:p===c?cn.FINISHED:(s=t.status)!=null?s:d}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:o,origin:s=null,size:a,status:l}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",o),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function TKe(t){return new CKe(t)}function AKe({styles:t}){return F.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var RKe=AKe,PKe=class extends F.Component{constructor(){super(...arguments),vt(this,"isActive",!1),vt(this,"resizeTimeout"),vt(this,"scrollTimeout"),vt(this,"scrollParent"),vt(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),vt(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[en.INIT,en.BEACON,en.COMPLETE,en.ERROR];return e||(t?r.includes(n):n!==en.TOOLTIP)}),vt(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:o,width:s}=this.spotlightStyles,a=i==="fixed"?t.clientY:t.pageY,l=i==="fixed"?t.clientX:t.pageX,u=a>=o&&a<=o+n,d=l>=r&&l<=r+s&&u;d!==e&&this.updateState({mouseOverSpotlight:d})}),vt(this,"handleScroll",()=>{const{target:t}=this.props,e=Lc(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else r0(e,"sticky")&&this.updateState({})}),vt(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Lc(r);this.scrollParent=Tx(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:o}=this.props,{changed:s}=fA(t,this.props);if(s("target")||s("disableScrollParentFix")){const a=Lc(o);this.scrollParent=Tx(a??document.body,n,!0)}s("lifecycle",en.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&r===en.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==en.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return gY()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:aKe(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:o,spotlightPadding:s=0,styles:a,target:l}=this.props,u=Lc(l),c=Sse(u),d=r0(u),h=dKe(u,s,i);return{...gY()?a.spotlightLegacy:a.spotlight,height:Math.round(((t=c==null?void 0:c.height)!=null?t:0)+s*2),left:Math.round(((e=c==null?void 0:c.left)!=null?e:0)-s),opacity:r?1:0,pointerEvents:o?"none":"auto",position:d?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((n=c==null?void 0:c.width)!=null?n:0)+s*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:o}=this;if(r())return null;let s=n!=="center"&&t&&F.createElement(RKe,{styles:o});if(Ese()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=i;s=F.createElement("div",{style:{...u}},s),delete i.backgroundColor}return F.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},s)}},IKe=class extends F.Component{constructor(){super(...arguments),vt(this,"node",null)}componentDidMount(){const{id:t}=this.props;Zd()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Mb||this.renderReact15())}componentDidUpdate(){Zd()&&(Mb||this.renderReact15())}componentWillUnmount(){!Zd()||!this.node||(Mb||Fc.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Zd())return;const{children:t}=this.props;this.node&&Fc.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!Zd()||!Mb)return null;const{children:t}=this.props;return this.node?Fc.createPortal(t,this.node):null}render(){return Mb?this.renderReact16():null}},kKe=class{constructor(t,e){if(vt(this,"element"),vt(this,"options"),vt(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),vt(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),vt(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),vt(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),vt(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let o=document.activeElement?r.indexOf(document.activeElement):0;o===-1||!i&&o+1===r.length?o=0:i&&o===0?o=r.length-1:o+=i?-1:1,r[o].focus()}),vt(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),vt(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),vt(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),vt(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),vt(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},MKe=class extends F.Component{constructor(t){if(super(t),vt(this,"beacon",null),vt(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{yt.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:o,size:s,step:a,styles:l}=this.props,u=ou(i.open),c={"aria-label":u,onClick:o,onMouseEnter:o,ref:this.setBeaconRef,title:u};let d;if(t){const h=t;d=F.createElement(h,{continuous:e,index:n,isLastStep:r,size:s,step:a,...c})}else d=F.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...c},F.createElement("span",{style:l.beaconInner}),F.createElement("span",{style:l.beaconOuter}));return d}};function NKe({styles:t,...e}){const{color:n,height:r,width:i,...o}=t;return oe.createElement("button",{style:o,type:"button",...e},oe.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},oe.createElement("g",null,oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var DKe=NKe;function LKe(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:o,skipProps:s,step:a,tooltipProps:l}=t,{content:u,hideBackButton:c,hideCloseButton:d,hideFooter:h,showSkipButton:p,styles:m,title:y}=a,w={};return w.primary=F.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...o}),p&&!i&&(w.skip=F.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...s})),!c&&r>0&&(w.back=F.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...e})),w.close=!d&&F.createElement(DKe,{"data-test-id":"button-close",styles:m.buttonClose,...n}),F.createElement("div",{key:"JoyrideTooltip","aria-label":ou(y??u),className:"react-joyride__tooltip",style:m.tooltip,...l},F.createElement("div",{style:m.tooltipContainer},y&&F.createElement("h1",{"aria-label":ou(y),style:m.tooltipTitle},y),F.createElement("div",{style:m.tooltipContent},u)),!h&&F.createElement("div",{style:m.tooltipFooter},F.createElement("div",{style:m.tooltipFooterSpacer},w.skip),w.back,w.primary),w.close)}var OKe=LKe,FKe=class extends F.Component{constructor(){super(...arguments),vt(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),vt(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),vt(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),vt(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),vt(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{back:s,close:a,last:l,next:u,nextLabelWithProgress:c,skip:d}=o.locale,h=ou(s),p=ou(a),m=ou(l),y=ou(u),w=ou(d);let _=a,E=p;if(t){if(_=u,E=y,o.showProgress&&!n){const S=ou(c,{step:e+1,steps:i});_=b$(c,e+1,i),E=S}n&&(_=l,E=m)}return{backProps:{"aria-label":h,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":p,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":E,children:_,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:E},skipProps:{"aria-label":w,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:w},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{beaconComponent:s,tooltipComponent:a,...l}=o;let u;if(a){const c={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:l,setTooltipRef:r},d=a;u=F.createElement(d,{...c})}else u=F.createElement(OKe,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:o});return u}},$Ke=class extends F.Component{constructor(){super(...arguments),vt(this,"scope",null),vt(this,"tooltip",null),vt(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:en.TOOLTIP})}),vt(this,"setTooltipRef",t=>{this.tooltip=t}),vt(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:o,store:s}=this.props;e==="wrapper"?s.setPopper("beacon",t):s.setPopper("tooltip",t),s.getPopper("beacon")&&(s.getPopper("tooltip")||o.placement==="center")&&i===en.INIT&&s.update({action:r,lifecycle:en.READY}),(n=o.floaterProps)!=null&&n.getPopper&&o.floaterProps.getPopper(t,e)}),vt(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:o}=this.props;return F.createElement(FKe,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:o,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;rg({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:o,debug:s,helpers:a,index:l,lifecycle:u,shouldScroll:c,status:d,step:h,store:p}=this.props,{changed:m,changedFrom:y}=fA(t,this.props),w=a.info(),_=i&&n!==Bn.CLOSE&&(l>0||n===Bn.PREV),E=m("action")||m("index")||m("lifecycle")||m("status"),S=y("lifecycle",[en.TOOLTIP,en.INIT],en.INIT),T=m("action",[Bn.NEXT,Bn.PREV,Bn.SKIP,Bn.CLOSE]),I=o&&l===t.index;if(T&&(S||I)&&r({...w,index:t.index,lifecycle:en.COMPLETE,step:t.step,type:Ms.STEP_AFTER}),h.placement==="center"&&d===cn.RUNNING&&m("index")&&n!==Bn.START&&u===en.INIT&&p.update({lifecycle:en.READY}),E){const N=Lc(h.target),P=!!N;P&&cKe(N)?(y("status",cn.READY,cn.RUNNING)||y("lifecycle",en.INIT,en.READY))&&r({...w,step:h,type:Ms.STEP_BEFORE}):(console.warn(P?"Target not visible":"Target not mounted",h),r({...w,type:Ms.TARGET_NOT_FOUND,step:h}),o||p.update({index:l+(n===Bn.PREV?-1:1)}))}y("lifecycle",en.INIT,en.READY)&&p.update({lifecycle:pY(h)||_?en.TOOLTIP:en.BEACON}),m("index")&&rg({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:s}),m("lifecycle",en.BEACON)&&r({...w,step:h,type:Ms.BEACON}),m("lifecycle",en.TOOLTIP)&&(r({...w,step:h,type:Ms.TOOLTIP}),c&&this.tooltip&&(this.scope=new kKe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[en.TOOLTIP,en.INIT],en.INIT)&&((e=this.scope)==null||e.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return pY(e)||t===en.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:o,step:s}=this.props,a=Lc(s.target);return!Ase(s)||!yt.domElement(a)?null:F.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},F.createElement(U3,{...s.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:s.placement,target:s.target},F.createElement(MKe,{beaconComponent:s.beaconComponent,continuous:t,index:n,isLastStep:n+1===o,locale:s.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:o,step:s,styles:s.styles})))}},Pse=class extends F.Component{constructor(t){super(t),vt(this,"helpers"),vt(this,"store"),vt(this,"callback",s=>{const{callback:a}=this.props;yt.function(a)&&a(s)}),vt(this,"handleKeyboard",s=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,c=u[a];l===en.TOOLTIP&&s.code==="Escape"&&c&&!c.disableCloseOnEsc&&this.store.close("keyboard")}),vt(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:a}=this.props;Pm(this.props,a[s]).disableOverlayClose||this.helpers.close("overlay")}),vt(this,"syncState",s=>{this.setState(s)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=TKe({...t,controlled:r&&yt.number(i)}),this.helpers=this.store.getHelpers();const{addListener:o}=this.store;rg({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),o(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Zd())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;yY(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!Zd())return;const{action:n,controlled:r,index:i,status:o}=this.state,{debug:s,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:c,steps:d}=t,{reset:h,setSteps:p,start:m,stop:y,update:w}=this.store,{changed:_}=fA(t,this.props),{changed:E,changedFrom:S}=fA(e,this.state),T=Pm(this.props,u[i]),I=!Eo(d,u),N=yt.number(l)&&_("stepIndex"),P=Lc(T.target);if(I&&(yY(u,s)?p(u):console.warn("Steps are not valid",u)),_("run")&&(a?m(l):y()),N){let k=yt.number(c)&&c<l?Bn.NEXT:Bn.PREV;n===Bn.STOP&&(k=Bn.START),[cn.FINISHED,cn.SKIPPED].includes(o)||w({action:n===Bn.CLOSE?Bn.CLOSE:k,index:l,lifecycle:en.INIT})}!r&&o===cn.RUNNING&&i===0&&!P&&(this.store.update({index:i+1}),this.callback({...this.state,type:Ms.TARGET_NOT_FOUND,step:T}));const M={...this.state,index:i,step:T};if(E("action",[Bn.NEXT,Bn.PREV,Bn.SKIP,Bn.CLOSE])&&E("status",cn.PAUSED)){const k=Pm(this.props,u[e.index]);this.callback({...M,index:e.index,lifecycle:en.COMPLETE,step:k,type:Ms.STEP_AFTER})}if(E("status",[cn.FINISHED,cn.SKIPPED])){const k=Pm(this.props,u[e.index]);r||this.callback({...M,index:e.index,lifecycle:en.COMPLETE,step:k,type:Ms.STEP_AFTER}),this.callback({...M,type:Ms.TOUR_END,step:k,index:e.index}),h()}else S("status",[cn.IDLE,cn.READY],cn.RUNNING)?this.callback({...M,type:Ms.TOUR_START}):(E("status")||E("action",Bn.RESET))&&this.callback({...M,type:Ms.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:o=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,c=Pm(this.props,u[e]),d=Lc(c.target),h=vKe({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:l,step:c,target:d});if(r===cn.RUNNING&&h){const p=xP(d,o),m=Tx(d,o);let y=Math.floor(fKe(d,a,o))||0;rg({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const w=this.store.getPopper("beacon"),_=this.store.getPopper("tooltip");if(n===en.BEACON&&w){const{offsets:E,placement:S}=w;!["bottom"].includes(S)&&!p&&(y=Math.floor(E.popper.top-a))}else if(n===en.TOOLTIP&&_){const{flipped:E,offsets:S,placement:T}=_;["top","right","left"].includes(T)&&!E&&!p?y=Math.floor(S.popper.top-a):y-=c.spotlightPadding}y=y>=0?y:0,r===cn.RUNNING&&hKe(y,{element:m,duration:s}).then(()=>{setTimeout(()=>{var E;(E=this.store.getPopper("tooltip"))==null||E.instance.update()},10)})}}render(){if(!Zd())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:o,scrollToFirstStep:s=!1,steps:a}=this.props,l=n===cn.RUNNING,u={};if(l&&a[t]){const c=Pm(this.props,a[t]);u.step=F.createElement($Ke,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:o,shouldScroll:!c.disableScrolling&&(t!==0||s),step:c,store:this.store}),u.overlay=F.createElement(IKe,{id:"react-joyride-portal"},F.createElement(PKe,{...c,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return F.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};vt(Pse,"defaultProps",xKe);var BKe=Pse,Zs=typeof window<"u"?window:null,H3=Zs===null,Ax=H3?void 0:Zs.document,Ma="addEventListener",Na="removeEventListener",eL="getBoundingClientRect",Db="_a",Da="_b",rc="_c",X1="horizontal",La=function(){return!1},VKe=H3?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Ax.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Ise=function(t){return typeof t=="string"||t instanceof String},bY=function(t){if(Ise(t)){var e=Ax.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Yi=function(t,e,n){var r=t[e];return r!==void 0?r:n},J1=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},zKe=function(t,e){var n=Ax.createElement("div");return n.className="gutter gutter-"+e,n},UKe=function(t,e,n){var r={};return Ise(e)?r[t]=e:r[t]=VKe+"("+e+"% - "+n+"px)",r},HKe=function(t,e){var n;return n={},n[t]=e+"px",n},wY=function(t,e){if(e===void 0&&(e={}),H3)return{};var n=t,r,i,o,s,a,l;Array.from&&(n=Array.from(n));var u=bY(n[0]),c=u.parentNode,d=getComputedStyle?getComputedStyle(c):null,h=d?d.flexDirection:null,p=Yi(e,"sizes")||n.map(function(){return 100/n.length}),m=Yi(e,"minSize",100),y=Array.isArray(m)?m:n.map(function(){return m}),w=Yi(e,"maxSize",1/0),_=Array.isArray(w)?w:n.map(function(){return w}),E=Yi(e,"expandToMin",!1),S=Yi(e,"gutterSize",10),T=Yi(e,"gutterAlign","center"),I=Yi(e,"snapOffset",30),N=Array.isArray(I)?I:n.map(function(){return I}),P=Yi(e,"dragInterval",1),M=Yi(e,"direction",X1),D=Yi(e,"cursor",M===X1?"col-resize":"row-resize"),k=Yi(e,"gutter",zKe),L=Yi(e,"elementStyle",UKe),V=Yi(e,"gutterStyle",HKe);M===X1?(r="width",i="clientX",o="left",s="right",a="clientWidth"):M==="vertical"&&(r="height",i="clientY",o="top",s="bottom",a="clientHeight");function $(se,ce,fe,ye){var we=L(r,ce,fe,ye);Object.keys(we).forEach(function(Re){se.style[Re]=we[Re]})}function z(se,ce,fe){var ye=V(r,ce,fe);Object.keys(ye).forEach(function(we){se.style[we]=ye[we]})}function G(){return l.map(function(se){return se.size})}function K(se){return"touches"in se?se.touches[0][i]:se[i]}function J(se){var ce=l[this.a],fe=l[this.b],ye=ce.size+fe.size;ce.size=se/this.size*ye,fe.size=ye-se/this.size*ye,$(ce.element,ce.size,this[Da],ce.i),$(fe.element,fe.size,this[rc],fe.i)}function ee(se){var ce,fe=l[this.a],ye=l[this.b];this.dragging&&(ce=K(se)-this.start+(this[Da]-this.dragOffset),P>1&&(ce=Math.round(ce/P)*P),ce<=fe.minSize+fe.snapOffset+this[Da]?ce=fe.minSize+this[Da]:ce>=this.size-(ye.minSize+ye.snapOffset+this[rc])&&(ce=this.size-(ye.minSize+this[rc])),ce>=fe.maxSize-fe.snapOffset+this[Da]?ce=fe.maxSize+this[Da]:ce<=this.size-(ye.maxSize-ye.snapOffset+this[rc])&&(ce=this.size-(ye.maxSize+this[rc])),J.call(this,ce),Yi(e,"onDrag",La)(G()))}function X(){var se=l[this.a].element,ce=l[this.b].element,fe=se[eL](),ye=ce[eL]();this.size=fe[r]+ye[r]+this[Da]+this[rc],this.start=fe[o],this.end=fe[s]}function j(se){if(!getComputedStyle)return null;var ce=getComputedStyle(se);if(!ce)return null;var fe=se[a];return fe===0?null:(M===X1?fe-=parseFloat(ce.paddingLeft)+parseFloat(ce.paddingRight):fe-=parseFloat(ce.paddingTop)+parseFloat(ce.paddingBottom),fe)}function Q(se){var ce=j(c);if(ce===null||y.reduce(function(Re,Ae){return Re+Ae},0)>ce)return se;var fe=0,ye=[],we=se.map(function(Re,Ae){var be=ce*Re/100,Ke=J1(S,Ae===0,Ae===se.length-1,T),Ve=y[Ae]+Ke;return be<Ve?(fe+=Ve-be,ye.push(0),Ve):(ye.push(be-Ve),be)});return fe===0?se:we.map(function(Re,Ae){var be=Re;if(fe>0&&ye[Ae]-fe>0){var Ke=Math.min(fe,ye[Ae]-fe);fe-=Ke,be=Re-Ke}return be/ce*100})}function ue(){var se=this,ce=l[se.a].element,fe=l[se.b].element;se.dragging&&Yi(e,"onDragEnd",La)(G()),se.dragging=!1,Zs[Na]("mouseup",se.stop),Zs[Na]("touchend",se.stop),Zs[Na]("touchcancel",se.stop),Zs[Na]("mousemove",se.move),Zs[Na]("touchmove",se.move),se.stop=null,se.move=null,ce[Na]("selectstart",La),ce[Na]("dragstart",La),fe[Na]("selectstart",La),fe[Na]("dragstart",La),ce.style.userSelect="",ce.style.webkitUserSelect="",ce.style.MozUserSelect="",ce.style.pointerEvents="",fe.style.userSelect="",fe.style.webkitUserSelect="",fe.style.MozUserSelect="",fe.style.pointerEvents="",se.gutter.style.cursor="",se.parent.style.cursor="",Ax.body.style.cursor=""}function q(se){if(!("button"in se&&se.button!==0)){var ce=this,fe=l[ce.a].element,ye=l[ce.b].element;ce.dragging||Yi(e,"onDragStart",La)(G()),se.preventDefault(),ce.dragging=!0,ce.move=ee.bind(ce),ce.stop=ue.bind(ce),Zs[Ma]("mouseup",ce.stop),Zs[Ma]("touchend",ce.stop),Zs[Ma]("touchcancel",ce.stop),Zs[Ma]("mousemove",ce.move),Zs[Ma]("touchmove",ce.move),fe[Ma]("selectstart",La),fe[Ma]("dragstart",La),ye[Ma]("selectstart",La),ye[Ma]("dragstart",La),fe.style.userSelect="none",fe.style.webkitUserSelect="none",fe.style.MozUserSelect="none",fe.style.pointerEvents="none",ye.style.userSelect="none",ye.style.webkitUserSelect="none",ye.style.MozUserSelect="none",ye.style.pointerEvents="none",ce.gutter.style.cursor=D,ce.parent.style.cursor=D,Ax.body.style.cursor=D,X.call(ce),ce.dragOffset=K(se)-ce.end}}p=Q(p);var Y=[];l=n.map(function(se,ce){var fe={element:bY(se),size:p[ce],minSize:y[ce],maxSize:_[ce],snapOffset:N[ce],i:ce},ye;if(ce>0&&(ye={a:ce-1,b:ce,dragging:!1,direction:M,parent:c},ye[Da]=J1(S,ce-1===0,!1,T),ye[rc]=J1(S,!1,ce===n.length-1,T),h==="row-reverse"||h==="column-reverse")){var we=ye.a;ye.a=ye.b,ye.b=we}if(ce>0){var Re=k(ce,M,fe.element);z(Re,S,ce),ye[Db]=q.bind(ye),Re[Ma]("mousedown",ye[Db]),Re[Ma]("touchstart",ye[Db]),c.insertBefore(Re,fe.element),ye.gutter=Re}return $(fe.element,fe.size,J1(S,ce===0,ce===n.length-1,T),ce),ce>0&&Y.push(ye),fe});function te(se){var ce=se.i===Y.length,fe=ce?Y[se.i-1]:Y[se.i];X.call(fe);var ye=ce?fe.size-se.minSize-fe[rc]:se.minSize+fe[Da];J.call(fe,ye)}l.forEach(function(se){var ce=se.element[eL]()[r];ce<se.minSize&&(E?te(se):se.minSize=ce)});function le(se){var ce=Q(se);ce.forEach(function(fe,ye){if(ye>0){var we=Y[ye-1],Re=l[we.a],Ae=l[we.b];Re.size=ce[ye-1],Ae.size=fe,$(Re.element,Re.size,we[Da],Re.i),$(Ae.element,Ae.size,we[rc],Ae.i)}})}function de(se,ce){Y.forEach(function(fe){if(ce!==!0?fe.parent.removeChild(fe.gutter):(fe.gutter[Na]("mousedown",fe[Db]),fe.gutter[Na]("touchstart",fe[Db])),se!==!0){var ye=L(r,fe.a.size,fe[Da]);Object.keys(ye).forEach(function(we){l[fe.a].element.style[we]="",l[fe.b].element.style[we]=""})}})}return{setSizes:le,getSizes:G,collapse:function(ce){te(l[ce])},destroy:de,parent:c,pairs:Y}};function tL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var q3=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,o=tL(r,["children","gutter"]),s=o;s.gutter=function(a,l){var u;return i?u=i(a,l):(u=document.createElement("div"),u.className="gutter gutter-"+l),u.__isSplitGutter=!0,u},this.split=wY(this.parent.children,s)},e.prototype.componentDidUpdate=function(r){var i=this,o=this.props;o.children;var s=o.minSize,a=o.sizes,l=o.collapsed,u=tL(o,["children","minSize","sizes","collapsed"]),c=u,d=r.minSize,h=r.sizes,p=r.collapsed,m=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],y=m.map(function(E){return i.props[E]!==r[E]}).reduce(function(E,S){return E||S},!1);if(Array.isArray(s)&&Array.isArray(d)){var w=!1;s.forEach(function(E,S){w=w||E!==d[S]}),y=y||w}else Array.isArray(s)||Array.isArray(d)?y=!0:y=y||s!==d;if(y)c.minSize=s,c.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),c.gutter=function(E,S,T){return T.previousSibling},this.split=wY(Array.from(this.parent.children).filter(function(E){return!E.__isSplitGutter}),c);else if(a){var _=!1;a.forEach(function(E,S){_=_||E!==h[S]}),_&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==p||y)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var o=i.children,s=tL(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=s;return oe.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),o)},e}(oe.Component);q3.propTypes={sizes:ge.arrayOf(ge.number),minSize:ge.oneOfType([ge.number,ge.arrayOf(ge.number)]),maxSize:ge.oneOfType([ge.number,ge.arrayOf(ge.number)]),expandToMin:ge.bool,gutterSize:ge.number,gutterAlign:ge.string,snapOffset:ge.oneOfType([ge.number,ge.arrayOf(ge.number)]),dragInterval:ge.number,direction:ge.string,cursor:ge.string,gutter:ge.func,elementStyle:ge.func,gutterStyle:ge.func,onDrag:ge.func,onDragStart:ge.func,onDragEnd:ge.func,collapsed:ge.number,children:ge.arrayOf(ge.element)};q3.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};function rT(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qKe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kse(t){let e,n,r;t.length!==2?(e=rT,n=(a,l)=>rT(t(a),l),r=(a,l)=>t(a)-l):(e=t===rT||t===qKe?t:jKe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function jKe(){return 0}function WKe(t){return t===null?NaN:+t}const GKe=kse(rT),KKe=GKe.right;kse(WKe).center;const YKe=Math.sqrt(50),XKe=Math.sqrt(10),JKe=Math.sqrt(2);function mA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=YKe?10:o>=XKe?5:o>=JKe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?mA(t,e,n*2):[a,l,u]}function QKe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?mA(e,t,n):mA(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function w$(t,e,n){return e=+e,t=+t,n=+n,mA(t,e,n)[2]}function ZKe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?w$(e,t,n):w$(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function eYe(t){return t}var iT=1,nL=2,xY=3,bw=4,_Y=1e-6;function tYe(t){return"translate("+t+",0)"}function nYe(t){return"translate(0,"+t+")"}function rYe(t){return e=>+t(e)}function iYe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function oYe(){return!this.__axis}function Mse(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===iT||t===bw?-1:1,c=t===bw||t===nL?"x":"y",d=t===iT||t===xY?tYe:nYe;function h(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):eYe),w=Math.max(o,0)+a,_=e.range(),E=+_[0]+l,S=+_[_.length-1]+l,T=(e.bandwidth?iYe:rYe)(e.copy(),l),I=p.selection?p.selection():p,N=I.selectAll(".domain").data([null]),P=I.selectAll(".tick").data(m,e).order(),M=P.exit(),D=P.enter().append("g").attr("class","tick"),k=P.select("line"),L=P.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(D),k=k.merge(D.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),L=L.merge(D.append("text").attr("fill","currentColor").attr(c,u*w).attr("dy",t===iT?"0em":t===xY?"0.71em":"0.32em")),p!==I&&(N=N.transition(p),P=P.transition(p),k=k.transition(p),L=L.transition(p),M=M.transition(p).attr("opacity",_Y).attr("transform",function(V){return isFinite(V=T(V))?d(V+l):this.getAttribute("transform")}),D.attr("opacity",_Y).attr("transform",function(V){var $=this.parentNode.__axis;return d(($&&isFinite($=$(V))?$:T(V))+l)})),M.remove(),N.attr("d",t===bw||t===nL?s?"M"+u*s+","+E+"H"+l+"V"+S+"H"+u*s:"M"+l+","+E+"V"+S:s?"M"+E+","+u*s+"V"+l+"H"+S+"V"+u*s:"M"+E+","+l+"H"+S),P.attr("opacity",1).attr("transform",function(V){return d(T(V)+l)}),k.attr(c+"2",u*o),L.attr(c,u*w).text(y),I.filter(oYe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===nL?"start":t===bw?"end":"middle"),I.each(function(){this.__axis=T})}return h.scale=function(p){return arguments.length?(e=p,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(o=s=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(a=+p,h):a},h.offset=function(p){return arguments.length?(l=+p,h):l},h}function sYe(t){return Mse(iT,t)}function aYe(t){return Mse(bw,t)}const x$=Math.PI,_$=2*x$,kh=1e-6,lYe=_$-kh;function Nse(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uYe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Nse;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cYe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Nse:uYe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>kh)if(!(Math.abs(d*l-u*c)>kh)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,y=l*l+u*u,w=p*p+m*m,_=Math.sqrt(y),E=Math.sqrt(h),S=o*Math.tan((x$-Math.acos((y+h-w)/(2*_*E)))/2),T=S/E,I=S/_;Math.abs(T-1)>kh&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*p>c*m)},${this._x1=e+I*l},${this._y1=n+I*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>kh||Math.abs(this._y1-c)>kh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%_$+_$),h>lYe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>kh&&this._append`A${r},${r},0,${+(h>=x$)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dYe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function yA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function i0(t){return t=yA(Math.abs(t)),t?t[1]:NaN}function fYe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function hYe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var pYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vA(t){if(!(e=pYe.exec(t)))throw new Error("invalid format: "+t);var e;return new j3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vA.prototype=j3.prototype;function j3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}j3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gYe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Dse;function mYe(t,e){var n=yA(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Dse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yA(t,Math.max(0,e+o-1))[0]}function SY(t,e){var n=yA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EY={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dYe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SY(t*100,e),r:SY,s:mYe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CY(t){return t}var TY=Array.prototype.map,AY=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yYe(t){var e=t.grouping===void 0||t.thousands===void 0?CY:fYe(TY.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?CY:hYe(TY.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=vA(d);var h=d.fill,p=d.align,m=d.sign,y=d.symbol,w=d.zero,_=d.width,E=d.comma,S=d.precision,T=d.trim,I=d.type;I==="n"?(E=!0,I="g"):EY[I]||(S===void 0&&(S=12),T=!0,I="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var N=y==="$"?n:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",P=y==="$"?r:/[%p]/.test(I)?s:"",M=EY[I],D=/[defgprs%]/.test(I);S=S===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(L){var V=N,$=P,z,G,K;if(I==="c")$=M(L)+$,L="";else{L=+L;var J=L<0||1/L<0;if(L=isNaN(L)?l:M(Math.abs(L),S),T&&(L=gYe(L)),J&&+L==0&&m!=="+"&&(J=!1),V=(J?m==="("?m:a:m==="-"||m==="("?"":m)+V,$=(I==="s"?AY[8+Dse/3]:"")+$+(J&&m==="("?")":""),D){for(z=-1,G=L.length;++z<G;)if(K=L.charCodeAt(z),48>K||K>57){$=(K===46?i+L.slice(z+1):L.slice(z))+$,L=L.slice(0,z);break}}}E&&!w&&(L=e(L,1/0));var ee=V.length+L.length+$.length,X=ee<_?new Array(_-ee+1).join(h):"";switch(E&&w&&(L=e(X+L,X.length?_-$.length:1/0),X=""),p){case"<":L=V+L+$+X;break;case"=":L=V+X+L+$;break;case"^":L=X.slice(0,ee=X.length>>1)+V+L+$+X.slice(ee);break;default:L=X+V+L+$;break}return o(L)}return k.toString=function(){return d+""},k}function c(d,h){var p=u((d=vA(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(i0(h)/3)))*3,y=Math.pow(10,-m),w=AY[8+m/3];return function(_){return p(y*_)+w}}return{format:u,formatPrefix:c}}var Q1,Lse,Ose;vYe({thousands:",",grouping:[3],currency:["$",""]});function vYe(t){return Q1=yYe(t),Lse=Q1.format,Ose=Q1.formatPrefix,Q1}function bYe(t){return Math.max(0,-i0(Math.abs(t)))}function wYe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(i0(e)/3)))*3-i0(Math.abs(t)))}function xYe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,i0(e)-i0(t))+1}function _Ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function SYe(t){return function(){return t}}function EYe(t){return+t}var RY=[0,1];function hy(t){return t}function S$(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:SYe(isNaN(e)?NaN:.5)}function CYe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function TYe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=S$(i,r),o=n(s,o)):(r=S$(r,i),o=n(o,s)),function(a){return o(r(a))}}function AYe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=S$(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=KKe(t,a,1,r)-1;return o[l](i[l](a))}}function RYe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function PYe(){var t=RY,e=RY,n=yy,r,i,o,s=hy,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==hy&&(s=CYe(t[0],t[h-1])),a=h>2?AYe:TYe,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),Za)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,EYe),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Hce,c()},d.clamp=function(h){return arguments.length?(s=h?!0:hy,c()):s!==hy},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function IYe(){return PYe()(hy,hy)}function kYe(t,e,n,r){var i=ZKe(t,e,n),o;switch(r=vA(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=wYe(i,s))&&(r.precision=o),Ose(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xYe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=bYe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Lse(r)}function MYe(t){var e=t.domain;return t.ticks=function(n){var r=e();return QKe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return kYe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=w$(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function E$(){var t=IYe();return t.copy=function(){return RYe(t,E$())},_Ye.apply(t,arguments),MYe(t)}function Im(t){return function(){return t}}function NYe(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cYe(e)}function DYe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fse(t){this._context=t}Fse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function LYe(t){return new Fse(t)}function OYe(t){return t[0]}function FYe(t){return t[1]}function $Ye(t,e){var n=Im(!0),r=null,i=LYe,o=null,s=NYe(a);t=typeof t=="function"?t:t===void 0?OYe:Im(t),e=typeof e=="function"?e:e===void 0?FYe:Im(e);function a(l){var u,c=(l=DYe(l)).length,d,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Im(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Im(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Im(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}const Z1=t=>{const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`},BYe=()=>{var k,L,V,$;const{usersDict:t,papersDict:e}=ad(),{selectedAnalyticsPapersId:n,selectedAnalyticsUsersId:r,userPaperReadSessions:i,userPaperHighlights:o,userPaperPurposes:s,maxDuration:a,analyticsLevel:l,selectedPaper:u,selectedUser:c,handlePaperClick:d,handleUserClick:h,handleBreadcrumbClick:p,paperStats:m,userPaperStats:y,userPurposeStats:w,showCanvas:_,setShowCanvas:E}=fg(),[S,T]=F.useState(!1),I="#6cc0f5";F.useEffect(()=>{Object.keys(i).length>0&&N()},[i]),F.useEffect(()=>{P()},[S,l]);const N=()=>{const z=Vi("#timeline-container");if(!z)return;const G=z.node();if(!G)return;const K=G.clientWidth,J=G.clientHeight,ee={top:20,right:20,bottom:20,left:20},X=45,j=35,Q=K-ee.left-ee.right-X,ue=J-ee.top-ee.bottom-j;z.selectAll("svg").remove();const q=z.append("svg").attr("width",K).attr("height",J);q.append("text").attr("x",ee.left+X+Q/2).attr("y",ee.top).attr("text-anchor","middle").attr("font-size","14px").text("Time (minutes)"),q.append("text").attr("transform",`translate(${ee.left}, ${ee.top+j+ue/2}) rotate(-90)`).attr("text-anchor","middle").attr("font-size","14px").text("Page Number (%)");const Y=q.append("g").attr("transform",`translate(${ee.left+X}, ${ee.top+j})`).attr("width",Q).attr("height",ue),te=E$().domain([0,a]).range([0,Q]),le=sYe(te).tickSizeOuter(0).tickFormat(fe=>`${(fe/(1e3*60)).toFixed(1)}`);Y.append("g").call(le);const de=E$().domain([0,100]).range([0,ue]),se=aYe(de).tickSizeOuter(0).tickFormat(fe=>`${fe}%`);Y.append("g").call(se);const ce=$Ye().x(fe=>te(fe[0])).y(fe=>de(fe[1]));Object.entries(i).forEach(([fe,ye])=>{const[we,Re]=fe.split("_"),Ae=Y.append("g").attr("id",`timeline_${we}_${Re}`);let be=0;const Ke=o[`${we}_${Re}`]||[];ye.sort((Ve,Oe)=>Ve.startTime-Oe.startTime).forEach(Ve=>{const Oe=Ve.scrollSequence.map((je,wt)=>[wt*Jee+be,je*100]),Me=Ae.append("g").attr("id",`read_session_${Ve.id}`);Me.append("path").attr("class","read-timeline-path").attr("id",`path_${Ve.readPurposeId}_${Ve.id}`).attr("d",ce(Oe)).attr("fill","none").attr("stroke","grey").attr("stroke-width",1.5),Ke.filter(je=>je.sessionId===Ve.id).forEach(je=>{const wt=je.timestamp-Ve.startTime+be;Me.append("circle").attr("class","read-timeline-highlight").attr("id",`highlight_${Ve.readPurposeId}_${Ve.id}_${je.id}`).attr("cx",te(wt)).attr("cy",de(je.posPercentage*100)).attr("r",2).attr("fill",S?I:"none").attr("stroke","none").attr("stroke-width",.5)}),be+=Ve.duration})}),P()},P=()=>{Object.keys(i).length!==0&&Object.entries(i).forEach(([z,G])=>{const[K,J]=z.split("_");M(K,J)})},M=(z,G)=>{const K=Vi(`#timeline_${z}_${G}`);if(!K)return;let J=!0;switch(l){default:case Un.PAPERS:break;case Un.USERS:J=u===G;break;case Un.PURPOSES:J=u===G&&c===z;break}K.selectAll("path").each((ee,X,j)=>{var ue,q;const Q=Vi(j[X]);if(J)if(l===Un.PURPOSES){const Y=Q.attr("id").split("_")[1],te=(q=(ue=s[`${z}_${G}`])==null?void 0:ue.find(le=>le.id===Y))==null?void 0:q.color;Q.attr("stroke",te||"grey")}else Q.attr("stroke","grey");else Q.attr("stroke","lightgrey")}),K.selectAll("circle").each((ee,X,j)=>{var ue,q;const Q=Vi(j[X]);if(J&&S)if(l===Un.PURPOSES){const Y=Q.attr("id").split("_")[1],te=(q=(ue=s[`${z}_${G}`])==null?void 0:ue.find(le=>le.id===Y))==null?void 0:q.color;Q.attr("fill",te||I).attr("stroke","none")}else Q.attr("fill",I).attr("stroke","none");else Q.attr("fill","none").attr("stroke","none")})},D=()=>l===Un.PAPERS?O.jsx(ze,{sx:{display:"flex",flexDirection:"column",gap:2},children:m.map(z=>O.jsxs(au,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>d(z.paperId),children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[O.jsx(d5e,{color:"primary"}),O.jsx(nt,{variant:"h6",sx:{color:"text.primary"},children:z.paperTitle}),O.jsx(DO,{label:`${z.userCount} users`,size:"small"})]}),O.jsxs(ze,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Total Reading Time"}),O.jsx(nt,{variant:"body1",sx:{fontWeight:"medium"},children:Z1(z.totalDuration)})]}),O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Average Time/User"}),O.jsx(nt,{variant:"body1",sx:{fontWeight:"medium"},children:Z1(z.averageDuration)})]}),O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),O.jsxs(nt,{variant:"body1",sx:{fontWeight:"medium"},children:[z.totalHighlights," (",z.averageHighlights.toFixed(1)," avg)"]})]})]})]},z.paperId))}):l===Un.USERS?O.jsx(ze,{sx:{display:"flex",flexDirection:"column",gap:2},children:y.map(z=>O.jsxs(au,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>h(z.userId),children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[O.jsx(R4,{color:"primary"}),O.jsx(nt,{variant:"h6",sx:{color:"text.primary"},children:z.userName}),O.jsx(DO,{label:`${z.purposeCount} purposes`,size:"small"})]}),O.jsxs(ze,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Reading Time"}),O.jsx(nt,{variant:"body1",sx:{fontWeight:"medium"},children:Z1(z.duration)})]}),O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),O.jsx(nt,{variant:"body1",sx:{fontWeight:"medium"},children:z.highlightCount})]}),O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Text/Image Highlights"}),O.jsxs(nt,{variant:"body1",sx:{fontWeight:"medium"},children:[z.textHighlightCount,"/",z.imageHighlightCount]})]})]}),z.lastReadTime>0&&O.jsx(ze,{sx:{mt:1},children:O.jsxs(nt,{variant:"body2",color:"text.secondary",children:["Last Read: ",new Date(z.lastReadTime).toLocaleDateString()]})})]},z.userId))}):l===Un.PURPOSES?O.jsx(ze,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.map(z=>O.jsxs(au,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",borderLeft:10,borderLeftColor:z.purposeColor},children:[O.jsx(ze,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:O.jsx(nt,{variant:"h6",children:z.purposeTitle})}),O.jsxs(ze,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Reading Time"}),O.jsx(nt,{variant:"body1",sx:{fontWeight:"medium"},children:Z1(z.duration)})]}),O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),O.jsx(nt,{variant:"body1",sx:{fontWeight:"medium"},children:z.highlightCount})]}),O.jsxs(ze,{children:[O.jsx(nt,{variant:"body2",color:"text.secondary",children:"Text/Image Highlights"}),O.jsxs(nt,{variant:"body1",sx:{fontWeight:"medium"},children:[z.textHighlightCount,"/",z.imageHighlightCount]})]})]}),z.lastReadTime>0&&O.jsx(ze,{sx:{mt:1},children:O.jsxs(nt,{variant:"body2",color:"text.secondary",children:["Last Read: ",new Date(z.lastReadTime).toLocaleDateString()]})})]},z.purposeId))}):null;return O.jsxs(ze,{sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(r.length===0||n.length===0)&&O.jsx(ze,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",p:4},children:O.jsxs(ze,{sx:{p:4,borderRadius:3,backgroundColor:"background.paper",border:"2px dashed",borderColor:"divider",maxWidth:"400px",width:"100%"},children:[O.jsx(hne,{sx:{fontSize:"4rem",color:"text.secondary",mb:2,opacity:.7}}),O.jsx(nt,{variant:"h6",sx:{mb:2,color:"text.primary",fontWeight:"medium"},children:"Ready for Analytics"}),O.jsx(nt,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.6,mb:2},children:"Select papers and users from the left panel to begin analyzing reading patterns and insights."})]})}),r.length>0&&n.length>0&&O.jsxs(O.Fragment,{children:[O.jsxs(ze,{sx:{boxSizing:"border-box",height:"45%",p:2,borderBottom:1,borderColor:"divider"},children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O.jsx(nt,{variant:"h6",children:"Reading Timeline"}),O.jsxs(ze,{sx:{display:"flex",alignItems:"center"},children:[O.jsx(mne,{sx:{color:S?"primary.main":"text.secondary"}}),O.jsx(dne,{checked:S,onChange:()=>T(!S),color:"primary"})]})]}),Object.keys(i).length>0?O.jsx(ze,{id:"timeline-container",sx:{width:"100%",height:"calc(100% - 30px)"}}):O.jsx(au,{sx:{p:3,textAlign:"center",backgroundColor:"background.default"},children:O.jsx(nt,{variant:"body2",color:"text.secondary",children:"No data available for the selected criteria."})})]}),O.jsxs(ze,{sx:{boxSizing:"border-box",height:"55%",p:2,overflow:"auto"},children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[O.jsx(nt,{variant:"h6",children:"Reading Analytics Explorer"}),l===Un.PURPOSES&&O.jsx(Yo,{color:"primary",onClick:()=>E(!_),children:O.jsx(k5e,{})})]}),O.jsxs(dLe,{sx:{mb:2},children:[O.jsx(Hq,{component:"button",underline:l===Un.PAPERS?"none":"hover",onClick:()=>p(Un.PAPERS),sx:{fontWeight:l===Un.PAPERS?"bold":"normal"},children:"Papers"}),u&&O.jsx(Hq,{component:"button",underline:l===Un.USERS?"none":"hover",onClick:()=>p(Un.USERS),sx:{fontWeight:l===Un.USERS?"bold":"normal"},children:(((L=(k=e[u])==null?void 0:k.title)==null?void 0:L.length)>30?e[u].title.slice(0,30)+"…":(V=e[u])==null?void 0:V.title)||"Paper"}),c&&u&&O.jsx(nt,{color:"text.primary",sx:{fontWeight:"bold"},children:(($=t[c])==null?void 0:$.name)||"User"})]}),D(),Object.keys(i).length===0&&O.jsx(au,{sx:{p:3,textAlign:"center",backgroundColor:"background.default"},children:O.jsx(nt,{variant:"body2",color:"text.secondary",children:"No data available for the selected criteria."})})]})]})]})},VYe=()=>{const{userData:t}=d0(),{selectedAnalyticsPapersId:e,togglePaperForAnalytics:n,toggleUserForAnalytics:r,selectedAnalyticsUsersId:i}=fg(),{mode:o,papersDict:s,usersDict:a,viewingPaperId:l,setViewingPaperId:u}=ad(),[c,d]=F.useState(""),[h,p]=F.useState(""),[m,y]=F.useState([]),[w,_]=F.useState([]);F.useEffect(()=>{const N=Object.values(s).filter(P=>P.title.toLowerCase().includes(c.toLowerCase()));y(N)},[c]),F.useEffect(()=>{const N=Object.values(a).filter(P=>P.name.toLowerCase().includes(h.toLowerCase())).sort((P,M)=>P.name.localeCompare(M.name));_(N)},[h]);const E=N=>{n(N)},S=N=>{r(N)},T=()=>O.jsxs(ze,{sx:{flex:o===Or.ANALYZING&&(t==null?void 0:t.role)===sx.TEACHER?"1 1 50%":"1 1 100%",display:"flex",flexDirection:"column",minHeight:0},children:[O.jsx(nt,{variant:"h6",sx:{mb:2,color:"text.primary"},children:"Paper List"}),O.jsx(Ko,{placeholder:"Search papers...",value:c,onChange:N=>d(N.target.value),InputProps:{startAdornment:O.jsx($O,{position:"start",children:O.jsx(VO,{})})},sx:{mb:2},size:"small",fullWidth:!0}),O.jsxs(ze,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[O.jsxs(nt,{variant:"body2",color:"text.secondary",children:[m.length," paper",m.length!==1?"s":""," available"]}),o===Or.ANALYZING&&O.jsxs(nt,{variant:"body2",color:"primary",children:[e.length," selected"]})]}),O.jsx(Sy,{sx:{mb:1}}),O.jsxs(ze,{sx:{flexGrow:1,overflow:"auto"},children:[O.jsx(BO,{sx:{p:0},children:m.map(N=>{const P=l===N.id,M=e.includes(N.id);return O.jsx(jq,{sx:{p:0,mb:1},children:O.jsx(ze,{sx:{width:"100%",display:"flex",gap:1},children:O.jsx(ze,{sx:{position:"relative",flex:1},children:O.jsxs(qq,{onClick:()=>u(N.id),selected:P,sx:{borderRadius:1,border:P?"2px solid":"1px solid",borderColor:P?"primary.main":"divider",flex:1,"&:hover":{borderColor:"primary.main"},display:"flex",alignItems:"center",gap:1},children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"flex-start",gap:1,flexGrow:1,minWidth:0},children:[O.jsx(x5e,{sx:{color:"text.secondary",fontSize:"1.2rem",mt:.5}}),O.jsx(ze,{sx:{flexGrow:1,minWidth:0},children:O.jsx(Qp,{primary:N.title,primaryTypographyProps:{sx:{fontWeight:P?"bold":"normal",fontSize:"0.9rem",lineHeight:1.3,mb:.5}}})})]}),o===Or.ANALYZING&&O.jsx(Yo,{size:"small",onClick:D=>{D.stopPropagation(),E(N.id)},sx:{p:0,flexShrink:0,color:M?"primary.main":"text.secondary","&:focus":{outline:"none"}},children:M?O.jsx(p5e,{fontSize:"small"}):O.jsx(g5e,{fontSize:"small"})})]})})})},N.id)})}),m.length===0&&O.jsx(ze,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",color:"text.secondary"},children:O.jsx(nt,{variant:"body2",children:c?"No papers match your search":"No papers available"})})]})]}),I=()=>o!==Or.ANALYZING||(t==null?void 0:t.role)!==sx.TEACHER?null:O.jsxs(O.Fragment,{children:[O.jsx(Sy,{sx:{my:2,backgroundColor:"black",height:"1px"}}),O.jsxs(ze,{sx:{flex:"1 1 50%",display:"flex",flexDirection:"column",minHeight:0},children:[O.jsx(nt,{variant:"h6",sx:{mb:2,color:"text.primary"},children:"User List"}),O.jsx(Ko,{placeholder:"Search users...",value:h,onChange:N=>p(N.target.value),InputProps:{startAdornment:O.jsx($O,{position:"start",children:O.jsx(VO,{})})},sx:{mb:2},size:"small",fullWidth:!0}),O.jsxs(ze,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[O.jsxs(nt,{variant:"body2",color:"text.secondary",children:[w.length," user",w.length!==1?"s":""," available"]}),O.jsxs(nt,{variant:"body2",color:"primary",children:[i.length," selected"]})]}),O.jsx(Sy,{sx:{mb:1}}),O.jsxs(ze,{sx:{flexGrow:1,overflow:"auto"},children:[O.jsx(BO,{sx:{p:0},children:w.map(N=>{const P=N.id===(t==null?void 0:t.id),M=i.includes(N.id);return O.jsx(jq,{sx:{p:0,mb:1},children:O.jsx(ze,{sx:{width:"100%",display:"flex",gap:1},children:O.jsx(qq,{sx:{borderRadius:1,border:"1px solid",borderColor:M?"primary.main":"divider",flex:1,backgroundColor:M?"action.selected":"transparent","&:hover":{borderColor:"primary.main"}},onClick:()=>S(N.id),children:O.jsx(ze,{sx:{width:"100%"},children:O.jsxs(ze,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(R4,{sx:{color:M?"primary.main":"text.secondary",fontSize:"1.2rem"}}),O.jsx(ze,{sx:{flexGrow:1},children:O.jsx(Qp,{primary:N.name+(P?" (You)":""),primaryTypographyProps:{sx:{fontWeight:M?"bold":"normal",fontSize:"0.9rem",color:M?"primary.main":"text.primary"}},secondaryTypographyProps:{sx:{fontSize:"0.75rem"}}})}),M&&O.jsx(h5e,{color:"primary"})]})})})})},N.id)})}),w.length===0&&O.jsx(ze,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",color:"text.secondary"},children:O.jsx(nt,{variant:"body2",children:h?"No users match your search":"No users available"})})]})]})]});return O.jsxs(ze,{sx:{height:"100%",display:"flex",flexDirection:"column",p:2},children:[T(),I()]})},zYe=()=>{const{mode:t,viewingPaperId:e}=ad(),{showCanvas:n}=fg(),r=jR();F.useEffect(()=>{e||r("/papers")},[e]);const[i,o]=F.useState(!0),s=F.useContext(bR);if(!s)throw new Error("TourContext not found");const{setRunTour:a,runTour:l,steps:u,stepIndex:c,setStepIndex:d}=s,h=()=>{o(m=>!m)},p=m=>{var T;const{action:y,index:w,status:_,type:E,step:S}=m;[Ms.STEP_AFTER,Ms.TARGET_NOT_FOUND].includes(E)?(d(w+(y===Bn.PREV?-1:1)),(T=S.data)!=null&&T.pause&&a(!1)):[cn.FINISHED,cn.SKIPPED].includes(_)&&(d(0),a(!1))};return O.jsxs(ze,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[O.jsx("div",{style:{display:"none"},children:O.jsx(BKe,{continuous:!0,steps:u,run:l,callback:p,hideCloseButton:!0,disableOverlayClose:!0,stepIndex:c})}),O.jsx(ze,{sx:{height:"8%",width:"100%",display:"flex"},children:O.jsx(sqe,{})}),O.jsxs(ze,{sx:{width:"100%",height:"92%",position:"relative",display:"flex",flexDirection:"row"},children:[O.jsx(Yo,{onClick:h,sx:{position:"absolute",top:"50%",left:i?"15%":"0%",transform:"translateY(-50%)",zIndex:1e3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:"0 8px 8px 0",borderLeft:i?"1px solid":"none","&:hover":{backgroundColor:"action.hover"},width:25,height:60,transition:"left 0.3s ease"},children:i?O.jsx(m5e,{}):O.jsx(y5e,{})}),O.jsx(ze,{className:"panel paper-selector-panel",sx:{width:i?"15%":"0%"},children:O.jsx(VYe,{})}),O.jsxs(q3,{className:"split",style:{width:i?"85%":"100%"},sizes:[60,40],minSize:200,expandToMin:!1,gutterSize:10,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",children:[O.jsx(ze,{className:"panel paper-panel",children:O.jsx(yWe,{})}),O.jsxs(ze,{className:"panel graph-panel",children:[(t===Or.READING||t===Or.ANALYZING&&n)&&O.jsx(p7e,{}),t===Or.ANALYZING&&!n&&O.jsx(BYe,{})]})]})]})]})},UYe="/re-ad/poster.png";function HYe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const qYe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jYe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WYe={};function PY(t,e){return(WYe.jsx?jYe:qYe).test(t)}const GYe=/[ \t\n\f\r]/g;function KYe(t){return typeof t=="object"?t.type==="text"?IY(t.value):!1:IY(t)}function IY(t){return t.replace(GYe,"")===""}class GS{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}GS.prototype.normal={};GS.prototype.property={};GS.prototype.space=void 0;function $se(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new GS(n,r,e)}function C$(t){return t.toLowerCase()}class us{constructor(e,n){this.attribute=n,this.property=e}}us.prototype.attribute="";us.prototype.booleanish=!1;us.prototype.boolean=!1;us.prototype.commaOrSpaceSeparated=!1;us.prototype.commaSeparated=!1;us.prototype.defined=!1;us.prototype.mustUseProperty=!1;us.prototype.number=!1;us.prototype.overloadedBoolean=!1;us.prototype.property="";us.prototype.spaceSeparated=!1;us.prototype.space=void 0;let YYe=0;const sn=Ag(),Jr=Ag(),T$=Ag(),qe=Ag(),ar=Ag(),Ty=Ag(),_s=Ag();function Ag(){return 2**++YYe}const A$=Object.freeze(Object.defineProperty({__proto__:null,boolean:sn,booleanish:Jr,commaOrSpaceSeparated:_s,commaSeparated:Ty,number:qe,overloadedBoolean:T$,spaceSeparated:ar},Symbol.toStringTag,{value:"Module"})),rL=Object.keys(A$);class W3 extends us{constructor(e,n,r,i){let o=-1;if(super(e,n),kY(this,"space",i),typeof r=="number")for(;++o<rL.length;){const s=rL[o];kY(this,rL[o],(r&A$[s])===A$[s])}}}W3.prototype.defined=!0;function kY(t,e,n){n&&(t[e]=n)}function C0(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new W3(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[C$(r)]=r,n[C$(o.attribute)]=r}return new GS(e,n,t.space)}const Bse=C0({properties:{ariaActiveDescendant:null,ariaAtomic:Jr,ariaAutoComplete:null,ariaBusy:Jr,ariaChecked:Jr,ariaColCount:qe,ariaColIndex:qe,ariaColSpan:qe,ariaControls:ar,ariaCurrent:null,ariaDescribedBy:ar,ariaDetails:null,ariaDisabled:Jr,ariaDropEffect:ar,ariaErrorMessage:null,ariaExpanded:Jr,ariaFlowTo:ar,ariaGrabbed:Jr,ariaHasPopup:null,ariaHidden:Jr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ar,ariaLevel:qe,ariaLive:null,ariaModal:Jr,ariaMultiLine:Jr,ariaMultiSelectable:Jr,ariaOrientation:null,ariaOwns:ar,ariaPlaceholder:null,ariaPosInSet:qe,ariaPressed:Jr,ariaReadOnly:Jr,ariaRelevant:null,ariaRequired:Jr,ariaRoleDescription:ar,ariaRowCount:qe,ariaRowIndex:qe,ariaRowSpan:qe,ariaSelected:Jr,ariaSetSize:qe,ariaSort:null,ariaValueMax:qe,ariaValueMin:qe,ariaValueNow:qe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Vse(t,e){return e in t?t[e]:e}function zse(t,e){return Vse(t,e.toLowerCase())}const XYe=C0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ty,acceptCharset:ar,accessKey:ar,action:null,allow:null,allowFullScreen:sn,allowPaymentRequest:sn,allowUserMedia:sn,alt:null,as:null,async:sn,autoCapitalize:null,autoComplete:ar,autoFocus:sn,autoPlay:sn,blocking:ar,capture:null,charSet:null,checked:sn,cite:null,className:ar,cols:qe,colSpan:null,content:null,contentEditable:Jr,controls:sn,controlsList:ar,coords:qe|Ty,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sn,defer:sn,dir:null,dirName:null,disabled:sn,download:T$,draggable:Jr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sn,formTarget:null,headers:ar,height:qe,hidden:T$,high:qe,href:null,hrefLang:null,htmlFor:ar,httpEquiv:ar,id:null,imageSizes:null,imageSrcSet:null,inert:sn,inputMode:null,integrity:null,is:null,isMap:sn,itemId:null,itemProp:ar,itemRef:ar,itemScope:sn,itemType:ar,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sn,low:qe,manifest:null,max:null,maxLength:qe,media:null,method:null,min:null,minLength:qe,multiple:sn,muted:sn,name:null,nonce:null,noModule:sn,noValidate:sn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sn,optimum:qe,pattern:null,ping:ar,placeholder:null,playsInline:sn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sn,referrerPolicy:null,rel:ar,required:sn,reversed:sn,rows:qe,rowSpan:qe,sandbox:ar,scope:null,scoped:sn,seamless:sn,selected:sn,shadowRootClonable:sn,shadowRootDelegatesFocus:sn,shadowRootMode:null,shape:null,size:qe,sizes:null,slot:null,span:qe,spellCheck:Jr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:qe,step:null,style:null,tabIndex:qe,target:null,title:null,translate:null,type:null,typeMustMatch:sn,useMap:null,value:Jr,width:qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ar,axis:null,background:null,bgColor:null,border:qe,borderColor:null,bottomMargin:qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sn,declare:sn,event:null,face:null,frame:null,frameBorder:null,hSpace:qe,leftMargin:qe,link:null,longDesc:null,lowSrc:null,marginHeight:qe,marginWidth:qe,noResize:sn,noHref:sn,noShade:sn,noWrap:sn,object:null,profile:null,prompt:null,rev:null,rightMargin:qe,rules:null,scheme:null,scrolling:Jr,standby:null,summary:null,text:null,topMargin:qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sn,disableRemotePlayback:sn,prefix:null,property:null,results:qe,security:null,unselectable:null},space:"html",transform:zse}),JYe=C0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_s,accentHeight:qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:qe,amplitude:qe,arabicForm:null,ascent:qe,attributeName:null,attributeType:null,azimuth:qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:qe,by:null,calcMode:null,capHeight:qe,className:ar,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:qe,diffuseConstant:qe,direction:null,display:null,dur:null,divisor:qe,dominantBaseline:null,download:sn,dx:null,dy:null,edgeMode:null,editable:null,elevation:qe,enableBackground:null,end:null,event:null,exponent:qe,externalResourcesRequired:null,fill:null,fillOpacity:qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ty,g2:Ty,glyphName:Ty,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:qe,horizOriginX:qe,horizOriginY:qe,id:null,ideographic:qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:qe,k:qe,k1:qe,k2:qe,k3:qe,k4:qe,kernelMatrix:_s,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:qe,overlineThickness:qe,paintOrder:null,panose1:null,path:null,pathLength:qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ar,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:qe,pointsAtY:qe,pointsAtZ:qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_s,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_s,rev:_s,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_s,requiredFeatures:_s,requiredFonts:_s,requiredFormats:_s,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:qe,specularExponent:qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:qe,strikethroughThickness:qe,string:null,stroke:null,strokeDashArray:_s,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:qe,strokeOpacity:qe,strokeWidth:null,style:null,surfaceScale:qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_s,tabIndex:qe,tableValues:null,target:null,targetX:qe,targetY:qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_s,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:qe,underlineThickness:qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:qe,values:null,vAlphabetic:qe,vMathematical:qe,vectorEffect:null,vHanging:qe,vIdeographic:qe,version:null,vertAdvY:qe,vertOriginX:qe,vertOriginY:qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vse}),Use=C0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Hse=C0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:zse}),qse=C0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),QYe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ZYe=/[A-Z]/g,MY=/-[a-z]/g,eXe=/^data[-\w.:]+$/i;function tXe(t,e){const n=C$(e);let r=e,i=us;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eXe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(MY,rXe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!MY.test(o)){let s=o.replace(ZYe,nXe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=W3}return new i(r,e)}function nXe(t){return"-"+t.toLowerCase()}function rXe(t){return t.charAt(1).toUpperCase()}const iXe=$se([Bse,XYe,Use,Hse,qse],"html"),G3=$se([Bse,JYe,Use,Hse,qse],"svg");function oXe(t){return t.join(" ").trim()}var km={},iL,NY;function sXe(){if(NY)return iL;NY=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",h="comment",p="declaration";iL=function(y,w){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];w=w||{};var _=1,E=1;function S($){var z=$.match(e);z&&(_+=z.length);var G=$.lastIndexOf(l);E=~G?$.length-G:E+$.length}function T(){var $={line:_,column:E};return function(z){return z.position=new I($),M(),z}}function I($){this.start=$,this.end={line:_,column:E},this.source=w.source}I.prototype.content=y;function N($){var z=new Error(w.source+":"+_+":"+E+": "+$);if(z.reason=$,z.filename=w.source,z.line=_,z.column=E,z.source=y,!w.silent)throw z}function P($){var z=$.exec(y);if(z){var G=z[0];return S(G),y=y.slice(G.length),z}}function M(){P(n)}function D($){var z;for($=$||[];z=k();)z!==!1&&$.push(z);return $}function k(){var $=T();if(!(u!=y.charAt(0)||c!=y.charAt(1))){for(var z=2;d!=y.charAt(z)&&(c!=y.charAt(z)||u!=y.charAt(z+1));)++z;if(z+=2,d===y.charAt(z-1))return N("End of comment missing");var G=y.slice(2,z-2);return E+=2,S(G),y=y.slice(z),E+=2,$({type:h,comment:G})}}function L(){var $=T(),z=P(r);if(z){if(k(),!P(i))return N("property missing ':'");var G=P(o),K=$({type:p,property:m(z[0].replace(t,d)),value:G?m(G[0].replace(t,d)):d});return P(s),K}}function V(){var $=[];D($);for(var z;z=L();)z!==!1&&($.push(z),D($));return $}return M(),V()};function m(y){return y?y.replace(a,d):d}return iL}var DY;function aXe(){if(DY)return km;DY=1;var t=km&&km.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(km,"__esModule",{value:!0}),km.default=n;var e=t(sXe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,e.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return km}var Lb={},LY;function lXe(){if(LY)return Lb;LY=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||t.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(e,s))};return Lb.camelCase=l,Lb}var Ob,OY;function uXe(){if(OY)return Ob;OY=1;var t=Ob&&Ob.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(aXe()),n=lXe();function r(i,o){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,Ob=r,Ob}var cXe=uXe();const dXe=uo(cXe),jse=Wse("end"),K3=Wse("start");function Wse(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function fXe(t){const e=K3(t),n=jse(t);if(e&&n)return{start:e,end:n}}function Bw(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FY(t.position):"start"in t||"end"in t?FY(t):"line"in t||"column"in t?R$(t):""}function R$(t){return $Y(t&&t.line)+":"+$Y(t&&t.column)}function FY(t){return R$(t&&t.start)+"-"+R$(t&&t.end)}function $Y(t){return t&&typeof t=="number"?t:1}class fo extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Bw(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}fo.prototype.file="";fo.prototype.name="";fo.prototype.reason="";fo.prototype.message="";fo.prototype.stack="";fo.prototype.column=void 0;fo.prototype.line=void 0;fo.prototype.ancestors=void 0;fo.prototype.cause=void 0;fo.prototype.fatal=void 0;fo.prototype.place=void 0;fo.prototype.ruleId=void 0;fo.prototype.source=void 0;const Y3={}.hasOwnProperty,hXe=new Map,pXe=/[A-Z]/g,gXe=new Set(["table","tbody","thead","tfoot","tr"]),mXe=new Set(["td","th"]),Gse="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yXe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=CXe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=EXe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?G3:iXe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=Kse(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function Kse(t,e,n){if(e.type==="element")return vXe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return bXe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return xXe(t,e,n);if(e.type==="mdxjsEsm")return wXe(t,e);if(e.type==="root")return _Xe(t,e,n);if(e.type==="text")return SXe(t,e)}function vXe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=G3,t.schema=i),t.ancestors.push(e);const o=Xse(t,e.tagName,!1),s=TXe(t,e);let a=J3(t,e);return gXe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!KYe(l):!0})),Yse(t,s,o,e),X3(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function bXe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Rx(t,e.position)}function wXe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Rx(t,e.position)}function xXe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=G3,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:Xse(t,e.name,!0),s=AXe(t,e),a=J3(t,e);return Yse(t,s,o,e),X3(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function _Xe(t,e,n){const r={};return X3(r,J3(t,e)),t.create(e,t.Fragment,r,n)}function SXe(t,e){return e.value}function Yse(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function X3(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function EXe(t,e,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:e;return a?u(o,s,a):u(o,s)}}function CXe(t,e){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=K3(r);return e(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function TXe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Y3.call(e.properties,i)){const o=RXe(t,i,e.properties[i]);if(o){const[s,a]=o;t.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&mXe.has(e.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function AXe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Rx(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,o=t.evaluater.evaluateExpression(a.expression)}else Rx(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function J3(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:hXe;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=Kse(t,o,s);a!==void 0&&n.push(a)}return n}function RXe(t,e,n){const r=tXe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?HYe(n):oXe(n)),r.property==="style"){let i=typeof n=="object"?n:PXe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=IXe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?QYe[r.property]||r.property:r.attribute,n]}}function PXe(t,e){try{return dXe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new fo("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Gse+"#cannot-parse-style-attribute",i}}function Xse(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const a=PY(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=PY(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Y3.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Rx(t)}function Rx(t,e){const n=new fo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Gse+"#cannot-handle-mdx-estrees-without-createevaluater",n}function IXe(t){const e={};let n;for(n in t)Y3.call(t,n)&&(e[kXe(n)]=t[n]);return e}function kXe(t){let e=t.replace(pXe,MXe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function MXe(t){return"-"+t.toLowerCase()}const oL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},NXe={};function DXe(t,e){const n=NXe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Jse(t,r,i)}function Jse(t,e,n){if(LXe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return BY(t.children,e,n)}return Array.isArray(t)?BY(t,e,n):""}function BY(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Jse(t[i],e,n);return r.join("")}function LXe(t){return!!(t&&typeof t=="object")}const VY=document.createElement("i");function Q3(t){const e="&"+t+";";VY.innerHTML=e;const n=VY.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Pu(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function aa(t,e){return t.length>0?(Pu(t,t.length,0,e),t):e}const zY={}.hasOwnProperty;function OXe(t){const e={};let n=-1;for(;++n<t.length;)FXe(e,t[n]);return e}function FXe(t,e){let n;for(n in e){const i=(zY.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){zY.call(i,s)||(i[s]=[]);const a=o[s];$Xe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function $Xe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Pu(t,0,0,r)}function Qse(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ay(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const uu=Zf(/[A-Za-z]/),Os=Zf(/[\dA-Za-z]/),BXe=Zf(/[#-'*+\--9=?A-Z^-~]/);function P$(t){return t!==null&&(t<32||t===127)}const I$=Zf(/\d/),VXe=Zf(/[\dA-Fa-f]/),zXe=Zf(/[!-/:-@[-`{-~]/);function jt(t){return t!==null&&t<-2}function os(t){return t!==null&&(t<0||t===32)}function Vn(t){return t===-2||t===-1||t===32}const UXe=Zf(new RegExp("\\p{P}|\\p{S}","u")),HXe=Zf(/\s/);function Zf(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function T0(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&Os(t.charCodeAt(n+1))&&Os(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=t.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s="�"}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function ur(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Vn(l)?(t.enter(n),a(l)):e(l)}function a(l){return Vn(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const qXe={tokenize:jXe};function jXe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),ur(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return jt(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const WXe={tokenize:GXe},UY={tokenize:KXe};function GXe(t){const e=this,n=[];let r=0,i,o,s;return a;function a(S){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,l,u)(S)}return u(S)}function l(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const T=e.events.length;let I=T,N;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){N=e.events[I][1].end;break}_(r);let P=T;for(;P<e.events.length;)e.events[P][1].end={...N},P++;return Pu(e.events,I+1,0,e.events.slice(T)),e.events.length=P,u(S)}return a(S)}function u(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return m(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(UY,c,d)(S)}function c(S){return i&&E(),_(r),h(S)}function d(S){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(S)}function h(S){return e.containerState={},t.attempt(UY,p,m)(S)}function p(S){return r++,n.push([e.currentConstruct,e.containerState]),h(S)}function m(S){if(S===null){i&&E(),_(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(S)}function y(S){if(S===null){w(t.exit("chunkFlow"),!0),_(0),t.consume(S);return}return jt(S)?(t.consume(S),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(S),y)}function w(S,T){const I=e.sliceStream(S);if(T&&I.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(I),e.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const P=e.events.length;let M=P,D,k;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(D){k=e.events[M][1].end;break}D=!0}for(_(r),N=P;N<e.events.length;)e.events[N][1].end={...k},N++;Pu(e.events,M+1,0,e.events.slice(P)),e.events.length=N}}function _(S){let T=n.length;for(;T-- >S;){const I=n[T];e.containerState=I[1],I[0].exit.call(e,t)}n.length=S}function E(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function KXe(t,e,n){return ur(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function HY(t){if(t===null||os(t)||HXe(t))return 1;if(UXe(t))return 2}function Z3(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const k$={name:"attention",resolveAll:YXe,tokenize:XXe};function YXe(t,e){let n=-1,r,i,o,s,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};qY(d,-l),qY(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},t[r][1].end={...s.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=aa(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=aa(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),u=aa(u,Z3(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=aa(u,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=aa(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Pu(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function XXe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=HY(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const u=t.exit("attentionSequence"),c=HY(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!h)),u._close=!!(o===42?h:h&&(c||!d)),e(l)}}function qY(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const JXe={name:"autolink",tokenize:QXe};function QXe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return uu(p)?(t.consume(p),s):p===64?n(p):u(p)}function s(p){return p===43||p===45||p===46||Os(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Os(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||P$(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):BXe(p)?(t.consume(p),u):n(p)}function c(p){return Os(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Os(p))&&r++<63){const m=p===45?h:d;return t.consume(p),m}return n(p)}}const _P={partial:!0,tokenize:ZXe};function ZXe(t,e,n){return r;function r(o){return Vn(o)?ur(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||jt(o)?e(o):n(o)}}const Zse={continuation:{tokenize:tJe},exit:nJe,name:"blockQuote",tokenize:eJe};function eJe(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Vn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function tJe(t,e,n){const r=this;return i;function i(s){return Vn(s)?ur(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(Zse,e,n)(s)}}function nJe(t){t.exit("blockQuote")}const eae={name:"characterEscape",tokenize:rJe};function rJe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return zXe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const tae={name:"characterReference",tokenize:iJe};function iJe(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,s=Os,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=VXe,c):(t.enter("characterReferenceValue"),o=7,s=I$,c(d))}function c(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return s===Os&&!Q3(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),c):n(d)}}const jY={partial:!0,tokenize:sJe},WY={concrete:!0,name:"codeFenced",tokenize:oJe};function oJe(t,e,n){const r=this,i={partial:!0,tokenize:I};let o=0,s=0,a;return l;function l(N){return u(N)}function u(N){const P=r.events[r.events.length-1];return o=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,a=N,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(N)}function c(N){return N===a?(s++,t.consume(N),c):s<3?n(N):(t.exit("codeFencedFenceSequence"),Vn(N)?ur(t,d,"whitespace")(N):d(N))}function d(N){return N===null||jt(N)?(t.exit("codeFencedFence"),r.interrupt?e(N):t.check(jY,y,T)(N)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||jt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(N)):Vn(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ur(t,p,"whitespace")(N)):N===96&&N===a?n(N):(t.consume(N),h)}function p(N){return N===null||jt(N)?d(N):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||jt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(N)):N===96&&N===a?n(N):(t.consume(N),m)}function y(N){return t.attempt(i,T,w)(N)}function w(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),_}function _(N){return o>0&&Vn(N)?ur(t,E,"linePrefix",o+1)(N):E(N)}function E(N){return N===null||jt(N)?t.check(jY,y,T)(N):(t.enter("codeFlowValue"),S(N))}function S(N){return N===null||jt(N)?(t.exit("codeFlowValue"),E(N)):(t.consume(N),S)}function T(N){return t.exit("codeFenced"),e(N)}function I(N,P,M){let D=0;return k;function k(G){return N.enter("lineEnding"),N.consume(G),N.exit("lineEnding"),L}function L(G){return N.enter("codeFencedFence"),Vn(G)?ur(N,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):V(G)}function V(G){return G===a?(N.enter("codeFencedFenceSequence"),$(G)):M(G)}function $(G){return G===a?(D++,N.consume(G),$):D>=s?(N.exit("codeFencedFenceSequence"),Vn(G)?ur(N,z,"whitespace")(G):z(G)):M(G)}function z(G){return G===null||jt(G)?(N.exit("codeFencedFence"),P(G)):M(G)}}}function sJe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const sL={name:"codeIndented",tokenize:lJe},aJe={partial:!0,tokenize:uJe};function lJe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),ur(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):jt(u)?t.attempt(aJe,s,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||jt(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function uJe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):jt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):ur(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):jt(s)?i(s):n(s)}}const cJe={name:"codeText",previous:fJe,resolve:dJe,tokenize:hJe};function dJe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function fJe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hJe(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,c(d)):jt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||jt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",u(d))}}class pJe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Fb(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fb(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fb(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Fb(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fb(this.left,n.reverse())}}}function Fb(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function nae(t){const e={};let n=-1,r,i,o,s,a,l,u;const c=new pJe(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,gJe(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Pu(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function gJe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,h=-1,p=n,m=0,y=0;const w=[y];for(;p;){for(;t.get(++i)[1]!==p;);o.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(y=h+1,w.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):w.pop(),h=w.length;h--;){const _=a.slice(w[h],w[h+1]),E=o.pop();l.push([E,E+_.length-1]),t.splice(E,2,_)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const mJe={resolve:vJe,tokenize:bJe},yJe={partial:!0,tokenize:wJe};function vJe(t){return nae(t),t}function bJe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):jt(a)?t.check(yJe,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function wJe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),ur(t,o,"linePrefix")}function o(s){if(s===null||jt(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function rae(t,e,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(_){return _===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(_),t.exit(o),h):_===null||_===32||_===41||P$(_)?n(_):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(_))}function h(_){return _===62?(t.enter(o),t.consume(_),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===62?(t.exit("chunkString"),t.exit(a),h(_)):_===null||_===60||jt(_)?n(_):(t.consume(_),_===92?m:p)}function m(_){return _===60||_===62||_===92?(t.consume(_),p):p(_)}function y(_){return!c&&(_===null||_===41||os(_))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(_)):c<u&&_===40?(t.consume(_),c++,y):_===41?(t.consume(_),c--,y):_===null||_===32||_===40||P$(_)?n(_):(t.consume(_),_===92?w:y)}function w(_){return _===40||_===41||_===92?(t.consume(_),y):y(_)}}function iae(t,e,n,r,i,o){const s=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(o),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):jt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||jt(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!Vn(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function oae(t,e,n,r,i,o){let s;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(o),u(h))}function u(h){return h===s?(t.exit(o),l(s)):h===null?n(h):jt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),ur(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||jt(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(t.consume(h),c):c(h)}}function Vw(t,e){let n;return r;function r(i){return jt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Vn(i)?ur(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const xJe={name:"definition",tokenize:SJe},_Je={partial:!0,tokenize:EJe};function SJe(t,e,n){const r=this;let i;return o;function o(p){return t.enter("definition"),s(p)}function s(p){return iae.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Ay(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return os(p)?Vw(t,u)(p):u(p)}function u(p){return rae(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(_Je,d,d)(p)}function d(p){return Vn(p)?ur(t,h,"whitespace")(p):h(p)}function h(p){return p===null||jt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function EJe(t,e,n){return r;function r(a){return os(a)?Vw(t,i)(a):n(a)}function i(a){return oae(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Vn(a)?ur(t,s,"whitespace")(a):s(a)}function s(a){return a===null||jt(a)?e(a):n(a)}}const CJe={name:"hardBreakEscape",tokenize:TJe};function TJe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return jt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const AJe={name:"headingAtx",resolve:RJe,tokenize:PJe};function RJe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Pu(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function PJe(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||os(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||jt(c)?(t.exit("atxHeading"),e(c)):Vn(c)?ur(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||os(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const IJe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],GY=["pre","script","style","textarea"],kJe={concrete:!0,name:"htmlFlow",resolveTo:DJe,tokenize:LJe},MJe={partial:!0,tokenize:FJe},NJe={partial:!0,tokenize:OJe};function DJe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function LJe(t,e,n){const r=this;let i,o,s,a,l;return u;function u(q){return c(q)}function c(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),d}function d(q){return q===33?(t.consume(q),h):q===47?(t.consume(q),o=!0,y):q===63?(t.consume(q),i=3,r.interrupt?e:j):uu(q)?(t.consume(q),s=String.fromCharCode(q),w):n(q)}function h(q){return q===45?(t.consume(q),i=2,p):q===91?(t.consume(q),i=5,a=0,m):uu(q)?(t.consume(q),i=4,r.interrupt?e:j):n(q)}function p(q){return q===45?(t.consume(q),r.interrupt?e:j):n(q)}function m(q){const Y="CDATA[";return q===Y.charCodeAt(a++)?(t.consume(q),a===Y.length?r.interrupt?e:V:m):n(q)}function y(q){return uu(q)?(t.consume(q),s=String.fromCharCode(q),w):n(q)}function w(q){if(q===null||q===47||q===62||os(q)){const Y=q===47,te=s.toLowerCase();return!Y&&!o&&GY.includes(te)?(i=1,r.interrupt?e(q):V(q)):IJe.includes(s.toLowerCase())?(i=6,Y?(t.consume(q),_):r.interrupt?e(q):V(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):o?E(q):S(q))}return q===45||Os(q)?(t.consume(q),s+=String.fromCharCode(q),w):n(q)}function _(q){return q===62?(t.consume(q),r.interrupt?e:V):n(q)}function E(q){return Vn(q)?(t.consume(q),E):k(q)}function S(q){return q===47?(t.consume(q),k):q===58||q===95||uu(q)?(t.consume(q),T):Vn(q)?(t.consume(q),S):k(q)}function T(q){return q===45||q===46||q===58||q===95||Os(q)?(t.consume(q),T):I(q)}function I(q){return q===61?(t.consume(q),N):Vn(q)?(t.consume(q),I):S(q)}function N(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),l=q,P):Vn(q)?(t.consume(q),N):M(q)}function P(q){return q===l?(t.consume(q),l=null,D):q===null||jt(q)?n(q):(t.consume(q),P)}function M(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||os(q)?I(q):(t.consume(q),M)}function D(q){return q===47||q===62||Vn(q)?S(q):n(q)}function k(q){return q===62?(t.consume(q),L):n(q)}function L(q){return q===null||jt(q)?V(q):Vn(q)?(t.consume(q),L):n(q)}function V(q){return q===45&&i===2?(t.consume(q),K):q===60&&i===1?(t.consume(q),J):q===62&&i===4?(t.consume(q),Q):q===63&&i===3?(t.consume(q),j):q===93&&i===5?(t.consume(q),X):jt(q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(MJe,ue,$)(q)):q===null||jt(q)?(t.exit("htmlFlowData"),$(q)):(t.consume(q),V)}function $(q){return t.check(NJe,z,ue)(q)}function z(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),G}function G(q){return q===null||jt(q)?$(q):(t.enter("htmlFlowData"),V(q))}function K(q){return q===45?(t.consume(q),j):V(q)}function J(q){return q===47?(t.consume(q),s="",ee):V(q)}function ee(q){if(q===62){const Y=s.toLowerCase();return GY.includes(Y)?(t.consume(q),Q):V(q)}return uu(q)&&s.length<8?(t.consume(q),s+=String.fromCharCode(q),ee):V(q)}function X(q){return q===93?(t.consume(q),j):V(q)}function j(q){return q===62?(t.consume(q),Q):q===45&&i===2?(t.consume(q),j):V(q)}function Q(q){return q===null||jt(q)?(t.exit("htmlFlowData"),ue(q)):(t.consume(q),Q)}function ue(q){return t.exit("htmlFlow"),e(q)}}function OJe(t,e,n){const r=this;return i;function i(s){return jt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function FJe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(_P,e,n)}}const $Je={name:"htmlText",tokenize:BJe};function BJe(t,e,n){const r=this;let i,o,s;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),u):j===47?(t.consume(j),I):j===63?(t.consume(j),S):uu(j)?(t.consume(j),M):n(j)}function u(j){return j===45?(t.consume(j),c):j===91?(t.consume(j),o=0,m):uu(j)?(t.consume(j),E):n(j)}function c(j){return j===45?(t.consume(j),p):n(j)}function d(j){return j===null?n(j):j===45?(t.consume(j),h):jt(j)?(s=d,J(j)):(t.consume(j),d)}function h(j){return j===45?(t.consume(j),p):d(j)}function p(j){return j===62?K(j):j===45?h(j):d(j)}function m(j){const Q="CDATA[";return j===Q.charCodeAt(o++)?(t.consume(j),o===Q.length?y:m):n(j)}function y(j){return j===null?n(j):j===93?(t.consume(j),w):jt(j)?(s=y,J(j)):(t.consume(j),y)}function w(j){return j===93?(t.consume(j),_):y(j)}function _(j){return j===62?K(j):j===93?(t.consume(j),_):y(j)}function E(j){return j===null||j===62?K(j):jt(j)?(s=E,J(j)):(t.consume(j),E)}function S(j){return j===null?n(j):j===63?(t.consume(j),T):jt(j)?(s=S,J(j)):(t.consume(j),S)}function T(j){return j===62?K(j):S(j)}function I(j){return uu(j)?(t.consume(j),N):n(j)}function N(j){return j===45||Os(j)?(t.consume(j),N):P(j)}function P(j){return jt(j)?(s=P,J(j)):Vn(j)?(t.consume(j),P):K(j)}function M(j){return j===45||Os(j)?(t.consume(j),M):j===47||j===62||os(j)?D(j):n(j)}function D(j){return j===47?(t.consume(j),K):j===58||j===95||uu(j)?(t.consume(j),k):jt(j)?(s=D,J(j)):Vn(j)?(t.consume(j),D):K(j)}function k(j){return j===45||j===46||j===58||j===95||Os(j)?(t.consume(j),k):L(j)}function L(j){return j===61?(t.consume(j),V):jt(j)?(s=L,J(j)):Vn(j)?(t.consume(j),L):D(j)}function V(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,$):jt(j)?(s=V,J(j)):Vn(j)?(t.consume(j),V):(t.consume(j),z)}function $(j){return j===i?(t.consume(j),i=void 0,G):j===null?n(j):jt(j)?(s=$,J(j)):(t.consume(j),$)}function z(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||os(j)?D(j):(t.consume(j),z)}function G(j){return j===47||j===62||os(j)?D(j):n(j)}function K(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function J(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ee}function ee(j){return Vn(j)?ur(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):X(j)}function X(j){return t.enter("htmlTextData"),s(j)}}const eB={name:"labelEnd",resolveAll:HJe,resolveTo:qJe,tokenize:jJe},VJe={tokenize:WJe},zJe={tokenize:GJe},UJe={tokenize:KJe};function HJe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Pu(t,0,t.length,n),t}function qJe(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[s-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=aa(a,t.slice(o+1,o+r+3)),a=aa(a,[["enter",c,e]]),a=aa(a,Z3(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=aa(a,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),a=aa(a,t.slice(s+1)),a=aa(a,[["exit",l,e]]),Pu(t,o,t.length,a),t}function jJe(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(h){return o?o._inactive?d(h):(s=r.parser.defined.includes(Ay(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(VJe,c,s?c:d)(h):h===91?t.attempt(zJe,c,s?u:d)(h):s?c(h):d(h)}function u(h){return t.attempt(UJe,c,d)(h)}function c(h){return e(h)}function d(h){return o._balanced=!0,n(h)}}function WJe(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return os(d)?Vw(t,o)(d):o(d)}function o(d){return d===41?c(d):rae(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return os(d)?Vw(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?oae(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return os(d)?Vw(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function GJe(t,e,n){const r=this;return i;function i(a){return iae.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Ay(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function KJe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const YJe={name:"labelStartImage",resolveAll:eB.resolveAll,tokenize:XJe};function XJe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const JJe={name:"labelStartLink",resolveAll:eB.resolveAll,tokenize:QJe};function QJe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const aL={name:"lineEnding",tokenize:ZJe};function ZJe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ur(t,e,"linePrefix")}}const oT={name:"thematicBreak",tokenize:eQe};function eQe(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||jt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Vn(u)?ur(t,a,"whitespace")(u):a(u))}}const Ho={continuation:{tokenize:iQe},exit:sQe,name:"list",tokenize:rQe},tQe={partial:!0,tokenize:aQe},nQe={partial:!0,tokenize:oQe};function rQe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:I$(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(oT,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return I$(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(_P,r.interrupt?n:c,t.attempt(tQe,h,d))}function c(p){return r.containerState.initialBlankLine=!0,o++,h(p)}function d(p){return Vn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function iQe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(_P,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ur(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Vn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(nQe,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ur(t,t.attempt(Ho,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function oQe(t,e,n){const r=this;return ur(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function sQe(t){t.exit(this.containerState.type)}function aQe(t,e,n){const r=this;return ur(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Vn(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const KY={name:"setextUnderline",resolveTo:lQe,tokenize:uQe};function lQe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function uQe(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Vn(u)?ur(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||jt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const cQe={tokenize:dQe};function dQe(t){const e=this,n=t.attempt(_P,r,t.attempt(this.parser.constructs.flowInitial,i,ur(t,t.attempt(this.parser.constructs.flow,i,t.attempt(mJe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const fQe={resolveAll:aae()},hQe=sae("string"),pQe=sae("text");function sae(t){return{resolveAll:aae(t==="text"?gQe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function aae(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function gQe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const mQe={42:Ho,43:Ho,45:Ho,48:Ho,49:Ho,50:Ho,51:Ho,52:Ho,53:Ho,54:Ho,55:Ho,56:Ho,57:Ho,62:Zse},yQe={91:xJe},vQe={[-2]:sL,[-1]:sL,32:sL},bQe={35:AJe,42:oT,45:[KY,oT],60:kJe,61:KY,95:oT,96:WY,126:WY},wQe={38:tae,92:eae},xQe={[-5]:aL,[-4]:aL,[-3]:aL,33:YJe,38:tae,42:k$,60:[JXe,$Je],91:JJe,92:[CJe,eae],93:eB,95:k$,96:cJe},_Qe={null:[k$,fQe]},SQe={null:[42,95]},EQe={null:[]},CQe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SQe,contentInitial:yQe,disable:EQe,document:mQe,flow:bQe,flowInitial:vQe,insideSpan:_Qe,string:wQe,text:xQe},Symbol.toStringTag,{value:"Module"}));function TQe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:P(I),check:P(N),consume:E,enter:S,exit:T,interrupt:P(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function d(L){return s=aa(s,L),w(),s[s.length-1]!==null?[]:(M(e,0),u.events=Z3(o,u.events,u),u.events)}function h(L,V){return RQe(p(L),V)}function p(L){return AQe(s,L)}function m(){const{_bufferIndex:L,_index:V,line:$,column:z,offset:G}=r;return{_bufferIndex:L,_index:V,line:$,column:z,offset:G}}function y(L){i[L.line]=L.column,k()}function w(){let L;for(;r._index<s.length;){const V=s[r._index];if(typeof V=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<V.length;)_(V.charCodeAt(r._bufferIndex));else _(V)}}function _(L){c=c(L)}function E(L){jt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,k()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function S(L,V){const $=V||{};return $.type=L,$.start=m(),u.events.push(["enter",$,u]),a.push($),$}function T(L){const V=a.pop();return V.end=m(),u.events.push(["exit",V,u]),V}function I(L,V){M(L,V.from)}function N(L,V){V.restore()}function P(L,V){return $;function $(z,G,K){let J,ee,X,j;return Array.isArray(z)?ue(z):"tokenize"in z?ue([z]):Q(z);function Q(le){return de;function de(se){const ce=se!==null&&le[se],fe=se!==null&&le.null,ye=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return ue(ye)(se)}}function ue(le){return J=le,ee=0,le.length===0?K:q(le[ee])}function q(le){return de;function de(se){return j=D(),X=le,le.partial||(u.currentConstruct=le),le.name&&u.parser.constructs.disable.null.includes(le.name)?te():le.tokenize.call(V?Object.assign(Object.create(u),V):u,l,Y,te)(se)}}function Y(le){return L(X,j),G}function te(le){return j.restore(),++ee<J.length?q(J[ee]):K}}}function M(L,V){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&Pu(u.events,V,u.events.length-V,L.resolve(u.events.slice(V),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function D(){const L=m(),V=u.previous,$=u.currentConstruct,z=u.events.length,G=Array.from(a);return{from:z,restore:K};function K(){r=L,u.previous=V,u.currentConstruct=$,u.events.length=z,a=G,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function AQe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function RQe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function PQe(t){const r={constructs:OXe([CQe,...(t||{}).extensions||[]]),content:i(qXe),defined:[],document:i(WXe),flow:i(cQe),lazy:{},string:i(hQe),text:i(pQe)};return r;function i(o){return s;function s(a){return TQe(r,o,a)}}}function IQe(t){for(;!nae(t););return t}const YY=/[\0\t\n\r]/g;function kQe(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,h,p;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(YY.lastIndex=d,u=YY.exec(o),h=u&&u.index!==void 0?u.index:o.length,p=o.charCodeAt(h),!u){e=o.slice(d);break}if(p===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(o.slice(d,h)),t+=h-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const MQe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function NQe(t){return t.replace(MQe,DQe)}function DQe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Qse(n.slice(o?2:1),o?16:10)}return Q3(n)||t}const lae={}.hasOwnProperty;function LQe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),OQe(n)(IQe(PQe(n).document().write(kQe()(t,e,!0))))}function OQe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Me),autolinkProtocol:D,autolinkEmail:D,atxHeading:o(be),blockQuote:o(fe),characterEscape:D,characterReference:D,codeFenced:o(ye),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ye,s),codeText:o(we,s),codeTextData:D,data:D,codeFlowValue:D,definition:o(Re),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Ae),hardBreakEscape:o(Ke),hardBreakTrailing:o(Ke),htmlFlow:o(Ve,s),htmlFlowData:D,htmlText:o(Ve,s),htmlTextData:D,image:o(Oe),label:s,link:o(Me),listItem:o(wt),listItemValue:h,listOrdered:o(je,d),listUnordered:o(je),paragraph:o(ke),reference:q,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(be),strong:o(dt),thematicBreak:o(St)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:ce,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:le,characterReference:de,codeFenced:l(w),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:l(_),codeText:l(G),codeTextData:k,data:k,definition:l(),definitionDestinationString:T,definitionLabelString:E,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l($),htmlFlowData:k,htmlText:l(z),htmlTextData:k,image:l(J),label:X,labelText:ee,lineEnding:L,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:j,resourceTitleString:Q,resource:ue,setextHeading:l(M),setextHeadingLineSequence:P,setextHeadingText:N,strong:l(),thematicBreak:l()}};uae(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ve){let Ce={type:"root",children:[]};const He={stack:[Ce],tokenStack:[],config:e,enter:a,exit:u,buffer:s,resume:c,data:n},et=[];let Ze=-1;for(;++Ze<ve.length;)if(ve[Ze][1].type==="listOrdered"||ve[Ze][1].type==="listUnordered")if(ve[Ze][0]==="enter")et.push(Ze);else{const tt=et.pop();Ze=i(ve,tt,Ze)}for(Ze=-1;++Ze<ve.length;){const tt=e[ve[Ze][0]];lae.call(tt,ve[Ze][1].type)&&tt[ve[Ze][1].type].call(Object.assign({sliceSerialize:ve[Ze][2].sliceSerialize},He),ve[Ze][1])}if(He.tokenStack.length>0){const tt=He.tokenStack[He.tokenStack.length-1];(tt[1]||XY).call(He,void 0,tt[0])}for(Ce.position={start:qd(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:qd(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)Ce=e.transforms[Ze](Ce)||Ce;return Ce}function i(ve,Ce,He){let et=Ce-1,Ze=-1,tt=!1,Yt,$t,rn,Qe;for(;++et<=He;){const Rt=ve[et];switch(Rt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Rt[0]==="enter"?Ze++:Ze--,Qe=void 0;break}case"lineEndingBlank":{Rt[0]==="enter"&&(Yt&&!Qe&&!Ze&&!rn&&(rn=et),Qe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qe=void 0}if(!Ze&&Rt[0]==="enter"&&Rt[1].type==="listItemPrefix"||Ze===-1&&Rt[0]==="exit"&&(Rt[1].type==="listUnordered"||Rt[1].type==="listOrdered")){if(Yt){let mn=et;for($t=void 0;mn--;){const _n=ve[mn];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;$t&&(ve[$t][1].type="lineEndingBlank",tt=!0),_n[1].type="lineEnding",$t=mn}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}rn&&(!$t||rn<$t)&&(Yt._spread=!0),Yt.end=Object.assign({},$t?ve[$t][1].start:Rt[1].end),ve.splice($t||et,0,["exit",Yt,Rt[2]]),et++,He++}if(Rt[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},Rt[1].start),end:void 0};Yt=mn,ve.splice(et,0,["enter",mn,Rt[2]]),et++,He++,rn=void 0,Qe=!0}}}return ve[Ce][1]._spread=tt,He}function o(ve,Ce){return He;function He(et){a.call(this,ve(et),et),Ce&&Ce.call(this,et)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(ve,Ce,He){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Ce,He||void 0]),ve.position={start:qd(Ce.start),end:void 0}}function l(ve){return Ce;function Ce(He){ve&&ve.call(this,He),u.call(this,He)}}function u(ve,Ce){const He=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==ve.type&&(Ce?Ce.call(this,ve,et[0]):(et[1]||XY).call(this,ve,et[0]));else throw new Error("Cannot close `"+ve.type+"` ("+Bw({start:ve.start,end:ve.end})+"): it’s not open");He.position.end=qd(ve.end)}function c(){return DXe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ve){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ve}function m(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ve}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve.replace(/(\r?\n|\r)$/g,"")}function E(ve){const Ce=this.resume(),He=this.stack[this.stack.length-1];He.label=Ce,He.identifier=Ay(this.sliceSerialize(ve)).toLowerCase()}function S(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ve}function T(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ve}function I(ve){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const He=this.sliceSerialize(ve).length;Ce.depth=He}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(ve){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ve){const He=this.stack[this.stack.length-1].children;let et=He[He.length-1];(!et||et.type!=="text")&&(et=ot(),et.position={start:qd(ve.start),end:void 0},He.push(et)),this.stack.push(et)}function k(ve){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ve),Ce.position.end=qd(ve.end)}function L(ve){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const He=Ce.children[Ce.children.length-1];He.position.end=qd(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(D.call(this,ve),k.call(this,ve))}function V(){this.data.atHardBreak=!0}function $(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve}function z(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve}function G(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve}function K(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ce,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function J(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ce,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function ee(ve){const Ce=this.sliceSerialize(ve),He=this.stack[this.stack.length-2];He.label=NQe(Ce),He.identifier=Ay(Ce).toLowerCase()}function X(){const ve=this.stack[this.stack.length-1],Ce=this.resume(),He=this.stack[this.stack.length-1];if(this.data.inReference=!0,He.type==="link"){const et=ve.children;He.children=et}else He.alt=Ce}function j(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ve}function Q(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ve}function ue(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function Y(ve){const Ce=this.resume(),He=this.stack[this.stack.length-1];He.label=Ce,He.identifier=Ay(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function te(ve){this.data.characterReferenceType=ve.type}function le(ve){const Ce=this.sliceSerialize(ve),He=this.data.characterReferenceType;let et;He?(et=Qse(Ce,He==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=Q3(Ce);const Ze=this.stack[this.stack.length-1];Ze.value+=et}function de(ve){const Ce=this.stack.pop();Ce.position.end=qd(ve.end)}function se(ve){k.call(this,ve);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ve)}function ce(ve){k.call(this,ve);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ve)}function fe(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function we(){return{type:"inlineCode",value:""}}function Re(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ae(){return{type:"emphasis",children:[]}}function be(){return{type:"heading",depth:0,children:[]}}function Ke(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function Oe(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function je(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function wt(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function ke(){return{type:"paragraph",children:[]}}function dt(){return{type:"strong",children:[]}}function ot(){return{type:"text",value:""}}function St(){return{type:"thematicBreak"}}}function qd(t){return{line:t.line,column:t.column,offset:t.offset}}function uae(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?uae(t,r):FQe(t,r)}}function FQe(t,e){let n;for(n in e)if(lae.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function XY(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bw({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bw({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bw({start:e.start,end:e.end})+") is still open")}function $Qe(t){const e=this;e.parser=n;function n(r){return LQe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function BQe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function VQe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function zQe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function UQe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HQe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qQe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=T0(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function jQe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WQe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function cae(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function GQe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return cae(t,e);const i={src:T0(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function KQe(t,e){const n={src:T0(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function YQe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function XQe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return cae(t,e);const i={href:T0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function JQe(t,e){const n={href:T0(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function QQe(t,e,n){const r=t.all(e),i=n?ZQe(n):dae(e),o={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,u),t.applyData(e,u)}function ZQe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dae(n[r])}return e}function dae(t){const e=t.spread;return e??t.children.length>1}function eZe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function tZe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nZe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function rZe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iZe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=K3(e.children[1]),l=jse(e.children[e.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function oZe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:o,properties:h,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function sZe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const JY=9,QY=32;function aZe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(ZY(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(ZY(e.slice(i),i>0,!1)),o.join("")}function ZY(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===JY||o===QY;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===JY||o===QY;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function lZe(t,e){const n={type:"text",value:aZe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function uZe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const cZe={blockquote:BQe,break:VQe,code:zQe,delete:UQe,emphasis:HQe,footnoteReference:qQe,heading:jQe,html:WQe,imageReference:GQe,image:KQe,inlineCode:YQe,linkReference:XQe,link:JQe,listItem:QQe,list:eZe,paragraph:tZe,root:nZe,strong:rZe,table:iZe,tableCell:sZe,tableRow:oZe,text:lZe,thematicBreak:uZe,toml:eC,yaml:eC,definition:eC,footnoteDefinition:eC};function eC(){}const fae=-1,SP=0,zw=1,bA=2,tB=3,nB=4,rB=5,iB=6,hae=7,pae=8,eX=typeof self=="object"?self:globalThis,dZe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case SP:case fae:return n(s,i);case zw:{const a=n([],i);for(const l of s)a.push(r(l));return a}case bA:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case tB:return n(new Date(s),i);case nB:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case rB:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case iB:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case hae:{const{name:a,message:l}=s;return n(new eX[a](l),i)}case pae:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new eX[o](s),i)};return r},tX=t=>dZe(new Map,t)(0),Mm="",{toString:fZe}={},{keys:hZe}=Object,$b=t=>{const e=typeof t;if(e!=="object"||!t)return[SP,e];const n=fZe.call(t).slice(8,-1);switch(n){case"Array":return[zw,Mm];case"Object":return[bA,Mm];case"Date":return[tB,Mm];case"RegExp":return[nB,Mm];case"Map":return[rB,Mm];case"Set":return[iB,Mm];case"DataView":return[zw,n]}return n.includes("Array")?[zw,n]:n.includes("Error")?[hae,n]:[bA,n]},tC=([t,e])=>t===SP&&(e==="function"||e==="symbol"),pZe=(t,e,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=$b(s);switch(a){case SP:{let c=s;switch(l){case"bigint":a=pae,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([fae],s)}return i([a,c],s)}case zw:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const c=[],d=i([a,c],s);for(const h of s)c.push(o(h));return d}case bA:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const h of hZe(s))(t||!tC($b(s[h])))&&c.push([o(h),o(s[h])]);return d}case tB:return i([a,s.toISOString()],s);case nB:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case rB:{const c=[],d=i([a,c],s);for(const[h,p]of s)(t||!(tC($b(h))||tC($b(p))))&&c.push([o(h),o(p)]);return d}case iB:{const c=[],d=i([a,c],s);for(const h of s)(t||!tC($b(h)))&&c.push(o(h));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},nX=(t,{json:e,lossy:n}={})=>{const r=[];return pZe(!(e||n),!!e,new Map,r)(t),r},wA=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?tX(nX(t,e)):structuredClone(t):(t,e)=>tX(nX(t,e));function gZe(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function mZe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function yZe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||gZe,r=t.options.footnoteBackLabel||mZe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),h=T0(d.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=c[c.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...m)}else c.push(...m);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(c,!0)};t.patch(u,_),a.push(_)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...wA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const gae=function(t){if(t==null)return xZe;if(typeof t=="function")return EP(t);if(typeof t=="object")return Array.isArray(t)?vZe(t):bZe(t);if(typeof t=="string")return wZe(t);throw new Error("Expected function, string, or object as test")};function vZe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=gae(t[n]);return EP(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function bZe(t){const e=t;return EP(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function wZe(t){return EP(e);function e(n){return n&&n.type===t}}function EP(t){return e;function e(n,r,i){return!!(_Ze(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xZe(){return!0}function _Ze(t){return t!==null&&typeof t=="object"&&"type"in t}const mae=[],SZe=!0,rX=!1,EZe="skip";function CZe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=gae(i),s=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=mae,m,y,w;if((!e||o(l,u,c[c.length-1]||void 0))&&(p=TZe(n(l,c)),p[0]===rX))return p;if("children"in l&&l.children){const _=l;if(_.children&&p[0]!==EZe)for(y=(r?_.children.length:-1)+s,w=c.concat(_);y>-1&&y<_.children.length;){const E=_.children[y];if(m=a(E,y,w)(),m[0]===rX)return m;y=typeof m[1]=="number"?m[1]:y+s}}return p}}}function TZe(t){return Array.isArray(t)?t:typeof t=="number"?[SZe,t]:t==null?mae:[t]}function yae(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),CZe(t,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const M$={}.hasOwnProperty,AZe={};function RZe(t,e){const n=e||AZe,r=new Map,i=new Map,o=new Map,s={...cZe,...n.handlers},a={all:u,applyData:IZe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:PZe,wrap:MZe};return yae(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),a;function l(c,d){const h=c.type,p=a.handlers[h];if(M$.call(a.handlers,h)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in c){const{children:y,...w}=c,_=wA(w);return _.children=a.all(c),_}return wA(c)}return(a.options.unknownHandler||kZe)(a,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let p=-1;for(;++p<h.length;){const m=a.one(h[p],c);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=iX(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=iX(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function PZe(t,e){t.position&&(e.position=fXe(t))}function IZe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,wA(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function kZe(t,e){const n=e.data||{},r="value"in e&&!(M$.call(n,"hProperties")||M$.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function MZe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function iX(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function oX(t,e){const n=RZe(t,e),r=n.one(t,void 0),i=yZe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function NZe(t,e){return t&&"run"in t?async function(n,r){const i=oX(n,{file:r,...e});await t.run(i,r)}:function(n,r){return oX(n,{file:r,...t||e})}}function sX(t){if(t)throw t}var lL,aX;function DZe(){if(aX)return lL;aX=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},o=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var h;for(h in u);return typeof h>"u"||t.call(u,h)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return lL=function l(){var u,c,d,h,p,m,y=arguments[0],w=1,_=arguments.length,E=!1;for(typeof y=="boolean"&&(E=y,y=arguments[1]||{},w=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});w<_;++w)if(u=arguments[w],u!=null)for(c in u)d=a(y,c),h=a(u,c),y!==h&&(E&&h&&(o(h)||(p=i(h)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&o(d)?d:{},s(y,{name:c,newValue:l(E,m,h)})):typeof h<"u"&&s(y,{name:c,newValue:h}));return y},lL}var LZe=DZe();const uL=uo(LZe);function N$(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function OZe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?FZe(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function FZe(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}const $l={basename:$Ze,dirname:BZe,extname:VZe,join:zZe,sep:"/"};function $Ze(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');KS(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function BZe(t){if(KS(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function VZe(t){KS(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function zZe(...t){let e=-1,n;for(;++e<t.length;)KS(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":UZe(n)}function UZe(t){KS(t);const e=t.codePointAt(0)===47;let n=HZe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function HZe(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function KS(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qZe={cwd:jZe};function jZe(){return"/"}function D$(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function WZe(t){if(typeof t=="string")t=new URL(t);else if(!D$(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return GZe(t)}function GZe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const cL=["history","path","basename","stem","extname","dirname"];class vae{constructor(e){let n;e?D$(e)?n={path:e}:typeof e=="string"||KZe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":qZe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cL.length;){const o=cL[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)cL.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?$l.basename(this.path):void 0}set basename(e){fL(e,"basename"),dL(e,"basename"),this.path=$l.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?$l.dirname(this.path):void 0}set dirname(e){lX(this.basename,"dirname"),this.path=$l.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?$l.extname(this.path):void 0}set extname(e){if(dL(e,"extname"),lX(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$l.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){D$(e)&&(e=WZe(e)),fL(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?$l.basename(this.path,this.extname):void 0}set stem(e){fL(e,"stem"),dL(e,"stem"),this.path=$l.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new fo(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function dL(t,e){if(t&&t.includes($l.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$l.sep+"`")}function fL(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function lX(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function KZe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const YZe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},XZe={}.hasOwnProperty;class oB extends YZe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=OZe()}copy(){const e=new oB;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(uL(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gL("data",this.frozen),this.namespace[e]=n,this):XZe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gL("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=nC(e),r=this.parser||this.Parser;return hL("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),hL("process",this.parser||this.Parser),pL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=nC(e),l=r.parse(a);r.run(l,a,function(c,d,h){if(c||!d||!h)return u(c);const p=d,m=r.stringify(p,h);ZZe(m)?h.value=m:h.result=m,u(c,h)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),hL("processSync",this.parser||this.Parser),pL("processSync",this.compiler||this.Compiler),this.process(e,i),cX("processSync","process",n),r;function i(o,s){n=!0,sX(o),r=s}}run(e,n,r){uX(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=nC(n);i.run(e,l,u);function u(c,d,h){const p=d||e;c?a(c):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),cX("runSync","run",r),i;function o(s,a){sX(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=nC(n),i=this.compiler||this.Compiler;return pL("stringify",i),uX(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(gL("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=uL(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const y=r[h][1];N$(y)&&N$(p)&&(p=uL(!0,y,p)),r[h]=[u,p,...m]}}}}const JZe=new oB().freeze();function hL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function pL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gL(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function uX(t){if(!N$(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function cX(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function nC(t){return QZe(t)?t:new vae(t)}function QZe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ZZe(t){return typeof t=="string"||eet(t)}function eet(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tet="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dX=[],fX={allowDangerousHtml:!0},net=/^(https?|ircs?|mailto|xmpp)$/i,ret=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function iet(t){const e=oet(t),n=set(t);return aet(e.runSync(e.parse(n),n),t)}function oet(t){const e=t.rehypePlugins||dX,n=t.remarkPlugins||dX,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...fX}:fX;return JZe().use($Qe).use(n).use(NZe,r).use(e)}function set(t){const e=t.children||"",n=new vae;return typeof e=="string"&&(n.value=e),n}function aet(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,s=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||uet;for(const c of ret)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+tet+c.id,void 0);return yae(t,u),yXe(t,{Fragment:O.Fragment,components:i,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function u(c,d,h){if(c.type==="raw"&&h&&typeof d=="number")return s?h.children.splice(d,1):h.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in oL)if(Object.hasOwn(oL,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],y=oL[p];(y===null||y.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,h)),p&&h&&typeof d=="number")return a&&c.children?h.children.splice(d,1,...c.children):h.children.splice(d,1),d}}}function uet(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||net.test(t.slice(0,e))?t:""}const cet=()=>{const t="ReadFlect: Scaffolding Intent-Driven, Multi-Session and Reflective Reading of Academic Papers",e=[{name:"Yuwei Xiao",email:"yuweix@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Ollie Pai",email:"o.pai@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Brian Roysar",email:"brianroysar@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Michael Shi",email:"michaelshi@g.ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Eunice Jun",email:"emjun@ucla.edu",affiliation:"University of California, Los Angeles"}],n=`Reading academic papers is a fundamental yet challenging task for students and researchers.    Beyond text, papers are dense with data, figures, and statistical analyses, requiring readers to extract key insights, synthesize information, and assess evidence across multiple formats.    Researchers must also navigate shifting cognitive goals, switching between different reading strategies based on their evolving needs.    Moreover, retaining and organizing insights over time remains a persistent challenge, often leading to redundant work and lost understanding upon revisiting papers.    While various reading strategies and digital tools exist, they often fail to comprehensively support researchers in managing their reading process and structuring their acquired knowledge.    

To address these gaps, we present **ReadFlect**, an interactive system that **scaffolds intent-driven, multi-session and reflective reading of academic literature**.    ReadFlect enables users to define and manage reading intentions, annotate papers in context, and externalize insights through a diagramming canvas.    It further supports reflection through visual analytics that capture reading behaviors over time.    By doing so, ReadFlect aims to foster more structured engagement with scientific literature, enhance comprehension, facilitate synthesis, and support collaborative and pedagogical scenarios.`,r=[{name:"GitHub",url:"https://github.com/ucla-cdl/re-ad"},{name:"Blog",url:"https://medium.com/@xshaw2002/user-research-blog-augment-data-intensive-reading-d3fd5546ad55/preview"},{name:"Try ReadFlect",url:"./#/papers"}],i="https://drive.google.com/file/d/1MysOo8PKdM1bXcQ9CRU0GmFwAZ2jyBoE/preview",o=s=>{var a;(a=document.querySelector(s))==null||a.scrollIntoView({behavior:"smooth"})};return O.jsxs(ze,{className:"home",children:[O.jsxs(ze,{className:"title-block",sx:{display:"flex",flexDirection:"row",alignItems:"center",p:2},children:[O.jsx("img",{src:YT,alt:"logo",style:{width:"80px"}}),O.jsx(nt,{variant:"h4",sx:{textAlign:"center",fontWeight:"bold"},children:t})]}),O.jsx(ze,{className:"authors-block",children:e.map(s=>O.jsxs(ze,{className:"author-box",children:[O.jsx(nt,{variant:"h6",children:s.name}),O.jsx(nt,{variant:"body1",children:s.email})]},s.name))}),O.jsx(ze,{className:"information-block",children:O.jsx(nt,{variant:"h6",children:Array.from(new Set(e.map(s=>s.affiliation))).join(", ")})}),O.jsxs(ze,{className:"links-block",sx:{my:2},children:[O.jsx(lr,{className:"link-button",variant:"contained",onClick:()=>window.open(r[0].url,"_blank"),startIcon:O.jsx(S5e,{}),children:"Code"}),O.jsx(lr,{className:"link-button",variant:"contained",onClick:()=>window.open(r[1].url,"_blank"),startIcon:O.jsx(f5e,{}),children:"Blog"}),O.jsx(lr,{className:"link-button",variant:"contained",onClick:()=>window.open(r[2].url,"_blank"),startIcon:O.jsx("img",{src:YT,style:{width:"20px",height:"20px"}}),children:"Try re:ad"}),O.jsx(lr,{className:"link-button",variant:"contained",onClick:()=>o(".video-block"),startIcon:O.jsx(uj,{}),children:"Video"}),O.jsx(lr,{className:"link-button",variant:"contained",onClick:()=>o(".poster-block"),startIcon:O.jsx(aj,{}),children:"Poster"})]}),O.jsxs(ze,{className:"description-block",sx:{my:2},children:[O.jsx(nt,{variant:"h4",children:O.jsx("b",{children:"What is ReadFlect?"})}),O.jsx(iet,{components:{p:({children:s})=>O.jsx(nt,{variant:"body1",sx:{lineHeight:2,my:2},children:s})},children:n})]}),O.jsxs(ze,{className:"video-block",sx:{my:2},children:[O.jsx(nt,{variant:"h4",children:"Demo Video"}),O.jsx("iframe",{src:i,allowFullScreen:!0})]}),O.jsxs(ze,{className:"poster-block",sx:{my:2},children:[O.jsx(nt,{variant:"h4",children:"Poster"}),O.jsx(nt,{variant:"body2",children:"🏆 Best User Research in UCLA CS 239 Winter 2025"}),O.jsx("img",{className:"poster-image",src:UYe,alt:"poster"})]}),O.jsxs(w$e,{ariaLabel:"Navigation SpeedDial",sx:{position:"fixed",bottom:"2rem",right:"2rem"},icon:O.jsx(R5e,{}),children:[O.jsx(M1,{icon:O.jsx(c5e,{}),tooltipTitle:"Back to Top",onClick:()=>o(".title-block")},"top"),O.jsx(M1,{icon:O.jsx(uj,{}),tooltipTitle:"Go to Video",onClick:()=>o(".video-block")},"video"),O.jsx(M1,{icon:O.jsx(aj,{}),tooltipTitle:"Go to Poster",onClick:()=>o(".poster-block")},"poster"),O.jsx(M1,{icon:O.jsx(mne,{}),tooltipTitle:"Go to Description",onClick:()=>o(".description-block")},"description")]})]})},det=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(!0),[i,o]=F.useState(""),[s,a]=F.useState(""),[l,u]=F.useState(""),[c,d]=F.useState({email:!1,password:!1,confirmPassword:!1}),[h,p]=F.useState({email:"",password:"",confirmPassword:""}),[m,y]=F.useState(""),[w,_]=F.useState([]),[E,S]=F.useState(!1),[T,I]=F.useState({title:"",file:new File([],"")}),{userData:N,setUserData:P,loadUserData:M,updateUser:D,getUserByEmail:k,addPaperData:L,addPaperFile:V,addPaperToUser:$}=d0(),{papersDict:z,setViewingPaperId:G,setMode:K}=ad(),J=jR(),[ee,X]=F.useState(null),[j,Q]=F.useState(!1),[ue,q]=F.useState("");F.useEffect(()=>{K(Or.READING),G(null)},[]),F.useEffect(()=>{const be=Object.values(z).filter(Ke=>Ke.title.toLowerCase().includes(m.toLowerCase()));_(be)},[m,z]);const Y=()=>{I({title:"",file:new File([],"")}),S(!0)},te=async()=>{try{if(!N){alert("Please login to add a paper");return}if(!(T!=null&&T.title.trim())){alert("Please enter a title");return}if(!(T!=null&&T.file)){alert("Please select a PDF file");return}const be=xw(),Ke={id:be,title:T.title.trim()};await V(be,T.file),await L(Ke),await $(N.id,be),await M(N.id),S(!1),console.log("Paper saved successfully")}catch(be){console.error("Error saving paper:",be),alert("Failed to save paper. Please try again.")}},le=be=>{var Ve;const Ke=(Ve=be.target.files)==null?void 0:Ve[0];Ke&&Ke.type==="application/pdf"?I({...T,file:Ke}):alert("Please select a valid PDF file")},de=async()=>{if(d({email:!1,password:!1,confirmPassword:!1}),p({email:"",password:"",confirmPassword:""}),!i.trim()){d(be=>({...be,email:!0})),p(be=>({...be,email:"Email is required"}));return}if(!s.trim()){d(be=>({...be,password:!0})),p(be=>({...be,password:"Password is required"}));return}if(n){const be=await k(i);if(!be){d({email:!0,password:!1,confirmPassword:!1}),p({email:"Email not found",password:"",confirmPassword:""});return}if(be.password!==s){d({email:!1,password:!0,confirmPassword:!1}),p({email:"",password:"Password is incorrect",confirmPassword:""});return}localStorage.setItem("userId",be.id),await M(be.id)}else{if(s!==l){d(Ke=>({...Ke,confirmPassword:!0})),p(Ke=>({...Ke,confirmPassword:"Passwords do not match"}));return}if(s.length<8){d(Ke=>({...Ke,password:!0})),p(Ke=>({...Ke,password:"Password must be at least 6 characters"}));return}const be=xw();await D({id:be,email:i,password:s,name:i.split("@")[0],role:sx.STUDENT,paperIds:[]}),localStorage.setItem("userId",be),await M(be)}se()},se=()=>{e(!1),r(!0),o(""),a(""),u(""),d({email:!1,password:!1,confirmPassword:!1}),p({email:"",password:"",confirmPassword:""})},ce=()=>{localStorage.removeItem("userId"),P(void 0),X(null)},fe=()=>{q((N==null?void 0:N.name)||""),Q(!0),X(null)},ye=async()=>{if(!(!N||!ue.trim()))try{const be={...N,name:ue.trim()};await D(be),await M(N.id),Q(!1)}catch(be){console.error("Error updating profile:",be),alert("Failed to update profile. Please try again.")}},we=be=>{X(be.currentTarget)},Re=()=>{X(null)},Ae=be=>{G(be),J("/paper-reader")};return O.jsxs(ze,{className:"papers-hub-container",children:[O.jsxs(ze,{sx:{mb:4},children:[O.jsxs(ze,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[O.jsxs(ze,{sx:{display:"flex",alignItems:"center",gap:2},children:[O.jsx("img",{height:40,src:YT,alt:"re:ad"}),O.jsx(nt,{variant:"h4",component:"h1",fontWeight:"bold",children:"Papers Hub"})]}),N?O.jsxs(ze,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(Iq,{sx:{bgcolor:"grey.200"},children:O.jsx(R4,{})}),O.jsx(nt,{variant:"body1",color:"text.secondary",children:N.name}),O.jsx(Yo,{size:"small",onClick:we,sx:{ml:1},children:O.jsx(A5e,{})}),O.jsxs(UR,{anchorEl:ee,open:!!ee,onClose:Re,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[O.jsxs(bx,{onClick:fe,children:[O.jsx(vx,{children:O.jsx(_5e,{fontSize:"small"})}),O.jsx(Qp,{children:"Edit Profile"})]}),O.jsxs(bx,{onClick:ce,children:[O.jsx(vx,{children:O.jsx(C5e,{fontSize:"small"})}),O.jsx(Qp,{children:"Logout"})]})]})]}):O.jsx(lr,{variant:"contained",onClick:()=>e(!0),children:"Login / Register"})]}),O.jsx(Sy,{sx:{borderColor:"black"}}),O.jsxs(ze,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[O.jsx(Ko,{placeholder:"Search papers...",value:m,onChange:be=>y(be.target.value),InputProps:{startAdornment:O.jsx($O,{position:"start",children:O.jsx(VO,{})})},sx:{maxWidth:400},size:"small",fullWidth:!0}),O.jsx(lr,{variant:"contained",startIcon:O.jsx(u5e,{}),onClick:Y,size:"large",children:"Add Paper"})]})]}),O.jsxs(nt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[w.length," paper",w.length!==1?"s":""," found"]}),O.jsx(au,{children:O.jsxs(z$e,{children:[O.jsx(t5e,{children:O.jsxs(sj,{children:[O.jsx(N1,{width:60}),O.jsx(N1,{children:"Title"})]})}),O.jsx(W$e,{children:w.map(be=>O.jsxs(sj,{sx:{"&:hover":{bgcolor:"action.hover"}},onClick:()=>Ae(be.id),children:[O.jsx(N1,{children:O.jsx(Iq,{sx:{bgcolor:"grey.200"},children:O.jsx(I5e,{sx:{color:"grey.600"}})})}),O.jsx(N1,{children:O.jsx(nt,{variant:"body2",sx:{fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:be.title})})]},be.id))})]})}),w.length===0&&O.jsx(ze,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,textAlign:"center"},children:O.jsx(nt,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No papers found"})}),O.jsxs(_C,{open:t,onClose:se,children:[O.jsx(CC,{children:n?"Login":"Register"}),O.jsx(EC,{children:O.jsxs(Hk,{spacing:2,sx:{mt:1},children:[O.jsx(Ko,{required:!0,error:c.email,helperText:h.email,label:"Email",type:"email",fullWidth:!0,value:i,onChange:be=>o(be.target.value)}),O.jsx(Ko,{required:!0,error:c.password,helperText:h.password,label:"Password",type:"password",fullWidth:!0,value:s,onChange:be=>a(be.target.value)}),!n&&O.jsx(Ko,{required:!0,error:c.confirmPassword,helperText:h.confirmPassword,label:"Confirm Password",type:"password",fullWidth:!0,value:l,onChange:be=>u(be.target.value)}),O.jsx(lr,{variant:"text",onClick:()=>r(!n),sx:{alignSelf:"flex-start",textTransform:"none"},children:n?"Don't have an account? Register":"Already have an account? Login"})]})}),O.jsxs(SC,{children:[O.jsx(lr,{onClick:se,children:"Cancel"}),O.jsx(lr,{onClick:de,variant:"contained",children:n?"Login":"Register"})]})]}),O.jsxs(_C,{open:E,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[O.jsx(CC,{children:"Add New Paper"}),O.jsx(EC,{sx:{pt:2},children:O.jsxs(Hk,{spacing:3,children:[O.jsx(Ko,{label:"Title",value:T==null?void 0:T.title,onChange:be=>I({...T,title:be.target.value}),fullWidth:!0,required:!0}),O.jsxs(ze,{children:[O.jsx("input",{type:"file",accept:"application/pdf",onChange:le,style:{display:"none"},id:"pdf-upload"}),O.jsx("label",{htmlFor:"pdf-upload",children:O.jsx(lr,{variant:"outlined",component:"span",startIcon:O.jsx(b5e,{}),fullWidth:!0,sx:{py:2},children:T!=null&&T.file?T.file.name:"Choose PDF File"})})]})]})}),O.jsxs(SC,{sx:{px:3,pb:3},children:[O.jsx(lr,{onClick:()=>S(!1),children:"Cancel"}),O.jsx(lr,{onClick:te,variant:"contained",children:"Add Paper"})]})]}),O.jsxs(_C,{open:j,onClose:()=>Q(!1),children:[O.jsx(CC,{children:"Edit Profile"}),O.jsx(EC,{children:O.jsxs(Hk,{spacing:2,sx:{mt:1,minWidth:300},children:[O.jsx(Ko,{label:"Name",value:ue,onChange:be=>q(be.target.value),fullWidth:!0,autoFocus:!0}),O.jsx(Ko,{label:"Email",value:(N==null?void 0:N.email)||"",disabled:!0,fullWidth:!0,helperText:"Email cannot be changed"}),O.jsx(Ko,{label:"Role",value:(N==null?void 0:N.role)||"",disabled:!0,fullWidth:!0,helperText:"Role is assigned by administrators"})]})}),O.jsxs(SC,{children:[O.jsx(lr,{onClick:()=>Q(!1),children:"Cancel"}),O.jsx(lr,{onClick:ye,variant:"contained",children:"Save Changes"})]})]})]})};function fet(){return F.useEffect(()=>{window.sessionStorage.clear()},[]),O.jsx(Kwe,{children:O.jsx(HPe,{children:O.jsx(KPe,{children:O.jsx(qPe,{children:O.jsx(WPe,{children:O.jsx(Y4e,{children:O.jsxs(C4e,{children:[O.jsx(TC,{path:"/",element:O.jsx(cet,{})}),O.jsx(TC,{path:"/papers",element:O.jsx(det,{})}),O.jsx(TC,{path:"/paper-reader",element:O.jsx(zYe,{})})]})})})})})})})}pX.createRoot(document.getElementById("root")).render(O.jsx(F.StrictMode,{children:O.jsx(fet,{})}))});export default het();
