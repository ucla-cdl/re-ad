var Dle=Object.defineProperty;var Tz=t=>{throw TypeError(t)};var Lle=(t,e,n)=>e in t?Dle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ole=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vt=(t,e,n)=>Lle(t,typeof e!="symbol"?e+"":e,n),rk=(t,e,n)=>e.has(t)||Tz("Cannot "+n);var C=(t,e,n)=>(rk(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?Tz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(rk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),re=(t,e,n)=>(rk(t,e,"access private method"),n);var Es=(t,e,n,r)=>({set _(i){ne(t,e,i,n)},get _(){return C(t,e,r)}});var utt=Ole((Us,Hs)=>{function Fle(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $le(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ik={exports:{}},cb={},ok={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Az;function Ble(){if(Az)return yn;Az=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function h(Y){return Y===null||typeof Y!="object"?null:(Y=d&&Y[d]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function x(Y,ue,q){this.props=Y,this.context=ue,this.refs=y,this.updater=q||p}x.prototype.isReactComponent={},x.prototype.setState=function(Y,ue){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ue,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=x.prototype;function E(Y,ue,q){this.props=Y,this.context=ue,this.refs=y,this.updater=q||p}var S=E.prototype=new w;S.constructor=E,m(S,x.prototype),S.isPureReactComponent=!0;var T=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function M(Y,ue,q){var de,se={},ee=null,ae=null;if(ue!=null)for(de in ue.ref!==void 0&&(ae=ue.ref),ue.key!==void 0&&(ee=""+ue.key),ue)k.call(ue,de)&&!R.hasOwnProperty(de)&&(se[de]=ue[de]);var te=arguments.length-2;if(te===1)se.children=q;else if(1<te){for(var ce=Array(te),fe=0;fe<te;fe++)ce[fe]=arguments[fe+2];se.children=ce}if(Y&&Y.defaultProps)for(de in te=Y.defaultProps,te)se[de]===void 0&&(se[de]=te[de]);return{$$typeof:t,type:Y,key:ee,ref:ae,props:se,_owner:N.current}}function L(Y,ue){return{$$typeof:t,type:Y.type,key:ue,ref:Y.ref,props:Y.props,_owner:Y._owner}}function I(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function O(Y){var ue={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(q){return ue[q]})}var V=/\/+/g;function $(Y,ue){return typeof Y=="object"&&Y!==null&&Y.key!=null?O(""+Y.key):ue.toString(36)}function z(Y,ue,q,de,se){var ee=typeof Y;(ee==="undefined"||ee==="boolean")&&(Y=null);var ae=!1;if(Y===null)ae=!0;else switch(ee){case"string":case"number":ae=!0;break;case"object":switch(Y.$$typeof){case t:case e:ae=!0}}if(ae)return ae=Y,se=se(ae),Y=de===""?"."+$(ae,0):de,T(se)?(q="",Y!=null&&(q=Y.replace(V,"$&/")+"/"),z(se,ue,q,"",function(fe){return fe})):se!=null&&(I(se)&&(se=L(se,q+(!se.key||ae&&ae.key===se.key?"":(""+se.key).replace(V,"$&/")+"/")+Y)),ue.push(se)),1;if(ae=0,de=de===""?".":de+":",T(Y))for(var te=0;te<Y.length;te++){ee=Y[te];var ce=de+$(ee,te);ae+=z(ee,ue,q,ce,se)}else if(ce=h(Y),typeof ce=="function")for(Y=ce.call(Y),te=0;!(ee=Y.next()).done;)ee=ee.value,ce=de+$(ee,te++),ae+=z(ee,ue,q,ce,se);else if(ee==="object")throw ue=String(Y),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return ae}function W(Y,ue,q){if(Y==null)return Y;var de=[],se=0;return z(Y,de,"","",function(ee){return ue.call(q,ee,se++)}),de}function K(Y){if(Y._status===-1){var ue=Y._result;ue=ue(),ue.then(function(q){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=q)},function(q){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=q)}),Y._status===-1&&(Y._status=0,Y._result=ue)}if(Y._status===1)return Y._result.default;throw Y._result}var J={current:null},Q={transition:null},X={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Q,ReactCurrentOwner:N};function j(){throw Error("act(...) is not supported in production builds of React.")}return yn.Children={map:W,forEach:function(Y,ue,q){W(Y,function(){ue.apply(this,arguments)},q)},count:function(Y){var ue=0;return W(Y,function(){ue++}),ue},toArray:function(Y){return W(Y,function(ue){return ue})||[]},only:function(Y){if(!I(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},yn.Component=x,yn.Fragment=n,yn.Profiler=i,yn.PureComponent=E,yn.StrictMode=r,yn.Suspense=l,yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,yn.act=j,yn.cloneElement=function(Y,ue,q){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var de=m({},Y.props),se=Y.key,ee=Y.ref,ae=Y._owner;if(ue!=null){if(ue.ref!==void 0&&(ee=ue.ref,ae=N.current),ue.key!==void 0&&(se=""+ue.key),Y.type&&Y.type.defaultProps)var te=Y.type.defaultProps;for(ce in ue)k.call(ue,ce)&&!R.hasOwnProperty(ce)&&(de[ce]=ue[ce]===void 0&&te!==void 0?te[ce]:ue[ce])}var ce=arguments.length-2;if(ce===1)de.children=q;else if(1<ce){te=Array(ce);for(var fe=0;fe<ce;fe++)te[fe]=arguments[fe+2];de.children=te}return{$$typeof:t,type:Y.type,key:se,ref:ee,props:de,_owner:ae}},yn.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:o,_context:Y},Y.Consumer=Y},yn.createElement=M,yn.createFactory=function(Y){var ue=M.bind(null,Y);return ue.type=Y,ue},yn.createRef=function(){return{current:null}},yn.forwardRef=function(Y){return{$$typeof:a,render:Y}},yn.isValidElement=I,yn.lazy=function(Y){return{$$typeof:c,_payload:{_status:-1,_result:Y},_init:K}},yn.memo=function(Y,ue){return{$$typeof:u,type:Y,compare:ue===void 0?null:ue}},yn.startTransition=function(Y){var ue=Q.transition;Q.transition={};try{Y()}finally{Q.transition=ue}},yn.unstable_act=j,yn.useCallback=function(Y,ue){return J.current.useCallback(Y,ue)},yn.useContext=function(Y){return J.current.useContext(Y)},yn.useDebugValue=function(){},yn.useDeferredValue=function(Y){return J.current.useDeferredValue(Y)},yn.useEffect=function(Y,ue){return J.current.useEffect(Y,ue)},yn.useId=function(){return J.current.useId()},yn.useImperativeHandle=function(Y,ue,q){return J.current.useImperativeHandle(Y,ue,q)},yn.useInsertionEffect=function(Y,ue){return J.current.useInsertionEffect(Y,ue)},yn.useLayoutEffect=function(Y,ue){return J.current.useLayoutEffect(Y,ue)},yn.useMemo=function(Y,ue){return J.current.useMemo(Y,ue)},yn.useReducer=function(Y,ue,q){return J.current.useReducer(Y,ue,q)},yn.useRef=function(Y){return J.current.useRef(Y)},yn.useState=function(Y){return J.current.useState(Y)},yn.useSyncExternalStore=function(Y,ue,q){return J.current.useSyncExternalStore(Y,ue,q)},yn.useTransition=function(){return J.current.useTransition()},yn.version="18.3.1",yn}var Rz;function _l(){return Rz||(Rz=1,ok.exports=Ble()),ok.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pz;function Vle(){if(Pz)return cb;Pz=1;var t=_l(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},h=null,p=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:e,type:a,key:h,ref:p,props:d,_owner:i.current}}return cb.Fragment=n,cb.jsx=s,cb.jsxs=s,cb}var Iz;function zle(){return Iz||(Iz=1,ik.exports=Vle()),ik.exports}var D=zle(),F=_l();const oe=xo(F),AL=Fle({__proto__:null,default:oe},[F]);var oE={},sk={exports:{}},Yo={},ak={exports:{}},lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kz;function Ule(){return kz||(kz=1,function(t){function e(Q,X){var j=Q.length;Q.push(X);e:for(;0<j;){var Y=j-1>>>1,ue=Q[Y];if(0<i(ue,X))Q[Y]=X,Q[j]=ue,j=Y;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var X=Q[0],j=Q.pop();if(j!==X){Q[0]=j;e:for(var Y=0,ue=Q.length,q=ue>>>1;Y<q;){var de=2*(Y+1)-1,se=Q[de],ee=de+1,ae=Q[ee];if(0>i(se,j))ee<ue&&0>i(ae,se)?(Q[Y]=ae,Q[ee]=j,Y=ee):(Q[Y]=se,Q[de]=j,Y=de);else if(ee<ue&&0>i(ae,j))Q[Y]=ae,Q[ee]=j,Y=ee;else break e}}return X}function i(Q,X){var j=Q.sortIndex-X.sortIndex;return j!==0?j:Q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=Q)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function T(Q){if(y=!1,S(Q),!m)if(n(l)!==null)m=!0,K(k);else{var X=n(u);X!==null&&J(T,X.startTime-Q)}}function k(Q,X){m=!1,y&&(y=!1,w(M),M=-1),p=!0;var j=h;try{for(S(X),d=n(l);d!==null&&(!(d.expirationTime>X)||Q&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var ue=Y(d.expirationTime<=X);X=t.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),S(X)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var de=n(u);de!==null&&J(T,de.startTime-X),q=!1}return q}finally{d=null,h=j,p=!1}}var N=!1,R=null,M=-1,L=5,I=-1;function O(){return!(t.unstable_now()-I<L)}function V(){if(R!==null){var Q=t.unstable_now();I=Q;var X=!0;try{X=R(!0,Q)}finally{X?$():(N=!1,R=null)}}else N=!1}var $;if(typeof E=="function")$=function(){E(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=V,$=function(){W.postMessage(null)}}else $=function(){x(V,0)};function K(Q){R=Q,N||(N=!0,$())}function J(Q,X){M=x(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var j=h;h=X;try{return Q()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var j=h;h=Q;try{return X()}finally{h=j}},t.unstable_scheduleCallback=function(Q,X,j){var Y=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Y+j:Y):j=Y,Q){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=j+ue,Q={id:c++,callback:X,priorityLevel:Q,startTime:j,expirationTime:ue,sortIndex:-1},j>Y?(Q.sortIndex=j,e(u,Q),n(l)===null&&Q===n(u)&&(y?(w(M),M=-1):y=!0,J(T,j-Y))):(Q.sortIndex=ue,e(l,Q),m||p||(m=!0,K(k))),Q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Q){var X=h;return function(){var j=h;h=X;try{return Q.apply(this,arguments)}finally{h=j}}}}(lk)),lk}var Mz;function Hle(){return Mz||(Mz=1,ak.exports=Ule()),ak.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nz;function qle(){if(Nz)return Yo;Nz=1;var t=_l(),e=Hle();function n(f){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+f,_=1;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(f,g){s(f,g),s(f+"Capture",g)}function s(f,g){for(i[f]=g,f=0;f<g.length;f++)r.add(g[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function h(f){return l.call(d,f)?!0:l.call(c,f)?!1:u.test(f)?d[f]=!0:(c[f]=!0,!1)}function p(f,g,_,P){if(_!==null&&_.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return P?!1:_!==null?!_.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function m(f,g,_,P){if(g===null||typeof g>"u"||p(f,g,_,P))return!0;if(P)return!1;if(_!==null)switch(_.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(f,g,_,P,B,H,Z){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=P,this.attributeNamespace=B,this.mustUseProperty=_,this.propertyName=f,this.type=g,this.sanitizeURL=H,this.removeEmptyString=Z}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){x[f]=new y(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var g=f[0];x[g]=new y(g,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){x[f]=new y(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){x[f]=new y(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){x[f]=new y(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){x[f]=new y(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){x[f]=new y(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){x[f]=new y(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){x[f]=new y(f,5,!1,f.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var g=f.replace(w,E);x[g]=new y(g,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var g=f.replace(w,E);x[g]=new y(g,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var g=f.replace(w,E);x[g]=new y(g,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){x[f]=new y(f,1,!1,f.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){x[f]=new y(f,1,!1,f.toLowerCase(),null,!0,!0)});function S(f,g,_,P){var B=x.hasOwnProperty(g)?x[g]:null;(B!==null?B.type!==0:P||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(m(g,_,B,P)&&(_=null),P||B===null?h(g)&&(_===null?f.removeAttribute(g):f.setAttribute(g,""+_)):B.mustUseProperty?f[B.propertyName]=_===null?B.type===3?!1:"":_:(g=B.attributeName,P=B.attributeNamespace,_===null?f.removeAttribute(g):(B=B.type,_=B===3||B===4&&_===!0?"":""+_,P?f.setAttributeNS(P,g,_):f.setAttribute(g,_))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),Q=Symbol.iterator;function X(f){return f===null||typeof f!="object"?null:(f=Q&&f[Q]||f["@@iterator"],typeof f=="function"?f:null)}var j=Object.assign,Y;function ue(f){if(Y===void 0)try{throw Error()}catch(_){var g=_.stack.trim().match(/\n( *(at )?)/);Y=g&&g[1]||""}return`
`+Y+f}var q=!1;function de(f,g){if(!f||q)return"";q=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Te){var P=Te}Reflect.construct(f,[],g)}else{try{g.call()}catch(Te){P=Te}f.call(g.prototype)}else{try{throw Error()}catch(Te){P=Te}f()}}catch(Te){if(Te&&P&&typeof Te.stack=="string"){for(var B=Te.stack.split(`
`),H=P.stack.split(`
`),Z=B.length-1,he=H.length-1;1<=Z&&0<=he&&B[Z]!==H[he];)he--;for(;1<=Z&&0<=he;Z--,he--)if(B[Z]!==H[he]){if(Z!==1||he!==1)do if(Z--,he--,0>he||B[Z]!==H[he]){var pe=`
`+B[Z].replace(" at new "," at ");return f.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",f.displayName)),pe}while(1<=Z&&0<=he);break}}}finally{q=!1,Error.prepareStackTrace=_}return(f=f?f.displayName||f.name:"")?ue(f):""}function se(f){switch(f.tag){case 5:return ue(f.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return f=de(f.type,!1),f;case 11:return f=de(f.type.render,!1),f;case 1:return f=de(f.type,!0),f;default:return""}}function ee(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case R:return"Fragment";case N:return"Portal";case L:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case z:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case O:return(f.displayName||"Context")+".Consumer";case I:return(f._context.displayName||"Context")+".Provider";case V:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case W:return g=f.displayName||null,g!==null?g:ee(f.type)||"Memo";case K:g=f._payload,f=f._init;try{return ee(f(g))}catch{}}return null}function ae(f){var g=f.type;switch(f.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=g.render,f=f.displayName||f.name||"",g.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(g);case 8:return g===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function te(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ce(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function fe(f){var g=ce(f)?"checked":"value",_=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),P=""+f[g];if(!f.hasOwnProperty(g)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var B=_.get,H=_.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return B.call(this)},set:function(Z){P=""+Z,H.call(this,Z)}}),Object.defineProperty(f,g,{enumerable:_.enumerable}),{getValue:function(){return P},setValue:function(Z){P=""+Z},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function ge(f){f._valueTracker||(f._valueTracker=fe(f))}function xe(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var _=g.getValue(),P="";return f&&(P=ce(f)?f.checked?"true":"false":f.value),f=P,f!==_?(g.setValue(f),!0):!1}function be(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Ee(f,g){var _=g.checked;return j({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??f._wrapperState.initialChecked})}function Me(f,g){var _=g.defaultValue==null?"":g.defaultValue,P=g.checked!=null?g.checked:g.defaultChecked;_=te(g.value!=null?g.value:_),f._wrapperState={initialChecked:P,initialValue:_,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function st(f,g){g=g.checked,g!=null&&S(f,"checked",g,!1)}function Ve(f,g){st(f,g);var _=te(g.value),P=g.type;if(_!=null)P==="number"?(_===0&&f.value===""||f.value!=_)&&(f.value=""+_):f.value!==""+_&&(f.value=""+_);else if(P==="submit"||P==="reset"){f.removeAttribute("value");return}g.hasOwnProperty("value")?Qe(f,g.type,_):g.hasOwnProperty("defaultValue")&&Qe(f,g.type,te(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(f.defaultChecked=!!g.defaultChecked)}function Oe(f,g,_){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var P=g.type;if(!(P!=="submit"&&P!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+f._wrapperState.initialValue,_||g===f.value||(f.value=g),f.defaultValue=g}_=f.name,_!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,_!==""&&(f.name=_)}function Qe(f,g,_){(g!=="number"||be(f.ownerDocument)!==f)&&(_==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+_&&(f.defaultValue=""+_))}var Ye=Array.isArray;function dt(f,g,_,P){if(f=f.options,g){g={};for(var B=0;B<_.length;B++)g["$"+_[B]]=!0;for(_=0;_<f.length;_++)B=g.hasOwnProperty("$"+f[_].value),f[_].selected!==B&&(f[_].selected=B),B&&P&&(f[_].defaultSelected=!0)}else{for(_=""+te(_),g=null,B=0;B<f.length;B++){if(f[B].value===_){f[B].selected=!0,P&&(f[B].defaultSelected=!0);return}g!==null||f[B].disabled||(g=f[B])}g!==null&&(g.selected=!0)}}function Pe(f,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},g,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function ut(f,g){var _=g.value;if(_==null){if(_=g.children,g=g.defaultValue,_!=null){if(g!=null)throw Error(n(92));if(Ye(_)){if(1<_.length)throw Error(n(93));_=_[0]}g=_}g==null&&(g=""),_=g}f._wrapperState={initialValue:te(_)}}function rt(f,g){var _=te(g.value),P=te(g.defaultValue);_!=null&&(_=""+_,_!==f.value&&(f.value=_),g.defaultValue==null&&f.defaultValue!==_&&(f.defaultValue=_)),P!=null&&(f.defaultValue=""+P)}function mt(f){var g=f.textContent;g===f._wrapperState.initialValue&&g!==""&&g!==null&&(f.value=g)}function ve(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(f,g){return f==null||f==="http://www.w3.org/1999/xhtml"?ve(g):f==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Ue,nt=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,_,P,B){MSApp.execUnsafeLocalFunction(function(){return f(g,_,P,B)})}:f}(function(f,g){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=g;else{for(Ue=Ue||document.createElement("div"),Ue.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Ue.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;g.firstChild;)f.appendChild(g.firstChild)}});function Re(f,g){if(g){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=g;return}}f.textContent=g}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zt=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(f){Zt.forEach(function(g){g=g+f.charAt(0).toUpperCase()+f.substring(1),Xe[g]=Xe[f]})});function $t(f,g,_){return g==null||typeof g=="boolean"||g===""?"":_||typeof g!="number"||g===0||Xe.hasOwnProperty(f)&&Xe[f]?(""+g).trim():g+"px"}function en(f,g){f=f.style;for(var _ in g)if(g.hasOwnProperty(_)){var P=_.indexOf("--")===0,B=$t(_,g[_],P);_==="float"&&(_="cssFloat"),P?f.setProperty(_,B):f[_]=B}}var Je=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lt(f,g){if(g){if(Je[f]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function pn(f,g){if(f.indexOf("-")===-1)return typeof g.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Le=null;function ot(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ht=null,Ot=null,qt=null;function gn(f){if(f=Y0(f)){if(typeof Ht!="function")throw Error(n(280));var g=f.stateNode;g&&(g=xS(g),Ht(f.stateNode,f.type,g))}}function jt(f){Ot?qt?qt.push(f):qt=[f]:Ot=f}function En(){if(Ot){var f=Ot,g=qt;if(qt=Ot=null,gn(f),g)for(f=0;f<g.length;f++)gn(g[f])}}function Hr(f,g){return f(g)}function Kt(){}var pr=!1;function it(f,g,_){if(pr)return f(g,_);pr=!0;try{return Hr(f,g,_)}finally{pr=!1,(Ot!==null||qt!==null)&&(Kt(),En())}}function et(f,g){var _=f.stateNode;if(_===null)return null;var P=xS(_);if(P===null)return null;_=P[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(f=f.type,P=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!P;break e;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(n(231,g,typeof _));return _}var dn=!1;if(a)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){dn=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{dn=!1}function Fn(f,g,_,P,B,H,Z,he,pe){var Te=Array.prototype.slice.call(arguments,3);try{g.apply(_,Te)}catch(He){this.onError(He)}}var Jr=!1,Zi=null,di=!1,Pl=null,Hu={onError:function(f){Jr=!0,Zi=f}};function vd(f,g,_,P,B,H,Z,he,pe){Jr=!1,Zi=null,Fn.apply(Hu,arguments)}function Fg(f,g,_,P,B,H,Z,he,pe){if(vd.apply(this,arguments),Jr){if(Jr){var Te=Zi;Jr=!1,Zi=null}else throw Error(n(198));di||(di=!0,Pl=Te)}}function Bo(f){var g=f,_=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(_=g.return),f=g.return;while(f)}return g.tag===3?_:null}function Il(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function Vo(f){if(Bo(f)!==f)throw Error(n(188))}function $g(f){var g=f.alternate;if(!g){if(g=Bo(f),g===null)throw Error(n(188));return g!==f?null:f}for(var _=f,P=g;;){var B=_.return;if(B===null)break;var H=B.alternate;if(H===null){if(P=B.return,P!==null){_=P;continue}break}if(B.child===H.child){for(H=B.child;H;){if(H===_)return Vo(B),f;if(H===P)return Vo(B),g;H=H.sibling}throw Error(n(188))}if(_.return!==P.return)_=B,P=H;else{for(var Z=!1,he=B.child;he;){if(he===_){Z=!0,_=B,P=H;break}if(he===P){Z=!0,P=B,_=H;break}he=he.sibling}if(!Z){for(he=H.child;he;){if(he===_){Z=!0,_=H,P=B;break}if(he===P){Z=!0,P=H,_=B;break}he=he.sibling}if(!Z)throw Error(n(189))}}if(_.alternate!==P)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?f:g}function oh(f){return f=$g(f),f!==null?bd(f):null}function bd(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var g=bd(f);if(g!==null)return g;f=f.sibling}return null}var xd=e.unstable_scheduleCallback,sh=e.unstable_cancelCallback,Bg=e.unstable_shouldYield,Vg=e.unstable_requestPaint,Zn=e.unstable_now,zg=e.unstable_getCurrentPriorityLevel,qu=e.unstable_ImmediatePriority,kl=e.unstable_UserBlockingPriority,zo=e.unstable_NormalPriority,ah=e.unstable_LowPriority,Ug=e.unstable_IdlePriority,Ml=null,So=null;function Hg(f){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(Ml,f,void 0,(f.current.flags&128)===128)}catch{}}var Di=Math.clz32?Math.clz32:jg,lh=Math.log,qg=Math.LN2;function jg(f){return f>>>=0,f===0?32:31-(lh(f)/qg|0)|0}var wd=64,Aa=4194304;function Nl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function ju(f,g){var _=f.pendingLanes;if(_===0)return 0;var P=0,B=f.suspendedLanes,H=f.pingedLanes,Z=_&268435455;if(Z!==0){var he=Z&~B;he!==0?P=Nl(he):(H&=Z,H!==0&&(P=Nl(H)))}else Z=_&~B,Z!==0?P=Nl(Z):H!==0&&(P=Nl(H));if(P===0)return 0;if(g!==0&&g!==P&&(g&B)===0&&(B=P&-P,H=g&-g,B>=H||B===16&&(H&4194240)!==0))return g;if((P&4)!==0&&(P|=_&16),g=f.entangledLanes,g!==0)for(f=f.entanglements,g&=P;0<g;)_=31-Di(g),B=1<<_,P|=f[_],g&=~B;return P}function N0(f,g){switch(f){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vs(f,g){for(var _=f.suspendedLanes,P=f.pingedLanes,B=f.expirationTimes,H=f.pendingLanes;0<H;){var Z=31-Di(H),he=1<<Z,pe=B[Z];pe===-1?((he&_)===0||(he&P)!==0)&&(B[Z]=N0(he,g)):pe<=g&&(f.expiredLanes|=he),H&=~he}}function Eo(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Wu(){var f=wd;return wd<<=1,(wd&4194240)===0&&(wd=64),f}function Ra(f){for(var g=[],_=0;31>_;_++)g.push(f);return g}function _d(f,g,_){f.pendingLanes|=g,g!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,g=31-Di(g),f[g]=_}function or(f,g){var _=f.pendingLanes&~g;f.pendingLanes=g,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=g,f.mutableReadLanes&=g,f.entangledLanes&=g,g=f.entanglements;var P=f.eventTimes;for(f=f.expirationTimes;0<_;){var B=31-Di(_),H=1<<B;g[B]=0,P[B]=-1,f[B]=-1,_&=~H}}function Sd(f,g){var _=f.entangledLanes|=g;for(f=f.entanglements;_;){var P=31-Di(_),B=1<<P;B&g|f[P]&g&&(f[P]|=g),_&=~B}}var Tn=0;function Ed(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Z1,Wg,eS,tS,nS,D0=!1,Dl=[],Li=null,Pa=null,Ia=null,Cd=new Map,Ks=new Map,Ll=[],DP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rS(f,g){switch(f){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Cd.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(g.pointerId)}}function Uo(f,g,_,P,B,H){return f===null||f.nativeEvent!==H?(f={blockedOn:g,domEventName:_,eventSystemFlags:P,nativeEvent:H,targetContainers:[B]},g!==null&&(g=Y0(g),g!==null&&Wg(g)),f):(f.eventSystemFlags|=P,g=f.targetContainers,B!==null&&g.indexOf(B)===-1&&g.push(B),f)}function LP(f,g,_,P,B){switch(g){case"focusin":return Li=Uo(Li,f,g,_,P,B),!0;case"dragenter":return Pa=Uo(Pa,f,g,_,P,B),!0;case"mouseover":return Ia=Uo(Ia,f,g,_,P,B),!0;case"pointerover":var H=B.pointerId;return Cd.set(H,Uo(Cd.get(H)||null,f,g,_,P,B)),!0;case"gotpointercapture":return H=B.pointerId,Ks.set(H,Uo(Ks.get(H)||null,f,g,_,P,B)),!0}return!1}function iS(f){var g=hh(f.target);if(g!==null){var _=Bo(g);if(_!==null){if(g=_.tag,g===13){if(g=Il(_),g!==null){f.blockedOn=g,nS(f.priority,function(){eS(_)});return}}else if(g===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Gu(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var _=Gg(f.domEventName,f.eventSystemFlags,g[0],f.nativeEvent);if(_===null){_=f.nativeEvent;var P=new _.constructor(_.type,_);Le=P,_.target.dispatchEvent(P),Le=null}else return g=Y0(_),g!==null&&Wg(g),f.blockedOn=_,!1;g.shift()}return!0}function uh(f,g,_){Gu(f)&&_.delete(g)}function oS(){D0=!1,Li!==null&&Gu(Li)&&(Li=null),Pa!==null&&Gu(Pa)&&(Pa=null),Ia!==null&&Gu(Ia)&&(Ia=null),Cd.forEach(uh),Ks.forEach(uh)}function ka(f,g){f.blockedOn===g&&(f.blockedOn=null,D0||(D0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oS)))}function Ma(f){function g(B){return ka(B,f)}if(0<Dl.length){ka(Dl[0],f);for(var _=1;_<Dl.length;_++){var P=Dl[_];P.blockedOn===f&&(P.blockedOn=null)}}for(Li!==null&&ka(Li,f),Pa!==null&&ka(Pa,f),Ia!==null&&ka(Ia,f),Cd.forEach(g),Ks.forEach(g),_=0;_<Ll.length;_++)P=Ll[_],P.blockedOn===f&&(P.blockedOn=null);for(;0<Ll.length&&(_=Ll[0],_.blockedOn===null);)iS(_),_.blockedOn===null&&Ll.shift()}var Ku=T.ReactCurrentBatchConfig,Td=!0;function wr(f,g,_,P){var B=Tn,H=Ku.transition;Ku.transition=null;try{Tn=1,L0(f,g,_,P)}finally{Tn=B,Ku.transition=H}}function OP(f,g,_,P){var B=Tn,H=Ku.transition;Ku.transition=null;try{Tn=4,L0(f,g,_,P)}finally{Tn=B,Ku.transition=H}}function L0(f,g,_,P){if(Td){var B=Gg(f,g,_,P);if(B===null)GP(f,g,P,ch,_),rS(f,P);else if(LP(B,f,g,_,P))P.stopPropagation();else if(rS(f,P),g&4&&-1<DP.indexOf(f)){for(;B!==null;){var H=Y0(B);if(H!==null&&Z1(H),H=Gg(f,g,_,P),H===null&&GP(f,g,P,ch,_),H===B)break;B=H}B!==null&&P.stopPropagation()}else GP(f,g,P,null,_)}}var ch=null;function Gg(f,g,_,P){if(ch=null,f=ot(P),f=hh(f),f!==null)if(g=Bo(f),g===null)f=null;else if(_=g.tag,_===13){if(f=Il(g),f!==null)return f;f=null}else if(_===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null);return ch=f,null}function O0(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zg()){case qu:return 1;case kl:return 4;case zo:case ah:return 16;case Ug:return 536870912;default:return 16}default:return 16}}var bs=null,Kg=null,Ho=null;function F0(){if(Ho)return Ho;var f,g=Kg,_=g.length,P,B="value"in bs?bs.value:bs.textContent,H=B.length;for(f=0;f<_&&g[f]===B[f];f++);var Z=_-f;for(P=1;P<=Z&&g[_-P]===B[H-P];P++);return Ho=B.slice(f,1<P?1-P:void 0)}function Yg(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function Ol(){return!0}function $0(){return!1}function Oi(f){function g(_,P,B,H,Z){this._reactName=_,this._targetInst=B,this.type=P,this.nativeEvent=H,this.target=Z,this.currentTarget=null;for(var he in f)f.hasOwnProperty(he)&&(_=f[he],this[he]=_?_(H):H[he]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Ol:$0,this.isPropagationStopped=$0,this}return j(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),g}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=Oi(Na),Fl=j({},Na,{view:0,detail:0}),FP=Oi(Fl),Jg,Yu,Ad,dh=j({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Ad&&(Ad&&f.type==="mousemove"?(Jg=f.screenX-Ad.screenX,Yu=f.screenY-Ad.screenY):Yu=Jg=0,Ad=f),Jg)},movementY:function(f){return"movementY"in f?f.movementY:Yu}}),Qg=Oi(dh),B0=j({},dh,{dataTransfer:0}),sS=Oi(B0),Zg=j({},Fl,{relatedTarget:0}),em=Oi(Zg),aS=j({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),Xu=Oi(aS),lS=j({},Na,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),uS=Oi(lS),cS=j({},Na,{data:0}),V0=Oi(cS),tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=dS[f])?!!g[f]:!1}function $l(){return fS}var A=j({},Fl,{key:function(f){if(f.key){var g=tm[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=Yg(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Co[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(f){return f.type==="keypress"?Yg(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Yg(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),U=Oi(A),G=j({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),le=Oi(G),we=j({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),Ae=Oi(we),Ze=j({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yn=Oi(Ze),fi=j({},dh,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),In=Oi(fi),Ci=[9,13,27,32],Qr=a&&"CompositionEvent"in window,Ys=null;a&&"documentMode"in document&&(Ys=document.documentMode);var xs=a&&"TextEvent"in window&&!Ys,fh=a&&(!Qr||Ys&&8<Ys&&11>=Ys),nm=" ",xB=!1;function wB(f,g){switch(f){case"keyup":return Ci.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _B(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var rm=!1;function kae(f,g){switch(f){case"compositionend":return _B(g);case"keypress":return g.which!==32?null:(xB=!0,nm);case"textInput":return f=g.data,f===nm&&xB?null:f;default:return null}}function Mae(f,g){if(rm)return f==="compositionend"||!Qr&&wB(f,g)?(f=F0(),Ho=Kg=bs=null,rm=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return fh&&g.locale!=="ko"?null:g.data;default:return null}}var Nae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SB(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!Nae[f.type]:g==="textarea"}function EB(f,g,_,P){jt(P),g=yS(g,"onChange"),0<g.length&&(_=new Xg("onChange","change",null,_,P),f.push({event:_,listeners:g}))}var z0=null,U0=null;function Dae(f){UB(f,0)}function hS(f){var g=lm(f);if(xe(g))return f}function Lae(f,g){if(f==="change")return g}var CB=!1;if(a){var $P;if(a){var BP="oninput"in document;if(!BP){var TB=document.createElement("div");TB.setAttribute("oninput","return;"),BP=typeof TB.oninput=="function"}$P=BP}else $P=!1;CB=$P&&(!document.documentMode||9<document.documentMode)}function AB(){z0&&(z0.detachEvent("onpropertychange",RB),U0=z0=null)}function RB(f){if(f.propertyName==="value"&&hS(U0)){var g=[];EB(g,U0,f,ot(f)),it(Dae,g)}}function Oae(f,g,_){f==="focusin"?(AB(),z0=g,U0=_,z0.attachEvent("onpropertychange",RB)):f==="focusout"&&AB()}function Fae(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return hS(U0)}function $ae(f,g){if(f==="click")return hS(g)}function Bae(f,g){if(f==="input"||f==="change")return hS(g)}function Vae(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var Da=typeof Object.is=="function"?Object.is:Vae;function H0(f,g){if(Da(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var _=Object.keys(f),P=Object.keys(g);if(_.length!==P.length)return!1;for(P=0;P<_.length;P++){var B=_[P];if(!l.call(g,B)||!Da(f[B],g[B]))return!1}return!0}function PB(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function IB(f,g){var _=PB(f);f=0;for(var P;_;){if(_.nodeType===3){if(P=f+_.textContent.length,f<=g&&P>=g)return{node:_,offset:g-f};f=P}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=PB(_)}}function kB(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?kB(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function MB(){for(var f=window,g=be();g instanceof f.HTMLIFrameElement;){try{var _=typeof g.contentWindow.location.href=="string"}catch{_=!1}if(_)f=g.contentWindow;else break;g=be(f.document)}return g}function VP(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}function zae(f){var g=MB(),_=f.focusedElem,P=f.selectionRange;if(g!==_&&_&&_.ownerDocument&&kB(_.ownerDocument.documentElement,_)){if(P!==null&&VP(_)){if(g=P.start,f=P.end,f===void 0&&(f=g),"selectionStart"in _)_.selectionStart=g,_.selectionEnd=Math.min(f,_.value.length);else if(f=(g=_.ownerDocument||document)&&g.defaultView||window,f.getSelection){f=f.getSelection();var B=_.textContent.length,H=Math.min(P.start,B);P=P.end===void 0?H:Math.min(P.end,B),!f.extend&&H>P&&(B=P,P=H,H=B),B=IB(_,H);var Z=IB(_,P);B&&Z&&(f.rangeCount!==1||f.anchorNode!==B.node||f.anchorOffset!==B.offset||f.focusNode!==Z.node||f.focusOffset!==Z.offset)&&(g=g.createRange(),g.setStart(B.node,B.offset),f.removeAllRanges(),H>P?(f.addRange(g),f.extend(Z.node,Z.offset)):(g.setEnd(Z.node,Z.offset),f.addRange(g)))}}for(g=[],f=_;f=f.parentNode;)f.nodeType===1&&g.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<g.length;_++)f=g[_],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Uae=a&&"documentMode"in document&&11>=document.documentMode,im=null,zP=null,q0=null,UP=!1;function NB(f,g,_){var P=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;UP||im==null||im!==be(P)||(P=im,"selectionStart"in P&&VP(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),q0&&H0(q0,P)||(q0=P,P=yS(zP,"onSelect"),0<P.length&&(g=new Xg("onSelect","select",null,g,_),f.push({event:g,listeners:P}),g.target=im)))}function pS(f,g){var _={};return _[f.toLowerCase()]=g.toLowerCase(),_["Webkit"+f]="webkit"+g,_["Moz"+f]="moz"+g,_}var om={animationend:pS("Animation","AnimationEnd"),animationiteration:pS("Animation","AnimationIteration"),animationstart:pS("Animation","AnimationStart"),transitionend:pS("Transition","TransitionEnd")},HP={},DB={};a&&(DB=document.createElement("div").style,"AnimationEvent"in window||(delete om.animationend.animation,delete om.animationiteration.animation,delete om.animationstart.animation),"TransitionEvent"in window||delete om.transitionend.transition);function gS(f){if(HP[f])return HP[f];if(!om[f])return f;var g=om[f],_;for(_ in g)if(g.hasOwnProperty(_)&&_ in DB)return HP[f]=g[_];return f}var LB=gS("animationend"),OB=gS("animationiteration"),FB=gS("animationstart"),$B=gS("transitionend"),BB=new Map,VB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rd(f,g){BB.set(f,g),o(g,[f])}for(var qP=0;qP<VB.length;qP++){var jP=VB[qP],Hae=jP.toLowerCase(),qae=jP[0].toUpperCase()+jP.slice(1);Rd(Hae,"on"+qae)}Rd(LB,"onAnimationEnd"),Rd(OB,"onAnimationIteration"),Rd(FB,"onAnimationStart"),Rd("dblclick","onDoubleClick"),Rd("focusin","onFocus"),Rd("focusout","onBlur"),Rd($B,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var j0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jae=new Set("cancel close invalid load scroll toggle".split(" ").concat(j0));function zB(f,g,_){var P=f.type||"unknown-event";f.currentTarget=_,Fg(P,g,void 0,f),f.currentTarget=null}function UB(f,g){g=(g&4)!==0;for(var _=0;_<f.length;_++){var P=f[_],B=P.event;P=P.listeners;e:{var H=void 0;if(g)for(var Z=P.length-1;0<=Z;Z--){var he=P[Z],pe=he.instance,Te=he.currentTarget;if(he=he.listener,pe!==H&&B.isPropagationStopped())break e;zB(B,he,Te),H=pe}else for(Z=0;Z<P.length;Z++){if(he=P[Z],pe=he.instance,Te=he.currentTarget,he=he.listener,pe!==H&&B.isPropagationStopped())break e;zB(B,he,Te),H=pe}}}if(di)throw f=Pl,di=!1,Pl=null,f}function gr(f,g){var _=g[ZP];_===void 0&&(_=g[ZP]=new Set);var P=f+"__bubble";_.has(P)||(HB(g,f,2,!1),_.add(P))}function WP(f,g,_){var P=0;g&&(P|=4),HB(_,f,P,g)}var mS="_reactListening"+Math.random().toString(36).slice(2);function W0(f){if(!f[mS]){f[mS]=!0,r.forEach(function(_){_!=="selectionchange"&&(jae.has(_)||WP(_,!1,f),WP(_,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[mS]||(g[mS]=!0,WP("selectionchange",!1,g))}}function HB(f,g,_,P){switch(O0(g)){case 1:var B=wr;break;case 4:B=OP;break;default:B=L0}_=B.bind(null,g,_,f),B=void 0,!dn||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(B=!0),P?B!==void 0?f.addEventListener(g,_,{capture:!0,passive:B}):f.addEventListener(g,_,!0):B!==void 0?f.addEventListener(g,_,{passive:B}):f.addEventListener(g,_,!1)}function GP(f,g,_,P,B){var H=P;if((g&1)===0&&(g&2)===0&&P!==null)e:for(;;){if(P===null)return;var Z=P.tag;if(Z===3||Z===4){var he=P.stateNode.containerInfo;if(he===B||he.nodeType===8&&he.parentNode===B)break;if(Z===4)for(Z=P.return;Z!==null;){var pe=Z.tag;if((pe===3||pe===4)&&(pe=Z.stateNode.containerInfo,pe===B||pe.nodeType===8&&pe.parentNode===B))return;Z=Z.return}for(;he!==null;){if(Z=hh(he),Z===null)return;if(pe=Z.tag,pe===5||pe===6){P=H=Z;continue e}he=he.parentNode}}P=P.return}it(function(){var Te=H,He=ot(_),qe=[];e:{var ze=BB.get(f);if(ze!==void 0){var ft=Xg,xt=f;switch(f){case"keypress":if(Yg(_)===0)break e;case"keydown":case"keyup":ft=U;break;case"focusin":xt="focus",ft=em;break;case"focusout":xt="blur",ft=em;break;case"beforeblur":case"afterblur":ft=em;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Ae;break;case LB:case OB:case FB:ft=Xu;break;case $B:ft=Yn;break;case"scroll":ft=FP;break;case"wheel":ft=In;break;case"copy":case"cut":case"paste":ft=uS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=le}var Ct=(g&4)!==0,qr=!Ct&&f==="scroll",_e=Ct?ze!==null?ze+"Capture":null:ze;Ct=[];for(var ye=Te,Se;ye!==null;){Se=ye;var Ge=Se.stateNode;if(Se.tag===5&&Ge!==null&&(Se=Ge,_e!==null&&(Ge=et(ye,_e),Ge!=null&&Ct.push(G0(ye,Ge,Se)))),qr)break;ye=ye.return}0<Ct.length&&(ze=new ft(ze,xt,null,_,He),qe.push({event:ze,listeners:Ct}))}}if((g&7)===0){e:{if(ze=f==="mouseover"||f==="pointerover",ft=f==="mouseout"||f==="pointerout",ze&&_!==Le&&(xt=_.relatedTarget||_.fromElement)&&(hh(xt)||xt[Ju]))break e;if((ft||ze)&&(ze=He.window===He?He:(ze=He.ownerDocument)?ze.defaultView||ze.parentWindow:window,ft?(xt=_.relatedTarget||_.toElement,ft=Te,xt=xt?hh(xt):null,xt!==null&&(qr=Bo(xt),xt!==qr||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(ft=null,xt=Te),ft!==xt)){if(Ct=Qg,Ge="onMouseLeave",_e="onMouseEnter",ye="mouse",(f==="pointerout"||f==="pointerover")&&(Ct=le,Ge="onPointerLeave",_e="onPointerEnter",ye="pointer"),qr=ft==null?ze:lm(ft),Se=xt==null?ze:lm(xt),ze=new Ct(Ge,ye+"leave",ft,_,He),ze.target=qr,ze.relatedTarget=Se,Ge=null,hh(He)===Te&&(Ct=new Ct(_e,ye+"enter",xt,_,He),Ct.target=Se,Ct.relatedTarget=qr,Ge=Ct),qr=Ge,ft&&xt)t:{for(Ct=ft,_e=xt,ye=0,Se=Ct;Se;Se=sm(Se))ye++;for(Se=0,Ge=_e;Ge;Ge=sm(Ge))Se++;for(;0<ye-Se;)Ct=sm(Ct),ye--;for(;0<Se-ye;)_e=sm(_e),Se--;for(;ye--;){if(Ct===_e||_e!==null&&Ct===_e.alternate)break t;Ct=sm(Ct),_e=sm(_e)}Ct=null}else Ct=null;ft!==null&&qB(qe,ze,ft,Ct,!1),xt!==null&&qr!==null&&qB(qe,qr,xt,Ct,!0)}}e:{if(ze=Te?lm(Te):window,ft=ze.nodeName&&ze.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ze.type==="file")var Tt=Lae;else if(SB(ze))if(CB)Tt=Bae;else{Tt=Fae;var Wt=Oae}else(ft=ze.nodeName)&&ft.toLowerCase()==="input"&&(ze.type==="checkbox"||ze.type==="radio")&&(Tt=$ae);if(Tt&&(Tt=Tt(f,Te))){EB(qe,Tt,_,He);break e}Wt&&Wt(f,ze,Te),f==="focusout"&&(Wt=ze._wrapperState)&&Wt.controlled&&ze.type==="number"&&Qe(ze,"number",ze.value)}switch(Wt=Te?lm(Te):window,f){case"focusin":(SB(Wt)||Wt.contentEditable==="true")&&(im=Wt,zP=Te,q0=null);break;case"focusout":q0=zP=im=null;break;case"mousedown":UP=!0;break;case"contextmenu":case"mouseup":case"dragend":UP=!1,NB(qe,_,He);break;case"selectionchange":if(Uae)break;case"keydown":case"keyup":NB(qe,_,He)}var Gt;if(Qr)e:{switch(f){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else rm?wB(f,_)&&(Xt="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(Xt="onCompositionStart");Xt&&(fh&&_.locale!=="ko"&&(rm||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&rm&&(Gt=F0()):(bs=He,Kg="value"in bs?bs.value:bs.textContent,rm=!0)),Wt=yS(Te,Xt),0<Wt.length&&(Xt=new V0(Xt,f,null,_,He),qe.push({event:Xt,listeners:Wt}),Gt?Xt.data=Gt:(Gt=_B(_),Gt!==null&&(Xt.data=Gt)))),(Gt=xs?kae(f,_):Mae(f,_))&&(Te=yS(Te,"onBeforeInput"),0<Te.length&&(He=new V0("onBeforeInput","beforeinput",null,_,He),qe.push({event:He,listeners:Te}),He.data=Gt))}UB(qe,g)})}function G0(f,g,_){return{instance:f,listener:g,currentTarget:_}}function yS(f,g){for(var _=g+"Capture",P=[];f!==null;){var B=f,H=B.stateNode;B.tag===5&&H!==null&&(B=H,H=et(f,_),H!=null&&P.unshift(G0(f,H,B)),H=et(f,g),H!=null&&P.push(G0(f,H,B))),f=f.return}return P}function sm(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function qB(f,g,_,P,B){for(var H=g._reactName,Z=[];_!==null&&_!==P;){var he=_,pe=he.alternate,Te=he.stateNode;if(pe!==null&&pe===P)break;he.tag===5&&Te!==null&&(he=Te,B?(pe=et(_,H),pe!=null&&Z.unshift(G0(_,pe,he))):B||(pe=et(_,H),pe!=null&&Z.push(G0(_,pe,he)))),_=_.return}Z.length!==0&&f.push({event:g,listeners:Z})}var Wae=/\r\n?/g,Gae=/\u0000|\uFFFD/g;function jB(f){return(typeof f=="string"?f:""+f).replace(Wae,`
`).replace(Gae,"")}function vS(f,g,_){if(g=jB(g),jB(f)!==g&&_)throw Error(n(425))}function bS(){}var KP=null,YP=null;function XP(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var JP=typeof setTimeout=="function"?setTimeout:void 0,Kae=typeof clearTimeout=="function"?clearTimeout:void 0,WB=typeof Promise=="function"?Promise:void 0,Yae=typeof queueMicrotask=="function"?queueMicrotask:typeof WB<"u"?function(f){return WB.resolve(null).then(f).catch(Xae)}:JP;function Xae(f){setTimeout(function(){throw f})}function QP(f,g){var _=g,P=0;do{var B=_.nextSibling;if(f.removeChild(_),B&&B.nodeType===8)if(_=B.data,_==="/$"){if(P===0){f.removeChild(B),Ma(g);return}P--}else _!=="$"&&_!=="$?"&&_!=="$!"||P++;_=B}while(_);Ma(g)}function Pd(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return f}function GB(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"){if(g===0)return f;g--}else _==="/$"&&g++}f=f.previousSibling}return null}var am=Math.random().toString(36).slice(2),Bl="__reactFiber$"+am,K0="__reactProps$"+am,Ju="__reactContainer$"+am,ZP="__reactEvents$"+am,Jae="__reactListeners$"+am,Qae="__reactHandles$"+am;function hh(f){var g=f[Bl];if(g)return g;for(var _=f.parentNode;_;){if(g=_[Ju]||_[Bl]){if(_=g.alternate,g.child!==null||_!==null&&_.child!==null)for(f=GB(f);f!==null;){if(_=f[Bl])return _;f=GB(f)}return g}f=_,_=f.parentNode}return null}function Y0(f){return f=f[Bl]||f[Ju],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function lm(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function xS(f){return f[K0]||null}var eI=[],um=-1;function Id(f){return{current:f}}function mr(f){0>um||(f.current=eI[um],eI[um]=null,um--)}function cr(f,g){um++,eI[um]=f.current,f.current=g}var kd={},eo=Id(kd),qo=Id(!1),ph=kd;function cm(f,g){var _=f.type.contextTypes;if(!_)return kd;var P=f.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===g)return P.__reactInternalMemoizedMaskedChildContext;var B={},H;for(H in _)B[H]=g[H];return P&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=g,f.__reactInternalMemoizedMaskedChildContext=B),B}function jo(f){return f=f.childContextTypes,f!=null}function wS(){mr(qo),mr(eo)}function KB(f,g,_){if(eo.current!==kd)throw Error(n(168));cr(eo,g),cr(qo,_)}function YB(f,g,_){var P=f.stateNode;if(g=g.childContextTypes,typeof P.getChildContext!="function")return _;P=P.getChildContext();for(var B in P)if(!(B in g))throw Error(n(108,ae(f)||"Unknown",B));return j({},_,P)}function _S(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||kd,ph=eo.current,cr(eo,f),cr(qo,qo.current),!0}function XB(f,g,_){var P=f.stateNode;if(!P)throw Error(n(169));_?(f=YB(f,g,ph),P.__reactInternalMemoizedMergedChildContext=f,mr(qo),mr(eo),cr(eo,f)):mr(qo),cr(qo,_)}var Qu=null,SS=!1,tI=!1;function JB(f){Qu===null?Qu=[f]:Qu.push(f)}function Zae(f){SS=!0,JB(f)}function Md(){if(!tI&&Qu!==null){tI=!0;var f=0,g=Tn;try{var _=Qu;for(Tn=1;f<_.length;f++){var P=_[f];do P=P(!0);while(P!==null)}Qu=null,SS=!1}catch(B){throw Qu!==null&&(Qu=Qu.slice(f+1)),xd(qu,Md),B}finally{Tn=g,tI=!1}}return null}var dm=[],fm=0,ES=null,CS=0,Xs=[],Js=0,gh=null,Zu=1,ec="";function mh(f,g){dm[fm++]=CS,dm[fm++]=ES,ES=f,CS=g}function QB(f,g,_){Xs[Js++]=Zu,Xs[Js++]=ec,Xs[Js++]=gh,gh=f;var P=Zu;f=ec;var B=32-Di(P)-1;P&=~(1<<B),_+=1;var H=32-Di(g)+B;if(30<H){var Z=B-B%5;H=(P&(1<<Z)-1).toString(32),P>>=Z,B-=Z,Zu=1<<32-Di(g)+B|_<<B|P,ec=H+f}else Zu=1<<H|_<<B|P,ec=f}function nI(f){f.return!==null&&(mh(f,1),QB(f,1,0))}function rI(f){for(;f===ES;)ES=dm[--fm],dm[fm]=null,CS=dm[--fm],dm[fm]=null;for(;f===gh;)gh=Xs[--Js],Xs[Js]=null,ec=Xs[--Js],Xs[Js]=null,Zu=Xs[--Js],Xs[Js]=null}var ws=null,_s=null,_r=!1,La=null;function ZB(f,g){var _=ta(5,null,null,0);_.elementType="DELETED",_.stateNode=g,_.return=f,g=f.deletions,g===null?(f.deletions=[_],f.flags|=16):g.push(_)}function eV(f,g){switch(f.tag){case 5:var _=f.type;return g=g.nodeType!==1||_.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(f.stateNode=g,ws=f,_s=Pd(g.firstChild),!0):!1;case 6:return g=f.pendingProps===""||g.nodeType!==3?null:g,g!==null?(f.stateNode=g,ws=f,_s=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(_=gh!==null?{id:Zu,overflow:ec}:null,f.memoizedState={dehydrated:g,treeContext:_,retryLane:1073741824},_=ta(18,null,null,0),_.stateNode=g,_.return=f,f.child=_,ws=f,_s=null,!0):!1;default:return!1}}function iI(f){return(f.mode&1)!==0&&(f.flags&128)===0}function oI(f){if(_r){var g=_s;if(g){var _=g;if(!eV(f,g)){if(iI(f))throw Error(n(418));g=Pd(_.nextSibling);var P=ws;g&&eV(f,g)?ZB(P,_):(f.flags=f.flags&-4097|2,_r=!1,ws=f)}}else{if(iI(f))throw Error(n(418));f.flags=f.flags&-4097|2,_r=!1,ws=f}}}function tV(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ws=f}function TS(f){if(f!==ws)return!1;if(!_r)return tV(f),_r=!0,!1;var g;if((g=f.tag!==3)&&!(g=f.tag!==5)&&(g=f.type,g=g!=="head"&&g!=="body"&&!XP(f.type,f.memoizedProps)),g&&(g=_s)){if(iI(f))throw nV(),Error(n(418));for(;g;)ZB(f,g),g=Pd(g.nextSibling)}if(tV(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8){var _=f.data;if(_==="/$"){if(g===0){_s=Pd(f.nextSibling);break e}g--}else _!=="$"&&_!=="$!"&&_!=="$?"||g++}f=f.nextSibling}_s=null}}else _s=ws?Pd(f.stateNode.nextSibling):null;return!0}function nV(){for(var f=_s;f;)f=Pd(f.nextSibling)}function hm(){_s=ws=null,_r=!1}function sI(f){La===null?La=[f]:La.push(f)}var ele=T.ReactCurrentBatchConfig;function X0(f,g,_){if(f=_.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(n(309));var P=_.stateNode}if(!P)throw Error(n(147,f));var B=P,H=""+f;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===H?g.ref:(g=function(Z){var he=B.refs;Z===null?delete he[H]:he[H]=Z},g._stringRef=H,g)}if(typeof f!="string")throw Error(n(284));if(!_._owner)throw Error(n(290,f))}return f}function AS(f,g){throw f=Object.prototype.toString.call(g),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f))}function rV(f){var g=f._init;return g(f._payload)}function iV(f){function g(_e,ye){if(f){var Se=_e.deletions;Se===null?(_e.deletions=[ye],_e.flags|=16):Se.push(ye)}}function _(_e,ye){if(!f)return null;for(;ye!==null;)g(_e,ye),ye=ye.sibling;return null}function P(_e,ye){for(_e=new Map;ye!==null;)ye.key!==null?_e.set(ye.key,ye):_e.set(ye.index,ye),ye=ye.sibling;return _e}function B(_e,ye){return _e=Vd(_e,ye),_e.index=0,_e.sibling=null,_e}function H(_e,ye,Se){return _e.index=Se,f?(Se=_e.alternate,Se!==null?(Se=Se.index,Se<ye?(_e.flags|=2,ye):Se):(_e.flags|=2,ye)):(_e.flags|=1048576,ye)}function Z(_e){return f&&_e.alternate===null&&(_e.flags|=2),_e}function he(_e,ye,Se,Ge){return ye===null||ye.tag!==6?(ye=JI(Se,_e.mode,Ge),ye.return=_e,ye):(ye=B(ye,Se),ye.return=_e,ye)}function pe(_e,ye,Se,Ge){var Tt=Se.type;return Tt===R?He(_e,ye,Se.props.children,Ge,Se.key):ye!==null&&(ye.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===K&&rV(Tt)===ye.type)?(Ge=B(ye,Se.props),Ge.ref=X0(_e,ye,Se),Ge.return=_e,Ge):(Ge=JS(Se.type,Se.key,Se.props,null,_e.mode,Ge),Ge.ref=X0(_e,ye,Se),Ge.return=_e,Ge)}function Te(_e,ye,Se,Ge){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Se.containerInfo||ye.stateNode.implementation!==Se.implementation?(ye=QI(Se,_e.mode,Ge),ye.return=_e,ye):(ye=B(ye,Se.children||[]),ye.return=_e,ye)}function He(_e,ye,Se,Ge,Tt){return ye===null||ye.tag!==7?(ye=Eh(Se,_e.mode,Ge,Tt),ye.return=_e,ye):(ye=B(ye,Se),ye.return=_e,ye)}function qe(_e,ye,Se){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=JI(""+ye,_e.mode,Se),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case k:return Se=JS(ye.type,ye.key,ye.props,null,_e.mode,Se),Se.ref=X0(_e,null,ye),Se.return=_e,Se;case N:return ye=QI(ye,_e.mode,Se),ye.return=_e,ye;case K:var Ge=ye._init;return qe(_e,Ge(ye._payload),Se)}if(Ye(ye)||X(ye))return ye=Eh(ye,_e.mode,Se,null),ye.return=_e,ye;AS(_e,ye)}return null}function ze(_e,ye,Se,Ge){var Tt=ye!==null?ye.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Tt!==null?null:he(_e,ye,""+Se,Ge);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:return Se.key===Tt?pe(_e,ye,Se,Ge):null;case N:return Se.key===Tt?Te(_e,ye,Se,Ge):null;case K:return Tt=Se._init,ze(_e,ye,Tt(Se._payload),Ge)}if(Ye(Se)||X(Se))return Tt!==null?null:He(_e,ye,Se,Ge,null);AS(_e,Se)}return null}function ft(_e,ye,Se,Ge,Tt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return _e=_e.get(Se)||null,he(ye,_e,""+Ge,Tt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case k:return _e=_e.get(Ge.key===null?Se:Ge.key)||null,pe(ye,_e,Ge,Tt);case N:return _e=_e.get(Ge.key===null?Se:Ge.key)||null,Te(ye,_e,Ge,Tt);case K:var Wt=Ge._init;return ft(_e,ye,Se,Wt(Ge._payload),Tt)}if(Ye(Ge)||X(Ge))return _e=_e.get(Se)||null,He(ye,_e,Ge,Tt,null);AS(ye,Ge)}return null}function xt(_e,ye,Se,Ge){for(var Tt=null,Wt=null,Gt=ye,Xt=ye=0,Ri=null;Gt!==null&&Xt<Se.length;Xt++){Gt.index>Xt?(Ri=Gt,Gt=null):Ri=Gt.sibling;var $n=ze(_e,Gt,Se[Xt],Ge);if($n===null){Gt===null&&(Gt=Ri);break}f&&Gt&&$n.alternate===null&&g(_e,Gt),ye=H($n,ye,Xt),Wt===null?Tt=$n:Wt.sibling=$n,Wt=$n,Gt=Ri}if(Xt===Se.length)return _(_e,Gt),_r&&mh(_e,Xt),Tt;if(Gt===null){for(;Xt<Se.length;Xt++)Gt=qe(_e,Se[Xt],Ge),Gt!==null&&(ye=H(Gt,ye,Xt),Wt===null?Tt=Gt:Wt.sibling=Gt,Wt=Gt);return _r&&mh(_e,Xt),Tt}for(Gt=P(_e,Gt);Xt<Se.length;Xt++)Ri=ft(Gt,_e,Xt,Se[Xt],Ge),Ri!==null&&(f&&Ri.alternate!==null&&Gt.delete(Ri.key===null?Xt:Ri.key),ye=H(Ri,ye,Xt),Wt===null?Tt=Ri:Wt.sibling=Ri,Wt=Ri);return f&&Gt.forEach(function(zd){return g(_e,zd)}),_r&&mh(_e,Xt),Tt}function Ct(_e,ye,Se,Ge){var Tt=X(Se);if(typeof Tt!="function")throw Error(n(150));if(Se=Tt.call(Se),Se==null)throw Error(n(151));for(var Wt=Tt=null,Gt=ye,Xt=ye=0,Ri=null,$n=Se.next();Gt!==null&&!$n.done;Xt++,$n=Se.next()){Gt.index>Xt?(Ri=Gt,Gt=null):Ri=Gt.sibling;var zd=ze(_e,Gt,$n.value,Ge);if(zd===null){Gt===null&&(Gt=Ri);break}f&&Gt&&zd.alternate===null&&g(_e,Gt),ye=H(zd,ye,Xt),Wt===null?Tt=zd:Wt.sibling=zd,Wt=zd,Gt=Ri}if($n.done)return _(_e,Gt),_r&&mh(_e,Xt),Tt;if(Gt===null){for(;!$n.done;Xt++,$n=Se.next())$n=qe(_e,$n.value,Ge),$n!==null&&(ye=H($n,ye,Xt),Wt===null?Tt=$n:Wt.sibling=$n,Wt=$n);return _r&&mh(_e,Xt),Tt}for(Gt=P(_e,Gt);!$n.done;Xt++,$n=Se.next())$n=ft(Gt,_e,Xt,$n.value,Ge),$n!==null&&(f&&$n.alternate!==null&&Gt.delete($n.key===null?Xt:$n.key),ye=H($n,ye,Xt),Wt===null?Tt=$n:Wt.sibling=$n,Wt=$n);return f&&Gt.forEach(function(Nle){return g(_e,Nle)}),_r&&mh(_e,Xt),Tt}function qr(_e,ye,Se,Ge){if(typeof Se=="object"&&Se!==null&&Se.type===R&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:e:{for(var Tt=Se.key,Wt=ye;Wt!==null;){if(Wt.key===Tt){if(Tt=Se.type,Tt===R){if(Wt.tag===7){_(_e,Wt.sibling),ye=B(Wt,Se.props.children),ye.return=_e,_e=ye;break e}}else if(Wt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===K&&rV(Tt)===Wt.type){_(_e,Wt.sibling),ye=B(Wt,Se.props),ye.ref=X0(_e,Wt,Se),ye.return=_e,_e=ye;break e}_(_e,Wt);break}else g(_e,Wt);Wt=Wt.sibling}Se.type===R?(ye=Eh(Se.props.children,_e.mode,Ge,Se.key),ye.return=_e,_e=ye):(Ge=JS(Se.type,Se.key,Se.props,null,_e.mode,Ge),Ge.ref=X0(_e,ye,Se),Ge.return=_e,_e=Ge)}return Z(_e);case N:e:{for(Wt=Se.key;ye!==null;){if(ye.key===Wt)if(ye.tag===4&&ye.stateNode.containerInfo===Se.containerInfo&&ye.stateNode.implementation===Se.implementation){_(_e,ye.sibling),ye=B(ye,Se.children||[]),ye.return=_e,_e=ye;break e}else{_(_e,ye);break}else g(_e,ye);ye=ye.sibling}ye=QI(Se,_e.mode,Ge),ye.return=_e,_e=ye}return Z(_e);case K:return Wt=Se._init,qr(_e,ye,Wt(Se._payload),Ge)}if(Ye(Se))return xt(_e,ye,Se,Ge);if(X(Se))return Ct(_e,ye,Se,Ge);AS(_e,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ye!==null&&ye.tag===6?(_(_e,ye.sibling),ye=B(ye,Se),ye.return=_e,_e=ye):(_(_e,ye),ye=JI(Se,_e.mode,Ge),ye.return=_e,_e=ye),Z(_e)):_(_e,ye)}return qr}var pm=iV(!0),oV=iV(!1),RS=Id(null),PS=null,gm=null,aI=null;function lI(){aI=gm=PS=null}function uI(f){var g=RS.current;mr(RS),f._currentValue=g}function cI(f,g,_){for(;f!==null;){var P=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,P!==null&&(P.childLanes|=g)):P!==null&&(P.childLanes&g)!==g&&(P.childLanes|=g),f===_)break;f=f.return}}function mm(f,g){PS=f,aI=gm=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&g)!==0&&(Wo=!0),f.firstContext=null)}function Qs(f){var g=f._currentValue;if(aI!==f)if(f={context:f,memoizedValue:g,next:null},gm===null){if(PS===null)throw Error(n(308));gm=f,PS.dependencies={lanes:0,firstContext:f}}else gm=gm.next=f;return g}var yh=null;function dI(f){yh===null?yh=[f]:yh.push(f)}function sV(f,g,_,P){var B=g.interleaved;return B===null?(_.next=_,dI(g)):(_.next=B.next,B.next=_),g.interleaved=_,tc(f,P)}function tc(f,g){f.lanes|=g;var _=f.alternate;for(_!==null&&(_.lanes|=g),_=f,f=f.return;f!==null;)f.childLanes|=g,_=f.alternate,_!==null&&(_.childLanes|=g),_=f,f=f.return;return _.tag===3?_.stateNode:null}var Nd=!1;function fI(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aV(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function nc(f,g){return{eventTime:f,lane:g,tag:0,payload:null,callback:null,next:null}}function Dd(f,g,_){var P=f.updateQueue;if(P===null)return null;if(P=P.shared,(Ln&2)!==0){var B=P.pending;return B===null?g.next=g:(g.next=B.next,B.next=g),P.pending=g,tc(f,_)}return B=P.interleaved,B===null?(g.next=g,dI(P)):(g.next=B.next,B.next=g),P.interleaved=g,tc(f,_)}function IS(f,g,_){if(g=g.updateQueue,g!==null&&(g=g.shared,(_&4194240)!==0)){var P=g.lanes;P&=f.pendingLanes,_|=P,g.lanes=_,Sd(f,_)}}function lV(f,g){var _=f.updateQueue,P=f.alternate;if(P!==null&&(P=P.updateQueue,_===P)){var B=null,H=null;if(_=_.firstBaseUpdate,_!==null){do{var Z={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};H===null?B=H=Z:H=H.next=Z,_=_.next}while(_!==null);H===null?B=H=g:H=H.next=g}else B=H=g;_={baseState:P.baseState,firstBaseUpdate:B,lastBaseUpdate:H,shared:P.shared,effects:P.effects},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=g:f.next=g,_.lastBaseUpdate=g}function kS(f,g,_,P){var B=f.updateQueue;Nd=!1;var H=B.firstBaseUpdate,Z=B.lastBaseUpdate,he=B.shared.pending;if(he!==null){B.shared.pending=null;var pe=he,Te=pe.next;pe.next=null,Z===null?H=Te:Z.next=Te,Z=pe;var He=f.alternate;He!==null&&(He=He.updateQueue,he=He.lastBaseUpdate,he!==Z&&(he===null?He.firstBaseUpdate=Te:he.next=Te,He.lastBaseUpdate=pe))}if(H!==null){var qe=B.baseState;Z=0,He=Te=pe=null,he=H;do{var ze=he.lane,ft=he.eventTime;if((P&ze)===ze){He!==null&&(He=He.next={eventTime:ft,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var xt=f,Ct=he;switch(ze=g,ft=_,Ct.tag){case 1:if(xt=Ct.payload,typeof xt=="function"){qe=xt.call(ft,qe,ze);break e}qe=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ct.payload,ze=typeof xt=="function"?xt.call(ft,qe,ze):xt,ze==null)break e;qe=j({},qe,ze);break e;case 2:Nd=!0}}he.callback!==null&&he.lane!==0&&(f.flags|=64,ze=B.effects,ze===null?B.effects=[he]:ze.push(he))}else ft={eventTime:ft,lane:ze,tag:he.tag,payload:he.payload,callback:he.callback,next:null},He===null?(Te=He=ft,pe=qe):He=He.next=ft,Z|=ze;if(he=he.next,he===null){if(he=B.shared.pending,he===null)break;ze=he,he=ze.next,ze.next=null,B.lastBaseUpdate=ze,B.shared.pending=null}}while(!0);if(He===null&&(pe=qe),B.baseState=pe,B.firstBaseUpdate=Te,B.lastBaseUpdate=He,g=B.shared.interleaved,g!==null){B=g;do Z|=B.lane,B=B.next;while(B!==g)}else H===null&&(B.shared.lanes=0);xh|=Z,f.lanes=Z,f.memoizedState=qe}}function uV(f,g,_){if(f=g.effects,g.effects=null,f!==null)for(g=0;g<f.length;g++){var P=f[g],B=P.callback;if(B!==null){if(P.callback=null,P=_,typeof B!="function")throw Error(n(191,B));B.call(P)}}}var J0={},Vl=Id(J0),Q0=Id(J0),Z0=Id(J0);function vh(f){if(f===J0)throw Error(n(174));return f}function hI(f,g){switch(cr(Z0,g),cr(Q0,f),cr(Vl,J0),f=g.nodeType,f){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Ce(null,"");break;default:f=f===8?g.parentNode:g,g=f.namespaceURI||null,f=f.tagName,g=Ce(g,f)}mr(Vl),cr(Vl,g)}function ym(){mr(Vl),mr(Q0),mr(Z0)}function cV(f){vh(Z0.current);var g=vh(Vl.current),_=Ce(g,f.type);g!==_&&(cr(Q0,f),cr(Vl,_))}function pI(f){Q0.current===f&&(mr(Vl),mr(Q0))}var Ar=Id(0);function MS(f){for(var g=f;g!==null;){if(g.tag===13){var _=g.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var gI=[];function mI(){for(var f=0;f<gI.length;f++)gI[f]._workInProgressVersionPrimary=null;gI.length=0}var NS=T.ReactCurrentDispatcher,yI=T.ReactCurrentBatchConfig,bh=0,Rr=null,hi=null,Ti=null,DS=!1,eb=!1,tb=0,tle=0;function to(){throw Error(n(321))}function vI(f,g){if(g===null)return!1;for(var _=0;_<g.length&&_<f.length;_++)if(!Da(f[_],g[_]))return!1;return!0}function bI(f,g,_,P,B,H){if(bh=H,Rr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,NS.current=f===null||f.memoizedState===null?ole:sle,f=_(P,B),eb){H=0;do{if(eb=!1,tb=0,25<=H)throw Error(n(301));H+=1,Ti=hi=null,g.updateQueue=null,NS.current=ale,f=_(P,B)}while(eb)}if(NS.current=FS,g=hi!==null&&hi.next!==null,bh=0,Ti=hi=Rr=null,DS=!1,g)throw Error(n(300));return f}function xI(){var f=tb!==0;return tb=0,f}function zl(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?Rr.memoizedState=Ti=f:Ti=Ti.next=f,Ti}function Zs(){if(hi===null){var f=Rr.alternate;f=f!==null?f.memoizedState:null}else f=hi.next;var g=Ti===null?Rr.memoizedState:Ti.next;if(g!==null)Ti=g,hi=f;else{if(f===null)throw Error(n(310));hi=f,f={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},Ti===null?Rr.memoizedState=Ti=f:Ti=Ti.next=f}return Ti}function nb(f,g){return typeof g=="function"?g(f):g}function wI(f){var g=Zs(),_=g.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=f;var P=hi,B=P.baseQueue,H=_.pending;if(H!==null){if(B!==null){var Z=B.next;B.next=H.next,H.next=Z}P.baseQueue=B=H,_.pending=null}if(B!==null){H=B.next,P=P.baseState;var he=Z=null,pe=null,Te=H;do{var He=Te.lane;if((bh&He)===He)pe!==null&&(pe=pe.next={lane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),P=Te.hasEagerState?Te.eagerState:f(P,Te.action);else{var qe={lane:He,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null};pe===null?(he=pe=qe,Z=P):pe=pe.next=qe,Rr.lanes|=He,xh|=He}Te=Te.next}while(Te!==null&&Te!==H);pe===null?Z=P:pe.next=he,Da(P,g.memoizedState)||(Wo=!0),g.memoizedState=P,g.baseState=Z,g.baseQueue=pe,_.lastRenderedState=P}if(f=_.interleaved,f!==null){B=f;do H=B.lane,Rr.lanes|=H,xh|=H,B=B.next;while(B!==f)}else B===null&&(_.lanes=0);return[g.memoizedState,_.dispatch]}function _I(f){var g=Zs(),_=g.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=f;var P=_.dispatch,B=_.pending,H=g.memoizedState;if(B!==null){_.pending=null;var Z=B=B.next;do H=f(H,Z.action),Z=Z.next;while(Z!==B);Da(H,g.memoizedState)||(Wo=!0),g.memoizedState=H,g.baseQueue===null&&(g.baseState=H),_.lastRenderedState=H}return[H,P]}function dV(){}function fV(f,g){var _=Rr,P=Zs(),B=g(),H=!Da(P.memoizedState,B);if(H&&(P.memoizedState=B,Wo=!0),P=P.queue,SI(gV.bind(null,_,P,f),[f]),P.getSnapshot!==g||H||Ti!==null&&Ti.memoizedState.tag&1){if(_.flags|=2048,rb(9,pV.bind(null,_,P,B,g),void 0,null),Ai===null)throw Error(n(349));(bh&30)!==0||hV(_,g,B)}return B}function hV(f,g,_){f.flags|=16384,f={getSnapshot:g,value:_},g=Rr.updateQueue,g===null?(g={lastEffect:null,stores:null},Rr.updateQueue=g,g.stores=[f]):(_=g.stores,_===null?g.stores=[f]:_.push(f))}function pV(f,g,_,P){g.value=_,g.getSnapshot=P,mV(g)&&yV(f)}function gV(f,g,_){return _(function(){mV(g)&&yV(f)})}function mV(f){var g=f.getSnapshot;f=f.value;try{var _=g();return!Da(f,_)}catch{return!0}}function yV(f){var g=tc(f,1);g!==null&&Ba(g,f,1,-1)}function vV(f){var g=zl();return typeof f=="function"&&(f=f()),g.memoizedState=g.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:f},g.queue=f,f=f.dispatch=ile.bind(null,Rr,f),[g.memoizedState,f]}function rb(f,g,_,P){return f={tag:f,create:g,destroy:_,deps:P,next:null},g=Rr.updateQueue,g===null?(g={lastEffect:null,stores:null},Rr.updateQueue=g,g.lastEffect=f.next=f):(_=g.lastEffect,_===null?g.lastEffect=f.next=f:(P=_.next,_.next=f,f.next=P,g.lastEffect=f)),f}function bV(){return Zs().memoizedState}function LS(f,g,_,P){var B=zl();Rr.flags|=f,B.memoizedState=rb(1|g,_,void 0,P===void 0?null:P)}function OS(f,g,_,P){var B=Zs();P=P===void 0?null:P;var H=void 0;if(hi!==null){var Z=hi.memoizedState;if(H=Z.destroy,P!==null&&vI(P,Z.deps)){B.memoizedState=rb(g,_,H,P);return}}Rr.flags|=f,B.memoizedState=rb(1|g,_,H,P)}function xV(f,g){return LS(8390656,8,f,g)}function SI(f,g){return OS(2048,8,f,g)}function wV(f,g){return OS(4,2,f,g)}function _V(f,g){return OS(4,4,f,g)}function SV(f,g){if(typeof g=="function")return f=f(),g(f),function(){g(null)};if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function EV(f,g,_){return _=_!=null?_.concat([f]):null,OS(4,4,SV.bind(null,g,f),_)}function EI(){}function CV(f,g){var _=Zs();g=g===void 0?null:g;var P=_.memoizedState;return P!==null&&g!==null&&vI(g,P[1])?P[0]:(_.memoizedState=[f,g],f)}function TV(f,g){var _=Zs();g=g===void 0?null:g;var P=_.memoizedState;return P!==null&&g!==null&&vI(g,P[1])?P[0]:(f=f(),_.memoizedState=[f,g],f)}function AV(f,g,_){return(bh&21)===0?(f.baseState&&(f.baseState=!1,Wo=!0),f.memoizedState=_):(Da(_,g)||(_=Wu(),Rr.lanes|=_,xh|=_,f.baseState=!0),g)}function nle(f,g){var _=Tn;Tn=_!==0&&4>_?_:4,f(!0);var P=yI.transition;yI.transition={};try{f(!1),g()}finally{Tn=_,yI.transition=P}}function RV(){return Zs().memoizedState}function rle(f,g,_){var P=$d(f);if(_={lane:P,action:_,hasEagerState:!1,eagerState:null,next:null},PV(f))IV(g,_);else if(_=sV(f,g,_,P),_!==null){var B=Ao();Ba(_,f,P,B),kV(_,g,P)}}function ile(f,g,_){var P=$d(f),B={lane:P,action:_,hasEagerState:!1,eagerState:null,next:null};if(PV(f))IV(g,B);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=g.lastRenderedReducer,H!==null))try{var Z=g.lastRenderedState,he=H(Z,_);if(B.hasEagerState=!0,B.eagerState=he,Da(he,Z)){var pe=g.interleaved;pe===null?(B.next=B,dI(g)):(B.next=pe.next,pe.next=B),g.interleaved=B;return}}catch{}finally{}_=sV(f,g,B,P),_!==null&&(B=Ao(),Ba(_,f,P,B),kV(_,g,P))}}function PV(f){var g=f.alternate;return f===Rr||g!==null&&g===Rr}function IV(f,g){eb=DS=!0;var _=f.pending;_===null?g.next=g:(g.next=_.next,_.next=g),f.pending=g}function kV(f,g,_){if((_&4194240)!==0){var P=g.lanes;P&=f.pendingLanes,_|=P,g.lanes=_,Sd(f,_)}}var FS={readContext:Qs,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useInsertionEffect:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useSyncExternalStore:to,useId:to,unstable_isNewReconciler:!1},ole={readContext:Qs,useCallback:function(f,g){return zl().memoizedState=[f,g===void 0?null:g],f},useContext:Qs,useEffect:xV,useImperativeHandle:function(f,g,_){return _=_!=null?_.concat([f]):null,LS(4194308,4,SV.bind(null,g,f),_)},useLayoutEffect:function(f,g){return LS(4194308,4,f,g)},useInsertionEffect:function(f,g){return LS(4,2,f,g)},useMemo:function(f,g){var _=zl();return g=g===void 0?null:g,f=f(),_.memoizedState=[f,g],f},useReducer:function(f,g,_){var P=zl();return g=_!==void 0?_(g):g,P.memoizedState=P.baseState=g,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:g},P.queue=f,f=f.dispatch=rle.bind(null,Rr,f),[P.memoizedState,f]},useRef:function(f){var g=zl();return f={current:f},g.memoizedState=f},useState:vV,useDebugValue:EI,useDeferredValue:function(f){return zl().memoizedState=f},useTransition:function(){var f=vV(!1),g=f[0];return f=nle.bind(null,f[1]),zl().memoizedState=f,[g,f]},useMutableSource:function(){},useSyncExternalStore:function(f,g,_){var P=Rr,B=zl();if(_r){if(_===void 0)throw Error(n(407));_=_()}else{if(_=g(),Ai===null)throw Error(n(349));(bh&30)!==0||hV(P,g,_)}B.memoizedState=_;var H={value:_,getSnapshot:g};return B.queue=H,xV(gV.bind(null,P,H,f),[f]),P.flags|=2048,rb(9,pV.bind(null,P,H,_,g),void 0,null),_},useId:function(){var f=zl(),g=Ai.identifierPrefix;if(_r){var _=ec,P=Zu;_=(P&~(1<<32-Di(P)-1)).toString(32)+_,g=":"+g+"R"+_,_=tb++,0<_&&(g+="H"+_.toString(32)),g+=":"}else _=tle++,g=":"+g+"r"+_.toString(32)+":";return f.memoizedState=g},unstable_isNewReconciler:!1},sle={readContext:Qs,useCallback:CV,useContext:Qs,useEffect:SI,useImperativeHandle:EV,useInsertionEffect:wV,useLayoutEffect:_V,useMemo:TV,useReducer:wI,useRef:bV,useState:function(){return wI(nb)},useDebugValue:EI,useDeferredValue:function(f){var g=Zs();return AV(g,hi.memoizedState,f)},useTransition:function(){var f=wI(nb)[0],g=Zs().memoizedState;return[f,g]},useMutableSource:dV,useSyncExternalStore:fV,useId:RV,unstable_isNewReconciler:!1},ale={readContext:Qs,useCallback:CV,useContext:Qs,useEffect:SI,useImperativeHandle:EV,useInsertionEffect:wV,useLayoutEffect:_V,useMemo:TV,useReducer:_I,useRef:bV,useState:function(){return _I(nb)},useDebugValue:EI,useDeferredValue:function(f){var g=Zs();return hi===null?g.memoizedState=f:AV(g,hi.memoizedState,f)},useTransition:function(){var f=_I(nb)[0],g=Zs().memoizedState;return[f,g]},useMutableSource:dV,useSyncExternalStore:fV,useId:RV,unstable_isNewReconciler:!1};function Oa(f,g){if(f&&f.defaultProps){g=j({},g),f=f.defaultProps;for(var _ in f)g[_]===void 0&&(g[_]=f[_]);return g}return g}function CI(f,g,_,P){g=f.memoizedState,_=_(P,g),_=_==null?g:j({},g,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var $S={isMounted:function(f){return(f=f._reactInternals)?Bo(f)===f:!1},enqueueSetState:function(f,g,_){f=f._reactInternals;var P=Ao(),B=$d(f),H=nc(P,B);H.payload=g,_!=null&&(H.callback=_),g=Dd(f,H,B),g!==null&&(Ba(g,f,B,P),IS(g,f,B))},enqueueReplaceState:function(f,g,_){f=f._reactInternals;var P=Ao(),B=$d(f),H=nc(P,B);H.tag=1,H.payload=g,_!=null&&(H.callback=_),g=Dd(f,H,B),g!==null&&(Ba(g,f,B,P),IS(g,f,B))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var _=Ao(),P=$d(f),B=nc(_,P);B.tag=2,g!=null&&(B.callback=g),g=Dd(f,B,P),g!==null&&(Ba(g,f,P,_),IS(g,f,P))}};function MV(f,g,_,P,B,H,Z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(P,H,Z):g.prototype&&g.prototype.isPureReactComponent?!H0(_,P)||!H0(B,H):!0}function NV(f,g,_){var P=!1,B=kd,H=g.contextType;return typeof H=="object"&&H!==null?H=Qs(H):(B=jo(g)?ph:eo.current,P=g.contextTypes,H=(P=P!=null)?cm(f,B):kd),g=new g(_,H),f.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=$S,f.stateNode=g,g._reactInternals=f,P&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=B,f.__reactInternalMemoizedMaskedChildContext=H),g}function DV(f,g,_,P){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(_,P),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(_,P),g.state!==f&&$S.enqueueReplaceState(g,g.state,null)}function TI(f,g,_,P){var B=f.stateNode;B.props=_,B.state=f.memoizedState,B.refs={},fI(f);var H=g.contextType;typeof H=="object"&&H!==null?B.context=Qs(H):(H=jo(g)?ph:eo.current,B.context=cm(f,H)),B.state=f.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(CI(f,g,H,_),B.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&$S.enqueueReplaceState(B,B.state,null),kS(f,_,B,P),B.state=f.memoizedState),typeof B.componentDidMount=="function"&&(f.flags|=4194308)}function vm(f,g){try{var _="",P=g;do _+=se(P),P=P.return;while(P);var B=_}catch(H){B=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:g,stack:B,digest:null}}function AI(f,g,_){return{value:f,source:null,stack:_??null,digest:g??null}}function RI(f,g){try{console.error(g.value)}catch(_){setTimeout(function(){throw _})}}var lle=typeof WeakMap=="function"?WeakMap:Map;function LV(f,g,_){_=nc(-1,_),_.tag=3,_.payload={element:null};var P=g.value;return _.callback=function(){jS||(jS=!0,HI=P),RI(f,g)},_}function OV(f,g,_){_=nc(-1,_),_.tag=3;var P=f.type.getDerivedStateFromError;if(typeof P=="function"){var B=g.value;_.payload=function(){return P(B)},_.callback=function(){RI(f,g)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(_.callback=function(){RI(f,g),typeof P!="function"&&(Od===null?Od=new Set([this]):Od.add(this));var Z=g.stack;this.componentDidCatch(g.value,{componentStack:Z!==null?Z:""})}),_}function FV(f,g,_){var P=f.pingCache;if(P===null){P=f.pingCache=new lle;var B=new Set;P.set(g,B)}else B=P.get(g),B===void 0&&(B=new Set,P.set(g,B));B.has(_)||(B.add(_),f=_le.bind(null,f,g,_),g.then(f,f))}function $V(f){do{var g;if((g=f.tag===13)&&(g=f.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return f;f=f.return}while(f!==null);return null}function BV(f,g,_,P,B){return(f.mode&1)===0?(f===g?f.flags|=65536:(f.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(g=nc(-1,1),g.tag=2,Dd(_,g,1))),_.lanes|=1),f):(f.flags|=65536,f.lanes=B,f)}var ule=T.ReactCurrentOwner,Wo=!1;function To(f,g,_,P){g.child=f===null?oV(g,null,_,P):pm(g,f.child,_,P)}function VV(f,g,_,P,B){_=_.render;var H=g.ref;return mm(g,B),P=bI(f,g,_,P,H,B),_=xI(),f!==null&&!Wo?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~B,rc(f,g,B)):(_r&&_&&nI(g),g.flags|=1,To(f,g,P,B),g.child)}function zV(f,g,_,P,B){if(f===null){var H=_.type;return typeof H=="function"&&!XI(H)&&H.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(g.tag=15,g.type=H,UV(f,g,H,P,B)):(f=JS(_.type,null,P,g,g.mode,B),f.ref=g.ref,f.return=g,g.child=f)}if(H=f.child,(f.lanes&B)===0){var Z=H.memoizedProps;if(_=_.compare,_=_!==null?_:H0,_(Z,P)&&f.ref===g.ref)return rc(f,g,B)}return g.flags|=1,f=Vd(H,P),f.ref=g.ref,f.return=g,g.child=f}function UV(f,g,_,P,B){if(f!==null){var H=f.memoizedProps;if(H0(H,P)&&f.ref===g.ref)if(Wo=!1,g.pendingProps=P=H,(f.lanes&B)!==0)(f.flags&131072)!==0&&(Wo=!0);else return g.lanes=f.lanes,rc(f,g,B)}return PI(f,g,_,P,B)}function HV(f,g,_){var P=g.pendingProps,B=P.children,H=f!==null?f.memoizedState:null;if(P.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(xm,Ss),Ss|=_;else{if((_&1073741824)===0)return f=H!==null?H.baseLanes|_:_,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:f,cachePool:null,transitions:null},g.updateQueue=null,cr(xm,Ss),Ss|=f,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=H!==null?H.baseLanes:_,cr(xm,Ss),Ss|=P}else H!==null?(P=H.baseLanes|_,g.memoizedState=null):P=_,cr(xm,Ss),Ss|=P;return To(f,g,B,_),g.child}function qV(f,g){var _=g.ref;(f===null&&_!==null||f!==null&&f.ref!==_)&&(g.flags|=512,g.flags|=2097152)}function PI(f,g,_,P,B){var H=jo(_)?ph:eo.current;return H=cm(g,H),mm(g,B),_=bI(f,g,_,P,H,B),P=xI(),f!==null&&!Wo?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~B,rc(f,g,B)):(_r&&P&&nI(g),g.flags|=1,To(f,g,_,B),g.child)}function jV(f,g,_,P,B){if(jo(_)){var H=!0;_S(g)}else H=!1;if(mm(g,B),g.stateNode===null)VS(f,g),NV(g,_,P),TI(g,_,P,B),P=!0;else if(f===null){var Z=g.stateNode,he=g.memoizedProps;Z.props=he;var pe=Z.context,Te=_.contextType;typeof Te=="object"&&Te!==null?Te=Qs(Te):(Te=jo(_)?ph:eo.current,Te=cm(g,Te));var He=_.getDerivedStateFromProps,qe=typeof He=="function"||typeof Z.getSnapshotBeforeUpdate=="function";qe||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(he!==P||pe!==Te)&&DV(g,Z,P,Te),Nd=!1;var ze=g.memoizedState;Z.state=ze,kS(g,P,Z,B),pe=g.memoizedState,he!==P||ze!==pe||qo.current||Nd?(typeof He=="function"&&(CI(g,_,He,P),pe=g.memoizedState),(he=Nd||MV(g,_,he,P,ze,pe,Te))?(qe||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=P,g.memoizedState=pe),Z.props=P,Z.state=pe,Z.context=Te,P=he):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),P=!1)}else{Z=g.stateNode,aV(f,g),he=g.memoizedProps,Te=g.type===g.elementType?he:Oa(g.type,he),Z.props=Te,qe=g.pendingProps,ze=Z.context,pe=_.contextType,typeof pe=="object"&&pe!==null?pe=Qs(pe):(pe=jo(_)?ph:eo.current,pe=cm(g,pe));var ft=_.getDerivedStateFromProps;(He=typeof ft=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(he!==qe||ze!==pe)&&DV(g,Z,P,pe),Nd=!1,ze=g.memoizedState,Z.state=ze,kS(g,P,Z,B);var xt=g.memoizedState;he!==qe||ze!==xt||qo.current||Nd?(typeof ft=="function"&&(CI(g,_,ft,P),xt=g.memoizedState),(Te=Nd||MV(g,_,Te,P,ze,xt,pe)||!1)?(He||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(P,xt,pe),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(P,xt,pe)),typeof Z.componentDidUpdate=="function"&&(g.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof Z.componentDidUpdate!="function"||he===f.memoizedProps&&ze===f.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||he===f.memoizedProps&&ze===f.memoizedState||(g.flags|=1024),g.memoizedProps=P,g.memoizedState=xt),Z.props=P,Z.state=xt,Z.context=pe,P=Te):(typeof Z.componentDidUpdate!="function"||he===f.memoizedProps&&ze===f.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||he===f.memoizedProps&&ze===f.memoizedState||(g.flags|=1024),P=!1)}return II(f,g,_,P,H,B)}function II(f,g,_,P,B,H){qV(f,g);var Z=(g.flags&128)!==0;if(!P&&!Z)return B&&XB(g,_,!1),rc(f,g,H);P=g.stateNode,ule.current=g;var he=Z&&typeof _.getDerivedStateFromError!="function"?null:P.render();return g.flags|=1,f!==null&&Z?(g.child=pm(g,f.child,null,H),g.child=pm(g,null,he,H)):To(f,g,he,H),g.memoizedState=P.state,B&&XB(g,_,!0),g.child}function WV(f){var g=f.stateNode;g.pendingContext?KB(f,g.pendingContext,g.pendingContext!==g.context):g.context&&KB(f,g.context,!1),hI(f,g.containerInfo)}function GV(f,g,_,P,B){return hm(),sI(B),g.flags|=256,To(f,g,_,P),g.child}var kI={dehydrated:null,treeContext:null,retryLane:0};function MI(f){return{baseLanes:f,cachePool:null,transitions:null}}function KV(f,g,_){var P=g.pendingProps,B=Ar.current,H=!1,Z=(g.flags&128)!==0,he;if((he=Z)||(he=f!==null&&f.memoizedState===null?!1:(B&2)!==0),he?(H=!0,g.flags&=-129):(f===null||f.memoizedState!==null)&&(B|=1),cr(Ar,B&1),f===null)return oI(g),f=g.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((g.mode&1)===0?g.lanes=1:f.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(Z=P.children,f=P.fallback,H?(P=g.mode,H=g.child,Z={mode:"hidden",children:Z},(P&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=Z):H=QS(Z,P,0,null),f=Eh(f,P,_,null),H.return=g,f.return=g,H.sibling=f,g.child=H,g.child.memoizedState=MI(_),g.memoizedState=kI,f):NI(g,Z));if(B=f.memoizedState,B!==null&&(he=B.dehydrated,he!==null))return cle(f,g,Z,P,he,B,_);if(H){H=P.fallback,Z=g.mode,B=f.child,he=B.sibling;var pe={mode:"hidden",children:P.children};return(Z&1)===0&&g.child!==B?(P=g.child,P.childLanes=0,P.pendingProps=pe,g.deletions=null):(P=Vd(B,pe),P.subtreeFlags=B.subtreeFlags&14680064),he!==null?H=Vd(he,H):(H=Eh(H,Z,_,null),H.flags|=2),H.return=g,P.return=g,P.sibling=H,g.child=P,P=H,H=g.child,Z=f.child.memoizedState,Z=Z===null?MI(_):{baseLanes:Z.baseLanes|_,cachePool:null,transitions:Z.transitions},H.memoizedState=Z,H.childLanes=f.childLanes&~_,g.memoizedState=kI,P}return H=f.child,f=H.sibling,P=Vd(H,{mode:"visible",children:P.children}),(g.mode&1)===0&&(P.lanes=_),P.return=g,P.sibling=null,f!==null&&(_=g.deletions,_===null?(g.deletions=[f],g.flags|=16):_.push(f)),g.child=P,g.memoizedState=null,P}function NI(f,g){return g=QS({mode:"visible",children:g},f.mode,0,null),g.return=f,f.child=g}function BS(f,g,_,P){return P!==null&&sI(P),pm(g,f.child,null,_),f=NI(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function cle(f,g,_,P,B,H,Z){if(_)return g.flags&256?(g.flags&=-257,P=AI(Error(n(422))),BS(f,g,Z,P)):g.memoizedState!==null?(g.child=f.child,g.flags|=128,null):(H=P.fallback,B=g.mode,P=QS({mode:"visible",children:P.children},B,0,null),H=Eh(H,B,Z,null),H.flags|=2,P.return=g,H.return=g,P.sibling=H,g.child=P,(g.mode&1)!==0&&pm(g,f.child,null,Z),g.child.memoizedState=MI(Z),g.memoizedState=kI,H);if((g.mode&1)===0)return BS(f,g,Z,null);if(B.data==="$!"){if(P=B.nextSibling&&B.nextSibling.dataset,P)var he=P.dgst;return P=he,H=Error(n(419)),P=AI(H,P,void 0),BS(f,g,Z,P)}if(he=(Z&f.childLanes)!==0,Wo||he){if(P=Ai,P!==null){switch(Z&-Z){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(P.suspendedLanes|Z))!==0?0:B,B!==0&&B!==H.retryLane&&(H.retryLane=B,tc(f,B),Ba(P,f,B,-1))}return YI(),P=AI(Error(n(421))),BS(f,g,Z,P)}return B.data==="$?"?(g.flags|=128,g.child=f.child,g=Sle.bind(null,f),B._reactRetry=g,null):(f=H.treeContext,_s=Pd(B.nextSibling),ws=g,_r=!0,La=null,f!==null&&(Xs[Js++]=Zu,Xs[Js++]=ec,Xs[Js++]=gh,Zu=f.id,ec=f.overflow,gh=g),g=NI(g,P.children),g.flags|=4096,g)}function YV(f,g,_){f.lanes|=g;var P=f.alternate;P!==null&&(P.lanes|=g),cI(f.return,g,_)}function DI(f,g,_,P,B){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:P,tail:_,tailMode:B}:(H.isBackwards=g,H.rendering=null,H.renderingStartTime=0,H.last=P,H.tail=_,H.tailMode=B)}function XV(f,g,_){var P=g.pendingProps,B=P.revealOrder,H=P.tail;if(To(f,g,P.children,_),P=Ar.current,(P&2)!==0)P=P&1|2,g.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&YV(f,_,g);else if(f.tag===19)YV(f,_,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}P&=1}if(cr(Ar,P),(g.mode&1)===0)g.memoizedState=null;else switch(B){case"forwards":for(_=g.child,B=null;_!==null;)f=_.alternate,f!==null&&MS(f)===null&&(B=_),_=_.sibling;_=B,_===null?(B=g.child,g.child=null):(B=_.sibling,_.sibling=null),DI(g,!1,B,_,H);break;case"backwards":for(_=null,B=g.child,g.child=null;B!==null;){if(f=B.alternate,f!==null&&MS(f)===null){g.child=B;break}f=B.sibling,B.sibling=_,_=B,B=f}DI(g,!0,_,null,H);break;case"together":DI(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function VS(f,g){(g.mode&1)===0&&f!==null&&(f.alternate=null,g.alternate=null,g.flags|=2)}function rc(f,g,_){if(f!==null&&(g.dependencies=f.dependencies),xh|=g.lanes,(_&g.childLanes)===0)return null;if(f!==null&&g.child!==f.child)throw Error(n(153));if(g.child!==null){for(f=g.child,_=Vd(f,f.pendingProps),g.child=_,_.return=g;f.sibling!==null;)f=f.sibling,_=_.sibling=Vd(f,f.pendingProps),_.return=g;_.sibling=null}return g.child}function dle(f,g,_){switch(g.tag){case 3:WV(g),hm();break;case 5:cV(g);break;case 1:jo(g.type)&&_S(g);break;case 4:hI(g,g.stateNode.containerInfo);break;case 10:var P=g.type._context,B=g.memoizedProps.value;cr(RS,P._currentValue),P._currentValue=B;break;case 13:if(P=g.memoizedState,P!==null)return P.dehydrated!==null?(cr(Ar,Ar.current&1),g.flags|=128,null):(_&g.child.childLanes)!==0?KV(f,g,_):(cr(Ar,Ar.current&1),f=rc(f,g,_),f!==null?f.sibling:null);cr(Ar,Ar.current&1);break;case 19:if(P=(_&g.childLanes)!==0,(f.flags&128)!==0){if(P)return XV(f,g,_);g.flags|=128}if(B=g.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),cr(Ar,Ar.current),P)break;return null;case 22:case 23:return g.lanes=0,HV(f,g,_)}return rc(f,g,_)}var JV,LI,QV,ZV;JV=function(f,g){for(var _=g.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===g)break;for(;_.sibling===null;){if(_.return===null||_.return===g)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},LI=function(){},QV=function(f,g,_,P){var B=f.memoizedProps;if(B!==P){f=g.stateNode,vh(Vl.current);var H=null;switch(_){case"input":B=Ee(f,B),P=Ee(f,P),H=[];break;case"select":B=j({},B,{value:void 0}),P=j({},P,{value:void 0}),H=[];break;case"textarea":B=Pe(f,B),P=Pe(f,P),H=[];break;default:typeof B.onClick!="function"&&typeof P.onClick=="function"&&(f.onclick=bS)}Lt(_,P);var Z;_=null;for(Te in B)if(!P.hasOwnProperty(Te)&&B.hasOwnProperty(Te)&&B[Te]!=null)if(Te==="style"){var he=B[Te];for(Z in he)he.hasOwnProperty(Z)&&(_||(_={}),_[Z]="")}else Te!=="dangerouslySetInnerHTML"&&Te!=="children"&&Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&Te!=="autoFocus"&&(i.hasOwnProperty(Te)?H||(H=[]):(H=H||[]).push(Te,null));for(Te in P){var pe=P[Te];if(he=B!=null?B[Te]:void 0,P.hasOwnProperty(Te)&&pe!==he&&(pe!=null||he!=null))if(Te==="style")if(he){for(Z in he)!he.hasOwnProperty(Z)||pe&&pe.hasOwnProperty(Z)||(_||(_={}),_[Z]="");for(Z in pe)pe.hasOwnProperty(Z)&&he[Z]!==pe[Z]&&(_||(_={}),_[Z]=pe[Z])}else _||(H||(H=[]),H.push(Te,_)),_=pe;else Te==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,he=he?he.__html:void 0,pe!=null&&he!==pe&&(H=H||[]).push(Te,pe)):Te==="children"?typeof pe!="string"&&typeof pe!="number"||(H=H||[]).push(Te,""+pe):Te!=="suppressContentEditableWarning"&&Te!=="suppressHydrationWarning"&&(i.hasOwnProperty(Te)?(pe!=null&&Te==="onScroll"&&gr("scroll",f),H||he===pe||(H=[])):(H=H||[]).push(Te,pe))}_&&(H=H||[]).push("style",_);var Te=H;(g.updateQueue=Te)&&(g.flags|=4)}},ZV=function(f,g,_,P){_!==P&&(g.flags|=4)};function ib(f,g){if(!_r)switch(f.tailMode){case"hidden":g=f.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var P=null;_!==null;)_.alternate!==null&&(P=_),_=_.sibling;P===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:P.sibling=null}}function no(f){var g=f.alternate!==null&&f.alternate.child===f.child,_=0,P=0;if(g)for(var B=f.child;B!==null;)_|=B.lanes|B.childLanes,P|=B.subtreeFlags&14680064,P|=B.flags&14680064,B.return=f,B=B.sibling;else for(B=f.child;B!==null;)_|=B.lanes|B.childLanes,P|=B.subtreeFlags,P|=B.flags,B.return=f,B=B.sibling;return f.subtreeFlags|=P,f.childLanes=_,g}function fle(f,g,_){var P=g.pendingProps;switch(rI(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return no(g),null;case 1:return jo(g.type)&&wS(),no(g),null;case 3:return P=g.stateNode,ym(),mr(qo),mr(eo),mI(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(f===null||f.child===null)&&(TS(g)?g.flags|=4:f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,La!==null&&(WI(La),La=null))),LI(f,g),no(g),null;case 5:pI(g);var B=vh(Z0.current);if(_=g.type,f!==null&&g.stateNode!=null)QV(f,g,_,P,B),f.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!P){if(g.stateNode===null)throw Error(n(166));return no(g),null}if(f=vh(Vl.current),TS(g)){P=g.stateNode,_=g.type;var H=g.memoizedProps;switch(P[Bl]=g,P[K0]=H,f=(g.mode&1)!==0,_){case"dialog":gr("cancel",P),gr("close",P);break;case"iframe":case"object":case"embed":gr("load",P);break;case"video":case"audio":for(B=0;B<j0.length;B++)gr(j0[B],P);break;case"source":gr("error",P);break;case"img":case"image":case"link":gr("error",P),gr("load",P);break;case"details":gr("toggle",P);break;case"input":Me(P,H),gr("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!H.multiple},gr("invalid",P);break;case"textarea":ut(P,H),gr("invalid",P)}Lt(_,H),B=null;for(var Z in H)if(H.hasOwnProperty(Z)){var he=H[Z];Z==="children"?typeof he=="string"?P.textContent!==he&&(H.suppressHydrationWarning!==!0&&vS(P.textContent,he,f),B=["children",he]):typeof he=="number"&&P.textContent!==""+he&&(H.suppressHydrationWarning!==!0&&vS(P.textContent,he,f),B=["children",""+he]):i.hasOwnProperty(Z)&&he!=null&&Z==="onScroll"&&gr("scroll",P)}switch(_){case"input":ge(P),Oe(P,H,!0);break;case"textarea":ge(P),mt(P);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(P.onclick=bS)}P=B,g.updateQueue=P,P!==null&&(g.flags|=4)}else{Z=B.nodeType===9?B:B.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=ve(_)),f==="http://www.w3.org/1999/xhtml"?_==="script"?(f=Z.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof P.is=="string"?f=Z.createElement(_,{is:P.is}):(f=Z.createElement(_),_==="select"&&(Z=f,P.multiple?Z.multiple=!0:P.size&&(Z.size=P.size))):f=Z.createElementNS(f,_),f[Bl]=g,f[K0]=P,JV(f,g,!1,!1),g.stateNode=f;e:{switch(Z=pn(_,P),_){case"dialog":gr("cancel",f),gr("close",f),B=P;break;case"iframe":case"object":case"embed":gr("load",f),B=P;break;case"video":case"audio":for(B=0;B<j0.length;B++)gr(j0[B],f);B=P;break;case"source":gr("error",f),B=P;break;case"img":case"image":case"link":gr("error",f),gr("load",f),B=P;break;case"details":gr("toggle",f),B=P;break;case"input":Me(f,P),B=Ee(f,P),gr("invalid",f);break;case"option":B=P;break;case"select":f._wrapperState={wasMultiple:!!P.multiple},B=j({},P,{value:void 0}),gr("invalid",f);break;case"textarea":ut(f,P),B=Pe(f,P),gr("invalid",f);break;default:B=P}Lt(_,B),he=B;for(H in he)if(he.hasOwnProperty(H)){var pe=he[H];H==="style"?en(f,pe):H==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&nt(f,pe)):H==="children"?typeof pe=="string"?(_!=="textarea"||pe!=="")&&Re(f,pe):typeof pe=="number"&&Re(f,""+pe):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?pe!=null&&H==="onScroll"&&gr("scroll",f):pe!=null&&S(f,H,pe,Z))}switch(_){case"input":ge(f),Oe(f,P,!1);break;case"textarea":ge(f),mt(f);break;case"option":P.value!=null&&f.setAttribute("value",""+te(P.value));break;case"select":f.multiple=!!P.multiple,H=P.value,H!=null?dt(f,!!P.multiple,H,!1):P.defaultValue!=null&&dt(f,!!P.multiple,P.defaultValue,!0);break;default:typeof B.onClick=="function"&&(f.onclick=bS)}switch(_){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return no(g),null;case 6:if(f&&g.stateNode!=null)ZV(f,g,f.memoizedProps,P);else{if(typeof P!="string"&&g.stateNode===null)throw Error(n(166));if(_=vh(Z0.current),vh(Vl.current),TS(g)){if(P=g.stateNode,_=g.memoizedProps,P[Bl]=g,(H=P.nodeValue!==_)&&(f=ws,f!==null))switch(f.tag){case 3:vS(P.nodeValue,_,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&vS(P.nodeValue,_,(f.mode&1)!==0)}H&&(g.flags|=4)}else P=(_.nodeType===9?_:_.ownerDocument).createTextNode(P),P[Bl]=g,g.stateNode=P}return no(g),null;case 13:if(mr(Ar),P=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(_r&&_s!==null&&(g.mode&1)!==0&&(g.flags&128)===0)nV(),hm(),g.flags|=98560,H=!1;else if(H=TS(g),P!==null&&P.dehydrated!==null){if(f===null){if(!H)throw Error(n(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Bl]=g}else hm(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;no(g),H=!1}else La!==null&&(WI(La),La=null),H=!0;if(!H)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=_,g):(P=P!==null,P!==(f!==null&&f.memoizedState!==null)&&P&&(g.child.flags|=8192,(g.mode&1)!==0&&(f===null||(Ar.current&1)!==0?pi===0&&(pi=3):YI())),g.updateQueue!==null&&(g.flags|=4),no(g),null);case 4:return ym(),LI(f,g),f===null&&W0(g.stateNode.containerInfo),no(g),null;case 10:return uI(g.type._context),no(g),null;case 17:return jo(g.type)&&wS(),no(g),null;case 19:if(mr(Ar),H=g.memoizedState,H===null)return no(g),null;if(P=(g.flags&128)!==0,Z=H.rendering,Z===null)if(P)ib(H,!1);else{if(pi!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(Z=MS(f),Z!==null){for(g.flags|=128,ib(H,!1),P=Z.updateQueue,P!==null&&(g.updateQueue=P,g.flags|=4),g.subtreeFlags=0,P=_,_=g.child;_!==null;)H=_,f=P,H.flags&=14680066,Z=H.alternate,Z===null?(H.childLanes=0,H.lanes=f,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=Z.childLanes,H.lanes=Z.lanes,H.child=Z.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=Z.memoizedProps,H.memoizedState=Z.memoizedState,H.updateQueue=Z.updateQueue,H.type=Z.type,f=Z.dependencies,H.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),_=_.sibling;return cr(Ar,Ar.current&1|2),g.child}f=f.sibling}H.tail!==null&&Zn()>wm&&(g.flags|=128,P=!0,ib(H,!1),g.lanes=4194304)}else{if(!P)if(f=MS(Z),f!==null){if(g.flags|=128,P=!0,_=f.updateQueue,_!==null&&(g.updateQueue=_,g.flags|=4),ib(H,!0),H.tail===null&&H.tailMode==="hidden"&&!Z.alternate&&!_r)return no(g),null}else 2*Zn()-H.renderingStartTime>wm&&_!==1073741824&&(g.flags|=128,P=!0,ib(H,!1),g.lanes=4194304);H.isBackwards?(Z.sibling=g.child,g.child=Z):(_=H.last,_!==null?_.sibling=Z:g.child=Z,H.last=Z)}return H.tail!==null?(g=H.tail,H.rendering=g,H.tail=g.sibling,H.renderingStartTime=Zn(),g.sibling=null,_=Ar.current,cr(Ar,P?_&1|2:_&1),g):(no(g),null);case 22:case 23:return KI(),P=g.memoizedState!==null,f!==null&&f.memoizedState!==null!==P&&(g.flags|=8192),P&&(g.mode&1)!==0?(Ss&1073741824)!==0&&(no(g),g.subtreeFlags&6&&(g.flags|=8192)):no(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function hle(f,g){switch(rI(g),g.tag){case 1:return jo(g.type)&&wS(),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return ym(),mr(qo),mr(eo),mI(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 5:return pI(g),null;case 13:if(mr(Ar),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(n(340));hm()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return mr(Ar),null;case 4:return ym(),null;case 10:return uI(g.type._context),null;case 22:case 23:return KI(),null;case 24:return null;default:return null}}var zS=!1,ro=!1,ple=typeof WeakSet=="function"?WeakSet:Set,yt=null;function bm(f,g){var _=f.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(P){Dr(f,g,P)}else _.current=null}function OI(f,g,_){try{_()}catch(P){Dr(f,g,P)}}var ez=!1;function gle(f,g){if(KP=Td,f=MB(),VP(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else e:{_=(_=f.ownerDocument)&&_.defaultView||window;var P=_.getSelection&&_.getSelection();if(P&&P.rangeCount!==0){_=P.anchorNode;var B=P.anchorOffset,H=P.focusNode;P=P.focusOffset;try{_.nodeType,H.nodeType}catch{_=null;break e}var Z=0,he=-1,pe=-1,Te=0,He=0,qe=f,ze=null;t:for(;;){for(var ft;qe!==_||B!==0&&qe.nodeType!==3||(he=Z+B),qe!==H||P!==0&&qe.nodeType!==3||(pe=Z+P),qe.nodeType===3&&(Z+=qe.nodeValue.length),(ft=qe.firstChild)!==null;)ze=qe,qe=ft;for(;;){if(qe===f)break t;if(ze===_&&++Te===B&&(he=Z),ze===H&&++He===P&&(pe=Z),(ft=qe.nextSibling)!==null)break;qe=ze,ze=qe.parentNode}qe=ft}_=he===-1||pe===-1?null:{start:he,end:pe}}else _=null}_=_||{start:0,end:0}}else _=null;for(YP={focusedElem:f,selectionRange:_},Td=!1,yt=g;yt!==null;)if(g=yt,f=g.child,(g.subtreeFlags&1028)!==0&&f!==null)f.return=g,yt=f;else for(;yt!==null;){g=yt;try{var xt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var Ct=xt.memoizedProps,qr=xt.memoizedState,_e=g.stateNode,ye=_e.getSnapshotBeforeUpdate(g.elementType===g.type?Ct:Oa(g.type,Ct),qr);_e.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Se=g.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ge){Dr(g,g.return,Ge)}if(f=g.sibling,f!==null){f.return=g.return,yt=f;break}yt=g.return}return xt=ez,ez=!1,xt}function ob(f,g,_){var P=g.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var B=P=P.next;do{if((B.tag&f)===f){var H=B.destroy;B.destroy=void 0,H!==void 0&&OI(g,_,H)}B=B.next}while(B!==P)}}function US(f,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&f)===f){var P=_.create;_.destroy=P()}_=_.next}while(_!==g)}}function FI(f){var g=f.ref;if(g!==null){var _=f.stateNode;switch(f.tag){case 5:f=_;break;default:f=_}typeof g=="function"?g(f):g.current=f}}function tz(f){var g=f.alternate;g!==null&&(f.alternate=null,tz(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&(delete g[Bl],delete g[K0],delete g[ZP],delete g[Jae],delete g[Qae])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function nz(f){return f.tag===5||f.tag===3||f.tag===4}function rz(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||nz(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function $I(f,g,_){var P=f.tag;if(P===5||P===6)f=f.stateNode,g?_.nodeType===8?_.parentNode.insertBefore(f,g):_.insertBefore(f,g):(_.nodeType===8?(g=_.parentNode,g.insertBefore(f,_)):(g=_,g.appendChild(f)),_=_._reactRootContainer,_!=null||g.onclick!==null||(g.onclick=bS));else if(P!==4&&(f=f.child,f!==null))for($I(f,g,_),f=f.sibling;f!==null;)$I(f,g,_),f=f.sibling}function BI(f,g,_){var P=f.tag;if(P===5||P===6)f=f.stateNode,g?_.insertBefore(f,g):_.appendChild(f);else if(P!==4&&(f=f.child,f!==null))for(BI(f,g,_),f=f.sibling;f!==null;)BI(f,g,_),f=f.sibling}var Fi=null,Fa=!1;function Ld(f,g,_){for(_=_.child;_!==null;)iz(f,g,_),_=_.sibling}function iz(f,g,_){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(Ml,_)}catch{}switch(_.tag){case 5:ro||bm(_,g);case 6:var P=Fi,B=Fa;Fi=null,Ld(f,g,_),Fi=P,Fa=B,Fi!==null&&(Fa?(f=Fi,_=_.stateNode,f.nodeType===8?f.parentNode.removeChild(_):f.removeChild(_)):Fi.removeChild(_.stateNode));break;case 18:Fi!==null&&(Fa?(f=Fi,_=_.stateNode,f.nodeType===8?QP(f.parentNode,_):f.nodeType===1&&QP(f,_),Ma(f)):QP(Fi,_.stateNode));break;case 4:P=Fi,B=Fa,Fi=_.stateNode.containerInfo,Fa=!0,Ld(f,g,_),Fi=P,Fa=B;break;case 0:case 11:case 14:case 15:if(!ro&&(P=_.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){B=P=P.next;do{var H=B,Z=H.destroy;H=H.tag,Z!==void 0&&((H&2)!==0||(H&4)!==0)&&OI(_,g,Z),B=B.next}while(B!==P)}Ld(f,g,_);break;case 1:if(!ro&&(bm(_,g),P=_.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=_.memoizedProps,P.state=_.memoizedState,P.componentWillUnmount()}catch(he){Dr(_,g,he)}Ld(f,g,_);break;case 21:Ld(f,g,_);break;case 22:_.mode&1?(ro=(P=ro)||_.memoizedState!==null,Ld(f,g,_),ro=P):Ld(f,g,_);break;default:Ld(f,g,_)}}function oz(f){var g=f.updateQueue;if(g!==null){f.updateQueue=null;var _=f.stateNode;_===null&&(_=f.stateNode=new ple),g.forEach(function(P){var B=Ele.bind(null,f,P);_.has(P)||(_.add(P),P.then(B,B))})}}function $a(f,g){var _=g.deletions;if(_!==null)for(var P=0;P<_.length;P++){var B=_[P];try{var H=f,Z=g,he=Z;e:for(;he!==null;){switch(he.tag){case 5:Fi=he.stateNode,Fa=!1;break e;case 3:Fi=he.stateNode.containerInfo,Fa=!0;break e;case 4:Fi=he.stateNode.containerInfo,Fa=!0;break e}he=he.return}if(Fi===null)throw Error(n(160));iz(H,Z,B),Fi=null,Fa=!1;var pe=B.alternate;pe!==null&&(pe.return=null),B.return=null}catch(Te){Dr(B,g,Te)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)sz(g,f),g=g.sibling}function sz(f,g){var _=f.alternate,P=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if($a(g,f),Ul(f),P&4){try{ob(3,f,f.return),US(3,f)}catch(Ct){Dr(f,f.return,Ct)}try{ob(5,f,f.return)}catch(Ct){Dr(f,f.return,Ct)}}break;case 1:$a(g,f),Ul(f),P&512&&_!==null&&bm(_,_.return);break;case 5:if($a(g,f),Ul(f),P&512&&_!==null&&bm(_,_.return),f.flags&32){var B=f.stateNode;try{Re(B,"")}catch(Ct){Dr(f,f.return,Ct)}}if(P&4&&(B=f.stateNode,B!=null)){var H=f.memoizedProps,Z=_!==null?_.memoizedProps:H,he=f.type,pe=f.updateQueue;if(f.updateQueue=null,pe!==null)try{he==="input"&&H.type==="radio"&&H.name!=null&&st(B,H),pn(he,Z);var Te=pn(he,H);for(Z=0;Z<pe.length;Z+=2){var He=pe[Z],qe=pe[Z+1];He==="style"?en(B,qe):He==="dangerouslySetInnerHTML"?nt(B,qe):He==="children"?Re(B,qe):S(B,He,qe,Te)}switch(he){case"input":Ve(B,H);break;case"textarea":rt(B,H);break;case"select":var ze=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!H.multiple;var ft=H.value;ft!=null?dt(B,!!H.multiple,ft,!1):ze!==!!H.multiple&&(H.defaultValue!=null?dt(B,!!H.multiple,H.defaultValue,!0):dt(B,!!H.multiple,H.multiple?[]:"",!1))}B[K0]=H}catch(Ct){Dr(f,f.return,Ct)}}break;case 6:if($a(g,f),Ul(f),P&4){if(f.stateNode===null)throw Error(n(162));B=f.stateNode,H=f.memoizedProps;try{B.nodeValue=H}catch(Ct){Dr(f,f.return,Ct)}}break;case 3:if($a(g,f),Ul(f),P&4&&_!==null&&_.memoizedState.isDehydrated)try{Ma(g.containerInfo)}catch(Ct){Dr(f,f.return,Ct)}break;case 4:$a(g,f),Ul(f);break;case 13:$a(g,f),Ul(f),B=f.child,B.flags&8192&&(H=B.memoizedState!==null,B.stateNode.isHidden=H,!H||B.alternate!==null&&B.alternate.memoizedState!==null||(UI=Zn())),P&4&&oz(f);break;case 22:if(He=_!==null&&_.memoizedState!==null,f.mode&1?(ro=(Te=ro)||He,$a(g,f),ro=Te):$a(g,f),Ul(f),P&8192){if(Te=f.memoizedState!==null,(f.stateNode.isHidden=Te)&&!He&&(f.mode&1)!==0)for(yt=f,He=f.child;He!==null;){for(qe=yt=He;yt!==null;){switch(ze=yt,ft=ze.child,ze.tag){case 0:case 11:case 14:case 15:ob(4,ze,ze.return);break;case 1:bm(ze,ze.return);var xt=ze.stateNode;if(typeof xt.componentWillUnmount=="function"){P=ze,_=ze.return;try{g=P,xt.props=g.memoizedProps,xt.state=g.memoizedState,xt.componentWillUnmount()}catch(Ct){Dr(P,_,Ct)}}break;case 5:bm(ze,ze.return);break;case 22:if(ze.memoizedState!==null){uz(qe);continue}}ft!==null?(ft.return=ze,yt=ft):uz(qe)}He=He.sibling}e:for(He=null,qe=f;;){if(qe.tag===5){if(He===null){He=qe;try{B=qe.stateNode,Te?(H=B.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(he=qe.stateNode,pe=qe.memoizedProps.style,Z=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,he.style.display=$t("display",Z))}catch(Ct){Dr(f,f.return,Ct)}}}else if(qe.tag===6){if(He===null)try{qe.stateNode.nodeValue=Te?"":qe.memoizedProps}catch(Ct){Dr(f,f.return,Ct)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===f)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===f)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===f)break e;He===qe&&(He=null),qe=qe.return}He===qe&&(He=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:$a(g,f),Ul(f),P&4&&oz(f);break;case 21:break;default:$a(g,f),Ul(f)}}function Ul(f){var g=f.flags;if(g&2){try{e:{for(var _=f.return;_!==null;){if(nz(_)){var P=_;break e}_=_.return}throw Error(n(160))}switch(P.tag){case 5:var B=P.stateNode;P.flags&32&&(Re(B,""),P.flags&=-33);var H=rz(f);BI(f,H,B);break;case 3:case 4:var Z=P.stateNode.containerInfo,he=rz(f);$I(f,he,Z);break;default:throw Error(n(161))}}catch(pe){Dr(f,f.return,pe)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function mle(f,g,_){yt=f,az(f)}function az(f,g,_){for(var P=(f.mode&1)!==0;yt!==null;){var B=yt,H=B.child;if(B.tag===22&&P){var Z=B.memoizedState!==null||zS;if(!Z){var he=B.alternate,pe=he!==null&&he.memoizedState!==null||ro;he=zS;var Te=ro;if(zS=Z,(ro=pe)&&!Te)for(yt=B;yt!==null;)Z=yt,pe=Z.child,Z.tag===22&&Z.memoizedState!==null?cz(B):pe!==null?(pe.return=Z,yt=pe):cz(B);for(;H!==null;)yt=H,az(H),H=H.sibling;yt=B,zS=he,ro=Te}lz(f)}else(B.subtreeFlags&8772)!==0&&H!==null?(H.return=B,yt=H):lz(f)}}function lz(f){for(;yt!==null;){var g=yt;if((g.flags&8772)!==0){var _=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:ro||US(5,g);break;case 1:var P=g.stateNode;if(g.flags&4&&!ro)if(_===null)P.componentDidMount();else{var B=g.elementType===g.type?_.memoizedProps:Oa(g.type,_.memoizedProps);P.componentDidUpdate(B,_.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var H=g.updateQueue;H!==null&&uV(g,H,P);break;case 3:var Z=g.updateQueue;if(Z!==null){if(_=null,g.child!==null)switch(g.child.tag){case 5:_=g.child.stateNode;break;case 1:_=g.child.stateNode}uV(g,Z,_)}break;case 5:var he=g.stateNode;if(_===null&&g.flags&4){_=he;var pe=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&_.focus();break;case"img":pe.src&&(_.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Te=g.alternate;if(Te!==null){var He=Te.memoizedState;if(He!==null){var qe=He.dehydrated;qe!==null&&Ma(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ro||g.flags&512&&FI(g)}catch(ze){Dr(g,g.return,ze)}}if(g===f){yt=null;break}if(_=g.sibling,_!==null){_.return=g.return,yt=_;break}yt=g.return}}function uz(f){for(;yt!==null;){var g=yt;if(g===f){yt=null;break}var _=g.sibling;if(_!==null){_.return=g.return,yt=_;break}yt=g.return}}function cz(f){for(;yt!==null;){var g=yt;try{switch(g.tag){case 0:case 11:case 15:var _=g.return;try{US(4,g)}catch(pe){Dr(g,_,pe)}break;case 1:var P=g.stateNode;if(typeof P.componentDidMount=="function"){var B=g.return;try{P.componentDidMount()}catch(pe){Dr(g,B,pe)}}var H=g.return;try{FI(g)}catch(pe){Dr(g,H,pe)}break;case 5:var Z=g.return;try{FI(g)}catch(pe){Dr(g,Z,pe)}}}catch(pe){Dr(g,g.return,pe)}if(g===f){yt=null;break}var he=g.sibling;if(he!==null){he.return=g.return,yt=he;break}yt=g.return}}var yle=Math.ceil,HS=T.ReactCurrentDispatcher,VI=T.ReactCurrentOwner,ea=T.ReactCurrentBatchConfig,Ln=0,Ai=null,Zr=null,$i=0,Ss=0,xm=Id(0),pi=0,sb=null,xh=0,qS=0,zI=0,ab=null,Go=null,UI=0,wm=1/0,ic=null,jS=!1,HI=null,Od=null,WS=!1,Fd=null,GS=0,lb=0,qI=null,KS=-1,YS=0;function Ao(){return(Ln&6)!==0?Zn():KS!==-1?KS:KS=Zn()}function $d(f){return(f.mode&1)===0?1:(Ln&2)!==0&&$i!==0?$i&-$i:ele.transition!==null?(YS===0&&(YS=Wu()),YS):(f=Tn,f!==0||(f=window.event,f=f===void 0?16:O0(f.type)),f)}function Ba(f,g,_,P){if(50<lb)throw lb=0,qI=null,Error(n(185));_d(f,_,P),((Ln&2)===0||f!==Ai)&&(f===Ai&&((Ln&2)===0&&(qS|=_),pi===4&&Bd(f,$i)),Ko(f,P),_===1&&Ln===0&&(g.mode&1)===0&&(wm=Zn()+500,SS&&Md()))}function Ko(f,g){var _=f.callbackNode;vs(f,g);var P=ju(f,f===Ai?$i:0);if(P===0)_!==null&&sh(_),f.callbackNode=null,f.callbackPriority=0;else if(g=P&-P,f.callbackPriority!==g){if(_!=null&&sh(_),g===1)f.tag===0?Zae(fz.bind(null,f)):JB(fz.bind(null,f)),Yae(function(){(Ln&6)===0&&Md()}),_=null;else{switch(Ed(P)){case 1:_=qu;break;case 4:_=kl;break;case 16:_=zo;break;case 536870912:_=Ug;break;default:_=zo}_=xz(_,dz.bind(null,f))}f.callbackPriority=g,f.callbackNode=_}}function dz(f,g){if(KS=-1,YS=0,(Ln&6)!==0)throw Error(n(327));var _=f.callbackNode;if(_m()&&f.callbackNode!==_)return null;var P=ju(f,f===Ai?$i:0);if(P===0)return null;if((P&30)!==0||(P&f.expiredLanes)!==0||g)g=XS(f,P);else{g=P;var B=Ln;Ln|=2;var H=pz();(Ai!==f||$i!==g)&&(ic=null,wm=Zn()+500,_h(f,g));do try{xle();break}catch(he){hz(f,he)}while(!0);lI(),HS.current=H,Ln=B,Zr!==null?g=0:(Ai=null,$i=0,g=pi)}if(g!==0){if(g===2&&(B=Eo(f),B!==0&&(P=B,g=jI(f,B))),g===1)throw _=sb,_h(f,0),Bd(f,P),Ko(f,Zn()),_;if(g===6)Bd(f,P);else{if(B=f.current.alternate,(P&30)===0&&!vle(B)&&(g=XS(f,P),g===2&&(H=Eo(f),H!==0&&(P=H,g=jI(f,H))),g===1))throw _=sb,_h(f,0),Bd(f,P),Ko(f,Zn()),_;switch(f.finishedWork=B,f.finishedLanes=P,g){case 0:case 1:throw Error(n(345));case 2:Sh(f,Go,ic);break;case 3:if(Bd(f,P),(P&130023424)===P&&(g=UI+500-Zn(),10<g)){if(ju(f,0)!==0)break;if(B=f.suspendedLanes,(B&P)!==P){Ao(),f.pingedLanes|=f.suspendedLanes&B;break}f.timeoutHandle=JP(Sh.bind(null,f,Go,ic),g);break}Sh(f,Go,ic);break;case 4:if(Bd(f,P),(P&4194240)===P)break;for(g=f.eventTimes,B=-1;0<P;){var Z=31-Di(P);H=1<<Z,Z=g[Z],Z>B&&(B=Z),P&=~H}if(P=B,P=Zn()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*yle(P/1960))-P,10<P){f.timeoutHandle=JP(Sh.bind(null,f,Go,ic),P);break}Sh(f,Go,ic);break;case 5:Sh(f,Go,ic);break;default:throw Error(n(329))}}}return Ko(f,Zn()),f.callbackNode===_?dz.bind(null,f):null}function jI(f,g){var _=ab;return f.current.memoizedState.isDehydrated&&(_h(f,g).flags|=256),f=XS(f,g),f!==2&&(g=Go,Go=_,g!==null&&WI(g)),f}function WI(f){Go===null?Go=f:Go.push.apply(Go,f)}function vle(f){for(var g=f;;){if(g.flags&16384){var _=g.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var P=0;P<_.length;P++){var B=_[P],H=B.getSnapshot;B=B.value;try{if(!Da(H(),B))return!1}catch{return!1}}}if(_=g.child,g.subtreeFlags&16384&&_!==null)_.return=g,g=_;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Bd(f,g){for(g&=~zI,g&=~qS,f.suspendedLanes|=g,f.pingedLanes&=~g,f=f.expirationTimes;0<g;){var _=31-Di(g),P=1<<_;f[_]=-1,g&=~P}}function fz(f){if((Ln&6)!==0)throw Error(n(327));_m();var g=ju(f,0);if((g&1)===0)return Ko(f,Zn()),null;var _=XS(f,g);if(f.tag!==0&&_===2){var P=Eo(f);P!==0&&(g=P,_=jI(f,P))}if(_===1)throw _=sb,_h(f,0),Bd(f,g),Ko(f,Zn()),_;if(_===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=g,Sh(f,Go,ic),Ko(f,Zn()),null}function GI(f,g){var _=Ln;Ln|=1;try{return f(g)}finally{Ln=_,Ln===0&&(wm=Zn()+500,SS&&Md())}}function wh(f){Fd!==null&&Fd.tag===0&&(Ln&6)===0&&_m();var g=Ln;Ln|=1;var _=ea.transition,P=Tn;try{if(ea.transition=null,Tn=1,f)return f()}finally{Tn=P,ea.transition=_,Ln=g,(Ln&6)===0&&Md()}}function KI(){Ss=xm.current,mr(xm)}function _h(f,g){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;if(_!==-1&&(f.timeoutHandle=-1,Kae(_)),Zr!==null)for(_=Zr.return;_!==null;){var P=_;switch(rI(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&wS();break;case 3:ym(),mr(qo),mr(eo),mI();break;case 5:pI(P);break;case 4:ym();break;case 13:mr(Ar);break;case 19:mr(Ar);break;case 10:uI(P.type._context);break;case 22:case 23:KI()}_=_.return}if(Ai=f,Zr=f=Vd(f.current,null),$i=Ss=g,pi=0,sb=null,zI=qS=xh=0,Go=ab=null,yh!==null){for(g=0;g<yh.length;g++)if(_=yh[g],P=_.interleaved,P!==null){_.interleaved=null;var B=P.next,H=_.pending;if(H!==null){var Z=H.next;H.next=B,P.next=Z}_.pending=P}yh=null}return f}function hz(f,g){do{var _=Zr;try{if(lI(),NS.current=FS,DS){for(var P=Rr.memoizedState;P!==null;){var B=P.queue;B!==null&&(B.pending=null),P=P.next}DS=!1}if(bh=0,Ti=hi=Rr=null,eb=!1,tb=0,VI.current=null,_===null||_.return===null){pi=1,sb=g,Zr=null;break}e:{var H=f,Z=_.return,he=_,pe=g;if(g=$i,he.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Te=pe,He=he,qe=He.tag;if((He.mode&1)===0&&(qe===0||qe===11||qe===15)){var ze=He.alternate;ze?(He.updateQueue=ze.updateQueue,He.memoizedState=ze.memoizedState,He.lanes=ze.lanes):(He.updateQueue=null,He.memoizedState=null)}var ft=$V(Z);if(ft!==null){ft.flags&=-257,BV(ft,Z,he,H,g),ft.mode&1&&FV(H,Te,g),g=ft,pe=Te;var xt=g.updateQueue;if(xt===null){var Ct=new Set;Ct.add(pe),g.updateQueue=Ct}else xt.add(pe);break e}else{if((g&1)===0){FV(H,Te,g),YI();break e}pe=Error(n(426))}}else if(_r&&he.mode&1){var qr=$V(Z);if(qr!==null){(qr.flags&65536)===0&&(qr.flags|=256),BV(qr,Z,he,H,g),sI(vm(pe,he));break e}}H=pe=vm(pe,he),pi!==4&&(pi=2),ab===null?ab=[H]:ab.push(H),H=Z;do{switch(H.tag){case 3:H.flags|=65536,g&=-g,H.lanes|=g;var _e=LV(H,pe,g);lV(H,_e);break e;case 1:he=pe;var ye=H.type,Se=H.stateNode;if((H.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Od===null||!Od.has(Se)))){H.flags|=65536,g&=-g,H.lanes|=g;var Ge=OV(H,he,g);lV(H,Ge);break e}}H=H.return}while(H!==null)}mz(_)}catch(Tt){g=Tt,Zr===_&&_!==null&&(Zr=_=_.return);continue}break}while(!0)}function pz(){var f=HS.current;return HS.current=FS,f===null?FS:f}function YI(){(pi===0||pi===3||pi===2)&&(pi=4),Ai===null||(xh&268435455)===0&&(qS&268435455)===0||Bd(Ai,$i)}function XS(f,g){var _=Ln;Ln|=2;var P=pz();(Ai!==f||$i!==g)&&(ic=null,_h(f,g));do try{ble();break}catch(B){hz(f,B)}while(!0);if(lI(),Ln=_,HS.current=P,Zr!==null)throw Error(n(261));return Ai=null,$i=0,pi}function ble(){for(;Zr!==null;)gz(Zr)}function xle(){for(;Zr!==null&&!Bg();)gz(Zr)}function gz(f){var g=bz(f.alternate,f,Ss);f.memoizedProps=f.pendingProps,g===null?mz(f):Zr=g,VI.current=null}function mz(f){var g=f;do{var _=g.alternate;if(f=g.return,(g.flags&32768)===0){if(_=fle(_,g,Ss),_!==null){Zr=_;return}}else{if(_=hle(_,g),_!==null){_.flags&=32767,Zr=_;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{pi=6,Zr=null;return}}if(g=g.sibling,g!==null){Zr=g;return}Zr=g=f}while(g!==null);pi===0&&(pi=5)}function Sh(f,g,_){var P=Tn,B=ea.transition;try{ea.transition=null,Tn=1,wle(f,g,_,P)}finally{ea.transition=B,Tn=P}return null}function wle(f,g,_,P){do _m();while(Fd!==null);if((Ln&6)!==0)throw Error(n(327));_=f.finishedWork;var B=f.finishedLanes;if(_===null)return null;if(f.finishedWork=null,f.finishedLanes=0,_===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var H=_.lanes|_.childLanes;if(or(f,H),f===Ai&&(Zr=Ai=null,$i=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||WS||(WS=!0,xz(zo,function(){return _m(),null})),H=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||H){H=ea.transition,ea.transition=null;var Z=Tn;Tn=1;var he=Ln;Ln|=4,VI.current=null,gle(f,_),sz(_,f),zae(YP),Td=!!KP,YP=KP=null,f.current=_,mle(_),Vg(),Ln=he,Tn=Z,ea.transition=H}else f.current=_;if(WS&&(WS=!1,Fd=f,GS=B),H=f.pendingLanes,H===0&&(Od=null),Hg(_.stateNode),Ko(f,Zn()),g!==null)for(P=f.onRecoverableError,_=0;_<g.length;_++)B=g[_],P(B.value,{componentStack:B.stack,digest:B.digest});if(jS)throw jS=!1,f=HI,HI=null,f;return(GS&1)!==0&&f.tag!==0&&_m(),H=f.pendingLanes,(H&1)!==0?f===qI?lb++:(lb=0,qI=f):lb=0,Md(),null}function _m(){if(Fd!==null){var f=Ed(GS),g=ea.transition,_=Tn;try{if(ea.transition=null,Tn=16>f?16:f,Fd===null)var P=!1;else{if(f=Fd,Fd=null,GS=0,(Ln&6)!==0)throw Error(n(331));var B=Ln;for(Ln|=4,yt=f.current;yt!==null;){var H=yt,Z=H.child;if((yt.flags&16)!==0){var he=H.deletions;if(he!==null){for(var pe=0;pe<he.length;pe++){var Te=he[pe];for(yt=Te;yt!==null;){var He=yt;switch(He.tag){case 0:case 11:case 15:ob(8,He,H)}var qe=He.child;if(qe!==null)qe.return=He,yt=qe;else for(;yt!==null;){He=yt;var ze=He.sibling,ft=He.return;if(tz(He),He===Te){yt=null;break}if(ze!==null){ze.return=ft,yt=ze;break}yt=ft}}}var xt=H.alternate;if(xt!==null){var Ct=xt.child;if(Ct!==null){xt.child=null;do{var qr=Ct.sibling;Ct.sibling=null,Ct=qr}while(Ct!==null)}}yt=H}}if((H.subtreeFlags&2064)!==0&&Z!==null)Z.return=H,yt=Z;else e:for(;yt!==null;){if(H=yt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:ob(9,H,H.return)}var _e=H.sibling;if(_e!==null){_e.return=H.return,yt=_e;break e}yt=H.return}}var ye=f.current;for(yt=ye;yt!==null;){Z=yt;var Se=Z.child;if((Z.subtreeFlags&2064)!==0&&Se!==null)Se.return=Z,yt=Se;else e:for(Z=ye;yt!==null;){if(he=yt,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:US(9,he)}}catch(Tt){Dr(he,he.return,Tt)}if(he===Z){yt=null;break e}var Ge=he.sibling;if(Ge!==null){Ge.return=he.return,yt=Ge;break e}yt=he.return}}if(Ln=B,Md(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(Ml,f)}catch{}P=!0}return P}finally{Tn=_,ea.transition=g}}return!1}function yz(f,g,_){g=vm(_,g),g=LV(f,g,1),f=Dd(f,g,1),g=Ao(),f!==null&&(_d(f,1,g),Ko(f,g))}function Dr(f,g,_){if(f.tag===3)yz(f,f,_);else for(;g!==null;){if(g.tag===3){yz(g,f,_);break}else if(g.tag===1){var P=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Od===null||!Od.has(P))){f=vm(_,f),f=OV(g,f,1),g=Dd(g,f,1),f=Ao(),g!==null&&(_d(g,1,f),Ko(g,f));break}}g=g.return}}function _le(f,g,_){var P=f.pingCache;P!==null&&P.delete(g),g=Ao(),f.pingedLanes|=f.suspendedLanes&_,Ai===f&&($i&_)===_&&(pi===4||pi===3&&($i&130023424)===$i&&500>Zn()-UI?_h(f,0):zI|=_),Ko(f,g)}function vz(f,g){g===0&&((f.mode&1)===0?g=1:(g=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var _=Ao();f=tc(f,g),f!==null&&(_d(f,g,_),Ko(f,_))}function Sle(f){var g=f.memoizedState,_=0;g!==null&&(_=g.retryLane),vz(f,_)}function Ele(f,g){var _=0;switch(f.tag){case 13:var P=f.stateNode,B=f.memoizedState;B!==null&&(_=B.retryLane);break;case 19:P=f.stateNode;break;default:throw Error(n(314))}P!==null&&P.delete(g),vz(f,_)}var bz;bz=function(f,g,_){if(f!==null)if(f.memoizedProps!==g.pendingProps||qo.current)Wo=!0;else{if((f.lanes&_)===0&&(g.flags&128)===0)return Wo=!1,dle(f,g,_);Wo=(f.flags&131072)!==0}else Wo=!1,_r&&(g.flags&1048576)!==0&&QB(g,CS,g.index);switch(g.lanes=0,g.tag){case 2:var P=g.type;VS(f,g),f=g.pendingProps;var B=cm(g,eo.current);mm(g,_),B=bI(null,g,P,f,B,_);var H=xI();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,jo(P)?(H=!0,_S(g)):H=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,fI(g),B.updater=$S,g.stateNode=B,B._reactInternals=g,TI(g,P,f,_),g=II(null,g,P,!0,H,_)):(g.tag=0,_r&&H&&nI(g),To(null,g,B,_),g=g.child),g;case 16:P=g.elementType;e:{switch(VS(f,g),f=g.pendingProps,B=P._init,P=B(P._payload),g.type=P,B=g.tag=Tle(P),f=Oa(P,f),B){case 0:g=PI(null,g,P,f,_);break e;case 1:g=jV(null,g,P,f,_);break e;case 11:g=VV(null,g,P,f,_);break e;case 14:g=zV(null,g,P,Oa(P.type,f),_);break e}throw Error(n(306,P,""))}return g;case 0:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Oa(P,B),PI(f,g,P,B,_);case 1:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Oa(P,B),jV(f,g,P,B,_);case 3:e:{if(WV(g),f===null)throw Error(n(387));P=g.pendingProps,H=g.memoizedState,B=H.element,aV(f,g),kS(g,P,null,_);var Z=g.memoizedState;if(P=Z.element,H.isDehydrated)if(H={element:P,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},g.updateQueue.baseState=H,g.memoizedState=H,g.flags&256){B=vm(Error(n(423)),g),g=GV(f,g,P,_,B);break e}else if(P!==B){B=vm(Error(n(424)),g),g=GV(f,g,P,_,B);break e}else for(_s=Pd(g.stateNode.containerInfo.firstChild),ws=g,_r=!0,La=null,_=oV(g,null,P,_),g.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(hm(),P===B){g=rc(f,g,_);break e}To(f,g,P,_)}g=g.child}return g;case 5:return cV(g),f===null&&oI(g),P=g.type,B=g.pendingProps,H=f!==null?f.memoizedProps:null,Z=B.children,XP(P,B)?Z=null:H!==null&&XP(P,H)&&(g.flags|=32),qV(f,g),To(f,g,Z,_),g.child;case 6:return f===null&&oI(g),null;case 13:return KV(f,g,_);case 4:return hI(g,g.stateNode.containerInfo),P=g.pendingProps,f===null?g.child=pm(g,null,P,_):To(f,g,P,_),g.child;case 11:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Oa(P,B),VV(f,g,P,B,_);case 7:return To(f,g,g.pendingProps,_),g.child;case 8:return To(f,g,g.pendingProps.children,_),g.child;case 12:return To(f,g,g.pendingProps.children,_),g.child;case 10:e:{if(P=g.type._context,B=g.pendingProps,H=g.memoizedProps,Z=B.value,cr(RS,P._currentValue),P._currentValue=Z,H!==null)if(Da(H.value,Z)){if(H.children===B.children&&!qo.current){g=rc(f,g,_);break e}}else for(H=g.child,H!==null&&(H.return=g);H!==null;){var he=H.dependencies;if(he!==null){Z=H.child;for(var pe=he.firstContext;pe!==null;){if(pe.context===P){if(H.tag===1){pe=nc(-1,_&-_),pe.tag=2;var Te=H.updateQueue;if(Te!==null){Te=Te.shared;var He=Te.pending;He===null?pe.next=pe:(pe.next=He.next,He.next=pe),Te.pending=pe}}H.lanes|=_,pe=H.alternate,pe!==null&&(pe.lanes|=_),cI(H.return,_,g),he.lanes|=_;break}pe=pe.next}}else if(H.tag===10)Z=H.type===g.type?null:H.child;else if(H.tag===18){if(Z=H.return,Z===null)throw Error(n(341));Z.lanes|=_,he=Z.alternate,he!==null&&(he.lanes|=_),cI(Z,_,g),Z=H.sibling}else Z=H.child;if(Z!==null)Z.return=H;else for(Z=H;Z!==null;){if(Z===g){Z=null;break}if(H=Z.sibling,H!==null){H.return=Z.return,Z=H;break}Z=Z.return}H=Z}To(f,g,B.children,_),g=g.child}return g;case 9:return B=g.type,P=g.pendingProps.children,mm(g,_),B=Qs(B),P=P(B),g.flags|=1,To(f,g,P,_),g.child;case 14:return P=g.type,B=Oa(P,g.pendingProps),B=Oa(P.type,B),zV(f,g,P,B,_);case 15:return UV(f,g,g.type,g.pendingProps,_);case 17:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Oa(P,B),VS(f,g),g.tag=1,jo(P)?(f=!0,_S(g)):f=!1,mm(g,_),NV(g,P,B),TI(g,P,B,_),II(null,g,P,!0,f,_);case 19:return XV(f,g,_);case 22:return HV(f,g,_)}throw Error(n(156,g.tag))};function xz(f,g){return xd(f,g)}function Cle(f,g,_,P){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(f,g,_,P){return new Cle(f,g,_,P)}function XI(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Tle(f){if(typeof f=="function")return XI(f)?1:0;if(f!=null){if(f=f.$$typeof,f===V)return 11;if(f===W)return 14}return 2}function Vd(f,g){var _=f.alternate;return _===null?(_=ta(f.tag,g,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=g,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&14680064,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,g=f.dependencies,_.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_}function JS(f,g,_,P,B,H){var Z=2;if(P=f,typeof f=="function")XI(f)&&(Z=1);else if(typeof f=="string")Z=5;else e:switch(f){case R:return Eh(_.children,B,H,g);case M:Z=8,B|=8;break;case L:return f=ta(12,_,g,B|2),f.elementType=L,f.lanes=H,f;case $:return f=ta(13,_,g,B),f.elementType=$,f.lanes=H,f;case z:return f=ta(19,_,g,B),f.elementType=z,f.lanes=H,f;case J:return QS(_,B,H,g);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case I:Z=10;break e;case O:Z=9;break e;case V:Z=11;break e;case W:Z=14;break e;case K:Z=16,P=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return g=ta(Z,_,g,B),g.elementType=f,g.type=P,g.lanes=H,g}function Eh(f,g,_,P){return f=ta(7,f,P,g),f.lanes=_,f}function QS(f,g,_,P){return f=ta(22,f,P,g),f.elementType=J,f.lanes=_,f.stateNode={isHidden:!1},f}function JI(f,g,_){return f=ta(6,f,null,g),f.lanes=_,f}function QI(f,g,_){return g=ta(4,f.children!==null?f.children:[],f.key,g),g.lanes=_,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}function Ale(f,g,_,P,B){this.tag=g,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=P,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function ZI(f,g,_,P,B,H,Z,he,pe){return f=new Ale(f,g,_,he,pe),g===1?(g=1,H===!0&&(g|=8)):g=0,H=ta(3,null,null,g),f.current=H,H.stateNode=f,H.memoizedState={element:P,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},fI(H),f}function Rle(f,g,_){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:P==null?null:""+P,children:f,containerInfo:g,implementation:_}}function wz(f){if(!f)return kd;f=f._reactInternals;e:{if(Bo(f)!==f||f.tag!==1)throw Error(n(170));var g=f;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(jo(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(f.tag===1){var _=f.type;if(jo(_))return YB(f,_,g)}return g}function _z(f,g,_,P,B,H,Z,he,pe){return f=ZI(_,P,!0,f,B,H,Z,he,pe),f.context=wz(null),_=f.current,P=Ao(),B=$d(_),H=nc(P,B),H.callback=g??null,Dd(_,H,B),f.current.lanes=B,_d(f,B,P),Ko(f,P),f}function ZS(f,g,_,P){var B=g.current,H=Ao(),Z=$d(B);return _=wz(_),g.context===null?g.context=_:g.pendingContext=_,g=nc(H,Z),g.payload={element:f},P=P===void 0?null:P,P!==null&&(g.callback=P),f=Dd(B,g,Z),f!==null&&(Ba(f,B,Z,H),IS(f,B,Z)),Z}function eE(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function Sz(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<g?_:g}}function ek(f,g){Sz(f,g),(f=f.alternate)&&Sz(f,g)}function Ple(){return null}var Ez=typeof reportError=="function"?reportError:function(f){console.error(f)};function tk(f){this._internalRoot=f}tE.prototype.render=tk.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(n(409));ZS(f,g,null,null)},tE.prototype.unmount=tk.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;wh(function(){ZS(null,f,null,null)}),g[Ju]=null}};function tE(f){this._internalRoot=f}tE.prototype.unstable_scheduleHydration=function(f){if(f){var g=tS();f={blockedOn:null,target:f,priority:g};for(var _=0;_<Ll.length&&g!==0&&g<Ll[_].priority;_++);Ll.splice(_,0,f),_===0&&iS(f)}};function nk(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function nE(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function Cz(){}function Ile(f,g,_,P,B){if(B){if(typeof P=="function"){var H=P;P=function(){var Te=eE(Z);H.call(Te)}}var Z=_z(g,P,f,0,null,!1,!1,"",Cz);return f._reactRootContainer=Z,f[Ju]=Z.current,W0(f.nodeType===8?f.parentNode:f),wh(),Z}for(;B=f.lastChild;)f.removeChild(B);if(typeof P=="function"){var he=P;P=function(){var Te=eE(pe);he.call(Te)}}var pe=ZI(f,0,!1,null,null,!1,!1,"",Cz);return f._reactRootContainer=pe,f[Ju]=pe.current,W0(f.nodeType===8?f.parentNode:f),wh(function(){ZS(g,pe,_,P)}),pe}function rE(f,g,_,P,B){var H=_._reactRootContainer;if(H){var Z=H;if(typeof B=="function"){var he=B;B=function(){var pe=eE(Z);he.call(pe)}}ZS(g,Z,f,B)}else Z=Ile(_,g,f,B,P);return eE(Z)}Z1=function(f){switch(f.tag){case 3:var g=f.stateNode;if(g.current.memoizedState.isDehydrated){var _=Nl(g.pendingLanes);_!==0&&(Sd(g,_|1),Ko(g,Zn()),(Ln&6)===0&&(wm=Zn()+500,Md()))}break;case 13:wh(function(){var P=tc(f,1);if(P!==null){var B=Ao();Ba(P,f,1,B)}}),ek(f,1)}},Wg=function(f){if(f.tag===13){var g=tc(f,134217728);if(g!==null){var _=Ao();Ba(g,f,134217728,_)}ek(f,134217728)}},eS=function(f){if(f.tag===13){var g=$d(f),_=tc(f,g);if(_!==null){var P=Ao();Ba(_,f,g,P)}ek(f,g)}},tS=function(){return Tn},nS=function(f,g){var _=Tn;try{return Tn=f,g()}finally{Tn=_}},Ht=function(f,g,_){switch(g){case"input":if(Ve(f,_),g=_.name,_.type==="radio"&&g!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<_.length;g++){var P=_[g];if(P!==f&&P.form===f.form){var B=xS(P);if(!B)throw Error(n(90));xe(P),Ve(P,B)}}}break;case"textarea":rt(f,_);break;case"select":g=_.value,g!=null&&dt(f,!!_.multiple,g,!1)}},Hr=GI,Kt=wh;var kle={usingClientEntryPoint:!1,Events:[Y0,lm,xS,jt,En,GI]},ub={findFiberByHostInstance:hh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mle={bundleType:ub.bundleType,version:ub.version,rendererPackageName:ub.rendererPackageName,rendererConfig:ub.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=oh(f),f===null?null:f.stateNode},findFiberByHostInstance:ub.findFiberByHostInstance||Ple,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iE.isDisabled&&iE.supportsFiber)try{Ml=iE.inject(Mle),So=iE}catch{}}return Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kle,Yo.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nk(g))throw Error(n(200));return Rle(f,g,null,_)},Yo.createRoot=function(f,g){if(!nk(f))throw Error(n(299));var _=!1,P="",B=Ez;return g!=null&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(P=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),g=ZI(f,1,!1,null,null,_,!1,P,B),f[Ju]=g.current,W0(f.nodeType===8?f.parentNode:f),new tk(g)},Yo.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=oh(g),f=f===null?null:f.stateNode,f},Yo.flushSync=function(f){return wh(f)},Yo.hydrate=function(f,g,_){if(!nE(g))throw Error(n(200));return rE(null,f,g,!0,_)},Yo.hydrateRoot=function(f,g,_){if(!nk(f))throw Error(n(405));var P=_!=null&&_.hydratedSources||null,B=!1,H="",Z=Ez;if(_!=null&&(_.unstable_strictMode===!0&&(B=!0),_.identifierPrefix!==void 0&&(H=_.identifierPrefix),_.onRecoverableError!==void 0&&(Z=_.onRecoverableError)),g=_z(g,null,f,1,_??null,B,!1,H,Z),f[Ju]=g.current,W0(f),P)for(f=0;f<P.length;f++)_=P[f],B=_._getVersion,B=B(_._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[_,B]:g.mutableSourceEagerHydrationData.push(_,B);return new tE(g)},Yo.render=function(f,g,_){if(!nE(g))throw Error(n(200));return rE(null,f,g,!1,_)},Yo.unmountComponentAtNode=function(f){if(!nE(f))throw Error(n(40));return f._reactRootContainer?(wh(function(){rE(null,null,f,!1,function(){f._reactRootContainer=null,f[Ju]=null})}),!0):!1},Yo.unstable_batchedUpdates=GI,Yo.unstable_renderSubtreeIntoContainer=function(f,g,_,P){if(!nE(_))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return rE(f,g,_,!1,P)},Yo.version="18.3.1-next-f1338f8080-20240426",Yo}var Dz;function KA(){if(Dz)return sk.exports;Dz=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sk.exports=qle(),sk.exports}var Lz;function jle(){if(Lz)return oE;Lz=1;var t=KA();return oE.createRoot=t.createRoot,oE.hydrateRoot=t.hydrateRoot,oE}var RX=jle();function ci(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=ci(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Wle={value:()=>{}};function YA(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new lC(n)}function lC(t){this._=t}function Gle(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}lC.prototype=YA.prototype={constructor:lC,on:function(t,e){var n=this._,r=Gle(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Kle(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Oz(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Oz(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lC(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Kle(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Oz(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Wle,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var RL="http://www.w3.org/1999/xhtml";const Fz={svg:"http://www.w3.org/2000/svg",xhtml:RL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function XA(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Fz.hasOwnProperty(e)?{space:Fz[e],local:t}:t}function Yle(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===RL&&e.documentElement.namespaceURI===RL?e.createElement(t):e.createElementNS(n,t)}}function Xle(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function PX(t){var e=XA(t);return(e.local?Xle:Yle)(e)}function Jle(){}function j5(t){return t==null?Jle:function(){return this.querySelector(t)}}function Qle(t){typeof t!="function"&&(t=j5(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new js(r,this._parents)}function Zle(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function eue(){return[]}function IX(t){return t==null?eue:function(){return this.querySelectorAll(t)}}function tue(t){return function(){return Zle(t.apply(this,arguments))}}function nue(t){typeof t=="function"?t=tue(t):t=IX(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new js(r,i)}function kX(t){return function(){return this.matches(t)}}function MX(t){return function(e){return e.matches(t)}}var rue=Array.prototype.find;function iue(t){return function(){return rue.call(this.children,t)}}function oue(){return this.firstElementChild}function sue(t){return this.select(t==null?oue:iue(typeof t=="function"?t:MX(t)))}var aue=Array.prototype.filter;function lue(){return Array.from(this.children)}function uue(t){return function(){return aue.call(this.children,t)}}function cue(t){return this.selectAll(t==null?lue:uue(typeof t=="function"?t:MX(t)))}function due(t){typeof t!="function"&&(t=kX(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new js(r,this._parents)}function NX(t){return new Array(t.length)}function fue(){return new js(this._enter||this._groups.map(NX),this._parents)}function lT(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}lT.prototype={constructor:lT,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hue(t){return function(){return t}}function pue(t,e,n,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new lT(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function gue(t,e,n,r,i,o,s){var a,l,u=new Map,c=e.length,d=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(h[a]=p=s.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=s.call(t,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new lT(t,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function mue(t){return t.__data__}function yue(t,e){if(!arguments.length)return Array.from(this,mue);var n=e?gue:pue,r=this._parents,i=this._groups;typeof t!="function"&&(t=hue(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],h=d.length,p=vue(t.call(c,c&&c.__data__,u,r)),m=p.length,y=a[u]=new Array(m),x=s[u]=new Array(m),w=l[u]=new Array(h);n(c,d,y,x,w,p,e);for(var E=0,S=0,T,k;E<m;++E)if(T=y[E]){for(E>=S&&(S=E+1);!(k=x[S])&&++S<m;);T._next=k||null}}return s=new js(s,r),s._enter=a,s._exit=l,s}function vue(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bue(){return new js(this._exit||this._groups.map(NX),this._parents)}function xue(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function wue(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,h=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(h[m]=p);for(;l<i;++l)a[l]=n[l];return new js(a,this._parents)}function _ue(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Sue(t){t||(t=Eue);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new js(i,this._parents).order()}function Eue(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Cue(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Tue(){return Array.from(this)}function Aue(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Rue(){let t=0;for(const e of this)++t;return t}function Pue(){return!this.node()}function Iue(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function kue(t){return function(){this.removeAttribute(t)}}function Mue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nue(t,e){return function(){this.setAttribute(t,e)}}function Due(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Oue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Fue(t,e){var n=XA(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Mue:kue:typeof e=="function"?n.local?Oue:Lue:n.local?Due:Nue)(n,e))}function DX(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $ue(t){return function(){this.style.removeProperty(t)}}function Bue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Vue(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zue(t,e,n){return arguments.length>1?this.each((e==null?$ue:typeof e=="function"?Vue:Bue)(t,e,n??"")):Iv(this.node(),t)}function Iv(t,e){return t.style.getPropertyValue(e)||DX(t).getComputedStyle(t,null).getPropertyValue(e)}function Uue(t){return function(){delete this[t]}}function Hue(t,e){return function(){this[t]=e}}function que(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function jue(t,e){return arguments.length>1?this.each((e==null?Uue:typeof e=="function"?que:Hue)(t,e)):this.node()[t]}function LX(t){return t.trim().split(/^|\s+/)}function W5(t){return t.classList||new OX(t)}function OX(t){this._node=t,this._names=LX(t.getAttribute("class")||"")}OX.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function FX(t,e){for(var n=W5(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function $X(t,e){for(var n=W5(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wue(t){return function(){FX(this,t)}}function Gue(t){return function(){$X(this,t)}}function Kue(t,e){return function(){(e.apply(this,arguments)?FX:$X)(this,t)}}function Yue(t,e){var n=LX(t+"");if(arguments.length<2){for(var r=W5(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Kue:e?Wue:Gue)(n,e))}function Xue(){this.textContent=""}function Jue(t){return function(){this.textContent=t}}function Que(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Zue(t){return arguments.length?this.each(t==null?Xue:(typeof t=="function"?Que:Jue)(t)):this.node().textContent}function ece(){this.innerHTML=""}function tce(t){return function(){this.innerHTML=t}}function nce(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function rce(t){return arguments.length?this.each(t==null?ece:(typeof t=="function"?nce:tce)(t)):this.node().innerHTML}function ice(){this.nextSibling&&this.parentNode.appendChild(this)}function oce(){return this.each(ice)}function sce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ace(){return this.each(sce)}function lce(t){var e=typeof t=="function"?t:PX(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function uce(){return null}function cce(t,e){var n=typeof t=="function"?t:PX(t),r=e==null?uce:typeof e=="function"?e:j5(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function dce(){var t=this.parentNode;t&&t.removeChild(this)}function fce(){return this.each(dce)}function hce(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pce(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function gce(t){return this.select(t?pce:hce)}function mce(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yce(t){return function(e){t.call(this,e,this.__data__)}}function vce(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function bce(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function xce(t,e,n){return function(){var r=this.__on,i,o=yce(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function wce(t,e,n){var r=vce(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?xce:bce,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function BX(t,e,n){var r=DX(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function _ce(t,e){return function(){return BX(this,t,e)}}function Sce(t,e){return function(){return BX(this,t,e.apply(this,arguments))}}function Ece(t,e){return this.each((typeof e=="function"?Sce:_ce)(t,e))}function*Cce(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var VX=[null];function js(t,e){this._groups=t,this._parents=e}function f1(){return new js([[document.documentElement]],VX)}function Tce(){return this}js.prototype=f1.prototype={constructor:js,select:Qle,selectAll:nue,selectChild:sue,selectChildren:cue,filter:due,data:yue,enter:fue,exit:bue,join:xue,merge:wue,selection:Tce,order:_ue,sort:Sue,call:Cue,nodes:Tue,node:Aue,size:Rue,empty:Pue,each:Iue,attr:Fue,style:zue,property:jue,classed:Yue,text:Zue,html:rce,raise:oce,lower:ace,append:lce,insert:cce,remove:fce,clone:gce,datum:mce,on:wce,dispatch:Ece,[Symbol.iterator]:Cce};function Yi(t){return typeof t=="string"?new js([[document.querySelector(t)]],[document.documentElement]):new js([[t]],VX)}function Ace(t){let e;for(;e=t.sourceEvent;)t=e;return t}function al(t,e){if(t=Ace(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Rce={passive:!1},Kx={capture:!0,passive:!1};function uk(t){t.stopImmediatePropagation()}function Sy(t){t.preventDefault(),t.stopImmediatePropagation()}function zX(t){var e=t.document.documentElement,n=Yi(t).on("dragstart.drag",Sy,Kx);"onselectstart"in e?n.on("selectstart.drag",Sy,Kx):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function UX(t,e){var n=t.document.documentElement,r=Yi(t).on("dragstart.drag",null);e&&(r.on("click.drag",Sy,Kx),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const sE=t=>()=>t;function PL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}PL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Pce(t){return!t.ctrlKey&&!t.button}function Ice(){return this.parentNode}function kce(t,e){return e??{x:t.x,y:t.y}}function Mce(){return navigator.maxTouchPoints||"ontouchstart"in this}function HX(){var t=Pce,e=Ice,n=kce,r=Mce,i={},o=YA("start","drag","end"),s=0,a,l,u,c,d=0;function h(T){T.on("mousedown.drag",p).filter(r).on("touchstart.drag",x).on("touchmove.drag",w,Rce).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(T,k){if(!(c||!t.call(this,T,k))){var N=S(this,e.call(this,T,k),T,k,"mouse");N&&(Yi(T.view).on("mousemove.drag",m,Kx).on("mouseup.drag",y,Kx),zX(T.view),uk(T),u=!1,a=T.clientX,l=T.clientY,N("start",T))}}function m(T){if(Sy(T),!u){var k=T.clientX-a,N=T.clientY-l;u=k*k+N*N>d}i.mouse("drag",T)}function y(T){Yi(T.view).on("mousemove.drag mouseup.drag",null),UX(T.view,u),Sy(T),i.mouse("end",T)}function x(T,k){if(t.call(this,T,k)){var N=T.changedTouches,R=e.call(this,T,k),M=N.length,L,I;for(L=0;L<M;++L)(I=S(this,R,T,k,N[L].identifier,N[L]))&&(uk(T),I("start",T,N[L]))}}function w(T){var k=T.changedTouches,N=k.length,R,M;for(R=0;R<N;++R)(M=i[k[R].identifier])&&(Sy(T),M("drag",T,k[R]))}function E(T){var k=T.changedTouches,N=k.length,R,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<N;++R)(M=i[k[R].identifier])&&(uk(T),M("end",T,k[R]))}function S(T,k,N,R,M,L){var I=o.copy(),O=al(L||N,k),V,$,z;if((z=n.call(T,new PL("beforestart",{sourceEvent:N,target:h,identifier:M,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),R))!=null)return V=z.x-O[0]||0,$=z.y-O[1]||0,function W(K,J,Q){var X=O,j;switch(K){case"start":i[M]=W,j=s++;break;case"end":delete i[M],--s;case"drag":O=al(Q||J,k),j=s;break}I.call(K,T,new PL(K,{sourceEvent:J,subject:z,target:h,identifier:M,active:j,x:O[0]+V,y:O[1]+$,dx:O[0]-X[0],dy:O[1]-X[1],dispatch:I}),R)}}return h.filter=function(T){return arguments.length?(t=typeof T=="function"?T:sE(!!T),h):t},h.container=function(T){return arguments.length?(e=typeof T=="function"?T:sE(T),h):e},h.subject=function(T){return arguments.length?(n=typeof T=="function"?T:sE(T),h):n},h.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:sE(!!T),h):r},h.on=function(){var T=o.on.apply(o,arguments);return T===o?h:T},h.clickDistance=function(T){return arguments.length?(d=(T=+T)*T,h):Math.sqrt(d)},h}function G5(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function h1(){}var Yx=.7,uT=1/Yx,Ey="\\s*([+-]?\\d+)\\s*",Xx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nce=/^#([0-9a-f]{3,8})$/,Dce=new RegExp(`^rgb\\(${Ey},${Ey},${Ey}\\)$`),Lce=new RegExp(`^rgb\\(${Su},${Su},${Su}\\)$`),Oce=new RegExp(`^rgba\\(${Ey},${Ey},${Ey},${Xx}\\)$`),Fce=new RegExp(`^rgba\\(${Su},${Su},${Su},${Xx}\\)$`),$ce=new RegExp(`^hsl\\(${Xx},${Su},${Su}\\)$`),Bce=new RegExp(`^hsla\\(${Xx},${Su},${Su},${Xx}\\)$`),$z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G5(h1,Hp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bz,formatHex:Bz,formatHex8:Vce,formatHsl:zce,formatRgb:Vz,toString:Vz});function Bz(){return this.rgb().formatHex()}function Vce(){return this.rgb().formatHex8()}function zce(){return jX(this).formatHsl()}function Vz(){return this.rgb().formatRgb()}function Hp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Nce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?zz(e):n===3?new rs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?aE(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?aE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dce.exec(t))?new rs(e[1],e[2],e[3],1):(e=Lce.exec(t))?new rs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oce.exec(t))?aE(e[1],e[2],e[3],e[4]):(e=Fce.exec(t))?aE(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$ce.exec(t))?qz(e[1],e[2]/100,e[3]/100,1):(e=Bce.exec(t))?qz(e[1],e[2]/100,e[3]/100,e[4]):$z.hasOwnProperty(t)?zz($z[t]):t==="transparent"?new rs(NaN,NaN,NaN,0):null}function zz(t){return new rs(t>>16&255,t>>8&255,t&255,1)}function aE(t,e,n,r){return r<=0&&(t=e=n=NaN),new rs(t,e,n,r)}function Uce(t){return t instanceof h1||(t=Hp(t)),t?(t=t.rgb(),new rs(t.r,t.g,t.b,t.opacity)):new rs}function IL(t,e,n,r){return arguments.length===1?Uce(t):new rs(t,e,n,r??1)}function rs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}G5(rs,IL,qX(h1,{brighter(t){return t=t==null?uT:Math.pow(uT,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yx:Math.pow(Yx,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rs(Bp(this.r),Bp(this.g),Bp(this.b),cT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uz,formatHex:Uz,formatHex8:Hce,formatRgb:Hz,toString:Hz}));function Uz(){return`#${Bh(this.r)}${Bh(this.g)}${Bh(this.b)}`}function Hce(){return`#${Bh(this.r)}${Bh(this.g)}${Bh(this.b)}${Bh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hz(){const t=cT(this.opacity);return`${t===1?"rgb(":"rgba("}${Bp(this.r)}, ${Bp(this.g)}, ${Bp(this.b)}${t===1?")":`, ${t})`}`}function cT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bh(t){return t=Bp(t),(t<16?"0":"")+t.toString(16)}function qz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ul(t,e,n,r)}function jX(t){if(t instanceof ul)return new ul(t.h,t.s,t.l,t.opacity);if(t instanceof h1||(t=Hp(t)),!t)return new ul;if(t instanceof ul)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ul(s,a,l,t.opacity)}function qce(t,e,n,r){return arguments.length===1?jX(t):new ul(t,e,n,r??1)}function ul(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}G5(ul,qce,qX(h1,{brighter(t){return t=t==null?uT:Math.pow(uT,t),new ul(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yx:Math.pow(Yx,t),new ul(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rs(ck(t>=240?t-240:t+120,i,r),ck(t,i,r),ck(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ul(jz(this.h),lE(this.s),lE(this.l),cT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cT(this.opacity);return`${t===1?"hsl(":"hsla("}${jz(this.h)}, ${lE(this.s)*100}%, ${lE(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jz(t){return t=(t||0)%360,t<0?t+360:t}function lE(t){return Math.max(0,Math.min(1,t||0))}function ck(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const K5=t=>()=>t;function jce(t,e){return function(n){return t+n*e}}function Wce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Gce(t){return(t=+t)==1?WX:function(e,n){return n-e?Wce(e,n,t):K5(isNaN(e)?n:e)}}function WX(t,e){var n=e-t;return n?jce(t,n):K5(isNaN(t)?e:t)}const dT=function t(e){var n=Gce(e);function r(i,o){var s=n((i=IL(i)).r,(o=IL(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=WX(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Kce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Yce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cy(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Jce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ll(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cy(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var kL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dk=new RegExp(kL.source,"g");function Zce(t){return function(){return t}}function ede(t){return function(e){return t(e)+""}}function GX(t,e){var n=kL.lastIndex=dk.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=kL.exec(t))&&(i=dk.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ll(r,i)})),n=dk.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?ede(l[0].x):Zce(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Cy(t,e){var n=typeof e,r;return e==null||n==="boolean"?K5(e):(n==="number"?ll:n==="string"?(r=Hp(e))?(e=r,dT):GX:e instanceof Hp?dT:e instanceof Date?Jce:Yce(e)?Kce:Array.isArray(e)?Xce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Qce:ll)(t,e)}function tde(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Wz=180/Math.PI,ML={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KX(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Wz,skewX:Math.atan(l)*Wz,scaleX:s,scaleY:a}}var uE;function nde(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ML:KX(e.a,e.b,e.c,e.d,e.e,e.f)}function rde(t){return t==null||(uE||(uE=document.createElementNS("http://www.w3.org/2000/svg","g")),uE.setAttribute("transform",t),!(t=uE.transform.baseVal.consolidate()))?ML:(t=t.matrix,KX(t.a,t.b,t.c,t.d,t.e,t.f))}function YX(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,h,p,m){if(u!==d||c!==h){var y=p.push("translate(",null,e,null,n);m.push({i:y-4,x:ll(u,d)},{i:y-2,x:ll(c,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ll(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ll(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,h,p,m){if(u!==d||c!==h){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:ll(u,d)},{i:y-2,x:ll(c,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,h),s(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(p){for(var m=-1,y=h.length,x;++m<y;)d[(x=h[m]).i]=x.x(p);return d.join("")}}}var ide=YX(nde,"px, ","px)","deg)"),ode=YX(rde,", ",")",")"),sde=1e-12;function Gz(t){return((t=Math.exp(t))+1/t)/2}function ade(t){return((t=Math.exp(t))-1/t)/2}function lde(t){return((t=Math.exp(2*t))-1)/(t+1)}const uC=function t(e,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],h=s[2],p=c-a,m=d-l,y=p*p+m*m,x,w;if(y<sde)w=Math.log(h/u)/e,x=function(R){return[a+R*p,l+R*m,u*Math.exp(e*R*w)]};else{var E=Math.sqrt(y),S=(h*h-u*u+r*y)/(2*u*n*E),T=(h*h-u*u-r*y)/(2*h*n*E),k=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(T*T+1)-T);w=(N-k)/e,x=function(R){var M=R*w,L=Gz(k),I=u/(n*E)*(L*lde(e*M+k)-ade(k));return[a+I*p,l+I*m,u*L/Gz(e*M+k)]}}return x.duration=w*1e3*e/Math.SQRT2,x}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return t(s,a,l)},i}(Math.SQRT2,2,4);var kv=0,qb=0,db=0,XX=1e3,fT,jb,hT=0,qp=0,JA=0,Jx=typeof performance=="object"&&performance.now?performance:Date,JX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Y5(){return qp||(JX(ude),qp=Jx.now()+JA)}function ude(){qp=0}function pT(){this._call=this._time=this._next=null}pT.prototype=QX.prototype={constructor:pT,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Y5():+n)+(e==null?0:+e),!this._next&&jb!==this&&(jb?jb._next=this:fT=this,jb=this),this._call=t,this._time=n,NL()},stop:function(){this._call&&(this._call=null,this._time=1/0,NL())}};function QX(t,e,n){var r=new pT;return r.restart(t,e,n),r}function cde(){Y5(),++kv;for(var t=fT,e;t;)(e=qp-t._time)>=0&&t._call.call(void 0,e),t=t._next;--kv}function Kz(){qp=(hT=Jx.now())+JA,kv=qb=0;try{cde()}finally{kv=0,fde(),qp=0}}function dde(){var t=Jx.now(),e=t-hT;e>XX&&(JA-=e,hT=t)}function fde(){for(var t,e=fT,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:fT=n);jb=t,NL(r)}function NL(t){if(!kv){qb&&(qb=clearTimeout(qb));var e=t-qp;e>24?(t<1/0&&(qb=setTimeout(Kz,t-Jx.now()-JA)),db&&(db=clearInterval(db))):(db||(hT=Jx.now(),db=setInterval(dde,XX)),kv=1,JX(Kz))}}function Yz(t,e,n){var r=new pT;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var hde=YA("start","end","cancel","interrupt"),pde=[],ZX=0,Xz=1,DL=2,cC=3,Jz=4,LL=5,dC=6;function QA(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;gde(t,n,{name:e,index:r,group:i,on:hde,tween:pde,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ZX})}function X5(t,e){var n=Sl(t,e);if(n.state>ZX)throw new Error("too late; already scheduled");return n}function Bu(t,e){var n=Sl(t,e);if(n.state>cC)throw new Error("too late; already running");return n}function Sl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gde(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=QX(o,0,n.time);function o(u){n.state=Xz,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,h,p;if(n.state!==Xz)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===cC)return Yz(s);p.state===Jz?(p.state=dC,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=dC,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Yz(function(){n.state===cC&&(n.state=Jz,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=DL,n.on.call("start",t,t.__data__,n.index,n.group),n.state===DL){for(n.state=cC,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=LL,1),d=-1,h=i.length;++d<h;)i[d].call(t,c);n.state===LL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=dC,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function fC(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>DL&&r.state<LL,r.state=dC,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function mde(t){return this.each(function(){fC(this,t)})}function yde(t,e){var n,r;return function(){var i=Bu(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function vde(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Bu(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function bde(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Sl(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?yde:vde)(n,t,e))}function J5(t,e,n){var r=t._id;return t.each(function(){var i=Bu(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Sl(i,r).value[e]}}function eJ(t,e){var n;return(typeof e=="number"?ll:e instanceof Hp?dT:(n=Hp(e))?(e=n,dT):GX)(t,e)}function xde(t){return function(){this.removeAttribute(t)}}function wde(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _de(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Sde(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Ede(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Cde(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Tde(t,e){var n=XA(t),r=n==="transform"?ode:eJ;return this.attrTween(t,typeof e=="function"?(n.local?Cde:Ede)(n,r,J5(this,"attr."+t,e)):e==null?(n.local?wde:xde)(n):(n.local?Sde:_de)(n,r,e))}function Ade(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Rde(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pde(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Rde(t,o)),n}return i._value=e,i}function Ide(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ade(t,o)),n}return i._value=e,i}function kde(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=XA(t);return this.tween(n,(r.local?Pde:Ide)(r,e))}function Mde(t,e){return function(){X5(this,t).delay=+e.apply(this,arguments)}}function Nde(t,e){return e=+e,function(){X5(this,t).delay=e}}function Dde(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Mde:Nde)(e,t)):Sl(this.node(),e).delay}function Lde(t,e){return function(){Bu(this,t).duration=+e.apply(this,arguments)}}function Ode(t,e){return e=+e,function(){Bu(this,t).duration=e}}function Fde(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Lde:Ode)(e,t)):Sl(this.node(),e).duration}function $de(t,e){if(typeof e!="function")throw new Error;return function(){Bu(this,t).ease=e}}function Bde(t){var e=this._id;return arguments.length?this.each($de(e,t)):Sl(this.node(),e).ease}function Vde(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Bu(this,t).ease=n}}function zde(t){if(typeof t!="function")throw new Error;return this.each(Vde(this._id,t))}function Ude(t){typeof t!="function"&&(t=kX(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Zc(r,this._parents,this._name,this._id)}function Hde(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=n[a],c=l.length,d=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(d[p]=h);for(;a<r;++a)s[a]=e[a];return new Zc(s,this._parents,this._name,this._id)}function qde(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jde(t,e,n){var r,i,o=qde(e)?X5:Bu;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Wde(t,e){var n=this._id;return arguments.length<2?Sl(this.node(),n).on.on(t):this.each(jde(n,t,e))}function Gde(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Kde(){return this.on("end.remove",Gde(this._id))}function Yde(t){var e=this._name,n=this._id;typeof t!="function"&&(t=j5(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=t.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,QA(u[h],e,n,h,u,Sl(c,n)));return new Zc(o,this._parents,e,n)}function Xde(t){var e=this._name,n=this._id;typeof t!="function"&&(t=IX(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=t.call(c,c.__data__,d,l),p,m=Sl(c,n),y=0,x=h.length;y<x;++y)(p=h[y])&&QA(p,e,n,y,h,m);o.push(h),s.push(c)}return new Zc(o,s,e,n)}var Jde=f1.prototype.constructor;function Qde(){return new Jde(this._groups,this._parents)}function Zde(t,e){var n,r,i;return function(){var o=Iv(this,t),s=(this.style.removeProperty(t),Iv(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function tJ(t){return function(){this.style.removeProperty(t)}}function efe(t,e,n){var r,i=n+"",o;return function(){var s=Iv(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function tfe(t,e,n){var r,i,o;return function(){var s=Iv(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Iv(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function nfe(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=Bu(this,t),u=l.on,c=l.value[o]==null?a||(a=tJ(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function rfe(t,e,n){var r=(t+="")=="transform"?ide:eJ;return e==null?this.styleTween(t,Zde(t,r)).on("end.style."+t,tJ(t)):typeof e=="function"?this.styleTween(t,tfe(t,r,J5(this,"style."+t,e))).each(nfe(this._id,t)):this.styleTween(t,efe(t,r,e),n).on("end.style."+t,null)}function ife(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ofe(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&ife(t,s,n)),r}return o._value=e,o}function sfe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ofe(t,e,n??""))}function afe(t){return function(){this.textContent=t}}function lfe(t){return function(){var e=t(this);this.textContent=e??""}}function ufe(t){return this.tween("text",typeof t=="function"?lfe(J5(this,"text",t)):afe(t==null?"":t+""))}function cfe(t){return function(e){this.textContent=t.call(this,e)}}function dfe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&cfe(i)),e}return r._value=t,r}function ffe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,dfe(t))}function hfe(){for(var t=this._name,e=this._id,n=nJ(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Sl(l,e);QA(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Zc(r,this._parents,t,n)}function pfe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Bu(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var gfe=0;function Zc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function nJ(){return++gfe}var oc=f1.prototype;Zc.prototype={constructor:Zc,select:Yde,selectAll:Xde,selectChild:oc.selectChild,selectChildren:oc.selectChildren,filter:Ude,merge:Hde,selection:Qde,transition:hfe,call:oc.call,nodes:oc.nodes,node:oc.node,size:oc.size,empty:oc.empty,each:oc.each,on:Wde,attr:Tde,attrTween:kde,style:rfe,styleTween:sfe,text:ufe,textTween:ffe,remove:Kde,tween:bde,delay:Dde,duration:Fde,ease:Bde,easeVarying:zde,end:pfe,[Symbol.iterator]:oc[Symbol.iterator]};function mfe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var yfe={time:null,delay:0,duration:250,ease:mfe};function vfe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function bfe(t){var e,n;t instanceof Zc?(e=t._id,t=t._name):(e=nJ(),(n=yfe).time=Y5(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&QA(l,t,e,u,s,n||vfe(l,e));return new Zc(r,this._parents,t,e)}f1.prototype.interrupt=mde;f1.prototype.transition=bfe;const cE=t=>()=>t;function xfe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Uc(t,e,n){this.k=t,this.x=e,this.y=n}Uc.prototype={constructor:Uc,scale:function(t){return t===1?this:new Uc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Uc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ZA=new Uc(1,0,0);rJ.prototype=Uc.prototype;function rJ(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ZA;return t.__zoom}function fk(t){t.stopImmediatePropagation()}function fb(t){t.preventDefault(),t.stopImmediatePropagation()}function wfe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function _fe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Qz(){return this.__zoom||ZA}function Sfe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Efe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cfe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function iJ(){var t=wfe,e=_fe,n=Cfe,r=Sfe,i=Efe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=uC,u=YA("start","zoom","end"),c,d,h,p=500,m=150,y=0,x=10;function w(z){z.property("__zoom",Qz).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(z,W,K,J){var Q=z.selection?z.selection():z;Q.property("__zoom",Qz),z!==Q?k(z,W,K,J):Q.interrupt().each(function(){N(this,arguments).event(J).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},w.scaleBy=function(z,W,K,J){w.scaleTo(z,function(){var Q=this.__zoom.k,X=typeof W=="function"?W.apply(this,arguments):W;return Q*X},K,J)},w.scaleTo=function(z,W,K,J){w.transform(z,function(){var Q=e.apply(this,arguments),X=this.__zoom,j=K==null?T(Q):typeof K=="function"?K.apply(this,arguments):K,Y=X.invert(j),ue=typeof W=="function"?W.apply(this,arguments):W;return n(S(E(X,ue),j,Y),Q,s)},K,J)},w.translateBy=function(z,W,K,J){w.transform(z,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),s)},null,J)},w.translateTo=function(z,W,K,J,Q){w.transform(z,function(){var X=e.apply(this,arguments),j=this.__zoom,Y=J==null?T(X):typeof J=="function"?J.apply(this,arguments):J;return n(ZA.translate(Y[0],Y[1]).scale(j.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof K=="function"?-K.apply(this,arguments):-K),X,s)},J,Q)};function E(z,W){return W=Math.max(o[0],Math.min(o[1],W)),W===z.k?z:new Uc(W,z.x,z.y)}function S(z,W,K){var J=W[0]-K[0]*z.k,Q=W[1]-K[1]*z.k;return J===z.x&&Q===z.y?z:new Uc(z.k,J,Q)}function T(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function k(z,W,K,J){z.on("start.zoom",function(){N(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(J).end()}).tween("zoom",function(){var Q=this,X=arguments,j=N(Q,X).event(J),Y=e.apply(Q,X),ue=K==null?T(Y):typeof K=="function"?K.apply(Q,X):K,q=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),de=Q.__zoom,se=typeof W=="function"?W.apply(Q,X):W,ee=l(de.invert(ue).concat(q/de.k),se.invert(ue).concat(q/se.k));return function(ae){if(ae===1)ae=se;else{var te=ee(ae),ce=q/te[2];ae=new Uc(ce,ue[0]-te[0]*ce,ue[1]-te[1]*ce)}j.zoom(null,ae)}})}function N(z,W,K){return!K&&z.__zooming||new R(z,W)}function R(z,W){this.that=z,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(z,W),this.taps=0}R.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,W){return this.mouse&&z!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var W=Yi(this.that).datum();u.call(z,this.that,new xfe(z,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:u}),W)}};function M(z,...W){if(!t.apply(this,arguments))return;var K=N(this,W).event(z),J=this.__zoom,Q=Math.max(o[0],Math.min(o[1],J.k*Math.pow(2,r.apply(this,arguments)))),X=al(z);if(K.wheel)(K.mouse[0][0]!==X[0]||K.mouse[0][1]!==X[1])&&(K.mouse[1]=J.invert(K.mouse[0]=X)),clearTimeout(K.wheel);else{if(J.k===Q)return;K.mouse=[X,J.invert(X)],fC(this),K.start()}fb(z),K.wheel=setTimeout(j,m),K.zoom("mouse",n(S(E(J,Q),K.mouse[0],K.mouse[1]),K.extent,s));function j(){K.wheel=null,K.end()}}function L(z,...W){if(h||!t.apply(this,arguments))return;var K=z.currentTarget,J=N(this,W,!0).event(z),Q=Yi(z.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",q,!0),X=al(z,K),j=z.clientX,Y=z.clientY;zX(z.view),fk(z),J.mouse=[X,this.__zoom.invert(X)],fC(this),J.start();function ue(de){if(fb(de),!J.moved){var se=de.clientX-j,ee=de.clientY-Y;J.moved=se*se+ee*ee>y}J.event(de).zoom("mouse",n(S(J.that.__zoom,J.mouse[0]=al(de,K),J.mouse[1]),J.extent,s))}function q(de){Q.on("mousemove.zoom mouseup.zoom",null),UX(de.view,J.moved),fb(de),J.event(de).end()}}function I(z,...W){if(t.apply(this,arguments)){var K=this.__zoom,J=al(z.changedTouches?z.changedTouches[0]:z,this),Q=K.invert(J),X=K.k*(z.shiftKey?.5:2),j=n(S(E(K,X),J,Q),e.apply(this,W),s);fb(z),a>0?Yi(this).transition().duration(a).call(k,j,J,z):Yi(this).call(w.transform,j,J,z)}}function O(z,...W){if(t.apply(this,arguments)){var K=z.touches,J=K.length,Q=N(this,W,z.changedTouches.length===J).event(z),X,j,Y,ue;for(fk(z),j=0;j<J;++j)Y=K[j],ue=al(Y,this),ue=[ue,this.__zoom.invert(ue),Y.identifier],Q.touch0?!Q.touch1&&Q.touch0[2]!==ue[2]&&(Q.touch1=ue,Q.taps=0):(Q.touch0=ue,X=!0,Q.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(Q.taps<2&&(d=ue[0],c=setTimeout(function(){c=null},p)),fC(this),Q.start())}}function V(z,...W){if(this.__zooming){var K=N(this,W).event(z),J=z.changedTouches,Q=J.length,X,j,Y,ue;for(fb(z),X=0;X<Q;++X)j=J[X],Y=al(j,this),K.touch0&&K.touch0[2]===j.identifier?K.touch0[0]=Y:K.touch1&&K.touch1[2]===j.identifier&&(K.touch1[0]=Y);if(j=K.that.__zoom,K.touch1){var q=K.touch0[0],de=K.touch0[1],se=K.touch1[0],ee=K.touch1[1],ae=(ae=se[0]-q[0])*ae+(ae=se[1]-q[1])*ae,te=(te=ee[0]-de[0])*te+(te=ee[1]-de[1])*te;j=E(j,Math.sqrt(ae/te)),Y=[(q[0]+se[0])/2,(q[1]+se[1])/2],ue=[(de[0]+ee[0])/2,(de[1]+ee[1])/2]}else if(K.touch0)Y=K.touch0[0],ue=K.touch0[1];else return;K.zoom("touch",n(S(j,Y,ue),K.extent,s))}}function $(z,...W){if(this.__zooming){var K=N(this,W).event(z),J=z.changedTouches,Q=J.length,X,j;for(fk(z),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),X=0;X<Q;++X)j=J[X],K.touch0&&K.touch0[2]===j.identifier?delete K.touch0:K.touch1&&K.touch1[2]===j.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(j=al(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<x)){var Y=Yi(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return w.wheelDelta=function(z){return arguments.length?(r=typeof z=="function"?z:cE(+z),w):r},w.filter=function(z){return arguments.length?(t=typeof z=="function"?z:cE(!!z),w):t},w.touchable=function(z){return arguments.length?(i=typeof z=="function"?z:cE(!!z),w):i},w.extent=function(z){return arguments.length?(e=typeof z=="function"?z:cE([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),w):e},w.scaleExtent=function(z){return arguments.length?(o[0]=+z[0],o[1]=+z[1],w):[o[0],o[1]]},w.translateExtent=function(z){return arguments.length?(s[0][0]=+z[0][0],s[1][0]=+z[1][0],s[0][1]=+z[0][1],s[1][1]=+z[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(z){return arguments.length?(n=z,w):n},w.duration=function(z){return arguments.length?(a=+z,w):a},w.interpolate=function(z){return arguments.length?(l=z,w):l},w.on=function(){var z=u.on.apply(u,arguments);return z===u?w:z},w.clickDistance=function(z){return arguments.length?(y=(z=+z)*z,w):Math.sqrt(y)},w.tapDistance=function(z){return arguments.length?(x=+z,w):x},w}const Mu={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Qx=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],oJ=["Enter"," ","Escape"],sJ={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Mv;(function(t){t.Strict="strict",t.Loose="loose"})(Mv||(Mv={}));var Vp;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Vp||(Vp={}));var Zx;(function(t){t.Partial="partial",t.Full="full"})(Zx||(Zx={}));const aJ={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var tf;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(tf||(tf={}));var Nv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Nv||(Nv={}));var gt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(gt||(gt={}));const Zz={[gt.Left]:gt.Right,[gt.Right]:gt.Left,[gt.Top]:gt.Bottom,[gt.Bottom]:gt.Top};function lJ(t){return t===null?null:t?"valid":"invalid"}const uJ=t=>"id"in t&&"source"in t&&"target"in t,Tfe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Q5=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),p1=(t,e=[0,0])=>{const{width:n,height:r}=ud(t),i=t.origin??e,o=n*i[0],s=r*i[1];return{x:t.position.x-o,y:t.position.y-s}},Afe=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let s=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(s=o?e.nodeLookup.get(i):Q5(i)?i:e.nodeLookup.get(i.id));const a=s?gT(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return eR(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tR(n)},g1=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=gT(r);n=eR(n,i)}}),tR(n)},Z5=(t,e,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...m1(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:h=!1}=u;if(s&&!d||h)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,y=ew(a,Lv(u)),x=(p??0)*(m??0),w=o&&y>0;(!u.internals.handleBounds||w||y>=x||u.dragging)&&l.push(u)}return l},Rfe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function Pfe(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Ife({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(t.size===0)return Promise.resolve(!0);const a=Pfe(t,s),l=g1(a),u=e$(l,e,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function cJ({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(t),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let d=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Mu.error005());else{const p=a.measured.width,m=a.measured.height;p&&m&&(d=[[l,u],[l+p,u+m]])}else a&&Ov(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const h=Ov(d)?jp(e,d,s.measured):e;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Mu.error015())),{position:{x:h.x-l+(s.measured.width??0)*c[0],y:h.y-u+(s.measured.height??0)*c[1]},positionAbsolute:h}}async function kfe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(h=>h.id)),s=[];for(const h of n){if(h.deletable===!1)continue;const p=o.has(h.id),m=!p&&h.parentId&&s.find(y=>y.id===h.parentId);(p||m)&&s.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),c=Rfe(s,l);for(const h of l)a.has(h.id)&&!c.find(m=>m.id===h.id)&&c.push(h);if(!i)return{edges:c,nodes:s};const d=await i({nodes:s,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}const Dv=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),jp=(t={x:0,y:0},e,n)=>({x:Dv(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Dv(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function dJ(t,e,n){const{width:r,height:i}=ud(n),{x:o,y:s}=n.internals.positionAbsolute;return jp(t,[[o,s],[o+r,s+i]],e)}const e6=(t,e,n)=>t<e?Dv(Math.abs(t-e),1,e)/e:t>n?-Dv(Math.abs(t-n),1,e)/e:0,fJ=(t,e,n=15,r=40)=>{const i=e6(t.x,r,e.width-r)*n,o=e6(t.y,r,e.height-r)*n;return[i,o]},eR=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),OL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),tR=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Lv=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=Q5(t)?t.internals.positionAbsolute:p1(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0}},gT=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=Q5(t)?t.internals.positionAbsolute:p1(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0)}},hJ=(t,e)=>tR(eR(OL(t),OL(e))),ew=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},t6=t=>dl(t.width)&&dl(t.height)&&dl(t.x)&&dl(t.y),dl=t=>!isNaN(t)&&isFinite(t),Mfe=(t,e)=>{},nR=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),m1=({x:t,y:e},[n,r,i],o=!1,s=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return o?nR(a,s):a},mT=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Sm(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Nfe(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Sm(t,n),i=Sm(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Sm(t.top??t.y??0,n),i=Sm(t.bottom??t.y??0,n),o=Sm(t.left??t.x??0,e),s=Sm(t.right??t.x??0,e);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Dfe(t,e,n,r,i,o){const{x:s,y:a}=mT(t,[e,n,r]),{x:l,y:u}=mT({x:t.x+t.width,y:t.y+t.height},[e,n,r]),c=i-l,d=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const e$=(t,e,n,r,i,o)=>{const s=Nfe(o,e,n),a=(e-s.x)/t.width,l=(n-s.y)/t.height,u=Math.min(a,l),c=Dv(u,r,i),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,m=n/2-h*c,y=Dfe(t,p,m,c,e,n),x={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:p-x.left+x.right,y:m-x.top+x.bottom,zoom:c}},yT=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Ov(t){return t!==void 0&&t!=="parent"}function ud(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function pJ(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function gJ(t,e={width:0,height:0},n,r,i){const o={...t},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(e.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(e.height??0)*a[1]}return o}function n6(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Lfe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Ofe(t){return{...sJ,...t||{}}}function Tx(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=qc(t),a=m1({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?nR(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const t$=t=>({width:t.offsetWidth,height:t.offsetHeight}),mJ=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Ffe=["INPUT","SELECT","TEXTAREA"];function yJ(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Ffe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const vJ=t=>"clientX"in t,qc=(t,e)=>{var o,s;const n=vJ(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},r6=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...t$(s)}})};function bJ({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=t*.125+i*.375+s*.375+n*.125,u=e*.125+o*.375+a*.375+r*.125,c=Math.abs(l-t),d=Math.abs(u-e);return[l,u,c,d]}function dE(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function i6({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case gt.Left:return[e-dE(e-r,o),n];case gt.Right:return[e+dE(r-e,o),n];case gt.Top:return[e,n-dE(n-i,o)];case gt.Bottom:return[e,n+dE(i-n,o)]}}function rR({sourceX:t,sourceY:e,sourcePosition:n=gt.Bottom,targetX:r,targetY:i,targetPosition:o=gt.Top,curvature:s=.25}){const[a,l]=i6({pos:n,x1:t,y1:e,x2:r,y2:i,c:s}),[u,c]=i6({pos:o,x1:r,y1:i,x2:t,y2:e,c:s}),[d,h,p,m]=bJ({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${a},${l} ${u},${c} ${r},${i}`,d,h,p,m]}function xJ({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,s=Math.abs(r-e)/2,a=r<e?r+s:r-s;return[o,a,i,s]}function $fe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(o?s:0)}function Bfe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=eR(gT(t),gT(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return ew(s,tR(o))>0}const Vfe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,zfe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),wJ=(t,e)=>{if(!t.source||!t.target)return e;let n;return uJ(t)?n={...t}:n={...t,id:Vfe(t)},zfe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function _J({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,s,a]=xJ({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,s,a]}const o6={[gt.Left]:{x:-1,y:0},[gt.Right]:{x:1,y:0},[gt.Top]:{x:0,y:-1},[gt.Bottom]:{x:0,y:1}},Ufe=({source:t,sourcePosition:e=gt.Bottom,target:n})=>e===gt.Left||e===gt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},s6=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Hfe({source:t,sourcePosition:e=gt.Bottom,target:n,targetPosition:r=gt.Top,center:i,offset:o}){const s=o6[e],a=o6[r],l={x:t.x+s.x*o,y:t.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=Ufe({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",h=c[d];let p=[],m,y;const x={x:0,y:0},w={x:0,y:0},[E,S,T,k]=xJ({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){m=i.x??E,y=i.y??S;const R=[{x:m,y:l.y},{x:m,y:u.y}],M=[{x:l.x,y},{x:u.x,y}];s[d]===h?p=d==="x"?R:M:p=d==="x"?M:R}else{const R=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(d==="x"?p=s.x===h?M:R:p=s.y===h?R:M,e===r){const $=Math.abs(t[d]-n[d]);if($<=o){const z=Math.min(o-1,o-$);s[d]===h?x[d]=(l[d]>t[d]?-1:1)*z:w[d]=(u[d]>n[d]?-1:1)*z}}if(e!==r){const $=d==="x"?"y":"x",z=s[d]===a[$],W=l[$]>u[$],K=l[$]<u[$];(s[d]===1&&(!z&&W||z&&K)||s[d]!==1&&(!z&&K||z&&W))&&(p=d==="x"?R:M)}const L={x:l.x+x.x,y:l.y+x.y},I={x:u.x+w.x,y:u.y+w.y},O=Math.max(Math.abs(L.x-p[0].x),Math.abs(I.x-p[0].x)),V=Math.max(Math.abs(L.y-p[0].y),Math.abs(I.y-p[0].y));O>=V?(m=(L.x+I.x)/2,y=p[0].y):(m=p[0].x,y=(L.y+I.y)/2)}return[[t,{x:l.x+x.x,y:l.y+x.y},...p,{x:u.x+w.x,y:u.y+w.y},n],m,y,T,k]}function qfe(t,e,n,r){const i=Math.min(s6(t,e)/2,s6(e,n)/2,r),{x:o,y:s}=e;if(t.x===o&&o===n.x||t.y===s&&s===n.y)return`L${o} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function FL({sourceX:t,sourceY:e,sourcePosition:n=gt.Bottom,targetX:r,targetY:i,targetPosition:o=gt.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,d,h,p,m]=Hfe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((x,w,E)=>{let S="";return E>0&&E<c.length-1?S=qfe(c[E-1],w,c[E+1],s):S=`${E===0?"M":"L"}${w.x} ${w.y}`,x+=S,x},""),d,h,p,m]}function a6(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function jfe(t){var d;const{sourceNode:e,targetNode:n}=t;if(!a6(e)||!a6(n))return null;const r=e.internals.handleBounds||l6(e.handles),i=n.internals.handleBounds||l6(n.handles),o=u6((r==null?void 0:r.source)??[],t.sourceHandle),s=u6(t.connectionMode===Mv.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!o||!s)return(d=t.onError)==null||d.call(t,"008",Mu.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(o==null?void 0:o.position)||gt.Bottom,l=(s==null?void 0:s.position)||gt.Top,u=tw(e,o,a),c=tw(n,s,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function l6(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function tw(t,e,n=gt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:a}=e??ud(t);if(r)return{x:i+s/2,y:o+a/2};switch((e==null?void 0:e.position)??n){case gt.Top:return{x:i+s/2,y:o};case gt.Right:return{x:i+s,y:o+a/2};case gt.Bottom:return{x:i+s/2,y:o+a};case gt.Left:return{x:i,y:o+a/2}}}function u6(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function $L(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function Wfe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=$L(l,e);o.has(u)||(s.push({id:u,color:l.color||n,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const n$={nodeOrigin:[0,0],nodeExtent:Qx,elevateNodesOnSelect:!0,defaults:{}},Gfe={...n$,checkEquality:!0};function r$(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function Kfe(t,e,n){const r=r$(n$,n);for(const i of t.values())if(i.parentId)i$(i,t,e,r);else{const o=p1(i,r.nodeOrigin),s=Ov(i.extent)?i.extent:r.nodeExtent,a=jp(o,s,ud(i));i.internals.positionAbsolute=a}}function BL(t,e,n,r){var l,u;const i=r$(Gfe,r);let o=t.length>0;const s=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let d=s.get(c.id);if(i.checkEquality&&c===(d==null?void 0:d.internals.userNode))e.set(c.id,d);else{const h=p1(c,i.nodeOrigin),p=Ov(c.extent)?c.extent:i.nodeExtent,m=jp(h,p,ud(c));d={...i.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:c.measured?d==null?void 0:d.internals.handleBounds:void 0,z:SJ(c,a),userNode:c}},e.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&i$(d,e,n,r)}return o}function Yfe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function i$(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=r$(n$,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Yfe(t,n);const u=i?1e3:0,{x:c,y:d,z:h}=Xfe(t,l,o,s,u),{positionAbsolute:p}=t.internals,m=c!==p.x||d!==p.y;(m||h!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:d}:p,z:h}})}function SJ(t,e){return(dl(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Xfe(t,e,n,r,i){const{x:o,y:s}=e.internals.positionAbsolute,a=ud(t),l=p1(t,n),u=Ov(t.extent)?jp(l,t.extent,a):l;let c=jp({x:o+u.x,y:s+u.y},r,a);t.extent==="parent"&&(c=dJ(c,a,e));const d=SJ(t,i),h=e.internals.z??0;return{x:c.x,y:c.y,z:h>d?h:d}}function o$(t,e,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Lv(l),c=hJ(u,a.rect);o.set(a.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},u)=>{var S;const c=l.internals.positionAbsolute,d=ud(l),h=l.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,m=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,y=Math.max(d.width,Math.round(a.width)),x=Math.max(d.height,Math.round(a.height)),w=(y-d.width)*h[0],E=(x-d.height)*h[1];(p>0||m>0||w||E)&&(i.push({id:u,type:"position",position:{x:l.position.x-p+w,y:l.position.y-m+E}}),(S=n.get(u))==null||S.forEach(T=>{t.some(k=>k.id===T.id)||i.push({id:T.id,type:"position",position:{x:T.position.x+p,y:T.position.y+m}})})),(d.width<a.width||d.height<a.height||p||m)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(p?h[0]*p-w:0),height:x+(m?h[1]*m-E:0)}})}),i}function Jfe(t,e,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const h of t.values()){const p=e.get(h.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const m=t$(h.nodeElement),y=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!p.internals.handleBounds||h.force))){const w=h.nodeElement.getBoundingClientRect(),E=Ov(p.extent)?p.extent:o;let{positionAbsolute:S}=p.internals;p.parentId&&p.extent==="parent"?S=dJ(S,m,e.get(p.parentId)):E&&(S=jp(S,E,m));const T={...p,measured:m,internals:{...p.internals,positionAbsolute:S,handleBounds:{source:r6("source",h.nodeElement,w,c,p.id),target:r6("target",h.nodeElement,w,c,p.id)}}};e.set(p.id,T),p.parentId&&i$(T,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Lv(T,i)}))}}if(d.length>0){const h=o$(d,e,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function Qfe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function c6(t,e,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,e)),s=`${i}-${t}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,e)),o){s=`${i}-${t}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,e))}}function EJ(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;c6("source",l,c,t,i,s),c6("target",l,u,t,o,a),e.set(r.id,r)}}function CJ(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:CJ(n,e):!1}function d6(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Zfe(t,e,n,r){const i=new Map;for(const[o,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!CJ(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const a=t.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function hk({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[u,c]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&i.push({...d,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=(a=n.get(t))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=e.get(t))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function ehe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},c=null,d=!1,h=null,p=!1;function m({noDragClassName:x,handleSelector:w,domNode:E,isSelectable:S,nodeId:T,nodeClickDistance:k=0}){h=Yi(E);function N({x:I,y:O},V){const{nodeLookup:$,nodeExtent:z,snapGrid:W,snapToGrid:K,nodeOrigin:J,onNodeDrag:Q,onSelectionDrag:X,onError:j,updateNodePositions:Y}=e();o={x:I,y:O};let ue=!1,q={x:0,y:0,x2:0,y2:0};if(a.size>1&&z){const de=g1(a);q=OL(de)}for(const[de,se]of a){if(!$.has(de))continue;let ee={x:I-se.distance.x,y:O-se.distance.y};K&&(ee=nR(ee,W));let ae=[[z[0][0],z[0][1]],[z[1][0],z[1][1]]];if(a.size>1&&z&&!se.extent){const{positionAbsolute:fe}=se.internals,ge=fe.x-q.x+z[0][0],xe=fe.x+se.measured.width-q.x2+z[1][0],be=fe.y-q.y+z[0][1],Ee=fe.y+se.measured.height-q.y2+z[1][1];ae=[[ge,be],[xe,Ee]]}const{position:te,positionAbsolute:ce}=cJ({nodeId:de,nextPosition:ee,nodeLookup:$,nodeExtent:ae,nodeOrigin:J,onError:j});ue=ue||se.position.x!==te.x||se.position.y!==te.y,se.position=te,se.internals.positionAbsolute=ce}if(ue&&(Y(a,!0),V&&(r||Q||!T&&X))){const[de,se]=hk({nodeId:T,dragItems:a,nodeLookup:$});r==null||r(V,a,de,se),Q==null||Q(V,de,se),T||X==null||X(V,se)}}async function R(){if(!c)return;const{transform:I,panBy:O,autoPanSpeed:V,autoPanOnNodeDrag:$}=e();if(!$){l=!1,cancelAnimationFrame(s);return}const[z,W]=fJ(u,c,V);(z!==0||W!==0)&&(o.x=(o.x??0)-z/I[2],o.y=(o.y??0)-W/I[2],await O({x:z,y:W})&&N(o,null)),s=requestAnimationFrame(R)}function M(I){var ue;const{nodeLookup:O,multiSelectionActive:V,nodesDraggable:$,transform:z,snapGrid:W,snapToGrid:K,selectNodesOnDrag:J,onNodeDragStart:Q,onSelectionDragStart:X,unselectNodesAndEdges:j}=e();d=!0,(!J||!S)&&!V&&T&&((ue=O.get(T))!=null&&ue.selected||j()),S&&J&&T&&(t==null||t(T));const Y=Tx(I.sourceEvent,{transform:z,snapGrid:W,snapToGrid:K,containerBounds:c});if(o=Y,a=Zfe(O,$,Y,T),a.size>0&&(n||Q||!T&&X)){const[q,de]=hk({nodeId:T,dragItems:a,nodeLookup:O});n==null||n(I.sourceEvent,a,q,de),Q==null||Q(I.sourceEvent,q,de),T||X==null||X(I.sourceEvent,de)}}const L=HX().clickDistance(k).on("start",I=>{const{domNode:O,nodeDragThreshold:V,transform:$,snapGrid:z,snapToGrid:W}=e();c=(O==null?void 0:O.getBoundingClientRect())||null,p=!1,V===0&&M(I),o=Tx(I.sourceEvent,{transform:$,snapGrid:z,snapToGrid:W,containerBounds:c}),u=qc(I.sourceEvent,c)}).on("drag",I=>{const{autoPanOnNodeDrag:O,transform:V,snapGrid:$,snapToGrid:z,nodeDragThreshold:W,nodeLookup:K}=e(),J=Tx(I.sourceEvent,{transform:V,snapGrid:$,snapToGrid:z,containerBounds:c});if((I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1||T&&!K.has(T))&&(p=!0),!p){if(!l&&O&&d&&(l=!0,R()),!d){const Q=J.xSnapped-(o.x??0),X=J.ySnapped-(o.y??0);Math.sqrt(Q*Q+X*X)>W&&M(I)}(o.x!==J.xSnapped||o.y!==J.ySnapped)&&a&&d&&(u=qc(I.sourceEvent,c),N(J,I.sourceEvent))}}).on("end",I=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:O,updateNodePositions:V,onNodeDragStop:$,onSelectionDragStop:z}=e();if(V(a,!1),i||$||!T&&z){const[W,K]=hk({nodeId:T,dragItems:a,nodeLookup:O,dragging:!1});i==null||i(I.sourceEvent,a,W,K),$==null||$(I.sourceEvent,W,K),T||z==null||z(I.sourceEvent,K)}}}).filter(I=>{const O=I.target;return!I.button&&(!x||!d6(O,`.${x}`,E))&&(!w||d6(O,w,E))});h.call(L)}function y(){h==null||h.on(".drag",null)}return{update:m,destroy:y}}function the(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())ew(i,Lv(o))>0&&r.push(o);return r}const nhe=250;function rhe(t,e,n,r){var a,l;let i=[],o=1/0;const s=the(t,n,e+nhe);for(const u of s){const c=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:p}=tw(u,d,d.position,!0),m=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...d,x:h,y:p}],o=m):m===o&&i.push({...d,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function TJ(t,e,n,r,i,o=!1){var u,c,d;const s=r.get(t);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...tw(s,l,l.position,!0)}:l}function AJ(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function ihe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const RJ=()=>!0;function ohe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:d,panBy:h,cancelConnection:p,onConnectStart:m,onConnect:y,onConnectEnd:x,isValidConnection:w=RJ,onReconnectEnd:E,updateConnection:S,getTransform:T,getFromHandle:k,autoPanSpeed:N}){const R=mJ(t.target);let M=0,L;const{x:I,y:O}=qc(t),V=R==null?void 0:R.elementFromPoint(I,O),$=AJ(o,V),z=a==null?void 0:a.getBoundingClientRect();if(!z||!$)return;const W=TJ(i,$,r,l,e);if(!W)return;let K=qc(t,z),J=!1,Q=null,X=!1,j=null;function Y(){if(!c||!z)return;const[ce,fe]=fJ(K,z,N);h({x:ce,y:fe}),M=requestAnimationFrame(Y)}const ue={...W,nodeId:i,type:$,position:W.position},q=l.get(i),se={inProgress:!0,isValid:null,from:tw(q,ue,gt.Left,!0),fromHandle:ue,fromPosition:ue.position,fromNode:q,to:K,toHandle:null,toPosition:Zz[ue.position],toNode:null};S(se);let ee=se;m==null||m(t,{nodeId:i,handleId:r,handleType:$});function ae(ce){if(!k()||!ue){te(ce);return}const fe=T();K=qc(ce,z),L=rhe(m1(K,fe,!1,[1,1]),n,l,ue),J||(Y(),J=!0);const ge=PJ(ce,{handle:L,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:w,doc:R,lib:u,flowId:d,nodeLookup:l});j=ge.handleDomNode,Q=ge.connection,X=ihe(!!L,ge.isValid);const xe={...ee,isValid:X,to:ge.toHandle&&X?mT({x:ge.toHandle.x,y:ge.toHandle.y},fe):K,toHandle:ge.toHandle,toPosition:X&&ge.toHandle?ge.toHandle.position:Zz[ue.position],toNode:ge.toHandle?l.get(ge.toHandle.nodeId):null};X&&L&&ee.toHandle&&xe.toHandle&&ee.toHandle.type===xe.toHandle.type&&ee.toHandle.nodeId===xe.toHandle.nodeId&&ee.toHandle.id===xe.toHandle.id&&ee.to.x===xe.to.x&&ee.to.y===xe.to.y||(S(xe),ee=xe)}function te(ce){(L||j)&&Q&&X&&(y==null||y(Q));const{inProgress:fe,...ge}=ee,xe={...ge,toPosition:ee.toHandle?ee.toPosition:null};x==null||x(ce,xe),o&&(E==null||E(ce,xe)),p(),cancelAnimationFrame(M),J=!1,X=!1,Q=null,j=null,R.removeEventListener("mousemove",ae),R.removeEventListener("mouseup",te),R.removeEventListener("touchmove",ae),R.removeEventListener("touchend",te)}R.addEventListener("mousemove",ae),R.addEventListener("mouseup",te),R.addEventListener("touchmove",ae),R.addEventListener("touchend",te)}function PJ(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=RJ,nodeLookup:c}){const d=o==="target",h=e?s.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=qc(t),y=s.elementFromPoint(p,m),x=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:h,w={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const E=AJ(void 0,x),S=x.getAttribute("data-nodeid"),T=x.getAttribute("data-handleid"),k=x.classList.contains("connectable"),N=x.classList.contains("connectableend");if(!S||!E)return w;const R={source:d?S:r,sourceHandle:d?T:i,target:d?r:S,targetHandle:d?i:T};w.connection=R;const L=k&&N&&(n===Mv.Strict?d&&E==="source"||!d&&E==="target":S!==r||T!==i);w.isValid=L&&u(R),w.toHandle=TJ(S,E,T,c,n,!0)}return w}const VL={onPointerDown:ohe,isValid:PJ};function she({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Yi(t);function o({translateExtent:a,width:l,height:u,zoomStep:c=10,pannable:d=!0,zoomable:h=!0,inversePan:p=!1}){const m=S=>{const T=n();if(S.sourceEvent.type!=="wheel"||!e)return;const k=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*c,N=T[2]*Math.pow(2,k);e.scaleTo(N)};let y=[0,0];const x=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(y=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},w=S=>{const T=n();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!e)return;const k=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],N=[k[0]-y[0],k[1]-y[1]];y=k;const R=r()*Math.max(T[2],Math.log(T[2]))*(p?-1:1),M={x:T[0]-N[0]*R,y:T[1]-N[1]*R},L=[[0,0],[l,u]];e.setViewportConstrained({x:M.x,y:M.y,zoom:T[2]},L,a)},E=iJ().on("start",x).on("zoom",d?w:null).on("zoom.wheel",h?m:null);i.call(E,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:al}}const ahe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,iR=t=>({x:t.x,y:t.y,zoom:t.k}),pk=({x:t,y:e,zoom:n})=>ZA.translate(t,e).scale(n),yy=(t,e)=>t.target.closest(`.${e}`),IJ=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),lhe=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,gk=(t,e=0,n=lhe,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},kJ=t=>{const e=t.ctrlKey&&yT()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function uhe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(yy(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&s){const x=al(c),w=kJ(c),E=d*Math.pow(2,w);r.scaleTo(n,E,x,c);return}const h=c.deltaMode===1?20:1;let p=i===Vp.Vertical?0:c.deltaX*h,m=i===Vp.Horizontal?0:c.deltaY*h;!yT()&&c.shiftKey&&i!==Vp.Vertical&&(p=c.deltaY*h,m=0),r.translateBy(n,-(p/d)*o,-(m/d)*o,{internal:!0});const y=iR(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(c,y)),t.isPanScrolling&&(l==null||l(c,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),t.isPanScrolling=!1},150))}}function che({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!e&&o&&!r.ctrlKey,a=yy(r,t);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function dhe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=iR(r.transform);t.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function fhe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;t.usedRightMouseButton=!!(n&&IJ(e,t.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,iR(o.transform)))}}function hhe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,o&&IJ(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&ahe(t.prevViewport,s.transform))){const l=iR(s.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function phe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u}){return c=>{var m;const d=t||e,h=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(yy(c,`${u}-flow__node`)||yy(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||yy(c,a)&&c.type==="wheel"||yy(c,l)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!d&&!i&&!h&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function ghe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=iJ().clickDistance(!dl(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=Yi(t).call(h);S({x:o.x,y:o.y,zoom:Dv(o.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=p.on("wheel.zoom"),y=p.on("dblclick.zoom");h.wheelDelta(kJ);function x(V,$){return p?new Promise(z=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?Cy:uC).transform(gk(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>z(!0)),V)}):Promise.resolve(!1)}function w({noWheelClassName:V,noPanClassName:$,onPaneContextMenu:z,userSelectionActive:W,panOnScroll:K,panOnDrag:J,panOnScrollMode:Q,panOnScrollSpeed:X,preventScrolling:j,zoomOnPinch:Y,zoomOnScroll:ue,zoomOnDoubleClick:q,zoomActivationKeyPressed:de,lib:se,onTransformChange:ee}){W&&!c.isZoomingOrPanning&&E();const te=K&&!de&&!W?uhe({zoomPanValues:c,noWheelClassName:V,d3Selection:p,d3Zoom:h,panOnScrollMode:Q,panOnScrollSpeed:X,zoomOnPinch:Y,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):che({noWheelClassName:V,preventScrolling:j,d3ZoomHandler:m});if(p.on("wheel.zoom",te,{passive:!1}),!W){const fe=dhe({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:a});h.on("start",fe);const ge=fhe({zoomPanValues:c,panOnDrag:J,onPaneContextMenu:!!z,onPanZoom:s,onTransformChange:ee});h.on("zoom",ge);const xe=hhe({zoomPanValues:c,panOnDrag:J,panOnScroll:K,onPaneContextMenu:z,onPanZoomEnd:l,onDraggingChange:u});h.on("end",xe)}const ce=phe({zoomActivationKeyPressed:de,panOnDrag:J,zoomOnScroll:ue,panOnScroll:K,zoomOnDoubleClick:q,zoomOnPinch:Y,userSelectionActive:W,noPanClassName:$,noWheelClassName:V,lib:se});h.filter(ce),q?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function E(){h.on("zoom",null)}async function S(V,$,z){const W=pk(V),K=h==null?void 0:h.constrain()(W,$,z);return K&&await x(K),new Promise(J=>J(K))}async function T(V,$){const z=pk(V);return await x(z,$),new Promise(W=>W(z))}function k(V){if(p){const $=pk(V),z=p.property("__zoom");(z.k!==V.zoom||z.x!==V.x||z.y!==V.y)&&(h==null||h.transform(p,$,null,{sync:!0}))}}function N(){const V=p?rJ(p.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function R(V,$){return p?new Promise(z=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?Cy:uC).scaleTo(gk(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>z(!0)),V)}):Promise.resolve(!1)}function M(V,$){return p?new Promise(z=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?Cy:uC).scaleBy(gk(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>z(!0)),V)}):Promise.resolve(!1)}function L(V){h==null||h.scaleExtent(V)}function I(V){h==null||h.translateExtent(V)}function O(V){const $=!dl(V)||V<0?0:V;h==null||h.clickDistance($)}return{update:w,destroy:E,setViewport:T,setViewportConstrained:S,getViewport:N,scaleTo:R,scaleBy:M,setScaleExtent:L,setTranslateExtent:I,syncViewport:k,setClickDistance:O}}var Fv;(function(t){t.Line="line",t.Handle="handle"})(Fv||(Fv={}));function mhe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=t-e,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function yhe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ud(t,e){return Math.max(0,e-t)}function Hd(t,e){return Math.max(0,t-e)}function fE(t,e,n){return Math.max(0,e-t,t-n)}function f6(t,e){return t?!e:e}function vhe(t,e,n,r,i,o,s,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:d}=e,h=c&&d,{xSnapped:p,ySnapped:m}=n,{minWidth:y,maxWidth:x,minHeight:w,maxHeight:E}=r,{x:S,y:T,width:k,height:N,aspectRatio:R}=t;let M=Math.floor(c?p-t.pointerX:0),L=Math.floor(d?m-t.pointerY:0);const I=k+(l?-M:M),O=N+(u?-L:L),V=-o[0]*k,$=-o[1]*N;let z=fE(I,y,x),W=fE(O,w,E);if(s){let Q=0,X=0;l&&M<0?Q=Ud(S+M+V,s[0][0]):!l&&M>0&&(Q=Hd(S+I+V,s[1][0])),u&&L<0?X=Ud(T+L+$,s[0][1]):!u&&L>0&&(X=Hd(T+O+$,s[1][1])),z=Math.max(z,Q),W=Math.max(W,X)}if(a){let Q=0,X=0;l&&M>0?Q=Hd(S+M,a[0][0]):!l&&M<0&&(Q=Ud(S+I,a[1][0])),u&&L>0?X=Hd(T+L,a[0][1]):!u&&L<0&&(X=Ud(T+O,a[1][1])),z=Math.max(z,Q),W=Math.max(W,X)}if(i){if(c){const Q=fE(I/R,w,E)*R;if(z=Math.max(z,Q),s){let X=0;!l&&!u||l&&!u&&h?X=Hd(T+$+I/R,s[1][1])*R:X=Ud(T+$+(l?M:-M)/R,s[0][1])*R,z=Math.max(z,X)}if(a){let X=0;!l&&!u||l&&!u&&h?X=Ud(T+I/R,a[1][1])*R:X=Hd(T+(l?M:-M)/R,a[0][1])*R,z=Math.max(z,X)}}if(d){const Q=fE(O*R,y,x)/R;if(W=Math.max(W,Q),s){let X=0;!l&&!u||u&&!l&&h?X=Hd(S+O*R+V,s[1][0])/R:X=Ud(S+(u?L:-L)*R+V,s[0][0])/R,W=Math.max(W,X)}if(a){let X=0;!l&&!u||u&&!l&&h?X=Ud(S+O*R,a[1][0])/R:X=Hd(S+(u?L:-L)*R,a[0][0])/R,W=Math.max(W,X)}}}L=L+(L<0?W:-W),M=M+(M<0?z:-z),i&&(h?I>O*R?L=(f6(l,u)?-M:M)/R:M=(f6(l,u)?-L:L)*R:c?(L=M/R,u=l):(M=L*R,l=u));const K=l?S+M:S,J=u?T+L:T;return{width:k+(l?-M:M),height:N+(u?-L:L),x:o[0]*M*(l?-1:1)+K,y:o[1]*L*(u?-1:1)+J}}const MJ={width:0,height:0,x:0,y:0},bhe={...MJ,pointerX:0,pointerY:0,aspectRatio:1};function xhe(t){return[[0,0],[t.measured.width,t.measured.height]]}function whe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,s=t.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function _he({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Yi(t);function s({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:m,shouldResize:y}){let x={...MJ},w={...bhe};const E=yhe(l);let S,T=null,k=[],N,R,M;const L=HX().on("start",I=>{const{nodeLookup:O,transform:V,snapGrid:$,snapToGrid:z,nodeOrigin:W,paneDomNode:K}=n();if(S=O.get(e),!S)return;T=(K==null?void 0:K.getBoundingClientRect())??null;const{xSnapped:J,ySnapped:Q}=Tx(I.sourceEvent,{transform:V,snapGrid:$,snapToGrid:z,containerBounds:T});x={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},w={...x,pointerX:J,pointerY:Q,aspectRatio:x.width/x.height},N=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(N=O.get(S.parentId),R=N&&S.extent==="parent"?xhe(N):void 0),k=[],M=void 0;for(const[X,j]of O)if(j.parentId===e&&(k.push({id:X,position:{...j.position},extent:j.extent}),j.extent==="parent"||j.expandParent)){const Y=whe(j,S,j.origin??W);M?M=[[Math.min(Y[0][0],M[0][0]),Math.min(Y[0][1],M[0][1])],[Math.max(Y[1][0],M[1][0]),Math.max(Y[1][1],M[1][1])]]:M=Y}h==null||h(I,{...x})}).on("drag",I=>{const{transform:O,snapGrid:V,snapToGrid:$,nodeOrigin:z}=n(),W=Tx(I.sourceEvent,{transform:O,snapGrid:V,snapToGrid:$,containerBounds:T}),K=[];if(!S)return;const{x:J,y:Q,width:X,height:j}=x,Y={},ue=S.origin??z,{width:q,height:de,x:se,y:ee}=vhe(w,E,W,u,c,ue,R,M),ae=q!==X,te=de!==j,ce=se!==J&&ae,fe=ee!==Q&&te;if(!ce&&!fe&&!ae&&!te)return;if((ce||fe||ue[0]===1||ue[1]===1)&&(Y.x=ce?se:x.x,Y.y=fe?ee:x.y,x.x=Y.x,x.y=Y.y,k.length>0)){const Ee=se-J,Me=ee-Q;for(const st of k)st.position={x:st.position.x-Ee+ue[0]*(q-X),y:st.position.y-Me+ue[1]*(de-j)},K.push(st)}if((ae||te)&&(Y.width=ae&&(!d||d==="horizontal")?q:x.width,Y.height=te&&(!d||d==="vertical")?de:x.height,x.width=Y.width,x.height=Y.height),N&&S.expandParent){const Ee=ue[0]*(Y.width??0);Y.x&&Y.x<Ee&&(x.x=Ee,w.x=w.x-(Y.x-Ee));const Me=ue[1]*(Y.height??0);Y.y&&Y.y<Me&&(x.y=Me,w.y=w.y-(Y.y-Me))}const ge=mhe({width:x.width,prevWidth:X,height:x.height,prevHeight:j,affectsX:E.affectsX,affectsY:E.affectsY}),xe={...x,direction:ge};(y==null?void 0:y(I,xe))!==!1&&(p==null||p(I,xe),r(Y,K))}).on("end",I=>{m==null||m(I,{...x}),i==null||i({...x})});o.call(L)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var mk={exports:{}},yk={},vk={exports:{}},bk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h6;function She(){if(h6)return bk;h6=1;var t=_l();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),y=m[0].inst,x=m[1];return o(function(){y.value=p,y.getSnapshot=h,l(y)&&x({inst:y})},[d,p,h]),i(function(){return l(y)&&x({inst:y}),d(function(){l(y)&&x({inst:y})})},[d]),s(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!n(d,p)}catch{return!0}}function u(d,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return bk.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,bk}var p6;function Ehe(){return p6||(p6=1,vk.exports=She()),vk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g6;function Che(){if(g6)return yk;g6=1;var t=_l(),e=Ehe();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return yk.useSyncExternalStoreWithSelector=function(u,c,d,h,p){var m=o(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function w(N){if(!E){if(E=!0,S=N,N=h(N),p!==void 0&&y.hasValue){var R=y.value;if(p(R,N))return T=R}return T=N}if(R=T,r(S,N))return R;var M=h(N);return p!==void 0&&p(R,M)?(S=N,R):(S=N,T=M)}var E=!1,S,T,k=d===void 0?null:d;return[function(){return w(c())},k===null?void 0:function(){return w(k())}]},[c,d,h,p]);var x=i(u,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},yk}var m6;function The(){return m6||(m6=1,mk.exports=Che()),mk.exports}var Ahe=The();const Rhe=xo(Ahe),Phe={},y6=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Phe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},Ihe=t=>t?y6(t):y6,{useDebugValue:khe}=oe,{useSyncExternalStoreWithSelector:Mhe}=Rhe,Nhe=t=>t;function NJ(t,e=Nhe,n){const r=Mhe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return khe(r),r}const v6=(t,e)=>{const n=Ihe(t),r=(i,o=e)=>NJ(n,i,o);return Object.assign(r,n),r},Dhe=(t,e)=>t?v6(t,e):v6;function xr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var jc=KA();const Rf=xo(jc),oR=F.createContext(null),Lhe=oR.Provider,DJ=Mu.error001();function xn(t,e){const n=F.useContext(oR);if(n===null)throw new Error(DJ);return NJ(n,t,e)}function Tr(){const t=F.useContext(oR);if(t===null)throw new Error(DJ);return F.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const b6={display:"none"},Ohe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},LJ="react-flow__node-desc",OJ="react-flow__edge-desc",Fhe="react-flow__aria-live",$he=t=>t.ariaLiveMessage,Bhe=t=>t.ariaLabelConfig;function Vhe({rfId:t}){const e=xn($he);return D.jsx("div",{id:`${Fhe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Ohe,children:e})}function zhe({rfId:t,disableKeyboardA11y:e}){const n=xn(Bhe);return D.jsxs(D.Fragment,{children:[D.jsx("div",{id:`${LJ}-${t}`,style:b6,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),D.jsx("div",{id:`${OJ}-${t}`,style:b6,children:n["edge.a11yDescription.default"]}),!e&&D.jsx(Vhe,{rfId:t})]})}const Uhe=t=>t.userSelectionActive?"none":"all",$v=F.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const s=xn(Uhe),a=`${t}`.split("-");return D.jsx("div",{className:ci(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:e})});$v.displayName="Panel";function Hhe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:D.jsx($v,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:D.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const qhe=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},hE=t=>t.id;function jhe(t,e){return xr(t.selectedNodes.map(hE),e.selectedNodes.map(hE))&&xr(t.selectedEdges.map(hE),e.selectedEdges.map(hE))}function Whe({onSelectionChange:t}){const e=Tr(),{selectedNodes:n,selectedEdges:r}=xn(qhe,jhe);return F.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const Ghe=t=>!!t.onSelectionChangeHandlers;function Khe({onSelectionChange:t}){const e=xn(Ghe);return t||e?D.jsx(Whe,{onSelectionChange:t}):null}const FJ=[0,0],Yhe={x:0,y:0,zoom:1},Xhe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],x6=[...Xhe,"rfId"],Jhe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),w6={translateExtent:Qx,nodeOrigin:FJ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Qhe(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=xn(Jhe,xr),c=Tr();F.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=w6,a()}),[]);const d=F.useRef(w6);return F.useEffect(()=>{for(const h of x6){const p=t[h],m=d.current[h];p!==m&&(typeof t[h]>"u"||(h==="nodes"?e(p):h==="edges"?n(p):h==="minZoom"?r(p):h==="maxZoom"?i(p):h==="translateExtent"?o(p):h==="nodeExtent"?s(p):h==="paneClickDistance"?u(p):h==="fitView"?c.setState({fitViewQueued:p}):h==="fitViewOptions"&&c.setState({fitViewOptions:p}),h==="ariaLabelConfig"?c.setState({ariaLabelConfig:Ofe(p)}):c.setState({[h]:p})))}d.current=t},x6.map(h=>t[h])),null}function _6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Zhe(t){var r;const[e,n]=F.useState(t==="system"?null:t);return F.useEffect(()=>{if(t!=="system"){n(t);return}const i=_6(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[t]),e!==null?e:(r=_6())!=null&&r.matches?"dark":"light"}const S6=typeof document<"u"?document:null;function nw(t=null,e={target:S6,actInsideInputWithModifier:!0}){const[n,r]=F.useState(!1),i=F.useRef(!1),o=F.useRef(new Set([])),[s,a]=F.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((d,h)=>d.concat(...h),[]);return[u,c]}return[[],[]]},[t]);return F.useEffect(()=>{const l=(e==null?void 0:e.target)??S6,u=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const c=p=>{var x,w;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&yJ(p))return!1;const y=C6(p.code,a);if(o.current.add(p[y]),E6(s,o.current,!1)){const E=((w=(x=p.composedPath)==null?void 0:x.call(p))==null?void 0:w[0])||p.target,S=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";e.preventDefault!==!1&&(i.current||!S)&&p.preventDefault(),r(!0)}},d=p=>{const m=C6(p.code,a);E6(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[m]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function E6(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function C6(t,e){return e.includes(t)?"code":"key"}const epe=()=>{const t=Tr();return F.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=t.getState(),l=e$(e,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=t.getState();if(!s)return e;const{x:a,y:l}=s.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},c=n.snapGrid??i,d=n.snapToGrid??o;return m1(u,r,d,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),s=mT(e,n);return{x:s.x+i,y:s.y+o}}}),[])};function $J(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of e){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)tpe(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function tpe(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function BJ(t,e){return $J(t,e)}function VJ(t,e){return $J(t,e)}function Ph(t,e){return{id:t,type:"select",selected:e}}function vy(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const s=e.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Ph(o.id,s)))}return r}function T6({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(o=>[o.id,o]));for(const[o,s]of t.entries()){const a=e.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of e)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function A6(t){return{id:t.id,type:"remove"}}const R6=t=>Tfe(t),npe=t=>uJ(t);function zJ(t){return F.forwardRef(t)}const rpe=typeof window<"u"?F.useLayoutEffect:F.useEffect;function P6(t){const[e,n]=F.useState(BigInt(0)),[r]=F.useState(()=>ipe(()=>n(i=>i+BigInt(1))));return rpe(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function ipe(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const UJ=F.createContext(null);function ope({children:t}){const e=Tr(),n=F.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:d,nodeLookup:h,fitViewQueued:p}=e.getState();let m=l;for(const x of a)m=typeof x=="function"?x(m):x;const y=T6({items:m,lookup:h});c&&u(m),y.length>0?d==null||d(y):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:x,nodes:w,setNodes:E}=e.getState();x&&E(w)})},[]),r=P6(n),i=F.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:h}=e.getState();let p=l;for(const m of a)p=typeof m=="function"?m(p):m;c?u(p):d&&d(T6({items:p,lookup:h}))},[]),o=P6(i),s=F.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return D.jsx(UJ.Provider,{value:s,children:t})}function spe(){const t=F.useContext(UJ);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const ape=t=>!!t.panZoom;function y1(){const t=epe(),e=Tr(),n=spe(),r=xn(ape),i=F.useMemo(()=>{const o=d=>e.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var w,E;const{nodeLookup:h,nodeOrigin:p}=e.getState(),m=R6(d)?d:h.get(d.id),y=m.parentId?gJ(m.position,m.measured,m.parentId,h,p):m.position,x={...m,position:y,width:((w=m.measured)==null?void 0:w.width)??m.width,height:((E=m.measured)==null?void 0:E.height)??m.height};return Lv(x)},u=(d,h,p={replace:!1})=>{s(m=>m.map(y=>{if(y.id===d){const x=typeof h=="function"?h(y):h;return p.replace&&R6(x)?x:{...y,...x}}return y}))},c=(d,h,p={replace:!1})=>{a(m=>m.map(y=>{if(y.id===d){const x=typeof h=="function"?h(y):h;return p.replace&&npe(x)?x:{...y,...x}}return y}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=o(d))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(h=>({...h}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:p}=e.getState(),[m,y,x]=p;return{nodes:d.map(w=>({...w})),edges:h.map(w=>({...w})),viewport:{x:m,y,zoom:x}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:p,edges:m,onNodesDelete:y,onEdgesDelete:x,triggerNodeChanges:w,triggerEdgeChanges:E,onDelete:S,onBeforeDelete:T}=e.getState(),{nodes:k,edges:N}=await kfe({nodesToRemove:d,edgesToRemove:h,nodes:p,edges:m,onBeforeDelete:T}),R=N.length>0,M=k.length>0;if(R){const L=N.map(A6);x==null||x(N),E(L)}if(M){const L=k.map(A6);y==null||y(k),w(L)}return(M||R)&&(S==null||S({nodes:k,edges:N})),{deletedNodes:k,deletedEdges:N}},getIntersectingNodes:(d,h=!0,p)=>{const m=t6(d),y=m?d:l(d),x=p!==void 0;return y?(p||e.getState().nodes).filter(w=>{const E=e.getState().nodeLookup.get(w.id);if(E&&!m&&(w.id===d.id||!E.internals.positionAbsolute))return!1;const S=Lv(x?w:E),T=ew(S,y);return h&&T>0||T>=y.width*y.height}):[]},isNodeIntersecting:(d,h,p=!0)=>{const y=t6(d)?d:l(d);if(!y)return!1;const x=ew(y,h);return p&&x>0||x>=y.width*y.height},updateNode:u,updateNodeData:(d,h,p={replace:!1})=>{u(d,m=>{const y=typeof h=="function"?h(m):h;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},updateEdge:c,updateEdgeData:(d,h,p={replace:!1})=>{c(d,m=>{const y=typeof h=="function"?h(m):h;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:p}=e.getState();return Afe(d,{nodeLookup:h,nodeOrigin:p})},getHandleConnections:({type:d,id:h,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${d}${h?`-${h}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:m.values())??[])},fitView:async d=>{const h=e.getState().fitViewResolver??Lfe();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:h}),n.nodeQueue.push(p=>[...p]),h.promise}}},[]);return F.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const I6=t=>t.selected,lpe=typeof window<"u"?window:void 0;function upe({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Tr(),{deleteElements:r}=y1(),i=nw(t,{actInsideInputWithModifier:!1}),o=nw(e,{target:lpe});F.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(I6),edges:s.filter(I6)}),n.setState({nodesSelectionActive:!1})}},[i]),F.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function cpe(t){const e=Tr();F.useEffect(()=>{const n=()=>{var i,o;if(!t.current)return!1;const r=t$(t.current);(r.height===0||r.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",Mu.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const sR={position:"absolute",width:"100%",height:"100%",top:0,left:0},dpe=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function fpe({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Vp.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:x,onViewportChange:w,isControlledViewport:E,paneClickDistance:S}){const T=Tr(),k=F.useRef(null),{userSelectionActive:N,lib:R}=xn(dpe,xr),M=nw(h),L=F.useRef();cpe(k);const I=F.useCallback(O=>{w==null||w({x:O[0],y:O[1],zoom:O[2]}),E||T.setState({transform:O})},[w,E]);return F.useEffect(()=>{if(k.current){L.current=ghe({domNode:k.current,minZoom:c,maxZoom:d,translateExtent:u,viewport:l,paneClickDistance:S,onDraggingChange:z=>T.setState({paneDragging:z}),onPanZoomStart:(z,W)=>{const{onViewportChangeStart:K,onMoveStart:J}=T.getState();J==null||J(z,W),K==null||K(W)},onPanZoom:(z,W)=>{const{onViewportChange:K,onMove:J}=T.getState();J==null||J(z,W),K==null||K(W)},onPanZoomEnd:(z,W)=>{const{onViewportChangeEnd:K,onMoveEnd:J}=T.getState();J==null||J(z,W),K==null||K(W)}});const{x:O,y:V,zoom:$}=L.current.getViewport();return T.setState({panZoom:L.current,transform:[O,V,$],domNode:k.current.closest(".react-flow")}),()=>{var z;(z=L.current)==null||z.destroy()}}},[]),F.useEffect(()=>{var O;(O=L.current)==null||O.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:M,preventScrolling:p,noPanClassName:x,userSelectionActive:N,noWheelClassName:y,lib:R,onTransformChange:I})},[t,e,n,r,i,o,s,a,M,p,x,N,y,R,I]),D.jsx("div",{className:"react-flow__renderer",ref:k,style:sR,children:m})}const hpe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function ppe(){const{userSelectionActive:t,userSelectionRect:e}=xn(hpe,xr);return t&&e?D.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const xk=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},gpe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function mpe({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Zx.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const m=Tr(),{userSelectionActive:y,elementsSelectable:x,dragging:w,connectionInProgress:E}=xn(gpe,xr),S=x&&(t||y),T=F.useRef(null),k=F.useRef(),N=F.useRef(new Set),R=F.useRef(new Set),M=F.useRef(!1),L=F.useRef(!1),I=J=>{if(M.current||E){M.current=!1;return}a==null||a(J),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},O=J=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){J.preventDefault();return}l==null||l(J)},V=u?J=>u(J):void 0,$=J=>{var ue,q;const{resetSelectedElements:Q,domNode:X}=m.getState();if(k.current=X==null?void 0:X.getBoundingClientRect(),!x||!t||J.button!==0||J.target!==T.current||!k.current)return;(q=(ue=J.target)==null?void 0:ue.setPointerCapture)==null||q.call(ue,J.pointerId),L.current=!0,M.current=!1;const{x:j,y:Y}=qc(J.nativeEvent,k.current);Q(),m.setState({userSelectionRect:{width:0,height:0,startX:j,startY:Y,x:j,y:Y}}),o==null||o(J)},z=J=>{const{userSelectionRect:Q,transform:X,nodeLookup:j,edgeLookup:Y,connectionLookup:ue,triggerNodeChanges:q,triggerEdgeChanges:de,defaultEdgeOptions:se}=m.getState();if(!k.current||!Q)return;M.current=!0;const{x:ee,y:ae}=qc(J.nativeEvent,k.current),{startX:te,startY:ce}=Q,fe={startX:te,startY:ce,x:ee<te?ee:te,y:ae<ce?ae:ce,width:Math.abs(ee-te),height:Math.abs(ae-ce)},ge=N.current,xe=R.current;N.current=new Set(Z5(j,fe,X,n===Zx.Partial,!0).map(Ee=>Ee.id)),R.current=new Set;const be=(se==null?void 0:se.selectable)??!0;for(const Ee of N.current){const Me=ue.get(Ee);if(Me)for(const{edgeId:st}of Me.values()){const Ve=Y.get(st);Ve&&(Ve.selectable??be)&&R.current.add(st)}}if(!n6(ge,N.current)){const Ee=vy(j,N.current,!0);q(Ee)}if(!n6(xe,R.current)){const Ee=vy(Y,R.current);de(Ee)}m.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},W=J=>{var X,j;if(J.button!==0||!L.current)return;(j=(X=J.target)==null?void 0:X.releasePointerCapture)==null||j.call(X,J.pointerId);const{userSelectionRect:Q}=m.getState();!y&&Q&&J.target===T.current&&(I==null||I(J)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),s==null||s(J),(e||i)&&(M.current=!1),L.current=!1},K=r===!0||Array.isArray(r)&&r.includes(0);return D.jsxs("div",{className:ci(["react-flow__pane",{draggable:K,dragging:w,selection:t}]),onClick:S?void 0:xk(I,T),onContextMenu:xk(O,T),onWheel:xk(V,T),onPointerEnter:S?void 0:c,onPointerDown:S?$:d,onPointerMove:S?z:d,onPointerUp:S?W:void 0,onPointerLeave:h,ref:T,style:sR,children:[p,D.jsx(ppe,{})]})}function zL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",Mu.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function HJ({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=Tr(),[l,u]=F.useState(!1),c=F.useRef();return F.useEffect(()=>{c.current=ehe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{zL({id:d,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),F.useEffect(()=>{var d,h;if(e)(d=c.current)==null||d.destroy();else if(t.current)return(h=c.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,o,t,i]),l}const ype=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function qJ(){const t=Tr();return F.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),d=new Map,h=ype(s),p=i?o[0]:5,m=i?o[1]:5,y=n.direction.x*p*n.factor,x=n.direction.y*m*n.factor;for(const[,w]of u){if(!h(w))continue;let E={x:w.internals.positionAbsolute.x+y,y:w.internals.positionAbsolute.y+x};i&&(E=nR(E,o));const{position:S,positionAbsolute:T}=cJ({nodeId:w.id,nextPosition:E,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});w.position=S,w.internals.positionAbsolute=T,d.set(w.id,w)}l(d)},[])}const s$=F.createContext(null),vpe=s$.Provider;s$.Consumer;const jJ=()=>F.useContext(s$),bpe=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),xpe=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:u}=s,c=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Mv.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function wpe({type:t="source",position:e=gt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...h},p){var W,K;const m=s||null,y=t==="target",x=Tr(),w=jJ(),{connectOnClick:E,noPanClassName:S,rfId:T}=xn(bpe,xr),{connectingFrom:k,connectingTo:N,clickConnecting:R,isPossibleEndHandle:M,connectionInProcess:L,clickConnectionInProcess:I,valid:O}=xn(xpe(w,m,t),xr);w||(K=(W=x.getState()).onError)==null||K.call(W,"010",Mu.error010());const V=J=>{const{defaultEdgeOptions:Q,onConnect:X,hasDefaultEdges:j}=x.getState(),Y={...Q,...J};if(j){const{edges:ue,setEdges:q}=x.getState();q(wJ(Y,ue))}X==null||X(Y),a==null||a(Y)},$=J=>{if(!w)return;const Q=vJ(J.nativeEvent);if(i&&(Q&&J.button===0||!Q)){const X=x.getState();VL.onPointerDown(J.nativeEvent,{autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:y,handleId:m,nodeId:w,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:X.onConnectEnd,updateConnection:X.updateConnection,onConnect:V,isValidConnection:n||X.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed})}Q?c==null||c(J):d==null||d(J)},z=J=>{const{onClickConnectStart:Q,onClickConnectEnd:X,connectionClickStartHandle:j,connectionMode:Y,isValidConnection:ue,lib:q,rfId:de,nodeLookup:se,connection:ee}=x.getState();if(!w||!j&&!i)return;if(!j){Q==null||Q(J.nativeEvent,{nodeId:w,handleId:m,handleType:t}),x.setState({connectionClickStartHandle:{nodeId:w,type:t,id:m}});return}const ae=mJ(J.target),te=n||ue,{connection:ce,isValid:fe}=VL.isValid(J.nativeEvent,{handle:{nodeId:w,id:m,type:t},connectionMode:Y,fromNodeId:j.nodeId,fromHandleId:j.id||null,fromType:j.type,isValidConnection:te,flowId:de,doc:ae,lib:q,nodeLookup:se});fe&&ce&&V(ce);const ge=structuredClone(ee);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,X==null||X(J,ge),x.setState({connectionClickStartHandle:null})};return D.jsx("div",{"data-handleid":m,"data-nodeid":w,"data-handlepos":e,"data-id":`${T}-${w}-${m}-${t}`,className:ci(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",S,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,clickconnecting:R,connectingfrom:k,connectingto:N,valid:O,connectionindicator:r&&(!L||M)&&(L||I?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:E?z:void 0,ref:p,...h,children:l})}const is=F.memo(zJ(wpe));function _pe({data:t,isConnectable:e,sourcePosition:n=gt.Bottom}){return D.jsxs(D.Fragment,{children:[t==null?void 0:t.label,D.jsx(is,{type:"source",position:n,isConnectable:e})]})}function Spe({data:t,isConnectable:e,targetPosition:n=gt.Top,sourcePosition:r=gt.Bottom}){return D.jsxs(D.Fragment,{children:[D.jsx(is,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,D.jsx(is,{type:"source",position:r,isConnectable:e})]})}function Epe(){return null}function Cpe({data:t,isConnectable:e,targetPosition:n=gt.Top}){return D.jsxs(D.Fragment,{children:[D.jsx(is,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const vT={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},k6={input:_pe,default:Spe,output:Cpe,group:Epe};function Tpe(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const Ape=t=>{const{width:e,height:n,x:r,y:i}=g1(t.nodeLookup,{filter:o=>!!o.selected});return{width:dl(e)?e:null,height:dl(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Rpe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Tr(),{width:i,height:o,transformString:s,userSelectionActive:a}=xn(Ape,xr),l=qJ(),u=F.useRef(null);if(F.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),HJ({nodeRef:u}),a||!i||!o)return null;const c=t?h=>{const p=r.getState().nodes.filter(m=>m.selected);t(h,p)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call(vT,h.key)&&(h.preventDefault(),l({direction:vT[h.key],factor:h.shiftKey?4:1}))};return D.jsx("div",{className:ci(["react-flow__nodesselection","react-flow__container",e]),style:{transform:s},children:D.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const M6=typeof window<"u"?window:void 0,Ppe=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function WJ({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:T,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:R,panOnDrag:M,defaultViewport:L,translateExtent:I,minZoom:O,maxZoom:V,preventScrolling:$,onSelectionContextMenu:z,noWheelClassName:W,noPanClassName:K,disableKeyboardA11y:J,onViewportChange:Q,isControlledViewport:X}){const{nodesSelectionActive:j,userSelectionActive:Y}=xn(Ppe),ue=nw(u,{target:M6}),q=nw(y,{target:M6}),de=q||M,se=q||T,ee=c&&de!==!0,ae=ue||Y||ee;return upe({deleteKeyCode:l,multiSelectionKeyCode:m}),D.jsx(fpe,{onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:se,panOnScrollSpeed:k,panOnScrollMode:N,zoomOnDoubleClick:R,panOnDrag:!ue&&de,defaultViewport:L,translateExtent:I,minZoom:O,maxZoom:V,zoomActivationKeyCode:x,preventScrolling:$,noWheelClassName:W,noPanClassName:K,onViewportChange:Q,isControlledViewport:X,paneClickDistance:a,children:D.jsxs(mpe,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:de,isSelecting:!!ae,selectionMode:d,selectionKeyPressed:ue,selectionOnDrag:ee,children:[t,j&&D.jsx(Rpe,{onSelectionContextMenu:z,noPanClassName:K,disableKeyboardA11y:J})]})})}WJ.displayName="FlowRenderer";const Ipe=F.memo(WJ),kpe=t=>e=>t?Z5(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Mpe(t){return xn(F.useCallback(kpe(t),[t]),xr)}const Npe=t=>t.updateNodeInternals;function Dpe(){const t=xn(Npe),[e]=F.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return F.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function Lpe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Tr(),o=F.useRef(null),s=F.useRef(null),a=F.useRef(t.sourcePosition),l=F.useRef(t.targetPosition),u=F.useRef(e),c=n&&!!t.internals.handleBounds;return F.useEffect(()=>{o.current&&!t.hidden&&(!c||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[c,t.hidden]),F.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),F.useEffect(()=>{if(o.current){const d=u.current!==e,h=a.current!==t.sourcePosition,p=l.current!==t.targetPosition;(d||h||p)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function Ope({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:m,rfId:y,nodeTypes:x,nodeClickDistance:w,onError:E}){const{node:S,internals:T,isParent:k}=xn(te=>{const ce=te.nodeLookup.get(t),fe=te.parentLookup.has(t);return{node:ce,internals:ce.internals,isParent:fe}},xr);let N=S.type||"default",R=(x==null?void 0:x[N])||k6[N];R===void 0&&(E==null||E("003",Mu.error003(N)),N="default",R=k6.default);const M=!!(S.draggable||a&&typeof S.draggable>"u"),L=!!(S.selectable||l&&typeof S.selectable>"u"),I=!!(S.connectable||u&&typeof S.connectable>"u"),O=!!(S.focusable||c&&typeof S.focusable>"u"),V=Tr(),$=pJ(S),z=Lpe({node:S,nodeType:N,hasDimensions:$,resizeObserver:d}),W=HJ({nodeRef:z,disabled:S.hidden||!M,noDragClassName:h,handleSelector:S.dragHandle,nodeId:t,isSelectable:L,nodeClickDistance:w}),K=qJ();if(S.hidden)return null;const J=ud(S),Q=Tpe(S),X=L||M||e||n||r||i,j=n?te=>n(te,{...T.userNode}):void 0,Y=r?te=>r(te,{...T.userNode}):void 0,ue=i?te=>i(te,{...T.userNode}):void 0,q=o?te=>o(te,{...T.userNode}):void 0,de=s?te=>s(te,{...T.userNode}):void 0,se=te=>{const{selectNodesOnDrag:ce,nodeDragThreshold:fe}=V.getState();L&&(!ce||!M||fe>0)&&zL({id:t,store:V,nodeRef:z}),e&&e(te,{...T.userNode})},ee=te=>{if(!(yJ(te.nativeEvent)||m)){if(oJ.includes(te.key)&&L){const ce=te.key==="Escape";zL({id:t,store:V,unselect:ce,nodeRef:z})}else if(M&&S.selected&&Object.prototype.hasOwnProperty.call(vT,te.key)){te.preventDefault();const{ariaLabelConfig:ce}=V.getState();V.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:te.key.replace("Arrow","").toLowerCase(),x:~~T.positionAbsolute.x,y:~~T.positionAbsolute.y})}),K({direction:vT[te.key],factor:te.shiftKey?4:1})}}},ae=()=>{var Ee;if(m||!((Ee=z.current)!=null&&Ee.matches(":focus-visible")))return;const{transform:te,width:ce,height:fe,autoPanOnNodeFocus:ge,setCenter:xe}=V.getState();if(!ge)return;Z5(new Map([[t,S]]),{x:0,y:0,width:ce,height:fe},te,!0).length>0||xe(S.position.x+J.width/2,S.position.y+J.height/2,{zoom:te[2]})};return D.jsx("div",{className:ci(["react-flow__node",`react-flow__node-${N}`,{[p]:M},S.className,{selected:S.selected,selectable:L,parent:k,draggable:M,dragging:W}]),ref:z,style:{zIndex:T.z,transform:`translate(${T.positionAbsolute.x}px,${T.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:$?"visible":"hidden",...S.style,...Q},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:j,onMouseMove:Y,onMouseLeave:ue,onContextMenu:q,onClick:se,onDoubleClick:de,onKeyDown:O?ee:void 0,tabIndex:O?0:void 0,onFocus:O?ae:void 0,role:S.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${LJ}-${y}`,"aria-label":S.ariaLabel,...S.domAttributes,children:D.jsx(vpe,{value:t,children:D.jsx(R,{id:t,data:S.data,type:N,positionAbsoluteX:T.positionAbsolute.x,positionAbsoluteY:T.positionAbsolute.y,selected:S.selected??!1,selectable:L,draggable:M,deletable:S.deletable??!0,isConnectable:I,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:W,dragHandle:S.dragHandle,zIndex:T.z,parentId:S.parentId,...J})})})}const Fpe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function GJ(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=xn(Fpe,xr),s=Mpe(t.onlyRenderVisibleElements),a=Dpe();return D.jsx("div",{className:"react-flow__nodes",style:sR,children:s.map(l=>D.jsx(Ope,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},l))})}GJ.displayName="NodeRenderer";const $pe=F.memo(GJ);function Bpe(t){return xn(F.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&Bfe({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),xr)}const Vpe=({color:t="none",strokeWidth:e=1})=>D.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zpe=({color:t="none",strokeWidth:e=1})=>D.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),N6={[Nv.Arrow]:Vpe,[Nv.ArrowClosed]:zpe};function Upe(t){const e=Tr();return F.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(N6,t)?N6[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",Mu.error009(t)),null)},[t])}const Hpe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Upe(e);return l?D.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:D.jsx(l,{color:n,strokeWidth:s})}):null},KJ=({defaultColor:t,rfId:e})=>{const n=xn(o=>o.edges),r=xn(o=>o.defaultEdgeOptions),i=F.useMemo(()=>Wfe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?D.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:D.jsx("defs",{children:i.map(o=>D.jsx(Hpe,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};KJ.displayName="MarkerDefinitions";var qpe=F.memo(KJ);function YJ({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[d,h]=F.useState({x:1,y:0,width:0,height:0}),p=ci(["react-flow__edge-textwrapper",u]),m=F.useRef(null);return F.useEffect(()=>{if(m.current){const y=m.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?D.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&D.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),D.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}YJ.displayName="EdgeText";const jpe=F.memo(YJ);function f0({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return D.jsxs(D.Fragment,{children:[D.jsx("path",{...c,d:t,fill:"none",className:ci(["react-flow__edge-path",c.className])}),u&&D.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&dl(e)&&dl(n)?D.jsx(jpe,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function D6({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===gt.Left||t===gt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function a$({sourceX:t,sourceY:e,sourcePosition:n=gt.Bottom,targetX:r,targetY:i,targetPosition:o=gt.Top}){const[s,a]=D6({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=D6({pos:o,x1:r,y1:i,x2:t,y2:e}),[c,d,h,p]=bJ({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${a} ${l},${u} ${r},${i}`,c,d,h,p]}function XJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:w})=>{const[E,S,T]=a$({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),k=t.isInternal?void 0:e;return D.jsx(f0,{id:k,path:E,labelX:S,labelY:T,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:w})})}const Wpe=XJ({isInternal:!1}),JJ=XJ({isInternal:!0});Wpe.displayName="SimpleBezierEdge";JJ.displayName="SimpleBezierEdgeInternal";function QJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,sourcePosition:p=gt.Bottom,targetPosition:m=gt.Top,markerEnd:y,markerStart:x,pathOptions:w,interactionWidth:E})=>{const[S,T,k]=FL({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:m,borderRadius:w==null?void 0:w.borderRadius,offset:w==null?void 0:w.offset}),N=t.isInternal?void 0:e;return D.jsx(f0,{id:N,path:S,labelX:T,labelY:k,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:y,markerStart:x,interactionWidth:E})})}const ZJ=QJ({isInternal:!1}),eQ=QJ({isInternal:!0});ZJ.displayName="SmoothStepEdge";eQ.displayName="SmoothStepEdgeInternal";function tQ(t){return F.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return D.jsx(ZJ,{...n,id:r,pathOptions:F.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Gpe=tQ({isInternal:!1}),nQ=tQ({isInternal:!0});Gpe.displayName="StepEdge";nQ.displayName="StepEdgeInternal";function rQ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:m,interactionWidth:y})=>{const[x,w,E]=_J({sourceX:n,sourceY:r,targetX:i,targetY:o}),S=t.isInternal?void 0:e;return D.jsx(f0,{id:S,path:x,labelX:w,labelY:E,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:m,interactionWidth:y})})}const Kpe=rQ({isInternal:!1}),iQ=rQ({isInternal:!0});Kpe.displayName="StraightEdge";iQ.displayName="StraightEdgeInternal";function oQ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=gt.Bottom,targetPosition:a=gt.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,pathOptions:w,interactionWidth:E})=>{const[S,T,k]=rR({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:w==null?void 0:w.curvature}),N=t.isInternal?void 0:e;return D.jsx(f0,{id:N,path:S,labelX:T,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:E})})}const Ype=oQ({isInternal:!1}),sQ=oQ({isInternal:!0});Ype.displayName="BezierEdge";sQ.displayName="BezierEdgeInternal";const L6={default:sQ,straight:iQ,step:nQ,smoothstep:eQ,simplebezier:JJ},O6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Xpe=(t,e,n)=>n===gt.Left?t-e:n===gt.Right?t+e:t,Jpe=(t,e,n)=>n===gt.Top?t-e:n===gt.Bottom?t+e:t,F6="react-flow__edgeupdater";function $6({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return D.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:ci([F6,`${F6}-${a}`]),cx:Xpe(e,r,t),cy:Jpe(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Qpe({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:h,setUpdateHover:p}){const m=Tr(),y=(T,k)=>{if(T.button!==0)return;const{autoPanOnConnect:N,domNode:R,isValidConnection:M,connectionMode:L,connectionRadius:I,lib:O,onConnectStart:V,onConnectEnd:$,cancelConnection:z,nodeLookup:W,rfId:K,panBy:J,updateConnection:Q}=m.getState(),X=k.type==="target";h(!0),c==null||c(T,n,k.type);const j=(ue,q)=>{h(!1),d==null||d(ue,n,k.type,q)},Y=ue=>u==null?void 0:u(n,ue);VL.onPointerDown(T.nativeEvent,{autoPanOnConnect:N,connectionMode:L,connectionRadius:I,domNode:R,handleId:k.id,nodeId:k.nodeId,nodeLookup:W,isTarget:X,edgeUpdaterType:k.type,lib:O,flowId:K,cancelConnection:z,panBy:J,isValidConnection:M,onConnect:Y,onConnectStart:V,onConnectEnd:$,onReconnectEnd:j,updateConnection:Q,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},x=T=>y(T,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),w=T=>y(T,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>p(!0),S=()=>p(!1);return D.jsxs(D.Fragment,{children:[(t===!0||t==="source")&&D.jsx($6,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:x,onMouseEnter:E,onMouseOut:S,type:"source"}),(t===!0||t==="target")&&D.jsx($6,{position:l,centerX:o,centerY:s,radius:e,onMouseDown:w,onMouseEnter:E,onMouseOut:S,type:"target"})]})}function Zpe({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,rfId:m,edgeTypes:y,noPanClassName:x,onError:w,disableKeyboardA11y:E}){let S=xn(xe=>xe.edgeLookup.get(t));const T=xn(xe=>xe.defaultEdgeOptions);S=T?{...T,...S}:S;let k=S.type||"default",N=(y==null?void 0:y[k])||L6[k];N===void 0&&(w==null||w("011",Mu.error011(k)),k="default",N=L6.default);const R=!!(S.focusable||e&&typeof S.focusable>"u"),M=typeof d<"u"&&(S.reconnectable||n&&typeof S.reconnectable>"u"),L=!!(S.selectable||r&&typeof S.selectable>"u"),I=F.useRef(null),[O,V]=F.useState(!1),[$,z]=F.useState(!1),W=Tr(),{zIndex:K,sourceX:J,sourceY:Q,targetX:X,targetY:j,sourcePosition:Y,targetPosition:ue}=xn(F.useCallback(xe=>{const be=xe.nodeLookup.get(S.source),Ee=xe.nodeLookup.get(S.target);if(!be||!Ee)return{zIndex:S.zIndex,...O6};const Me=jfe({id:t,sourceNode:be,targetNode:Ee,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:xe.connectionMode,onError:w});return{zIndex:$fe({selected:S.selected,zIndex:S.zIndex,sourceNode:be,targetNode:Ee,elevateOnSelect:xe.elevateEdgesOnSelect}),...Me||O6}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),xr),q=F.useMemo(()=>S.markerStart?`url('#${$L(S.markerStart,m)}')`:void 0,[S.markerStart,m]),de=F.useMemo(()=>S.markerEnd?`url('#${$L(S.markerEnd,m)}')`:void 0,[S.markerEnd,m]);if(S.hidden||J===null||Q===null||X===null||j===null)return null;const se=xe=>{var st;const{addSelectedEdges:be,unselectNodesAndEdges:Ee,multiSelectionActive:Me}=W.getState();L&&(W.setState({nodesSelectionActive:!1}),S.selected&&Me?(Ee({nodes:[],edges:[S]}),(st=I.current)==null||st.blur()):be([t])),i&&i(xe,S)},ee=o?xe=>{o(xe,{...S})}:void 0,ae=s?xe=>{s(xe,{...S})}:void 0,te=a?xe=>{a(xe,{...S})}:void 0,ce=l?xe=>{l(xe,{...S})}:void 0,fe=u?xe=>{u(xe,{...S})}:void 0,ge=xe=>{var be;if(!E&&oJ.includes(xe.key)&&L){const{unselectNodesAndEdges:Ee,addSelectedEdges:Me}=W.getState();xe.key==="Escape"?((be=I.current)==null||be.blur(),Ee({edges:[S]})):Me([t])}};return D.jsx("svg",{style:{zIndex:K},children:D.jsxs("g",{className:ci(["react-flow__edge",`react-flow__edge-${k}`,S.className,x,{selected:S.selected,animated:S.animated,inactive:!L&&!i,updating:O,selectable:L}]),onClick:se,onDoubleClick:ee,onContextMenu:ae,onMouseEnter:te,onMouseMove:ce,onMouseLeave:fe,onKeyDown:R?ge:void 0,tabIndex:R?0:void 0,role:S.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":R?`${OJ}-${m}`:void 0,ref:I,...S.domAttributes,children:[!$&&D.jsx(N,{id:t,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:L,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:J,sourceY:Q,targetX:X,targetY:j,sourcePosition:Y,targetPosition:ue,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:q,markerEnd:de,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),M&&D.jsx(Qpe,{edge:S,isReconnectable:M,reconnectRadius:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,sourceX:J,sourceY:Q,targetX:X,targetY:j,sourcePosition:Y,targetPosition:ue,setUpdateHover:V,setReconnecting:z})]})})}const ege=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function aQ({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:y}){const{edgesFocusable:x,edgesReconnectable:w,elementsSelectable:E,onError:S}=xn(ege,xr),T=Bpe(e);return D.jsxs("div",{className:"react-flow__edges",children:[D.jsx(qpe,{defaultColor:t,rfId:n}),T.map(k=>D.jsx(Zpe,{id:k,edgesFocusable:x,edgesReconnectable:w,elementsSelectable:E,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:y},k))]})}aQ.displayName="EdgeRenderer";const tge=F.memo(aQ),nge=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function rge({children:t}){const e=xn(nge);return D.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function ige(t){const e=y1(),n=F.useRef(!1);F.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const oge=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function sge(t){const e=xn(oge),n=Tr();return F.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function age(t){return t.connection.inProgress?{...t.connection,to:m1(t.connection.to,t.transform)}:{...t.connection}}function lge(t){return age}function l$(t){const e=lge();return xn(e,xr)}const uge=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function cge({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=xn(uge,xr);return!(o&&i&&l)?null:D.jsx("svg",{style:t,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:D.jsx("g",{className:ci(["react-flow__connection",lJ(a)]),children:D.jsx(lQ,{style:e,type:n,CustomComponent:r,isValid:a})})})}const lQ=({style:t,type:e=tf.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:d,toPosition:h}=l$();if(!i)return;if(n)return D.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:h,connectionStatus:lJ(r),toNode:c,toHandle:d});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:h};switch(e){case tf.Bezier:[p]=rR(m);break;case tf.SimpleBezier:[p]=a$(m);break;case tf.Step:[p]=FL({...m,borderRadius:0});break;case tf.SmoothStep:[p]=FL(m);break;default:[p]=_J(m)}return D.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};lQ.displayName="ConnectionLine";const dge={};function B6(t=dge){F.useRef(t),Tr(),F.useEffect(()=>{},[t])}function fge(){Tr(),F.useRef(!1),F.useEffect(()=>{},[])}function uQ({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:S,selectionMode:T,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:R,deleteKeyCode:M,onlyRenderVisibleElements:L,elementsSelectable:I,defaultViewport:O,translateExtent:V,minZoom:$,maxZoom:z,preventScrolling:W,defaultMarkerColor:K,zoomOnScroll:J,zoomOnPinch:Q,panOnScroll:X,panOnScrollSpeed:j,panOnScrollMode:Y,zoomOnDoubleClick:ue,panOnDrag:q,onPaneClick:de,onPaneMouseEnter:se,onPaneMouseMove:ee,onPaneMouseLeave:ae,onPaneScroll:te,onPaneContextMenu:ce,paneClickDistance:fe,nodeClickDistance:ge,onEdgeContextMenu:xe,onEdgeMouseEnter:be,onEdgeMouseMove:Ee,onEdgeMouseLeave:Me,reconnectRadius:st,onReconnect:Ve,onReconnectStart:Oe,onReconnectEnd:Qe,noDragClassName:Ye,noWheelClassName:dt,noPanClassName:Pe,disableKeyboardA11y:ut,nodeExtent:rt,rfId:mt,viewport:ve,onViewportChange:Ce}){return B6(t),B6(e),fge(),ige(n),sge(ve),D.jsx(Ipe,{onPaneClick:de,onPaneMouseEnter:se,onPaneMouseMove:ee,onPaneMouseLeave:ae,onPaneContextMenu:ce,onPaneScroll:te,paneClickDistance:fe,deleteKeyCode:M,selectionKeyCode:E,selectionOnDrag:S,selectionMode:T,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:k,panActivationKeyCode:N,zoomActivationKeyCode:R,elementsSelectable:I,zoomOnScroll:J,zoomOnPinch:Q,zoomOnDoubleClick:ue,panOnScroll:X,panOnScrollSpeed:j,panOnScrollMode:Y,panOnDrag:q,defaultViewport:O,translateExtent:V,minZoom:$,maxZoom:z,onSelectionContextMenu:d,preventScrolling:W,noDragClassName:Ye,noWheelClassName:dt,noPanClassName:Pe,disableKeyboardA11y:ut,onViewportChange:Ce,isControlledViewport:!!ve,children:D.jsxs(rge,{children:[D.jsx(tge,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:Ve,onReconnectStart:Oe,onReconnectEnd:Qe,onlyRenderVisibleElements:L,onEdgeContextMenu:xe,onEdgeMouseEnter:be,onEdgeMouseMove:Ee,onEdgeMouseLeave:Me,reconnectRadius:st,defaultMarkerColor:K,noPanClassName:Pe,disableKeyboardA11y:ut,rfId:mt}),D.jsx(cge,{style:y,type:m,component:x,containerStyle:w}),D.jsx("div",{className:"react-flow__edgelabel-renderer"}),D.jsx($pe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:ge,onlyRenderVisibleElements:L,noPanClassName:Pe,noDragClassName:Ye,disableKeyboardA11y:ut,nodeExtent:rt,rfId:mt}),D.jsx("div",{className:"react-flow__viewport-portal"})]})})}uQ.displayName="GraphView";const hge=F.memo(uQ),V6=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:d}={})=>{const h=new Map,p=new Map,m=new Map,y=new Map,x=r??e??[],w=n??t??[],E=c??[0,0],S=d??Qx;EJ(m,y,x);const T=BL(w,h,p,{nodeOrigin:E,nodeExtent:S,elevateNodesOnSelect:!1});let k=[0,0,1];if(s&&i&&o){const N=g1(h,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:R,y:M,zoom:L}=e$(N,i,o,l,u,(a==null?void 0:a.padding)??.1);k=[R,M,L]}return{rfId:"1",width:0,height:0,transform:k,nodes:w,nodesInitialized:T,nodeLookup:h,parentLookup:p,edges:x,edgeLookup:y,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Qx,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Mv.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...aJ},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Mfe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:sJ}},pge=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d})=>Dhe((h,p)=>{async function m(){const{nodeLookup:y,panZoom:x,fitViewOptions:w,fitViewResolver:E,width:S,height:T,minZoom:k,maxZoom:N}=p();x&&(await Ife({nodes:y,width:S,height:T,panZoom:x,minZoom:k,maxZoom:N},w),E==null||E.resolve(!0),h({fitViewResolver:null}))}return{...V6({nodes:t,edges:e,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:x,parentLookup:w,nodeOrigin:E,elevateNodesOnSelect:S,fitViewQueued:T}=p(),k=BL(y,x,w,{nodeOrigin:E,nodeExtent:d,elevateNodesOnSelect:S,checkEquality:!0});T&&k?(m(),h({nodes:y,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:y,nodesInitialized:k})},setEdges:y=>{const{connectionLookup:x,edgeLookup:w}=p();EJ(x,w,y),h({edges:y})},setDefaultNodesAndEdges:(y,x)=>{if(y){const{setNodes:w}=p();w(y),h({hasDefaultNodes:!0})}if(x){const{setEdges:w}=p();w(x),h({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:x,nodeLookup:w,parentLookup:E,domNode:S,nodeOrigin:T,nodeExtent:k,debug:N,fitViewQueued:R}=p(),{changes:M,updatedInternals:L}=Jfe(y,w,E,S,T,k);L&&(Kfe(w,E,{nodeOrigin:T,nodeExtent:k}),R?(m(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(M==null?void 0:M.length)>0&&(N&&console.log("React Flow: trigger node changes",M),x==null||x(M)))},updateNodePositions:(y,x=!1)=>{const w=[],E=[],{nodeLookup:S,triggerNodeChanges:T}=p();for(const[k,N]of y){const R=S.get(k),M=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(N!=null&&N.position)),L={id:k,type:"position",position:M?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:x};M&&R.parentId&&w.push({id:k,parentId:R.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),E.push(L)}if(w.length>0){const{parentLookup:k,nodeOrigin:N}=p(),R=o$(w,S,k,N);E.push(...R)}T(E)},triggerNodeChanges:y=>{const{onNodesChange:x,setNodes:w,nodes:E,hasDefaultNodes:S,debug:T}=p();if(y!=null&&y.length){if(S){const k=BJ(y,E);w(k)}T&&console.log("React Flow: trigger node changes",y),x==null||x(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:x,setEdges:w,edges:E,hasDefaultEdges:S,debug:T}=p();if(y!=null&&y.length){if(S){const k=VJ(y,E);w(k)}T&&console.log("React Flow: trigger edge changes",y),x==null||x(y)}},addSelectedNodes:y=>{const{multiSelectionActive:x,edgeLookup:w,nodeLookup:E,triggerNodeChanges:S,triggerEdgeChanges:T}=p();if(x){const k=y.map(N=>Ph(N,!0));S(k);return}S(vy(E,new Set([...y]),!0)),T(vy(w))},addSelectedEdges:y=>{const{multiSelectionActive:x,edgeLookup:w,nodeLookup:E,triggerNodeChanges:S,triggerEdgeChanges:T}=p();if(x){const k=y.map(N=>Ph(N,!0));T(k);return}T(vy(w,new Set([...y]))),S(vy(E,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:x}={})=>{const{edges:w,nodes:E,nodeLookup:S,triggerNodeChanges:T,triggerEdgeChanges:k}=p(),N=y||E,R=x||w,M=N.map(I=>{const O=S.get(I.id);return O&&(O.selected=!1),Ph(I.id,!1)}),L=R.map(I=>Ph(I.id,!1));T(M),k(L)},setMinZoom:y=>{const{panZoom:x,maxZoom:w}=p();x==null||x.setScaleExtent([y,w]),h({minZoom:y})},setMaxZoom:y=>{const{panZoom:x,minZoom:w}=p();x==null||x.setScaleExtent([w,y]),h({maxZoom:y})},setTranslateExtent:y=>{var x;(x=p().panZoom)==null||x.setTranslateExtent(y),h({translateExtent:y})},setPaneClickDistance:y=>{var x;(x=p().panZoom)==null||x.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:x,triggerNodeChanges:w,triggerEdgeChanges:E,elementsSelectable:S}=p();if(!S)return;const T=x.reduce((N,R)=>R.selected?[...N,Ph(R.id,!1)]:N,[]),k=y.reduce((N,R)=>R.selected?[...N,Ph(R.id,!1)]:N,[]);w(T),E(k)},setNodeExtent:y=>{const{nodes:x,nodeLookup:w,parentLookup:E,nodeOrigin:S,elevateNodesOnSelect:T,nodeExtent:k}=p();y[0][0]===k[0][0]&&y[0][1]===k[0][1]&&y[1][0]===k[1][0]&&y[1][1]===k[1][1]||(BL(x,w,E,{nodeOrigin:S,nodeExtent:y,elevateNodesOnSelect:T,checkEquality:!1}),h({nodeExtent:y}))},panBy:y=>{const{transform:x,width:w,height:E,panZoom:S,translateExtent:T}=p();return Qfe({delta:y,panZoom:S,transform:x,translateExtent:T,width:w,height:E})},setCenter:async(y,x,w)=>{const{width:E,height:S,maxZoom:T,panZoom:k}=p();if(!k)return Promise.resolve(!1);const N=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:T;return await k.setViewport({x:E/2-y*N,y:S/2-x*N,zoom:N},{duration:w==null?void 0:w.duration,ease:w==null?void 0:w.ease,interpolate:w==null?void 0:w.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...aJ}})},updateConnection:y=>{h({connection:y})},reset:()=>h({...V6()})}},Object.is);function cQ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:d,children:h}){const[p]=F.useState(()=>pge({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:d}));return D.jsx(Lhe,{value:p,children:D.jsx(ope,{children:h})})}function gge({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:h}){return F.useContext(oR)?D.jsx(D.Fragment,{children:t}):D.jsx(cQ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:d,nodeExtent:h,children:t})}const mge={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function yge({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:w,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:k,onNodeDoubleClick:N,onNodeDragStart:R,onNodeDrag:M,onNodeDragStop:L,onNodesDelete:I,onEdgesDelete:O,onDelete:V,onSelectionChange:$,onSelectionDragStart:z,onSelectionDrag:W,onSelectionDragStop:K,onSelectionContextMenu:J,onSelectionStart:Q,onSelectionEnd:X,onBeforeDelete:j,connectionMode:Y,connectionLineType:ue=tf.Bezier,connectionLineStyle:q,connectionLineComponent:de,connectionLineContainerStyle:se,deleteKeyCode:ee="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:te=!1,selectionMode:ce=Zx.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ge=yT()?"Meta":"Control",zoomActivationKeyCode:xe=yT()?"Meta":"Control",snapToGrid:be,snapGrid:Ee,onlyRenderVisibleElements:Me=!1,selectNodesOnDrag:st,nodesDraggable:Ve,autoPanOnNodeFocus:Oe,nodesConnectable:Qe,nodesFocusable:Ye,nodeOrigin:dt=FJ,edgesFocusable:Pe,edgesReconnectable:ut,elementsSelectable:rt=!0,defaultViewport:mt=Yhe,minZoom:ve=.5,maxZoom:Ce=2,translateExtent:Ue=Qx,preventScrolling:nt=!0,nodeExtent:Re,defaultMarkerColor:Xe="#b1b1b7",zoomOnScroll:Zt=!0,zoomOnPinch:$t=!0,panOnScroll:en=!1,panOnScrollSpeed:Je=.5,panOnScrollMode:Lt=Vp.Free,zoomOnDoubleClick:pn=!0,panOnDrag:Le=!0,onPaneClick:ot,onPaneMouseEnter:Ht,onPaneMouseMove:Ot,onPaneMouseLeave:qt,onPaneScroll:gn,onPaneContextMenu:jt,paneClickDistance:En=0,nodeClickDistance:Hr=0,children:Kt,onReconnect:pr,onReconnectStart:it,onReconnectEnd:et,onEdgeContextMenu:dn,onEdgeDoubleClick:rn,onEdgeMouseEnter:Fn,onEdgeMouseMove:Jr,onEdgeMouseLeave:Zi,reconnectRadius:di=10,onNodesChange:Pl,onEdgesChange:Hu,noDragClassName:vd="nodrag",noWheelClassName:Fg="nowheel",noPanClassName:Bo="nopan",fitView:Il,fitViewOptions:Vo,connectOnClick:$g,attributionPosition:oh,proOptions:bd,defaultEdgeOptions:xd,elevateNodesOnSelect:sh,elevateEdgesOnSelect:Bg,disableKeyboardA11y:Vg=!1,autoPanOnConnect:Zn,autoPanOnNodeDrag:zg,autoPanSpeed:qu,connectionRadius:kl,isValidConnection:zo,onError:ah,style:Ug,id:Ml,nodeDragThreshold:So,viewport:Hg,onViewportChange:Di,width:lh,height:qg,colorMode:jg="light",debug:wd,onScroll:Aa,ariaLabelConfig:Nl,...ju},N0){const vs=Ml||"1",Eo=Zhe(jg),Wu=F.useCallback(Ra=>{Ra.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Aa==null||Aa(Ra)},[Aa]);return D.jsx("div",{"data-testid":"rf__wrapper",...ju,onScroll:Wu,style:{...Ug,...mge},ref:N0,className:ci(["react-flow",i,Eo]),id:Ml,role:"application",children:D.jsxs(gge,{nodes:t,edges:e,width:lh,height:qg,fitView:Il,fitViewOptions:Vo,minZoom:ve,maxZoom:Ce,nodeOrigin:dt,nodeExtent:Re,children:[D.jsx(hge,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:k,onNodeDoubleClick:N,nodeTypes:o,edgeTypes:s,connectionLineType:ue,connectionLineStyle:q,connectionLineComponent:de,connectionLineContainerStyle:se,selectionKeyCode:ae,selectionOnDrag:te,selectionMode:ce,deleteKeyCode:ee,multiSelectionKeyCode:ge,panActivationKeyCode:fe,zoomActivationKeyCode:xe,onlyRenderVisibleElements:Me,defaultViewport:mt,translateExtent:Ue,minZoom:ve,maxZoom:Ce,preventScrolling:nt,zoomOnScroll:Zt,zoomOnPinch:$t,zoomOnDoubleClick:pn,panOnScroll:en,panOnScrollSpeed:Je,panOnScrollMode:Lt,panOnDrag:Le,onPaneClick:ot,onPaneMouseEnter:Ht,onPaneMouseMove:Ot,onPaneMouseLeave:qt,onPaneScroll:gn,onPaneContextMenu:jt,paneClickDistance:En,nodeClickDistance:Hr,onSelectionContextMenu:J,onSelectionStart:Q,onSelectionEnd:X,onReconnect:pr,onReconnectStart:it,onReconnectEnd:et,onEdgeContextMenu:dn,onEdgeDoubleClick:rn,onEdgeMouseEnter:Fn,onEdgeMouseMove:Jr,onEdgeMouseLeave:Zi,reconnectRadius:di,defaultMarkerColor:Xe,noDragClassName:vd,noWheelClassName:Fg,noPanClassName:Bo,rfId:vs,disableKeyboardA11y:Vg,nodeExtent:Re,viewport:Hg,onViewportChange:Di}),D.jsx(Qhe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:w,nodesDraggable:Ve,autoPanOnNodeFocus:Oe,nodesConnectable:Qe,nodesFocusable:Ye,edgesFocusable:Pe,edgesReconnectable:ut,elementsSelectable:rt,elevateNodesOnSelect:sh,elevateEdgesOnSelect:Bg,minZoom:ve,maxZoom:Ce,nodeExtent:Re,onNodesChange:Pl,onEdgesChange:Hu,snapToGrid:be,snapGrid:Ee,connectionMode:Y,translateExtent:Ue,connectOnClick:$g,defaultEdgeOptions:xd,fitView:Il,fitViewOptions:Vo,onNodesDelete:I,onEdgesDelete:O,onDelete:V,onNodeDragStart:R,onNodeDrag:M,onNodeDragStop:L,onSelectionDrag:W,onSelectionDragStart:z,onSelectionDragStop:K,onMove:c,onMoveStart:d,onMoveEnd:h,noPanClassName:Bo,nodeOrigin:dt,rfId:vs,autoPanOnConnect:Zn,autoPanOnNodeDrag:zg,autoPanSpeed:qu,onError:ah,connectionRadius:kl,isValidConnection:zo,selectNodesOnDrag:st,nodeDragThreshold:So,onBeforeDelete:j,paneClickDistance:En,debug:wd,ariaLabelConfig:Nl}),D.jsx(Khe,{onSelectionChange:$}),Kt,D.jsx(Hhe,{proOptions:bd,position:oh}),D.jsx(zhe,{rfId:vs,disableKeyboardA11y:Vg})]})})}var vge=zJ(yge);const bge=t=>{var e;return(e=t.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function dQ({children:t}){const e=xn(bge);return e?jc.createPortal(t,e):null}const xge=t=>t.nodes;function wge(){return xn(xge,xr)}function _ge(t){const[e,n]=F.useState(t),r=F.useCallback(i=>n(o=>BJ(i,o)),[]);return[e,n,r]}function Sge(t){const[e,n]=F.useState(t),r=F.useCallback(i=>n(o=>VJ(i,o)),[]);return[e,n,r]}function z6(t){return xn(F.useCallback(n=>n.nodeLookup.get(t),[t]),xr)}function Ege({dimensions:t,lineWidth:e,variant:n,className:r}){return D.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:ci(["react-flow__background-pattern",n,r])})}function Cge({radius:t,className:e}){return D.jsx("circle",{cx:t,cy:t,r:t,className:ci(["react-flow__background-pattern","dots",e])})}var kf;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(kf||(kf={}));const Tge={[kf.Dots]:1,[kf.Lines]:1,[kf.Cross]:6},Age=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function fQ({id:t,variant:e=kf.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:u,patternClassName:c}){const d=F.useRef(null),{transform:h,patternId:p}=xn(Age,xr),m=r||Tge[e],y=e===kf.Dots,x=e===kf.Cross,w=Array.isArray(n)?n:[n,n],E=[w[0]*h[2]||1,w[1]*h[2]||1],S=m*h[2],T=Array.isArray(o)?o:[o,o],k=x?[S,S]:E,N=[T[0]*h[2]||1+k[0]/2,T[1]*h[2]||1+k[1]/2],R=`${p}${t||""}`;return D.jsxs("svg",{className:ci(["react-flow__background",u]),style:{...l,...sR,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[D.jsx("pattern",{id:R,x:h[0]%E[0],y:h[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:y?D.jsx(Cge,{radius:S/2,className:c}):D.jsx(Ege,{dimensions:k,lineWidth:i,variant:e,className:c})}),D.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}fQ.displayName="Background";const Rge=F.memo(fQ);function Pge(){return D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:D.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Ige(){return D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:D.jsx("path",{d:"M0 0h32v4.2H0z"})})}function kge(){return D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:D.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Mge(){return D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:D.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Nge(){return D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:D.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function pE({children:t,className:e,...n}){return D.jsx("button",{type:"button",className:ci(["react-flow__controls-button",e]),...n,children:t})}const Dge=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function hQ({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:h="vertical","aria-label":p}){const m=Tr(),{isInteractive:y,minZoomReached:x,maxZoomReached:w,ariaLabelConfig:E}=xn(Dge,xr),{zoomIn:S,zoomOut:T,fitView:k}=y1(),N=()=>{S(),o==null||o()},R=()=>{T(),s==null||s()},M=()=>{k(i),a==null||a()},L=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},I=h==="horizontal"?"horizontal":"vertical";return D.jsxs($v,{className:ci(["react-flow__controls",I,u]),position:d,style:t,"data-testid":"rf__controls","aria-label":p??E["controls.ariaLabel"],children:[e&&D.jsxs(D.Fragment,{children:[D.jsx(pE,{onClick:N,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:w,children:D.jsx(Pge,{})}),D.jsx(pE,{onClick:R,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:x,children:D.jsx(Ige,{})})]}),n&&D.jsx(pE,{className:"react-flow__controls-fitview",onClick:M,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:D.jsx(kge,{})}),r&&D.jsx(pE,{className:"react-flow__controls-interactive",onClick:L,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:y?D.jsx(Nge,{}):D.jsx(Mge,{})}),c]})}hQ.displayName="Controls";const Lge=F.memo(hQ);function Oge({id:t,x:e,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,selected:h,onClick:p}){const{background:m,backgroundColor:y}=o||{},x=s||m||y;return D.jsx("rect",{className:ci(["react-flow__minimap-node",{selected:h},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:x,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?w=>p(w,t):void 0})}const Fge=F.memo(Oge),$ge=t=>t.nodes.map(e=>e.id),wk=t=>t instanceof Function?t:()=>t;function Bge({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=Fge,onClick:s}){const a=xn($ge,xr),l=wk(e),u=wk(t),c=wk(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return D.jsx(D.Fragment,{children:a.map(h=>D.jsx(zge,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},h))})}function Vge({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:u,x:c,y:d,width:h,height:p}=xn(m=>{const{internals:y}=m.nodeLookup.get(t),x=y.userNode,{x:w,y:E}=y.positionAbsolute,{width:S,height:T}=ud(x);return{node:x,x:w,y:E,width:S,height:T}},xr);return!u||u.hidden||!pJ(u)?null:D.jsx(a,{x:c,y:d,width:h,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:l,id:u.id})}const zge=F.memo(Vge);var Uge=F.memo(Bge);const Hge=200,qge=150,jge=t=>!t.hidden,Wge=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?hJ(g1(t.nodeLookup,{filter:jge}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},Gge="react-flow__minimap-desc";function pQ({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:d,position:h="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:x=!1,ariaLabel:w,inversePan:E,zoomStep:S=10,offsetScale:T=5}){const k=Tr(),N=F.useRef(null),{boundingRect:R,viewBB:M,rfId:L,panZoom:I,translateExtent:O,flowWidth:V,flowHeight:$,ariaLabelConfig:z}=xn(Wge,xr),W=(t==null?void 0:t.width)??Hge,K=(t==null?void 0:t.height)??qge,J=R.width/W,Q=R.height/K,X=Math.max(J,Q),j=X*W,Y=X*K,ue=T*X,q=R.x-(j-R.width)/2-ue,de=R.y-(Y-R.height)/2-ue,se=j+ue*2,ee=Y+ue*2,ae=`${Gge}-${L}`,te=F.useRef(0),ce=F.useRef();te.current=X,F.useEffect(()=>{if(N.current&&I)return ce.current=she({domNode:N.current,panZoom:I,getTransform:()=>k.getState().transform,getViewScale:()=>te.current}),()=>{var be;(be=ce.current)==null||be.destroy()}},[I]),F.useEffect(()=>{var be;(be=ce.current)==null||be.update({translateExtent:O,width:V,height:$,inversePan:E,pannable:y,zoomStep:S,zoomable:x})},[y,x,E,S,O,V,$]);const fe=p?be=>{var st;const[Ee,Me]=((st=ce.current)==null?void 0:st.pointer(be))||[0,0];p(be,{x:Ee,y:Me})}:void 0,ge=m?F.useCallback((be,Ee)=>{const Me=k.getState().nodeLookup.get(Ee).internals.userNode;m(be,Me)},[]):void 0,xe=w??z["minimap.ariaLabel"];return D.jsx($v,{position:h,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*X:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ci(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:D.jsxs("svg",{width:W,height:K,viewBox:`${q} ${de} ${se} ${ee}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ae,ref:N,onClick:fe,children:[xe&&D.jsx("title",{id:ae,children:xe}),D.jsx(Uge,{onClick:ge,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),D.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-ue},${de-ue}h${se+ue*2}v${ee+ue*2}h${-se-ue*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}pQ.displayName="MiniMap";const Kge=F.memo(pQ),Yge=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,Xge={[Fv.Line]:"right",[Fv.Handle]:"bottom-right"};function Jge({nodeId:t,position:e,variant:n=Fv.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:p=!0,shouldResize:m,onResizeStart:y,onResize:x,onResizeEnd:w}){const E=jJ(),S=typeof t=="string"?t:E,T=Tr(),k=F.useRef(null),N=n===Fv.Handle,R=xn(F.useCallback(Yge(N&&p),[N,p]),xr),M=F.useRef(null),L=e??Xge[n];F.useEffect(()=>{if(!(!k.current||!S))return M.current||(M.current=_he({domNode:k.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:O,transform:V,snapGrid:$,snapToGrid:z,nodeOrigin:W,domNode:K}=T.getState();return{nodeLookup:O,transform:V,snapGrid:$,snapToGrid:z,nodeOrigin:W,paneDomNode:K}},onChange:(O,V)=>{const{triggerNodeChanges:$,nodeLookup:z,parentLookup:W,nodeOrigin:K}=T.getState(),J=[],Q={x:O.x,y:O.y},X=z.get(S);if(X&&X.expandParent&&X.parentId){const j=X.origin??K,Y=O.width??X.measured.width??0,ue=O.height??X.measured.height??0,q={id:X.id,parentId:X.parentId,rect:{width:Y,height:ue,...gJ({x:O.x??X.position.x,y:O.y??X.position.y},{width:Y,height:ue},X.parentId,z,j)}},de=o$([q],z,W,K);J.push(...de),Q.x=O.x?Math.max(j[0]*Y,O.x):void 0,Q.y=O.y?Math.max(j[1]*ue,O.y):void 0}if(Q.x!==void 0&&Q.y!==void 0){const j={id:S,type:"position",position:{...Q}};J.push(j)}if(O.width!==void 0&&O.height!==void 0){const Y={id:S,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};J.push(Y)}for(const j of V){const Y={...j,type:"position"};J.push(Y)}$(J)},onEnd:({width:O,height:V})=>{const $={id:S,type:"dimensions",resizing:!1,dimensions:{width:O,height:V}};T.getState().triggerNodeChanges([$])}})),M.current.update({controlPosition:L,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:d,resizeDirection:h,onResizeStart:y,onResize:x,onResizeEnd:w,shouldResize:m}),()=>{var O;(O=M.current)==null||O.destroy()}},[L,a,l,u,c,d,y,x,w,m]);const I=L.split("-");return D.jsx("div",{className:ci(["react-flow__resize-control","nodrag",...I,n,r]),ref:k,style:{...i,scale:R,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:o})}F.memo(Jge);const Bi=[];for(let t=0;t<256;++t)Bi.push((t+256).toString(16).slice(1));function Qge(t,e=0){return(Bi[t[e+0]]+Bi[t[e+1]]+Bi[t[e+2]]+Bi[t[e+3]]+"-"+Bi[t[e+4]]+Bi[t[e+5]]+"-"+Bi[t[e+6]]+Bi[t[e+7]]+"-"+Bi[t[e+8]]+Bi[t[e+9]]+"-"+Bi[t[e+10]]+Bi[t[e+11]]+Bi[t[e+12]]+Bi[t[e+13]]+Bi[t[e+14]]+Bi[t[e+15]]).toLowerCase()}let _k;const Zge=new Uint8Array(16);function eme(){if(!_k){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_k=crypto.getRandomValues.bind(crypto)}return _k(Zge)}const tme=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),U6={randomUUID:tme};function Qd(t,e,n){var i;if(U6.randomUUID&&!t)return U6.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??eme();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Qge(r)}const nme=()=>{};var H6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rme=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gQ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rme(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new ime;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ime extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ome=function(t){const e=gQ(t);return mQ.encodeByteArray(e,!0)},bT=function(t){return ome(t).replace(/\./g,"")},sme=function(t){try{return mQ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ame(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lme=()=>ame().__FIREBASE_DEFAULTS__,ume=()=>{if(typeof process>"u"||typeof H6>"u")return;const t=H6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cme=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sme(t[1]);return e&&JSON.parse(e)},u$=()=>{try{return nme()||lme()||ume()||cme()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dme=t=>{var e,n;return(n=(e=u$())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yQ=t=>{const e=dme(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vQ=()=>{var t;return(t=u$())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){return t.endsWith(".cloudworkstations.dev")}async function bQ(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bT(JSON.stringify(n)),bT(JSON.stringify(s)),""].join(".")}const Ax={};function hme(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ax))Ax[e]?t.emulator.push(e):t.prod.push(e);return t}function pme(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let q6=!1;function wQ(t,e){if(typeof window>"u"||typeof document>"u"||!v1(window.location.host)||Ax[t]===e||Ax[t]||q6)return;Ax[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=hme().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{q6=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=pme(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),c(x,y);const T=u();l(E,w),S.append(E,m,x,T),document.body.appendChild(S)}o?(m.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gme(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mme(){var t;const e=(t=u$())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yme(){return!mme()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vme(){try{return typeof indexedDB=="object"}catch{return!1}}function bme(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xme="FirebaseError";class pg extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xme,Object.setPrototypeOf(this,pg.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_Q.prototype.create)}}class _Q{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wme(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new pg(i,a,r)}}function wme(t,e){return t.replace(_me,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _me=/\{\$([^}]+)}/g;function xT(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(j6(o)&&j6(s)){if(!xT(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function j6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){return t&&t._delegate?t._delegate:t}class Bv{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fme;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cme(e))try{this.getOrInitializeService({instanceIdentifier:Ih})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ih){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ih){return this.instances.has(e)}getOptions(e=Ih){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Eme(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ih){return this.component?this.component.multipleInstances?e:Ih:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Eme(t){return t===Ih?void 0:t}function Cme(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tme{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sme(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dn||(Dn={}));const Ame={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},Rme=Dn.INFO,Pme={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},Ime=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Pme[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class SQ{constructor(e){this.name=e,this._logLevel=Rme,this._logHandler=Ime,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ame[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...e),this._logHandler(this,Dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...e),this._logHandler(this,Dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...e),this._logHandler(this,Dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...e),this._logHandler(this,Dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...e),this._logHandler(this,Dn.ERROR,...e)}}const kme=(t,e)=>e.some(n=>t instanceof n);let W6,G6;function Mme(){return W6||(W6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nme(){return G6||(G6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EQ=new WeakMap,UL=new WeakMap,CQ=new WeakMap,Sk=new WeakMap,c$=new WeakMap;function Dme(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Mf(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&EQ.set(n,t)}).catch(()=>{}),c$.set(e,t),e}function Lme(t){if(UL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});UL.set(t,e)}let HL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return UL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CQ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ome(t){HL=t(HL)}function Fme(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ek(this),e,...n);return CQ.set(r,e.sort?e.sort():[e]),Mf(r)}:Nme().includes(t)?function(...e){return t.apply(Ek(this),e),Mf(EQ.get(this))}:function(...e){return Mf(t.apply(Ek(this),e))}}function $me(t){return typeof t=="function"?Fme(t):(t instanceof IDBTransaction&&Lme(t),kme(t,Mme())?new Proxy(t,HL):t)}function Mf(t){if(t instanceof IDBRequest)return Dme(t);if(Sk.has(t))return Sk.get(t);const e=$me(t);return e!==t&&(Sk.set(t,e),c$.set(e,t)),e}const Ek=t=>c$.get(t);function Bme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Mf(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Mf(s.result),l.oldVersion,l.newVersion,Mf(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Vme=["get","getKey","getAll","getAllKeys","count"],zme=["put","add","delete","clear"],Ck=new Map;function K6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ck.get(e))return Ck.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Vme.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ck.set(e,o),o}Ome(t=>({...t,get:(e,n,r)=>K6(e,n)||t.get(e,n,r),has:(e,n)=>!!K6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ume{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Hme(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qL="@firebase/app",Y6="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new SQ("@firebase/app"),qme="@firebase/app-compat",jme="@firebase/analytics-compat",Wme="@firebase/analytics",Gme="@firebase/app-check-compat",Kme="@firebase/app-check",Yme="@firebase/auth",Xme="@firebase/auth-compat",Jme="@firebase/database",Qme="@firebase/data-connect",Zme="@firebase/database-compat",eye="@firebase/functions",tye="@firebase/functions-compat",nye="@firebase/installations",rye="@firebase/installations-compat",iye="@firebase/messaging",oye="@firebase/messaging-compat",sye="@firebase/performance",aye="@firebase/performance-compat",lye="@firebase/remote-config",uye="@firebase/remote-config-compat",cye="@firebase/storage",dye="@firebase/storage-compat",fye="@firebase/firestore",hye="@firebase/ai",pye="@firebase/firestore-compat",gye="firebase",mye="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="[DEFAULT]",yye={[qL]:"fire-core",[qme]:"fire-core-compat",[Wme]:"fire-analytics",[jme]:"fire-analytics-compat",[Kme]:"fire-app-check",[Gme]:"fire-app-check-compat",[Yme]:"fire-auth",[Xme]:"fire-auth-compat",[Jme]:"fire-rtdb",[Qme]:"fire-data-connect",[Zme]:"fire-rtdb-compat",[eye]:"fire-fn",[tye]:"fire-fn-compat",[nye]:"fire-iid",[rye]:"fire-iid-compat",[iye]:"fire-fcm",[oye]:"fire-fcm-compat",[sye]:"fire-perf",[aye]:"fire-perf-compat",[lye]:"fire-rc",[uye]:"fire-rc-compat",[cye]:"fire-gcs",[dye]:"fire-gcs-compat",[fye]:"fire-fst",[pye]:"fire-fst-compat",[hye]:"fire-vertex","fire-js":"fire-js",[gye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map,vye=new Map,WL=new Map;function X6(t,e){try{t.container.addComponent(e)}catch(n){ed.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rw(t){const e=t.name;if(WL.has(e))return ed.debug(`There were multiple attempts to register component ${e}.`),!1;WL.set(e,t);for(const n of wT.values())X6(n,t);for(const n of vye.values())X6(n,t);return!0}function TQ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function AQ(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nf=new _Q("app","Firebase",bye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xye{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=mye;function PQ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jL,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Nf.create("bad-app-name",{appName:String(i)});if(n||(n=vQ()),!n)throw Nf.create("no-options");const o=wT.get(i);if(o){if(xT(n,o.options)&&xT(r,o.config))return o;throw Nf.create("duplicate-app",{appName:i})}const s=new Tme(i);for(const l of WL.values())s.addComponent(l);const a=new xye(n,r,s);return wT.set(i,a),a}function IQ(t=jL){const e=wT.get(t);if(!e&&t===jL&&vQ())return PQ();if(!e)throw Nf.create("no-app",{appName:t});return e}function Df(t,e,n){var r;let i=(r=yye[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ed.warn(a.join(" "));return}rw(new Bv(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wye="firebase-heartbeat-database",_ye=1,iw="firebase-heartbeat-store";let Tk=null;function kQ(){return Tk||(Tk=Bme(wye,_ye,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iw)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nf.create("idb-open",{originalErrorMessage:t.message})})),Tk}async function Sye(t){try{const n=(await kQ()).transaction(iw),r=await n.objectStore(iw).get(MQ(t));return await n.done,r}catch(e){if(e instanceof pg)ed.warn(e.message);else{const n=Nf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ed.warn(n.message)}}}async function J6(t,e){try{const r=(await kQ()).transaction(iw,"readwrite");await r.objectStore(iw).put(e,MQ(t)),await r.done}catch(n){if(n instanceof pg)ed.warn(n.message);else{const r=Nf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ed.warn(r.message)}}}function MQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eye=1024,Cye=30;class Tye{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rye(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Q6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Cye){const s=Pye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ed.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q6(),{heartbeatsToSend:r,unsentEntries:i}=Aye(this._heartbeatsCache.heartbeats),o=bT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ed.warn(n),""}}}function Q6(){return new Date().toISOString().substring(0,10)}function Aye(t,e=Eye){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Z6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Z6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vme()?bme().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sye(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return J6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Z6(t){return bT(JSON.stringify({version:2,heartbeats:t})).length}function Pye(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iye(t){rw(new Bv("platform-logger",e=>new Ume(e),"PRIVATE")),rw(new Bv("heartbeat",e=>new Tye(e),"PRIVATE")),Df(qL,Y6,t),Df(qL,Y6,"esm2017"),Df("fire-js","")}Iye("");var kye="firebase",Mye="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Df(kye,Mye,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ="firebasestorage.googleapis.com",DQ="storageBucket",Nye=2*60*1e3,Dye=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends pg{constructor(e,n,r=0){super(Ak(e),`Firebase Storage: ${n} (${Ak(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ak(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zr||(zr={}));function Ak(t){return"storage/"+t}function d$(){const t="An unknown error occurred, please check the error payload for server response.";return new Ur(zr.UNKNOWN,t)}function Lye(t){return new Ur(zr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Oye(t){return new Ur(zr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Fye(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ur(zr.UNAUTHENTICATED,t)}function $ye(){return new Ur(zr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Bye(t){return new Ur(zr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Vye(){return new Ur(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zye(){return new Ur(zr.CANCELED,"User canceled the upload/download.")}function Uye(t){return new Ur(zr.INVALID_URL,"Invalid URL '"+t+"'.")}function Hye(t){return new Ur(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function qye(){return new Ur(zr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DQ+"' property when initializing the app?")}function jye(){return new Ur(zr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wye(){return new Ur(zr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Gye(t){return new Ur(zr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function GL(t){return new Ur(zr.INVALID_ARGUMENT,t)}function LQ(){return new Ur(zr.APP_DELETED,"The Firebase app was deleted.")}function Kye(t){return new Ur(zr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rx(t,e){return new Ur(zr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hb(t){throw new Ur(zr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vs.makeFromUrl(e,n)}catch{return new Vs(e,"")}if(r.path==="")return r;throw Hye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===NQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${x}`,"i"),S=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<S.length;T++){const k=S[T],N=k.regex.exec(e);if(N){const R=N[k.indices.bucket];let M=N[k.indices.path];M||(M=""),r=new Vs(R,M),k.postModify(r);break}}if(r==null)throw Uye(e);return r}}class Yye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xye(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...x){u||(u=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){o&&clearTimeout(o)}function p(x,...w){if(u){h();return}if(x){h(),c.call(null,x,...w);return}if(l()||s){h(),c.call(null,x,...w);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function y(x){m||(m=!0,h(),!u&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function Jye(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qye(t){return t!==void 0}function Zye(t){return typeof t=="object"&&!Array.isArray(t)}function f$(t){return typeof t=="string"||t instanceof String}function eU(t){return h$()&&t instanceof Blob}function h$(){return typeof Blob<"u"}function tU(t,e,n,r){if(r<e)throw GL(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw GL(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function OQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var zp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zp||(zp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eve(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tve{constructor(e,n,r,i,o,s,a,l,u,c,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gE(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===zp.NO_ERROR,l=o.getStatus();if(!a||eve(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===zp.ABORT;r(!1,new gE(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new gE(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Qye(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=d$();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?LQ():zye();s(l)}else{const l=Vye();s(l)}};this.canceled_?n(!1,new gE(!1,null,!0)):this.backoffId_=Xye(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Jye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nve(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rve(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ive(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ove(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sve(t,e,n,r,i,o,s=!0,a=!1){const l=OQ(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return ive(c,e),nve(c,n),rve(c,o),ove(c,r),new tve(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ave(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lve(...t){const e=ave();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(h$())return new Blob(t);throw new Ur(zr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uve(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cve(t){if(typeof atob>"u")throw Gye("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rk{constructor(e,n){this.data=e,this.contentType=n||null}}function dve(t,e){switch(t){case bu.RAW:return new Rk(FQ(e));case bu.BASE64:case bu.BASE64URL:return new Rk($Q(t,e));case bu.DATA_URL:return new Rk(hve(e),pve(e))}throw d$()}function FQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function fve(t){let e;try{e=decodeURIComponent(t)}catch{throw Rx(bu.DATA_URL,"Malformed data URL.")}return FQ(e)}function $Q(t,e){switch(t){case bu.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Rx(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bu.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Rx(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cve(e)}catch(i){throw i.message.includes("polyfill")?i:Rx(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class BQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rx(bu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=gve(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hve(t){const e=new BQ(t);return e.base64?$Q(bu.BASE64,e.rest):fve(e.rest)}function pve(t){return new BQ(t).contentType}function gve(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){let r=0,i="";eU(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(eU(this.data_)){const r=this.data_,i=uve(r,e,n);return i===null?null:new nf(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new nf(r,!0)}}static getBlob(...e){if(h$()){const n=e.map(r=>r instanceof nf?r.data_:r);return new nf(lve.apply(null,n))}else{const n=e.map(s=>f$(s)?dve(bu.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new nf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t){let e;try{e=JSON.parse(t)}catch{return null}return Zye(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mve(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yve(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vve(t,e){return e}class Ro{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||vve}}let mE=null;function bve(t){return!f$(t)||t.length<2?t:zQ(t)}function UQ(){if(mE)return mE;const t=[];t.push(new Ro("bucket")),t.push(new Ro("generation")),t.push(new Ro("metageneration")),t.push(new Ro("name","fullPath",!0));function e(o,s){return bve(s)}const n=new Ro("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Ro("size");return i.xform=r,t.push(i),t.push(new Ro("timeCreated")),t.push(new Ro("updated")),t.push(new Ro("md5Hash",null,!0)),t.push(new Ro("cacheControl",null,!0)),t.push(new Ro("contentDisposition",null,!0)),t.push(new Ro("contentEncoding",null,!0)),t.push(new Ro("contentLanguage",null,!0)),t.push(new Ro("contentType",null,!0)),t.push(new Ro("metadata","customMetadata",!0)),mE=t,mE}function xve(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Vs(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function wve(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return xve(r,t),r}function HQ(t,e,n){const r=VQ(e);return r===null?null:wve(t,r,n)}function _ve(t,e,n,r){const i=VQ(e);if(i===null||!f$(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),p=p$(h,n,r),m=OQ({alt:"media",token:u});return p+m})[0]}function Sve(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class qQ{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t){if(!t)throw d$()}function Eve(t,e){function n(r,i){const o=HQ(t,i,e);return jQ(o!==null),o}return n}function Cve(t,e){function n(r,i){const o=HQ(t,i,e);return jQ(o!==null),_ve(o,i,t.host,t._protocol)}return n}function WQ(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=$ye():i=Fye():n.getStatus()===402?i=Oye(t.bucket):n.getStatus()===403?i=Bye(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Tve(t){const e=WQ(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Lye(t.path)),o.serverResponse=i.serverResponse,o}return n}function Ave(t,e,n){const r=e.fullServerUrl(),i=p$(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new qQ(i,o,Cve(t,n),s);return a.errorHandler=Tve(e),a}function Rve(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Pve(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Rve(null,e)),r}function Ive(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let T=0;T<2;T++)S=S+Math.random().toString().slice(2);return S}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=Pve(e,r,i),c=Sve(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=nf.getBlob(d,r,h);if(p===null)throw jye();const m={name:u.fullPath},y=p$(o,t.host,t._protocol),x="POST",w=t.maxUploadRetryTime,E=new qQ(y,x,Eve(t,n),w);return E.urlParams=m,E.headers=s,E.body=p.uploadData(),E.errorHandler=WQ(e),E}class kve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw hb("cannot .send() more than once");if(v1(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Mve extends kve{initXhr(){this.xhr_.responseType="text"}}function GQ(){return new Mve}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this._service=e,n instanceof Vs?this._location=n:this._location=Vs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wp(e,n)}get root(){const e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zQ(this._location.path)}get storage(){return this._service}get parent(){const e=mve(this._location.path);if(e===null)return null;const n=new Vs(this._location.bucket,e);return new Wp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Kye(e)}}function Nve(t,e,n){t._throwIfRoot("uploadBytes");const r=Ive(t.storage,t._location,UQ(),new nf(e,!0),n);return t.storage.makeRequestWithTokens(r,GQ).then(i=>({metadata:i,ref:t}))}function Dve(t){t._throwIfRoot("getDownloadURL");const e=Ave(t.storage,t._location,UQ());return t.storage.makeRequestWithTokens(e,GQ).then(n=>{if(n===null)throw Wye();return n})}function Lve(t,e){const n=yve(t._location.path,e),r=new Vs(t._location.bucket,n);return new Wp(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ove(t){return/^[A-Za-z]+:\/\//.test(t)}function Fve(t,e){return new Wp(t,e)}function KQ(t,e){if(t instanceof g$){const n=t;if(n._bucket==null)throw qye();const r=new Wp(n,n._bucket);return e!=null?KQ(r,e):r}else return e!==void 0?Lve(t,e):t}function $ve(t,e){if(e&&Ove(e)){if(t instanceof g$)return Fve(t,e);throw GL("To use ref(service, url), the first argument must be a Storage instance.")}else return KQ(t,e)}function nU(t,e){const n=e==null?void 0:e[DQ];return n==null?null:Vs.makeFromBucketSpec(n,t)}function Bve(t,e,n,r={}){t.host=`${e}:${n}`;const i=v1(e);i&&(bQ(`https://${t.host}/b`),wQ("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:xQ(o,t.app.options.projectId))}class g${constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=NQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nye,this._maxUploadRetryTime=Dye,this._requests=new Set,i!=null?this._bucket=Vs.makeFromBucketSpec(i,this._host):this._bucket=nU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vs.makeFromBucketSpec(this._url,e):this._bucket=nU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tU("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tU("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(AQ(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wp(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Yye(LQ());{const s=sve(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rU="@firebase/storage",iU="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ="storage";function Vve(t,e,n){return t=Nu(t),Nve(t,e,n)}function zve(t){return t=Nu(t),Dve(t)}function oU(t,e){return t=Nu(t),$ve(t,e)}function Uve(t=IQ(),e){t=Nu(t);const r=TQ(t,YQ).getImmediate({identifier:e}),i=yQ("storage");return i&&Hve(r,...i),r}function Hve(t,e,n,r={}){Bve(t,e,n,r)}function qve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new g$(n,r,i,e,RQ)}function jve(){rw(new Bv(YQ,qve,"PUBLIC").setMultipleInstances(!0)),Df(rU,iU,""),Df(rU,iU,"esm2017")}jve();var sU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lf,XQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,M){function L(){}L.prototype=M.prototype,R.D=M.prototype,R.prototype=new L,R.prototype.constructor=R,R.C=function(I,O,V){for(var $=Array(arguments.length-2),z=2;z<arguments.length;z++)$[z-2]=arguments[z];return M.prototype[O].apply(I,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,M,L){L||(L=0);var I=Array(16);if(typeof M=="string")for(var O=0;16>O;++O)I[O]=M.charCodeAt(L++)|M.charCodeAt(L++)<<8|M.charCodeAt(L++)<<16|M.charCodeAt(L++)<<24;else for(O=0;16>O;++O)I[O]=M[L++]|M[L++]<<8|M[L++]<<16|M[L++]<<24;M=R.g[0],L=R.g[1],O=R.g[2];var V=R.g[3],$=M+(V^L&(O^V))+I[0]+3614090360&4294967295;M=L+($<<7&4294967295|$>>>25),$=V+(O^M&(L^O))+I[1]+3905402710&4294967295,V=M+($<<12&4294967295|$>>>20),$=O+(L^V&(M^L))+I[2]+606105819&4294967295,O=V+($<<17&4294967295|$>>>15),$=L+(M^O&(V^M))+I[3]+3250441966&4294967295,L=O+($<<22&4294967295|$>>>10),$=M+(V^L&(O^V))+I[4]+4118548399&4294967295,M=L+($<<7&4294967295|$>>>25),$=V+(O^M&(L^O))+I[5]+1200080426&4294967295,V=M+($<<12&4294967295|$>>>20),$=O+(L^V&(M^L))+I[6]+2821735955&4294967295,O=V+($<<17&4294967295|$>>>15),$=L+(M^O&(V^M))+I[7]+4249261313&4294967295,L=O+($<<22&4294967295|$>>>10),$=M+(V^L&(O^V))+I[8]+1770035416&4294967295,M=L+($<<7&4294967295|$>>>25),$=V+(O^M&(L^O))+I[9]+2336552879&4294967295,V=M+($<<12&4294967295|$>>>20),$=O+(L^V&(M^L))+I[10]+4294925233&4294967295,O=V+($<<17&4294967295|$>>>15),$=L+(M^O&(V^M))+I[11]+2304563134&4294967295,L=O+($<<22&4294967295|$>>>10),$=M+(V^L&(O^V))+I[12]+1804603682&4294967295,M=L+($<<7&4294967295|$>>>25),$=V+(O^M&(L^O))+I[13]+4254626195&4294967295,V=M+($<<12&4294967295|$>>>20),$=O+(L^V&(M^L))+I[14]+2792965006&4294967295,O=V+($<<17&4294967295|$>>>15),$=L+(M^O&(V^M))+I[15]+1236535329&4294967295,L=O+($<<22&4294967295|$>>>10),$=M+(O^V&(L^O))+I[1]+4129170786&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^O&(M^L))+I[6]+3225465664&4294967295,V=M+($<<9&4294967295|$>>>23),$=O+(M^L&(V^M))+I[11]+643717713&4294967295,O=V+($<<14&4294967295|$>>>18),$=L+(V^M&(O^V))+I[0]+3921069994&4294967295,L=O+($<<20&4294967295|$>>>12),$=M+(O^V&(L^O))+I[5]+3593408605&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^O&(M^L))+I[10]+38016083&4294967295,V=M+($<<9&4294967295|$>>>23),$=O+(M^L&(V^M))+I[15]+3634488961&4294967295,O=V+($<<14&4294967295|$>>>18),$=L+(V^M&(O^V))+I[4]+3889429448&4294967295,L=O+($<<20&4294967295|$>>>12),$=M+(O^V&(L^O))+I[9]+568446438&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^O&(M^L))+I[14]+3275163606&4294967295,V=M+($<<9&4294967295|$>>>23),$=O+(M^L&(V^M))+I[3]+4107603335&4294967295,O=V+($<<14&4294967295|$>>>18),$=L+(V^M&(O^V))+I[8]+1163531501&4294967295,L=O+($<<20&4294967295|$>>>12),$=M+(O^V&(L^O))+I[13]+2850285829&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^O&(M^L))+I[2]+4243563512&4294967295,V=M+($<<9&4294967295|$>>>23),$=O+(M^L&(V^M))+I[7]+1735328473&4294967295,O=V+($<<14&4294967295|$>>>18),$=L+(V^M&(O^V))+I[12]+2368359562&4294967295,L=O+($<<20&4294967295|$>>>12),$=M+(L^O^V)+I[5]+4294588738&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^O)+I[8]+2272392833&4294967295,V=M+($<<11&4294967295|$>>>21),$=O+(V^M^L)+I[11]+1839030562&4294967295,O=V+($<<16&4294967295|$>>>16),$=L+(O^V^M)+I[14]+4259657740&4294967295,L=O+($<<23&4294967295|$>>>9),$=M+(L^O^V)+I[1]+2763975236&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^O)+I[4]+1272893353&4294967295,V=M+($<<11&4294967295|$>>>21),$=O+(V^M^L)+I[7]+4139469664&4294967295,O=V+($<<16&4294967295|$>>>16),$=L+(O^V^M)+I[10]+3200236656&4294967295,L=O+($<<23&4294967295|$>>>9),$=M+(L^O^V)+I[13]+681279174&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^O)+I[0]+3936430074&4294967295,V=M+($<<11&4294967295|$>>>21),$=O+(V^M^L)+I[3]+3572445317&4294967295,O=V+($<<16&4294967295|$>>>16),$=L+(O^V^M)+I[6]+76029189&4294967295,L=O+($<<23&4294967295|$>>>9),$=M+(L^O^V)+I[9]+3654602809&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^O)+I[12]+3873151461&4294967295,V=M+($<<11&4294967295|$>>>21),$=O+(V^M^L)+I[15]+530742520&4294967295,O=V+($<<16&4294967295|$>>>16),$=L+(O^V^M)+I[2]+3299628645&4294967295,L=O+($<<23&4294967295|$>>>9),$=M+(O^(L|~V))+I[0]+4096336452&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~O))+I[7]+1126891415&4294967295,V=M+($<<10&4294967295|$>>>22),$=O+(M^(V|~L))+I[14]+2878612391&4294967295,O=V+($<<15&4294967295|$>>>17),$=L+(V^(O|~M))+I[5]+4237533241&4294967295,L=O+($<<21&4294967295|$>>>11),$=M+(O^(L|~V))+I[12]+1700485571&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~O))+I[3]+2399980690&4294967295,V=M+($<<10&4294967295|$>>>22),$=O+(M^(V|~L))+I[10]+4293915773&4294967295,O=V+($<<15&4294967295|$>>>17),$=L+(V^(O|~M))+I[1]+2240044497&4294967295,L=O+($<<21&4294967295|$>>>11),$=M+(O^(L|~V))+I[8]+1873313359&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~O))+I[15]+4264355552&4294967295,V=M+($<<10&4294967295|$>>>22),$=O+(M^(V|~L))+I[6]+2734768916&4294967295,O=V+($<<15&4294967295|$>>>17),$=L+(V^(O|~M))+I[13]+1309151649&4294967295,L=O+($<<21&4294967295|$>>>11),$=M+(O^(L|~V))+I[4]+4149444226&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~O))+I[11]+3174756917&4294967295,V=M+($<<10&4294967295|$>>>22),$=O+(M^(V|~L))+I[2]+718787259&4294967295,O=V+($<<15&4294967295|$>>>17),$=L+(V^(O|~M))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+M&4294967295,R.g[1]=R.g[1]+(O+($<<21&4294967295|$>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.u=function(R,M){M===void 0&&(M=R.length);for(var L=M-this.blockSize,I=this.B,O=this.h,V=0;V<M;){if(O==0)for(;V<=L;)i(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<M;)if(I[O++]=R.charCodeAt(V++),O==this.blockSize){i(this,I),O=0;break}}else for(;V<M;)if(I[O++]=R[V++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=M},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var M=1;M<R.length-8;++M)R[M]=0;var L=8*this.o;for(M=R.length-8;M<R.length;++M)R[M]=L&255,L/=256;for(this.u(R),R=Array(16),M=L=0;4>M;++M)for(var I=0;32>I;I+=8)R[L++]=this.g[M]>>>I&255;return R};function o(R,M){var L=a;return Object.prototype.hasOwnProperty.call(L,R)?L[R]:L[R]=M(R)}function s(R,M){this.h=M;for(var L=[],I=!0,O=R.length-1;0<=O;O--){var V=R[O]|0;I&&V==M||(L[O]=V,I=!1)}this.g=L}var a={};function l(R){return-128<=R&&128>R?o(R,function(M){return new s([M|0],0>M?-1:0)}):new s([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return x(u(-R));for(var M=[],L=1,I=0;R>=L;I++)M[I]=R/L|0,L*=4294967296;return new s(M,0)}function c(R,M){if(R.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R.charAt(0)=="-")return x(c(R.substring(1),M));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=u(Math.pow(M,8)),I=d,O=0;O<R.length;O+=8){var V=Math.min(8,R.length-O),$=parseInt(R.substring(O,O+V),M);8>V?(V=u(Math.pow(M,V)),I=I.j(V).add(u($))):(I=I.j(L),I=I.add(u($)))}return I}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-x(this).m();for(var R=0,M=1,L=0;L<this.g.length;L++){var I=this.i(L);R+=(0<=I?I:4294967296+I)*M,M*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(m(this))return"0";if(y(this))return"-"+x(this).toString(R);for(var M=u(Math.pow(R,6)),L=this,I="";;){var O=T(L,M).g;L=w(L,O.j(M));var V=((0<L.g.length?L.g[0]:L.h)>>>0).toString(R);if(L=O,m(L))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function m(R){if(R.h!=0)return!1;for(var M=0;M<R.g.length;M++)if(R.g[M]!=0)return!1;return!0}function y(R){return R.h==-1}t.l=function(R){return R=w(this,R),y(R)?-1:m(R)?0:1};function x(R){for(var M=R.g.length,L=[],I=0;I<M;I++)L[I]=~R.g[I];return new s(L,~R.h).add(h)}t.abs=function(){return y(this)?x(this):this},t.add=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],I=0,O=0;O<=M;O++){var V=I+(this.i(O)&65535)+(R.i(O)&65535),$=(V>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);I=$>>>16,V&=65535,$&=65535,L[O]=$<<16|V}return new s(L,L[L.length-1]&-2147483648?-1:0)};function w(R,M){return R.add(x(M))}t.j=function(R){if(m(this)||m(R))return d;if(y(this))return y(R)?x(this).j(x(R)):x(x(this).j(R));if(y(R))return x(this.j(x(R)));if(0>this.l(p)&&0>R.l(p))return u(this.m()*R.m());for(var M=this.g.length+R.g.length,L=[],I=0;I<2*M;I++)L[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<R.g.length;O++){var V=this.i(I)>>>16,$=this.i(I)&65535,z=R.i(O)>>>16,W=R.i(O)&65535;L[2*I+2*O]+=$*W,E(L,2*I+2*O),L[2*I+2*O+1]+=V*W,E(L,2*I+2*O+1),L[2*I+2*O+1]+=$*z,E(L,2*I+2*O+1),L[2*I+2*O+2]+=V*z,E(L,2*I+2*O+2)}for(I=0;I<M;I++)L[I]=L[2*I+1]<<16|L[2*I];for(I=M;I<2*M;I++)L[I]=0;return new s(L,0)};function E(R,M){for(;(R[M]&65535)!=R[M];)R[M+1]+=R[M]>>>16,R[M]&=65535,M++}function S(R,M){this.g=R,this.h=M}function T(R,M){if(m(M))throw Error("division by zero");if(m(R))return new S(d,d);if(y(R))return M=T(x(R),M),new S(x(M.g),x(M.h));if(y(M))return M=T(R,x(M)),new S(x(M.g),M.h);if(30<R.g.length){if(y(R)||y(M))throw Error("slowDivide_ only works with positive integers.");for(var L=h,I=M;0>=I.l(R);)L=k(L),I=k(I);var O=N(L,1),V=N(I,1);for(I=N(I,2),L=N(L,2);!m(I);){var $=V.add(I);0>=$.l(R)&&(O=O.add(L),V=$),I=N(I,1),L=N(L,1)}return M=w(R,O.j(M)),new S(O,M)}for(O=d;0<=R.l(M);){for(L=Math.max(1,Math.floor(R.m()/M.m())),I=Math.ceil(Math.log(L)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=u(L),$=V.j(M);y($)||0<$.l(R);)L-=I,V=u(L),$=V.j(M);m(V)&&(V=h),O=O.add(V),R=w(R,$)}return new S(O,R)}t.A=function(R){return T(this,R).h},t.and=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],I=0;I<M;I++)L[I]=this.i(I)&R.i(I);return new s(L,this.h&R.h)},t.or=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],I=0;I<M;I++)L[I]=this.i(I)|R.i(I);return new s(L,this.h|R.h)},t.xor=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],I=0;I<M;I++)L[I]=this.i(I)^R.i(I);return new s(L,this.h^R.h)};function k(R){for(var M=R.g.length+1,L=[],I=0;I<M;I++)L[I]=R.i(I)<<1|R.i(I-1)>>>31;return new s(L,R.h)}function N(R,M){var L=M>>5;M%=32;for(var I=R.g.length-L,O=[],V=0;V<I;V++)O[V]=0<M?R.i(V+L)>>>M|R.i(V+L+1)<<32-M:R.i(V+L);return new s(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XQ=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Lf=s}).apply(typeof sU<"u"?sU:typeof self<"u"?self:typeof window<"u"?window:{});var yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JQ,Wb,QQ,hC,KL,ZQ,eZ,tZ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,U,G){return A==Array.prototype||A==Object.prototype||(A[U]=G.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof yE=="object"&&yE];for(var U=0;U<A.length;++U){var G=A[U];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function i(A,U){if(U)e:{var G=r;A=A.split(".");for(var le=0;le<A.length-1;le++){var we=A[le];if(!(we in G))break e;G=G[we]}A=A[A.length-1],le=G[A],U=U(le),U!=le&&U!=null&&e(G,A,{configurable:!0,writable:!0,value:U})}}function o(A,U){A instanceof String&&(A+="");var G=0,le=!1,we={next:function(){if(!le&&G<A.length){var Ae=G++;return{value:U(Ae,A[Ae]),done:!1}}return le=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(A){return A||function(){return o(this,function(U,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(A){var U=typeof A;return U=U!="object"?U:A?Array.isArray(A)?"array":U:"null",U=="array"||U=="object"&&typeof A.length=="number"}function u(A){var U=typeof A;return U=="object"&&A!=null||U=="function"}function c(A,U,G){return A.call.apply(A.bind,arguments)}function d(A,U,G){if(!A)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,le),A.apply(U,we)}}return function(){return A.apply(U,arguments)}}function h(A,U,G){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(A,U){var G=Array.prototype.slice.call(arguments,1);return function(){var le=G.slice();return le.push.apply(le,arguments),A.apply(this,le)}}function m(A,U){function G(){}G.prototype=U.prototype,A.aa=U.prototype,A.prototype=new G,A.prototype.constructor=A,A.Qb=function(le,we,Ae){for(var Ze=Array(arguments.length-2),Yn=2;Yn<arguments.length;Yn++)Ze[Yn-2]=arguments[Yn];return U.prototype[we].apply(le,Ze)}}function y(A){const U=A.length;if(0<U){const G=Array(U);for(let le=0;le<U;le++)G[le]=A[le];return G}return[]}function x(A,U){for(let G=1;G<arguments.length;G++){const le=arguments[G];if(l(le)){const we=A.length||0,Ae=le.length||0;A.length=we+Ae;for(let Ze=0;Ze<Ae;Ze++)A[we+Ze]=le[Ze]}else A.push(le)}}class w{constructor(U,G){this.i=U,this.j=G,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function E(A){return/^[\s\xa0]*$/.test(A)}function S(){var A=a.navigator;return A&&(A=A.userAgent)?A:""}function T(A){return T[" "](A),A}T[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(A,U,G){for(const le in A)U.call(G,A[le],le,A)}function R(A,U){for(const G in A)U.call(void 0,A[G],G,A)}function M(A){const U={};for(const G in A)U[G]=A[G];return U}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(A,U){let G,le;for(let we=1;we<arguments.length;we++){le=arguments[we];for(G in le)A[G]=le[G];for(let Ae=0;Ae<L.length;Ae++)G=L[Ae],Object.prototype.hasOwnProperty.call(le,G)&&(A[G]=le[G])}}function O(A){var U=1;A=A.split(":");const G=[];for(;0<U&&A.length;)G.push(A.shift()),U--;return A.length&&G.push(A.join(":")),G}function V(A){a.setTimeout(()=>{throw A},0)}function $(){var A=X;let U=null;return A.g&&(U=A.g,A.g=A.g.next,A.g||(A.h=null),U.next=null),U}class z{constructor(){this.h=this.g=null}add(U,G){const le=W.get();le.set(U,G),this.h?this.h.next=le:this.g=le,this.h=le}}var W=new w(()=>new K,A=>A.reset());class K{constructor(){this.next=this.g=this.h=null}set(U,G){this.h=U,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Q=!1,X=new z,j=()=>{const A=a.Promise.resolve(void 0);J=()=>{A.then(Y)}};var Y=()=>{for(var A;A=$();){try{A.h.call(A.g)}catch(G){V(G)}var U=W;U.j(A),100>U.h&&(U.h++,A.next=U.g,U.g=A)}Q=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(A,U){this.type=A,this.g=this.target=U,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var A=!1,U=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const G=()=>{};a.addEventListener("test",G,U),a.removeEventListener("test",G,U)}catch{}return A}();function se(A,U){if(q.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var G=this.type=A.type,le=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=U,U=A.relatedTarget){if(k){e:{try{T(U.nodeName);var we=!0;break e}catch{}we=!1}we||(U=null)}}else G=="mouseover"?U=A.fromElement:G=="mouseout"&&(U=A.toElement);this.relatedTarget=U,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:ee[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&se.aa.h.call(this)}}m(se,q);var ee={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),te=0;function ce(A,U,G,le,we){this.listener=A,this.proxy=null,this.src=U,this.type=G,this.capture=!!le,this.ha=we,this.key=++te,this.da=this.fa=!1}function fe(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ge(A){this.src=A,this.g={},this.h=0}ge.prototype.add=function(A,U,G,le,we){var Ae=A.toString();A=this.g[Ae],A||(A=this.g[Ae]=[],this.h++);var Ze=be(A,U,le,we);return-1<Ze?(U=A[Ze],G||(U.fa=!1)):(U=new ce(U,this.src,Ae,!!le,we),U.fa=G,A.push(U)),U};function xe(A,U){var G=U.type;if(G in A.g){var le=A.g[G],we=Array.prototype.indexOf.call(le,U,void 0),Ae;(Ae=0<=we)&&Array.prototype.splice.call(le,we,1),Ae&&(fe(U),A.g[G].length==0&&(delete A.g[G],A.h--))}}function be(A,U,G,le){for(var we=0;we<A.length;++we){var Ae=A[we];if(!Ae.da&&Ae.listener==U&&Ae.capture==!!G&&Ae.ha==le)return we}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Me={};function st(A,U,G,le,we){if(Array.isArray(U)){for(var Ae=0;Ae<U.length;Ae++)st(A,U[Ae],G,le,we);return null}return G=mt(G),A&&A[ae]?A.K(U,G,u(le)?!!le.capture:!1,we):Ve(A,U,G,!1,le,we)}function Ve(A,U,G,le,we,Ae){if(!U)throw Error("Invalid event type");var Ze=u(we)?!!we.capture:!!we,Yn=ut(A);if(Yn||(A[Ee]=Yn=new ge(A)),G=Yn.add(U,G,le,Ze,Ae),G.proxy)return G;if(le=Oe(),G.proxy=le,le.src=A,le.listener=G,A.addEventListener)de||(we=Ze),we===void 0&&(we=!1),A.addEventListener(U.toString(),le,we);else if(A.attachEvent)A.attachEvent(dt(U.toString()),le);else if(A.addListener&&A.removeListener)A.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return G}function Oe(){function A(G){return U.call(A.src,A.listener,G)}const U=Pe;return A}function Qe(A,U,G,le,we){if(Array.isArray(U))for(var Ae=0;Ae<U.length;Ae++)Qe(A,U[Ae],G,le,we);else le=u(le)?!!le.capture:!!le,G=mt(G),A&&A[ae]?(A=A.i,U=String(U).toString(),U in A.g&&(Ae=A.g[U],G=be(Ae,G,le,we),-1<G&&(fe(Ae[G]),Array.prototype.splice.call(Ae,G,1),Ae.length==0&&(delete A.g[U],A.h--)))):A&&(A=ut(A))&&(U=A.g[U.toString()],A=-1,U&&(A=be(U,G,le,we)),(G=-1<A?U[A]:null)&&Ye(G))}function Ye(A){if(typeof A!="number"&&A&&!A.da){var U=A.src;if(U&&U[ae])xe(U.i,A);else{var G=A.type,le=A.proxy;U.removeEventListener?U.removeEventListener(G,le,A.capture):U.detachEvent?U.detachEvent(dt(G),le):U.addListener&&U.removeListener&&U.removeListener(le),(G=ut(U))?(xe(G,A),G.h==0&&(G.src=null,U[Ee]=null)):fe(A)}}}function dt(A){return A in Me?Me[A]:Me[A]="on"+A}function Pe(A,U){if(A.da)A=!0;else{U=new se(U,this);var G=A.listener,le=A.ha||A.src;A.fa&&Ye(A),A=G.call(le,U)}return A}function ut(A){return A=A[Ee],A instanceof ge?A:null}var rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(A){return typeof A=="function"?A:(A[rt]||(A[rt]=function(U){return A.handleEvent(U)}),A[rt])}function ve(){ue.call(this),this.i=new ge(this),this.M=this,this.F=null}m(ve,ue),ve.prototype[ae]=!0,ve.prototype.removeEventListener=function(A,U,G,le){Qe(this,A,U,G,le)};function Ce(A,U){var G,le=A.F;if(le)for(G=[];le;le=le.F)G.push(le);if(A=A.M,le=U.type||U,typeof U=="string")U=new q(U,A);else if(U instanceof q)U.target=U.target||A;else{var we=U;U=new q(le,A),I(U,we)}if(we=!0,G)for(var Ae=G.length-1;0<=Ae;Ae--){var Ze=U.g=G[Ae];we=Ue(Ze,le,!0,U)&&we}if(Ze=U.g=A,we=Ue(Ze,le,!0,U)&&we,we=Ue(Ze,le,!1,U)&&we,G)for(Ae=0;Ae<G.length;Ae++)Ze=U.g=G[Ae],we=Ue(Ze,le,!1,U)&&we}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var A=this.i,U;for(U in A.g){for(var G=A.g[U],le=0;le<G.length;le++)fe(G[le]);delete A.g[U],A.h--}}this.F=null},ve.prototype.K=function(A,U,G,le){return this.i.add(String(A),U,!1,G,le)},ve.prototype.L=function(A,U,G,le){return this.i.add(String(A),U,!0,G,le)};function Ue(A,U,G,le){if(U=A.i.g[String(U)],!U)return!0;U=U.concat();for(var we=!0,Ae=0;Ae<U.length;++Ae){var Ze=U[Ae];if(Ze&&!Ze.da&&Ze.capture==G){var Yn=Ze.listener,fi=Ze.ha||Ze.src;Ze.fa&&xe(A.i,Ze),we=Yn.call(fi,le)!==!1&&we}}return we&&!le.defaultPrevented}function nt(A,U,G){if(typeof A=="function")G&&(A=h(A,G));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(A,U||0)}function Re(A){A.g=nt(()=>{A.g=null,A.i&&(A.i=!1,Re(A))},A.l);const U=A.h;A.h=null,A.m.apply(null,U)}class Xe extends ue{constructor(U,G){super(),this.m=U,this.l=G,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(A){ue.call(this),this.h=A,this.g={}}m(Zt,ue);var $t=[];function en(A){N(A.g,function(U,G){this.g.hasOwnProperty(G)&&Ye(U)},A),A.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),en(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Je=a.JSON.stringify,Lt=a.JSON.parse,pn=class{stringify(A){return a.JSON.stringify(A,void 0)}parse(A){return a.JSON.parse(A,void 0)}};function Le(){}Le.prototype.h=null;function ot(A){return A.h||(A.h=A.i())}function Ht(){}var Ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qt(){q.call(this,"d")}m(qt,q);function gn(){q.call(this,"c")}m(gn,q);var jt={},En=null;function Hr(){return En=En||new ve}jt.La="serverreachability";function Kt(A){q.call(this,jt.La,A)}m(Kt,q);function pr(A){const U=Hr();Ce(U,new Kt(U))}jt.STAT_EVENT="statevent";function it(A,U){q.call(this,jt.STAT_EVENT,A),this.stat=U}m(it,q);function et(A){const U=Hr();Ce(U,new it(U,A))}jt.Ma="timingevent";function dn(A,U){q.call(this,jt.Ma,A),this.size=U}m(dn,q);function rn(A,U){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){A()},U)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function Jr(A,U,G,le,we,Ae){A.info(function(){if(A.g)if(Ae)for(var Ze="",Yn=Ae.split("&"),fi=0;fi<Yn.length;fi++){var In=Yn[fi].split("=");if(1<In.length){var Ci=In[0];In=In[1];var Qr=Ci.split("_");Ze=2<=Qr.length&&Qr[1]=="type"?Ze+(Ci+"="+In+"&"):Ze+(Ci+"=redacted&")}}else Ze=null;else Ze=Ae;return"XMLHTTP REQ ("+le+") [attempt "+we+"]: "+U+`
`+G+`
`+Ze})}function Zi(A,U,G,le,we,Ae,Ze){A.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+we+"]: "+U+`
`+G+`
`+Ae+" "+Ze})}function di(A,U,G,le){A.info(function(){return"XMLHTTP TEXT ("+U+"): "+Hu(A,G)+(le?" "+le:"")})}function Pl(A,U){A.info(function(){return"TIMEOUT: "+U})}Fn.prototype.info=function(){};function Hu(A,U){if(!A.g)return U;if(!U)return null;try{var G=JSON.parse(U);if(G){for(A=0;A<G.length;A++)if(Array.isArray(G[A])){var le=G[A];if(!(2>le.length)){var we=le[1];if(Array.isArray(we)&&!(1>we.length)){var Ae=we[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ze=1;Ze<we.length;Ze++)we[Ze]=""}}}}return Je(G)}catch{return U}}var vd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bo;function Il(){}m(Il,Le),Il.prototype.g=function(){return new XMLHttpRequest},Il.prototype.i=function(){return{}},Bo=new Il;function Vo(A,U,G,le){this.j=A,this.i=U,this.l=G,this.R=le||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $g}function $g(){this.i=null,this.g="",this.h=!1}var oh={},bd={};function xd(A,U,G){A.L=1,A.v=Sd(Eo(U)),A.m=G,A.P=!0,sh(A,null)}function sh(A,U){A.F=Date.now(),Zn(A),A.A=Eo(A.v);var G=A.A,le=A.R;Array.isArray(le)||(le=[String(le)]),Cd(G.i,"t",le),A.C=0,G=A.j.J,A.h=new $g,A.g=cS(A.j,G?U:null,!A.m),0<A.O&&(A.M=new Xe(h(A.Y,A,A.g),A.O)),U=A.U,G=A.g,le=A.ca;var we="readystatechange";Array.isArray(we)||(we&&($t[0]=we.toString()),we=$t);for(var Ae=0;Ae<we.length;Ae++){var Ze=st(G,we[Ae],le||U.handleEvent,!1,U.h||U);if(!Ze)break;U.g[Ze.key]=Ze}U=A.H?M(A.H):{},A.m?(A.u||(A.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,U)):(A.u="GET",A.g.ea(A.A,A.u,null,U)),pr(),Jr(A.i,A.u,A.A,A.l,A.R,A.m)}Vo.prototype.ca=function(A){A=A.target;const U=this.M;U&&Ho(A)==3?U.j():this.Y(A)},Vo.prototype.Y=function(A){try{if(A==this.g)e:{const Qr=Ho(this.g);var U=this.g.Ba();const Ys=this.g.Z();if(!(3>Qr)&&(Qr!=3||this.g&&(this.h.h||this.g.oa()||F0(this.g)))){this.J||Qr!=4||U==7||(U==8||0>=Ys?pr(3):pr(2)),qu(this);var G=this.g.Z();this.X=G;t:if(Bg(this)){var le=F0(this.g);A="";var we=le.length,Ae=Ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),kl(this);var Ze="";break t}this.h.i=new a.TextDecoder}for(U=0;U<we;U++)this.h.h=!0,A+=this.h.i.decode(le[U],{stream:!(Ae&&U==we-1)});le.length=0,this.h.g+=A,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=G==200,Zi(this.i,this.u,this.A,this.l,this.R,Qr,G),this.o){if(this.T&&!this.K){t:{if(this.g){var Yn,fi=this.g;if((Yn=fi.g?fi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Yn)){var In=Yn;break t}}In=null}if(G=In)di(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,G);else{this.o=!1,this.s=3,et(12),zo(this),kl(this);break e}}if(this.P){G=!0;let xs;for(;!this.J&&this.C<Ze.length;)if(xs=Vg(this,Ze),xs==bd){Qr==4&&(this.s=4,et(14),G=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(xs==oh){this.s=4,et(15),di(this.i,this.l,Ze,"[Invalid Chunk]"),G=!1;break}else di(this.i,this.l,xs,null),ah(this,xs);if(Bg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qr!=4||Ze.length!=0||this.h.h||(this.s=1,et(16),G=!1),this.o=this.o&&G,!G)di(this.i,this.l,Ze,"[Invalid Chunked Response]"),zo(this),kl(this);else if(0<Ze.length&&!this.W){this.W=!0;var Ci=this.j;Ci.g==this&&Ci.ba&&!Ci.M&&(Ci.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),B0(Ci),Ci.M=!0,et(11))}}else di(this.i,this.l,Ze,null),ah(this,Ze);Qr==4&&zo(this),this.o&&!this.J&&(Qr==4?em(this.j,this):(this.o=!1,Zn(this)))}else Yg(this.g),G==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),zo(this),kl(this)}}}catch{}finally{}};function Bg(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function Vg(A,U){var G=A.C,le=U.indexOf(`
`,G);return le==-1?bd:(G=Number(U.substring(G,le)),isNaN(G)?oh:(le+=1,le+G>U.length?bd:(U=U.slice(le,le+G),A.C=le+G,U)))}Vo.prototype.cancel=function(){this.J=!0,zo(this)};function Zn(A){A.S=Date.now()+A.I,zg(A,A.I)}function zg(A,U){if(A.B!=null)throw Error("WatchDog timer not null");A.B=rn(h(A.ba,A),U)}function qu(A){A.B&&(a.clearTimeout(A.B),A.B=null)}Vo.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(Pl(this.i,this.A),this.L!=2&&(pr(),et(17)),zo(this),this.s=2,kl(this)):zg(this,this.S-A)};function kl(A){A.j.G==0||A.J||em(A.j,A)}function zo(A){qu(A);var U=A.M;U&&typeof U.ma=="function"&&U.ma(),A.M=null,en(A.U),A.g&&(U=A.g,A.g=null,U.abort(),U.ma())}function ah(A,U){try{var G=A.j;if(G.G!=0&&(G.g==A||Di(G.h,A))){if(!A.K&&Di(G.h,A)&&G.G==3){try{var le=G.Da.g.parse(U)}catch{le=null}if(Array.isArray(le)&&le.length==3){var we=le;if(we[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<A.F)Zg(G),Na(G);else break e;Qg(G),et(18)}}else G.za=we[1],0<G.za-G.T&&37500>we[2]&&G.F&&G.v==0&&!G.C&&(G.C=rn(h(G.Za,G),6e3));if(1>=Hg(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Xu(G,11)}else if((A.K||G.g==A)&&Zg(G),!E(U))for(we=G.Da.g.parse(U),U=0;U<we.length;U++){let In=we[U];if(G.T=In[0],In=In[1],G.G==2)if(In[0]=="c"){G.K=In[1],G.ia=In[2];const Ci=In[3];Ci!=null&&(G.la=Ci,G.j.info("VER="+G.la));const Qr=In[4];Qr!=null&&(G.Aa=Qr,G.j.info("SVER="+G.Aa));const Ys=In[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(le=1.5*Ys,G.L=le,G.j.info("backChannelRequestTimeoutMs_="+le)),le=G;const xs=A.g;if(xs){const fh=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var Ae=le.h;Ae.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(lh(Ae,Ae.h),Ae.h=null))}if(le.D){const nm=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;nm&&(le.ya=nm,or(le.I,le.D,nm))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-A.F,G.j.info("Handshake RTT: "+G.R+"ms")),le=G;var Ze=A;if(le.qa=uS(le,le.J?le.ia:null,le.W),Ze.K){qg(le.h,Ze);var Yn=Ze,fi=le.L;fi&&(Yn.I=fi),Yn.B&&(qu(Yn),Zn(Yn)),le.g=Ze}else dh(le);0<G.i.length&&Fl(G)}else In[0]!="stop"&&In[0]!="close"||Xu(G,7);else G.G==3&&(In[0]=="stop"||In[0]=="close"?In[0]=="stop"?Xu(G,7):Oi(G):In[0]!="noop"&&G.l&&G.l.ta(In),G.v=0)}}pr(4)}catch{}}var Ug=class{constructor(A,U){this.g=A,this.map=U}};function Ml(A){this.l=A||10,a.PerformanceNavigationTiming?(A=a.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Hg(A){return A.h?1:A.g?A.g.size:0}function Di(A,U){return A.h?A.h==U:A.g?A.g.has(U):!1}function lh(A,U){A.g?A.g.add(U):A.h=U}function qg(A,U){A.h&&A.h==U?A.h=null:A.g&&A.g.has(U)&&A.g.delete(U)}Ml.prototype.cancel=function(){if(this.i=jg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function jg(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let U=A.i;for(const G of A.g.values())U=U.concat(G.D);return U}return y(A.i)}function wd(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var U=[],G=A.length,le=0;le<G;le++)U.push(A[le]);return U}U=[],G=0;for(le in A)U[G++]=A[le];return U}function Aa(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var U=[];A=A.length;for(var G=0;G<A;G++)U.push(G);return U}U=[],G=0;for(const le in A)U[G++]=le;return U}}}function Nl(A,U){if(A.forEach&&typeof A.forEach=="function")A.forEach(U,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,U,void 0);else for(var G=Aa(A),le=wd(A),we=le.length,Ae=0;Ae<we;Ae++)U.call(void 0,le[Ae],G&&G[Ae],A)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N0(A,U){if(A){A=A.split("&");for(var G=0;G<A.length;G++){var le=A[G].indexOf("="),we=null;if(0<=le){var Ae=A[G].substring(0,le);we=A[G].substring(le+1)}else Ae=A[G];U(Ae,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function vs(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof vs){this.h=A.h,Wu(this,A.j),this.o=A.o,this.g=A.g,Ra(this,A.s),this.l=A.l;var U=A.i,G=new Dl;G.i=U.i,U.g&&(G.g=new Map(U.g),G.h=U.h),_d(this,G),this.m=A.m}else A&&(U=String(A).match(ju))?(this.h=!1,Wu(this,U[1]||"",!0),this.o=Tn(U[2]||""),this.g=Tn(U[3]||"",!0),Ra(this,U[4]),this.l=Tn(U[5]||"",!0),_d(this,U[6]||"",!0),this.m=Tn(U[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}vs.prototype.toString=function(){var A=[],U=this.j;U&&A.push(Ed(U,Wg,!0),":");var G=this.g;return(G||U=="file")&&(A.push("//"),(U=this.o)&&A.push(Ed(U,Wg,!0),"@"),A.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&A.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&A.push("/"),A.push(Ed(G,G.charAt(0)=="/"?tS:eS,!0))),(G=this.i.toString())&&A.push("?",G),(G=this.m)&&A.push("#",Ed(G,D0)),A.join("")};function Eo(A){return new vs(A)}function Wu(A,U,G){A.j=G?Tn(U,!0):U,A.j&&(A.j=A.j.replace(/:$/,""))}function Ra(A,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);A.s=U}else A.s=null}function _d(A,U,G){U instanceof Dl?(A.i=U,Ll(A.i,A.h)):(G||(U=Ed(U,nS)),A.i=new Dl(U,A.h))}function or(A,U,G){A.i.set(U,G)}function Sd(A){return or(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function Tn(A,U){return A?U?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Ed(A,U,G){return typeof A=="string"?(A=encodeURI(A).replace(U,Z1),G&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function Z1(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Wg=/[#\/\?@]/g,eS=/[#\?:]/g,tS=/[#\?]/g,nS=/[#\?@]/g,D0=/#/g;function Dl(A,U){this.h=this.g=null,this.i=A||null,this.j=!!U}function Li(A){A.g||(A.g=new Map,A.h=0,A.i&&N0(A.i,function(U,G){A.add(decodeURIComponent(U.replace(/\+/g," ")),G)}))}t=Dl.prototype,t.add=function(A,U){Li(this),this.i=null,A=Ks(this,A);var G=this.g.get(A);return G||this.g.set(A,G=[]),G.push(U),this.h+=1,this};function Pa(A,U){Li(A),U=Ks(A,U),A.g.has(U)&&(A.i=null,A.h-=A.g.get(U).length,A.g.delete(U))}function Ia(A,U){return Li(A),U=Ks(A,U),A.g.has(U)}t.forEach=function(A,U){Li(this),this.g.forEach(function(G,le){G.forEach(function(we){A.call(U,we,le,this)},this)},this)},t.na=function(){Li(this);const A=Array.from(this.g.values()),U=Array.from(this.g.keys()),G=[];for(let le=0;le<U.length;le++){const we=A[le];for(let Ae=0;Ae<we.length;Ae++)G.push(U[le])}return G},t.V=function(A){Li(this);let U=[];if(typeof A=="string")Ia(this,A)&&(U=U.concat(this.g.get(Ks(this,A))));else{A=Array.from(this.g.values());for(let G=0;G<A.length;G++)U=U.concat(A[G])}return U},t.set=function(A,U){return Li(this),this.i=null,A=Ks(this,A),Ia(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[U]),this.h+=1,this},t.get=function(A,U){return A?(A=this.V(A),0<A.length?String(A[0]):U):U};function Cd(A,U,G){Pa(A,U),0<G.length&&(A.i=null,A.g.set(Ks(A,U),y(G)),A.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],U=Array.from(this.g.keys());for(var G=0;G<U.length;G++){var le=U[G];const Ae=encodeURIComponent(String(le)),Ze=this.V(le);for(le=0;le<Ze.length;le++){var we=Ae;Ze[le]!==""&&(we+="="+encodeURIComponent(String(Ze[le]))),A.push(we)}}return this.i=A.join("&")};function Ks(A,U){return U=String(U),A.j&&(U=U.toLowerCase()),U}function Ll(A,U){U&&!A.j&&(Li(A),A.i=null,A.g.forEach(function(G,le){var we=le.toLowerCase();le!=we&&(Pa(this,le),Cd(this,we,G))},A)),A.j=U}function DP(A,U){const G=new Fn;if(a.Image){const le=new Image;le.onload=p(Uo,G,"TestLoadImage: loaded",!0,U,le),le.onerror=p(Uo,G,"TestLoadImage: error",!1,U,le),le.onabort=p(Uo,G,"TestLoadImage: abort",!1,U,le),le.ontimeout=p(Uo,G,"TestLoadImage: timeout",!1,U,le),a.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=A}else U(!1)}function rS(A,U){const G=new Fn,le=new AbortController,we=setTimeout(()=>{le.abort(),Uo(G,"TestPingServer: timeout",!1,U)},1e4);fetch(A,{signal:le.signal}).then(Ae=>{clearTimeout(we),Ae.ok?Uo(G,"TestPingServer: ok",!0,U):Uo(G,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(we),Uo(G,"TestPingServer: error",!1,U)})}function Uo(A,U,G,le,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),le(G)}catch{}}function LP(){this.g=new pn}function iS(A,U,G){const le=G||"";try{Nl(A,function(we,Ae){let Ze=we;u(we)&&(Ze=Je(we)),U.push(le+Ae+"="+encodeURIComponent(Ze))})}catch(we){throw U.push(le+"type="+encodeURIComponent("_badmap")),we}}function Gu(A){this.l=A.Ub||null,this.j=A.eb||!1}m(Gu,Le),Gu.prototype.g=function(){return new uh(this.l,this.j)},Gu.prototype.i=function(A){return function(){return A}}({});function uh(A,U){ve.call(this),this.D=A,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(uh,ve),t=uh.prototype,t.open=function(A,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=U,this.readyState=1,Ma(this)},t.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(U.body=A),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oS(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function oS(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}t.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var U=A.value?A.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!A.done}))&&(this.response=this.responseText+=U)}A.done?ka(this):Ma(this),this.readyState==3&&oS(this)}},t.Ra=function(A){this.g&&(this.response=this.responseText=A,ka(this))},t.Qa=function(A){this.g&&(this.response=A,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Ma(A)}t.setRequestHeader=function(A,U){this.u.append(A,U)},t.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],U=this.h.entries();for(var G=U.next();!G.done;)G=G.value,A.push(G[0]+": "+G[1]),G=U.next();return A.join(`\r
`)};function Ma(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Ku(A){let U="";return N(A,function(G,le){U+=le,U+=":",U+=G,U+=`\r
`}),U}function Td(A,U,G){e:{for(le in G){var le=!1;break e}le=!0}le||(G=Ku(G),typeof A=="string"?G!=null&&encodeURIComponent(String(G)):or(A,U,G))}function wr(A){ve.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wr,ve);var OP=/^https?$/i,L0=["POST","PUT"];t=wr.prototype,t.Ha=function(A){this.J=A},t.ea=function(A,U,G,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);U=U?U.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bo.g(),this.v=this.o?ot(this.o):ot(Bo),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(U,String(A),!0),this.B=!1}catch(Ae){ch(this,Ae);return}if(A=G||"",G=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var we in le)G.set(we,le[we]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const Ae of le.keys())G.set(Ae,le.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(G.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),we=a.FormData&&A instanceof a.FormData,!(0<=Array.prototype.indexOf.call(L0,U,void 0))||le||we||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ze]of G)this.g.setRequestHeader(Ae,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kg(this),this.u=!0,this.g.send(A),this.u=!1}catch(Ae){ch(this,Ae)}};function ch(A,U){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=U,A.m=5,Gg(A),bs(A)}function Gg(A){A.A||(A.A=!0,Ce(A,"complete"),Ce(A,"error"))}t.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,Ce(this,"complete"),Ce(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),wr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?O0(this):this.bb())},t.bb=function(){O0(this)};function O0(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Ho(A)!=4||A.Z()!=2)){if(A.u&&Ho(A)==4)nt(A.Ea,0,A);else if(Ce(A,"readystatechange"),Ho(A)==4){A.h=!1;try{const Ze=A.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var G;if(!(G=U)){var le;if(le=Ze===0){var we=String(A.D).match(ju)[1]||null;!we&&a.self&&a.self.location&&(we=a.self.location.protocol.slice(0,-1)),le=!OP.test(we?we.toLowerCase():"")}G=le}if(G)Ce(A,"complete"),Ce(A,"success");else{A.m=6;try{var Ae=2<Ho(A)?A.g.statusText:""}catch{Ae=""}A.l=Ae+" ["+A.Z()+"]",Gg(A)}}finally{bs(A)}}}}function bs(A,U){if(A.g){Kg(A);const G=A.g,le=A.v[0]?()=>{}:null;A.g=null,A.v=null,U||Ce(A,"ready");try{G.onreadystatechange=le}catch{}}}function Kg(A){A.I&&(a.clearTimeout(A.I),A.I=null)}t.isActive=function(){return!!this.g};function Ho(A){return A.g?A.g.readyState:0}t.Z=function(){try{return 2<Ho(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(A){if(this.g){var U=this.g.responseText;return A&&U.indexOf(A)==0&&(U=U.substring(A.length)),Lt(U)}};function F0(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Yg(A){const U={};A=(A.g&&2<=Ho(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<A.length;le++){if(E(A[le]))continue;var G=O(A[le]);const we=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Ae=U[we]||[];U[we]=Ae,Ae.push(G)}R(U,function(le){return le.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(A,U,G){return G&&G.internalChannelParams&&G.internalChannelParams[A]||U}function $0(A){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ol("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ol("baseRetryDelayMs",5e3,A),this.cb=Ol("retryDelaySeedMs",1e4,A),this.Wa=Ol("forwardChannelMaxRetries",2,A),this.wa=Ol("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new Ml(A&&A.concurrentRequestLimit),this.Da=new LP,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$0.prototype,t.la=8,t.G=1,t.connect=function(A,U,G,le){et(0),this.W=A,this.H=U||{},G&&le!==void 0&&(this.H.OSID=G,this.H.OAID=le),this.F=this.X,this.I=uS(this,null,this.W),Fl(this)};function Oi(A){if(Xg(A),A.G==3){var U=A.U++,G=Eo(A.I);if(or(G,"SID",A.K),or(G,"RID",U),or(G,"TYPE","terminate"),Yu(A,G),U=new Vo(A,A.j,U),U.L=2,U.v=Sd(Eo(G)),G=!1,a.navigator&&a.navigator.sendBeacon)try{G=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!G&&a.Image&&(new Image().src=U.v,G=!0),G||(U.g=cS(U.j,null),U.g.ea(U.v)),U.F=Date.now(),Zn(U)}lS(A)}function Na(A){A.g&&(B0(A),A.g.cancel(),A.g=null)}function Xg(A){Na(A),A.u&&(a.clearTimeout(A.u),A.u=null),Zg(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&a.clearTimeout(A.s),A.s=null)}function Fl(A){if(!So(A.h)&&!A.s){A.s=!0;var U=A.Ga;J||j(),Q||(J(),Q=!0),X.add(U,A),A.B=0}}function FP(A,U){return Hg(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=U.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=rn(h(A.Ga,A,U),aS(A,A.B)),A.B++,!0)}t.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const we=new Vo(this,this.j,A);let Ae=this.o;if(this.S&&(Ae?(Ae=M(Ae),I(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(we.H=Ae,Ae=null),this.P)e:{for(var U=0,G=0;G<this.i.length;G++){t:{var le=this.i[G];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(U+=le,4096<U){U=G;break e}if(U===4096||G===this.i.length-1){U=G+1;break e}}U=1e3}else U=1e3;U=Ad(this,we,U),G=Eo(this.I),or(G,"RID",A),or(G,"CVER",22),this.D&&or(G,"X-HTTP-Session-Id",this.D),Yu(this,G),Ae&&(this.O?U="headers="+encodeURIComponent(String(Ku(Ae)))+"&"+U:this.m&&Td(G,this.m,Ae)),lh(this.h,we),this.Ua&&or(G,"TYPE","init"),this.P?(or(G,"$req",U),or(G,"SID","null"),we.T=!0,xd(we,G,null)):xd(we,G,U),this.G=2}}else this.G==3&&(A?Jg(this,A):this.i.length==0||So(this.h)||Jg(this))};function Jg(A,U){var G;U?G=U.l:G=A.U++;const le=Eo(A.I);or(le,"SID",A.K),or(le,"RID",G),or(le,"AID",A.T),Yu(A,le),A.m&&A.o&&Td(le,A.m,A.o),G=new Vo(A,A.j,G,A.B+1),A.m===null&&(G.H=A.o),U&&(A.i=U.D.concat(A.i)),U=Ad(A,G,1e3),G.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),lh(A.h,G),xd(G,le,U)}function Yu(A,U){A.H&&N(A.H,function(G,le){or(U,le,G)}),A.l&&Nl({},function(G,le){or(U,le,G)})}function Ad(A,U,G){G=Math.min(A.i.length,G);var le=A.l?h(A.l.Na,A.l,A):null;e:{var we=A.i;let Ae=-1;for(;;){const Ze=["count="+G];Ae==-1?0<G?(Ae=we[0].g,Ze.push("ofs="+Ae)):Ae=0:Ze.push("ofs="+Ae);let Yn=!0;for(let fi=0;fi<G;fi++){let In=we[fi].g;const Ci=we[fi].map;if(In-=Ae,0>In)Ae=Math.max(0,we[fi].g-100),Yn=!1;else try{iS(Ci,Ze,"req"+In+"_")}catch{le&&le(Ci)}}if(Yn){le=Ze.join("&");break e}}}return A=A.i.splice(0,G),U.D=A,le}function dh(A){if(!A.g&&!A.u){A.Y=1;var U=A.Fa;J||j(),Q||(J(),Q=!0),X.add(U,A),A.v=0}}function Qg(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=rn(h(A.Fa,A),aS(A,A.v)),A.v++,!0)}t.Fa=function(){if(this.u=null,sS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=rn(h(this.ab,this),A)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Na(this),sS(this))};function B0(A){A.A!=null&&(a.clearTimeout(A.A),A.A=null)}function sS(A){A.g=new Vo(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var U=Eo(A.qa);or(U,"RID","rpc"),or(U,"SID",A.K),or(U,"AID",A.T),or(U,"CI",A.F?"0":"1"),!A.F&&A.ja&&or(U,"TO",A.ja),or(U,"TYPE","xmlhttp"),Yu(A,U),A.m&&A.o&&Td(U,A.m,A.o),A.L&&(A.g.I=A.L);var G=A.g;A=A.ia,G.L=1,G.v=Sd(Eo(U)),G.m=null,G.P=!0,sh(G,A)}t.Za=function(){this.C!=null&&(this.C=null,Na(this),Qg(this),et(19))};function Zg(A){A.C!=null&&(a.clearTimeout(A.C),A.C=null)}function em(A,U){var G=null;if(A.g==U){Zg(A),B0(A),A.g=null;var le=2}else if(Di(A.h,U))G=U.D,qg(A.h,U),le=1;else return;if(A.G!=0){if(U.o)if(le==1){G=U.m?U.m.length:0,U=Date.now()-U.F;var we=A.B;le=Hr(),Ce(le,new dn(le,G)),Fl(A)}else dh(A);else if(we=U.s,we==3||we==0&&0<U.X||!(le==1&&FP(A,U)||le==2&&Qg(A)))switch(G&&0<G.length&&(U=A.h,U.i=U.i.concat(G)),we){case 1:Xu(A,5);break;case 4:Xu(A,10);break;case 3:Xu(A,6);break;default:Xu(A,2)}}}function aS(A,U){let G=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(G*=2),G*U}function Xu(A,U){if(A.j.info("Error code "+U),U==2){var G=h(A.fb,A),le=A.Xa;const we=!le;le=new vs(le||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wu(le,"https"),Sd(le),we?DP(le.toString(),G):rS(le.toString(),G)}else et(2);A.G=0,A.l&&A.l.sa(U),lS(A),Xg(A)}t.fb=function(A){A?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function lS(A){if(A.G=0,A.ka=[],A.l){const U=jg(A.h);(U.length!=0||A.i.length!=0)&&(x(A.ka,U),x(A.ka,A.i),A.h.i.length=0,y(A.i),A.i.length=0),A.l.ra()}}function uS(A,U,G){var le=G instanceof vs?Eo(G):new vs(G);if(le.g!="")U&&(le.g=U+"."+le.g),Ra(le,le.s);else{var we=a.location;le=we.protocol,U=U?U+"."+we.hostname:we.hostname,we=+we.port;var Ae=new vs(null);le&&Wu(Ae,le),U&&(Ae.g=U),we&&Ra(Ae,we),G&&(Ae.l=G),le=Ae}return G=A.D,U=A.ya,G&&U&&or(le,G,U),or(le,"VER",A.la),Yu(A,le),le}function cS(A,U,G){if(U&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=A.Ca&&!A.pa?new wr(new Gu({eb:G})):new wr(A.pa),U.Ha(A.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function V0(){}t=V0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tm(){}tm.prototype.g=function(A,U){return new Co(A,U)};function Co(A,U){ve.call(this),this.g=new $0(U),this.l=A,this.h=U&&U.messageUrlParams||null,A=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(A?A["X-WebChannel-Content-Type"]=U.messageContentType:A={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(A?A["X-WebChannel-Client-Profile"]=U.va:A={"X-WebChannel-Client-Profile":U.va}),this.g.S=A,(A=U&&U.Sb)&&!E(A)&&(this.g.m=A),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!E(U)&&(this.g.D=U,A=this.h,A!==null&&U in A&&(A=this.h,U in A&&delete A[U])),this.j=new $l(this)}m(Co,ve),Co.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Co.prototype.close=function(){Oi(this.g)},Co.prototype.o=function(A){var U=this.g;if(typeof A=="string"){var G={};G.__data__=A,A=G}else this.u&&(G={},G.__data__=Je(A),A=G);U.i.push(new Ug(U.Ya++,A)),U.G==3&&Fl(U)},Co.prototype.N=function(){this.g.l=null,delete this.j,Oi(this.g),delete this.g,Co.aa.N.call(this)};function dS(A){qt.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var U=A.__sm__;if(U){e:{for(const G in U){A=G;break e}A=void 0}(this.i=A)&&(A=this.i,U=U!==null&&A in U?U[A]:void 0),this.data=U}else this.data=A}m(dS,qt);function fS(){gn.call(this),this.status=1}m(fS,gn);function $l(A){this.g=A}m($l,V0),$l.prototype.ua=function(){Ce(this.g,"a")},$l.prototype.ta=function(A){Ce(this.g,new dS(A))},$l.prototype.sa=function(A){Ce(this.g,new fS)},$l.prototype.ra=function(){Ce(this.g,"b")},tm.prototype.createWebChannel=tm.prototype.g,Co.prototype.send=Co.prototype.o,Co.prototype.open=Co.prototype.m,Co.prototype.close=Co.prototype.close,tZ=function(){return new tm},eZ=function(){return Hr()},ZQ=jt,KL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vd.NO_ERROR=0,vd.TIMEOUT=8,vd.HTTP_ERROR=6,hC=vd,Fg.COMPLETE="complete",QQ=Fg,Ht.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Wb=Ht,wr.prototype.listenOnce=wr.prototype.L,wr.prototype.getLastError=wr.prototype.Ka,wr.prototype.getLastErrorCode=wr.prototype.Ba,wr.prototype.getStatus=wr.prototype.Z,wr.prototype.getResponseJson=wr.prototype.Oa,wr.prototype.getResponseText=wr.prototype.oa,wr.prototype.send=wr.prototype.ea,wr.prototype.setWithCredentials=wr.prototype.Ha,JQ=wr}).apply(typeof yE<"u"?yE:typeof self<"u"?self:typeof window<"u"?window:{});const aU="@firebase/firestore",lU="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}po.UNAUTHENTICATED=new po(null),po.GOOGLE_CREDENTIALS=new po("google-credentials-uid"),po.FIRST_PARTY=new po("first-party-uid"),po.MOCK_USER=new po("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new SQ("@firebase/firestore");function zm(){return Gp.logLevel}function ht(t,...e){if(Gp.logLevel<=Dn.DEBUG){const n=e.map(m$);Gp.debug(`Firestore (${h0}): ${t}`,...n)}}function td(t,...e){if(Gp.logLevel<=Dn.ERROR){const n=e.map(m$);Gp.error(`Firestore (${h0}): ${t}`,...n)}}function Vv(t,...e){if(Gp.logLevel<=Dn.WARN){const n=e.map(m$);Gp.warn(`Firestore (${h0}): ${t}`,...n)}}function m$(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nZ(t,r,n)}function nZ(t,e,n){let r=`FIRESTORE (${h0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw td(r),new Error(r)}function Kn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nZ(e,i,r)}function ln(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends pg{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(po.UNAUTHENTICATED))}shutdown(){}}class Gve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kve{constructor(e){this.t=e,this.currentUser=po.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Wc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wc)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kn(typeof r.accessToken=="string",31837,{l:r}),new rZ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kn(e===null||typeof e=="string",2055,{h:e}),new po(e)}}class Yve{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=po.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xve{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Yve(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(po.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jve{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,AQ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Kn(this.o===void 0,3512);const r=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Qve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function mn(t,e){return t<e?-1:t>e?1:0}function YL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return mn(r,i);{const o=iZ(),s=Zve(o.encode(cU(t,n)),o.encode(cU(e,n)));return s!==0?s:mn(r,i)}}n+=r>65535?2:1}return mn(t.length,e.length)}function cU(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Zve(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return mn(t[n],e[n]);return mn(t.length,e.length)}function zv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=-62135596800,fU=1e6;class Si{static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fU);return new Si(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new bt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dU)throw new bt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fU}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{static fromTimestamp(e){return new sn(e)}static min(){return new sn(new Si(0,0))}static max(){return new sn(new Si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="__name__";class Yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Yt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Yt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Yl.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return mn(e.length,n.length)}static compareSegments(e,n){const r=Yl.isNumericId(e),i=Yl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yl.extractNumericId(e).compare(Yl.extractNumericId(n)):YL(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lf.fromString(e.substring(4,e.length-2))}}class br extends Yl{construct(e,n,r){return new br(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new bt($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new br(n)}static emptyPath(){return new br([])}}const e0e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xi extends Yl{construct(e,n,r){return new Xi(e,n,r)}static isValidIdentifier(e){return e0e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hU}static keyField(){return new Xi([hU])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new bt($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new bt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new bt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new bt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xi(n)}static emptyPath(){return new Xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.path=e}static fromPath(e){return new zt(br.fromString(e))}static fromName(e){return new zt(br.fromString(e).popFirst(5))}static empty(){return new zt(br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&br.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return br.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new br(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=-1;function t0e(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=sn.fromTimestamp(r===1e9?new Si(n+1,0):new Si(n,r));return new Bf(i,zt.empty(),e)}function n0e(t){return new Bf(t.readTime,t.key,ow)}class Bf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bf(sn.min(),zt.empty(),ow)}static max(){return new Bf(sn.max(),zt.empty(),ow)}}function r0e(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=zt.comparator(t.documentKey,e.documentKey),n!==0?n:mn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o0e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==i0e)throw t;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Fe?n:Fe.resolve(n)}catch(n){return Fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Fe.reject(n)}static resolve(e){return new Fe((n,r)=>{n(e)})}static reject(e){return new Fe((n,r)=>{r(e)})}static waitFor(e){return new Fe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Fe.resolve(!1);for(const r of e)n=n.next(i=>i?Fe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Fe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Fe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function s0e(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function g0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}aR.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=-1;function lR(t){return t==null}function _T(t){return t===0&&1/t==-1/0}function a0e(t){return typeof t=="number"&&Number.isInteger(t)&&!_T(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ="";function l0e(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pU(e)),e=u0e(t.get(n),e);return pU(e)}function u0e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case sZ:n+="";break;default:n+=o}}return n}function pU(t){return t+sZ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gg(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this.comparator=e,this.root=n||Gi.EMPTY}insert(e,n){return new Mr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new Mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vE(this.root,e,this.comparator,!1)}getReverseIterator(){return new vE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vE(this.root,e,this.comparator,!0)}}class vE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gi.RED,this.left=i??Gi.EMPTY,this.right=o??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Gi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Yt(27949);return e+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1;Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt(57766)}get value(){throw Yt(16141)}get color(){throw Yt(16727)}get left(){throw Yt(29726)}get right(){throw Yt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.comparator=e,this.data=new Mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mU(this.data.getIterator())}getIteratorFrom(e){return new mU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ei(this.comparator);return n.data=e,n}}class mU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.fields=e,e.sort(Xi.comparator)}static empty(){return new fl([])}unionWith(e){let n=new Ei(Xi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lZ("Invalid base64 string: "+o):o}}(e);return new Qi(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Qi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qi.EMPTY_BYTE_STRING=new Qi("");const c0e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vf(t){if(Kn(!!t,39018),typeof t=="string"){let e=0;const n=c0e.exec(t);if(Kn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gr(t.seconds),nanos:Gr(t.nanos)}}function Gr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zf(t){return typeof t=="string"?Qi.fromBase64String(t):Qi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ="server_timestamp",cZ="__type__",dZ="__previous_value__",fZ="__local_write_time__";function v$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cZ])===null||n===void 0?void 0:n.stringValue)===uZ}function uR(t){const e=t.mapValue.fields[dZ];return v$(e)?uR(e):e}function sw(t){const e=Vf(t.mapValue.fields[fZ].timestampValue);return new Si(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0e{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const ST="(default)";class aw{constructor(e,n){this.projectId=e,this.database=n||ST}static empty(){return new aw("","")}get isDefaultDatabase(){return this.database===ST}isEqual(e){return e instanceof aw&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ="__type__",f0e="__max__",bE={mapValue:{}},pZ="__vector__",ET="value";function Uf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?v$(t)?4:p0e(t)?9007199254740991:h0e(t)?10:11:Yt(28295,{value:t})}function Du(t,e){if(t===e)return!0;const n=Uf(t);if(n!==Uf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sw(t).isEqual(sw(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Vf(i.timestampValue),a=Vf(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zf(i.bytesValue).isEqual(zf(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Gr(i.geoPointValue.latitude)===Gr(o.geoPointValue.latitude)&&Gr(i.geoPointValue.longitude)===Gr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Gr(i.integerValue)===Gr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Gr(i.doubleValue),a=Gr(o.doubleValue);return s===a?_T(s)===_T(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return zv(t.arrayValue.values||[],e.arrayValue.values||[],Du);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gU(s)!==gU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Du(s[l],a[l])))return!1;return!0}(t,e);default:return Yt(52216,{left:t})}}function lw(t,e){return(t.values||[]).find(n=>Du(n,e))!==void 0}function Uv(t,e){if(t===e)return 0;const n=Uf(t),r=Uf(e);if(n!==r)return mn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mn(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Gr(o.integerValue||o.doubleValue),l=Gr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yU(t.timestampValue,e.timestampValue);case 4:return yU(sw(t),sw(e));case 5:return YL(t.stringValue,e.stringValue);case 6:return function(o,s){const a=zf(o),l=zf(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=mn(a[u],l[u]);if(c!==0)return c}return mn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=mn(Gr(o.latitude),Gr(s.latitude));return a!==0?a:mn(Gr(o.longitude),Gr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vU(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},p=(a=d[ET])===null||a===void 0?void 0:a.arrayValue,m=(l=h[ET])===null||l===void 0?void 0:l.arrayValue,y=mn(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:vU(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===bE.mapValue&&s===bE.mapValue)return 0;if(o===bE.mapValue)return 1;if(s===bE.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=YL(l[d],c[d]);if(h!==0)return h;const p=Uv(a[l[d]],u[c[d]]);if(p!==0)return p}return mn(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Yt(23264,{Pe:n})}}function yU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mn(t,e);const n=Vf(t),r=Vf(e),i=mn(n.seconds,r.seconds);return i!==0?i:mn(n.nanos,r.nanos)}function vU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Uv(n[i],r[i]);if(o)return o}return mn(n.length,r.length)}function Hv(t){return XL(t)}function XL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return zt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=XL(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${XL(n.fields[s])}`;return i+"}"}(t.mapValue):Yt(61005,{value:t})}function pC(t){switch(Uf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uR(t);return e?16+pC(e):16;case 5:return 2*t.stringValue.length;case 6:return zf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+pC(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return gg(r.fields,(o,s)=>{i+=o.length+pC(s)}),i}(t.mapValue);default:throw Yt(13486,{value:t})}}function bU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function JL(t){return!!t&&"integerValue"in t}function b$(t){return!!t&&"arrayValue"in t}function xU(t){return!!t&&"nullValue"in t}function wU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gC(t){return!!t&&"mapValue"in t}function h0e(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hZ])===null||n===void 0?void 0:n.stringValue)===pZ}function Px(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gg(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Px(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Px(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p0e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===f0e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.value=e}static empty(){return new pa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gC(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Px(n)}setAll(e){let n=Xi.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Px(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gC(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Du(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gg(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new pa(Px(this.value))}}function gZ(t){const e=[];return gg(t.fields,(n,r)=>{const i=new Xi([n]);if(gC(r)){const o=gZ(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new fl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mo(e,0,sn.min(),sn.min(),sn.min(),pa.empty(),0)}static newFoundDocument(e,n,r,i){return new mo(e,1,n,sn.min(),r,i,0)}static newNoDocument(e,n){return new mo(e,2,n,sn.min(),sn.min(),pa.empty(),0)}static newUnknownDocument(e,n){return new mo(e,3,n,sn.min(),sn.min(),pa.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.position=e,this.inclusive=n}}function _U(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=zt.comparator(zt.fromName(s.referenceValue),n.key):r=Uv(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Du(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n="asc"){this.field=e,this.dir=n}}function g0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{}class ai extends mZ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new y0e(e,n,r):n==="array-contains"?new x0e(e,r):n==="in"?new w0e(e,r):n==="not-in"?new _0e(e,r):n==="array-contains-any"?new S0e(e,r):new ai(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v0e(e,r):new b0e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uv(n,this.value)):n!==null&&Uf(this.value)===Uf(n)&&this.matchesComparison(Uv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ml extends mZ{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ml(e,n)}matches(e){return yZ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yZ(t){return t.op==="and"}function vZ(t){return m0e(t)&&yZ(t)}function m0e(t){for(const e of t.filters)if(e instanceof ml)return!1;return!0}function QL(t){if(t instanceof ai)return t.field.canonicalString()+t.op.toString()+Hv(t.value);if(vZ(t))return t.filters.map(e=>QL(e)).join(",");{const e=t.filters.map(n=>QL(n)).join(",");return`${t.op}(${e})`}}function bZ(t,e){return t instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.field.isEqual(i.field)&&Du(r.value,i.value)}(t,e):t instanceof ml?function(r,i){return i instanceof ml&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bZ(s,i.filters[a]),!0):!1}(t,e):void Yt(19439)}function xZ(t){return t instanceof ai?function(n){return`${n.field.canonicalString()} ${n.op} ${Hv(n.value)}`}(t):t instanceof ml?function(n){return n.op.toString()+" {"+n.getFilters().map(xZ).join(" ,")+"}"}(t):"Filter"}class y0e extends ai{constructor(e,n,r){super(e,n,r),this.key=zt.fromName(r.referenceValue)}matches(e){const n=zt.comparator(e.key,this.key);return this.matchesComparison(n)}}class v0e extends ai{constructor(e,n){super(e,"in",n),this.keys=wZ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b0e extends ai{constructor(e,n){super(e,"not-in",n),this.keys=wZ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wZ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>zt.fromName(r.referenceValue))}class x0e extends ai{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b$(n)&&lw(n.arrayValue,this.value)}}class w0e extends ai{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lw(this.value.arrayValue,n)}}class _0e extends ai{constructor(e,n){super(e,"not-in",n)}matches(e){if(lw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lw(this.value.arrayValue,n)}}class S0e extends ai{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b$(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lw(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0e{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function EU(t,e=null,n=[],r=[],i=null,o=null,s=null){return new E0e(t,e,n,r,i,o,s)}function x$(t){const e=ln(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>QL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lR(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hv(r)).join(",")),e.Ie=n}return e.Ie}function w$(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bZ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SU(t.startAt,e.startAt)&&SU(t.endAt,e.endAt)}function ZL(t){return zt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function C0e(t,e,n,r,i,o,s,a){return new b1(t,e,n,r,i,o,s,a)}function _$(t){return new b1(t)}function CU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _Z(t){return t.collectionGroup!==null}function Ix(t){const e=ln(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ei(Xi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new TT(o,r))}),n.has(Xi.keyField().canonicalString())||e.Ee.push(new TT(Xi.keyField(),r))}return e.Ee}function Eu(t){const e=ln(t);return e.de||(e.de=T0e(e,Ix(t))),e.de}function T0e(t,e){if(t.limitType==="F")return EU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new TT(i.field,o)});const n=t.endAt?new CT(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new CT(t.startAt.position,t.startAt.inclusive):null;return EU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eO(t,e){const n=t.filters.concat([e]);return new b1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tO(t,e,n){return new b1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cR(t,e){return w$(Eu(t),Eu(e))&&t.limitType===e.limitType}function SZ(t){return`${x$(Eu(t))}|lt:${t.limitType}`}function Um(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xZ(i)).join(", ")}]`),lR(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hv(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hv(i)).join(",")),`Target(${r})`}(Eu(t))}; limitType=${t.limitType})`}function dR(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):zt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ix(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=_U(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Ix(r),i)||r.endAt&&!function(s,a,l){const u=_U(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Ix(r),i))}(t,e)}function A0e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EZ(t){return(e,n)=>{let r=!1;for(const i of Ix(t)){const o=R0e(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function R0e(t,e,n){const r=t.field.isKeyField()?zt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Uv(l,u):Yt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gg(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aZ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0e=new Mr(zt.comparator);function nd(){return P0e}const CZ=new Mr(zt.comparator);function Gb(...t){let e=CZ;for(const n of t)e=e.insert(n.key,n);return e}function TZ(t){let e=CZ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vh(){return kx()}function AZ(){return kx()}function kx(){return new mg(t=>t.toString(),(t,e)=>t.isEqual(e))}const I0e=new Mr(zt.comparator),k0e=new Ei(zt.comparator);function Cn(...t){let e=k0e;for(const n of t)e=e.add(n);return e}const M0e=new Ei(mn);function N0e(){return M0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_T(e)?"-0":e}}function RZ(t){return{integerValue:""+t}}function D0e(t,e){return a0e(e)?RZ(e):S$(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this._=void 0}}function L0e(t,e,n){return t instanceof AT?function(i,o){const s={fields:{[cZ]:{stringValue:uZ},[fZ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&v$(o)&&(o=uR(o)),o&&(s.fields[dZ]=o),{mapValue:s}}(n,e):t instanceof uw?IZ(t,e):t instanceof cw?kZ(t,e):function(i,o){const s=PZ(i,o),a=TU(s)+TU(i.Re);return JL(s)&&JL(i.Re)?RZ(a):S$(i.serializer,a)}(t,e)}function O0e(t,e,n){return t instanceof uw?IZ(t,e):t instanceof cw?kZ(t,e):n}function PZ(t,e){return t instanceof RT?function(r){return JL(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class AT extends fR{}class uw extends fR{constructor(e){super(),this.elements=e}}function IZ(t,e){const n=MZ(e);for(const r of t.elements)n.some(i=>Du(i,r))||n.push(r);return{arrayValue:{values:n}}}class cw extends fR{constructor(e){super(),this.elements=e}}function kZ(t,e){let n=MZ(e);for(const r of t.elements)n=n.filter(i=>!Du(i,r));return{arrayValue:{values:n}}}class RT extends fR{constructor(e,n){super(),this.serializer=e,this.Re=n}}function TU(t){return Gr(t.integerValue||t.doubleValue)}function MZ(t){return b$(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function F0e(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uw&&i instanceof uw||r instanceof cw&&i instanceof cw?zv(r.elements,i.elements,Du):r instanceof RT&&i instanceof RT?Du(r.Re,i.Re):r instanceof AT&&i instanceof AT}(t.transform,e.transform)}class $0e{constructor(e,n){this.version=e,this.transformResults=n}}class Gc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gc}static exists(e){return new Gc(void 0,e)}static updateTime(e){return new Gc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mC(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hR{}function NZ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LZ(t.key,Gc.none()):new x1(t.key,t.data,Gc.none());{const n=t.data,r=pa.empty();let i=new Ei(Xi.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yg(t.key,r,new fl(i.toArray()),Gc.none())}}function B0e(t,e,n){t instanceof x1?function(i,o,s){const a=i.value.clone(),l=RU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yg?function(i,o,s){if(!mC(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=RU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(DZ(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mx(t,e,n,r){return t instanceof x1?function(o,s,a,l){if(!mC(o.precondition,s))return a;const u=o.value.clone(),c=PU(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof yg?function(o,s,a,l){if(!mC(o.precondition,s))return a;const u=PU(o.fieldTransforms,l,s),c=s.data;return c.setAll(DZ(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return mC(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function V0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=PZ(r.transform,i||null);o!=null&&(n===null&&(n=pa.empty()),n.set(r.field,o))}return n||null}function AU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zv(r,i,(o,s)=>F0e(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class x1 extends hR{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yg extends hR{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DZ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RU(t,e,n){const r=new Map;Kn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,O0e(s,a,n[i]))}return r}function PU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,L0e(o,s,e))}return r}class LZ extends hR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z0e extends hR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&B0e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mx(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mx(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AZ();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=NZ(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(sn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Cn())}isEqual(e){return this.batchId===e.batchId&&zv(this.mutations,e.mutations,(n,r)=>AU(n,r))&&zv(this.baseMutations,e.baseMutations,(n,r)=>AU(n,r))}}class E${constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return I0e}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new E$(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti,kn;function j0e(t){switch(t){case $e.OK:return Yt(64938);case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0;default:return Yt(15467,{code:t})}}function OZ(t){if(t===void 0)return td("GRPC error has no .code"),$e.UNKNOWN;switch(t){case ti.OK:return $e.OK;case ti.CANCELLED:return $e.CANCELLED;case ti.UNKNOWN:return $e.UNKNOWN;case ti.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case ti.INTERNAL:return $e.INTERNAL;case ti.UNAVAILABLE:return $e.UNAVAILABLE;case ti.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case ti.NOT_FOUND:return $e.NOT_FOUND;case ti.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case ti.ABORTED:return $e.ABORTED;case ti.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case ti.DATA_LOSS:return $e.DATA_LOSS;default:return Yt(39323,{code:t})}}(kn=ti||(ti={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0e=new Lf([4294967295,4294967295],0);function IU(t){const e=iZ().encode(t),n=new XQ;return n.update(e),new Uint8Array(n.digest())}function kU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lf([n,r],0),new Lf([i,o],0)]}class C${constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kb(`Invalid padding: ${n}`);if(r<0)throw new Kb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kb(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kb(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Lf.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Lf.fromNumber(r)));return i.compare(W0e)===1&&(i=new Lf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=IU(e),[r,i]=kU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new C$(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;const n=IU(e),[r,i]=kU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,w1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pR(sn.min(),i,new Mr(mn),nd(),Cn())}}class w1{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new w1(r,n,Cn(),Cn(),Cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class FZ{constructor(e,n){this.targetId=e,this.Ce=n}}class $Z{constructor(e,n,r=Qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MU{constructor(){this.Fe=0,this.Me=NU(),this.xe=Qi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Cn(),n=Cn(),r=Cn();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Yt(38017,{changeType:o})}}),new w1(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=NU()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class G0e{constructor(e){this.ze=e,this.je=new Map,this.He=nd(),this.Je=xE(),this.Ye=xE(),this.Ze=new Mr(mn)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Yt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(ZL(o))if(r===0){const s=new zt(o.path);this.tt(n,s,mo.newNoDocument(s,sn.min()))}else Kn(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=zf(r).toUint8Array()}catch(l){if(l instanceof lZ)return Vv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new C$(s,i,o)}catch(l){return Vv(l instanceof Kb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&ZL(a.target)){const l=new zt(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,mo.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=Cn();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new pR(e,n,this.Ze,this.He,r);return this.He=nd(),this.Je=xE(),this.Ye=xE(),this.Ze=new Mr(mn),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new MU,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ei(mn),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ei(mn),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new MU),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function xE(){return new Mr(zt.comparator)}function NU(){return new Mr(zt.comparator)}const K0e={asc:"ASCENDING",desc:"DESCENDING"},Y0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X0e={and:"AND",or:"OR"};class J0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nO(t,e){return t.useProto3Json||lR(e)?e:{value:e}}function PT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BZ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q0e(t,e){return PT(t,e.toTimestamp())}function Cu(t){return Kn(!!t,49232),sn.fromTimestamp(function(n){const r=Vf(n);return new Si(r.seconds,r.nanos)}(t))}function T$(t,e){return rO(t,e).canonicalString()}function rO(t,e){const n=function(i){return new br(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VZ(t){const e=br.fromString(t);return Kn(jZ(e),10190,{key:e.toString()}),e}function iO(t,e){return T$(t.databaseId,e.path)}function Pk(t,e){const n=VZ(e);if(n.get(1)!==t.databaseId.projectId)throw new bt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new bt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new zt(UZ(n))}function zZ(t,e){return T$(t.databaseId,e)}function Z0e(t){const e=VZ(t);return e.length===4?br.emptyPath():UZ(e)}function oO(t){return new br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UZ(t){return Kn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DU(t,e,n){return{name:iO(t,e),fields:n.value.mapValue.fields}}function ebe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Yt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Kn(c===void 0||typeof c=="string",58123),Qi.fromBase64String(c||"")):(Kn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Qi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?$e.UNKNOWN:OZ(u.code);return new bt(c,u.message||"")}(s);n=new $Z(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pk(t,r.document.name),o=Cu(r.document.updateTime),s=r.document.createTime?Cu(r.document.createTime):sn.min(),a=new pa({mapValue:{fields:r.document.fields}}),l=mo.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new yC(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pk(t,r.document),o=r.readTime?Cu(r.readTime):sn.min(),s=mo.newNoDocument(i,o),a=r.removedTargetIds||[];n=new yC([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pk(t,r.document),o=r.removedTargetIds||[];n=new yC([],o,i,null)}else{if(!("filter"in e))return Yt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new q0e(i,o),a=r.targetId;n=new FZ(a,s)}}return n}function tbe(t,e){let n;if(e instanceof x1)n={update:DU(t,e.key,e.value)};else if(e instanceof LZ)n={delete:iO(t,e.key)};else if(e instanceof yg)n={update:DU(t,e.key,e.data),updateMask:cbe(e.fieldMask)};else{if(!(e instanceof z0e))return Yt(16599,{ft:e.type});n={verify:iO(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof AT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uw)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cw)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof RT)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Yt(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Q0e(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Yt(27497)}(t,e.precondition)),n}function nbe(t,e){return t&&t.length>0?(Kn(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Cu(i.updateTime):Cu(o);return s.isEqual(sn.min())&&(s=Cu(o)),new $0e(s,i.transformResults||[])}(n,e))):[]}function rbe(t,e){return{documents:[zZ(t,e.path)]}}function ibe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zZ(t,i);const o=function(u){if(u.length!==0)return qZ(ml.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Hm(h.field),direction:abe(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=nO(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function obe(t){let e=Z0e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=HZ(d);return h instanceof ml&&vZ(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new TT(qm(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,lR(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new CT(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new CT(p,h)}(n.endAt)),C0e(e,i,s,o,a,"F",l,u)}function sbe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HZ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qm(n.unaryFilter.field);return ai.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qm(n.unaryFilter.field);return ai.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qm(n.unaryFilter.field);return ai.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qm(n.unaryFilter.field);return ai.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yt(61313);default:return Yt(60726)}}(t):t.fieldFilter!==void 0?function(n){return ai.create(qm(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yt(58110);default:return Yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ml.create(n.compositeFilter.filters.map(r=>HZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Yt(1026)}}(n.compositeFilter.op))}(t):Yt(30097,{filter:t})}function abe(t){return K0e[t]}function lbe(t){return Y0e[t]}function ube(t){return X0e[t]}function Hm(t){return{fieldPath:t.canonicalString()}}function qm(t){return Xi.fromServerFormat(t.fieldPath)}function qZ(t){return t instanceof ai?function(n){if(n.op==="=="){if(wU(n.value))return{unaryFilter:{field:Hm(n.field),op:"IS_NAN"}};if(xU(n.value))return{unaryFilter:{field:Hm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wU(n.value))return{unaryFilter:{field:Hm(n.field),op:"IS_NOT_NAN"}};if(xU(n.value))return{unaryFilter:{field:Hm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hm(n.field),op:lbe(n.op),value:n.value}}}(t):t instanceof ml?function(n){const r=n.getFilters().map(i=>qZ(i));return r.length===1?r[0]:{compositeFilter:{op:ube(n.op),filters:r}}}(t):Yt(54877,{filter:t})}function cbe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jZ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i,o=sn.min(),s=sn.min(),a=Qi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dbe{constructor(e){this.wt=e}}function fbe(t){const e=obe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tO(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hbe{constructor(){this.Cn=new pbe}addToCollectionParentIndex(e,n){return this.Cn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}deleteAllFieldIndexes(e){return Fe.resolve()}createTargetIndexes(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve(Bf.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve(Bf.min())}updateCollectionGroup(e,n,r){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}}class pbe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ei(br.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ei(br.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WZ=41943040;class ns{static withCacheSize(e){return new ns(e,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns.DEFAULT_COLLECTION_PERCENTILE=10,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ns.DEFAULT=new ns(WZ,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ns.DISABLED=new ns(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new qv(0)}static lr(){return new qv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="LruGarbageCollector",gbe=1048576;function FU([t,e],[n,r]){const i=mn(t,n);return i===0?mn(e,r):i}class mbe{constructor(e){this.Er=e,this.buffer=new Ei(FU),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ybe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ht(OU,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){g0(n)?ht(OU,"Ignoring IndexedDB error during garbage collection: ",n):await p0(n)}await this.mr(3e5)})}}class vbe{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Fe.resolve(aR.le);const r=new mbe(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(LU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LU):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),zm()<=Dn.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function bbe(t,e){return new vbe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xbe{constructor(){this.changes=new mg(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wbe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _be{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mx(r.mutation,i,fl.empty(),Si.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Cn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Cn()){const i=Vh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gb();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Cn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=nd();const s=kx(),a=function(){return kx()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof yg)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Mx(c.mutation,u,c.mutation.getFieldMask(),Si.now())):s.set(u.key,fl.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new wbe(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kx();let i=new Mr((s,a)=>s-a),o=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||fl.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Cn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=AZ();c.forEach(h=>{if(!o.has(h)){const p=NZ(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Fe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return zt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_Z(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Fe.resolve(Vh());let a=ow,l=o;return s.next(u=>Fe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Fe.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Cn())).next(c=>({batchId:a,changes:TZ(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new zt(n)).next(r=>{let i=Gb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Gb();return this.indexManager.getCollectionParents(e,o).next(a=>Fe.forEach(a,l=>{const u=function(d,h){return new b1(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,mo.newInvalidDocument(c)))});let a=Gb();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Mx(c.mutation,u,fl.empty(),Si.now()),dR(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Fe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cu(i.createTime)}}(n)),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:fbe(i.bundledQuery),readTime:Cu(i.readTime)}}(n)),Fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ebe{constructor(){this.overlays=new Mr(zt.comparator),this.Qr=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vh();return Fe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),Fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Fe.resolve()}getOverlaysForCollection(e,n,r){const i=Vh(),o=n.length+1,s=new zt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Mr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Vh(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vh(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Fe.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new H0e(n,r));let o=this.Qr.get(n);o===void 0&&(o=Cn(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cbe{constructor(){this.sessionToken=Qi.EMPTY_BYTE_STRING}getSessionToken(e){return Fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.$r=new Ei(ki.Ur),this.Kr=new Ei(ki.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new ki(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new ki(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new zt(new br([])),r=new ki(n,e),i=new ki(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new zt(new br([])),r=new ki(n,e),i=new ki(n,e+1);let o=Cn();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ki(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ki{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return zt.comparator(e.key,n.key)||mn(e.Zr,n.Zr)}static Wr(e,n){return mn(e.Zr,n.Zr)||zt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tbe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ei(ki.Ur)}checkEmpty(e){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new U0e(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new ki(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Fe.resolve(s)}lookupMutationBatch(e,n){return Fe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return Fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?y$:this.nr-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ki(n,0),i=new ki(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),Fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ei(mn);return n.forEach(i=>{const o=new ki(i,0),s=new ki(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),Fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;zt.isDocumentKey(o)||(o=o.child(""));const s=new ki(new zt(o),0);let a=new Ei(mn);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),Fe.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kn(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Fe.forEach(n.mutations,i=>{const o=new ki(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new ki(n,0),i=this.Xr.firstAfterOrEqual(r);return Fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Abe{constructor(e){this.ii=e,this.docs=function(){return new Mr(zt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Fe.resolve(r?r.document.mutableCopy():mo.newInvalidDocument(n))}getEntries(e,n){let r=nd();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mo.newInvalidDocument(i))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nd();const s=n.path,a=new zt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||r0e(n0e(c),r)<=0||(i.has(c.key)||dR(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Fe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Yt(9500)}si(e,n){return Fe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rbe(this)}getSize(e){return Fe.resolve(this.size)}}class Rbe extends xbe{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Fe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pbe{constructor(e){this.persistence=e,this.oi=new mg(n=>x$(n),w$),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this._i=0,this.ai=new A$,this.targetCount=0,this.ui=qv.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Fe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new qv(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.Tr(n),Fe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Fe.waitFor(o).next(()=>i)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Fe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Fe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Fe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Fe.resolve(r)}containsKey(e,n){return Fe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,n){this.ci={},this.overlays={},this.li=new aR(0),this.hi=!1,this.hi=!0,this.Pi=new Cbe,this.referenceDelegate=e(this),this.Ti=new Pbe(this),this.indexManager=new hbe,this.remoteDocumentCache=function(i){return new Abe(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new dbe(n),this.Ei=new Sbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ebe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Tbe(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ht("MemoryPersistence","Starting transaction:",e);const i=new Ibe(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return Fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Ibe extends o0e{constructor(e){super(),this.currentSequenceNumber=e}}class R${constructor(e){this.persistence=e,this.Vi=new A$,this.mi=null}static fi(e){return new R$(e)}get gi(){if(this.mi)return this.mi;throw Yt(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Fe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.gi,r=>{const i=zt.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,sn.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Fe.or([()=>Fe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class IT{constructor(e,n){this.persistence=e,this.yi=new mg(r=>l0e(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=bbe(this,n)}static fi(e,n){return new IT(e,n)}di(){}Ai(e){return Fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Fe.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?Fe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,sn.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Fe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Fe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Fe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pC(e.data.value)),n}Dr(e,n,r){return Fe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return Fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Cn(),i=Cn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new P$(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kbe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yme()?8:s0e(gme())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new kbe;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(zm()<=Dn.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Um(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Fe.resolve()):(zm()<=Dn.DEBUG&&ht("QueryEngine","Query:",Um(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(zm()<=Dn.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Um(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Eu(n))):Fe.resolve())}ws(e,n){if(CU(n))return Fe.resolve(null);let r=Eu(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tO(n,null,"F"),r=Eu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Cn(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,s,l.readTime)?this.ws(e,tO(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return CU(n)||i.isEqual(sn.min())?Fe.resolve(null):this.ys.getDocuments(e,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?Fe.resolve(null):(zm()<=Dn.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Um(n)),this.Fs(e,s,n,t0e(i,ow)).next(a=>a))})}vs(e,n){let r=new Ei(EZ(e));return n.forEach((i,o)=>{dR(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return zm()<=Dn.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Um(n)),this.ys.getDocumentsMatchingQuery(e,n,Bf.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="LocalStore",Nbe=3e8;class Dbe{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Mr(mn),this.Os=new mg(o=>x$(o),w$),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _be(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Lbe(t,e,n,r){return new Dbe(t,e,n,r)}async function KZ(t,e){const n=ln(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Cn();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})}function Obe(t,e){const n=ln(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=Fe.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const x=u.docVersions.get(m);Kn(x!==null,48541),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Cn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YZ(t){const e=ln(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Fbe(t,e){const n=ln(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ti.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Qi.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,x,w){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Nbe?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&a.push(n.Ti.updateTargetData(o,p))});let l=nd(),u=Cn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push($be(o,s,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(sn.min())){const c=n.Ti.getLastRemoteSnapshotVersion(o).next(d=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Fe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.xs=i,o))}function $be(t,e,n){let r=Cn(),i=Cn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=nd();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(sn.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ht(I$,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function Bbe(t,e){const n=ln(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=y$),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vbe(t,e){const n=ln(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,Fe.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Pf(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function sO(t,e,n){const r=ln(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!g0(s))throw s;ht(I$,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function $U(t,e,n){const r=ln(t);let i=sn.min(),o=Cn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ln(l),h=d.Os.get(c);return h!==void 0?Fe.resolve(d.xs.get(h)):d.Ti.getTargetData(u,c)}(r,s,Eu(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:sn.min(),n?o:Cn())).next(a=>(zbe(r,A0e(e),a),{documents:a,$s:o})))}function zbe(t,e,n){let r=t.Ns.get(e)||sn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class BU{constructor(){this.activeTargetIds=N0e()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ube{constructor(){this.xo=new BU,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new BU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hbe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="ConnectivityMonitor";class zU{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(VU,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ht(VU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE=null;function aO(){return wE===null?wE=function(){return 268435456+Math.round(2147483648*Math.random())}():wE++,"0x"+wE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="RestConnection",qbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jbe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===ST?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const s=aO(),a=this.jo(e,n.toUriEncodedString());ht(Ik,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:u}=new URL(a),c=v1(u);return this.Jo(e,a,l,r,c).then(d=>(ht(Ik,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Vv(Ik,`RPC '${e}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+h0}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=qbe[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wbe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="WebChannelConnection";class Gbe extends jbe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=aO();return new Promise((a,l)=>{const u=new JQ;u.setWithCredentials(!0),u.listenOnce(QQ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case hC.NO_ERROR:const d=u.getResponseJson();ht(io,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case hC.TIMEOUT:ht(io,`RPC '${e}' ${s} timed out`),l(new bt($e.DEADLINE_EXCEEDED,"Request time out"));break;case hC.HTTP_ERROR:const h=u.getStatus();if(ht(io,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(E)>=0?E:$e.UNKNOWN}(m.status);l(new bt(y,m.message))}else l(new bt($e.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new bt($e.UNAVAILABLE,"Connection failed."));break;default:Yt(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ht(io,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ht(io,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}I_(e,n,r){const i=aO(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tZ(),a=eZ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ht(io,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.E_(d);let h=!1,p=!1;const m=new Wbe({Zo:x=>{p?ht(io,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(ht(io,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ht(io,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},Xo:()=>d.close()}),y=(x,w,E)=>{x.listen(w,S=>{try{E(S)}catch(T){setTimeout(()=>{throw T},0)}})};return y(d,Wb.EventType.OPEN,()=>{p||(ht(io,`RPC '${e}' stream ${i} transport opened.`),m.__())}),y(d,Wb.EventType.CLOSE,()=>{p||(p=!0,ht(io,`RPC '${e}' stream ${i} transport closed`),m.u_(),this.d_(d))}),y(d,Wb.EventType.ERROR,x=>{p||(p=!0,Vv(io,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),m.u_(new bt($e.UNAVAILABLE,"The operation could not be completed")))}),y(d,Wb.EventType.MESSAGE,x=>{var w;if(!p){const E=x.data[0];Kn(!!E,16349);const S=E,T=(S==null?void 0:S.error)||((w=S[0])===null||w===void 0?void 0:w.error);if(T){ht(io,`RPC '${e}' stream ${i} received error:`,T);const k=T.status;let N=function(L){const I=ti[L];if(I!==void 0)return OZ(I)}(k),R=T.message;N===void 0&&(N=$e.INTERNAL,R="Unknown error status: "+k+" with message "+T.message),p=!0,m.u_(new bt(N,R)),d.close()}else ht(io,`RPC '${e}' stream ${i} received:`,E),m.c_(E)}}),y(a,ZQ.STAT_EVENT,x=>{x.stat===KL.PROXY?ht(io,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===KL.NOPROXY&&ht(io,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function kk(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){return new J0e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="PersistentStream";class JZ{constructor(e,n,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new XZ(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===$e.RESOURCE_EXHAUSTED?(td(n.toString()),td("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===$e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new bt($e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ht(UU,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ht(UU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kbe extends JZ{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=ebe(this.serializer,e),r=function(o){if(!("targetChange"in o))return sn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?sn.min():s.readTime?Cu(s.readTime):sn.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=oO(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=ZL(l)?{documents:rbe(o,l)}:{query:ibe(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BZ(o,s.resumeToken);const u=nO(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(sn.min())>0){a.readTime=PT(o,s.snapshotVersion.toTimestamp());const u=nO(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=sbe(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=oO(this.serializer),n.removeTarget=e,this.Q_(n)}}class Ybe extends JZ{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Kn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Kn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=nbe(e.writeResults,e.commitTime),r=Cu(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=oO(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tbe(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xbe{}class Jbe extends Xbe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new bt($e.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,rO(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new bt($e.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,rO(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new bt($e.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Qbe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(td(n),this.ua=!1):ht("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RemoteStore";class Zbe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(async()=>{vg(this)&&(ht(Kp,"Restarting streams for network reachability change."),await async function(l){const u=ln(l);u.da.add(4),await _1(u),u.Va.set("Unknown"),u.da.delete(4),await mR(u)}(this))})}),this.Va=new Qbe(r,i)}}async function mR(t){if(vg(t))for(const e of t.Aa)await e(!0)}async function _1(t){for(const e of t.Aa)await e(!1)}function QZ(t,e){const n=ln(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),D$(n)?N$(n):m0(n).N_()&&M$(n,e))}function k$(t,e){const n=ln(t),r=m0(n);n.Ea.delete(e),r.N_()&&ZZ(n,e),n.Ea.size===0&&(r.N_()?r.k_():vg(n)&&n.Va.set("Unknown"))}function M$(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(sn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}m0(t).Z_(e)}function ZZ(t,e){t.ma.Ke(e),m0(t).X_(e)}function N$(t){t.ma=new G0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),m0(t).start(),t.Va.ca()}function D$(t){return vg(t)&&!m0(t).O_()&&t.Ea.size>0}function vg(t){return ln(t).da.size===0}function eee(t){t.ma=void 0}async function exe(t){t.Va.set("Online")}async function txe(t){t.Ea.forEach((e,n)=>{M$(t,e)})}async function nxe(t,e){eee(t),D$(t)?(t.Va.Pa(e),N$(t)):t.Va.set("Unknown")}async function rxe(t,e,n){if(t.Va.set("Online"),e instanceof $Z&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){ht(Kp,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kT(t,r)}else if(e instanceof yC?t.ma.Xe(e):e instanceof FZ?t.ma.ot(e):t.ma.nt(e),!n.isEqual(sn.min()))try{const r=await YZ(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ea.get(u);c&&o.Ea.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ea.get(l);if(!c)return;o.Ea.set(l,c.withResumeToken(Qi.EMPTY_BYTE_STRING,c.snapshotVersion)),ZZ(o,l);const d=new Pf(c.target,l,u,c.sequenceNumber);M$(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ht(Kp,"Failed to raise snapshot:",r),await kT(t,r)}}async function kT(t,e,n){if(!g0(e))throw e;t.da.add(1),await _1(t),t.Va.set("Offline"),n||(n=()=>YZ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ht(Kp,"Retrying IndexedDB access"),await n(),t.da.delete(1),await mR(t)})}function tee(t,e){return e().catch(n=>kT(t,n,e))}async function yR(t){const e=ln(t),n=Hf(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:y$;for(;ixe(e);)try{const i=await Bbe(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,oxe(e,i)}catch(i){await kT(e,i)}nee(e)&&ree(e)}function ixe(t){return vg(t)&&t.Ia.length<10}function oxe(t,e){t.Ia.push(e);const n=Hf(t);n.N_()&&n.ea&&n.ta(e.mutations)}function nee(t){return vg(t)&&!Hf(t).O_()&&t.Ia.length>0}function ree(t){Hf(t).start()}async function sxe(t){Hf(t).ia()}async function axe(t){const e=Hf(t);for(const n of t.Ia)e.ta(n.mutations)}async function lxe(t,e,n){const r=t.Ia.shift(),i=E$.from(r,e,n);await tee(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yR(t)}async function uxe(t,e){e&&Hf(t).ea&&await async function(r,i){if(function(s){return j0e(s)&&s!==$e.ABORTED}(i.code)){const o=r.Ia.shift();Hf(r).L_(),await tee(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await yR(r)}}(t,e),nee(t)&&ree(t)}async function HU(t,e){const n=ln(t);n.asyncQueue.verifyOperationInProgress(),ht(Kp,"RemoteStore received new credentials");const r=vg(n);n.da.add(3),await _1(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await mR(n)}async function cxe(t,e){const n=ln(t);e?(n.da.delete(2),await mR(n)):e||(n.da.add(2),await _1(n),n.Va.set("Unknown"))}function m0(t){return t.fa||(t.fa=function(n,r,i){const o=ln(n);return o.oa(),new Kbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:exe.bind(null,t),n_:txe.bind(null,t),i_:nxe.bind(null,t),Y_:rxe.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),D$(t)?N$(t):t.Va.set("Unknown")):(await t.fa.stop(),eee(t))})),t.fa}function Hf(t){return t.ga||(t.ga=function(n,r,i){const o=ln(n);return o.oa(),new Ybe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:sxe.bind(null,t),i_:uxe.bind(null,t),na:axe.bind(null,t),ra:lxe.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await yR(t)):(await t.ga.stop(),t.Ia.length>0&&(ht(Kp,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new L$(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O$(t,e){if(td("AsyncQueue",`${e}: ${t}`),g0(t))return new bt($e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{static emptySet(e){return new Ty(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||zt.comparator(n.key,r.key):(n,r)=>zt.comparator(n.key,r.key),this.keyedMap=Gb(),this.sortedSet=new Mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ty)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ty;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.pa=new Mr(zt.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Yt(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class jv{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new jv(e,n,Ty.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dxe{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class fxe{constructor(){this.queries=jU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ln(n),o=i.queries;i.queries=jU(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new bt($e.ABORTED,"Firestore shutting down"))}}function jU(){return new mg(t=>SZ(t),cR)}async function iee(t,e){const n=ln(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new dxe,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=O$(s,`Initialization of query '${Um(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&F$(n)}async function oee(t,e){const n=ln(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hxe(t,e){const n=ln(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&F$(n)}function pxe(t,e,n){const r=ln(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function F$(t){t.Ca.forEach(e=>{e.next()})}var lO,WU;(WU=lO||(lO={})).xa="default",WU.Cache="cache";class see{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=jv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==lO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e){this.key=e}}class lee{constructor(e){this.key=e}}class gxe{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Cn(),this.mutatedKeys=Cn(),this.Za=EZ(e),this.Xa=new Ty(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new qU,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=dR(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),x=!0):this.ru(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(p?(s=s.add(p),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((c,d)=>function(p,m){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt(20277,{Vt:x})}};return y(p)-y(m)}(c.type,d.type)||this.Za(c.doc,d.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new jv(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new qU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Cn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new lee(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new aee(r))}),n}au(e){this.Ha=e.$s,this.Ya=Cn();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return jv.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const $$="SyncEngine";class mxe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yxe{constructor(e){this.key=e,this.cu=!1}}class vxe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new mg(a=>SZ(a),cR),this.Pu=new Map,this.Tu=new Set,this.Iu=new Mr(zt.comparator),this.Eu=new Map,this.du=new A$,this.Au={},this.Ru=new Map,this.Vu=qv.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function bxe(t,e,n=!0){const r=pee(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await uee(r,e,n,!0),i}async function xxe(t,e){const n=pee(t);await uee(n,e,!0,!1)}async function uee(t,e,n,r){const i=await Vbe(t.localStore,Eu(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await wxe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QZ(t.remoteStore,i),a}async function wxe(t,e,n,r,i){t.fu=(d,h,p)=>async function(y,x,w,E){let S=x.view.tu(w);S.Cs&&(S=await $U(y.localStore,x.query,!1).then(({documents:R})=>x.view.tu(R,S)));const T=E&&E.targetChanges.get(x.targetId),k=E&&E.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(S,y.isPrimaryClient,T,k);return KU(y,x.targetId,N.ou),N.snapshot}(t,d,h,p);const o=await $U(t.localStore,e,!0),s=new gxe(e,o.$s),a=s.tu(o.documents),l=w1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);KU(t,n,u.ou);const c=new mxe(e,n,s);return t.hu.set(e,c),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function _xe(t,e,n){const r=ln(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!cR(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sO(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&k$(r.remoteStore,i.targetId),uO(r,i.targetId)}).catch(p0)):(uO(r,i.targetId),await sO(r.localStore,i.targetId,!0))}async function Sxe(t,e){const n=ln(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k$(n.remoteStore,r.targetId))}async function Exe(t,e,n){const r=kxe(t);try{const i=await function(s,a){const l=ln(s),u=Si.now(),c=a.reduce((p,m)=>p.add(m.key),Cn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=nd(),y=Cn();return l.Bs.getEntries(p,c).next(x=>{m=x,m.forEach((w,E)=>{E.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{d=x;const w=[];for(const E of a){const S=V0e(E,d.get(E.key).overlayedDocument);S!=null&&w.push(new yg(E.key,S,gZ(S.value.mapValue),Gc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:TZ(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new Mr(mn)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await S1(r,i.changes),await yR(r.remoteStore)}catch(i){const o=O$(i,"Failed to persist write");n.reject(o)}}async function cee(t,e){const n=ln(t);try{const r=await Fbe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(Kn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Kn(s.cu,14607):i.removedDocuments.size>0&&(Kn(s.cu,42227),s.cu=!1))}),await S1(n,r,e)}catch(r){await p0(r)}}function GU(t,e,n){const r=ln(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,s)=>{const a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ln(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.Fa(a)&&(u=!0)}),u&&F$(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Cxe(t,e,n){const r=ln(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Mr(zt.comparator);s=s.insert(o,mo.newNoDocument(o,sn.min()));const a=Cn().add(o),l=new pR(sn.min(),new Map,new Mr(mn),s,a);await cee(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),B$(r)}else await sO(r.localStore,e,!1).then(()=>uO(r,e,n)).catch(p0)}async function Txe(t,e){const n=ln(t),r=e.batch.batchId;try{const i=await Obe(n.localStore,e);fee(n,r,null),dee(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await S1(n,i)}catch(i){await p0(i)}}async function Axe(t,e,n){const r=ln(t);try{const i=await function(s,a){const l=ln(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Kn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);fee(r,e,n),dee(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await S1(r,i)}catch(i){await p0(i)}}function dee(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function fee(t,e,n){const r=ln(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function uO(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||hee(t,r)})}function hee(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(k$(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),B$(t))}function KU(t,e,n){for(const r of n)r instanceof aee?(t.du.addReference(r.key,e),Rxe(t,r)):r instanceof lee?(ht($$,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||hee(t,r.key)):Yt(19791,{pu:r})}function Rxe(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ht($$,"New document in limbo: "+n),t.Tu.add(r),B$(t))}function B$(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new zt(br.fromString(e)),r=t.Vu.next();t.Eu.set(r,new yxe(n)),t.Iu=t.Iu.insert(n,r),QZ(t.remoteStore,new Pf(Eu(_$(n.path)),r,"TargetPurposeLimboResolution",aR.le))}}async function S1(t,e,n){const r=ln(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=P$.Rs(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(l,u){const c=ln(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Fe.forEach(u,h=>Fe.forEach(h.ds,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Fe.forEach(h.As,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!g0(d))throw d;ht(I$,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.xs.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.xs=c.xs.insert(h,y)}}}(r.localStore,o))}async function Pxe(t,e){const n=ln(t);if(!n.currentUser.isEqual(e)){ht($$,"User change. New user:",e.toKey());const r=await KZ(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new bt($e.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await S1(n,r.ks)}}function Ixe(t,e){const n=ln(t),r=n.Eu.get(e);if(r&&r.cu)return Cn().add(r.key);{let i=Cn();const o=n.Pu.get(e);if(!o)return i;for(const s of o){const a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function pee(t){const e=ln(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cee.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ixe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cxe.bind(null,e),e.lu.Y_=hxe.bind(null,e.eventManager),e.lu.gu=pxe.bind(null,e.eventManager),e}function kxe(t){const e=ln(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Txe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Axe.bind(null,e),e}class MT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gR(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return Lbe(this.persistence,new Mbe,e.initialUser,this.serializer)}Su(e){return new GZ(R$.fi,this.serializer)}bu(e){return new Ube}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}MT.provider={build:()=>new MT};class Mxe extends MT{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Kn(this.persistence.referenceDelegate instanceof IT,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ybe(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?ns.withCacheSize(this.cacheSizeBytes):ns.DEFAULT;return new GZ(r=>IT.fi(r,n),this.serializer)}}class cO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pxe.bind(null,this.syncEngine),await cxe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fxe}()}createDatastore(e){const n=gR(e.databaseInfo.databaseId),r=function(o){return new Gbe(o)}(e.databaseInfo);return function(o,s,a,l){return new Jbe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Zbe(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GU(this.syncEngine,n,0),function(){return zU.C()?new zU:new Hbe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new vxe(i,o,s,a,l,u);return c&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ln(i);ht(Kp,"RemoteStore shutting down."),o.da.add(5),await _1(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cO.provider={build:()=>new cO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):td("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="FirestoreClient";class Nxe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=po.UNAUTHENTICATED,this.clientId=oZ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ht(qf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ht(qf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O$(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mk(t,e){t.asyncQueue.verifyOperationInProgress(),ht(qf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KZ(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dxe(t);ht(qf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HU(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HU(e.remoteStore,i)),t._onlineComponents=e}async function Dxe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ht(qf,"Using user provided OfflineComponentProvider");try{await Mk(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$e.FAILED_PRECONDITION||i.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vv("Error using user provided cache. Falling back to memory cache: "+n),await Mk(t,new MT)}}else ht(qf,"Using default OfflineComponentProvider"),await Mk(t,new Mxe(void 0));return t._offlineComponents}async function mee(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ht(qf,"Using user provided OnlineComponentProvider"),await YU(t,t._uninitializedComponentsProvider._online)):(ht(qf,"Using default OnlineComponentProvider"),await YU(t,new cO))),t._onlineComponents}function Lxe(t){return mee(t).then(e=>e.syncEngine)}async function yee(t){const e=await mee(t),n=e.eventManager;return n.onListen=bxe.bind(null,e.syncEngine),n.onUnlisten=_xe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xxe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Sxe.bind(null,e.syncEngine),n}function Oxe(t,e,n={}){const r=new Wc;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new gee({next:h=>{c.xu(),s.enqueueAndForget(()=>oee(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new bt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new bt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new see(_$(a.path),c,{includeMetadataChanges:!0,Qa:!0});return iee(o,d)}(await yee(t),t.asyncQueue,e,n,r)),r.promise}function Fxe(t,e,n={}){const r=new Wc;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new gee({next:h=>{c.xu(),s.enqueueAndForget(()=>oee(o,d)),h.fromCache&&l.source==="server"?u.reject(new bt($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new see(a,c,{includeMetadataChanges:!0,Qa:!0});return iee(o,d)}(await yee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bee(t,e,n){if(!n)throw new bt($e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $xe(t,e,n,r){if(e===!0&&r===!0)throw new bt($e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JU(t){if(!zt.isDocumentKey(t))throw new bt($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QU(t){if(zt.isDocumentKey(t))throw new bt($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Yt(12329,{type:typeof t})}function Yp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new bt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vR(t);throw new bt($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee="firestore.googleapis.com",ZU=!0;class eH{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new bt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xee,this.ssl=ZU}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ZU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gbe)throw new bt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$xe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vee((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new bt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new bt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new bt($e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eH({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eH(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wve;switch(r.type){case"firstParty":return new Xve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XU.get(n);r&&(ht("ComponentProvider","Removing Datastore"),XU.delete(n),r.terminate())}(this),Promise.resolve()}}function Bxe(t,e,n,r={}){var i;t=Yp(t,bR);const o=v1(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o&&(bQ(`https://${l}`),wQ("Firestore",!0)),s.host!==xee&&s.host!==l&&Vv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!xT(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=po.MOCK_USER;else{c=xQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new bt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new po(h)}t._authCredentials=new Gve(new rZ(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new y0(this.firestore,e,this._query)}}class ls{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Of(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ls(this.firestore,e,this._key)}}class Of extends y0{constructor(e,n,r){super(e,n,_$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ls(this.firestore,null,new zt(e))}withConverter(e){return new Of(this.firestore,e,this._path)}}function Ch(t,e,...n){if(t=Nu(t),bee("collection","path",e),t instanceof bR){const r=br.fromString(e,...n);return QU(r),new Of(t,null,r)}{if(!(t instanceof ls||t instanceof Of))throw new bt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(br.fromString(e,...n));return QU(r),new Of(t.firestore,null,r)}}function na(t,e,...n){if(t=Nu(t),arguments.length===1&&(e=oZ.newId()),bee("doc","path",e),t instanceof bR){const r=br.fromString(e,...n);return JU(r),new ls(t,null,new zt(r))}{if(!(t instanceof ls||t instanceof Of))throw new bt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(br.fromString(e,...n));return JU(r),new ls(t.firestore,t instanceof Of?t.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH="AsyncQueue";class nH{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new XZ(this,"async_queue_retry"),this.rc=()=>{const r=kk();r&&ht(tH,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=kk();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=kk();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Wc;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!g0(e))throw e;ht(tH,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,td("INTERNAL UNHANDLED ERROR: ",rH(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=L$.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Yt(47125,{cc:rH(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function rH(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xR extends bR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nH(e),this._firestoreClient=void 0,await e}}}function Vxe(t,e){const n=typeof t=="object"?t:IQ(),r=typeof t=="string"?t:ST,i=TQ(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=yQ("firestore");o&&Bxe(i,...o)}return i}function V$(t){if(t._terminated)throw new bt($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zxe(t),t._firestoreClient}function zxe(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new d0e(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vee(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Nxe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wv(Qi.fromBase64String(e))}catch(n){throw new bt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wv(Qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new bt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new bt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new bt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uxe=/^__.*__$/;class Hxe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yg(e,this.data,this.fieldMask,n,this.fieldTransforms):new x1(e,this.data,n,this.fieldTransforms)}}function _ee(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt(40011,{Ic:t})}}class q${constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new q$(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return NT(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(_ee(this.Ic)&&Uxe.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class qxe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gR(e)}bc(e,n,r,i=!1){return new q$({Ic:e,methodName:n,wc:r,path:Xi.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function See(t){const e=t._freezeSettings(),n=gR(t._databaseId);return new qxe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jxe(t,e,n,r,i,o={}){const s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);Tee("Data must be an object, but it was:",s,r);const a=Eee(r,s);let l,u;if(o.merge)l=new fl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Gxe(e,d,n);if(!s.contains(h))throw new bt($e.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Yxe(c,h)||c.push(h)}l=new fl(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Hxe(new pa(a),l,u)}function Wxe(t,e,n,r=!1){return j$(n,t.bc(r?4:3,e))}function j$(t,e){if(Cee(t=Nu(t)))return Tee("Unsupported field value:",e,t),Eee(t,e);if(t instanceof wee)return function(r,i){if(!_ee(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=j$(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Nu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D0e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Si.fromDate(r);return{timestampValue:PT(i.serializer,o)}}if(r instanceof Si){const o=new Si(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:PT(i.serializer,o)}}if(r instanceof U$)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wv)return{bytesValue:BZ(i.serializer,r._byteString)};if(r instanceof ls){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:T$(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof H$)return function(s,a){return{mapValue:{fields:{[hZ]:{stringValue:pZ},[ET]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return S$(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${vR(r)}`)}(t,e)}function Eee(t,e){const n={};return aZ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gg(t,(r,i)=>{const o=j$(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Cee(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Si||t instanceof U$||t instanceof Wv||t instanceof ls||t instanceof wee||t instanceof H$)}function Tee(t,e,n){if(!Cee(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=vR(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Gxe(t,e,n){if((e=Nu(e))instanceof z$)return e._internalPath;if(typeof e=="string")return Aee(t,e);throw NT("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kxe=new RegExp("[~\\*/\\[\\]]");function Aee(t,e,n){if(e.search(Kxe)>=0)throw NT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z$(...e.split("."))._internalPath}catch{throw NT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function NT(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new bt($e.INVALID_ARGUMENT,a+t+l)}function Yxe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xxe extends Ree{data(){return super.data()}}function W$(t,e){return typeof e=="string"?Aee(t,e):e instanceof z$?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jxe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new bt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G${}class Qxe extends G${}function oo(t,e,...n){let r=[];e instanceof G$&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof K$).length,a=o.filter(l=>l instanceof wR).length;if(s>1||s>0&&a>0)throw new bt($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class wR extends Qxe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wR(e,n,r)}_apply(e){const n=this._parse(e);return Pee(e._query,n),new y0(e.firestore,e.converter,eO(e._query,n))}_parse(e){const n=See(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new bt($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){oH(d,c);const m=[];for(const y of d)m.push(iH(l,o,y));h={arrayValue:{values:m}}}else h=iH(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||oH(d,c),h=Wxe(a,s,d,c==="in"||c==="not-in");return ai.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lr(t,e,n){const r=e,i=W$("where",t);return wR._create(i,r,n)}class K$ extends G${constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new K$(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ml.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Pee(s,l),s=eO(s,l)}(e._query,n),new y0(e.firestore,e.converter,eO(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iH(t,e,n){if(typeof(n=Nu(n))=="string"){if(n==="")throw new bt($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_Z(e)&&n.indexOf("/")!==-1)throw new bt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(br.fromString(n));if(!zt.isDocumentKey(r))throw new bt($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bU(t,new zt(r))}if(n instanceof ls)return bU(t,n._key);throw new bt($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vR(n)}.`)}function oH(t,e){if(!Array.isArray(t)||t.length===0)throw new bt($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pee(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new bt($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new bt($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zxe{convertValue(e,n="none"){switch(Uf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Yt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gg(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ET].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Gr(s.doubleValue));return new H$(o)}convertGeoPoint(e){return new U$(Gr(e.latitude),Gr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sw(e));default:return null}}convertTimestamp(e){const n=Vf(e);return new Si(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=br.fromString(e);Kn(jZ(r),9688,{name:e});const i=new aw(r.get(1),r.get(3)),o=new zt(r.popFirst(5));return i.isEqual(n)||td(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ewe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iee extends Ree{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W$("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vC extends Iee{data(e={}){return super.data(e)}}class twe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yb(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vC(this._firestore,this._userDataWriter,r.key,r,new Yb(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new bt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new vC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new vC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:nwe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rwe(t){t=Yp(t,ls);const e=Yp(t.firestore,xR);return Oxe(V$(e),t._key).then(n=>owe(e,t,n))}class kee extends Zxe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wv(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ls(this.firestore,null,n)}}function Po(t){t=Yp(t,y0);const e=Yp(t.firestore,xR),n=V$(e),r=new kee(e);return Jxe(t._query),Fxe(n,t._query).then(i=>new twe(e,r,t,i))}function Va(t,e,n){t=Yp(t,ls);const r=Yp(t.firestore,xR),i=ewe(t.converter,e);return iwe(r,[jxe(See(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gc.none())])}function iwe(t,e){return function(r,i){const o=new Wc;return r.asyncQueue.enqueueAndForget(async()=>Exe(await Lxe(r),i,o)),o.promise}(V$(t),e)}function owe(t,e,n){const r=n.docs.get(e._key),i=new kee(t);return new Iee(t,i,e._key,r,new Yb(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){h0=i})(RQ),rw(new Bv("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new xR(new Kve(r.getProvider("auth-internal")),new Jve(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new bt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aw(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Df(aU,lU,e),Df(aU,lU,"esm2017")})();const swe=`
You are an expert research methodology advisor and academic mentor. 
Your purpose is to help researchers read an academic paper more effectively by assessing their current reading progress and providing a set of specific, actionable reading goals to guide their next steps in reading.
`,awe=3,lwe=`
Keshav's "three-pass approach":
- a quick first pass (i.e. skimming) to get a bird's-eye view, 
- a second pass to grasp content, and 
- a third pass for in-depth understanding.
`,uwe=`
- Level 0: Skimming (What is the paper about?)
-- To Skim: get a bird's-eye view of the paper.

- Level 1: Foundational Understanding (What does the paper say?)
-- To Learn / Self-Inform: learning its core concepts and background.
-- To Search / Answer Questions: questions a reader might want to find the answer to in this paper.
-- To Summarize: summarizing the paper's central argument and conclusion.

- Level 2: Critical Evaluation (How good is the paper's argument?)
-- For Critical Review: critically evaluate this paper's specific methodology, evidence, or logical structure.
-- For Discussion: form a critical opinion or a key question for discussing this paper with peers.

- Level 3: Connection & Application (How can I use this paper?)
-- To Apply: extract a specific method, theory, or finding from this paper for practical application.
-- To Write and Revise: use this paper to support your own writing or literature review.
-- For Decision Making: use the paper's findings to inform a specific research or practical decision.
`,bC=`
You will be provided with (1) the full text of an academic paper and (2) a list of reading goals that the user has already completed.

Your task is to: 
(1) first understand the paper, 
(2) then provide a brief assessment of the user's current reading progress using the provided reading framework (note: if no reading goals have been completed, the user should start with level 0),
(3) finally generate ${awe} potential reading goals and their descriptions according to the provided intention framework.

${lwe}

${uwe}

Ensure all generated goals are phrased as actionable tasks and are tailored directly to the content of the paper content and should aimed for the user's current reading progress. 

The user has already completed the following reading goals:
`;var dw=(t=>(t.ADMIN="admin",t.TEACHER="teacher",t.STUDENT="student",t))(dw||{});const cwe={enabled:!0,apiKey:"AIzaSyCI7AHHYDkgnfUco9GoTiYtX6-jrV3Nh8w",customPrompt:bC},dwe={apiKey:"AIzaSyDd6jdeGNhVvB6IZ2M2hDC_Tp66uhC3TUo",authDomain:"read-9fc7d.firebaseapp.com",projectId:"read-9fc7d",storageBucket:"read-9fc7d.firebasestorage.app",messagingSenderId:"794793289582",appId:"1:794793289582:web:6e0afecc5aeeb10bed437f",measurementId:"G-FYESGK4NLB"},Mee=F.createContext(void 0),fwe=({children:t})=>{const e=PQ(dwe),n=Vxe(e),r=Ch(n,"users"),i=Ch(n,"userPaperTable"),o=Ch(n,"papersData"),s=Ch(n,"canvases"),a=Ch(n,"highlights"),l=Ch(n,"readPurposes"),u=Ch(n,"readSessions"),c=Uve(e),[d,h]=F.useState(void 0);F.useEffect(()=>{const ee=localStorage.getItem("userId");ee&&p(ee)},[]);const p=async ee=>{const ae=await y(ee);h(ae)},m=async ee=>{let ae;if(ee){const te=oo(r,Lr("role","==",ee));ae=await Po(te)}else ae=await Po(r);return console.log("userDocs",ae.docs.map(te=>te.data())),ae.docs.map(te=>te.data())},y=async ee=>(await rwe(na(r,ee))).data(),x=async ee=>{const ae=oo(r,Lr("email","==",ee)),te=await Po(ae);return te.empty?null:te.docs[0].data()},w=async ee=>{try{await Va(na(r,ee.id),ee),ee.id===localStorage.getItem("userId")&&h(ee),console.log("User updated with ID:",ee.id)}catch(ae){console.error("Error updating user:",ae)}},E=async(ee,ae)=>{try{await Va(na(i,`${ee}_${ae}`),{id:`${ee}_${ae}`,userId:ee,paperId:ae})}catch(te){console.error("Error adding paper to user:",te)}},S=async ee=>{const ae=oo(i,Lr("userId","==",ee));return(await Po(ae)).docs.map(ce=>ce.data())},T=async ee=>{const ae=oo(o,Lr("id","in",ee));return(await Po(ae)).docs.map(ce=>ce.data())},k=async ee=>{try{await Va(na(o,ee.id),ee),console.log("Paper added with ID:",ee.id)}catch(ae){console.error("Error adding paper:",ae)}},N=async(ee,ae)=>{try{const te=oU(c,ee);await Vve(te,ae),console.log("Paper file uploaded to:",te.fullPath)}catch(te){console.error("Error adding paper file:",te)}},R=async ee=>{const ae=oU(c,ee);return await zve(ae)},M=async(ee,ae)=>{const te=oo(s,Lr("userId","==",ee),Lr("paperId","==",ae));return(await Po(te)).docs.map(fe=>fe.data())[0]||""},L=async ee=>{await Va(na(s,ee.id),ee)},I=async ee=>{const ae=oo(a,Lr("userId","==",ee));return(await Po(ae)).docs.map(ce=>ce.data())},O=async ee=>{const ae=oo(a,Lr("paperId","==",ee));return(await Po(ae)).docs.map(ce=>ce.data())},V=async(ee,ae)=>{const te=oo(a,Lr("userId","in",ee),Lr("paperId","in",ae)),fe=(await Po(te)).docs.map(xe=>xe.data()),ge={};return fe.forEach(xe=>{const be=`${xe.userId}_${xe.paperId}`;ge[be]||(ge[be]=[]),ge[be].push(xe)}),ge},$=async ee=>(await Va(na(a,ee.id),ee),ee.id),z=async ee=>{const ae=oo(l,Lr("userId","==",ee));return(await Po(ae)).docs.map(ce=>ce.data())},W=async ee=>{const ae=oo(l,Lr("paperId","==",ee));return(await Po(ae)).docs.map(ce=>ce.data())},K=async(ee,ae)=>{const te=oo(l,Lr("userId","==",ee),Lr("paperId","==",ae));return(await Po(te)).docs.map(fe=>fe.data())},J=async ee=>(await Va(na(l,ee.id),ee),ee.id),Q=async ee=>(await Va(na(l,ee.id),ee),ee.id),X=async(ee,ae)=>{let te;return ae&&ae.length>0?te=oo(u,Lr("userId","==",ee),Lr("paperId","in",ae)):te=oo(u,Lr("userId","==",ee)),(await Po(te)).docs.map(fe=>fe.data())},j=async(ee,ae)=>{let te;return ae&&ae.length>0?te=oo(u,Lr("paperId","==",ee),Lr("userId","in",ae)):te=oo(u,Lr("paperId","==",ee)),(await Po(te)).docs.map(fe=>fe.data())},Y=async(ee,ae)=>{const te=oo(u,Lr("userId","in",ee),Lr("paperId","in",ae)),fe=(await Po(te)).docs.map(xe=>xe.data()),ge={};return fe.forEach(xe=>{const be=`${xe.userId}_${xe.paperId}`;ge[be]||(ge[be]=[]),ge[be].push(xe)}),ge},ue=async ee=>(await Va(na(u,ee.id),ee),ee.id),q=async ee=>{const ae=ee.map(te=>Va(na(a,te.id),te));return await Promise.all(ae),ee.map(te=>te.id)},de=async ee=>{const ae=ee.map(te=>Va(na(l,te.id),te));return await Promise.all(ae),ee.map(te=>te.id)},se=async ee=>{const ae=ee.map(te=>Va(na(u,te.id),te));return await Promise.all(ae),ee.map(te=>te.id)};return D.jsx(Mee.Provider,{value:{userData:d,setUserData:h,loadUserData:p,getAllUsers:m,getUserById:y,getUserByEmail:x,updateUser:w,addPaperToUser:E,getPapersByUser:S,getPaperDataById:T,addPaperData:k,getPaperFile:R,addPaperFile:N,getCanvasUserAndPaper:M,updateCanvas:L,getHighlightsByUser:I,getHighlightsByPaper:O,getHighlightsByUsersAndPapers:V,addHighlight:$,getPurposesByUser:z,getPurposesByPaper:W,getPurposesByUserAndPaper:K,addPurpose:J,updatePurpose:Q,getSessionsByUser:X,getSessionsByPaper:j,getSessionsByUsersAndPapers:Y,addSession:ue,batchAddHighlights:q,batchAddPurposes:de,batchAddSessions:se},children:t})},bg=()=>{const t=F.useContext(Mee);if(t===void 0)throw new Error("useStorageContext must be used within a StorageProvider");return t};var Bn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Bn||(Bn={}));var sH;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(sH||(sH={}));const wt=Bn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zd=t=>{switch(typeof t){case"undefined":return wt.undefined;case"string":return wt.string;case"number":return Number.isNaN(t)?wt.nan:wt.number;case"boolean":return wt.boolean;case"function":return wt.function;case"bigint":return wt.bigint;case"symbol":return wt.symbol;case"object":return Array.isArray(t)?wt.array:t===null?wt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?wt.promise:typeof Map<"u"&&t instanceof Map?wt.map:typeof Set<"u"&&t instanceof Set?wt.set:typeof Date<"u"&&t instanceof Date?wt.date:wt.object;default:return wt.unknown}},Ke=Bn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rd extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof rd))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Bn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}rd.create=t=>new rd(t);const dO=(t,e)=>{let n;switch(t.code){case Ke.invalid_type:t.received===wt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ke.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Bn.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:n=`Unrecognized key(s) in object: ${Bn.joinValues(t.keys,", ")}`;break;case Ke.invalid_union:n="Invalid input";break;case Ke.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Bn.joinValues(t.options)}`;break;case Ke.invalid_enum_value:n=`Invalid enum value. Expected ${Bn.joinValues(t.options)}, received '${t.received}'`;break;case Ke.invalid_arguments:n="Invalid function arguments";break;case Ke.invalid_return_type:n="Invalid function return type";break;case Ke.invalid_date:n="Invalid date";break;case Ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Bn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ke.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ke.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ke.custom:n="Invalid input";break;case Ke.invalid_intersection_types:n="Intersection results could not be merged";break;case Ke.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ke.not_finite:n="Number must be finite";break;default:n=e.defaultError,Bn.assertNever(t)}return{message:n}};let hwe=dO;function pwe(){return hwe}const gwe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}};function ct(t,e){const n=pwe(),r=gwe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===dO?void 0:dO].filter(i=>!!i)});t.common.issues.push(r)}class $o{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return an;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return $o.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return an;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const an=Object.freeze({status:"aborted"}),Xb=t=>({status:"dirty",value:t}),Ca=t=>({status:"valid",value:t}),aH=t=>t.status==="aborted",lH=t=>t.status==="dirty",Gv=t=>t.status==="valid",DT=t=>typeof Promise<"u"&&t instanceof Promise;var At;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(At||(At={}));class Lu{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uH=(t,e)=>{if(Gv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new rd(t.common.issues);return this._error=n,this._error}}};function hn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Pn{get description(){return this._def.description}_getType(e){return Zd(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Zd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $o,ctx:{common:e.parent.common,data:e.data,parsedType:Zd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(DT(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zd(e)},i=this._parseSync({data:e,path:r.path,parent:r});return uH(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zd(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Gv(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Gv(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zd(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(DT(i)?i:Promise.resolve(i));return uH(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Ke.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Xv({schema:this,typeName:tn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ff.create(this,this._def)}nullable(){return Jv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tu.create(this)}promise(){return BT.create(this,this._def)}or(e){return OT.create([this,e],this._def)}and(e){return FT.create(this,e,this._def)}transform(e){return new Xv({...hn(this._def),schema:this,typeName:tn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gO({...hn(this._def),innerType:this,defaultValue:n,typeName:tn.ZodDefault})}brand(){return new $we({typeName:tn.ZodBranded,type:this,...hn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new mO({...hn(this._def),innerType:this,catchValue:n,typeName:tn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Y$.create(this,e)}readonly(){return yO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mwe=/^c[^\s-]{8,}$/i,ywe=/^[0-9a-z]+$/,vwe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bwe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xwe=/^[a-z0-9_-]{21}$/i,wwe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_we=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Swe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ewe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nk;const Cwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Twe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Awe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Pwe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Iwe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Nee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kwe=new RegExp(`^${Nee}$`);function Dee(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Mwe(t){return new RegExp(`^${Dee(t)}$`)}function Nwe(t){let e=`${Nee}T${Dee(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Dwe(t,e){return!!((e==="v4"||!e)&&Cwe.test(t)||(e==="v6"||!e)&&Awe.test(t))}function Lwe(t,e){if(!wwe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Owe(t,e){return!!((e==="v4"||!e)&&Twe.test(t)||(e==="v6"||!e)&&Rwe.test(t))}class xu extends Pn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==wt.string){const o=this._getOrReturnCtx(e);return ct(o,{code:Ke.invalid_type,expected:wt.string,received:o.parsedType}),an}const r=new $o;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?ct(i,{code:Ke.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ct(i,{code:Ke.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Swe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"email",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Nk||(Nk=new RegExp(Ewe,"u")),Nk.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"emoji",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")bwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"uuid",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")xwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"nanoid",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")mwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cuid",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")ywe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cuid2",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")vwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"ulid",code:Ke.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ct(i,{validation:"url",code:Ke.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"regex",code:Ke.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?Nwe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?kwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Mwe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?_we.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"duration",code:Ke.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Dwe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"ip",code:Ke.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Lwe(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"jwt",code:Ke.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Owe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"cidr",code:Ke.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Pwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"base64",code:Ke.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Iwe.test(e.data)||(i=this._getOrReturnCtx(e,i),ct(i,{validation:"base64url",code:Ke.invalid_string,message:o.message}),r.dirty()):Bn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ke.invalid_string,...At.errToObj(r)})}_addCheck(e){return new xu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...At.errToObj(e)})}url(e){return this._addCheck({kind:"url",...At.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...At.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...At.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...At.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...At.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...At.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...At.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...At.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...At.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...At.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...At.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...At.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...At.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...At.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...At.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...At.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...At.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...At.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...At.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...At.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...At.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...At.errToObj(n)})}nonempty(e){return this.min(1,At.errToObj(e))}trim(){return new xu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xu.create=t=>new xu({checks:[],typeName:tn.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...hn(t)});function Fwe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}class Xp extends Pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==wt.number){const o=this._getOrReturnCtx(e);return ct(o,{code:Ke.invalid_type,expected:wt.number,received:o.parsedType}),an}let r;const i=new $o;for(const o of this._def.checks)o.kind==="int"?Bn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Fwe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.not_finite,message:o.message}),i.dirty()):Bn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,At.toString(n))}gt(e,n){return this.setLimit("min",e,!1,At.toString(n))}lte(e,n){return this.setLimit("max",e,!0,At.toString(n))}lt(e,n){return this.setLimit("max",e,!1,At.toString(n))}setLimit(e,n,r,i){return new Xp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:At.toString(i)}]})}_addCheck(e){return new Xp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:At.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:At.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:At.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:At.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:At.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Bn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Xp.create=t=>new Xp({checks:[],typeName:tn.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...hn(t)});class Jp extends Pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==wt.bigint)return this._getInvalidInput(e);let r;const i=new $o;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ct(r,{code:Ke.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Bn.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ct(n,{code:Ke.invalid_type,expected:wt.bigint,received:n.parsedType}),an}gte(e,n){return this.setLimit("min",e,!0,At.toString(n))}gt(e,n){return this.setLimit("min",e,!1,At.toString(n))}lte(e,n){return this.setLimit("max",e,!0,At.toString(n))}lt(e,n){return this.setLimit("max",e,!1,At.toString(n))}setLimit(e,n,r,i){return new Jp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:At.toString(i)}]})}_addCheck(e){return new Jp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:At.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jp.create=t=>new Jp({checks:[],typeName:tn.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...hn(t)});class LT extends Pn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==wt.boolean){const r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:wt.boolean,received:r.parsedType}),an}return Ca(e.data)}}LT.create=t=>new LT({typeName:tn.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...hn(t)});class Kv extends Pn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==wt.date){const o=this._getOrReturnCtx(e);return ct(o,{code:Ke.invalid_type,expected:wt.date,received:o.parsedType}),an}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return ct(o,{code:Ke.invalid_date}),an}const r=new $o;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),ct(i,{code:Ke.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Bn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:At.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:At.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Kv.create=t=>new Kv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:tn.ZodDate,...hn(t)});class cH extends Pn{_parse(e){if(this._getType(e)!==wt.symbol){const r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:wt.symbol,received:r.parsedType}),an}return Ca(e.data)}}cH.create=t=>new cH({typeName:tn.ZodSymbol,...hn(t)});class dH extends Pn{_parse(e){if(this._getType(e)!==wt.undefined){const r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:wt.undefined,received:r.parsedType}),an}return Ca(e.data)}}dH.create=t=>new dH({typeName:tn.ZodUndefined,...hn(t)});class fH extends Pn{_parse(e){if(this._getType(e)!==wt.null){const r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:wt.null,received:r.parsedType}),an}return Ca(e.data)}}fH.create=t=>new fH({typeName:tn.ZodNull,...hn(t)});class hH extends Pn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ca(e.data)}}hH.create=t=>new hH({typeName:tn.ZodAny,...hn(t)});class fO extends Pn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ca(e.data)}}fO.create=t=>new fO({typeName:tn.ZodUnknown,...hn(t)});class jf extends Pn{_parse(e){const n=this._getOrReturnCtx(e);return ct(n,{code:Ke.invalid_type,expected:wt.never,received:n.parsedType}),an}}jf.create=t=>new jf({typeName:tn.ZodNever,...hn(t)});class pH extends Pn{_parse(e){if(this._getType(e)!==wt.undefined){const r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:wt.void,received:r.parsedType}),an}return Ca(e.data)}}pH.create=t=>new pH({typeName:tn.ZodVoid,...hn(t)});class Tu extends Pn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==wt.array)return ct(n,{code:Ke.invalid_type,expected:wt.array,received:n.parsedType}),an;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(ct(n,{code:s?Ke.too_big:Ke.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ct(n,{code:Ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ct(n,{code:Ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Lu(n,s,n.path,a)))).then(s=>$o.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Lu(n,s,n.path,a)));return $o.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Tu({...this._def,minLength:{value:e,message:At.toString(n)}})}max(e,n){return new Tu({...this._def,maxLength:{value:e,message:At.toString(n)}})}length(e,n){return new Tu({...this._def,exactLength:{value:e,message:At.toString(n)}})}nonempty(e){return this.min(1,e)}}Tu.create=(t,e)=>new Tu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:tn.ZodArray,...hn(e)});function jm(t){if(t instanceof oi){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ff.create(jm(r))}return new oi({...t._def,shape:()=>e})}else return t instanceof Tu?new Tu({...t._def,type:jm(t.element)}):t instanceof Ff?Ff.create(jm(t.unwrap())):t instanceof Jv?Jv.create(jm(t.unwrap())):t instanceof Qp?Qp.create(t.items.map(e=>jm(e))):t}class oi extends Pn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Bn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==wt.object){const u=this._getOrReturnCtx(e);return ct(u,{code:Ke.invalid_type,expected:wt.object,received:u.parsedType}),an}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof jf&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const c=o[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Lu(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof jf){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(ct(i,{code:Ke.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Lu(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>$o.mergeObjectSync(r,u)):$o.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return At.errToObj,new oi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:At.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new oi({...this._def,unknownKeys:"strip"})}passthrough(){return new oi({...this._def,unknownKeys:"passthrough"})}extend(e){return new oi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new oi({...this._def,catchall:e})}pick(e){const n={};for(const r of Bn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new oi({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Bn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new oi({...this._def,shape:()=>n})}deepPartial(){return jm(this)}partial(e){const n={};for(const r of Bn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new oi({...this._def,shape:()=>n})}required(e){const n={};for(const r of Bn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ff;)o=o._def.innerType;n[r]=o}return new oi({...this._def,shape:()=>n})}keyof(){return Lee(Bn.objectKeys(this.shape))}}oi.create=(t,e)=>new oi({shape:()=>t,unknownKeys:"strip",catchall:jf.create(),typeName:tn.ZodObject,...hn(e)});oi.strictCreate=(t,e)=>new oi({shape:()=>t,unknownKeys:"strict",catchall:jf.create(),typeName:tn.ZodObject,...hn(e)});oi.lazycreate=(t,e)=>new oi({shape:t,unknownKeys:"strip",catchall:jf.create(),typeName:tn.ZodObject,...hn(e)});class OT extends Pn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new rd(a.ctx.common.issues));return ct(n,{code:Ke.invalid_union,unionErrors:s}),an}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new rd(l));return ct(n,{code:Ke.invalid_union,unionErrors:a}),an}}get options(){return this._def.options}}OT.create=(t,e)=>new OT({options:t,typeName:tn.ZodUnion,...hn(e)});function hO(t,e){const n=Zd(t),r=Zd(e);if(t===e)return{valid:!0,data:t};if(n===wt.object&&r===wt.object){const i=Bn.objectKeys(e),o=Bn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=hO(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===wt.array&&r===wt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=hO(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===wt.date&&r===wt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class FT extends Pn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(aH(o)||aH(s))return an;const a=hO(o.value,s.value);return a.valid?((lH(o)||lH(s))&&n.dirty(),{status:n.value,value:a.data}):(ct(r,{code:Ke.invalid_intersection_types}),an)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}FT.create=(t,e,n)=>new FT({left:t,right:e,typeName:tn.ZodIntersection,...hn(n)});class Qp extends Pn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==wt.array)return ct(r,{code:Ke.invalid_type,expected:wt.array,received:r.parsedType}),an;if(r.data.length<this._def.items.length)return ct(r,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),an;!this._def.rest&&r.data.length>this._def.items.length&&(ct(r,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Lu(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>$o.mergeArray(n,s)):$o.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Qp({...this._def,rest:e})}}Qp.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qp({items:t,typeName:tn.ZodTuple,rest:null,...hn(e)})};class $T extends Pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==wt.object)return ct(r,{code:Ke.invalid_type,expected:wt.object,received:r.parsedType}),an;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Lu(r,a,r.path,a)),value:s._parse(new Lu(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?$o.mergeObjectAsync(n,i):$o.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Pn?new $T({keyType:e,valueType:n,typeName:tn.ZodRecord,...hn(r)}):new $T({keyType:xu.create(),valueType:e,typeName:tn.ZodRecord,...hn(n)})}}class gH extends Pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==wt.map)return ct(r,{code:Ke.invalid_type,expected:wt.map,received:r.parsedType}),an;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Lu(r,a,r.path,[u,"key"])),value:o._parse(new Lu(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return an;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return an;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}gH.create=(t,e,n)=>new gH({valueType:e,keyType:t,typeName:tn.ZodMap,...hn(n)});class fw extends Pn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==wt.set)return ct(r,{code:Ke.invalid_type,expected:wt.set,received:r.parsedType}),an;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ct(r,{code:Ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ct(r,{code:Ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return an;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new Lu(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new fw({...this._def,minSize:{value:e,message:At.toString(n)}})}max(e,n){return new fw({...this._def,maxSize:{value:e,message:At.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}fw.create=(t,e)=>new fw({valueType:t,minSize:null,maxSize:null,typeName:tn.ZodSet,...hn(e)});class pO extends Pn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pO.create=(t,e)=>new pO({getter:t,typeName:tn.ZodLazy,...hn(e)});class mH extends Pn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ct(n,{received:n.data,code:Ke.invalid_literal,expected:this._def.value}),an}return{status:"valid",value:e.data}}get value(){return this._def.value}}mH.create=(t,e)=>new mH({value:t,typeName:tn.ZodLiteral,...hn(e)});function Lee(t,e){return new Yv({values:t,typeName:tn.ZodEnum,...hn(e)})}class Yv extends Pn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ct(n,{expected:Bn.joinValues(r),received:n.parsedType,code:Ke.invalid_type}),an}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ct(n,{received:n.data,code:Ke.invalid_enum_value,options:r}),an}return Ca(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yv.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yv.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Yv.create=Lee;class yH extends Pn{_parse(e){const n=Bn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==wt.string&&r.parsedType!==wt.number){const i=Bn.objectValues(n);return ct(r,{expected:Bn.joinValues(i),received:r.parsedType,code:Ke.invalid_type}),an}if(this._cache||(this._cache=new Set(Bn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Bn.objectValues(n);return ct(r,{received:r.data,code:Ke.invalid_enum_value,options:i}),an}return Ca(e.data)}get enum(){return this._def.values}}yH.create=(t,e)=>new yH({values:t,typeName:tn.ZodNativeEnum,...hn(e)});class BT extends Pn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==wt.promise&&n.common.async===!1)return ct(n,{code:Ke.invalid_type,expected:wt.promise,received:n.parsedType}),an;const r=n.parsedType===wt.promise?n.data:Promise.resolve(n.data);return Ca(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}BT.create=(t,e)=>new BT({type:t,typeName:tn.ZodPromise,...hn(e)});class Xv extends Pn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{ct(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return an;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?an:l.status==="dirty"||n.value==="dirty"?Xb(l.value):l});{if(n.value==="aborted")return an;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?an:a.status==="dirty"||n.value==="dirty"?Xb(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?an:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?an:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Gv(s))return an;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Gv(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):an);Bn.assertNever(i)}}Xv.create=(t,e,n)=>new Xv({schema:t,typeName:tn.ZodEffects,effect:e,...hn(n)});Xv.createWithPreprocess=(t,e,n)=>new Xv({schema:e,effect:{type:"preprocess",transform:t},typeName:tn.ZodEffects,...hn(n)});class Ff extends Pn{_parse(e){return this._getType(e)===wt.undefined?Ca(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ff.create=(t,e)=>new Ff({innerType:t,typeName:tn.ZodOptional,...hn(e)});class Jv extends Pn{_parse(e){return this._getType(e)===wt.null?Ca(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jv.create=(t,e)=>new Jv({innerType:t,typeName:tn.ZodNullable,...hn(e)});class gO extends Pn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===wt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gO.create=(t,e)=>new gO({innerType:t,typeName:tn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...hn(e)});class mO extends Pn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return DT(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new rd(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new rd(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}mO.create=(t,e)=>new mO({innerType:t,typeName:tn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...hn(e)});class vH extends Pn{_parse(e){if(this._getType(e)!==wt.nan){const r=this._getOrReturnCtx(e);return ct(r,{code:Ke.invalid_type,expected:wt.nan,received:r.parsedType}),an}return{status:"valid",value:e.data}}}vH.create=t=>new vH({typeName:tn.ZodNaN,...hn(t)});class $we extends Pn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Y$ extends Pn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?an:o.status==="dirty"?(n.dirty(),Xb(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?an:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Y$({in:e,out:n,typeName:tn.ZodPipeline})}}class yO extends Pn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Gv(i)&&(i.value=Object.freeze(i.value)),i);return DT(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}yO.create=(t,e)=>new yO({innerType:t,typeName:tn.ZodReadonly,...hn(e)});var tn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(tn||(tn={}));const Th=xu.create,bH=Xp.create;Jp.create;const Bwe=LT.create;Kv.create;const xH=fO.create;jf.create;const Jb=Tu.create,Vwe=oi.create,zwe=OT.create;FT.create;Qp.create;const Uwe=$T.create,Hwe=pO.create,qwe=Yv.create;BT.create;Ff.create;Jv.create;const Em={string:t=>xu.create({...t,coerce:!0}),number:t=>Xp.create({...t,coerce:!0}),boolean:t=>LT.create({...t,coerce:!0}),bigint:t=>Jp.create({...t,coerce:!0}),date:t=>Kv.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let jwe,Wwe;function Gwe(){return{geminiUrl:jwe,vertexUrl:Wwe}}function Kwe(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Gwe();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg{}function Ft(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];b(c,e.slice(o+1),n[u])}else for(const u of l)b(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];b(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function v(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>v(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wH;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(wH||(wH={}));var _H;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_H||(_H={}));var yo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(yo||(yo={}));var SH;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(SH||(SH={}));var EH;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(EH||(EH={}));var CH;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CH||(CH={}));var TH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(TH||(TH={}));var AH;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(AH||(AH={}));var RH;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(RH||(RH={}));var PH;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(PH||(PH={}));var IH;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(IH||(IH={}));var kH;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(kH||(kH={}));var MH;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(MH||(MH={}));var VT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(VT||(VT={}));var NH;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(NH||(NH={}));var vO;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vO||(vO={}));var DH;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DH||(DH={}));var LH;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(LH||(LH={}));var OH;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(OH||(OH={}));var FH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(FH||(FH={}));var $H;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})($H||($H={}));var BH;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(BH||(BH={}));var VH;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(VH||(VH={}));var zH;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(zH||(zH={}));var UH;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(UH||(UH={}));var HH;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HH||(HH={}));var qH;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qH||(qH={}));var jH;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jH||(jH={}));var WH;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(WH||(WH={}));var GH;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(GH||(GH={}));var KH;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KH||(KH={}));var YH;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(YH||(YH={}));var XH;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(XH||(XH={}));var JH;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(JH||(JH={}));var QH;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(QH||(QH={}));var ZH;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ZH||(ZH={}));var e9;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(e9||(e9={}));var t9;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(t9||(t9={}));var n9;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(n9||(n9={}));var by;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(by||(by={}));class bO{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class pb{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&(m!==null||m!==void 0)&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&(p!==null||p!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class r9{}class i9{}class Ywe{}class Xwe{}class o9{}class s9{}class a9{}class Jwe{}class l9{}class u9{}class c9{}class Qwe{}class Zwe{}class e_e{}class d9{}class t_e{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class n_e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Oee(t,e){const n=Qn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Fee(t){return Array.isArray(t)?t.map(e=>zT(e)):[zT(t)]}function zT(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function r_e(t){const e=zT(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function i_e(t){const e=zT(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function f9(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function $ee(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>f9(e)):[f9(t)]}function xO(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function h9(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function p9(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vo(t){if(t==null)throw new Error("ContentUnion is required");return xO(t)?t:{role:"user",parts:$ee(t)}}function Bee(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vo(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vo(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vo(n)):[vo(e)]}function va(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(h9(t)||p9(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vo(t)]}const e=[],n=[],r=xO(t[0]);for(const i of t){const o=xO(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(h9(i)||p9(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:$ee(n)}),e}const o_e=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),g9=qwe(["string","number","integer","object","array","boolean","null"]),s_e=zwe([g9,Jb(g9)]);function a_e(t=!0){const e=Hwe(()=>{const n=Vwe({type:s_e.optional(),format:Th().optional(),title:Th().optional(),description:Th().optional(),default:xH().optional(),items:e.optional(),minItems:Em.string().optional(),maxItems:Em.string().optional(),enum:Jb(xH()).optional(),properties:Uwe(Th(),e).optional(),required:Jb(Th()).optional(),minProperties:Em.string().optional(),maxProperties:Em.string().optional(),propertyOrdering:Jb(Th()).optional(),minimum:bH().optional(),maximum:bH().optional(),minLength:Em.string().optional(),maxLength:Em.string().optional(),pattern:Th().optional(),anyOf:Jb(e).optional(),additionalProperties:Bwe().optional()});return t?n.strict():n});return e}function l_e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(yo).includes(n[0].toUpperCase())?n[0].toUpperCase():yo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(yo).includes(r.toUpperCase())?r.toUpperCase():yo.TYPE_UNSPECIFIED})}}function Ay(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&l_e(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(yo).includes(a.toUpperCase())?a.toUpperCase():yo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ay(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Ay(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=Ay(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function hw(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=a_e().parse(t);return Ay(e)}else return Ay(t)}function X$(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function J$(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function v0(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=hw(e.parameters)),e.response&&(e.response=hw(e.response));return t}function b0(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function u_e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function cd(t,e){if(typeof e!="string")throw new Error("name must be a string");return u_e(t,e,"cachedContents")}function Vee(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function dd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function c_e(t){return t!=null&&typeof t=="object"&&"name"in t}function d_e(t){return t!=null&&typeof t=="object"&&"video"in t}function f_e(t){return t!=null&&typeof t=="object"&&"uri"in t}function zee(t){var e;let n;if(c_e(t)&&(n=t.name),!(f_e(t)&&(n=t.uri,n===void 0))&&!(d_e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Uee(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Hee(t){for(const e of["models","tunedModels","publisherModels"])if(h_e(t,e))return t[e];return[]}function h_e(t,e){return t!==null&&typeof t=="object"&&e in t}function p_e(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:Ay(_R(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function g_e(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=p_e(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function m_e(t){const e=[];for(const n of t)e.push(_R(n));return e}function y_e(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=_R(i)}return e}function _R(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,s]of Object.entries(t))if(e.has(o))i[o]=_R(s);else if(n.has(o))i[o]=m_e(s);else if(r.has(o))i[o]=y_e(s);else if(o==="type"){const a=s.toUpperCase();i[o]=Object.values(yo).includes(a)?a:yo.TYPE_UNSPECIFIED}else o_e.has(o)&&(i[o]=s);return i}function qee(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function v_e(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function SR(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function jee(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b_e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function x_e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function w_e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function __e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],b_e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],x_e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],w_e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function Wee(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>__e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function S_e(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const x=v(t,["minimum"]);x!=null&&b(e,["minimum"],x);const w=v(t,["nullable"]);w!=null&&b(e,["nullable"],w);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const k=v(t,["required"]);k!=null&&b(e,["required"],k);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const R=v(t,["type"]);return R!=null&&b(e,["type"],R),e}function E_e(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&b(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function C_e(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function T_e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function A_e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],T_e(n)),e}function R_e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function P_e(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],R_e(n)),e}function I_e(){return{}}function k_e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>C_e(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],A_e(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],P_e(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],I_e());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function M_e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function N_e(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function D_e(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],N_e(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function L_e(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],M_e(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],D_e(r)),e}function O_e(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Gee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],O_e(n)),e}function F_e(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Gee(r)),e}function $_e(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>F_e(i))),b(e,["speakerVoiceConfigs"],r)}return e}function B_e(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Gee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],$_e(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function V_e(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function z_e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],Wee(vo(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const x=v(e,["responseMimeType"]);x!=null&&b(r,["responseMimeType"],x);const w=v(e,["responseSchema"]);w!=null&&b(r,["responseSchema"],S_e(hw(w)));const E=v(e,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=v(e,["safetySettings"]);if(n!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(V=>E_e(V))),b(n,["safetySettings"],O)}const T=v(e,["tools"]);if(n!==void 0&&T!=null){let O=b0(T);Array.isArray(O)&&(O=O.map(V=>k_e(v0(V)))),b(n,["tools"],O)}const k=v(e,["toolConfig"]);if(n!==void 0&&k!=null&&b(n,["toolConfig"],L_e(k)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],cd(t,N));const R=v(e,["responseModalities"]);R!=null&&b(r,["responseModalities"],R);const M=v(e,["mediaResolution"]);M!=null&&b(r,["mediaResolution"],M);const L=v(e,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],B_e(X$(L))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=v(e,["thinkingConfig"]);return I!=null&&b(r,["thinkingConfig"],V_e(I)),r}function U_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["request","model"],Qn(t,r));const i=v(e,["contents"]);if(i!=null){let s=va(i);Array.isArray(s)&&(s=s.map(a=>Wee(a))),b(n,["request","contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["request","generationConfig"],z_e(t,o,n)),n}function H_e(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>U_e(t,s))),b(n,["requests","requests"],o)}return n}function q_e(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function j_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],H_e(t,qee(t,i)));const o=v(e,["config"]);return o!=null&&b(n,["config"],q_e(o,n)),n}function W_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],SR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function G_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],SR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function K_e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Y_e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],K_e(n,e)),e}function X_e(t){const e={},n=v(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function J_e(t){const e={},n=v(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Q_e(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],J_e(v_e(i))),n}function Z_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],Qn(t,r));const i=v(e,["src"]);i!=null&&b(n,["inputConfig"],X_e(qee(t,i)));const o=v(e,["config"]);return o!=null&&b(n,["config"],Q_e(o,n)),n}function e1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],SR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function t1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],SR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function n1e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function r1e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],n1e(n,e)),e}function i1e(){return{}}function o1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function s1e(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function a1e(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function l1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],o1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],s1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],a1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function u1e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>l1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function c1e(t){const e={},n=v(t,["citationSources"]);return n!=null&&b(e,["citations"],n),e}function d1e(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function f1e(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>d1e(i))),b(e,["urlMetadata"],r)}return e}function h1e(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],u1e(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],c1e(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],f1e(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function p1e(t){const e={},n=v(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>h1e(a))),b(e,["candidates"],s)}const r=v(t,["modelVersion"]);r!=null&&b(e,["modelVersion"],r);const i=v(t,["promptFeedback"]);i!=null&&b(e,["promptFeedback"],i);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function g1e(t){const e={},n=v(t,["response"]);return n!=null&&b(e,["response"],p1e(n)),v(t,["error"])!=null&&b(e,["error"],i1e()),e}function m1e(t){const e={},n=v(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>g1e(o))),b(e,["inlinedResponses"],i)}return e}function wO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&b(e,["state"],jee(i));const o=v(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["metadata","endTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["metadata","updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["metadata","model"]);l!=null&&b(e,["model"],l);const u=v(t,["metadata","output"]);return u!=null&&b(e,["dest"],m1e(u)),e}function y1e(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>wO(o))),b(e,["batchJobs"],i)}return e}function v1e(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["code"]);r!=null&&b(e,["code"],r);const i=v(t,["message"]);return i!=null&&b(e,["message"],i),e}function b1e(t){const e={},n=v(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function x1e(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function _O(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["state"]);i!=null&&b(e,["state"],jee(i));const o=v(t,["error"]);o!=null&&b(e,["error"],v1e(o));const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["startTime"]);a!=null&&b(e,["startTime"],a);const l=v(t,["endTime"]);l!=null&&b(e,["endTime"],l);const u=v(t,["updateTime"]);u!=null&&b(e,["updateTime"],u);const c=v(t,["model"]);c!=null&&b(e,["model"],c);const d=v(t,["inputConfig"]);d!=null&&b(e,["src"],b1e(d));const h=v(t,["outputConfig"]);return h!=null&&b(e,["dest"],x1e(h)),e}function w1e(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_O(o))),b(e,["batchJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zp;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Zp||(Zp={}));class E1{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _1e extends xg{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new E1(Zp.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Z_e(this.apiClient,e);return a=Ft("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>_O(c))}else{const u=j_e(this.apiClient,e);return a=Ft("{model}:batchGenerateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>wO(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=e1e(this.apiClient,e);return a=Ft("batchPredictionJobs/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>_O(c))}else{const u=W_e(this.apiClient,e);return a=Ft("batches/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>wO(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=t1e(this.apiClient,e);s=Ft("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=G_e(this.apiClient,e);s=Ft("batches/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=r1e(e);return a=Ft("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=w1e(c),h=new d9;return Object.assign(h,d),h})}else{const u=Y_e(e);return a=Ft("batches",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=y1e(c),h=new d9;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function E1e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function C1e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function T1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],S1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],E1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],C1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function m9(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>T1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function A1e(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function R1e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function P1e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],R1e(n)),e}function I1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function k1e(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],I1e(n)),e}function M1e(){return{}}function N1e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>A1e(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],P1e(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],k1e(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],M1e());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function D1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function L1e(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function O1e(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],L1e(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function F1e(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],D1e(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],O1e(r)),e}function $1e(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let c=va(s);Array.isArray(c)&&(c=c.map(d=>m9(d))),b(e,["contents"],c)}const a=v(t,["systemInstruction"]);e!==void 0&&a!=null&&b(e,["systemInstruction"],m9(vo(a)));const l=v(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>N1e(d))),b(e,["tools"],c)}const u=v(t,["toolConfig"]);if(e!==void 0&&u!=null&&b(e,["toolConfig"],F1e(u)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function B1e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],Oee(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],$1e(i,n)),n}function V1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],cd(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function z1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],cd(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function U1e(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function H1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],cd(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],U1e(i,n)),n}function q1e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function j1e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],q1e(n,e)),e}function W1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function G1e(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function K1e(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Y1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],W1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],G1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],K1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function y9(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Y1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function X1e(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function J1e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function Q1e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],J1e(n)),e}function Z1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function eSe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],Z1e(n)),e}function tSe(){return{}}function nSe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function rSe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],nSe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function iSe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],rSe(n)),e}function oSe(){return{}}function sSe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>X1e(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],Q1e(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],eSe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],tSe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],iSe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],oSe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function aSe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function lSe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function uSe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],lSe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function cSe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],aSe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],uSe(r)),e}function dSe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let d=va(s);Array.isArray(d)&&(d=d.map(h=>y9(h))),b(e,["contents"],d)}const a=v(t,["systemInstruction"]);e!==void 0&&a!=null&&b(e,["systemInstruction"],y9(vo(a)));const l=v(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>sSe(h))),b(e,["tools"],d)}const u=v(t,["toolConfig"]);e!==void 0&&u!=null&&b(e,["toolConfig"],cSe(u));const c=v(t,["kmsKeyName"]);return e!==void 0&&c!=null&&b(e,["encryption_spec","kmsKeyName"],c),n}function fSe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],Oee(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],dSe(i,n)),n}function hSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],cd(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function pSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],cd(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function gSe(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function mSe(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],cd(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],gSe(i,n)),n}function ySe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function vSe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],ySe(n,e)),e}function xC(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["model"]);i!=null&&b(e,["model"],i);const o=v(t,["createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["updateTime"]);s!=null&&b(e,["updateTime"],s);const a=v(t,["expireTime"]);a!=null&&b(e,["expireTime"],a);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function bSe(){return{}}function xSe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>xC(o))),b(e,["cachedContents"],i)}return e}function wC(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["model"]);i!=null&&b(e,["model"],i);const o=v(t,["createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["updateTime"]);s!=null&&b(e,["updateTime"],s);const a=v(t,["expireTime"]);a!=null&&b(e,["expireTime"],a);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function wSe(){return{}}function _Se(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>wC(o))),b(e,["cachedContents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SSe extends xg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new E1(Zp.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fSe(this.apiClient,e);return a=Ft("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>wC(c))}else{const u=B1e(this.apiClient,e);return a=Ft("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>xC(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hSe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>wC(c))}else{const u=V1e(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>xC(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pSe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=wSe(),d=new u9;return Object.assign(d,c),d})}else{const u=z1e(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=bSe(),d=new u9;return Object.assign(d,c),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mSe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>wC(c))}else{const u=H1e(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>xC(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vSe(e);return a=Ft("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=_Se(c),h=new c9;return Object.assign(h,d),h})}else{const u=j1e(e);return a=Ft("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=xSe(c),h=new c9;return Object.assign(h,d),h})}}}function v9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yr(t){return this instanceof yr?(this.v=t,this):new yr(t)}function Ry(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(y){return new Promise(function(x,w){o.push([p,y,x,w])>1||l(p,y)})},m&&(i[p]=m(i[p])))}function l(p,m){try{u(r[p](m))}catch(y){h(o[0][3],y)}}function u(p){p.value instanceof yr?Promise.resolve(p.value.v).then(c,d):h(o[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,m){p(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Nx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof v9=="function"?v9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ESe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Kee(n)}function Kee(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function CSe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function b9(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Kee(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class TSe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ASe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ASe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),CSe(o)}async sendMessage(e){var n;await this.sendPromise;const r=vo(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const p=u?[u]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vo(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?b9(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ry(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var d=!0,h=Nx(e),p;p=yield yr(h.next()),s=p.done,!s;d=!0){u=p.value,d=!1;const m=u;if(ESe(m)){const y=(i=(r=m.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield yr(m)}}catch(m){a={error:m}}finally{try{!d&&!s&&(l=h.return)&&(yield yr(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...b9(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ER extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ER.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RSe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function PSe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],RSe(n,e)),e}function ISe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["message"]);r!=null&&b(e,["message"],r);const i=v(t,["code"]);return i!=null&&b(e,["code"],i),e}function kSe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["mimeType"]);i!=null&&b(e,["mimeType"],i);const o=v(t,["sizeBytes"]);o!=null&&b(e,["sizeBytes"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["expirationTime"]);a!=null&&b(e,["expirationTime"],a);const l=v(t,["updateTime"]);l!=null&&b(e,["updateTime"],l);const u=v(t,["sha256Hash"]);u!=null&&b(e,["sha256Hash"],u);const c=v(t,["uri"]);c!=null&&b(e,["uri"],c);const d=v(t,["downloadUri"]);d!=null&&b(e,["downloadUri"],d);const h=v(t,["state"]);h!=null&&b(e,["state"],h);const p=v(t,["source"]);p!=null&&b(e,["source"],p);const m=v(t,["videoMetadata"]);m!=null&&b(e,["videoMetadata"],m);const y=v(t,["error"]);return y!=null&&b(e,["error"],ISe(y)),e}function MSe(t){const e={},n=v(t,["file"]);n!=null&&b(e,["file"],kSe(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function NSe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","file"],zee(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function DSe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","file"],zee(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function LSe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["message"]);r!=null&&b(e,["message"],r);const i=v(t,["code"]);return i!=null&&b(e,["code"],i),e}function SO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["mimeType"]);i!=null&&b(e,["mimeType"],i);const o=v(t,["sizeBytes"]);o!=null&&b(e,["sizeBytes"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["expirationTime"]);a!=null&&b(e,["expirationTime"],a);const l=v(t,["updateTime"]);l!=null&&b(e,["updateTime"],l);const u=v(t,["sha256Hash"]);u!=null&&b(e,["sha256Hash"],u);const c=v(t,["uri"]);c!=null&&b(e,["uri"],c);const d=v(t,["downloadUri"]);d!=null&&b(e,["downloadUri"],d);const h=v(t,["state"]);h!=null&&b(e,["state"],h);const p=v(t,["source"]);p!=null&&b(e,["source"],p);const m=v(t,["videoMetadata"]);m!=null&&b(e,["videoMetadata"],m);const y=v(t,["error"]);return y!=null&&b(e,["error"],LSe(y)),e}function OSe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>SO(o))),b(e,["files"],i)}return e}function FSe(){return{}}function $Se(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BSe extends xg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new E1(Zp.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>SO(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=PSe(e);return o=Ft("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=OSe(l),c=new Qwe;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MSe(e);return o=Ft("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=FSe(),u=new Zwe;return Object.assign(u,l),u})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=NSe(e);return o=Ft("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>SO(l))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=DSe(e);return o=Ft("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=$Se(),u=new e_e;return Object.assign(u,l),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VSe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function zSe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Yee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],VSe(n)),e}function USe(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],zSe(n)),e}function HSe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Yee(r)),e}function qSe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HSe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function jSe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Yee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],qSe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function WSe(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&b(e,["voiceConfig"],USe(n)),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function GSe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function KSe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function YSe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function XSe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function JSe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function QSe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function ZSe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],GSe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],YSe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],JSe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function eEe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],KSe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],XSe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],QSe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function tEe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZSe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function nEe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>eEe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function rEe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function iEe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function oEe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function sEe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function aEe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],oEe(n)),e}function lEe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],sEe(n)),e}function uEe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function cEe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function dEe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],uEe(n)),e}function fEe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],cEe(n)),e}function hEe(){return{}}function pEe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function gEe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],pEe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function mEe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],gEe(n)),e}function yEe(){return{}}function vEe(){return{}}function bEe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>rEe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],aEe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],dEe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],yEe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function xEe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>iEe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],lEe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],fEe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],hEe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],mEe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],vEe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function wEe(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _Ee(t){const e={},n=v(t,["handle"]);n!=null&&b(e,["handle"],n);const r=v(t,["transparent"]);return r!=null&&b(e,["transparent"],r),e}function x9(){return{}}function w9(){return{}}function SEe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function EEe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function CEe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],SEe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function TEe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],EEe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function AEe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function REe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function PEe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],AEe(r)),e}function IEe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],REe(r)),e}function kEe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function MEe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function NEe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],jSe(J$(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],tEe(vo(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let k=b0(m);Array.isArray(k)&&(k=k.map(N=>bEe(v0(N)))),b(e,["setup","tools"],k)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],wEe(y));const x=v(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&b(e,["setup","inputAudioTranscription"],x9());const w=v(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&b(e,["setup","outputAudioTranscription"],x9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],CEe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],PEe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],kEe(T)),n}function DEe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],WSe(J$(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],nEe(vo(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let k=b0(m);Array.isArray(k)&&(k=k.map(N=>xEe(v0(N)))),b(e,["setup","tools"],k)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],_Ee(y));const x=v(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&b(e,["setup","inputAudioTranscription"],w9());const w=v(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&b(e,["setup","outputAudioTranscription"],w9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],TEe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],IEe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],MEe(T)),n}function LEe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],NEe(i,n)),n}function OEe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],DEe(i,n)),n}function FEe(){return{}}function $Ee(){return{}}function BEe(){return{}}function VEe(){return{}}function zEe(t){const e={},n=v(t,["media"]);n!=null&&b(e,["mediaChunks"],Fee(n));const r=v(t,["audio"]);r!=null&&b(e,["audio"],i_e(r));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&b(e,["video"],r_e(o));const s=v(t,["text"]);return s!=null&&b(e,["text"],s),v(t,["activityStart"])!=null&&b(e,["activityStart"],FEe()),v(t,["activityEnd"])!=null&&b(e,["activityEnd"],BEe()),e}function UEe(t){const e={},n=v(t,["media"]);if(n!=null&&b(e,["mediaChunks"],Fee(n)),v(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=v(t,["audioStreamEnd"]);if(r!=null&&b(e,["audioStreamEnd"],r),v(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(v(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return v(t,["activityStart"])!=null&&b(e,["activityStart"],$Ee()),v(t,["activityEnd"])!=null&&b(e,["activityEnd"],VEe()),e}function Xee(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["weight"]);return r!=null&&b(e,["weight"],r),e}function HEe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xee(i))),b(e,["weightedPrompts"],r)}return e}function Jee(t){const e={},n=v(t,["temperature"]);n!=null&&b(e,["temperature"],n);const r=v(t,["topK"]);r!=null&&b(e,["topK"],r);const i=v(t,["seed"]);i!=null&&b(e,["seed"],i);const o=v(t,["guidance"]);o!=null&&b(e,["guidance"],o);const s=v(t,["bpm"]);s!=null&&b(e,["bpm"],s);const a=v(t,["density"]);a!=null&&b(e,["density"],a);const l=v(t,["brightness"]);l!=null&&b(e,["brightness"],l);const u=v(t,["scale"]);u!=null&&b(e,["scale"],u);const c=v(t,["muteBass"]);c!=null&&b(e,["muteBass"],c);const d=v(t,["muteDrums"]);d!=null&&b(e,["muteDrums"],d);const h=v(t,["onlyBassAndDrums"]);return h!=null&&b(e,["onlyBassAndDrums"],h),e}function qEe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],Jee(n)),e}function Qee(t){const e={},n=v(t,["model"]);return n!=null&&b(e,["model"],n),e}function Zee(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xee(i))),b(e,["weightedPrompts"],r)}return e}function EO(t){const e={},n=v(t,["setup"]);n!=null&&b(e,["setup"],Qee(n));const r=v(t,["clientContent"]);r!=null&&b(e,["clientContent"],Zee(r));const i=v(t,["musicGenerationConfig"]);i!=null&&b(e,["musicGenerationConfig"],Jee(i));const o=v(t,["playbackControl"]);return o!=null&&b(e,["playbackControl"],o),e}function jEe(){return{}}function WEe(){return{}}function GEe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function KEe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function YEe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function XEe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function JEe(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function QEe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function ZEe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],GEe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],YEe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],JEe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function eCe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],KEe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],XEe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],QEe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function tCe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZEe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function nCe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>eCe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function _9(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["finished"]);return r!=null&&b(e,["finished"],r),e}function S9(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["finished"]);return r!=null&&b(e,["finished"],r),e}function rCe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function iCe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rCe(i))),b(e,["urlMetadata"],r)}return e}function oCe(t){const e={},n=v(t,["modelTurn"]);n!=null&&b(e,["modelTurn"],tCe(n));const r=v(t,["turnComplete"]);r!=null&&b(e,["turnComplete"],r);const i=v(t,["interrupted"]);i!=null&&b(e,["interrupted"],i);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const s=v(t,["generationComplete"]);s!=null&&b(e,["generationComplete"],s);const a=v(t,["inputTranscription"]);a!=null&&b(e,["inputTranscription"],_9(a));const l=v(t,["outputTranscription"]);l!=null&&b(e,["outputTranscription"],_9(l));const u=v(t,["urlContextMetadata"]);return u!=null&&b(e,["urlContextMetadata"],iCe(u)),e}function sCe(t){const e={},n=v(t,["modelTurn"]);n!=null&&b(e,["modelTurn"],nCe(n));const r=v(t,["turnComplete"]);r!=null&&b(e,["turnComplete"],r);const i=v(t,["interrupted"]);i!=null&&b(e,["interrupted"],i);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const s=v(t,["generationComplete"]);s!=null&&b(e,["generationComplete"],s);const a=v(t,["inputTranscription"]);a!=null&&b(e,["inputTranscription"],S9(a));const l=v(t,["outputTranscription"]);return l!=null&&b(e,["outputTranscription"],S9(l)),e}function aCe(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);return i!=null&&b(e,["name"],i),e}function lCe(t){const e={},n=v(t,["args"]);n!=null&&b(e,["args"],n);const r=v(t,["name"]);return r!=null&&b(e,["name"],r),e}function uCe(t){const e={},n=v(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aCe(i))),b(e,["functionCalls"],r)}return e}function cCe(t){const e={},n=v(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lCe(i))),b(e,["functionCalls"],r)}return e}function dCe(t){const e={},n=v(t,["ids"]);return n!=null&&b(e,["ids"],n),e}function fCe(t){const e={},n=v(t,["ids"]);return n!=null&&b(e,["ids"],n),e}function _E(t){const e={},n=v(t,["modality"]);n!=null&&b(e,["modality"],n);const r=v(t,["tokenCount"]);return r!=null&&b(e,["tokenCount"],r),e}function SE(t){const e={},n=v(t,["modality"]);n!=null&&b(e,["modality"],n);const r=v(t,["tokenCount"]);return r!=null&&b(e,["tokenCount"],r),e}function hCe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["responseTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const a=v(t,["totalTokenCount"]);a!=null&&b(e,["totalTokenCount"],a);const l=v(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>_E(p))),b(e,["promptTokensDetails"],h)}const u=v(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>_E(p))),b(e,["cacheTokensDetails"],h)}const c=v(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>_E(p))),b(e,["responseTokensDetails"],h)}const d=v(t,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>_E(p))),b(e,["toolUsePromptTokensDetails"],h)}return e}function pCe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const a=v(t,["totalTokenCount"]);a!=null&&b(e,["totalTokenCount"],a);const l=v(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>SE(m))),b(e,["promptTokensDetails"],p)}const u=v(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>SE(m))),b(e,["cacheTokensDetails"],p)}const c=v(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>SE(m))),b(e,["responseTokensDetails"],p)}const d=v(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>SE(m))),b(e,["toolUsePromptTokensDetails"],p)}const h=v(t,["trafficType"]);return h!=null&&b(e,["trafficType"],h),e}function gCe(t){const e={},n=v(t,["timeLeft"]);return n!=null&&b(e,["timeLeft"],n),e}function mCe(t){const e={},n=v(t,["timeLeft"]);return n!=null&&b(e,["timeLeft"],n),e}function yCe(t){const e={},n=v(t,["newHandle"]);n!=null&&b(e,["newHandle"],n);const r=v(t,["resumable"]);r!=null&&b(e,["resumable"],r);const i=v(t,["lastConsumedClientMessageIndex"]);return i!=null&&b(e,["lastConsumedClientMessageIndex"],i),e}function vCe(t){const e={},n=v(t,["newHandle"]);n!=null&&b(e,["newHandle"],n);const r=v(t,["resumable"]);r!=null&&b(e,["resumable"],r);const i=v(t,["lastConsumedClientMessageIndex"]);return i!=null&&b(e,["lastConsumedClientMessageIndex"],i),e}function bCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],jEe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],oCe(r));const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],uCe(i));const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],dCe(o));const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],hCe(s));const a=v(t,["goAway"]);a!=null&&b(e,["goAway"],gCe(a));const l=v(t,["sessionResumptionUpdate"]);return l!=null&&b(e,["sessionResumptionUpdate"],yCe(l)),e}function xCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],WEe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],sCe(r));const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],cCe(i));const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],fCe(o));const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],pCe(s));const a=v(t,["goAway"]);a!=null&&b(e,["goAway"],mCe(a));const l=v(t,["sessionResumptionUpdate"]);return l!=null&&b(e,["sessionResumptionUpdate"],vCe(l)),e}function wCe(){return{}}function _Ce(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["weight"]);return r!=null&&b(e,["weight"],r),e}function SCe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_Ce(i))),b(e,["weightedPrompts"],r)}return e}function ECe(t){const e={},n=v(t,["temperature"]);n!=null&&b(e,["temperature"],n);const r=v(t,["topK"]);r!=null&&b(e,["topK"],r);const i=v(t,["seed"]);i!=null&&b(e,["seed"],i);const o=v(t,["guidance"]);o!=null&&b(e,["guidance"],o);const s=v(t,["bpm"]);s!=null&&b(e,["bpm"],s);const a=v(t,["density"]);a!=null&&b(e,["density"],a);const l=v(t,["brightness"]);l!=null&&b(e,["brightness"],l);const u=v(t,["scale"]);u!=null&&b(e,["scale"],u);const c=v(t,["muteBass"]);c!=null&&b(e,["muteBass"],c);const d=v(t,["muteDrums"]);d!=null&&b(e,["muteDrums"],d);const h=v(t,["onlyBassAndDrums"]);return h!=null&&b(e,["onlyBassAndDrums"],h),e}function CCe(t){const e={},n=v(t,["clientContent"]);n!=null&&b(e,["clientContent"],SCe(n));const r=v(t,["musicGenerationConfig"]);return r!=null&&b(e,["musicGenerationConfig"],ECe(r)),e}function TCe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);r!=null&&b(e,["mimeType"],r);const i=v(t,["sourceMetadata"]);return i!=null&&b(e,["sourceMetadata"],CCe(i)),e}function ACe(t){const e={},n=v(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>TCe(i))),b(e,["audioChunks"],r)}return e}function RCe(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["filteredReason"]);return r!=null&&b(e,["filteredReason"],r),e}function PCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],wCe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],ACe(r));const i=v(t,["filteredPrompt"]);return i!=null&&b(e,["filteredPrompt"],RCe(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ICe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function kCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function MCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function NCe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],ICe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],kCe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],MCe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function CR(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NCe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function DCe(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const x=v(t,["minimum"]);x!=null&&b(e,["minimum"],x);const w=v(t,["nullable"]);w!=null&&b(e,["nullable"],w);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const k=v(t,["required"]);k!=null&&b(e,["required"],k);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const R=v(t,["type"]);return R!=null&&b(e,["type"],R),e}function LCe(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&b(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function OCe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function FCe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function $Ce(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],FCe(n)),e}function BCe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function VCe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],BCe(n)),e}function zCe(){return{}}function UCe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>OCe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],$Ce(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],VCe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],zCe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function HCe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function qCe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function jCe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],qCe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function WCe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],HCe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],jCe(r)),e}function GCe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function ete(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],GCe(n)),e}function KCe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],ete(r)),e}function YCe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KCe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function XCe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],ete(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],YCe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function JCe(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function QCe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],CR(vo(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const x=v(e,["responseMimeType"]);x!=null&&b(r,["responseMimeType"],x);const w=v(e,["responseSchema"]);w!=null&&b(r,["responseSchema"],DCe(hw(w)));const E=v(e,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=v(e,["safetySettings"]);if(n!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(V=>LCe(V))),b(n,["safetySettings"],O)}const T=v(e,["tools"]);if(n!==void 0&&T!=null){let O=b0(T);Array.isArray(O)&&(O=O.map(V=>UCe(v0(V)))),b(n,["tools"],O)}const k=v(e,["toolConfig"]);if(n!==void 0&&k!=null&&b(n,["toolConfig"],WCe(k)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],cd(t,N));const R=v(e,["responseModalities"]);R!=null&&b(r,["responseModalities"],R);const M=v(e,["mediaResolution"]);M!=null&&b(r,["mediaResolution"],M);const L=v(e,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],XCe(X$(L))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=v(e,["thinkingConfig"]);return I!=null&&b(r,["thinkingConfig"],JCe(I)),r}function E9(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);if(i!=null){let s=va(i);Array.isArray(s)&&(s=s.map(a=>CR(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["generationConfig"],QCe(t,o,n)),n}function ZCe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function eTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);i!=null&&b(n,["requests[]","content"],Bee(t,i));const o=v(e,["config"]);o!=null&&b(n,["config"],ZCe(o,n));const s=v(e,["model"]);return s!==void 0&&b(n,["requests[]","model"],Qn(t,s)),n}function tTe(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const o=v(t,["guidanceScale"]);if(e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&b(e,["parameters","safetySetting"],s);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&b(e,["parameters","personGeneration"],a);const l=v(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&b(e,["parameters","includeSafetyAttributes"],l);const u=v(t,["includeRaiReason"]);e!==void 0&&u!=null&&b(e,["parameters","includeRaiReason"],u);const c=v(t,["language"]);e!==void 0&&c!=null&&b(e,["parameters","language"],c);const d=v(t,["outputMimeType"]);e!==void 0&&d!=null&&b(e,["parameters","outputOptions","mimeType"],d);const h=v(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&b(e,["parameters","outputOptions","compressionQuality"],h),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function nTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&b(n,["config"],tTe(o,n)),n}function rTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function iTe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const s=v(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const a=v(e,["queryBase"]);return n!==void 0&&a!=null&&b(n,["_url","models_url"],Uee(t,a)),r}function oTe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],iTe(t,r,n)),n}function sTe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function aTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],sTe(i,n)),n}function lTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function uTe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function cTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);if(i!=null){let s=va(i);Array.isArray(s)&&(s=s.map(a=>CR(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],uTe(o)),n}function dTe(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],dd(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function fTe(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["aspectRatio"]);if(e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o),v(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=v(t,["personGeneration"]);if(e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&b(e,["parameters","negativePrompt"],a);const l=v(t,["enhancePrompt"]);if(e!==void 0&&l!=null&&b(e,["parameters","enhancePrompt"],l),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(v(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function hTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["image"]);if(o!=null&&b(n,["instances[0]","image"],dTe(o)),v(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=v(e,["config"]);return s!=null&&b(n,["config"],fTe(s,n)),n}function pTe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function gTe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function mTe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function yTe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],pTe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],gTe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],mTe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function x0(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yTe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function vTe(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const x=v(t,["minimum"]);x!=null&&b(e,["minimum"],x);const w=v(t,["nullable"]);w!=null&&b(e,["nullable"],w);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const k=v(t,["required"]);k!=null&&b(e,["required"],k);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const R=v(t,["type"]);return R!=null&&b(e,["type"],R),e}function bTe(t){const e={},n=v(t,["featureSelectionPreference"]);return n!=null&&b(e,["featureSelectionPreference"],n),e}function xTe(t){const e={},n=v(t,["method"]);n!=null&&b(e,["method"],n);const r=v(t,["category"]);r!=null&&b(e,["category"],r);const i=v(t,["threshold"]);return i!=null&&b(e,["threshold"],i),e}function wTe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function _Te(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function STe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],_Te(n)),e}function ETe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function CTe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],ETe(n)),e}function TTe(){return{}}function ATe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function RTe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],ATe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function PTe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],RTe(n)),e}function ITe(){return{}}function tte(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>wTe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],STe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],CTe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],TTe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],PTe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],ITe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function kTe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function MTe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function NTe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],MTe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function DTe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],kTe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],NTe(r)),e}function LTe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function OTe(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],LTe(n)),e}function FTe(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&b(e,["voiceConfig"],OTe(n)),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function $Te(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function BTe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],x0(vo(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const x=v(e,["responseMimeType"]);x!=null&&b(r,["responseMimeType"],x);const w=v(e,["responseSchema"]);w!=null&&b(r,["responseSchema"],vTe(hw(w)));const E=v(e,["responseJsonSchema"]);E!=null&&b(r,["responseJsonSchema"],E);const S=v(e,["routingConfig"]);S!=null&&b(r,["routingConfig"],S);const T=v(e,["modelSelectionConfig"]);T!=null&&b(r,["modelConfig"],bTe(T));const k=v(e,["safetySettings"]);if(n!==void 0&&k!=null){let W=k;Array.isArray(W)&&(W=W.map(K=>xTe(K))),b(n,["safetySettings"],W)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let W=b0(N);Array.isArray(W)&&(W=W.map(K=>tte(v0(K)))),b(n,["tools"],W)}const R=v(e,["toolConfig"]);n!==void 0&&R!=null&&b(n,["toolConfig"],DTe(R));const M=v(e,["labels"]);n!==void 0&&M!=null&&b(n,["labels"],M);const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&b(n,["cachedContent"],cd(t,L));const I=v(e,["responseModalities"]);I!=null&&b(r,["responseModalities"],I);const O=v(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const V=v(e,["speechConfig"]);V!=null&&b(r,["speechConfig"],FTe(X$(V)));const $=v(e,["audioTimestamp"]);$!=null&&b(r,["audioTimestamp"],$);const z=v(e,["thinkingConfig"]);return z!=null&&b(r,["thinkingConfig"],$Te(z)),r}function C9(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);if(i!=null){let s=va(i);Array.isArray(s)&&(s=s.map(a=>x0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["generationConfig"],BTe(t,o,n)),n}function VTe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const o=v(t,["outputDimensionality"]);e!==void 0&&o!=null&&b(e,["parameters","outputDimensionality"],o);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&b(e,["instances[]","mimeType"],s);const a=v(t,["autoTruncate"]);return e!==void 0&&a!=null&&b(e,["parameters","autoTruncate"],a),n}function zTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);i!=null&&b(n,["instances[]","content"],Bee(t,i));const o=v(e,["config"]);return o!=null&&b(n,["config"],VTe(o,n)),n}function UTe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["guidanceScale"]);e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const x=v(t,["addWatermark"]);e!==void 0&&x!=null&&b(e,["parameters","addWatermark"],x);const w=v(t,["enhancePrompt"]);return e!==void 0&&w!=null&&b(e,["parameters","enhancePrompt"],w),n}function HTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&b(n,["config"],UTe(o,n)),n}function TR(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],dd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function qTe(t){const e={},n=v(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function jTe(t){const e={},n=v(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function WTe(t){const e={},n=v(t,["styleDescription"]);return n!=null&&b(e,["styleDescription"],n),e}function GTe(t){const e={},n=v(t,["subjectType"]);n!=null&&b(e,["subjectType"],n);const r=v(t,["subjectDescription"]);return r!=null&&b(e,["subjectDescription"],r),e}function KTe(t){const e={},n=v(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],TR(n));const r=v(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const o=v(t,["maskImageConfig"]);o!=null&&b(e,["maskImageConfig"],qTe(o));const s=v(t,["controlImageConfig"]);s!=null&&b(e,["controlImageConfig"],jTe(s));const a=v(t,["styleImageConfig"]);a!=null&&b(e,["styleImageConfig"],WTe(a));const l=v(t,["subjectImageConfig"]);return l!=null&&b(e,["subjectImageConfig"],GTe(l)),e}function YTe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["guidanceScale"]);e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const x=v(t,["editMode"]);e!==void 0&&x!=null&&b(e,["parameters","editMode"],x);const w=v(t,["baseSteps"]);return e!==void 0&&w!=null&&b(e,["parameters","editConfig","baseSteps"],w),n}function XTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>KTe(l))),b(n,["instances[0]","referenceImages"],a)}const s=v(e,["config"]);return s!=null&&b(n,["config"],YTe(s,n)),n}function JTe(t,e){const n={},r=v(t,["includeRaiReason"]);e!==void 0&&r!=null&&b(e,["parameters","includeRaiReason"],r);const i=v(t,["outputMimeType"]);e!==void 0&&i!=null&&b(e,["parameters","outputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&b(e,["parameters","outputOptions","compressionQuality"],o);const s=v(t,["enhanceInputImage"]);e!==void 0&&s!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],s);const a=v(t,["imagePreservationFactor"]);e!==void 0&&a!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],a);const l=v(t,["numberOfImages"]);e!==void 0&&l!=null&&b(e,["parameters","sampleCount"],l);const u=v(t,["mode"]);return e!==void 0&&u!=null&&b(e,["parameters","mode"],u),n}function QTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["image"]);i!=null&&b(n,["instances[0]","image"],TR(i));const o=v(e,["upscaleFactor"]);o!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=v(e,["config"]);return s!=null&&b(n,["config"],JTe(s,n)),n}function ZTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function eAe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const s=v(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const a=v(e,["queryBase"]);return n!==void 0&&a!=null&&b(n,["_url","models_url"],Uee(t,a)),r}function tAe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],eAe(t,r,n)),n}function nAe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function rAe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],nAe(i,n)),n}function iAe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function oAe(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],x0(vo(r)));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>tte(a))),b(e,["tools"],s)}const o=v(t,["generationConfig"]);return e!==void 0&&o!=null&&b(e,["generationConfig"],o),n}function sAe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);if(i!=null){let s=va(i);Array.isArray(s)&&(s=s.map(a=>x0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],oAe(o,n)),n}function aAe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["contents"]);if(i!=null){let s=va(i);Array.isArray(s)&&(s=s.map(a=>x0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],o),n}function lAe(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],dd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function uAe(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=v(t,["fps"]);e!==void 0&&o!=null&&b(e,["parameters","fps"],o);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&b(e,["parameters","durationSeconds"],s);const a=v(t,["seed"]);e!==void 0&&a!=null&&b(e,["parameters","seed"],a);const l=v(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const u=v(t,["resolution"]);e!==void 0&&u!=null&&b(e,["parameters","resolution"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["pubsubTopic"]);e!==void 0&&d!=null&&b(e,["parameters","pubsubTopic"],d);const h=v(t,["negativePrompt"]);e!==void 0&&h!=null&&b(e,["parameters","negativePrompt"],h);const p=v(t,["enhancePrompt"]);e!==void 0&&p!=null&&b(e,["parameters","enhancePrompt"],p);const m=v(t,["generateAudio"]);e!==void 0&&m!=null&&b(e,["parameters","generateAudio"],m);const y=v(t,["lastFrame"]);e!==void 0&&y!=null&&b(e,["instances[0]","lastFrame"],TR(y));const x=v(t,["compressionQuality"]);return e!==void 0&&x!=null&&b(e,["parameters","compressionQuality"],x),n}function cAe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Qn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&b(n,["instances[0]","image"],TR(o));const s=v(e,["video"]);s!=null&&b(n,["instances[0]","video"],lAe(s));const a=v(e,["config"]);return a!=null&&b(n,["config"],uAe(a,n)),n}function dAe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function fAe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function hAe(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function pAe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],dAe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],fAe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],hAe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function gAe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pAe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function mAe(t){const e={},n=v(t,["citationSources"]);return n!=null&&b(e,["citations"],n),e}function yAe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function vAe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yAe(i))),b(e,["urlMetadata"],r)}return e}function bAe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],gAe(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],mAe(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],vAe(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function T9(t){const e={},n=v(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>bAe(a))),b(e,["candidates"],s)}const r=v(t,["modelVersion"]);r!=null&&b(e,["modelVersion"],r);const i=v(t,["promptFeedback"]);i!=null&&b(e,["promptFeedback"],i);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function xAe(t){const e={},n=v(t,["values"]);return n!=null&&b(e,["values"],n),e}function wAe(){return{}}function _Ae(t){const e={},n=v(t,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>xAe(o))),b(e,["embeddings"],i)}return v(t,["metadata"])!=null&&b(e,["metadata"],wAe()),e}function SAe(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],dd(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function nte(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function EAe(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],SAe(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],nte(i)),e}function CAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>EAe(o))),b(e,["generatedImages"],i)}const r=v(t,["positivePromptSafetyAttributes"]);return r!=null&&b(e,["positivePromptSafetyAttributes"],nte(r)),e}function TAe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function CO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["version"]);o!=null&&b(e,["version"],o);const s=v(t,["_self"]);s!=null&&b(e,["tunedModelInfo"],TAe(s));const a=v(t,["inputTokenLimit"]);a!=null&&b(e,["inputTokenLimit"],a);const l=v(t,["outputTokenLimit"]);l!=null&&b(e,["outputTokenLimit"],l);const u=v(t,["supportedGenerationMethods"]);return u!=null&&b(e,["supportedActions"],u),e}function AAe(t,e){const n={},r=v(e,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=Hee(i);Array.isArray(o)&&(o=o.map(s=>CO(s))),b(n,["models"],o)}return n}function RAe(){return{}}function PAe(t){const e={},n=v(t,["totalTokens"]);n!=null&&b(e,["totalTokens"],n);const r=v(t,["cachedContentTokenCount"]);return r!=null&&b(e,["cachedContentTokenCount"],r),e}function IAe(t){const e={},n=v(t,["video","uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&b(e,["videoBytes"],dd(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function kAe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],IAe(n)),e}function MAe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>kAe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function NAe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],MAe(s)),e}function DAe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function LAe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function OAe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function FAe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],DAe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],LAe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],OAe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function $Ae(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FAe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function BAe(t){const e={},n=v(t,["citations"]);return n!=null&&b(e,["citations"],n),e}function VAe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function zAe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>VAe(i))),b(e,["urlMetadata"],r)}return e}function UAe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],$Ae(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],BAe(r));const i=v(t,["finishMessage"]);i!=null&&b(e,["finishMessage"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],zAe(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function A9(t){const e={},n=v(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>UAe(u))),b(e,["candidates"],l)}const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["responseId"]);i!=null&&b(e,["responseId"],i);const o=v(t,["modelVersion"]);o!=null&&b(e,["modelVersion"],o);const s=v(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=v(t,["usageMetadata"]);return a!=null&&b(e,["usageMetadata"],a),e}function HAe(t){const e={},n=v(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function qAe(t){const e={},n=v(t,["values"]);n!=null&&b(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&b(e,["statistics"],HAe(r)),e}function jAe(t){const e={},n=v(t,["billableCharacterCount"]);return n!=null&&b(e,["billableCharacterCount"],n),e}function WAe(t){const e={},n=v(t,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qAe(o))),b(e,["embeddings"],i)}const r=v(t,["metadata"]);return r!=null&&b(e,["metadata"],jAe(r)),e}function GAe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],dd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function rte(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function Q$(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],GAe(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&b(e,["safetyAttributes"],rte(i));const o=v(t,["prompt"]);return o!=null&&b(e,["enhancedPrompt"],o),e}function KAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Q$(o))),b(e,["generatedImages"],i)}const r=v(t,["positivePromptSafetyAttributes"]);return r!=null&&b(e,["positivePromptSafetyAttributes"],rte(r)),e}function YAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Q$(i))),b(e,["generatedImages"],r)}return e}function XAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Q$(i))),b(e,["generatedImages"],r)}return e}function JAe(t){const e={},n=v(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function QAe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function ZAe(t){const e={},n=v(t,["checkpointId"]);n!=null&&b(e,["checkpointId"],n);const r=v(t,["epoch"]);r!=null&&b(e,["epoch"],r);const i=v(t,["step"]);return i!=null&&b(e,["step"],i),e}function TO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["versionId"]);o!=null&&b(e,["version"],o);const s=v(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>JAe(h))),b(e,["endpoints"],d)}const a=v(t,["labels"]);a!=null&&b(e,["labels"],a);const l=v(t,["_self"]);l!=null&&b(e,["tunedModelInfo"],QAe(l));const u=v(t,["defaultCheckpointId"]);u!=null&&b(e,["defaultCheckpointId"],u);const c=v(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>ZAe(h))),b(e,["checkpoints"],d)}return e}function eRe(t,e){const n={},r=v(e,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=Hee(i);Array.isArray(o)&&(o=o.map(s=>TO(s))),b(n,["models"],o)}return n}function tRe(){return{}}function nRe(t){const e={},n=v(t,["totalTokens"]);return n!=null&&b(e,["totalTokens"],n),e}function rRe(t){const e={},n=v(t,["tokensInfo"]);return n!=null&&b(e,["tokensInfo"],n),e}function iRe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],dd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function oRe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],iRe(n)),e}function sRe(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>oRe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function aRe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],sRe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lRe="Content-Type",uRe="X-Server-Timeout",cRe="User-Agent",AO="x-goog-api-client",dRe="1.7.0",fRe=`google-genai-sdk/${dRe}`,hRe="v1beta1",pRe="v1beta",R9=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class gRe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hRe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:pRe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&mRe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await P9(i),new bO(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await P9(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ry(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield yr(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l);try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),p=h.status,m=h.code,y=`got status: ${p}. ${JSON.stringify(d)}`;if(m>=400&&m<600)throw new ER({message:y,status:m})}}catch(d){if(d.name==="ApiError")throw d}s+=u;let c=s.match(R9);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield yr(new bO(h)),s=s.slice(c[0].length),c=s.match(R9)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=fRe+" "+this.clientOptions.userAgentExtra;return e[cRe]=n,e[AO]=n,e[lRe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(uRe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l=await this.fetchUploadUrl(i,n);return o.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Ft("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function P9(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ER({message:i,status:n}):new Error(i)}}function mRe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yRe="mcp_used/unknown";function ite(t){for(const e of t)if(Z$(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function ote(t){var e;const n=(e=t[AO])!==null&&e!==void 0?e:"";t[AO]=(n+` ${yRe}`).trimStart()}function vRe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Z$(i)))!==null&&r!==void 0?r:!1}function bRe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Z$(i)))!==null&&r!==void 0?r:!1}function Z$(t){return t!==null&&typeof t=="object"&&t instanceof e4}function xRe(t,e=100){return Ry(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield yr(t.listTools({cursor:r}));for(const s of o.tools)yield yield yr(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class e4{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new e4(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Nx(xRe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),g_e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wRe(t,e,n){const r=new n_e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=PCe(i);Object.assign(r,o),e(r)}class _Re{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=CRe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,h=function(){u({})},p=this.apiClient,m={onopen:h,onmessage:S=>{wRe(p,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(l,ERe(s),m);y.connect(),await c;const x=Qn(this.apiClient,e.model),w=Qee({model:x}),E=EO({setup:w});return y.send(JSON.stringify(E)),new SRe(y,this.apiClient)}}class SRe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=HEe(e),r=Zee(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=qEe(e),r=EO(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=EO({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(by.PLAY)}pause(){this.sendPlaybackControl(by.PAUSE)}stop(){this.sendPlaybackControl(by.STOP)}resetContext(){this.sendPlaybackControl(by.RESET_CONTEXT)}close(){this.conn.close()}}function ERe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function CRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TRe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ARe(t,e,n){const r=new t_e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=xCe(o);Object.assign(r,s)}else{const s=bCe(o);Object.assign(r,s)}e(r)}class RRe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new _Re(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&ite(e.config.tools)&&ote(d);const h=MRe(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const L=this.apiClient.getApiKey();let I="BidiGenerateContent",O="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),I="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${O}=${L}`}let p=()=>{};const m=new Promise(L=>{p=L}),y=e.callbacks,x=function(){var L;(L=y==null?void 0:y.onopen)===null||L===void 0||L.call(y),p({})},w=this.apiClient,E={onopen:x,onmessage:L=>{ARe(w,y.onmessage,L)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(L){}},S=this.webSocketFactory.create(c,kRe(h),E);S.connect(),await m;let T=Qn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const L=this.apiClient.getProject(),I=this.apiClient.getLocation();T=`projects/${L}/locations/${I}/`+T}let k={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[VT.AUDIO]}:e.config.responseModalities=[VT.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],R=[];for(const L of N)if(this.isCallableTool(L)){const I=L;R.push(await I.tool())}else R.push(L);R.length>0&&(e.config.tools=R);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=OEe(this.apiClient,M):k=LEe(this.apiClient,M),delete k.config,S.send(JSON.stringify(k)),new IRe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const PRe={turnComplete:!0};class IRe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=va(n.turns),e.isVertexAI()?r=r.map(i=>x0(i)):r=r.map(i=>CR(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(TRe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},PRe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:UEe(e)}:n={realtimeInput:zEe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function MRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I9=10;function k9(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(_C(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function _C(t){return"callTool"in t&&typeof t.callTool=="function"}function M9(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NRe extends xg{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsForMcpUsage(n);if(!vRe(n)||k9(n.config))return await this.generateContentInternal(l);if(bRe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const d=va(l.contents),h=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:I9;let p=0;for(;p<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const m=u.candidates[0].content,y=[];for(const x of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(_C(x)){const E=await x.callTool(u.functionCalls);y.push(...E)}p++,c={role:"user",parts:y},l.contents=va(l.contents),l.contents.push(m),l.contents.push(c),M9(l.config)&&(d.push(m),d.push(c))}return M9(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async n=>{if(k9(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o}:a={generatedImages:s},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new E1(Zp.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>_C(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&ite(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),ote(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(_C(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:I9;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,p;return Ry(this,arguments,function*(){for(var m,y,x,w;a<o;){s&&(a++,s=!1);const k=yield yr(u.processParamsForMcpUsage(d)),N=yield yr(u.generateContentStreamInternal(k)),R=[],M=[];try{for(var E=!0,S=(y=void 0,Nx(N)),T;T=yield yr(S.next()),m=T.done,!m;E=!0){w=T.value,E=!1;const L=w;if(yield yield yr(L),L.candidates&&(!((h=L.candidates[0])===null||h===void 0)&&h.content)){M.push(L.candidates[0].content);for(const I of(p=L.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(a<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(I.functionCall.name)){const O=yield yr(c.get(I.functionCall.name).callTool([I.functionCall]));R.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(L){y={error:L}}finally{try{!E&&!m&&(x=S.return)&&(yield yr(x.call(S)))}finally{if(y)throw y.error}}if(R.length>0){s=!0;const L=new pb;L.candidates=[{content:{role:"user",parts:R}}],yield yield yr(L);const I=[];I.push(...M),I.push({role:"user",parts:R});const O=va(d.contents).concat(I);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=C9(this.apiClient,e);return a=Ft("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=A9(c),h=new pb;return Object.assign(h,d),h})}else{const u=E9(this.apiClient,e);return a=Ft("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=T9(c),h=new pb;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=C9(this.apiClient,e);return a=Ft("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return Ry(this,arguments,function*(){var h,p,m,y;try{for(var x=!0,w=Nx(d),E;E=yield yr(w.next()),h=E.done,!h;x=!0){y=E.value,x=!1;const T=A9(yield yr(y.json())),k=new pb;Object.assign(k,T),yield yield yr(k)}}catch(S){p={error:S}}finally{try{!x&&!h&&(m=w.return)&&(yield yr(m.call(w)))}finally{if(p)throw p.error}}})})}else{const u=E9(this.apiClient,e);return a=Ft("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return Ry(this,arguments,function*(){var h,p,m,y;try{for(var x=!0,w=Nx(d),E;E=yield yr(w.next()),h=E.done,!h;x=!0){y=E.value,x=!1;const T=T9(yield yr(y.json())),k=new pb;Object.assign(k,T),yield yield yr(k)}}catch(S){p={error:S}}finally{try{!x&&!h&&(m=w.return)&&(yield yr(m.call(w)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zTe(this.apiClient,e);return a=Ft("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=WAe(c),h=new r9;return Object.assign(h,d),h})}else{const u=eTe(this.apiClient,e);return a=Ft("{model}:batchEmbedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=_Ae(c),h=new r9;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HTe(this.apiClient,e);return a=Ft("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=KAe(c),h=new i9;return Object.assign(h,d),h})}else{const u=nTe(this.apiClient,e);return a=Ft("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=CAe(c),h=new i9;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=XTe(this.apiClient,e);return o=Ft("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=YAe(l),c=new Ywe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=QTe(this.apiClient,e);return o=Ft("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=XAe(l),c=new Xwe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ZTe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>TO(c))}else{const u=rTe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>CO(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tAe(this.apiClient,e);return a=Ft("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=eRe(this.apiClient,c),h=new o9;return Object.assign(h,d),h})}else{const u=oTe(this.apiClient,e);return a=Ft("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=AAe(this.apiClient,c),h=new o9;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rAe(this.apiClient,e);return a=Ft("{model}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>TO(c))}else{const u=aTe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>CO(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iAe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=tRe(),d=new s9;return Object.assign(d,c),d})}else{const u=lTe(this.apiClient,e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=RAe(),d=new s9;return Object.assign(d,c),d})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sAe(this.apiClient,e);return a=Ft("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=nRe(c),h=new a9;return Object.assign(h,d),h})}else{const u=cTe(this.apiClient,e);return a=Ft("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=PAe(c),h=new a9;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=aAe(this.apiClient,e);return o=Ft("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=rRe(l),c=new Jwe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cAe(this.apiClient,e);return a=Ft("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>aRe(c))}else{const u=hTe(this.apiClient,e);return a=Ft("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>NAe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["_url","operationName"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function LRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["_url","operationName"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function ORe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=v(t,["resourceName"]);r!=null&&b(e,["_url","resourceName"],r);const i=v(t,["config"]);return i!=null&&b(e,["config"],i),e}function FRe(t){const e={},n=v(t,["video","uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&b(e,["videoBytes"],dd(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function $Re(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],FRe(n)),e}function BRe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$Re(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function VRe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],BRe(s)),e}function zRe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],dd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function URe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],zRe(n)),e}function HRe(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>URe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function N9(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],HRe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qRe extends xg{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LRe(e);return a=Ft("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>N9(c))}else{const u=DRe(e);return a=Ft("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>VRe(c))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=ORe(e);return o=Ft("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>N9(l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jRe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function ste(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],jRe(n)),e}function WRe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],ste(r)),e}function GRe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WRe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function KRe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],ste(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],GRe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function YRe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function XRe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function JRe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function QRe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],YRe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],XRe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],JRe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function ZRe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>QRe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function ePe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function tPe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function nPe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],tPe(n)),e}function rPe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function iPe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],rPe(n)),e}function oPe(){return{}}function sPe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>ePe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],nPe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],iPe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],oPe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function aPe(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function D9(){return{}}function lPe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function uPe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],lPe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function cPe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function dPe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],cPe(r)),e}function fPe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function hPe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],KRe(J$(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],ZRe(vo(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let k=b0(m);Array.isArray(k)&&(k=k.map(N=>sPe(v0(N)))),b(e,["setup","tools"],k)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],aPe(y));const x=v(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&b(e,["setup","inputAudioTranscription"],D9());const w=v(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&b(e,["setup","outputAudioTranscription"],D9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],uPe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],dPe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],fPe(T)),n}function pPe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Qn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],hPe(i,n)),n}function gPe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const s=v(e,["uses"]);n!==void 0&&s!=null&&b(n,["uses"],s);const a=v(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&b(n,["bidiGenerateContentSetup"],pPe(t,a));const l=v(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&b(n,["fieldMask"],l),r}function mPe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],gPe(t,r,n)),n}function yPe(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vPe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function bPe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=vPe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class xPe extends xg{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=mPe(this.apiClient,e);o=Ft("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=bPe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>yPe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function _Pe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function SPe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],_Pe(n,e)),e}function EPe(t){const e={},n=v(t,["textInput"]);n!=null&&b(e,["textInput"],n);const r=v(t,["output"]);return r!=null&&b(e,["output"],r),e}function CPe(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>EPe(i))),b(e,["examples","examples"],r)}return e}function TPe(t,e){const n={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=v(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&b(e,["displayName"],r),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=v(t,["epochCount"]);e!==void 0&&i!=null&&b(e,["tuningTask","hyperparameters","epochCount"],i);const o=v(t,["learningRateMultiplier"]);if(o!=null&&b(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=v(t,["batchSize"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","batchSize"],s);const a=v(t,["learningRate"]);return e!==void 0&&a!=null&&b(e,["tuningTask","hyperparameters","learningRate"],a),n}function APe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["trainingDataset"]);r!=null&&b(e,["tuningTask","trainingData"],CPe(r));const i=v(t,["config"]);return i!=null&&b(e,["config"],TPe(i,e)),e}function RPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function PPe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function IPe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],PPe(n,e)),e}function kPe(t,e){const n={},r=v(t,["gcsUri"]);if(e!==void 0&&r!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],r),v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function MPe(t){const e={},n=v(t,["gcsUri"]);return n!=null&&b(e,["validationDatasetUri"],n),e}function NPe(t,e){const n={},r=v(t,["validationDataset"]);e!==void 0&&r!=null&&b(e,["supervisedTuningSpec"],MPe(r));const i=v(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&b(e,["tunedModelDisplayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=v(t,["epochCount"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=v(t,["learningRateMultiplier"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=v(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=v(t,["adapterSize"]);if(e!==void 0&&u!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function DPe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["trainingDataset"]);r!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],kPe(r,e));const i=v(t,["config"]);return i!=null&&b(e,["config"],NPe(i,e)),e}function LPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["model"],n);const r=v(t,["name"]);return r!=null&&b(e,["endpoint"],r),e}function ate(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["state"]);r!=null&&b(e,["state"],Vee(r));const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=v(t,["tuningTask","startTime"]);o!=null&&b(e,["startTime"],o);const s=v(t,["tuningTask","completeTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["description"]);l!=null&&b(e,["description"],l);const u=v(t,["baseModel"]);u!=null&&b(e,["baseModel"],u);const c=v(t,["_self"]);c!=null&&b(e,["tunedModel"],LPe(c));const d=v(t,["distillationSpec"]);d!=null&&b(e,["distillationSpec"],d);const h=v(t,["experiment"]);h!=null&&b(e,["experiment"],h);const p=v(t,["labels"]);p!=null&&b(e,["labels"],p);const m=v(t,["pipelineJob"]);m!=null&&b(e,["pipelineJob"],m);const y=v(t,["serviceAccount"]);y!=null&&b(e,["serviceAccount"],y);const x=v(t,["tunedModelDisplayName"]);return x!=null&&b(e,["tunedModelDisplayName"],x),e}function OPe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ate(o))),b(e,["tuningJobs"],i)}return e}function FPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);return o!=null&&b(e,["error"],o),e}function $Pe(t){const e={},n=v(t,["checkpointId"]);n!=null&&b(e,["checkpointId"],n);const r=v(t,["epoch"]);r!=null&&b(e,["epoch"],r);const i=v(t,["step"]);i!=null&&b(e,["step"],i);const o=v(t,["endpoint"]);return o!=null&&b(e,["endpoint"],o),e}function BPe(t){const e={},n=v(t,["model"]);n!=null&&b(e,["model"],n);const r=v(t,["endpoint"]);r!=null&&b(e,["endpoint"],r);const i=v(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$Pe(s))),b(e,["checkpoints"],o)}return e}function RO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["state"]);r!=null&&b(e,["state"],Vee(r));const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=v(t,["startTime"]);o!=null&&b(e,["startTime"],o);const s=v(t,["endTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["error"]);l!=null&&b(e,["error"],l);const u=v(t,["description"]);u!=null&&b(e,["description"],u);const c=v(t,["baseModel"]);c!=null&&b(e,["baseModel"],c);const d=v(t,["tunedModel"]);d!=null&&b(e,["tunedModel"],BPe(d));const h=v(t,["supervisedTuningSpec"]);h!=null&&b(e,["supervisedTuningSpec"],h);const p=v(t,["tuningDataStats"]);p!=null&&b(e,["tuningDataStats"],p);const m=v(t,["encryptionSpec"]);m!=null&&b(e,["encryptionSpec"],m);const y=v(t,["partnerModelTuningSpec"]);y!=null&&b(e,["partnerModelTuningSpec"],y);const x=v(t,["distillationSpec"]);x!=null&&b(e,["distillationSpec"],x);const w=v(t,["experiment"]);w!=null&&b(e,["experiment"],w);const E=v(t,["labels"]);E!=null&&b(e,["labels"],E);const S=v(t,["pipelineJob"]);S!=null&&b(e,["pipelineJob"],S);const T=v(t,["serviceAccount"]);T!=null&&b(e,["serviceAccount"],T);const k=v(t,["tunedModelDisplayName"]);return k!=null&&b(e,["tunedModelDisplayName"],k),e}function VPe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>RO(o))),b(e,["tuningJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zPe extends xg{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new E1(Zp.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:vO.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RPe(e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>RO(c))}else{const u=wPe(e);return a=Ft("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>ate(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=IPe(e);return a=Ft("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=VPe(c),h=new l9;return Object.assign(h,d),h})}else{const u=SPe(e);return a=Ft("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=OPe(c),h=new l9;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=DPe(e);return o=Ft("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>RO(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=APe(e);return o=Ft("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>FPe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UPe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HPe=1024*1024*8,qPe=3,jPe=1e3,WPe=2,Dk="x-goog-upload-status";async function GPe(t,e,n){var r,i,o;let s=0,a=0,l=new bO(new Response),u="upload";for(s=t.size;a<s;){const d=Math.min(HPe,s-a),h=t.slice(a,a+d);a+d>=s&&(u+=", finalize");let p=0,m=jPe;for(;p<qPe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Dk]));)p++,await YPe(m),m=m*WPe;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Dk])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Dk])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function KPe(t){return{size:t.size,type:t.type}}function YPe(t){return new Promise(e=>setTimeout(e,t))}class XPe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GPe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KPe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JPe{create(e,n,r){return new QPe(e,n,r)}}class QPe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L9="x-goog-api-key";class ZPe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(L9)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(L9,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eIe="gl-node/";class tIe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Kwe(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new ZPe(this.apiKey);this.apiClient=new gRe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:eIe+"web",uploader:new XPe,downloader:new UPe}),this.models=new NRe(this.apiClient),this.live=new RRe(this.apiClient,i,new JPe),this.batches=new _1e(this.apiClient),this.chats=new TSe(this.models,this.apiClient),this.caches=new SSe(this.apiClient),this.files=new BSe(this.apiClient),this.operations=new qRe(this.apiClient),this.authTokens=new xPe(this.apiClient),this.tunings=new zPe(this.apiClient)}}const Vr={READING:"reading",ANALYZING:"analyzing"},lte=F.createContext(void 0),nIe=({children:t})=>{const{userData:e,getAllUsers:n,getPapersByUser:r,getPaperDataById:i}=bg(),[o,s]=F.useState({}),[a,l]=F.useState({}),[u,c]=F.useState(Vr.READING),[d,h]=F.useState(null);F.useEffect(()=>{c(Vr.READING),h(null),p()},[e]);const p=async()=>{if(!e){s({}),l({}),h(null);return}if(e.role===dw.STUDENT)s({[e.id]:e});else{const w=await n();s(w.reduce((E,S)=>(E[S.id]=S,E),{}))}const y=(await r(e.id)).map(w=>w.paperId),x=await i(y);l(x.reduce((w,E)=>(w[E.id]=E,w),{}))};return D.jsx(lte.Provider,{value:{usersDict:o,papersDict:a,setUsersDict:s,setPapersDict:l,mode:u,setMode:c,viewingPaperId:d,setViewingPaperId:h},children:t})},fd=()=>{const t=F.useContext(lte);if(t===void 0)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return t},Gn={PAPERS:"papers",USERS:"users",PURPOSES:"purposes"},ute=F.createContext(void 0),rIe=({children:t})=>{const{userData:e,getSessionsByUsersAndPapers:n,getHighlightsByUsersAndPapers:r,getPurposesByUserAndPaper:i,getCanvasUserAndPaper:o}=bg(),{usersDict:s,papersDict:a,setViewingPaperId:l}=fd(),[u,c]=F.useState([]),[d,h]=F.useState([]),[p,m]=F.useState({}),[y,x]=F.useState({}),[w,E]=F.useState({}),[S,T]=F.useState({}),[k,N]=F.useState(0),[R,M]=F.useState(!1),[L,I]=F.useState(Gn.PAPERS),[O,V]=F.useState(null),[$,z]=F.useState(null),[W,K]=F.useState(!1),[J,Q]=F.useState([]),[X,j]=F.useState([]),[Y,ue]=F.useState([]),[q,de]=F.useState({}),[se,ee]=F.useState({}),[ae,te]=F.useState({}),[ce,fe]=F.useState("");F.useEffect(()=>{ge()},[e]),F.useEffect(()=>{d.length>0&&u.length>0&&Ee(),O&&!u.includes(O)?(V(null),I(Gn.PAPERS)):$&&!d.includes($)&&(z(null),I(Gn.USERS))},[d,u]),F.useEffect(()=>{O&&l(O)},[O]),F.useEffect(()=>{Me()},[p,y,w,d,u,L,O,$]);const ge=()=>{c([]),h([]),m({}),x({}),E({}),T({}),N(0),I(Gn.PAPERS),V(null),z(null),Q([]),j([]),ue([]),de({}),ee({}),te({}),fe("")},xe=(Pe,ut=!1)=>{c(rt=>rt.includes(Pe)?ut?rt:rt.filter(mt=>mt!==Pe):[...rt,Pe])},be=(Pe,ut=!1)=>{h(rt=>rt.includes(Pe)?ut?rt:rt.filter(mt=>mt!==Pe):[...rt,Pe])},Ee=async()=>{if(!(d.length===0||u.length===0)){M(!0);try{const Pe=await n(d,u),ut=await r(d,u),rt={},mt={};for(const Ce of d)for(const Ue of u){const nt=`${Ce}_${Ue}`;try{const Re=await i(Ce,Ue);rt[nt]=Re;const Xe=await o(Ce,Ue);mt[nt]=Xe}catch(Re){console.error(`Error fetching purposes for user ${Ce} and paper ${Ue}:`,Re),rt[nt]=[]}}let ve=0;Object.values(Pe).forEach(Ce=>{const Ue=Ce.reduce((nt,Re)=>nt+Re.duration,0);ve=Math.max(ve,Ue)}),N(ve),m(Pe),x(ut),E(rt),T(mt)}catch(Pe){console.error("Error fetching analysis data:",Pe)}finally{M(!1)}}},Me=()=>{const Pe=Object.keys(p).filter(ut=>{const[rt,mt]=ut.split("_");return d.includes(rt)&&u.includes(mt)});L===Gn.PAPERS?st(Pe):L===Gn.USERS&&O?Ve(O):L===Gn.PURPOSES&&O&&$&&Oe($,O)},st=Pe=>{const ut=new Map;Pe.forEach(mt=>{const[ve,Ce]=mt.split("_"),Ue=p[mt]||[],nt=y[mt]||[];ut.has(Ce)||ut.set(Ce,{totalDuration:0,userCount:0,totalHighlights:0,users:new Set});const Re=ut.get(Ce);Re.totalDuration+=Ue.reduce((Xe,Zt)=>Xe+Zt.duration,0),Re.totalHighlights+=nt.length,Re.users.add(ve)});const rt=Array.from(ut.entries()).map(([mt,ve])=>{var Ce;return{paperId:mt,paperTitle:((Ce=a[mt])==null?void 0:Ce.title)||"Unknown Paper",totalDuration:ve.totalDuration,averageDuration:ve.users.size>0?ve.totalDuration/ve.users.size:0,userCount:ve.users.size,totalHighlights:ve.totalHighlights,averageHighlights:ve.users.size>0?ve.totalHighlights/ve.users.size:0}}).sort((mt,ve)=>ve.totalDuration-mt.totalDuration);Q(rt)},Ve=Pe=>{const ut=[];let rt={};d.forEach(mt=>{var Re;const ve=`${mt}_${Pe}`,Ce=p[ve]||[],Ue=y[ve]||[],nt=w[ve]||[];if(Ce.length>0||Ue.length>0){const Xe=Ce.reduce(($t,en)=>$t+en.duration,0),Zt=Math.max(...Ce.map($t=>$t.startTime+$t.duration),0);ut.push({userId:mt,userName:((Re=s[mt])==null?void 0:Re.name)||"Unknown User",duration:Xe,highlightCount:Ue.length,textHighlightCount:Ue.filter($t=>$t.type==="text").length,imageHighlightCount:Ue.filter($t=>$t.type==="area").length,purposeCount:nt.length,lastReadTime:Zt}),rt[mt]||(rt[mt]=[]),rt[mt].push(...Ue)}}),j(ut.sort((mt,ve)=>ve.duration-mt.duration)),de(rt)},Oe=(Pe,ut)=>{const rt=`${Pe}_${ut}`,mt=p[rt]||[],ve=y[rt]||[],Ce=w[rt]||[],Ue=S[rt]||"",nt=Ce.map(Re=>{const Xe=mt.filter(Je=>Je.readPurposeId===Re.id),Zt=ve.filter(Je=>Je.readPurposeId===Re.id),$t=Xe.reduce((Je,Lt)=>Je+Lt.duration,0),en=Math.max(...Xe.map(Je=>Je.startTime+Je.duration),0);return{purposeId:Re.id,purposeTitle:Re.title,purposeColor:Re.color,duration:$t,highlightCount:Zt.length,textHighlightCount:Zt.filter(Je=>Je.type==="text").length,imageHighlightCount:Zt.filter(Je=>Je.type==="area").length,lastReadTime:en}}).sort((Re,Xe)=>Xe.duration-Re.duration);ue(nt),de({[Pe]:ve}),ee({[Pe]:Ce}),te({[Pe]:mt}),fe(Ue.reactFlowJson)},Qe=Pe=>{V(Pe),I(Gn.USERS)},Ye=Pe=>{z(Pe),I(Gn.PURPOSES)},dt=Pe=>{I(Pe),Pe===Gn.PAPERS?(V(null),z(null)):Pe===Gn.USERS&&z(null)};return D.jsx(ute.Provider,{value:{selectedAnalyticsPapersId:u,selectedAnalyticsUsersId:d,togglePaperForAnalytics:xe,toggleUserForAnalytics:be,userPaperReadSessions:p,userPaperHighlights:y,userPaperPurposes:w,maxDuration:k,isLoadingData:R,analyticsLevel:L,selectedPaper:O,selectedUser:$,handlePaperClick:Qe,handleUserClick:Ye,handleBreadcrumbClick:dt,paperStats:J,userPaperStats:X,userPurposeStats:Y,fetchData:Ee,analyticsHighlights:q,analyticsPurposes:se,analyticsSessions:ae,analyticsCanvasJSON:ce,reloadAnalytics:ge,showCanvas:W,setShowCanvas:K},children:t})},wg=()=>{const t=F.useContext(ute);if(!t)throw new Error("useAnalysisContext must be used within an AnalysisProvider");return t},cte=F.createContext(void 0),O9={HIGHLIGHT:"highlight",THEME:"theme"},ni={CHRONOLOGICAL:"chronological",RELATIONAL:"relational"},Lk={type:Nv.Arrow,width:15,height:15},F9={type:Nv.Arrow,width:20,height:20,color:"black"},dte=500,iIe=({children:t})=>{const{userData:e,getHighlightsByUsersAndPapers:n,getPurposesByUserAndPaper:r,getCanvasUserAndPaper:i,getSessionsByUsersAndPapers:o,batchAddPurposes:s,batchAddHighlights:a,batchAddSessions:l,updateCanvas:u,getPaperFile:c}=bg(),{mode:d,viewingPaperId:h}=fd(),{analyticsHighlights:p,analyticsPurposes:m,analyticsSessions:y,analyticsCanvasJSON:x,analyticsLevel:w,selectedPaper:E}=wg(),[S,T]=F.useState(null),[k,N]=F.useState([]),R=F.useRef(null),[M,L]=F.useState({}),[I,O]=F.useState(""),[V,$]=F.useState(""),[z,W]=F.useState([]),[K,J]=F.useState([]),[Q,X,j]=_ge([]),[Y,ue,q]=Sge([]),[de,se]=F.useState(!1),[ee,ae]=F.useState([ni.CHRONOLOGICAL,ni.RELATIONAL]),te=150,ce=150,[fe,ge]=F.useState({}),xe=F.useRef(null),be=F.useRef(null);F.useEffect(()=>{console.log("load Paper Context",h),st(),d===Vr.READING?Ve():d===Vr.ANALYZING&&Oe()},[h]),F.useEffect(()=>{d===Vr.ANALYZING&&Oe()},[w,p,m,y,x]);const Ee=()=>{O(""),$(""),J([]),be.current=null,W([]),ae([ni.CHRONOLOGICAL,ni.RELATIONAL])},Me=()=>{N([]),L({}),X([]),ue([]),ge({}),Ee()},st=async()=>{if(!h){T(null);return}try{const Le=await c(h);T(Le)}catch(Le){console.error("Error fetching paper file:",Le)}},Ve=async()=>{if(!h||!e){Me();return}const ot=(await n([e.id],[h]))[`${e.id}_${h}`]||[],Ht=await r(e.id,h),Ot=await i(e.id,h),gn=(await o([e.id],[h]))[`${e.id}_${h}`]||[];Ee(),Qe(ot,Ht,gn,(Ot==null?void 0:Ot.reactFlowJson)||"")},Oe=async()=>{if(!h||!e||h!==E){Me();return}w===Gn.PAPERS?Qe(void 0,void 0,void 0,void 0):w===Gn.USERS?Qe(Object.values(p).flat(),void 0,void 0,void 0):w===Gn.PURPOSES&&Qe(Object.values(p).flat(),Object.values(m).flat(),Object.values(y).flat(),x)},Qe=(Le,ot,Ht,Ot)=>{N(Le||[]),L((ot==null?void 0:ot.reduce((gn,jt)=>(gn[jt.id]=jt,gn),{}))||{}),ge((Ht==null?void 0:Ht.reduce((gn,jt)=>(gn[jt.id]=jt,gn),{}))||{}),J((ot==null?void 0:ot.map(gn=>gn.id))||[]);const qt=JSON.parse(Ot||"{}");X(qt.nodes||[]),ue(qt.edges||[])};F.useEffect(()=>{ue(Y==null?void 0:Y.map(Le=>({...Le,hidden:!ee.includes(Le.type??"")})))},[ee]);const Ye=async()=>{var gn,jt;if(!R.current||!((gn=e==null?void 0:e.aiConfig)!=null&&gn.enabled)||!((jt=e==null?void 0:e.aiConfig)!=null&&jt.apiKey))return{};const Le=await R.current.getAllText(),ot=Object.keys(M).length>0?Object.values(M).map((En,Hr)=>`${Hr+1}. ${En.title}: ${En.description}`).join(`
`):"No reading goals have been completed yet.",Ot=e.aiConfig.customPrompt+`

`+ot+`

Below is the full text of the paper:
`+Le,qt=await pn(Ot);return qt?JSON.parse(qt):{}},dt=Le=>{var ot;if(Le.type==="text"){const Ht=((ot=Le.content.text)==null?void 0:ot.trim())??"",Ot=Ht.split(/\s+/),qt=Ot.length>10?Ot.slice(0,10).join(" ")+"...":Ht;return{type:Le.type,label:qt,content:Le.content.text}}else if(Le.type==="area")return{type:Le.type,label:"Image",content:Le.content.image}},Pe=Le=>{const ot=Qd();if(!R.current)return;const Ht=R.current.getPageView(0).height,qt=(Le.position.boundingRect.y1+(Le.position.boundingRect.pageNumber-1)*Ht)/(R.current.pagesCount*Ht),gn=k.filter(jt=>jt.readPurposeId===I).length===0;if(N(jt=>[...jt,{...Le,id:ot,userId:e.id,paperId:h,readPurposeId:I,sessionId:V,timestamp:Date.now(),posPercentage:qt}]),X(jt=>[...jt,{id:ot,type:O9.HIGHLIGHT,data:{id:ot,readPurposeId:I,...dt(Le),notes:""},position:{x:gn?Object.keys(M).findIndex(En=>En===I)*te:Q[Q.length-1].position.x,y:gn?ce:Q[Q.length-1].position.y+ce},style:{backgroundColor:M[I].color}}]),Q.length>0){const jt=Q[Q.length-1].id;ue(En=>[...En,{id:Qd(),source:jt,sourceHandle:`chronological-handle-${jt}-source`,target:ot,targetHandle:`chronological-handle-${ot}-target`,type:ni.CHRONOLOGICAL,markerEnd:Lk,hidden:!ee.includes(ni.CHRONOLOGICAL)}])}},ut=Le=>{let ot=[...Y];const Ht=Y.filter(jt=>jt.type===ni.CHRONOLOGICAL&&jt.target===Le),Ot=Ht.length>0?Ht[0].source:null,qt=Y.filter(jt=>jt.type===ni.CHRONOLOGICAL&&jt.source===Le),gn=qt.length>0?qt[0].target:null;Ot&&gn&&(ot=[...ot,{id:Qd(),source:Ot,sourceHandle:`chronological-handle-${Ot}-source`,target:gn,targetHandle:`chronological-handle-${gn}-target`,type:ni.CHRONOLOGICAL,markerEnd:Lk,hidden:!ee.includes(ni.CHRONOLOGICAL)}]),ot=ot.filter(jt=>jt.id!==Le&&jt.source!==Le&&jt.target!==Le),ue(ot),X(Q.filter(jt=>jt.id!==Le)),N(k.filter(jt=>jt.id!==Le)),W(jt=>jt.filter(En=>En!==Le))},rt=(Le,ot)=>{let Ht=[...Q];Ht=Ht.map(Ot=>Ot.id===Le?{...Ot,data:{...Ot.data,...ot}}:Ot),X(Ht)},mt=Le=>K.includes(Le)?M[Le].color:"#e6e6e6",ve=Le=>{z.forEach(ot=>{if(z.includes(Le.target))return;const Ht={source:ot,target:Le.target,sourceHandle:`relational-handle-${ot}-source`,targetHandle:`relational-handle-${Le.target}-target`,id:`relational-${ot}-${Le.target}`,type:ni.RELATIONAL,markerEnd:F9,hidden:!ee.includes(ni.RELATIONAL)};ue(Ot=>wJ(Ht,Ot))}),W([])},Ce=(Le,ot)=>{if(Le.length<2)return;let Ht=[...Q];const Ot=Qd(),qt=Q.filter(En=>Le.includes(En.id)),gn={id:Ot,type:O9.THEME,data:{id:Ot,readPurposeId:I,label:ot||`Group (${Le.length} nodes)`,notes:""},position:{x:qt.reduce((En,Hr)=>En+Hr.position.x,0)/qt.length+te,y:qt.reduce((En,Hr)=>En+Hr.position.y,0)/qt.length},style:{backgroundColor:M[I].color}};if(Ht.length>0){const En=Ht[Ht.length-1].id;ue(Hr=>[...Hr,{id:`chronological-${Ot}`,source:En,sourceHandle:`chronological-handle-${En}-source`,target:Ot,targetHandle:`chronological-handle-${Ot}-target`,type:ni.CHRONOLOGICAL,markerEnd:Lk,hidden:!ee.includes(ni.CHRONOLOGICAL)}])}const jt=Le.map(En=>({id:`group-${Ot}-${En}`,source:Ot,sourceHandle:`relational-handle-${Ot}-source`,target:En,targetHandle:`relational-handle-${En}-target`,type:ni.RELATIONAL,markerEnd:F9,hidden:!ee.includes(ni.RELATIONAL)}));Ht=[...Ht,gn],X(Ht),ue(En=>[...En,...jt])},Ue=Le=>{console.log("Delete highlight",Le),N(k.filter(ot=>ot.id!==Le)),X(Q.filter(ot=>ot.id!==Le)),ue(Y.filter(ot=>ot.id!==Le&&ot.source!==Le&&ot.target!==Le)),W([])},nt=()=>{console.log("Reset highlights"),N([]),X([]),ue([]),W([])},Re=(Le,ot,Ht,Ot)=>{if(!e||!h)return;const qt=Ot||Qd();L(gn=>({...gn,[qt]:{id:qt,paperId:h,userId:e.id,title:Le,color:ot,description:Ht||""}})),O(qt),Xe(qt,!0)},Xe=(Le,ot=!1)=>{if(K.includes(Le)){if(ot)return;J(K.filter(Ht=>Ht!==Le))}else J([...K,Le])},Zt=Le=>{console.log("Creating new reading session",Le);const ot=Qd();$(ot);const Ht=Date.now(),Ot=R.current.scroll.lastY/(R.current.pagesCount*R.current.getPageView(0).height);return ge(qt=>({...qt,[ot]:{id:ot,userId:e.id,paperId:h,readPurposeId:Le,startTime:Ht,duration:0,scrollSequence:[Ot]}})),ot},$t=()=>{if(!be.current||!R.current)return;const Le=be.current;if(!Le)return;const ot=Date.now(),Ht=R.current.container.clientHeight/2,Ot=(R.current.scroll.lastY+Ht)/(R.current.pagesCount*R.current.getPageView(0).height);ge(qt=>({...qt,[Le]:{...qt[Le],duration:ot-qt[Le].startTime,scrollSequence:[...qt[Le].scrollSequence,Ot]}}))},en=()=>{xe.current=setInterval(()=>{$t()},dte)},Je=()=>{console.log("Stopping current update interval"),xe.current&&(clearInterval(xe.current),xe.current=null)};F.useEffect(()=>{if(Je(),I!==""){const Le=Zt(I);be.current=Le,Xe(I,!0),en()}return()=>{Je()}},[I]),F.useEffect(()=>{const Le=()=>{document.hidden&&be.current?(Je(),console.log("Visibility change: Hidden",be.current)):!document.hidden&&be.current&&(en(),console.log("Visibility change: Visible",be.current))};return document.addEventListener("visibilitychange",Le),()=>{document.removeEventListener("visibilitychange",Le)}},[be.current]);const Lt=async()=>{if(!e){alert("Please login to save your work");return}try{const Le=Object.values(M);await s(Le),await a(k),await l(Object.values(fe));const Ht={id:`${e.id}_${h}`,userId:e.id,paperId:h,reactFlowJson:JSON.stringify({nodes:Q,edges:Y})};await u(Ht)}catch(Le){console.error("Error saving data:",Le),alert("Failed to save data. Please try again.")}},pn=async(Le,ot)=>{var qt,gn;if(!((qt=e==null?void 0:e.aiConfig)!=null&&qt.enabled)||!((gn=e==null?void 0:e.aiConfig)!=null&&gn.apiKey))throw new Error("AI features are not enabled or API key is missing");return(await new tIe({apiKey:e.aiConfig.apiKey}).models.generateContent({model:"gemini-2.5-flash",contents:Le+(ot?`
`+ot:""),config:{systemInstruction:swe,responseMimeType:"application/json",responseSchema:{type:yo.OBJECT,properties:{readingProgress:{type:yo.STRING},readingGoals:{type:yo.ARRAY,items:{type:yo.OBJECT,properties:{goalName:{type:yo.STRING},goalDescription:{type:yo.STRING}}}}}}}})).text??""};return D.jsx(cte.Provider,{value:{paperUrl:S,setPaperUrl:T,generateReadingGoals:Ye,highlights:k,setHighlights:N,addHighlight:Pe,removeHighlight:ut,updateNodeData:rt,deleteHighlight:Ue,resetHighlights:nt,pdfViewerRef:R,nodes:Q,setNodes:X,onNodesChange:j,edges:Y,setEdges:ue,onEdgesChange:q,onConnect:ve,onSelectNode:de,setOnSelectNode:se,createGroupNode:Ce,displayEdgeTypes:ee,setDisplayEdgeTypes:ae,getNodeColor:mt,readPurposes:M,createRead:Re,currentReadId:I,setCurrentReadId:O,currentSessionId:V,setCurrentSessionId:$,displayedReads:K,setReadPurposes:L,toggleRead:Xe,selectedHighlightIds:z,setSelectedHighlightIds:W,readSessions:fe,setReadSessions:ge,stopUpdateReadingSession:Je,query_gemini:pn,saveReadingData:Lt,resetPaperContext:Me,loadPaperContext:Ve},children:t})},Zf=()=>{const t=F.useContext(cte);if(t===void 0)throw new Error("usePaperContext must be used within a PaperContextProvider");return t},oIe=[{target:".upload-pdf",content:"Get started by uploading your first PDF!",placement:"bottom",data:{pause:!0}},{target:".add-new-read-btn",content:"Get started with setting up your first read here! Different reads should be mapped to different intentions.",placement:"bottom",data:{pause:!0}},{target:".active-read",content:"You can see what read you are currently on. Any highlight will be associated with the selected read. Use this to also toggle between your reads.",placement:"left-end"},{target:".pdf-container",content:"Get started by highlighting your first highlight! You can also hold option and take a screenshot as a highlight",placement:"right"},{target:".pdf-container",content:"Each highlight you make will create a node corresponding to that node and the current read you are on. With this node, you are able to link them to other nodes, generate summaries & definitions, as well as take your own notes.",placement:"right"}],AR=F.createContext(void 0),sIe=({children:t})=>{const[e,n]=F.useState(!1),[r,i]=F.useState(oIe),[o,s]=F.useState(0);return D.jsx(AR.Provider,{value:{runTour:e,setRunTour:n,steps:r,setSteps:i,stepIndex:o,setStepIndex:s},children:t})},aIe=()=>{const t=F.useContext(AR);if(t===void 0)throw new Error("useTourContext must be used within a TourContextProvider");return t},pw={black:"#000",white:"#fff"},Cm={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Tm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Am={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Rm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Pm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},gb={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},lIe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function id(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const RR="$$material";function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function uIe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cIe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dIe=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cIe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=uIe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ao="-ms-",HT="-moz-",zn="-webkit-",fte="comm",t4="rule",n4="decl",fIe="@import",hte="@keyframes",hIe="@layer",pIe=Math.abs,PR=String.fromCharCode,gIe=Object.assign;function mIe(t,e){return Ki(t,0)^45?(((e<<2^Ki(t,0))<<2^Ki(t,1))<<2^Ki(t,2))<<2^Ki(t,3):0}function pte(t){return t.trim()}function yIe(t,e){return(t=e.exec(t))?t[0]:t}function Hn(t,e,n){return t.replace(e,n)}function PO(t,e){return t.indexOf(e)}function Ki(t,e){return t.charCodeAt(e)|0}function gw(t,e,n){return t.slice(e,n)}function fu(t){return t.length}function r4(t){return t.length}function EE(t,e){return e.push(t),t}function vIe(t,e){return t.map(e).join("")}var IR=1,Qv=1,gte=0,hs=0,si=0,w0="";function kR(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:IR,column:Qv,length:s,return:""}}function mb(t,e){return gIe(kR("",null,null,"",null,null,0),t,{length:-t.length},e)}function bIe(){return si}function xIe(){return si=hs>0?Ki(w0,--hs):0,Qv--,si===10&&(Qv=1,IR--),si}function qs(){return si=hs<gte?Ki(w0,hs++):0,Qv++,si===10&&(Qv=1,IR++),si}function Au(){return Ki(w0,hs)}function SC(){return hs}function C1(t,e){return gw(w0,t,e)}function mw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mte(t){return IR=Qv=1,gte=fu(w0=t),hs=0,[]}function yte(t){return w0="",t}function EC(t){return pte(C1(hs-1,IO(t===91?t+2:t===40?t+1:t)))}function wIe(t){for(;(si=Au())&&si<33;)qs();return mw(t)>2||mw(si)>3?"":" "}function _Ie(t,e){for(;--e&&qs()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return C1(t,SC()+(e<6&&Au()==32&&qs()==32))}function IO(t){for(;qs();)switch(si){case t:return hs;case 34:case 39:t!==34&&t!==39&&IO(si);break;case 40:t===41&&IO(t);break;case 92:qs();break}return hs}function SIe(t,e){for(;qs()&&t+si!==57;)if(t+si===84&&Au()===47)break;return"/*"+C1(e,hs-1)+"*"+PR(t===47?t:qs())}function EIe(t){for(;!mw(Au());)qs();return C1(t,hs)}function CIe(t){return yte(CC("",null,null,null,[""],t=mte(t),0,[0],t))}function CC(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,p=0,m=0,y=1,x=1,w=1,E=0,S="",T=i,k=o,N=r,R=S;x;)switch(m=E,E=qs()){case 40:if(m!=108&&Ki(R,d-1)==58){PO(R+=Hn(EC(E),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:R+=EC(E);break;case 9:case 10:case 13:case 32:R+=wIe(m);break;case 92:R+=_Ie(SC()-1,7);continue;case 47:switch(Au()){case 42:case 47:EE(TIe(SIe(qs(),SC()),e,n),l);break;default:R+="/"}break;case 123*y:a[u++]=fu(R)*w;case 125*y:case 59:case 0:switch(E){case 0:case 125:x=0;case 59+c:w==-1&&(R=Hn(R,/\f/g,"")),p>0&&fu(R)-d&&EE(p>32?B9(R+";",r,n,d-1):B9(Hn(R," ","")+";",r,n,d-2),l);break;case 59:R+=";";default:if(EE(N=$9(R,e,n,u,c,i,a,S,T=[],k=[],d),o),E===123)if(c===0)CC(R,e,N,N,T,o,d,a,k);else switch(h===99&&Ki(R,3)===110?100:h){case 100:case 108:case 109:case 115:CC(t,N,N,r&&EE($9(t,N,N,0,0,i,a,S,i,T=[],d),k),i,k,d,a,r?T:k);break;default:CC(R,N,N,N,[""],k,0,a,k)}}u=c=p=0,y=w=1,S=R="",d=s;break;case 58:d=1+fu(R),p=m;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&xIe()==125)continue}switch(R+=PR(E),E*y){case 38:w=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(fu(R)-1)*w,w=1;break;case 64:Au()===45&&(R+=EC(qs())),h=Au(),c=d=fu(S=R+=EIe(SC())),E++;break;case 45:m===45&&fu(R)==2&&(y=0)}}return o}function $9(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],p=r4(h),m=0,y=0,x=0;m<r;++m)for(var w=0,E=gw(t,d+1,d=pIe(y=s[m])),S=t;w<p;++w)(S=pte(y>0?h[w]+" "+E:Hn(E,/&\f/g,h[w])))&&(l[x++]=S);return kR(t,e,n,i===0?t4:a,l,u,c)}function TIe(t,e,n){return kR(t,e,n,fte,PR(bIe()),gw(t,2,-2),0)}function B9(t,e,n,r){return kR(t,e,n,n4,gw(t,0,r),gw(t,r+1,-1),r)}function Py(t,e){for(var n="",r=r4(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function AIe(t,e,n,r){switch(t.type){case hIe:if(t.children.length)break;case fIe:case n4:return t.return=t.return||t.value;case fte:return"";case hte:return t.return=t.value+"{"+Py(t.children,r)+"}";case t4:t.value=t.props.join(",")}return fu(n=Py(t.children,r))?t.return=t.value+"{"+n+"}":""}function RIe(t){var e=r4(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function PIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function vte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var IIe=function(e,n,r){for(var i=0,o=0;i=o,o=Au(),i===38&&o===12&&(n[r]=1),!mw(o);)qs();return C1(e,hs)},kIe=function(e,n){var r=-1,i=44;do switch(mw(i)){case 0:i===38&&Au()===12&&(n[r]=1),e[r]+=IIe(hs-1,n,r);break;case 2:e[r]+=EC(i);break;case 4:if(i===44){e[++r]=Au()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=PR(i)}while(i=qs());return e},MIe=function(e,n){return yte(kIe(mte(e),n))},V9=new WeakMap,NIe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!V9.get(r))&&!i){V9.set(e,!0);for(var o=[],s=MIe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},DIe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bte(t,e){switch(mIe(t,e)){case 5103:return zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return zn+t+HT+t+ao+t+t;case 6828:case 4268:return zn+t+ao+t+t;case 6165:return zn+t+ao+"flex-"+t+t;case 5187:return zn+t+Hn(t,/(\w+).+(:[^]+)/,zn+"box-$1$2"+ao+"flex-$1$2")+t;case 5443:return zn+t+ao+"flex-item-"+Hn(t,/flex-|-self/,"")+t;case 4675:return zn+t+ao+"flex-line-pack"+Hn(t,/align-content|flex-|-self/,"")+t;case 5548:return zn+t+ao+Hn(t,"shrink","negative")+t;case 5292:return zn+t+ao+Hn(t,"basis","preferred-size")+t;case 6060:return zn+"box-"+Hn(t,"-grow","")+zn+t+ao+Hn(t,"grow","positive")+t;case 4554:return zn+Hn(t,/([^-])(transform)/g,"$1"+zn+"$2")+t;case 6187:return Hn(Hn(Hn(t,/(zoom-|grab)/,zn+"$1"),/(image-set)/,zn+"$1"),t,"")+t;case 5495:case 3959:return Hn(t,/(image-set\([^]*)/,zn+"$1$`$1");case 4968:return Hn(Hn(t,/(.+:)(flex-)?(.*)/,zn+"box-pack:$3"+ao+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zn+t+t;case 4095:case 3583:case 4068:case 2532:return Hn(t,/(.+)-inline(.+)/,zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(fu(t)-1-e>6)switch(Ki(t,e+1)){case 109:if(Ki(t,e+4)!==45)break;case 102:return Hn(t,/(.+:)(.+)-([^]+)/,"$1"+zn+"$2-$3$1"+HT+(Ki(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~PO(t,"stretch")?bte(Hn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ki(t,e+1)!==115)break;case 6444:switch(Ki(t,fu(t)-3-(~PO(t,"!important")&&10))){case 107:return Hn(t,":",":"+zn)+t;case 101:return Hn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zn+(Ki(t,14)===45?"inline-":"")+"box$3$1"+zn+"$2$3$1"+ao+"$2box$3")+t}break;case 5936:switch(Ki(t,e+11)){case 114:return zn+t+ao+Hn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return zn+t+ao+Hn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return zn+t+ao+Hn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return zn+t+ao+t+t}return t}var LIe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case n4:e.return=bte(e.value,e.length);break;case hte:return Py([mb(e,{value:Hn(e.value,"@","@"+zn)})],i);case t4:if(e.length)return vIe(e.props,function(o){switch(yIe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Py([mb(e,{props:[Hn(o,/:(read-\w+)/,":"+HT+"$1")]})],i);case"::placeholder":return Py([mb(e,{props:[Hn(o,/:(plac\w+)/,":"+zn+"input-$1")]}),mb(e,{props:[Hn(o,/:(plac\w+)/,":"+HT+"$1")]}),mb(e,{props:[Hn(o,/:(plac\w+)/,ao+"input-$1")]})],i)}return""})}},OIe=[LIe],FIe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||OIe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),w=1;w<x.length;w++)o[x[w]]=!0;a.push(y)});var l,u=[NIe,DIe];{var c,d=[AIe,PIe(function(y){c.insert(y)})],h=RIe(u.concat(i,d)),p=function(x){return Py(CIe(x),h)};l=function(x,w,E,S){c=E,p(x?x+"{"+w.styles+"}":w.styles),S&&(m.inserted[w.name]=!0)}}var m={key:n,sheet:new dIe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},Ok={exports:{}},Wn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9;function $Ie(){if(z9)return Wn;z9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,w=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case l:case u:case r:case o:case i:case d:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case m:case p:case s:return k;default:return N}}case n:return N}}}function T(k){return S(k)===u}return Wn.AsyncMode=l,Wn.ConcurrentMode=u,Wn.ContextConsumer=a,Wn.ContextProvider=s,Wn.Element=e,Wn.ForwardRef=c,Wn.Fragment=r,Wn.Lazy=m,Wn.Memo=p,Wn.Portal=n,Wn.Profiler=o,Wn.StrictMode=i,Wn.Suspense=d,Wn.isAsyncMode=function(k){return T(k)||S(k)===l},Wn.isConcurrentMode=T,Wn.isContextConsumer=function(k){return S(k)===a},Wn.isContextProvider=function(k){return S(k)===s},Wn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Wn.isForwardRef=function(k){return S(k)===c},Wn.isFragment=function(k){return S(k)===r},Wn.isLazy=function(k){return S(k)===m},Wn.isMemo=function(k){return S(k)===p},Wn.isPortal=function(k){return S(k)===n},Wn.isProfiler=function(k){return S(k)===o},Wn.isStrictMode=function(k){return S(k)===i},Wn.isSuspense=function(k){return S(k)===d},Wn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===o||k===i||k===d||k===h||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===p||k.$$typeof===s||k.$$typeof===a||k.$$typeof===c||k.$$typeof===x||k.$$typeof===w||k.$$typeof===E||k.$$typeof===y)},Wn.typeOf=S,Wn}var U9;function BIe(){return U9||(U9=1,Ok.exports=$Ie()),Ok.exports}var Fk,H9;function VIe(){if(H9)return Fk;H9=1;var t=BIe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(m){return t.isMemo(m)?i:o[m.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function p(m,y,x){if(typeof y!="string"){if(h){var w=d(y);w&&w!==h&&p(m,w,x)}var E=l(y);u&&(E=E.concat(u(y)));for(var S=s(m),T=s(y),k=0;k<E.length;++k){var N=E[k];if(!n[N]&&!(x&&x[N])&&!(T&&T[N])&&!(S&&S[N])){var R=c(y,N);try{a(m,N,R)}catch{}}}}return m}return Fk=p,Fk}VIe();var zIe=!0;function xte(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var i4=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},o4=function(e,n,r){i4(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function UIe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var HIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qIe=/[A-Z]|^ms/g,jIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wte=function(e){return e.charCodeAt(1)===45},q9=function(e){return e!=null&&typeof e!="boolean"},$k=vte(function(t){return wte(t)?t:t.replace(qIe,"-$&").toLowerCase()}),j9=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(jIe,function(r,i,o){return hu={name:i,styles:o,next:hu},i})}return HIe[e]!==1&&!wte(e)&&typeof n=="number"&&n!==0?n+"px":n};function yw(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return hu={name:i.name,styles:i.styles,next:hu},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)hu={name:s.name,styles:s.styles,next:hu},s=s.next;var a=o.styles+";";return a}return WIe(t,e,n)}case"function":{if(t!==void 0){var l=hu,u=n(t);return hu=l,yw(t,e,u)}break}}var c=n;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function WIe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=yw(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":q9(a)&&(r+=$k(o)+":"+j9(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)q9(s[l])&&(r+=$k(o)+":"+j9(o,s[l])+";");else{var u=yw(t,e,s);switch(o){case"animation":case"animationName":{r+=$k(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var W9=/label:\s*([^\s;{]+)\s*(;|$)/g,hu;function T1(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";hu=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=yw(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=yw(n,e,t[a]),r){var l=o;i+=l[a]}W9.lastIndex=0;for(var u="",c;(c=W9.exec(i))!==null;)u+="-"+c[1];var d=UIe(i)+u;return{name:d,styles:i,next:hu}}var GIe=function(e){return e()},_te=AL.useInsertionEffect?AL.useInsertionEffect:!1,Ste=_te||GIe,G9=_te||F.useLayoutEffect,Ete=F.createContext(typeof HTMLElement<"u"?FIe({key:"css"}):null);Ete.Provider;var s4=function(e){return F.forwardRef(function(n,r){var i=F.useContext(Ete);return e(n,i,r)})},MR=F.createContext({}),a4={}.hasOwnProperty,kO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",KIe=function(e,n){var r={};for(var i in n)a4.call(n,i)&&(r[i]=n[i]);return r[kO]=e,r},YIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return i4(n,r,i),Ste(function(){return o4(n,r,i)}),null},XIe=s4(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[kO],o=[r],s="";typeof t.className=="string"?s=xte(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=T1(o,void 0,F.useContext(MR));s+=e.key+"-"+a.name;var l={};for(var u in t)a4.call(t,u)&&u!=="css"&&u!==kO&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),F.createElement(F.Fragment,null,F.createElement(YIe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),F.createElement(i,l))}),JIe=XIe,K9=function(e,n){var r=arguments;if(n==null||!a4.call(n,"css"))return F.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=JIe,o[1]=KIe(e,n);for(var s=2;s<i;s++)o[s]=r[s];return F.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(K9||(K9={}));var QIe=s4(function(t,e){var n=t.styles,r=T1([n],void 0,F.useContext(MR)),i=F.useRef();return G9(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),G9(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&o4(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function l4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T1(e)}function A1(){var t=l4.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ZIe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eke=vte(function(t){return ZIe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),tke=eke,nke=function(e){return e!=="theme"},Y9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?tke:nke},X9=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},rke=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return i4(n,r,i),Ste(function(){return o4(n,r,i)}),null},ike=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=X9(e,n,r),l=a||Y9(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{var h=c[0];d.push(h[0]);for(var p=c.length,m=1;m<p;m++)d.push(c[m],h[m])}var y=s4(function(x,w,E){var S=u&&x.as||i,T="",k=[],N=x;if(x.theme==null){N={};for(var R in x)N[R]=x[R];N.theme=F.useContext(MR)}typeof x.className=="string"?T=xte(w.registered,k,x.className):x.className!=null&&(T=x.className+" ");var M=T1(d.concat(k),w.registered,N);T+=w.key+"-"+M.name,s!==void 0&&(T+=" "+s);var L=u&&a===void 0?Y9(S):l,I={};for(var O in x)u&&O==="as"||L(O)&&(I[O]=x[O]);return I.className=T,E&&(I.ref=E),F.createElement(F.Fragment,null,F.createElement(rke,{cache:w,serialized:M,isStringTag:typeof S=="string"}),F.createElement(S,I))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(x,w){var E=t(x,UT({},n,w,{shouldForwardProp:X9(y,w,!0)}));return E.apply(void 0,d)},y}},oke=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],MO=ike.bind(null);oke.forEach(function(t){MO[t]=MO(t)});var Bk={exports:{}},Vk,J9;function ske(){if(J9)return Vk;J9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vk=t,Vk}var zk,Q9;function ake(){if(Q9)return zk;Q9=1;var t=ske();function e(){}function n(){}return n.resetWarningCache=e,zk=function(){function r(s,a,l,u,c,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},zk}var Z9;function u4(){return Z9||(Z9=1,Bk.exports=ake()()),Bk.exports}var lke=u4();const me=xo(lke);function uke(t){return t==null||Object.keys(t).length===0}function cke(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(uke(i)?n:i):e;return D.jsx(QIe,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Cte(t,e){return MO(t,e)}function dke(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const eq=[];function tq(t){return eq[0]=t,T1(eq)}var Uk={exports:{}},er={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nq;function fke(){if(nq)return er;nq=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case t:switch(y=y.type,y){case n:case i:case r:case l:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case s:case a:case d:case c:return y;case o:return y;default:return x}}case e:return x}}}return er.ContextConsumer=o,er.ContextProvider=s,er.Element=t,er.ForwardRef=a,er.Fragment=n,er.Lazy=d,er.Memo=c,er.Portal=e,er.Profiler=i,er.StrictMode=r,er.Suspense=l,er.SuspenseList=u,er.isContextConsumer=function(y){return m(y)===o},er.isContextProvider=function(y){return m(y)===s},er.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},er.isForwardRef=function(y){return m(y)===a},er.isFragment=function(y){return m(y)===n},er.isLazy=function(y){return m(y)===d},er.isMemo=function(y){return m(y)===c},er.isPortal=function(y){return m(y)===e},er.isProfiler=function(y){return m(y)===i},er.isStrictMode=function(y){return m(y)===r},er.isSuspense=function(y){return m(y)===l},er.isSuspenseList=function(y){return m(y)===u},er.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===c||y.$$typeof===s||y.$$typeof===o||y.$$typeof===a||y.$$typeof===p||y.getModuleId!==void 0)},er.typeOf=m,er}var rq;function hke(){return rq||(rq=1,Uk.exports=fke()),Uk.exports}var Tte=hke();function mu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ate(t){if(F.isValidElement(t)||Tte.isValidElementType(t)||!mu(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Ate(t[n])}),e}function Ni(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return mu(t)&&mu(e)&&Object.keys(e).forEach(i=>{F.isValidElement(e[i])||Tte.isValidElementType(e[i])?r[i]=e[i]:mu(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&mu(t[i])?r[i]=Ni(t[i],e[i],n):n.clone?r[i]=mu(e[i])?Ate(e[i]):e[i]:r[i]=e[i]}),r}const pke=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function gke(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=pke(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function c(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:u,only:c,not:d,unit:n,...i}}function mke(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function yke(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function vke(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function bke(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const xke={borderRadius:4};function Dx(t,e){return e?Ni(t,e,{clone:!1}):t}const NR={xs:0,sm:600,md:900,lg:1200,xl:1536},iq={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${NR[t]}px)`},wke={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:NR[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function yl(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||iq;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||iq;return Object.keys(e).reduce((s,a)=>{if(yke(o.keys,a)){const l=vke(r.containerQueries?r:wke,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||NR).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function Rte(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function Pte(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function _ke(t,...e){const n=Rte(t),r=[n,...e].reduce((i,o)=>Ni(i,o),{});return Pte(Object.keys(n),r)}function Ske(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Hk({values:t,breakpoints:e,base:n}){const r=n||Ske(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function De(t){if(typeof t!="string")throw new Error(id(7));return t.charAt(0).toUpperCase()+t.slice(1)}function If(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function qT(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=If(t,n)||r,e&&(i=e(i,r,t)),i}function Xr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=If(l,r)||{};return yl(s,a,d=>{let h=qT(u,i,d);return d===h&&typeof d=="string"&&(h=qT(u,i,`${e}${d==="default"?"":De(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function Eke(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Cke={m:"margin",p:"padding"},Tke={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},oq={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Ake=Eke(t=>{if(t.length>2)if(oq[t])t=oq[t];else return[t];const[e,n]=t.split(""),r=Cke[e],i=Tke[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),c4=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...c4,...d4];function R1(t,e,n,r){const i=If(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function DR(t){return R1(t,"spacing",8)}function eg(t,e){return typeof e=="string"||e==null?e:t(e)}function Rke(t,e){return n=>t.reduce((r,i)=>(r[i]=eg(e,n),r),{})}function Pke(t,e,n,r){if(!e.includes(n))return null;const i=Ake(n),o=Rke(i,r),s=t[n];return yl(t,s,o)}function Ite(t,e){const n=DR(t.theme);return Object.keys(t).map(r=>Pke(t,e,r,n)).reduce(Dx,{})}function Or(t){return Ite(t,c4)}Or.propTypes={};Or.filterProps=c4;function Fr(t){return Ite(t,d4)}Fr.propTypes={};Fr.filterProps=d4;function kte(t=8,e=DR({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function LR(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Dx(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function fa(t){return typeof t!="number"?t:`${t}px solid`}function Ta(t,e){return Xr({prop:t,themeKey:"borders",transform:e})}const Ike=Ta("border",fa),kke=Ta("borderTop",fa),Mke=Ta("borderRight",fa),Nke=Ta("borderBottom",fa),Dke=Ta("borderLeft",fa),Lke=Ta("borderColor"),Oke=Ta("borderTopColor"),Fke=Ta("borderRightColor"),$ke=Ta("borderBottomColor"),Bke=Ta("borderLeftColor"),Vke=Ta("outline",fa),zke=Ta("outlineColor"),OR=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=R1(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:eg(e,r)});return yl(t,t.borderRadius,n)}return null};OR.propTypes={};OR.filterProps=["borderRadius"];LR(Ike,kke,Mke,Nke,Dke,Lke,Oke,Fke,$ke,Bke,OR,Vke,zke);const FR=t=>{if(t.gap!==void 0&&t.gap!==null){const e=R1(t.theme,"spacing",8),n=r=>({gap:eg(e,r)});return yl(t,t.gap,n)}return null};FR.propTypes={};FR.filterProps=["gap"];const $R=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=R1(t.theme,"spacing",8),n=r=>({columnGap:eg(e,r)});return yl(t,t.columnGap,n)}return null};$R.propTypes={};$R.filterProps=["columnGap"];const BR=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=R1(t.theme,"spacing",8),n=r=>({rowGap:eg(e,r)});return yl(t,t.rowGap,n)}return null};BR.propTypes={};BR.filterProps=["rowGap"];const Uke=Xr({prop:"gridColumn"}),Hke=Xr({prop:"gridRow"}),qke=Xr({prop:"gridAutoFlow"}),jke=Xr({prop:"gridAutoColumns"}),Wke=Xr({prop:"gridAutoRows"}),Gke=Xr({prop:"gridTemplateColumns"}),Kke=Xr({prop:"gridTemplateRows"}),Yke=Xr({prop:"gridTemplateAreas"}),Xke=Xr({prop:"gridArea"});LR(FR,$R,BR,Uke,Hke,qke,jke,Wke,Gke,Kke,Yke,Xke);function Iy(t,e){return e==="grey"?e:t}const Jke=Xr({prop:"color",themeKey:"palette",transform:Iy}),Qke=Xr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Iy}),Zke=Xr({prop:"backgroundColor",themeKey:"palette",transform:Iy});LR(Jke,Qke,Zke);function Bs(t){return t<=1&&t!==0?`${t*100}%`:t}const eMe=Xr({prop:"width",transform:Bs}),f4=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||NR[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Bs(n)}};return yl(t,t.maxWidth,e)}return null};f4.filterProps=["maxWidth"];const tMe=Xr({prop:"minWidth",transform:Bs}),nMe=Xr({prop:"height",transform:Bs}),rMe=Xr({prop:"maxHeight",transform:Bs}),iMe=Xr({prop:"minHeight",transform:Bs});Xr({prop:"size",cssProperty:"width",transform:Bs});Xr({prop:"size",cssProperty:"height",transform:Bs});const oMe=Xr({prop:"boxSizing"});LR(eMe,f4,tMe,nMe,rMe,iMe,oMe);const P1={border:{themeKey:"borders",transform:fa},borderTop:{themeKey:"borders",transform:fa},borderRight:{themeKey:"borders",transform:fa},borderBottom:{themeKey:"borders",transform:fa},borderLeft:{themeKey:"borders",transform:fa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:fa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:OR},color:{themeKey:"palette",transform:Iy},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Iy},backgroundColor:{themeKey:"palette",transform:Iy},p:{style:Fr},pt:{style:Fr},pr:{style:Fr},pb:{style:Fr},pl:{style:Fr},px:{style:Fr},py:{style:Fr},padding:{style:Fr},paddingTop:{style:Fr},paddingRight:{style:Fr},paddingBottom:{style:Fr},paddingLeft:{style:Fr},paddingX:{style:Fr},paddingY:{style:Fr},paddingInline:{style:Fr},paddingInlineStart:{style:Fr},paddingInlineEnd:{style:Fr},paddingBlock:{style:Fr},paddingBlockStart:{style:Fr},paddingBlockEnd:{style:Fr},m:{style:Or},mt:{style:Or},mr:{style:Or},mb:{style:Or},ml:{style:Or},mx:{style:Or},my:{style:Or},margin:{style:Or},marginTop:{style:Or},marginRight:{style:Or},marginBottom:{style:Or},marginLeft:{style:Or},marginX:{style:Or},marginY:{style:Or},marginInline:{style:Or},marginInlineStart:{style:Or},marginInlineEnd:{style:Or},marginBlock:{style:Or},marginBlockStart:{style:Or},marginBlockEnd:{style:Or},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:FR},rowGap:{style:BR},columnGap:{style:$R},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bs},maxWidth:{style:f4},minWidth:{transform:Bs},height:{transform:Bs},maxHeight:{transform:Bs},minHeight:{transform:Bs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function sMe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function aMe(t,e){return typeof t=="function"?t(e):t}function lMe(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=If(i,u)||{};return d?d(s):yl(s,r,m=>{let y=qT(h,c,m);return m===y&&typeof m=="string"&&(y=qT(h,c,`${n}${m==="default"?"":De(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??P1;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=Rte(i.breakpoints),c=Object.keys(u);let d=u;return Object.keys(l).forEach(h=>{const p=aMe(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])d=Dx(d,t(h,p,i,o));else{const m=yl({theme:i},p,y=>({[h]:y}));sMe(m,p)?d[h]=e({sx:p,theme:i}):d=Dx(d,m)}else d=Dx(d,t(h,p,i,o))}),mke(i,Pte(c,d))}return Array.isArray(r)?r.map(s):s(r)}return e}const tg=lMe();tg.filterProps=["sx"];function uMe(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function VR(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=gke(n),l=kte(i);let u=Ni({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...xke,...o}},s);return u=bke(u),u.applyStyles=uMe,u=e.reduce((c,d)=>Ni(c,d),u),u.unstable_sxConfig={...P1,...s==null?void 0:s.unstable_sxConfig},u.unstable_sx=function(d){return tg({sx:d,theme:this})},u}function cMe(t){return Object.keys(t).length===0}function dMe(t=null){const e=F.useContext(MR);return!e||cMe(e)?t:e}const fMe=VR();function zR(t=fMe){return dMe(t)}function hMe({styles:t,themeId:e,defaultTheme:n={}}){const r=zR(n),i=typeof t=="function"?t(e&&r[e]||r):t;return D.jsx(cke,{styles:i})}const pMe=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??P1;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function h4(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=pMe(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return mu(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const sq=t=>t,gMe=()=>{let t=sq;return{configure(e){t=e},generate(e){return t(e)},reset(){t=sq}}},Mte=gMe();function Nte(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Nte(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Nte(t))&&(r&&(r+=" "),r+=e);return r}function mMe(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=Cte("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(tg);return F.forwardRef(function(l,u){const c=zR(n),{className:d,component:h="div",...p}=h4(l);return D.jsx(o,{as:h,ref:u,className:je(d,i?i(r):r),theme:e&&c[e]||c,...p})})}const yMe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pt(t,e,n="Mui"){const r=yMe[e];return r?`${n}-${r}`:`${Mte.generate(t)}-${e}`}function It(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Pt(t,i,n)}),r}function Dte(t){const{variants:e,...n}=t,r={variants:e,style:tq(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=tq(i.style))}),r}const vMe=VR();function qk(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function bMe(t){return t?(e,n)=>n[t]:null}function xMe(t,e,n){t.theme=_Me(t.theme)?n:t.theme[e]||t.theme}function TC(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>TC(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return Lte(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function Lte(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function Ote(t={}){const{themeId:e,defaultTheme:n=vMe,rootShouldForwardProp:r=qk,slotShouldForwardProp:i=qk}=t;function o(a){xMe(a,e,n)}return(a,l={})=>{dke(a,k=>k.filter(N=>N!==tg));const{name:u,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:p=bMe(EMe(c)),...m}=l,y=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,x=h||!1;let w=qk;c==="Root"||c==="root"?w=r:c?w=i:SMe(a)&&(w=void 0);const E=Cte(a,{shouldForwardProp:w,label:wMe(),...m}),S=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(R){return TC(R,k)};if(mu(k)){const N=Dte(k);return N.variants?function(M){return TC(M,N)}:N.style}return k},T=(...k)=>{const N=[],R=k.map(S),M=[];if(N.push(o),u&&p&&M.push(function(V){var K,J;const z=(J=(K=V.theme.components)==null?void 0:K[u])==null?void 0:J.styleOverrides;if(!z)return null;const W={};for(const Q in z)W[Q]=TC(V,z[Q]);return p(V,W)}),u&&!y&&M.push(function(V){var W,K;const $=V.theme,z=(K=(W=$==null?void 0:$.components)==null?void 0:W[u])==null?void 0:K.variants;return z?Lte(V,z):null}),x||M.push(tg),Array.isArray(R[0])){const O=R.shift(),V=new Array(N.length).fill(""),$=new Array(M.length).fill("");let z;z=[...V,...O,...$],z.raw=[...V,...O.raw,...$],N.unshift(z)}const L=[...N,...R,...M],I=E(...L);return a.muiName&&(I.muiName=a.muiName),I};return E.withConfig&&(T.withConfig=E.withConfig),T}}function wMe(t,e){return void 0}function _Me(t){for(const e in t)return!1;return!0}function SMe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function EMe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const CMe=Ote();function vw(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=vw(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function TMe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:vw(e.components[n].defaultProps,r)}function AMe({props:t,name:e,defaultTheme:n,themeId:r}){let i=zR(n);return r&&(i=i[r]||i),TMe({theme:i,name:e,props:t})}const wa=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Fte(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function p4(t,e=0,n=1){return Fte(t,e,n)}function RMe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Wf(t){if(t.type)return t;if(t.charAt(0)==="#")return Wf(RMe(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(id(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(id(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const PMe=t=>{const e=Wf(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Qb=(t,e)=>{try{return PMe(t)}catch{return t}};function UR(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $te(t){t=Wf(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),UR({type:a,values:l})}function NO(t){t=Wf(t);let e=t.type==="hsl"||t.type==="hsla"?Wf($te(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function IMe(t,e){const n=NO(t),r=NO(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function cn(t,e){return t=Wf(t),e=p4(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,UR(t)}function CE(t,e,n){try{return cn(t,e)}catch{return t}}function ng(t,e){if(t=Wf(t),e=p4(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return UR(t)}function sr(t,e,n){try{return ng(t,e)}catch{return t}}function rg(t,e){if(t=Wf(t),e=p4(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return UR(t)}function ar(t,e,n){try{return rg(t,e)}catch{return t}}function jT(t,e=.15){return NO(t)>.5?ng(t,e):rg(t,e)}function TE(t,e,n){try{return jT(t,e)}catch{return t}}function aq(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function HR(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Lx(t,e){var n,r,i;return F.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function ps(t){return t&&t.ownerDocument||document}function vl(t){return ps(t).defaultView||window}function lq(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let uq=0;function kMe(t){const[e,n]=F.useState(t),r=t||e;return F.useEffect(()=>{e==null&&(uq+=1,n(`mui-${uq}`))},[e]),r}const MMe={...AL},cq=MMe.useId;function _0(t){if(cq!==void 0){const e=cq();return t??e}return kMe(t)}function bw({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=F.useRef(t!==void 0),[o,s]=F.useState(e),a=i?t:o,l=F.useCallback(u=>{i||s(u)},[]);return[a,l]}function ba(t){const e=F.useRef(t);return wa(()=>{e.current=t}),F.useRef((...n)=>(0,e.current)(...n)).current}function Nr(...t){const e=F.useRef(void 0),n=F.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},t);return F.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const dq={};function Bte(t,e){const n=F.useRef(dq);return n.current===dq&&(n.current=t(e)),n}const NMe=[];function DMe(t){F.useEffect(t,NMe)}class qR{constructor(){vt(this,"currentId",null);vt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});vt(this,"disposeEffect",()=>this.clear)}static create(){return new qR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function zh(){const t=Bte(qR.create).current;return DMe(t.disposeEffect),t}function Zv(t){try{return t.matches(":focus-visible")}catch{}return!1}function Vte(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function kt(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const u=o[l];u&&(s+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[i]=s}return r}function LMe(t){return typeof t=="string"}function zte(t,e,n){return t===void 0||LMe(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Ute(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function fq(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Hte(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=je(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...n,...i,...r};return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const s=Ute({...i,...r}),a=fq(r),l=fq(i),u=e(s),c=je(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...u,...n,...l,...a};return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}function qte(t,e,n){return typeof t=="function"?t(e,n):t}function ig(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:qte(n,r),{props:a,internalRef:l}=Hte({...o,externalSlotProps:s}),u=Nr(l,s==null?void 0:s.ref,(d=t.additionalProps)==null?void 0:d.ref);return zte(e,{...a,ref:u},r)}function _g(t){var e;return parseInt(F.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const OMe=F.createContext(),I1=()=>F.useContext(OMe)??!1,FMe=F.createContext(void 0);function $Me(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?vw(i.defaultProps,r):!i.styleOverrides&&!i.variants?vw(i,r):r}function BMe({props:t,name:e}){const n=F.useContext(FMe);return $Me({props:t,name:e,theme:{components:n}})}const hq={theme:void 0};function VMe(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(hq.theme=i.theme,o=Dte(t(hq)),e=o,n=i.theme),o}}function zMe(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const pq=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},UMe=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},HMe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function jk(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return UMe(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`,d=HMe(a,l);Object.assign(i,{[c]:d}),pq(o,a,`var(${c})`,u),pq(s,a,`var(${c}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function qMe(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:u,css:c,varsWithDefaults:d}=jk(l,e);let h=d;const p={},{[a]:m,...y}=o;if(Object.entries(y||{}).forEach(([S,T])=>{const{vars:k,css:N,varsWithDefaults:R}=jk(T,e);h=Ni(h,R),p[S]={css:N,vars:k}}),m){const{css:S,vars:T,varsWithDefaults:k}=jk(m,e);h=Ni(h,k),p[a]={css:S,vars:T}}function x(S,T){var N,R;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),S){if(k==="media")return t.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((R=(N=o[S])==null?void 0:N.palette)==null?void 0:R.mode)||S})`]:{":root":T}};if(k)return t.defaultColorScheme===S?`:root, ${k.replace("%s",String(S))}`:k.replace("%s",String(S))}return":root"}return{vars:h,generateThemeVars:()=>{let S={...u};return Object.entries(p).forEach(([,{vars:T}])=>{S=Ni(S,T)}),S},generateStyleSheets:()=>{var M,L;const S=[],T=t.defaultColorScheme||"light";function k(I,O){Object.keys(O).length&&S.push(typeof I=="string"?{[I]:{...O}}:I)}k(n(void 0,{...c}),c);const{[T]:N,...R}=p;if(N){const{css:I}=N,O=(L=(M=o[T])==null?void 0:M.palette)==null?void 0:L.mode,V=!r&&O?{colorScheme:O,...I}:{...I};k(n(T,{...V}),V)}return Object.entries(R).forEach(([I,{css:O}])=>{var z,W;const V=(W=(z=o[I])==null?void 0:z.palette)==null?void 0:W.mode,$=!r&&V?{colorScheme:V,...O}:{...O};k(n(I,{...$}),$)}),S}}}function jMe(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const WMe=VR(),GMe=CMe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function KMe(t){return AMe({props:t,name:"MuiStack",defaultTheme:WMe})}function YMe(t,e){const n=F.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(F.cloneElement(e,{key:`separator-${o}`})),r),[])}const XMe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],JMe=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...yl({theme:e},Hk({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=DR(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),o=Hk({values:t.direction,base:i}),s=Hk({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const h=u>0?o[c[u-1]]:"column";o[l]=h}}),n=Ni(n,yl({theme:e},s,(l,u)=>t.useFlexGap?{gap:eg(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${XMe(u?o[u]:t.direction)}`]:eg(r,l)}}))}return n=_ke(e.breakpoints,n),n};function QMe(t={}){const{createStyledComponent:e=GMe,useThemeProps:n=KMe,componentName:r="MuiStack"}=t,i=()=>kt({root:["root"]},l=>Pt(r,l),{}),o=e(JMe);return F.forwardRef(function(l,u){const c=n(l),d=h4(c),{component:h="div",direction:p="column",spacing:m=0,divider:y,children:x,className:w,useFlexGap:E=!1,...S}=d,T={direction:p,spacing:m,useFlexGap:E},k=i();return D.jsx(o,{as:h,ownerState:T,ref:u,className:je(k.root,w),...S,children:y?YMe(x,y):x})})}function jte(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pw.white,default:pw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ZMe=jte();function Wte(){return{text:{primary:pw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const gq=Wte();function mq(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=rg(t.main,i):e==="dark"&&(t.dark=ng(t.main,o)))}function e2e(t="light"){return t==="dark"?{main:Am[200],light:Am[50],dark:Am[400]}:{main:Am[700],light:Am[400],dark:Am[800]}}function t2e(t="light"){return t==="dark"?{main:Tm[200],light:Tm[50],dark:Tm[400]}:{main:Tm[500],light:Tm[300],dark:Tm[700]}}function n2e(t="light"){return t==="dark"?{main:Cm[500],light:Cm[300],dark:Cm[700]}:{main:Cm[700],light:Cm[400],dark:Cm[800]}}function r2e(t="light"){return t==="dark"?{main:Rm[400],light:Rm[300],dark:Rm[700]}:{main:Rm[700],light:Rm[500],dark:Rm[900]}}function i2e(t="light"){return t==="dark"?{main:Pm[400],light:Pm[300],dark:Pm[700]}:{main:Pm[800],light:Pm[500],dark:Pm[900]}}function o2e(t="light"){return t==="dark"?{main:gb[400],light:gb[300],dark:gb[700]}:{main:"#ed6c02",light:gb[500],dark:gb[900]}}function g4(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||e2e(e),s=t.secondary||t2e(e),a=t.error||n2e(e),l=t.info||r2e(e),u=t.success||i2e(e),c=t.warning||o2e(e);function d(y){return IMe(y,gq.text.primary)>=n?gq.text.primary:ZMe.text.primary}const h=({color:y,name:x,mainShade:w=500,lightShade:E=300,darkShade:S=700})=>{if(y={...y},!y.main&&y[w]&&(y.main=y[w]),!y.hasOwnProperty("main"))throw new Error(id(11,x?` (${x})`:"",w));if(typeof y.main!="string")throw new Error(id(12,x?` (${x})`:"",JSON.stringify(y.main)));return mq(y,"light",E,r),mq(y,"dark",S,r),y.contrastText||(y.contrastText=d(y.main)),y};let p;return e==="light"?p=jte():e==="dark"&&(p=Wte()),Ni({common:{...pw},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:lIe,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function s2e(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function a2e(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function l2e(t){return Math.round(t*1e5)/1e5}const yq={textTransform:"uppercase"},vq='"Roboto", "Helvetica", "Arial", sans-serif';function u2e(t,e){const{fontFamily:n=vq,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...d}=typeof e=="function"?e(t):e,h=r/14,p=c||(x=>`${x/l*h}rem`),m=(x,w,E,S,T)=>({fontFamily:n,fontWeight:x,fontSize:p(w),lineHeight:E,...n===vq?{letterSpacing:`${l2e(S/w)}em`}:{},...T,...u}),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,yq),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,yq),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ni({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...y},d,{clone:!1})}const c2e=.2,d2e=.14,f2e=.12;function Sr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${c2e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${d2e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${f2e})`].join(",")}const h2e=["none",Sr(0,2,1,-1,0,1,1,0,0,1,3,0),Sr(0,3,1,-2,0,2,2,0,0,1,5,0),Sr(0,3,3,-2,0,3,4,0,0,1,8,0),Sr(0,2,4,-1,0,4,5,0,0,1,10,0),Sr(0,3,5,-1,0,5,8,0,0,1,14,0),Sr(0,3,5,-1,0,6,10,0,0,1,18,0),Sr(0,4,5,-2,0,7,10,1,0,2,16,1),Sr(0,5,5,-3,0,8,10,1,0,3,14,2),Sr(0,5,6,-3,0,9,12,1,0,3,16,2),Sr(0,6,6,-3,0,10,14,1,0,4,18,3),Sr(0,6,7,-4,0,11,15,1,0,4,20,3),Sr(0,7,8,-4,0,12,17,2,0,5,22,4),Sr(0,7,8,-4,0,13,19,2,0,5,24,4),Sr(0,7,9,-4,0,14,21,2,0,5,26,4),Sr(0,8,9,-5,0,15,22,2,0,6,28,5),Sr(0,8,10,-5,0,16,24,2,0,6,30,5),Sr(0,8,11,-5,0,17,26,2,0,6,32,5),Sr(0,9,11,-5,0,18,28,2,0,7,34,6),Sr(0,9,12,-6,0,19,29,2,0,7,36,6),Sr(0,10,13,-6,0,20,31,3,0,8,38,7),Sr(0,10,13,-6,0,21,33,3,0,8,40,7),Sr(0,10,14,-6,0,22,35,3,0,8,42,7),Sr(0,11,14,-7,0,23,36,3,0,9,44,8),Sr(0,11,15,-7,0,24,38,3,0,9,46,8)],p2e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},g2e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function bq(t){return`${Math.round(t)}ms`}function m2e(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function y2e(t){const e={...p2e,...t.easing},n={...g2e,...t.duration};return{getAutoHeightDuration:m2e,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=o;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:bq(s)} ${a} ${typeof l=="string"?l:bq(l)}`).join(",")},...t,easing:e,duration:n}}const v2e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function b2e(t){return mu(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Gte(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!b2e(a)||s.startsWith("unstable_")?delete r[s]:mu(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function DO(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(id(20));const c=g4(o),d=VR(t);let h=Ni(d,{mixins:a2e(d.breakpoints,r),palette:c,shadows:h2e.slice(),typography:u2e(c,a),transitions:y2e(s),zIndex:{...v2e}});return h=Ni(h,u),h=e.reduce((p,m)=>Ni(p,m),h),h.unstable_sxConfig={...P1,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(m){return tg({sx:m,theme:this})},h.toRuntimeSource=Gte,h}function LO(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const x2e=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=LO(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Kte(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Yte(t){return t==="dark"?x2e:[]}function w2e(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=g4(e);return{palette:o,opacity:{...Kte(o.mode),...n},overlays:r||Yte(o.mode),...i}}function _2e(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const S2e=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],E2e=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return S2e(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function C2e(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Ie(t,e,n){!t[e]&&n&&(t[e]=n)}function Zb(t){return typeof t!="string"||!t.startsWith("hsl")?t:$te(t)}function sc(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Qb(Zb(t[e])))}function T2e(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Hl=t=>{try{return t()}catch{}},A2e=(t="mui")=>zMe(t);function Wk(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=w2e({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=DO({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...Kte(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Yte(i)},s}function R2e(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=_2e,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(n)[0],d=r||(n.light&&c!=="light"?"light":c),h=A2e(o),{[d]:p,light:m,dark:y,...x}=n,w={...x};let E=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(E=!0),!E)throw new Error(id(21,d));const S=Wk(w,E,u,d);m&&!w.light&&Wk(w,m,void 0,"light"),y&&!w.dark&&Wk(w,y,void 0,"dark");let T={defaultColorScheme:d,...S,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:w,font:{...s2e(S.typography),...S.font},spacing:T2e(u.spacing)};Object.keys(T.colorSchemes).forEach(L=>{const I=T.colorSchemes[L].palette,O=V=>{const $=V.split("-"),z=$[1],W=$[2];return h(V,I[z][W])};if(I.mode==="light"&&(Ie(I.common,"background","#fff"),Ie(I.common,"onBackground","#000")),I.mode==="dark"&&(Ie(I.common,"background","#000"),Ie(I.common,"onBackground","#fff")),C2e(I,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),I.mode==="light"){Ie(I.Alert,"errorColor",sr(I.error.light,.6)),Ie(I.Alert,"infoColor",sr(I.info.light,.6)),Ie(I.Alert,"successColor",sr(I.success.light,.6)),Ie(I.Alert,"warningColor",sr(I.warning.light,.6)),Ie(I.Alert,"errorFilledBg",O("palette-error-main")),Ie(I.Alert,"infoFilledBg",O("palette-info-main")),Ie(I.Alert,"successFilledBg",O("palette-success-main")),Ie(I.Alert,"warningFilledBg",O("palette-warning-main")),Ie(I.Alert,"errorFilledColor",Hl(()=>I.getContrastText(I.error.main))),Ie(I.Alert,"infoFilledColor",Hl(()=>I.getContrastText(I.info.main))),Ie(I.Alert,"successFilledColor",Hl(()=>I.getContrastText(I.success.main))),Ie(I.Alert,"warningFilledColor",Hl(()=>I.getContrastText(I.warning.main))),Ie(I.Alert,"errorStandardBg",ar(I.error.light,.9)),Ie(I.Alert,"infoStandardBg",ar(I.info.light,.9)),Ie(I.Alert,"successStandardBg",ar(I.success.light,.9)),Ie(I.Alert,"warningStandardBg",ar(I.warning.light,.9)),Ie(I.Alert,"errorIconColor",O("palette-error-main")),Ie(I.Alert,"infoIconColor",O("palette-info-main")),Ie(I.Alert,"successIconColor",O("palette-success-main")),Ie(I.Alert,"warningIconColor",O("palette-warning-main")),Ie(I.AppBar,"defaultBg",O("palette-grey-100")),Ie(I.Avatar,"defaultBg",O("palette-grey-400")),Ie(I.Button,"inheritContainedBg",O("palette-grey-300")),Ie(I.Button,"inheritContainedHoverBg",O("palette-grey-A100")),Ie(I.Chip,"defaultBorder",O("palette-grey-400")),Ie(I.Chip,"defaultAvatarColor",O("palette-grey-700")),Ie(I.Chip,"defaultIconColor",O("palette-grey-700")),Ie(I.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ie(I.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ie(I.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ie(I.LinearProgress,"primaryBg",ar(I.primary.main,.62)),Ie(I.LinearProgress,"secondaryBg",ar(I.secondary.main,.62)),Ie(I.LinearProgress,"errorBg",ar(I.error.main,.62)),Ie(I.LinearProgress,"infoBg",ar(I.info.main,.62)),Ie(I.LinearProgress,"successBg",ar(I.success.main,.62)),Ie(I.LinearProgress,"warningBg",ar(I.warning.main,.62)),Ie(I.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),Ie(I.Slider,"primaryTrack",ar(I.primary.main,.62)),Ie(I.Slider,"secondaryTrack",ar(I.secondary.main,.62)),Ie(I.Slider,"errorTrack",ar(I.error.main,.62)),Ie(I.Slider,"infoTrack",ar(I.info.main,.62)),Ie(I.Slider,"successTrack",ar(I.success.main,.62)),Ie(I.Slider,"warningTrack",ar(I.warning.main,.62));const V=TE(I.background.default,.8);Ie(I.SnackbarContent,"bg",V),Ie(I.SnackbarContent,"color",Hl(()=>I.getContrastText(V))),Ie(I.SpeedDialAction,"fabHoverBg",TE(I.background.paper,.15)),Ie(I.StepConnector,"border",O("palette-grey-400")),Ie(I.StepContent,"border",O("palette-grey-400")),Ie(I.Switch,"defaultColor",O("palette-common-white")),Ie(I.Switch,"defaultDisabledColor",O("palette-grey-100")),Ie(I.Switch,"primaryDisabledColor",ar(I.primary.main,.62)),Ie(I.Switch,"secondaryDisabledColor",ar(I.secondary.main,.62)),Ie(I.Switch,"errorDisabledColor",ar(I.error.main,.62)),Ie(I.Switch,"infoDisabledColor",ar(I.info.main,.62)),Ie(I.Switch,"successDisabledColor",ar(I.success.main,.62)),Ie(I.Switch,"warningDisabledColor",ar(I.warning.main,.62)),Ie(I.TableCell,"border",ar(CE(I.divider,1),.88)),Ie(I.Tooltip,"bg",CE(I.grey[700],.92))}if(I.mode==="dark"){Ie(I.Alert,"errorColor",ar(I.error.light,.6)),Ie(I.Alert,"infoColor",ar(I.info.light,.6)),Ie(I.Alert,"successColor",ar(I.success.light,.6)),Ie(I.Alert,"warningColor",ar(I.warning.light,.6)),Ie(I.Alert,"errorFilledBg",O("palette-error-dark")),Ie(I.Alert,"infoFilledBg",O("palette-info-dark")),Ie(I.Alert,"successFilledBg",O("palette-success-dark")),Ie(I.Alert,"warningFilledBg",O("palette-warning-dark")),Ie(I.Alert,"errorFilledColor",Hl(()=>I.getContrastText(I.error.dark))),Ie(I.Alert,"infoFilledColor",Hl(()=>I.getContrastText(I.info.dark))),Ie(I.Alert,"successFilledColor",Hl(()=>I.getContrastText(I.success.dark))),Ie(I.Alert,"warningFilledColor",Hl(()=>I.getContrastText(I.warning.dark))),Ie(I.Alert,"errorStandardBg",sr(I.error.light,.9)),Ie(I.Alert,"infoStandardBg",sr(I.info.light,.9)),Ie(I.Alert,"successStandardBg",sr(I.success.light,.9)),Ie(I.Alert,"warningStandardBg",sr(I.warning.light,.9)),Ie(I.Alert,"errorIconColor",O("palette-error-main")),Ie(I.Alert,"infoIconColor",O("palette-info-main")),Ie(I.Alert,"successIconColor",O("palette-success-main")),Ie(I.Alert,"warningIconColor",O("palette-warning-main")),Ie(I.AppBar,"defaultBg",O("palette-grey-900")),Ie(I.AppBar,"darkBg",O("palette-background-paper")),Ie(I.AppBar,"darkColor",O("palette-text-primary")),Ie(I.Avatar,"defaultBg",O("palette-grey-600")),Ie(I.Button,"inheritContainedBg",O("palette-grey-800")),Ie(I.Button,"inheritContainedHoverBg",O("palette-grey-700")),Ie(I.Chip,"defaultBorder",O("palette-grey-700")),Ie(I.Chip,"defaultAvatarColor",O("palette-grey-300")),Ie(I.Chip,"defaultIconColor",O("palette-grey-300")),Ie(I.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ie(I.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ie(I.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ie(I.LinearProgress,"primaryBg",sr(I.primary.main,.5)),Ie(I.LinearProgress,"secondaryBg",sr(I.secondary.main,.5)),Ie(I.LinearProgress,"errorBg",sr(I.error.main,.5)),Ie(I.LinearProgress,"infoBg",sr(I.info.main,.5)),Ie(I.LinearProgress,"successBg",sr(I.success.main,.5)),Ie(I.LinearProgress,"warningBg",sr(I.warning.main,.5)),Ie(I.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),Ie(I.Slider,"primaryTrack",sr(I.primary.main,.5)),Ie(I.Slider,"secondaryTrack",sr(I.secondary.main,.5)),Ie(I.Slider,"errorTrack",sr(I.error.main,.5)),Ie(I.Slider,"infoTrack",sr(I.info.main,.5)),Ie(I.Slider,"successTrack",sr(I.success.main,.5)),Ie(I.Slider,"warningTrack",sr(I.warning.main,.5));const V=TE(I.background.default,.98);Ie(I.SnackbarContent,"bg",V),Ie(I.SnackbarContent,"color",Hl(()=>I.getContrastText(V))),Ie(I.SpeedDialAction,"fabHoverBg",TE(I.background.paper,.15)),Ie(I.StepConnector,"border",O("palette-grey-600")),Ie(I.StepContent,"border",O("palette-grey-600")),Ie(I.Switch,"defaultColor",O("palette-grey-300")),Ie(I.Switch,"defaultDisabledColor",O("palette-grey-600")),Ie(I.Switch,"primaryDisabledColor",sr(I.primary.main,.55)),Ie(I.Switch,"secondaryDisabledColor",sr(I.secondary.main,.55)),Ie(I.Switch,"errorDisabledColor",sr(I.error.main,.55)),Ie(I.Switch,"infoDisabledColor",sr(I.info.main,.55)),Ie(I.Switch,"successDisabledColor",sr(I.success.main,.55)),Ie(I.Switch,"warningDisabledColor",sr(I.warning.main,.55)),Ie(I.TableCell,"border",sr(CE(I.divider,1),.68)),Ie(I.Tooltip,"bg",CE(I.grey[700],.92))}sc(I.background,"default"),sc(I.background,"paper"),sc(I.common,"background"),sc(I.common,"onBackground"),sc(I,"divider"),Object.keys(I).forEach(V=>{const $=I[V];V!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&Ie(I[V],"mainChannel",Qb(Zb($.main))),$.light&&Ie(I[V],"lightChannel",Qb(Zb($.light))),$.dark&&Ie(I[V],"darkChannel",Qb(Zb($.dark))),$.contrastText&&Ie(I[V],"contrastTextChannel",Qb(Zb($.contrastText))),V==="text"&&(sc(I[V],"primary"),sc(I[V],"secondary")),V==="action"&&($.active&&sc(I[V],"active"),$.selected&&sc(I[V],"selected")))})}),T=e.reduce((L,I)=>Ni(L,I),T);const k={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:E2e(T)},{vars:N,generateThemeVars:R,generateStyleSheets:M}=qMe(T,k);return T.vars=N,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([L,I])=>{T[L]=I}),T.generateThemeVars=R,T.generateStyleSheets=M,T.generateSpacing=function(){return kte(u.spacing,DR(this))},T.getColorSchemeSelector=jMe(a),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=s,T.unstable_sxConfig={...P1,...u==null?void 0:u.unstable_sxConfig},T.unstable_sx=function(I){return tg({sx:I,theme:this})},T.toRuntimeSource=Gte,T}function xq(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:g4({...n===!0?{}:n.palette,mode:e})})}function Xte(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return DO(t,...e);let c=n;"palette"in t||u[a]&&(u[a]!==!0?c=u[a].palette:a==="dark"&&(c={mode:"dark"}));const d=DO({...t,palette:c},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},xq(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},xq(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),R2e({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const m4=Xte();function hd(){const t=zR(m4);return t[RR]||t}function Jte(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const wo=t=>Jte(t)&&t!=="classes",Ne=Ote({themeId:RR,defaultTheme:m4,rootShouldForwardProp:wo});function P2e(t){return D.jsx(hMe,{...t,defaultTheme:m4,themeId:RR})}function I2e(t){return function(n){return D.jsx(P2e,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function k2e(){return h4}const Nt=VMe;function Dt(t){return BMe(t)}function M2e(t){return Pt("MuiSvgIcon",t)}It("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const N2e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${De(e)}`,`fontSize${De(n)}`]};return kt(i,M2e,r)},D2e=Ne("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${De(n.color)}`],e[`fontSize${De(n.fontSize)}`]]}})(Nt(({theme:t})=>{var e,n,r,i,o,s,a,l,u,c,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var x,w;return{props:{color:y},style:{color:(w=(x=(t.vars??t).palette)==null?void 0:x[y])==null?void 0:w.main}}}),{props:{color:"action"},style:{color:(h=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),OO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,m=F.isValidElement(i)&&i.type==="svg",y={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m},x={};c||(x.viewBox=h);const w=N2e(y);return D.jsxs(D2e,{as:a,className:je(w.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...x,...p,...m&&i.props,ownerState:y,children:[m?i.props.children:i,d?D.jsx("title",{children:d}):null]})});OO.muiName="SvgIcon";function Ut(t,e){function n(r,i){return D.jsx(OO,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=OO.muiName,F.memo(F.forwardRef(n))}function y4(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const o=typeof e=="function"?e(i):e,s=typeof t=="function"?t({...i,...o}):t,a=je(i==null?void 0:i.className,o==null?void 0:o.className,s==null?void 0:s.className);return{...o,...s,...!!a&&{className:a},...(o==null?void 0:o.style)&&(s==null?void 0:s.style)&&{style:{...o.style,...s.style}},...(o==null?void 0:o.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const n=e,r=je(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!r&&{className:r},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function Qte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FO(t,e){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},FO(t,e)}function Zte(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,FO(t,e)}const wq={disabled:!1},WT=oe.createContext(null);var L2e=function(e){return e.scrollTop},ex="unmounted",kh="exited",Mh="entering",Wm="entered",$O="exiting",El=function(t){Zte(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=kh,o.appearStatus=Mh):l=Wm:r.unmountOnExit||r.mountOnEnter?l=ex:l=kh,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ex?{status:kh}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Mh&&s!==Wm&&(o=Mh):(s===Mh||s===Wm)&&(o=$O)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Mh){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Rf.findDOMNode(this);s&&L2e(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===kh&&this.setState({status:ex})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Rf.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||wq.disabled){this.safeSetState({status:Wm},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Mh},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:Wm},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Rf.findDOMNode(this);if(!o||wq.disabled){this.safeSetState({status:kh},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:$O},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:kh},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Rf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ex)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Qte(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oe.createElement(WT.Provider,{value:null},typeof s=="function"?s(i,a):oe.cloneElement(oe.Children.only(s),a))},e}(oe.Component);El.contextType=WT;El.propTypes={};function Im(){}El.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Im,onEntering:Im,onEntered:Im,onExit:Im,onExiting:Im,onExited:Im};El.UNMOUNTED=ex;El.EXITED=kh;El.ENTERING=Mh;El.ENTERED=Wm;El.EXITING=$O;function O2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v4(t,e){var n=function(o){return e&&F.isValidElement(o)?e(o):o},r=Object.create(null);return t&&F.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function F2e(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Uh(t,e,n){return n[e]!=null?n[e]:t.props[e]}function $2e(t,e){return v4(t.children,function(n){return F.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Uh(n,"appear",t),enter:Uh(n,"enter",t),exit:Uh(n,"exit",t)})})}function B2e(t,e,n){var r=v4(t.children),i=F2e(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(F.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=F.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=F.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Uh(s,"exit",t),enter:Uh(s,"enter",t)}):!l&&a&&!c?i[o]=F.cloneElement(s,{in:!1}):l&&a&&F.isValidElement(u)&&(i[o]=F.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Uh(s,"exit",t),enter:Uh(s,"enter",t)}))}}),i}var V2e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},z2e={component:"div",childFactory:function(e){return e}},b4=function(t){Zte(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(O2e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?$2e(i,a):B2e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=v4(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=UT({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Qte(i,["component","childFactory"]),l=this.state.contextValue,u=V2e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?oe.createElement(WT.Provider,{value:l},u):oe.createElement(WT.Provider,{value:l},oe.createElement(o,a,u))},e}(oe.Component);b4.propTypes={};b4.defaultProps=z2e;const x4=t=>t.scrollTop;function e0(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function U2e(t){return Pt("MuiPaper",t)}It("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const H2e=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return kt(o,U2e,i)},q2e=Ne("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Nt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),cl=F.forwardRef(function(e,n){var p;const r=Dt({props:e,name:"MuiPaper"}),i=hd(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:u="elevation",...c}=r,d={...r,component:s,elevation:a,square:l,variant:u},h=H2e(d);return D.jsx(q2e,{as:s,ownerState:d,className:je(h.root,o),ref:n,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${cn("#fff",LO(a))}, ${cn("#fff",LO(a))})`}},...c.style}})});function Vt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:c={[t]:void 0},slotProps:d={[t]:void 0},...h}=o,p=c[t]||r,m=qte(d[t],i),{props:{component:y,...x},internalRef:w}=Hte({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),E=Nr(w,m==null?void 0:m.ref,e.ref),S=t==="root"?y||u:y,T=zte(p,{...t==="root"&&!u&&!c[t]&&s,...t!=="root"&&!c[t]&&s,...x,...S&&!a&&{as:S},...S&&a&&{component:S},ref:E},i);return[p,T]}class GT{constructor(){vt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new GT}static use(){const e=Bte(GT.create).current,[n,r]=F.useState(!1);return e.shouldMount=n,e.setShouldMount=r,F.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=W2e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function j2e(){return GT.use()}function W2e(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function G2e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,d]=F.useState(!1),h=je(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=je(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),F.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,a,u]),D.jsx("span",{className:h,style:p,children:D.jsx("span",{className:m})})}const da=It("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),BO=550,K2e=80,Y2e=A1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,X2e=A1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,J2e=A1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Q2e=Ne("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Z2e=Ne(G2e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${da.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Y2e};
    animation-duration: ${BO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${da.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${da.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${da.childLeaving} {
    opacity: 0;
    animation-name: ${X2e};
    animation-duration: ${BO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${da.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${J2e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,eNe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,u]=F.useState([]),c=F.useRef(0),d=F.useRef(null);F.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=F.useRef(!1),p=zh(),m=F.useRef(null),y=F.useRef(null),x=F.useCallback(T=>{const{pulsate:k,rippleX:N,rippleY:R,rippleSize:M,cb:L}=T;u(I=>[...I,D.jsx(Z2e,{classes:{ripple:je(o.ripple,da.ripple),rippleVisible:je(o.rippleVisible,da.rippleVisible),ripplePulsate:je(o.ripplePulsate,da.ripplePulsate),child:je(o.child,da.child),childLeaving:je(o.childLeaving,da.childLeaving),childPulsate:je(o.childPulsate,da.childPulsate)},timeout:BO,pulsate:k,rippleX:N,rippleY:R,rippleSize:M},c.current)]),c.current+=1,d.current=L},[o]),w=F.useCallback((T={},k={},N=()=>{})=>{const{pulsate:R=!1,center:M=i||k.pulsate,fakeElement:L=!1}=k;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const I=L?null:y.current,O=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,$,z;if(M||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)V=Math.round(O.width/2),$=Math.round(O.height/2);else{const{clientX:W,clientY:K}=T.touches&&T.touches.length>0?T.touches[0]:T;V=Math.round(W-O.left),$=Math.round(K-O.top)}if(M)z=Math.sqrt((2*O.width**2+O.height**2)/3),z%2===0&&(z+=1);else{const W=Math.max(Math.abs((I?I.clientWidth:0)-V),V)*2+2,K=Math.max(Math.abs((I?I.clientHeight:0)-$),$)*2+2;z=Math.sqrt(W**2+K**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{x({pulsate:R,rippleX:V,rippleY:$,rippleSize:z,cb:N})},p.start(K2e,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:R,rippleX:V,rippleY:$,rippleSize:z,cb:N})},[i,x,p]),E=F.useCallback(()=>{w({},{pulsate:!0})},[w]),S=F.useCallback((T,k)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{S(T,k)});return}m.current=null,u(N=>N.length>0?N.slice(1):N),d.current=k},[p]);return F.useImperativeHandle(n,()=>({pulsate:E,start:w,stop:S}),[E,w,S]),D.jsx(Q2e,{className:je(da.root,o.root,s),ref:y,...a,children:D.jsx(b4,{component:null,exit:!0,children:l})})});function tNe(t){return Pt("MuiButtonBase",t)}const nNe=It("MuiButtonBase",["root","disabled","focusVisible"]),rNe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=kt({root:["root",e&&"disabled",n&&"focusVisible"]},tNe,i);return n&&r&&(s.root+=` ${r}`),s},iNe=Ne("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nNe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),bl=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:y,onClick:x,onContextMenu:w,onDragLeave:E,onFocus:S,onFocusVisible:T,onKeyDown:k,onKeyUp:N,onMouseDown:R,onMouseLeave:M,onMouseUp:L,onTouchEnd:I,onTouchMove:O,onTouchStart:V,tabIndex:$=0,TouchRippleProps:z,touchRippleRef:W,type:K,...J}=r,Q=F.useRef(null),X=j2e(),j=Nr(X.ref,W),[Y,ue]=F.useState(!1);u&&Y&&ue(!1),F.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),Q.current.focus()}}),[]);const q=X.shouldMount&&!c&&!u;F.useEffect(()=>{Y&&h&&!c&&X.pulsate()},[c,h,Y,X]);const de=ac(X,"start",R,d),se=ac(X,"stop",w,d),ee=ac(X,"stop",E,d),ae=ac(X,"stop",L,d),te=ac(X,"stop",Pe=>{Y&&Pe.preventDefault(),M&&M(Pe)},d),ce=ac(X,"start",V,d),fe=ac(X,"stop",I,d),ge=ac(X,"stop",O,d),xe=ac(X,"stop",Pe=>{Zv(Pe.target)||ue(!1),y&&y(Pe)},!1),be=ba(Pe=>{Q.current||(Q.current=Pe.currentTarget),Zv(Pe.target)&&(ue(!0),T&&T(Pe)),S&&S(Pe)}),Ee=()=>{const Pe=Q.current;return l&&l!=="button"&&!(Pe.tagName==="A"&&Pe.href)},Me=ba(Pe=>{h&&!Pe.repeat&&Y&&Pe.key===" "&&X.stop(Pe,()=>{X.start(Pe)}),Pe.target===Pe.currentTarget&&Ee()&&Pe.key===" "&&Pe.preventDefault(),k&&k(Pe),Pe.target===Pe.currentTarget&&Ee()&&Pe.key==="Enter"&&!u&&(Pe.preventDefault(),x&&x(Pe))}),st=ba(Pe=>{h&&Pe.key===" "&&Y&&!Pe.defaultPrevented&&X.stop(Pe,()=>{X.pulsate(Pe)}),N&&N(Pe),x&&Pe.target===Pe.currentTarget&&Ee()&&Pe.key===" "&&!Pe.defaultPrevented&&x(Pe)});let Ve=l;Ve==="button"&&(J.href||J.to)&&(Ve=m);const Oe={};Ve==="button"?(Oe.type=K===void 0?"button":K,Oe.disabled=u):(!J.href&&!J.to&&(Oe.role="button"),u&&(Oe["aria-disabled"]=u));const Qe=Nr(n,Q),Ye={...r,centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:$,focusVisible:Y},dt=rNe(Ye);return D.jsxs(iNe,{as:Ve,className:je(dt.root,a),ownerState:Ye,onBlur:xe,onClick:x,onContextMenu:se,onFocus:be,onKeyDown:Me,onKeyUp:st,onMouseDown:de,onMouseLeave:te,onMouseUp:ae,onDragLeave:ee,onTouchEnd:fe,onTouchMove:ge,onTouchStart:ce,ref:Qe,tabIndex:u?-1:$,type:K,...Oe,...J,children:[s,q?D.jsx(eNe,{ref:j,center:o,...z}):null]})});function ac(t,e,n,r=!1){return ba(i=>(n&&n(i),r||t[e](i),!0))}function oNe(t){return typeof t.main=="string"}function sNe(t,e=[]){if(!oNe(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Kr(t=[]){return([,e])=>e&&sNe(e,t)}function aNe(t){return Pt("MuiAlert",t)}const _q=It("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function lNe(t){return Pt("MuiCircularProgress",t)}It("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const qd=44,VO=A1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,zO=A1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,uNe=typeof VO!="string"?l4`
        animation: ${VO} 1.4s linear infinite;
      `:null,cNe=typeof zO!="string"?l4`
        animation: ${zO} 1.4s ease-in-out infinite;
      `:null,dNe=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${De(r)}`],svg:["svg"],circle:["circle",`circle${De(n)}`,i&&"circleDisableShrink"]};return kt(o,lNe,e)},fNe=Ne("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${De(n.color)}`]]}})(Nt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:uNe||{animation:`${VO} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),hNe=Ne("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),pNe=Ne("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${De(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Nt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:cNe||{animation:`${zO} 1.4s ease-in-out infinite`}}]}))),w4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:u,value:c,variant:d},m=dNe(p),y={},x={},w={};if(d==="determinate"){const E=2*Math.PI*((qd-u)/2);y.strokeDasharray=E.toFixed(3),w["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*E).toFixed(3)}px`,x.transform="rotate(-90deg)"}return D.jsx(fNe,{className:je(m.root,i),style:{width:a,height:a,...x,...l},ownerState:p,ref:n,role:"progressbar",...w,...h,children:D.jsx(hNe,{className:m.svg,ownerState:p,viewBox:`${qd/2} ${qd/2} ${qd} ${qd}`,children:D.jsx(pNe,{className:m.circle,style:y,ownerState:p,cx:qd,cy:qd,r:(qd-u)/2,fill:"none",strokeWidth:u})})})});function gNe(t){return Pt("MuiIconButton",t)}const Sq=It("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),mNe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${De(r)}`,i&&`edge${De(i)}`,`size${De(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return kt(a,gNe,e)},yNe=Ne(bl,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${De(n.color)}`],n.edge&&e[`edge${De(n.edge)}`],e[`size${De(n.size)}`]]}})(Nt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Nt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:cn((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Sq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Sq.loading}`]:{color:"transparent"}}))),vNe=Ne("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),wi=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium",id:d,loading:h=null,loadingIndicator:p,...m}=r,y=_0(d),x=p??D.jsx(w4,{"aria-labelledby":y,color:"inherit",size:16}),w={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:h,loadingIndicator:x,size:c},E=mNe(w);return D.jsxs(yNe,{id:h?y:d,className:je(E.root,s),centerRipple:!0,focusRipple:!u,disabled:l||h,ref:n,...m,ownerState:w,children:[typeof h=="boolean"&&D.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:D.jsx(vNe,{className:E.loadingIndicator,ownerState:w,children:h&&x})}),o]})}),bNe=Ut(D.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),xNe=Ut(D.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),wNe=Ut(D.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),_Ne=Ut(D.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),SNe=Ut(D.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ENe=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${De(n||r)}`,`${e}${De(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return kt(o,aNe,i)},CNe=Ne(cl,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${De(n.color||n.severity)}`]]}})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?ng:rg,n=t.palette.mode==="light"?rg:ng;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Kr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${_q.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Kr(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${_q.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(Kr(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}))]}})),TNe=Ne("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ANe=Ne("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),RNe=Ne("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Eq={success:D.jsx(bNe,{fontSize:"inherit"}),warning:D.jsx(xNe,{fontSize:"inherit"}),error:D.jsx(wNe,{fontSize:"inherit"}),info:D.jsx(_Ne,{fontSize:"inherit"})},Cq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:l,components:u={},componentsProps:c={},icon:d,iconMapping:h=Eq,onClose:p,role:m="alert",severity:y="success",slotProps:x={},slots:w={},variant:E="standard",...S}=r,T={...r,color:l,severity:y,variant:E,colorSeverity:l||y},k=ENe(T),N={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...w},slotProps:{...c,...x}},[R,M]=Vt("root",{ref:n,shouldForwardComponentProp:!0,className:je(k.root,s),elementType:CNe,externalForwardedProps:{...N,...S},ownerState:T,additionalProps:{role:m,elevation:0}}),[L,I]=Vt("icon",{className:k.icon,elementType:TNe,externalForwardedProps:N,ownerState:T}),[O,V]=Vt("message",{className:k.message,elementType:ANe,externalForwardedProps:N,ownerState:T}),[$,z]=Vt("action",{className:k.action,elementType:RNe,externalForwardedProps:N,ownerState:T}),[W,K]=Vt("closeButton",{elementType:wi,externalForwardedProps:N,ownerState:T}),[J,Q]=Vt("closeIcon",{elementType:SNe,externalForwardedProps:N,ownerState:T});return D.jsxs(R,{...M,children:[d!==!1?D.jsx(L,{...I,children:d||h[y]||Eq[y]}):null,D.jsx(O,{...V,children:o}),i!=null?D.jsx($,{...z,children:i}):null,i==null&&p?D.jsx($,{...z,children:D.jsx(W,{size:"small","aria-label":a,title:a,color:"inherit",onClick:p,...K,children:D.jsx(J,{fontSize:"small",...Q})})}):null]})});function PNe(t){return Pt("MuiTypography",t)}const Tq=It("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),INe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},kNe=k2e(),MNe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${De(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return kt(a,PNe,s)},NNe=Ne("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${De(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Nt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Kr()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${De(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Aq={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},tt=F.forwardRef(function(e,n){const{color:r,...i}=Dt({props:e,name:"MuiTypography"}),o=!INe[r],s=kNe({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=Aq,...y}=s,x={...s,align:a,color:r,className:l,component:u,gutterBottom:c,noWrap:d,paragraph:h,variant:p,variantMapping:m},w=u||(h?"p":m[p]||Aq[p])||"span",E=MNe(x);return D.jsx(NNe,{as:w,ref:n,className:je(E.root,l),...y,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});var us="top",_a="bottom",Sa="right",cs="left",_4="auto",k1=[us,_a,Sa,cs],t0="start",xw="end",DNe="clippingParents",ene="viewport",yb="popper",LNe="reference",Rq=k1.reduce(function(t,e){return t.concat([e+"-"+t0,e+"-"+xw])},[]),tne=[].concat(k1,[_4]).reduce(function(t,e){return t.concat([e,e+"-"+t0,e+"-"+xw])},[]),ONe="beforeRead",FNe="read",$Ne="afterRead",BNe="beforeMain",VNe="main",zNe="afterMain",UNe="beforeWrite",HNe="write",qNe="afterWrite",jNe=[ONe,FNe,$Ne,BNe,VNe,zNe,UNe,HNe,qNe];function Ou(t){return t?(t.nodeName||"").toLowerCase():null}function Ws(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function og(t){var e=Ws(t).Element;return t instanceof e||t instanceof Element}function xa(t){var e=Ws(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function S4(t){if(typeof ShadowRoot>"u")return!1;var e=Ws(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function WNe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!xa(o)||!Ou(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function GNe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!xa(i)||!Ou(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const KNe={name:"applyStyles",enabled:!0,phase:"write",fn:WNe,effect:GNe,requires:["computeStyles"]};function Ru(t){return t.split("-")[0]}var Up=Math.max,KT=Math.min,n0=Math.round;function UO(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nne(){return!/^((?!chrome|android).)*safari/i.test(UO())}function r0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&xa(t)&&(i=t.offsetWidth>0&&n0(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&n0(r.height)/t.offsetHeight||1);var s=og(t)?Ws(t):window,a=s.visualViewport,l=!nne()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function E4(t){var e=r0(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function rne(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&S4(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function od(t){return Ws(t).getComputedStyle(t)}function YNe(t){return["table","td","th"].indexOf(Ou(t))>=0}function eh(t){return((og(t)?t.ownerDocument:t.document)||window.document).documentElement}function jR(t){return Ou(t)==="html"?t:t.assignedSlot||t.parentNode||(S4(t)?t.host:null)||eh(t)}function Pq(t){return!xa(t)||od(t).position==="fixed"?null:t.offsetParent}function XNe(t){var e=/firefox/i.test(UO()),n=/Trident/i.test(UO());if(n&&xa(t)){var r=od(t);if(r.position==="fixed")return null}var i=jR(t);for(S4(i)&&(i=i.host);xa(i)&&["html","body"].indexOf(Ou(i))<0;){var o=od(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function M1(t){for(var e=Ws(t),n=Pq(t);n&&YNe(n)&&od(n).position==="static";)n=Pq(n);return n&&(Ou(n)==="html"||Ou(n)==="body"&&od(n).position==="static")?e:n||XNe(t)||e}function C4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ox(t,e,n){return Up(t,KT(e,n))}function JNe(t,e,n){var r=Ox(t,e,n);return r>n?n:r}function ine(){return{top:0,right:0,bottom:0,left:0}}function one(t){return Object.assign({},ine(),t)}function sne(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var QNe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,one(typeof e!="number"?e:sne(e,k1))};function ZNe(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ru(n.placement),l=C4(a),u=[cs,Sa].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=QNe(i.padding,n),h=E4(o),p=l==="y"?us:cs,m=l==="y"?_a:Sa,y=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],x=s[l]-n.rects.reference[l],w=M1(o),E=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,S=y/2-x/2,T=d[p],k=E-h[c]-d[m],N=E/2-h[c]/2+S,R=Ox(T,N,k),M=l;n.modifiersData[r]=(e={},e[M]=R,e.centerOffset=R-N,e)}}function eDe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||rne(e.elements.popper,i)&&(e.elements.arrow=i))}const tDe={name:"arrow",enabled:!0,phase:"main",fn:ZNe,effect:eDe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function i0(t){return t.split("-")[1]}var nDe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rDe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:n0(n*i)/i||0,y:n0(r*i)/i||0}}function Iq(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,y=m===void 0?0:m,x=typeof c=="function"?c({x:p,y}):{x:p,y};p=x.x,y=x.y;var w=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),S=cs,T=us,k=window;if(u){var N=M1(n),R="clientHeight",M="clientWidth";if(N===Ws(n)&&(N=eh(n),od(N).position!=="static"&&a==="absolute"&&(R="scrollHeight",M="scrollWidth")),N=N,i===us||(i===cs||i===Sa)&&o===xw){T=_a;var L=d&&N===k&&k.visualViewport?k.visualViewport.height:N[R];y-=L-r.height,y*=l?1:-1}if(i===cs||(i===us||i===_a)&&o===xw){S=Sa;var I=d&&N===k&&k.visualViewport?k.visualViewport.width:N[M];p-=I-r.width,p*=l?1:-1}}var O=Object.assign({position:a},u&&nDe),V=c===!0?rDe({x:p,y},Ws(n)):{x:p,y};if(p=V.x,y=V.y,l){var $;return Object.assign({},O,($={},$[T]=E?"0":"",$[S]=w?"0":"",$.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},O,(e={},e[T]=E?y+"px":"",e[S]=w?p+"px":"",e.transform="",e))}function iDe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Ru(e.placement),variation:i0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Iq(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Iq(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const oDe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iDe,data:{}};var AE={passive:!0};function sDe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Ws(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,AE)}),a&&l.addEventListener("resize",n.update,AE),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,AE)}),a&&l.removeEventListener("resize",n.update,AE)}}const aDe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sDe,data:{}};var lDe={left:"right",right:"left",bottom:"top",top:"bottom"};function AC(t){return t.replace(/left|right|bottom|top/g,function(e){return lDe[e]})}var uDe={start:"end",end:"start"};function kq(t){return t.replace(/start|end/g,function(e){return uDe[e]})}function T4(t){var e=Ws(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function A4(t){return r0(eh(t)).left+T4(t).scrollLeft}function cDe(t,e){var n=Ws(t),r=eh(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=nne();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+A4(t),y:l}}function dDe(t){var e,n=eh(t),r=T4(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Up(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Up(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+A4(t),l=-r.scrollTop;return od(i||n).direction==="rtl"&&(a+=Up(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function R4(t){var e=od(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ane(t){return["html","body","#document"].indexOf(Ou(t))>=0?t.ownerDocument.body:xa(t)&&R4(t)?t:ane(jR(t))}function Fx(t,e){var n;e===void 0&&(e=[]);var r=ane(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ws(r),s=i?[o].concat(o.visualViewport||[],R4(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Fx(jR(s)))}function HO(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function fDe(t,e){var n=r0(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Mq(t,e,n){return e===ene?HO(cDe(t,n)):og(e)?fDe(e,n):HO(dDe(eh(t)))}function hDe(t){var e=Fx(jR(t)),n=["absolute","fixed"].indexOf(od(t).position)>=0,r=n&&xa(t)?M1(t):t;return og(r)?e.filter(function(i){return og(i)&&rne(i,r)&&Ou(i)!=="body"}):[]}function pDe(t,e,n,r){var i=e==="clippingParents"?hDe(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=Mq(t,u,r);return l.top=Up(c.top,l.top),l.right=KT(c.right,l.right),l.bottom=KT(c.bottom,l.bottom),l.left=Up(c.left,l.left),l},Mq(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function lne(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ru(r):null,o=r?i0(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case us:l={x:s,y:e.y-n.height};break;case _a:l={x:s,y:e.y+e.height};break;case Sa:l={x:e.x+e.width,y:a};break;case cs:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?C4(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case t0:l[u]=l[u]-(e[c]/2-n[c]/2);break;case xw:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function ww(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?DNe:a,u=n.rootBoundary,c=u===void 0?ene:u,d=n.elementContext,h=d===void 0?yb:d,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,x=y===void 0?0:y,w=one(typeof x!="number"?x:sne(x,k1)),E=h===yb?LNe:yb,S=t.rects.popper,T=t.elements[m?E:h],k=pDe(og(T)?T:T.contextElement||eh(t.elements.popper),l,c,s),N=r0(t.elements.reference),R=lne({reference:N,element:S,placement:i}),M=HO(Object.assign({},S,R)),L=h===yb?M:N,I={top:k.top-L.top+w.top,bottom:L.bottom-k.bottom+w.bottom,left:k.left-L.left+w.left,right:L.right-k.right+w.right},O=t.modifiersData.offset;if(h===yb&&O){var V=O[i];Object.keys(I).forEach(function($){var z=[Sa,_a].indexOf($)>=0?1:-1,W=[us,_a].indexOf($)>=0?"y":"x";I[$]+=V[W]*z})}return I}function gDe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?tne:l,c=i0(r),d=c?a?Rq:Rq.filter(function(m){return i0(m)===c}):k1,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,y){return m[y]=ww(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[Ru(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function mDe(t){if(Ru(t)===_4)return[];var e=AC(t);return[kq(t),e,kq(e)]}function yDe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,x=e.options.placement,w=Ru(x),E=w===x,S=l||(E||!m?[AC(x)]:mDe(x)),T=[x].concat(S).reduce(function(de,se){return de.concat(Ru(se)===_4?gDe(e,{placement:se,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:y}):se)},[]),k=e.rects.reference,N=e.rects.popper,R=new Map,M=!0,L=T[0],I=0;I<T.length;I++){var O=T[I],V=Ru(O),$=i0(O)===t0,z=[us,_a].indexOf(V)>=0,W=z?"width":"height",K=ww(e,{placement:O,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),J=z?$?Sa:cs:$?_a:us;k[W]>N[W]&&(J=AC(J));var Q=AC(J),X=[];if(o&&X.push(K[V]<=0),a&&X.push(K[J]<=0,K[Q]<=0),X.every(function(de){return de})){L=O,M=!1;break}R.set(O,X)}if(M)for(var j=m?3:1,Y=function(se){var ee=T.find(function(ae){var te=R.get(ae);if(te)return te.slice(0,se).every(function(ce){return ce})});if(ee)return L=ee,"break"},ue=j;ue>0;ue--){var q=Y(ue);if(q==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}const vDe={name:"flip",enabled:!0,phase:"main",fn:yDe,requiresIfExists:["offset"],data:{_skip:!1}};function Nq(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Dq(t){return[us,Sa,_a,cs].some(function(e){return t[e]>=0})}function bDe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ww(e,{elementContext:"reference"}),a=ww(e,{altBoundary:!0}),l=Nq(s,r),u=Nq(a,i,o),c=Dq(l),d=Dq(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const xDe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bDe};function wDe(t,e,n){var r=Ru(t),i=[cs,us].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[cs,Sa].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function _De(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=tne.reduce(function(c,d){return c[d]=wDe(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const SDe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_De};function EDe(t){var e=t.state,n=t.name;e.modifiersData[n]=lne({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const CDe={name:"popperOffsets",enabled:!0,phase:"read",fn:EDe,data:{}};function TDe(t){return t==="x"?"y":"x"}function ADe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,y=m===void 0?0:m,x=ww(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),w=Ru(e.placement),E=i0(e.placement),S=!E,T=C4(w),k=TDe(T),N=e.modifiersData.popperOffsets,R=e.rects.reference,M=e.rects.popper,L=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,I=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(N){if(o){var $,z=T==="y"?us:cs,W=T==="y"?_a:Sa,K=T==="y"?"height":"width",J=N[T],Q=J+x[z],X=J-x[W],j=p?-M[K]/2:0,Y=E===t0?R[K]:M[K],ue=E===t0?-M[K]:-R[K],q=e.elements.arrow,de=p&&q?E4(q):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ine(),ee=se[z],ae=se[W],te=Ox(0,R[K],de[K]),ce=S?R[K]/2-j-te-ee-I.mainAxis:Y-te-ee-I.mainAxis,fe=S?-R[K]/2+j+te+ae+I.mainAxis:ue+te+ae+I.mainAxis,ge=e.elements.arrow&&M1(e.elements.arrow),xe=ge?T==="y"?ge.clientTop||0:ge.clientLeft||0:0,be=($=O==null?void 0:O[T])!=null?$:0,Ee=J+ce-be-xe,Me=J+fe-be,st=Ox(p?KT(Q,Ee):Q,J,p?Up(X,Me):X);N[T]=st,V[T]=st-J}if(a){var Ve,Oe=T==="x"?us:cs,Qe=T==="x"?_a:Sa,Ye=N[k],dt=k==="y"?"height":"width",Pe=Ye+x[Oe],ut=Ye-x[Qe],rt=[us,cs].indexOf(w)!==-1,mt=(Ve=O==null?void 0:O[k])!=null?Ve:0,ve=rt?Pe:Ye-R[dt]-M[dt]-mt+I.altAxis,Ce=rt?Ye+R[dt]+M[dt]-mt-I.altAxis:ut,Ue=p&&rt?JNe(ve,Ye,Ce):Ox(p?ve:Pe,Ye,p?Ce:ut);N[k]=Ue,V[k]=Ue-Ye}e.modifiersData[r]=V}}const RDe={name:"preventOverflow",enabled:!0,phase:"main",fn:ADe,requiresIfExists:["offset"]};function PDe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function IDe(t){return t===Ws(t)||!xa(t)?T4(t):PDe(t)}function kDe(t){var e=t.getBoundingClientRect(),n=n0(e.width)/t.offsetWidth||1,r=n0(e.height)/t.offsetHeight||1;return n!==1||r!==1}function MDe(t,e,n){n===void 0&&(n=!1);var r=xa(e),i=xa(e)&&kDe(e),o=eh(e),s=r0(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ou(e)!=="body"||R4(o))&&(a=IDe(e)),xa(e)?(l=r0(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=A4(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function NDe(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function DDe(t){var e=NDe(t);return jNe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function LDe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function ODe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Lq={placement:"bottom",modifiers:[],strategy:"absolute"};function Oq(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function FDe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Lq:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Lq,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(w){var E=typeof w=="function"?w(c.options):w;y(),c.options=Object.assign({},o,c.options,E),c.scrollParents={reference:og(a)?Fx(a):a.contextElement?Fx(a.contextElement):[],popper:Fx(l)};var S=DDe(ODe([].concat(r,c.options.modifiers)));return c.orderedModifiers=S.filter(function(T){return T.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var w=c.elements,E=w.reference,S=w.popper;if(Oq(E,S)){c.rects={reference:MDe(E,M1(S),c.options.strategy==="fixed"),popper:E4(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var k=c.orderedModifiers[T],N=k.fn,R=k.options,M=R===void 0?{}:R,L=k.name;typeof N=="function"&&(c=N({state:c,options:M,name:L,instance:p})||c)}}}},update:LDe(function(){return new Promise(function(x){p.forceUpdate(),x(c)})}),destroy:function(){y(),h=!0}};if(!Oq(a,l))return p;p.setOptions(u).then(function(x){!h&&u.onFirstUpdate&&u.onFirstUpdate(x)});function m(){c.orderedModifiers.forEach(function(x){var w=x.name,E=x.options,S=E===void 0?{}:E,T=x.effect;if(typeof T=="function"){var k=T({state:c,name:w,instance:p,options:S}),N=function(){};d.push(k||N)}})}function y(){d.forEach(function(x){return x()}),d=[]}return p}}var $De=[aDe,CDe,oDe,KNe,SDe,vDe,RDe,tDe,xDe],BDe=FDe({defaultModifiers:$De});function VDe(t){return typeof t=="function"?t():t}const une=F.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=F.useState(null),l=Nr(F.isValidElement(r)?_g(r):null,n);if(wa(()=>{o||a(VDe(i)||document.body)},[i,o]),wa(()=>{if(s&&!o)return lq(n,s),()=>{lq(n,null)}},[n,s,o]),o){if(F.isValidElement(r)){const u={ref:l};return F.cloneElement(r,u)}return r}return s&&jc.createPortal(r,s)});function zDe(t){return Pt("MuiPopper",t)}It("MuiPopper",["root"]);function UDe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function qO(t){return typeof t=="function"?t():t}function HDe(t){return t.nodeType!==void 0}const qDe=t=>{const{classes:e}=t;return kt({root:["root"]},zDe,e)},jDe={},WDe=F.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:h={},slots:p={},TransitionProps:m,ownerState:y,...x}=e,w=F.useRef(null),E=Nr(w,n),S=F.useRef(null),T=Nr(S,d),k=F.useRef(T);wa(()=>{k.current=T},[T]),F.useImperativeHandle(d,()=>S.current,[]);const N=UDe(u,o),[R,M]=F.useState(N),[L,I]=F.useState(qO(r));F.useEffect(()=>{S.current&&S.current.forceUpdate()}),F.useEffect(()=>{r&&I(qO(r))},[r]),wa(()=>{if(!L||!l)return;const W=Q=>{M(Q.placement)};let K=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{W(Q)}}];a!=null&&(K=K.concat(a)),c&&c.modifiers!=null&&(K=K.concat(c.modifiers));const J=BDe(L,w.current,{placement:N,...c,modifiers:K});return k.current(J),()=>{J.destroy(),k.current(null)}},[L,s,a,l,c,N]);const O={placement:R};m!==null&&(O.TransitionProps=m);const V=qDe(e),$=p.root??"div",z=ig({elementType:$,externalSlotProps:h.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:V.root});return D.jsx($,{...z,children:typeof i=="function"?i(O):i})}),GDe=F.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=jDe,popperRef:p,style:m,transition:y=!1,slotProps:x={},slots:w={},...E}=e,[S,T]=F.useState(!0),k=()=>{T(!1)},N=()=>{T(!0)};if(!l&&!c&&(!y||S))return null;let R;if(o)R=o;else if(r){const I=qO(r);R=I&&HDe(I)?ps(I).body:ps(null).body}const M=!c&&l&&(!y||S)?"none":void 0,L=y?{in:c,onEnter:k,onExited:N}:void 0;return D.jsx(une,{disablePortal:a,container:R,children:D.jsx(WDe,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:y?!S:c,placement:d,popperOptions:h,popperRef:p,slotProps:x,slots:w,...E,style:{position:"fixed",top:0,left:0,display:M,...m},TransitionProps:L,children:i})})}),KDe=Ne(GDe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cne=F.forwardRef(function(e,n){const r=I1(),i=Dt({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:y,popperRef:x,transition:w,slots:E,slotProps:S,...T}=i,k=(E==null?void 0:E.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:y,popperRef:x,transition:w,...T};return D.jsx(KDe,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:S??l,...N,ref:n})}),YDe=Ut(D.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function XDe(t){return Pt("MuiChip",t)}const wn=It("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),JDe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,u={root:["root",l,n&&"disabled",`size${De(r)}`,`color${De(i)}`,a&&"clickable",a&&`clickableColor${De(i)}`,s&&"deletable",s&&`deletableColor${De(i)}`,`${l}${De(i)}`],label:["label",`label${De(r)}`],avatar:["avatar",`avatar${De(r)}`,`avatarColor${De(i)}`],icon:["icon",`icon${De(r)}`,`iconColor${De(o)}`],deleteIcon:["deleteIcon",`deleteIcon${De(r)}`,`deleteIconColor${De(i)}`,`deleteIcon${De(l)}Color${De(i)}`]};return kt(u,XDe,e)},QDe=Ne("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${wn.avatar}`]:e.avatar},{[`& .${wn.avatar}`]:e[`avatar${De(a)}`]},{[`& .${wn.avatar}`]:e[`avatarColor${De(r)}`]},{[`& .${wn.icon}`]:e.icon},{[`& .${wn.icon}`]:e[`icon${De(a)}`]},{[`& .${wn.icon}`]:e[`iconColor${De(i)}`]},{[`& .${wn.deleteIcon}`]:e.deleteIcon},{[`& .${wn.deleteIcon}`]:e[`deleteIcon${De(a)}`]},{[`& .${wn.deleteIcon}`]:e[`deleteIconColor${De(r)}`]},{[`& .${wn.deleteIcon}`]:e[`deleteIcon${De(l)}Color${De(r)}`]},e.root,e[`size${De(a)}`],e[`color${De(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${De(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${De(r)}`],e[l],e[`${l}${De(r)}`]]}})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${wn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${wn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${wn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${wn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${wn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${wn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${wn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:cn(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:cn(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${wn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${wn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Kr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${wn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:cn(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${wn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${wn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${wn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:cn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Kr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${wn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:cn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${wn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:cn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Kr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${wn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${wn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${wn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${wn.avatar}`]:{marginLeft:4},[`& .${wn.avatarSmall}`]:{marginLeft:2},[`& .${wn.icon}`]:{marginLeft:4},[`& .${wn.iconSmall}`]:{marginLeft:2},[`& .${wn.deleteIcon}`]:{marginRight:5},[`& .${wn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Kr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:cn(t.palette[n].main,.7)}`,[`&.${wn.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${wn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:cn(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${wn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:cn(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),ZDe=Ne("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${De(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Fq(t){return t.key==="Backspace"||t.key==="Delete"}const YT=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:p,onDelete:m,onKeyDown:y,onKeyUp:x,size:w="medium",variant:E="filled",tabIndex:S,skipFocusWhenDisabled:T=!1,...k}=r,N=F.useRef(null),R=Nr(N,n),M=X=>{X.stopPropagation(),m&&m(X)},L=X=>{X.currentTarget===X.target&&Fq(X)&&X.preventDefault(),y&&y(X)},I=X=>{X.currentTarget===X.target&&m&&Fq(X)&&m(X),x&&x(X)},O=s!==!1&&p?!0:s,V=O||m?bl:l||"div",$={...r,component:V,disabled:c,size:w,color:a,iconColor:F.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:O,variant:E},z=JDe($),W=V===bl?{component:l||"div",focusVisibleClassName:z.focusVisible,...m&&{disableRipple:!0}}:{};let K=null;m&&(K=u&&F.isValidElement(u)?F.cloneElement(u,{className:je(u.props.className,z.deleteIcon),onClick:M}):D.jsx(YDe,{className:je(z.deleteIcon),onClick:M}));let J=null;i&&F.isValidElement(i)&&(J=F.cloneElement(i,{className:je(z.avatar,i.props.className)}));let Q=null;return d&&F.isValidElement(d)&&(Q=F.cloneElement(d,{className:je(z.icon,d.props.className)})),D.jsxs(QDe,{as:V,className:je(z.root,o),disabled:O&&c?!0:void 0,onClick:p,onKeyDown:L,onKeyUp:I,ref:R,tabIndex:T&&c?-1:S,ownerState:$,...W,...k,children:[J||Q,D.jsx(ZDe,{className:je(z.label),ownerState:$,children:h}),K]})});function RE(t){return parseInt(t,10)||0}const eLe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function tLe(t){for(const e in t)return!1;return!0}function $q(t){return tLe(t)||t.outerHeightStyle===0&&!t.overflowing}const nLe=F.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:u}=F.useRef(a!=null),c=F.useRef(null),d=Nr(n,c),h=F.useRef(null),p=F.useRef(null),m=F.useCallback(()=>{const S=c.current,T=p.current;if(!S||!T)return;const N=vl(S).getComputedStyle(S);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=N.width,T.value=S.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const R=N.boxSizing,M=RE(N.paddingBottom)+RE(N.paddingTop),L=RE(N.borderBottomWidth)+RE(N.borderTopWidth),I=T.scrollHeight;T.value="x";const O=T.scrollHeight;let V=I;o&&(V=Math.max(Number(o)*O,V)),i&&(V=Math.min(Number(i)*O,V)),V=Math.max(V,O);const $=V+(R==="border-box"?M+L:0),z=Math.abs(V-I)<=1;return{outerHeightStyle:$,overflowing:z}},[i,o,e.placeholder]),y=ba(()=>{const S=c.current,T=m();if(!S||!T||$q(T))return!1;const k=T.outerHeightStyle;return h.current!=null&&h.current!==k}),x=F.useCallback(()=>{const S=c.current,T=m();if(!S||!T||$q(T))return;const k=T.outerHeightStyle;h.current!==k&&(h.current=k,S.style.height=`${k}px`),S.style.overflow=T.overflowing?"hidden":""},[m]),w=F.useRef(-1);wa(()=>{const S=HR(x),T=c==null?void 0:c.current;if(!T)return;const k=vl(T);k.addEventListener("resize",S);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{y()&&(N.unobserve(T),cancelAnimationFrame(w.current),x(),w.current=requestAnimationFrame(()=>{N.observe(T)}))}),N.observe(T)),()=>{S.clear(),cancelAnimationFrame(w.current),k.removeEventListener("resize",S),N&&N.disconnect()}},[m,x,y]),wa(()=>{x()});const E=S=>{u||x(),r&&r(S)};return D.jsxs(F.Fragment,{children:[D.jsx("textarea",{value:a,onChange:E,ref:d,rows:o,style:s,...l}),D.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...eLe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function _w(t){return typeof t=="string"}function th({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const WR=F.createContext(void 0);function Vu(){return F.useContext(WR)}function Bq(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function XT(t,e=!1){return t&&(Bq(t.value)&&t.value!==""||e&&Bq(t.defaultValue)&&t.defaultValue!=="")}function rLe(t){return t.startAdornment}function iLe(t){return Pt("MuiInputBase",t)}const o0=It("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Vq;const GR=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${De(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},KR=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},oLe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:m}=t,y={root:["root",`color${De(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${De(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return kt(y,iLe,e)},YR=Ne("div",{name:"MuiInputBase",slot:"Root",overridesResolver:GR})(Nt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${o0.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),XR=Ne("input",{name:"MuiInputBase",slot:"Input",overridesResolver:KR})(Nt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${o0.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${o0.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),zq=I2e({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),P4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:y,fullWidth:x=!1,id:w,inputComponent:E="input",inputProps:S={},inputRef:T,margin:k,maxRows:N,minRows:R,multiline:M=!1,name:L,onBlur:I,onChange:O,onClick:V,onFocus:$,onKeyDown:z,onKeyUp:W,placeholder:K,readOnly:J,renderSuffix:Q,rows:X,size:j,slotProps:Y={},slots:ue={},startAdornment:q,type:de="text",value:se,...ee}=r,ae=S.value!=null?S.value:se,{current:te}=F.useRef(ae!=null),ce=F.useRef(),fe=F.useCallback(Xe=>{},[]),ge=Nr(ce,T,S.ref,fe),[xe,be]=F.useState(!1),Ee=Vu(),Me=th({props:r,muiFormControl:Ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Me.focused=Ee?Ee.focused:xe,F.useEffect(()=>{!Ee&&h&&xe&&(be(!1),I&&I())},[Ee,h,xe,I]);const st=Ee&&Ee.onFilled,Ve=Ee&&Ee.onEmpty,Oe=F.useCallback(Xe=>{XT(Xe)?st&&st():Ve&&Ve()},[st,Ve]);wa(()=>{te&&Oe({value:ae})},[ae,Oe,te]);const Qe=Xe=>{$&&$(Xe),S.onFocus&&S.onFocus(Xe),Ee&&Ee.onFocus?Ee.onFocus(Xe):be(!0)},Ye=Xe=>{I&&I(Xe),S.onBlur&&S.onBlur(Xe),Ee&&Ee.onBlur?Ee.onBlur(Xe):be(!1)},dt=(Xe,...Zt)=>{if(!te){const $t=Xe.target||ce.current;if($t==null)throw new Error(id(1));Oe({value:$t.value})}S.onChange&&S.onChange(Xe,...Zt),O&&O(Xe,...Zt)};F.useEffect(()=>{Oe(ce.current)},[]);const Pe=Xe=>{ce.current&&Xe.currentTarget===Xe.target&&ce.current.focus(),V&&V(Xe)};let ut=E,rt=S;M&&ut==="input"&&(X?rt={type:void 0,minRows:X,maxRows:X,...rt}:rt={type:void 0,maxRows:N,minRows:R,...rt},ut=nLe);const mt=Xe=>{Oe(Xe.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};F.useEffect(()=>{Ee&&Ee.setAdornedStart(!!q)},[Ee,q]);const ve={...r,color:Me.color||"primary",disabled:Me.disabled,endAdornment:m,error:Me.error,focused:Me.focused,formControl:Ee,fullWidth:x,hiddenLabel:Me.hiddenLabel,multiline:M,size:Me.size,startAdornment:q,type:de},Ce=oLe(ve),Ue=ue.root||u.Root||YR,nt=Y.root||c.root||{},Re=ue.input||u.Input||XR;return rt={...rt,...Y.input??c.input},D.jsxs(F.Fragment,{children:[!p&&typeof zq=="function"&&(Vq||(Vq=D.jsx(zq,{}))),D.jsxs(Ue,{...nt,ref:n,onClick:Pe,...ee,...!_w(Ue)&&{ownerState:{...ve,...nt.ownerState}},className:je(Ce.root,nt.className,a,J&&"MuiInputBase-readOnly"),children:[q,D.jsx(WR.Provider,{value:null,children:D.jsx(Re,{"aria-invalid":Me.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:Me.disabled,id:w,onAnimationStart:mt,name:L,placeholder:K,readOnly:J,required:Me.required,rows:X,value:ae,onKeyDown:z,onKeyUp:W,type:de,...rt,...!_w(Re)&&{as:ut,ownerState:{...ve,...rt.ownerState}},ref:ge,className:je(Ce.input,rt.className,J&&"MuiInputBase-readOnly"),onBlur:Ye,onChange:dt,onFocus:Qe})}),m,Q?Q({...Me,startAdornment:q}):null]})]})});function sLe(t){return Pt("MuiInput",t)}const vb={...o0,...It("MuiInput",["root","underline","input"])};function aLe(t){return Pt("MuiOutlinedInput",t)}const ql={...o0,...It("MuiOutlinedInput",["root","notchedOutline","input"])};function lLe(t){return Pt("MuiFilledInput",t)}const Ah={...o0,...It("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},uLe=Ut(D.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),cLe=Ut(D.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function dLe(t){return Pt("MuiAvatar",t)}It("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const fLe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return kt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},dLe,e)},hLe=Ne("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Nt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),pLe=Ne("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),gLe=Ne(cLe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function mLe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=F.useState(!1);return F.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const Uq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:h,srcSet:p,variant:m="circular",...y}=r;let x=null;const w={...r,component:a,variant:m},E=mLe({...c,...typeof u.img=="function"?u.img(w):u.img,src:h,srcSet:p}),S=h||p,T=S&&E!=="error";w.colorDefault=!T,delete w.ownerState;const k=fLe(w),[N,R]=Vt("img",{className:k.img,elementType:pLe,externalForwardedProps:{slots:l,slotProps:{img:{...c,...u.img}}},additionalProps:{alt:i,src:h,srcSet:p,sizes:d},ownerState:w});return T?x=D.jsx(N,{...R}):o||o===0?x=o:S&&i?x=i[0]:x=D.jsx(gLe,{ownerState:w,className:k.fallback}),D.jsx(hLe,{as:a,className:je(k.root,s),ref:n,...y,ownerState:w,children:x})}),yLe={entering:{opacity:1},entered:{opacity:1}},jO=F.forwardRef(function(e,n){const r=hd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:x,timeout:w=i,TransitionComponent:E=El,...S}=e,T=F.useRef(null),k=Nr(T,_g(a),n),N=z=>W=>{if(z){const K=T.current;W===void 0?z(K):z(K,W)}},R=N(h),M=N((z,W)=>{x4(z);const K=e0({style:x,timeout:w,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("opacity",K),z.style.transition=r.transitions.create("opacity",K),c&&c(z,W)}),L=N(d),I=N(y),O=N(z=>{const W=e0({style:x,timeout:w,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("opacity",W),z.style.transition=r.transitions.create("opacity",W),p&&p(z)}),V=N(m),$=z=>{o&&o(T.current,z)};return D.jsx(E,{appear:s,in:u,nodeRef:T,onEnter:M,onEntered:L,onEntering:R,onExit:O,onExited:V,onExiting:I,addEndListener:$,timeout:w,...S,children:(z,{ownerState:W,...K})=>F.cloneElement(a,{style:{opacity:0,visibility:z==="exited"&&!u?"hidden":void 0,...yLe[z],...x,...a.props.style},ref:k,...K})})});function vLe(t){return Pt("MuiBackdrop",t)}It("MuiBackdrop",["root","invisible"]);const bLe=t=>{const{classes:e,invisible:n}=t;return kt({root:["root",n&&"invisible"]},vLe,e)},xLe=Ne("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),I4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:u={},componentsProps:c={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:m,...y}=r,x={...r,component:s,invisible:a},w=bLe(x),E={transition:p,root:u.Root,...h},S={...c,...d},T={slots:E,slotProps:S},[k,N]=Vt("root",{elementType:xLe,externalForwardedProps:T,className:je(w.root,o),ownerState:x}),[R,M]=Vt("transition",{elementType:jO,externalForwardedProps:T,ownerState:x});return D.jsx(R,{in:l,timeout:m,...y,...M,children:D.jsx(k,{"aria-hidden":!0,...N,classes:w,ref:n,children:i})})}),wLe=It("MuiBox",["root"]),_Le=Xte(),Be=mMe({themeId:RR,defaultTheme:_Le,defaultClassName:wLe.root,generateClassName:Mte.generate}),SLe=Ut(D.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),ELe=Ne(bl)(Nt(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:jT(t.palette.grey[200],.12)}:{backgroundColor:jT(t.palette.grey[600],.12)}}}))),CLe=Ne(SLe)({width:24,height:16});function TLe(t){const{slots:e={},slotProps:n={},...r}=t,i=t;return D.jsx("li",{children:D.jsx(ELe,{focusRipple:!0,...r,ownerState:i,children:D.jsx(CLe,{as:e.CollapsedIcon,ownerState:i,...n.collapsedIcon})})})}function ALe(t){return Pt("MuiBreadcrumbs",t)}const RLe=It("MuiBreadcrumbs",["root","ol","li","separator"]),PLe=t=>{const{classes:e}=t;return kt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},ALe,e)},ILe=Ne(tt,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${RLe.li}`]:e.li},e.root]})({}),kLe=Ne("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),MLe=Ne("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function NLe(t,e,n,r){return t.reduce((i,o,s)=>(s<t.length-1?i=i.concat(o,D.jsx(MLe,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${s}`)):i.push(o),i),[])}const DLe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiBreadcrumbs"}),{children:i,className:o,component:s="nav",slots:a={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:c=1,itemsBeforeCollapse:d=1,maxItems:h=8,separator:p="/",...m}=r,[y,x]=F.useState(!1),w={...r,component:s,expanded:y,expandText:u,itemsAfterCollapse:c,itemsBeforeCollapse:d,maxItems:h,separator:p},E=PLe(w),S=ig({elementType:a.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:w}),T=F.useRef(null),k=R=>{const M=()=>{x(!0);const L=T.current.querySelector("a[href],button,[tabindex]");L&&L.focus()};return d+c>=R.length?R:[...R.slice(0,d),D.jsx(TLe,{"aria-label":u,slots:{CollapsedIcon:a.CollapsedIcon},slotProps:{collapsedIcon:S},onClick:M},"ellipsis"),...R.slice(R.length-c,R.length)]},N=F.Children.toArray(i).filter(R=>F.isValidElement(R)).map((R,M)=>D.jsx("li",{className:E.li,children:R},`child-${M}`));return D.jsx(ILe,{ref:n,component:s,color:"textSecondary",className:je(E.root,o),ownerState:w,...m,children:D.jsx(kLe,{className:E.ol,ref:T,ownerState:w,children:NLe(y||h&&N.length<=h?N:k(N),E.separator,p,w)})})});function LLe(t){return Pt("MuiButton",t)}const Rh=It("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),OLe=F.createContext({}),FLe=F.createContext(void 0),$Le=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,u={root:["root",s&&"loading",o,`${o}${De(e)}`,`size${De(i)}`,`${o}Size${De(i)}`,`color${De(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${De(a)}`],startIcon:["icon","startIcon",`iconSize${De(i)}`],endIcon:["icon","endIcon",`iconSize${De(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=kt(u,LLe,l);return{...l,...c}},dne=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],BLe=Ne(bl,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${De(n.color)}`],e[`size${De(n.size)}`],e[`${n.variant}Size${De(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Rh.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Rh.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Rh.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Rh.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Kr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:cn(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Rh.loading}`]:{color:"transparent"}}}]}})),VLe=Ne("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${De(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...dne]})),zLe=Ne("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${De(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...dne]})),ULe=Ne("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Hq=Ne("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),nr=F.forwardRef(function(e,n){const r=F.useContext(OLe),i=F.useContext(FLe),o=vw(r,e),s=Dt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:x=!1,id:w,loading:E=null,loadingIndicator:S,loadingPosition:T="center",size:k="medium",startIcon:N,type:R,variant:M="text",...L}=s,I=_0(w),O=S??D.jsx(w4,{"aria-labelledby":I,color:"inherit",size:16}),V={...s,color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:x,loading:E,loadingIndicator:O,loadingPosition:T,size:k,type:R,variant:M},$=$Le(V),z=(N||E&&T==="start")&&D.jsx(VLe,{className:$.startIcon,ownerState:V,children:N||D.jsx(Hq,{className:$.loadingIconPlaceholder,ownerState:V})}),W=(m||E&&T==="end")&&D.jsx(zLe,{className:$.endIcon,ownerState:V,children:m||D.jsx(Hq,{className:$.loadingIconPlaceholder,ownerState:V})}),K=i||"",J=typeof E=="boolean"?D.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:E&&D.jsx(ULe,{className:$.loadingIndicator,ownerState:V,children:O})}):null;return D.jsxs(BLe,{ownerState:V,className:je(r.className,$.root,c,K),component:u,disabled:d||E,focusRipple:!p,focusVisibleClassName:je($.focusVisible,y),ref:n,type:R,id:E?I:w,...L,classes:$,children:[z,T!=="end"&&J,a,T==="end"&&J,W]})});function HLe(t){return Pt("PrivateSwitchBase",t)}It("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const qLe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${De(i)}`],input:["input"]};return kt(o,HLe,e)},jLe=Ne(bl)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),WLe=Ne("input",{shouldForwardProp:wo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),fne=F.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:h,inputRef:p,name:m,onBlur:y,onChange:x,onFocus:w,readOnly:E,required:S=!1,tabIndex:T,type:k,value:N,slots:R={},slotProps:M={},...L}=e,[I,O]=bw({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),V=Vu(),$=se=>{w&&w(se),V&&V.onFocus&&V.onFocus(se)},z=se=>{y&&y(se),V&&V.onBlur&&V.onBlur(se)},W=se=>{if(se.nativeEvent.defaultPrevented)return;const ee=se.target.checked;O(ee),x&&x(se,ee)};let K=a;V&&typeof K>"u"&&(K=V.disabled);const J=k==="checkbox"||k==="radio",Q={...e,checked:I,disabled:K,disableFocusRipple:l,edge:u},X=qLe(Q),j={slots:R,slotProps:{input:h,...M}},[Y,ue]=Vt("root",{ref:n,elementType:jLe,className:X.root,shouldForwardComponentProp:!0,externalForwardedProps:{...j,component:"span",...L},getSlotProps:se=>({...se,onFocus:ee=>{var ae;(ae=se.onFocus)==null||ae.call(se,ee),$(ee)},onBlur:ee=>{var ae;(ae=se.onBlur)==null||ae.call(se,ee),z(ee)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:K,role:void 0,tabIndex:null}}),[q,de]=Vt("input",{ref:p,elementType:WLe,className:X.input,externalForwardedProps:j,getSlotProps:se=>({onChange:ee=>{var ae;(ae=se.onChange)==null||ae.call(se,ee),W(ee)}}),ownerState:Q,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:K,id:J?d:void 0,name:m,readOnly:E,required:S,tabIndex:T,type:k,...k==="checkbox"&&N===void 0?{}:{value:N}}});return D.jsxs(Y,{...ue,children:[D.jsx(q,{...de}),I?o:c]})}),GLe=Ut(D.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),KLe=Ut(D.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),YLe=Ut(D.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function XLe(t){return Pt("MuiCheckbox",t)}const Gk=It("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),JLe=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${De(r)}`,`size${De(i)}`]},s=kt(o,XLe,e);return{...e,...s}},QLe=Ne(fne,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${De(n.size)}`],n.color!=="default"&&e[`color${De(n.color)}`]]}})(Nt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{color:e},style:{[`&.${Gk.checked}, &.${Gk.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${Gk.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ZLe=D.jsx(KLe,{}),eOe=D.jsx(GLe,{}),tOe=D.jsx(YLe,{}),WO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiCheckbox"}),{checkedIcon:i=ZLe,color:o="primary",icon:s=eOe,indeterminate:a=!1,indeterminateIcon:l=tOe,inputProps:u,size:c="medium",disableRipple:d=!1,className:h,slots:p={},slotProps:m={},...y}=r,x=a?l:s,w=a?l:i,E={...r,disableRipple:d,color:o,indeterminate:a,size:c},S=JLe(E),T=m.input??u,[k,N]=Vt("root",{ref:n,elementType:QLe,className:je(S.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:m,...y},ownerState:E,additionalProps:{type:"checkbox",icon:F.cloneElement(x,{fontSize:x.props.fontSize??c}),checkedIcon:F.cloneElement(w,{fontSize:w.props.fontSize??c}),disableRipple:d,slots:p,slotProps:{input:y4(typeof T=="function"?T(E):T,{"data-indeterminate":a})}}});return D.jsx(k,{...N,classes:S})});function nOe(t){const e=ps(t);return e.body===t?vl(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function $x(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function qq(t){return parseInt(vl(t).getComputedStyle(t).paddingRight,10)||0}function rOe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function jq(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!rOe(s);a&&l&&$x(s,i)})}function Kk(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function iOe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(nOe(r)){const s=Vte(vl(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${qq(r)+s}px`;const a=ps(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${qq(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ps(r).body;else{const s=r.parentElement,a=vl(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function oOe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class sOe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&$x(e.modalRef,!1);const i=oOe(n);jq(n,e.mount,e.modalRef,i,!0);const o=Kk(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Kk(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=iOe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Kk(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&$x(e.modalRef,n),jq(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&$x(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const aOe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lOe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function uOe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function cOe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||uOe(t))}function dOe(t){const e=[],n=[];return Array.from(t.querySelectorAll(aOe)).forEach((r,i)=>{const o=lOe(r);o===-1||!cOe(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function fOe(){return!0}function hOe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=dOe,isEnabled:s=fOe,open:a}=t,l=F.useRef(!1),u=F.useRef(null),c=F.useRef(null),d=F.useRef(null),h=F.useRef(null),p=F.useRef(!1),m=F.useRef(null),y=Nr(_g(e),m),x=F.useRef(null);F.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),F.useEffect(()=>{if(!a||!m.current)return;const S=ps(m.current);return m.current.contains(S.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),F.useEffect(()=>{if(!a||!m.current)return;const S=ps(m.current),T=R=>{x.current=R,!(r||!s()||R.key!=="Tab")&&S.activeElement===m.current&&R.shiftKey&&(l.current=!0,c.current&&c.current.focus())},k=()=>{var L,I;const R=m.current;if(R===null)return;if(!S.hasFocus()||!s()||l.current){l.current=!1;return}if(R.contains(S.activeElement)||r&&S.activeElement!==u.current&&S.activeElement!==c.current)return;if(S.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let M=[];if((S.activeElement===u.current||S.activeElement===c.current)&&(M=o(m.current)),M.length>0){const O=!!((L=x.current)!=null&&L.shiftKey&&((I=x.current)==null?void 0:I.key)==="Tab"),V=M[0],$=M[M.length-1];typeof V!="string"&&typeof $!="string"&&(O?$.focus():V.focus())}else R.focus()};S.addEventListener("focusin",k),S.addEventListener("keydown",T,!0);const N=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(N),S.removeEventListener("focusin",k),S.removeEventListener("keydown",T,!0)}},[n,r,i,s,a,o]);const w=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0,h.current=S.target;const T=e.props.onFocus;T&&T(S)},E=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0};return D.jsxs(F.Fragment,{children:[D.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),F.cloneElement(e,{ref:y,onFocus:w}),D.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:c,"data-testid":"sentinelEnd"})]})}function pOe(t){return typeof t=="function"?t():t}function gOe(t){return t?t.props.hasOwnProperty("in"):!1}const Wq=()=>{},PE=new sOe;function mOe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:u,rootRef:c}=t,d=F.useRef({}),h=F.useRef(null),p=F.useRef(null),m=Nr(p,c),[y,x]=F.useState(!u),w=gOe(a);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const S=()=>ps(h.current),T=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),k=()=>{PE.mount(T(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=ba(()=>{const W=pOe(e)||S().body;PE.add(T(),W),p.current&&k()}),R=()=>PE.isTopModal(T()),M=ba(W=>{h.current=W,W&&(u&&R()?k():p.current&&$x(p.current,E))}),L=F.useCallback(()=>{PE.remove(T(),E)},[E]);F.useEffect(()=>()=>{L()},[L]),F.useEffect(()=>{u?N():(!w||!i)&&L()},[u,L,w,i,N]);const I=W=>K=>{var J;(J=W.onKeyDown)==null||J.call(W,K),!(K.key!=="Escape"||K.which===229||!R())&&(n||(K.stopPropagation(),l&&l(K,"escapeKeyDown")))},O=W=>K=>{var J;(J=W.onClick)==null||J.call(W,K),K.target===K.currentTarget&&l&&l(K,"backdropClick")};return{getRootProps:(W={})=>{const K=Ute(t);delete K.onTransitionEnter,delete K.onTransitionExited;const J={...K,...W};return{role:"presentation",...J,onKeyDown:I(J),ref:m}},getBackdropProps:(W={})=>{const K=W;return{"aria-hidden":!0,...K,onClick:O(K),open:u}},getTransitionProps:()=>{const W=()=>{x(!1),o&&o()},K=()=>{x(!0),s&&s(),i&&L()};return{onEnter:aq(W,(a==null?void 0:a.props.onEnter)??Wq),onExited:aq(K,(a==null?void 0:a.props.onExited)??Wq)}},rootRef:m,portalRef:M,isTopModal:R,exited:y,hasTransition:w}}function yOe(t){return Pt("MuiModal",t)}It("MuiModal",["root","hidden","backdrop"]);const vOe=t=>{const{open:e,exited:n,classes:r}=t;return kt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},yOe,r)},bOe=Ne("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Nt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),xOe=Ne(I4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),hne=F.forwardRef(function(e,n){const r=Dt({name:"MuiModal",props:e}),{BackdropComponent:i=xOe,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:u,container:c,component:d,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:x=!1,disablePortal:w=!1,disableRestoreFocus:E=!1,disableScrollLock:S=!1,hideBackdrop:T=!1,keepMounted:k=!1,onBackdropClick:N,onClose:R,onTransitionEnter:M,onTransitionExited:L,open:I,slotProps:O={},slots:V={},theme:$,...z}=r,W={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:y,disableEscapeKeyDown:x,disablePortal:w,disableRestoreFocus:E,disableScrollLock:S,hideBackdrop:T,keepMounted:k},{getRootProps:K,getBackdropProps:J,getTransitionProps:Q,portalRef:X,isTopModal:j,exited:Y,hasTransition:ue}=mOe({...W,rootRef:n}),q={...W,exited:Y},de=vOe(q),se={};if(u.props.tabIndex===void 0&&(se.tabIndex="-1"),ue){const{onEnter:ge,onExited:xe}=Q();se.onEnter=ge,se.onExited=xe}const ee={slots:{root:h.Root,backdrop:h.Backdrop,...V},slotProps:{...p,...O}},[ae,te]=Vt("root",{ref:n,elementType:bOe,externalForwardedProps:{...ee,...z,component:d},getSlotProps:K,ownerState:q,className:je(a,de==null?void 0:de.root,!q.open&&q.exited&&(de==null?void 0:de.hidden))}),[ce,fe]=Vt("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:ee,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ge=>J({...ge,onClick:xe=>{N&&N(xe),ge!=null&&ge.onClick&&ge.onClick(xe)}}),className:je(o==null?void 0:o.className,de==null?void 0:de.backdrop),ownerState:q});return!k&&!I&&(!ue||Y)?null:D.jsx(une,{ref:X,container:c,disablePortal:w,children:D.jsxs(ae,{...te,children:[!T&&i?D.jsx(ce,{...fe}):null,D.jsx(hOe,{disableEnforceFocus:y,disableAutoFocus:m,disableRestoreFocus:E,isEnabled:j,open:I,children:F.cloneElement(u,se)})]})})});function wOe(t){return Pt("MuiDialog",t)}const Yk=It("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),pne=F.createContext({}),_Oe=Ne(I4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),SOe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${De(n)}`],paper:["paper",`paperScroll${De(n)}`,`paperWidth${De(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return kt(s,wOe,e)},EOe=Ne(hne,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),COe=Ne("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${De(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),TOe=Ne(cl,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${De(n.scroll)}`],e[`paperWidth${De(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Nt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Yk.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Yk.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Yk.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),JT=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialog"}),i=hd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:c,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:y=!1,maxWidth:x="sm",onBackdropClick:w,onClick:E,onClose:S,open:T,PaperComponent:k=cl,PaperProps:N={},scroll:R="paper",slots:M={},slotProps:L={},TransitionComponent:I=jO,transitionDuration:O=o,TransitionProps:V,...$}=r,z={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:y,maxWidth:x,scroll:R},W=SOe(z),K=F.useRef(),J=Ee=>{K.current=Ee.target===Ee.currentTarget},Q=Ee=>{E&&E(Ee),K.current&&(K.current=null,w&&w(Ee),S&&S(Ee,"backdropClick"))},X=_0(a),j=F.useMemo(()=>({titleId:X}),[X]),Y={transition:I,...M},ue={transition:V,paper:N,backdrop:c,...L},q={slots:Y,slotProps:ue},[de,se]=Vt("root",{elementType:EOe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:z,className:je(W.root,h),ref:n}),[ee,ae]=Vt("backdrop",{elementType:_Oe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:z}),[te,ce]=Vt("paper",{elementType:TOe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:z,className:je(W.paper,N.className)}),[fe,ge]=Vt("container",{elementType:COe,externalForwardedProps:q,ownerState:z,className:je(W.container)}),[xe,be]=Vt("transition",{elementType:jO,externalForwardedProps:q,ownerState:z,additionalProps:{appear:!0,in:T,timeout:O,role:"presentation"}});return D.jsx(de,{closeAfterTransition:!0,slots:{backdrop:ee},slotProps:{backdrop:{transitionDuration:O,as:u,...ae}},disableEscapeKeyDown:p,onClose:S,open:T,onClick:Q,...se,...$,children:D.jsx(xe,{...be,children:D.jsx(fe,{onMouseDown:J,...ge,children:D.jsx(te,{as:k,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":X,"aria-modal":l,...ce,children:D.jsx(pne.Provider,{value:j,children:d})})})})})});function AOe(t){return Pt("MuiDialogActions",t)}It("MuiDialogActions",["root","spacing"]);const ROe=t=>{const{classes:e,disableSpacing:n}=t;return kt({root:["root",!n&&"spacing"]},AOe,e)},POe=Ne("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),QT=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=ROe(a);return D.jsx(POe,{className:je(l.root,i),ownerState:a,ref:n,...s})});function IOe(t){return Pt("MuiDialogContent",t)}It("MuiDialogContent",["root","dividers"]);function kOe(t){return Pt("MuiDialogTitle",t)}const MOe=It("MuiDialogTitle",["root"]),NOe=t=>{const{classes:e,dividers:n}=t;return kt({root:["root",n&&"dividers"]},IOe,e)},DOe=Ne("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Nt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${MOe.root} + &`]:{paddingTop:0}}}]}))),ZT=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=NOe(a);return D.jsx(DOe,{className:je(l.root,i),ownerState:a,ref:n,...s})}),LOe=t=>{const{classes:e}=t;return kt({root:["root"]},kOe,e)},OOe=Ne(tt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),eA=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=LOe(a),{titleId:u=o}=F.useContext(pne);return D.jsx(OOe,{component:"h2",className:je(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??u,...s})});function FOe(t){return Pt("MuiDivider",t)}const Gq=It("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),$Oe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return kt({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},FOe,r)},BOe=Ne("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Nt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:cn(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),VOe=Ne("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Nt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),$f=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:l=o||a==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:d=l!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth",...m}=r,y={...r,absolute:i,component:l,flexItem:u,light:c,orientation:a,role:d,textAlign:h,variant:p},x=$Oe(y);return D.jsx(BOe,{as:l,className:je(x.root,s),role:d,ref:n,ownerState:y,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...m,children:o?D.jsx(VOe,{className:x.wrapper,ownerState:y,children:o}):null})});$f&&($f.muiSkipListHighlight=!0);function zOe(t){return Pt("MuiFab",t)}const Kq=It("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),UOe=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${De(i)}`,e==="inherit"?"colorInherit":e]},s=kt(o,zOe,r);return{...r,...s}},HOe=Ne(bl,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>wo(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${De(n.size)}`],n.color==="inherit"&&e.colorInherit,e[De(n.size)],e[n.color]]}})(Nt(({theme:t})=>{var e,n;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(e=t.palette).getContrastText)==null?void 0:n.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${Kq.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),Nt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(Kr(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),Nt(({theme:t})=>({[`&.${Kq.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),gne=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:d="large",variant:h="circular",...p}=r,m={...r,color:s,component:a,disabled:l,disableFocusRipple:u,size:d,variant:h},y=UOe(m);return D.jsx(HOe,{className:je(y.root,o),component:a,disabled:l,focusRipple:!u,focusVisibleClassName:je(y.focusVisible,c),ownerState:m,ref:n,...p,classes:y,children:i})}),qOe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${De(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=kt(l,lLe,e);return{...e,...u}},jOe=Ne(YR,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...GR(t,e),!n.disableUnderline&&e.underline]}})(Nt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${Ah.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${Ah.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ah.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ah.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ah.disabled}, .${Ah.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ah.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Kr()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),WOe=Ne(XR,{name:"MuiFilledInput",slot:"Input",overridesResolver:KR})(Nt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),k4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:d,slots:h={},type:p="text",...m}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:c,type:p},x=qOe(r),w={root:{ownerState:y},input:{ownerState:y}},E=d??s?Ni(w,d??s):w,S=h.root??o.Root??jOe,T=h.input??o.Input??WOe;return D.jsx(P4,{slots:{root:S,input:T},slotProps:E,fullWidth:a,inputComponent:u,multiline:c,ref:n,type:p,...m,classes:x})});k4.muiName="Input";function GOe(t){return Pt("MuiFormControl",t)}It("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KOe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${De(n)}`,r&&"fullWidth"]};return kt(i,GOe,e)},YOe=Ne("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${De(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),XOe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:y="medium",variant:x="outlined",...w}=r,E={...r,color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:y,variant:x},S=KOe(E),[T,k]=F.useState(()=>{let W=!1;return i&&F.Children.forEach(i,K=>{if(!Lx(K,["Input","Select"]))return;const J=Lx(K,["Select"])?K.props.input:K;J&&rLe(J.props)&&(W=!0)}),W}),[N,R]=F.useState(()=>{let W=!1;return i&&F.Children.forEach(i,K=>{Lx(K,["Input","Select"])&&(XT(K.props,!0)||XT(K.props.inputProps,!0))&&(W=!0)}),W}),[M,L]=F.useState(!1);l&&M&&L(!1);const I=c!==void 0&&!l?c:M;let O;F.useRef(!1);const V=F.useCallback(()=>{R(!0)},[]),$=F.useCallback(()=>{R(!1)},[]),z=F.useMemo(()=>({adornedStart:T,setAdornedStart:k,color:s,disabled:l,error:u,filled:N,focused:I,fullWidth:d,hiddenLabel:h,size:y,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:$,onFilled:V,registerEffect:O,required:m,variant:x}),[T,s,l,u,N,I,d,h,O,$,V,m,y,x]);return D.jsx(WR.Provider,{value:z,children:D.jsx(YOe,{as:a,ownerState:E,className:je(S.root,o),ref:n,...w,children:i})})});function JOe(t){return Pt("MuiFormControlLabel",t)}const tx=It("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),QOe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${De(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return kt(s,JOe,e)},ZOe=Ne("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${tx.label}`]:e.label},e.root,e[`labelPlacement${De(n.labelPlacement)}`]]}})(Nt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${tx.disabled}`]:{cursor:"default"},[`& .${tx.label}`]:{[`&.${tx.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),eFe=Ne("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Nt(({theme:t})=>({[`&.${tx.error}`]:{color:(t.vars||t).palette.error.main}}))),GO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:u,inputRef:c,label:d,labelPlacement:h="end",name:p,onChange:m,required:y,slots:x={},slotProps:w={},value:E,...S}=r,T=Vu(),k=l??a.props.disabled??(T==null?void 0:T.disabled),N=y??a.props.required,R={disabled:k,required:N};["checked","name","onChange","value","inputRef"].forEach(W=>{typeof a.props[W]>"u"&&typeof r[W]<"u"&&(R[W]=r[W])});const M=th({props:r,muiFormControl:T,states:["error"]}),L={...r,disabled:k,labelPlacement:h,required:N,error:M.error},I=QOe(L),O={slots:x,slotProps:{...s,...w}},[V,$]=Vt("typography",{elementType:tt,externalForwardedProps:O,ownerState:L});let z=d;return z!=null&&z.type!==tt&&!u&&(z=D.jsx(V,{component:"span",...$,className:je(I.label,$==null?void 0:$.className),children:z})),D.jsxs(ZOe,{className:je(I.root,o),ownerState:L,ref:n,...S,children:[F.cloneElement(a,R),N?D.jsxs("div",{children:[z,D.jsxs(eFe,{ownerState:L,"aria-hidden":!0,className:I.asterisk,children:[" ","*"]})]}):z]})});function tFe(t){return Pt("MuiFormGroup",t)}It("MuiFormGroup",["root","row","error"]);const nFe=t=>{const{classes:e,row:n,error:r}=t;return kt({root:["root",n&&"row",r&&"error"]},tFe,e)},rFe=Ne("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),iFe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1,...s}=r,a=Vu(),l=th({props:r,muiFormControl:a,states:["error"]}),u={...r,row:o,error:l.error},c=nFe(u);return D.jsx(rFe,{className:je(c.root,i),ownerState:u,ref:n,...s})});function oFe(t){return Pt("MuiFormHelperText",t)}const Yq=It("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Xq;const sFe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${De(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return kt(u,oFe,e)},aFe=Ne("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${De(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Nt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Yq.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yq.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),lFe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:u,focused:c,margin:d,required:h,variant:p,...m}=r,y=Vu(),x=th({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),w={...r,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete w.ownerState;const E=sFe(w);return D.jsx(aFe,{as:s,className:je(E.root,o),ref:n,...m,ownerState:w,children:i===" "?Xq||(Xq=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function uFe(t){return Pt("MuiFormLabel",t)}const Bx=It("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),cFe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${De(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return kt(l,uFe,e)},dFe=Ne("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Nt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{color:e},style:{[`&.${Bx.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Bx.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Bx.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),fFe=Ne("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Nt(({theme:t})=>({[`&.${Bx.error}`]:{color:(t.vars||t).palette.error.main}}))),hFe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:u,filled:c,focused:d,required:h,...p}=r,m=Vu(),y=th({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},w=cFe(x);return D.jsxs(dFe,{as:a,ownerState:x,className:je(w.root,o),ref:n,...p,children:[i,y.required&&D.jsxs(fFe,{ownerState:x,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})});function KO(t){return`scale(${t}, ${t**2})`}const pFe={entering:{opacity:1,transform:KO(1)},entered:{opacity:1,transform:"none"}},Xk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tA=F.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:m,timeout:y="auto",TransitionComponent:x=El,...w}=e,E=zh(),S=F.useRef(),T=hd(),k=F.useRef(null),N=Nr(k,_g(o),n),R=W=>K=>{if(W){const J=k.current;K===void 0?W(J):W(J,K)}},M=R(c),L=R((W,K)=>{x4(W);const{duration:J,delay:Q,easing:X}=e0({style:m,timeout:y,easing:s},{mode:"enter"});let j;y==="auto"?(j=T.transitions.getAutoHeightDuration(W.clientHeight),S.current=j):j=J,W.style.transition=[T.transitions.create("opacity",{duration:j,delay:Q}),T.transitions.create("transform",{duration:Xk?j:j*.666,delay:Q,easing:X})].join(","),l&&l(W,K)}),I=R(u),O=R(p),V=R(W=>{const{duration:K,delay:J,easing:Q}=e0({style:m,timeout:y,easing:s},{mode:"exit"});let X;y==="auto"?(X=T.transitions.getAutoHeightDuration(W.clientHeight),S.current=X):X=K,W.style.transition=[T.transitions.create("opacity",{duration:X,delay:J}),T.transitions.create("transform",{duration:Xk?X:X*.666,delay:Xk?J:J||X*.333,easing:Q})].join(","),W.style.opacity=0,W.style.transform=KO(.75),d&&d(W)}),$=R(h),z=W=>{y==="auto"&&E.start(S.current||0,W),r&&r(k.current,W)};return D.jsx(x,{appear:i,in:a,nodeRef:k,onEnter:L,onEntered:I,onEntering:M,onExit:V,onExited:$,onExiting:O,addEndListener:z,timeout:y==="auto"?null:y,...w,children:(W,{ownerState:K,...J})=>F.cloneElement(o,{style:{opacity:0,transform:KO(.75),visibility:W==="exited"&&!a?"hidden":void 0,...pFe[W],...m,...o.props.style},ref:N,...J})})});tA&&(tA.muiSupportAuto=!0);const gFe=t=>{const{classes:e,disableUnderline:n}=t,i=kt({root:["root",!n&&"underline"],input:["input"]},sLe,e);return{...e,...i}},mFe=Ne(YR,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...GR(t,e),!n.disableUnderline&&e.underline]}})(Nt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${vb.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${vb.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${vb.disabled}, .${vb.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${vb.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Kr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),yFe=Ne(XR,{name:"MuiInput",slot:"Input",overridesResolver:KR})({}),M4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:d={},type:h="text",...p}=r,m=gFe(r),x={root:{ownerState:{disableUnderline:i}}},w=c??s?Ni(c??s,x):x,E=d.root??o.Root??mFe,S=d.input??o.Input??yFe;return D.jsx(P4,{slots:{root:E,input:S},slotProps:w,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:h,...p,classes:m})});M4.muiName="Input";function vFe(t){return Pt("MuiInputAdornment",t)}const Jq=It("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Qq;const bFe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${De(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},xFe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${De(i)}`,s,r&&"hiddenLabel",o&&`size${De(o)}`]};return kt(a,vFe,e)},wFe=Ne("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:bFe})(Nt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Jq.positionStart}&:not(.${Jq.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),nA=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c,...d}=r,h=Vu()||{};let p=c;c&&h.variant,h&&!p&&(p=h.variant);const m={...r,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:u,variant:p},y=xFe(m);return D.jsx(WR.Provider,{value:null,children:D.jsx(wFe,{as:s,ownerState:m,className:je(y.root,o),ref:n,...d,children:typeof i=="string"&&!l?D.jsx(tt,{color:"textSecondary",children:i}):D.jsxs(F.Fragment,{children:[u==="start"?Qq||(Qq=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function _Fe(t){return Pt("MuiInputLabel",t)}It("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SFe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${De(r)}`,s],asterisk:[a&&"asterisk"]},u=kt(l,_Fe,e);return{...e,...u}},EFe=Ne(hFe,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Bx.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Nt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),CFe=F.forwardRef(function(e,n){const r=Dt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...u}=r,c=Vu();let d=s;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const h=th({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:c,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=SFe(p);return D.jsx(EFe,{"data-shrink":d,ref:n,className:je(m.root,l),...u,ownerState:p,classes:m})});function TFe(t){return Pt("MuiLink",t)}const AFe=It("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),RFe=({theme:t,ownerState:e})=>{const n=e.color,r=If(t,`palette.${n}.main`,!1)||If(t,`palette.${n}`,!1)||e.color,i=If(t,`palette.${n}.mainChannel`)||If(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:cn(r,.4)},Zq={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},PFe=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,o={root:["root",`underline${De(i)}`,n==="button"&&"button",r&&"focusVisible"]};return kt(o,TFe,e)},IFe=Ne(tt,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${De(n.underline)}`],n.component==="button"&&e.button]}})(Nt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Kr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:cn(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:cn(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:cn(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${AFe.focusVisible}`]:{outline:"auto"}}}]}))),ej=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiLink"}),i=hd(),{className:o,color:s="primary",component:a="a",onBlur:l,onFocus:u,TypographyClasses:c,underline:d="always",variant:h="inherit",sx:p,...m}=r,[y,x]=F.useState(!1),w=k=>{Zv(k.target)||x(!1),l&&l(k)},E=k=>{Zv(k.target)&&x(!0),u&&u(k)},S={...r,color:s,component:a,focusVisible:y,underline:d,variant:h},T=PFe(S);return D.jsx(IFe,{color:s,className:je(T.root,o),classes:c,component:a,onBlur:w,onFocus:E,ref:n,ownerState:S,variant:h,...m,sx:[...Zq[s]===void 0?[{color:s}]:[],...Array.isArray(p)?p:[p]],style:{...m.style,...d==="always"&&s!=="inherit"&&!Zq[s]&&{"--Link-underlineColor":RFe({theme:i,ownerState:S})}}})}),gl=F.createContext({});function kFe(t){return Pt("MuiList",t)}It("MuiList",["root","padding","dense","subheader"]);const MFe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return kt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},kFe,e)},NFe=Ne("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),YO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...c}=r,d=F.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=MFe(h);return D.jsx(gl.Provider,{value:d,children:D.jsxs(NFe,{as:s,className:je(p.root,o),ref:n,ownerState:h,...c,children:[u,i]})})});function DFe(t){return Pt("MuiListItem",t)}It("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function LFe(t){return Pt("MuiListItemButton",t)}const Gm=It("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),OFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},FFe=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=t,u=kt({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},LFe,n);return{...n,...u}},$Fe=Ne(bl,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:OFe})(Nt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gm.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:cn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Gm.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:cn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Gm.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:cn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:cn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Gm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Gm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),tj=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:h=!1,className:p,...m}=r,y=F.useContext(gl),x=F.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,l,u]),w=F.useRef(null);wa(()=>{o&&w.current&&w.current.focus()},[o]);const E={...r,alignItems:i,dense:x.dense,disableGutters:u,divider:c,selected:h},S=FFe(E),T=Nr(w,n);return D.jsx(gl.Provider,{value:x,children:D.jsx($Fe,{ref:T,href:m.href||m.to,component:(m.href||m.to)&&s==="div"?"button":s,focusVisibleClassName:je(S.focusVisible,d),ownerState:E,className:je(S.root,p),...m,classes:S,children:a})})});function BFe(t){return Pt("MuiListItemSecondaryAction",t)}It("MuiListItemSecondaryAction",["root","disableGutters"]);const VFe=t=>{const{disableGutters:e,classes:n}=t;return kt({root:["root",e&&"disableGutters"]},BFe,n)},zFe=Ne("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),mne=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=F.useContext(gl),a={...r,disableGutters:s.disableGutters},l=VFe(a);return D.jsx(zFe,{className:je(l.root,i),ownerState:a,ref:n,...o})});mne.muiName="ListItemSecondaryAction";const UFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},HFe=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=t;return kt({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},DFe,n)},qFe=Ne("div",{name:"MuiListItem",slot:"Root",overridesResolver:UFe})(Nt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Gm.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),jFe=Ne("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),nj=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:l={},componentsProps:u={},ContainerComponent:c="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:m=!1,disablePadding:y=!1,divider:x=!1,secondaryAction:w,slotProps:E={},slots:S={},...T}=r,k=F.useContext(gl),N=F.useMemo(()=>({dense:p||k.dense||!1,alignItems:i,disableGutters:m}),[i,k.dense,p,m]),R=F.useRef(null),M=F.Children.toArray(o),L=M.length&&Lx(M[M.length-1],["ListItemSecondaryAction"]),I={...r,alignItems:i,dense:N.dense,disableGutters:m,disablePadding:y,divider:x,hasSecondaryAction:L},O=HFe(I),V=Nr(R,n),$=S.root||l.Root||qFe,z=E.root||u.root||{},W={className:je(O.root,z.className,s),...T};let K=a||"li";return L?(K=!W.component&&!a?"div":K,c==="li"&&(K==="li"?K="div":W.component==="li"&&(W.component="div")),D.jsx(gl.Provider,{value:N,children:D.jsxs(jFe,{as:c,className:je(O.container,d),ref:V,ownerState:I,...h,children:[D.jsx($,{...z,...!_w($)&&{as:K,ownerState:{...I,...z.ownerState}},...W,children:M}),M.pop()]})})):D.jsx(gl.Provider,{value:N,children:D.jsxs($,{...z,as:K,ref:V,...!_w($)&&{ownerState:{...I,...z.ownerState}},...W,children:[M,w&&D.jsx(mne,{children:w})]})})});function WFe(t){return Pt("MuiListItemIcon",t)}const rj=It("MuiListItemIcon",["root","alignItemsFlexStart"]),GFe=t=>{const{alignItems:e,classes:n}=t;return kt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},WFe,n)},KFe=Ne("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Nt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Sw=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemIcon"}),{className:i,...o}=r,s=F.useContext(gl),a={...r,alignItems:s.alignItems},l=GFe(a);return D.jsx(KFe,{className:je(l.root,i),ownerState:a,ref:n,...o})});function YFe(t){return Pt("MuiListItemText",t)}const xy=It("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),XFe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return kt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},YFe,e)},JFe=Ne("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${xy.primary}`]:e.primary},{[`& .${xy.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Tq.root}:where(& .${xy.primary})`]:{display:"block"},[`.${Tq.root}:where(& .${xy.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),sg=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d,slots:h={},slotProps:p={},...m}=r,{dense:y}=F.useContext(gl);let x=l??i,w=c;const E={...r,disableTypography:s,inset:a,primary:!!x,secondary:!!w,dense:y},S=XFe(E),T={slots:h,slotProps:{primary:u,secondary:d,...p}},[k,N]=Vt("root",{className:je(S.root,o),elementType:JFe,externalForwardedProps:{...T,...m},ownerState:E,ref:n}),[R,M]=Vt("primary",{className:S.primary,elementType:tt,externalForwardedProps:T,ownerState:E}),[L,I]=Vt("secondary",{className:S.secondary,elementType:tt,externalForwardedProps:T,ownerState:E});return x!=null&&x.type!==tt&&!s&&(x=D.jsx(R,{variant:y?"body2":"body1",component:M!=null&&M.variant?void 0:"span",...M,children:x})),w!=null&&w.type!==tt&&!s&&(w=D.jsx(L,{variant:"body2",color:"textSecondary",...I,children:w})),D.jsxs(k,{...N,children:[x,w]})});function Jk(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function ij(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function yne(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function bb(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!yne(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const QFe=F.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu",...h}=e,p=F.useRef(null),m=F.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wa(()=>{i&&p.current.focus()},[i]),F.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:T})=>{const k=!p.current.style.width;if(S.clientHeight<p.current.clientHeight&&k){const N=`${Vte(vl(S))}px`;p.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const y=S=>{const T=p.current,k=S.key;if(S.ctrlKey||S.metaKey||S.altKey){c&&c(S);return}const R=ps(T).activeElement;if(k==="ArrowDown")S.preventDefault(),bb(T,R,u,l,Jk);else if(k==="ArrowUp")S.preventDefault(),bb(T,R,u,l,ij);else if(k==="Home")S.preventDefault(),bb(T,null,u,l,Jk);else if(k==="End")S.preventDefault(),bb(T,null,u,l,ij);else if(k.length===1){const M=m.current,L=k.toLowerCase(),I=performance.now();M.keys.length>0&&(I-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&L!==M.keys[0]&&(M.repeating=!1)),M.lastTime=I,M.keys.push(L);const O=R&&!M.repeating&&yne(R,M);M.previousKeyMatched&&(O||bb(T,R,!1,l,Jk,M))?S.preventDefault():M.previousKeyMatched=!1}c&&c(S)},x=Nr(p,n);let w=-1;F.Children.forEach(s,(S,T)=>{if(!F.isValidElement(S)){w===T&&(w+=1,w>=s.length&&(w=-1));return}S.props.disabled||(d==="selectedMenu"&&S.props.selected||w===-1)&&(w=T),w===T&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(w+=1,w>=s.length&&(w=-1))});const E=F.Children.map(s,(S,T)=>{if(T===w){const k={};return o&&(k.autoFocus=!0),S.props.tabIndex===void 0&&d==="selectedMenu"&&(k.tabIndex=0),F.cloneElement(S,k)}return S});return D.jsx(YO,{role:"menu",ref:x,className:a,onKeyDown:y,tabIndex:i?0:-1,...h,children:E})});function ZFe(t){return Pt("MuiPopover",t)}It("MuiPopover",["root","paper"]);function oj(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function sj(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function aj(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function IE(t){return typeof t=="function"?t():t}const e5e=t=>{const{classes:e}=t;return kt({root:["root"],paper:["paper"]},ZFe,e)},t5e=Ne(hne,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vne=Ne(cl,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),n5e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:y={},slots:x={},slotProps:w={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:T="auto",TransitionProps:k={},disableScrollLock:N=!1,...R}=r,M=F.useRef(),L={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:E,TransitionComponent:S,transitionDuration:T,TransitionProps:k},I=e5e(L),O=F.useCallback(()=>{if(l==="anchorPosition")return a;const fe=IE(o),xe=(fe&&fe.nodeType===1?fe:ps(M.current).body).getBoundingClientRect();return{top:xe.top+oj(xe,s.vertical),left:xe.left+sj(xe,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),V=F.useCallback(fe=>({vertical:oj(fe,E.vertical),horizontal:sj(fe,E.horizontal)}),[E.horizontal,E.vertical]),$=F.useCallback(fe=>{const ge={width:fe.offsetWidth,height:fe.offsetHeight},xe=V(ge);if(l==="none")return{top:null,left:null,transformOrigin:aj(xe)};const be=O();let Ee=be.top-xe.vertical,Me=be.left-xe.horizontal;const st=Ee+ge.height,Ve=Me+ge.width,Oe=vl(IE(o)),Qe=Oe.innerHeight-p,Ye=Oe.innerWidth-p;if(p!==null&&Ee<p){const dt=Ee-p;Ee-=dt,xe.vertical+=dt}else if(p!==null&&st>Qe){const dt=st-Qe;Ee-=dt,xe.vertical+=dt}if(p!==null&&Me<p){const dt=Me-p;Me-=dt,xe.horizontal+=dt}else if(Ve>Ye){const dt=Ve-Ye;Me-=dt,xe.horizontal+=dt}return{top:`${Math.round(Ee)}px`,left:`${Math.round(Me)}px`,transformOrigin:aj(xe)}},[o,l,O,V,p]),[z,W]=F.useState(m),K=F.useCallback(()=>{const fe=M.current;if(!fe)return;const ge=$(fe);ge.top!==null&&fe.style.setProperty("top",ge.top),ge.left!==null&&(fe.style.left=ge.left),fe.style.transformOrigin=ge.transformOrigin,W(!0)},[$]);F.useEffect(()=>(N&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[o,N,K]);const J=()=>{K()},Q=()=>{W(!1)};F.useEffect(()=>{m&&K()}),F.useImperativeHandle(i,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),F.useEffect(()=>{if(!m)return;const fe=HR(()=>{K()}),ge=vl(IE(o));return ge.addEventListener("resize",fe),()=>{fe.clear(),ge.removeEventListener("resize",fe)}},[o,m,K]);let X=T;const j={slots:{transition:S,...x},slotProps:{transition:k,paper:y,...w}},[Y,ue]=Vt("transition",{elementType:tA,externalForwardedProps:j,ownerState:L,getSlotProps:fe=>({...fe,onEntering:(ge,xe)=>{var be;(be=fe.onEntering)==null||be.call(fe,ge,xe),J()},onExited:ge=>{var xe;(xe=fe.onExited)==null||xe.call(fe,ge),Q()}}),additionalProps:{appear:!0,in:m}});T==="auto"&&!Y.muiSupportAuto&&(X=void 0);const q=d||(o?ps(IE(o)).body:void 0),[de,{slots:se,slotProps:ee,...ae}]=Vt("root",{ref:n,elementType:t5e,externalForwardedProps:{...j,...R},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:y4(typeof w.backdrop=="function"?w.backdrop(L):w.backdrop,{invisible:!0})},container:q,open:m},ownerState:L,className:je(I.root,c)}),[te,ce]=Vt("paper",{ref:M,className:I.paper,elementType:vne,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:z?void 0:{opacity:0}},ownerState:L});return D.jsx(de,{...ae,...!_w(de)&&{slots:se,slotProps:ee,disableScrollLock:N},children:D.jsx(Y,{...ue,timeout:X,children:D.jsx(te,{...ce,children:u})})})});function r5e(t){return Pt("MuiMenu",t)}It("MuiMenu",["root","paper","list"]);const i5e={vertical:"top",horizontal:"right"},o5e={vertical:"top",horizontal:"left"},s5e=t=>{const{classes:e}=t;return kt({root:["root"],paper:["paper"],list:["list"]},r5e,e)},a5e=Ne(n5e,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),l5e=Ne(vne,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),u5e=Ne(QFe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),JR=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...y}={},variant:x="selectedMenu",slots:w={},slotProps:E={},...S}=r,T=I1(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:x},N=s5e(k),R=i&&!a&&c,M=F.useRef(null),L=(X,j)=>{M.current&&M.current.adjustStyleForScrollbar(X,{direction:T?"rtl":"ltr"}),m&&m(X,j)},I=X=>{X.key==="Tab"&&(X.preventDefault(),u&&u(X,"tabKeyDown"))};let O=-1;F.Children.map(o,(X,j)=>{F.isValidElement(X)&&(X.props.disabled||(x==="selectedMenu"&&X.props.selected||O===-1)&&(O=j))});const V={slots:w,slotProps:{list:l,transition:y,paper:d,...E}},$=ig({elementType:w.root,externalSlotProps:E.root,ownerState:k,className:[N.root,s]}),[z,W]=Vt("paper",{className:N.paper,elementType:l5e,externalForwardedProps:V,shouldForwardComponentProp:!0,ownerState:k}),[K,J]=Vt("list",{className:je(N.list,l.className),elementType:u5e,shouldForwardComponentProp:!0,externalForwardedProps:V,getSlotProps:X=>({...X,onKeyDown:j=>{var Y;I(j),(Y=X.onKeyDown)==null||Y.call(X,j)}}),ownerState:k}),Q=typeof V.slotProps.transition=="function"?V.slotProps.transition(k):V.slotProps.transition;return D.jsx(a5e,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?i5e:o5e,slots:{root:w.root,paper:z,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:$,paper:W,backdrop:typeof E.backdrop=="function"?E.backdrop(k):E.backdrop,transition:{...Q,onEntering:(...X)=>{var j;L(...X),(j=Q==null?void 0:Q.onEntering)==null||j.call(Q,...X)}}},open:c,ref:n,transitionDuration:p,ownerState:k,...S,classes:h,children:D.jsx(K,{actions:M,autoFocus:i&&(O===-1||a),autoFocusItem:R,variant:x,...J,children:o})})});function c5e(t){return Pt("MuiMenuItem",t)}const xb=It("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),d5e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},f5e=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=kt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},c5e,s);return{...s,...l}},h5e=Ne(bl,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:d5e})(Nt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xb.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:cn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${xb.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:cn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${xb.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:cn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:cn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${xb.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xb.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Gq.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Gq.inset}`]:{marginLeft:52},[`& .${xy.root}`]:{marginTop:0,marginBottom:0},[`& .${xy.inset}`]:{paddingLeft:36},[`& .${rj.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${rj.root} svg`]:{fontSize:"1.25rem"}}}]}))),Ew=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h,...p}=r,m=F.useContext(gl),y=F.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),x=F.useRef(null);wa(()=>{i&&x.current&&x.current.focus()},[i]);const w={...r,dense:y.dense,divider:a,disableGutters:l},E=f5e(r),S=Nr(x,n);let T;return r.disabled||(T=d!==void 0?d:-1),D.jsx(gl.Provider,{value:y,children:D.jsx(h5e,{ref:S,role:c,tabIndex:T,component:o,focusVisibleClassName:je(E.focusVisible,u),className:je(E.root,h),...p,ownerState:w,classes:E})})});function p5e(t){return Pt("MuiNativeSelect",t)}const N4=It("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),g5e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${De(n)}`,o&&"iconOpen",r&&"disabled"]};return kt(a,p5e,e)},bne=Ne("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${N4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),m5e=Ne(bne,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:wo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${N4.multiple}`]:e.multiple}]}})({}),xne=Ne("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${N4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),y5e=Ne(xne,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${De(n.variant)}`],n.open&&e.iconOpen]}})({}),v5e=F.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:o},d=g5e(c);return D.jsxs(F.Fragment,{children:[D.jsx(m5e,{ownerState:c,className:je(d.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:D.jsx(y5e,{as:s,ownerState:c,className:d.icon})]})});var lj;const b5e=Ne("fieldset",{shouldForwardProp:wo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),x5e=Ne("legend",{shouldForwardProp:wo})(Nt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function w5e(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return D.jsx(b5e,{"aria-hidden":!0,className:r,ownerState:l,...s,children:D.jsx(x5e,{ownerState:l,children:a?D.jsx("span",{children:i}):lj||(lj=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const _5e=t=>{const{classes:e}=t,r=kt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},aLe,e);return{...e,...r}},S5e=Ne(YR,{shouldForwardProp:t=>wo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:GR})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ql.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ql.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ql.focused} .${ql.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Kr()).map(([n])=>({props:{color:n},style:{[`&.${ql.focused} .${ql.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${ql.error} .${ql.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${ql.disabled} .${ql.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),E5e=Ne(w5e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),C5e=Ne(XR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:KR})(Nt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),D4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:a,multiline:l=!1,notched:u,slots:c={},slotProps:d={},type:h="text",...p}=r,m=_5e(r),y=Vu(),x=th({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...r,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:y,fullWidth:o,hiddenLabel:x.hiddenLabel,multiline:l,size:x.size,type:h},E=c.root??i.Root??S5e,S=c.input??i.Input??C5e,[T,k]=Vt("notchedOutline",{elementType:E5e,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:c,slotProps:d},additionalProps:{label:a!=null&&a!==""&&x.required?D.jsxs(F.Fragment,{children:[a," ","*"]}):a}});return D.jsx(P4,{slots:{root:E,input:S},slotProps:d,renderSuffix:N=>D.jsx(T,{...k,notched:typeof u<"u"?u:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:o,inputComponent:s,multiline:l,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});D4.muiName="Input";function wne(t){return Pt("MuiSelect",t)}const wb=It("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var uj;const T5e=Ne(bne,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${wb.select}`]:e.select},{[`&.${wb.select}`]:e[n.variant]},{[`&.${wb.error}`]:e.error},{[`&.${wb.multiple}`]:e.multiple}]}})({[`&.${wb.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),A5e=Ne(xne,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${De(n.variant)}`],n.open&&e.iconOpen]}})({}),R5e=Ne("input",{shouldForwardProp:t=>Jte(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function cj(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function P5e(t){return t==null||typeof t=="string"&&!t.trim()}const I5e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${De(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return kt(a,wne,e)},k5e=F.forwardRef(function(e,n){var en;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:y,labelId:x,MenuProps:w={},multiple:E,name:S,onBlur:T,onChange:k,onClose:N,onFocus:R,onOpen:M,open:L,readOnly:I,renderValue:O,required:V,SelectDisplayProps:$={},tabIndex:z,type:W,value:K,variant:J="standard",...Q}=e,[X,j]=bw({controlled:K,default:c,name:"Select"}),[Y,ue]=bw({controlled:L,default:u,name:"Select"}),q=F.useRef(null),de=F.useRef(null),[se,ee]=F.useState(null),{current:ae}=F.useRef(L!=null),[te,ce]=F.useState(),fe=Nr(n,y),ge=F.useCallback(Je=>{de.current=Je,Je&&ee(Je)},[]),xe=se==null?void 0:se.parentNode;F.useImperativeHandle(fe,()=>({focus:()=>{de.current.focus()},node:q.current,value:X}),[X]),F.useEffect(()=>{u&&Y&&se&&!ae&&(ce(s?null:xe.clientWidth),de.current.focus())},[se,s]),F.useEffect(()=>{o&&de.current.focus()},[o]),F.useEffect(()=>{if(!x)return;const Je=ps(de.current).getElementById(x);if(Je){const Lt=()=>{getSelection().isCollapsed&&de.current.focus()};return Je.addEventListener("click",Lt),()=>{Je.removeEventListener("click",Lt)}}},[x]);const be=(Je,Lt)=>{Je?M&&M(Lt):N&&N(Lt),ae||(ce(s?null:xe.clientWidth),ue(Je))},Ee=Je=>{Je.button===0&&(Je.preventDefault(),de.current.focus(),be(!0,Je))},Me=Je=>{be(!1,Je)},st=F.Children.toArray(a),Ve=Je=>{const Lt=st.find(pn=>pn.props.value===Je.target.value);Lt!==void 0&&(j(Lt.props.value),k&&k(Je,Lt))},Oe=Je=>Lt=>{let pn;if(Lt.currentTarget.hasAttribute("tabindex")){if(E){pn=Array.isArray(X)?X.slice():[];const Le=X.indexOf(Je.props.value);Le===-1?pn.push(Je.props.value):pn.splice(Le,1)}else pn=Je.props.value;if(Je.props.onClick&&Je.props.onClick(Lt),X!==pn&&(j(pn),k)){const Le=Lt.nativeEvent||Lt,ot=new Le.constructor(Le.type,Le);Object.defineProperty(ot,"target",{writable:!0,value:{value:pn,name:S}}),k(ot,Je)}E||be(!1,Lt)}},Qe=Je=>{I||[" ","ArrowUp","ArrowDown","Enter"].includes(Je.key)&&(Je.preventDefault(),be(!0,Je))},Ye=se!==null&&Y,dt=Je=>{!Ye&&T&&(Object.defineProperty(Je,"target",{writable:!0,value:{value:X,name:S}}),T(Je))};delete Q["aria-invalid"];let Pe,ut;const rt=[];let mt=!1;(XT({value:X})||h)&&(O?Pe=O(X):mt=!0);const ve=st.map(Je=>{if(!F.isValidElement(Je))return null;let Lt;if(E){if(!Array.isArray(X))throw new Error(id(2));Lt=X.some(pn=>cj(pn,Je.props.value)),Lt&&mt&&rt.push(Je.props.children)}else Lt=cj(X,Je.props.value),Lt&&mt&&(ut=Je.props.children);return F.cloneElement(Je,{"aria-selected":Lt?"true":"false",onClick:Oe(Je),onKeyUp:pn=>{pn.key===" "&&pn.preventDefault(),Je.props.onKeyUp&&Je.props.onKeyUp(pn)},role:"option",selected:Lt,value:void 0,"data-value":Je.props.value})});mt&&(E?rt.length===0?Pe=null:Pe=rt.reduce((Je,Lt,pn)=>(Je.push(Lt),pn<rt.length-1&&Je.push(", "),Je),[]):Pe=ut);let Ce=te;!s&&ae&&se&&(Ce=xe.clientWidth);let Ue;typeof z<"u"?Ue=z:Ue=d?null:0;const nt=$.id||(S?`mui-component-select-${S}`:void 0),Re={...e,variant:J,value:X,open:Ye,error:p},Xe=I5e(Re),Zt={...w.PaperProps,...(en=w.slotProps)==null?void 0:en.paper},$t=_0();return D.jsxs(F.Fragment,{children:[D.jsx(T5e,{as:"div",ref:ge,tabIndex:Ue,role:"combobox","aria-controls":Ye?$t:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":Ye?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,nt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":V?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:Qe,onMouseDown:d||I?null:Ee,onBlur:dt,onFocus:R,...$,ownerState:Re,className:je($.className,Xe.select,l),id:nt,children:P5e(Pe)?uj||(uj=D.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Pe}),D.jsx(R5e,{"aria-invalid":p,value:Array.isArray(X)?X.join(","):X,name:S,ref:q,"aria-hidden":!0,onChange:Ve,tabIndex:-1,disabled:d,className:Xe.nativeInput,autoFocus:o,required:V,...Q,ownerState:Re}),D.jsx(A5e,{as:m,className:Xe.icon,ownerState:Re}),D.jsx(JR,{id:`menu-${S||""}`,anchorEl:xe,open:Ye,onClose:Me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:$t,...w.MenuListProps},paper:{...Zt,style:{minWidth:Ce,...Zt!=null?Zt.style:null}}},children:ve})]})}),M5e=t=>{const{classes:e}=t,r=kt({root:["root"]},wne,e);return{...e,...r}},L4={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>wo(t)&&t!=="variant",slot:"Root"},N5e=Ne(M4,L4)(""),D5e=Ne(D4,L4)(""),L5e=Ne(k4,L4)(""),_ne=F.forwardRef(function(e,n){const r=Dt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=uLe,id:d,input:h,inputProps:p,label:m,labelId:y,MenuProps:x,multiple:w=!1,native:E=!1,onClose:S,onOpen:T,open:k,renderValue:N,SelectDisplayProps:R,variant:M="outlined",...L}=r,I=E?v5e:k5e,O=Vu(),V=th({props:r,muiFormControl:O,states:["variant","error"]}),$=V.variant||M,z={...r,variant:$,classes:s},W=M5e(z),{root:K,...J}=W,Q=h||{standard:D.jsx(N5e,{ownerState:z}),outlined:D.jsx(D5e,{label:m,ownerState:z}),filled:D.jsx(L5e,{ownerState:z})}[$],X=Nr(n,_g(Q));return D.jsx(F.Fragment,{children:F.cloneElement(Q,{inputComponent:I,inputProps:{children:o,error:V.error,IconComponent:c,variant:$,type:void 0,multiple:w,...E?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:x,onClose:S,onOpen:T,open:k,renderValue:N,SelectDisplayProps:{id:d,...R}},...p,classes:p?Ni(J,p.classes):J,...h?h.props.inputProps:{}},...(w&&E||u)&&$==="outlined"?{notched:!0}:{},ref:X,className:je(Q.props.className,a,W.root),...!h&&{variant:$},...L})})});_ne.muiName="Select";const O5e={entering:{transform:"none"},entered:{transform:"none"}},F5e=F.forwardRef(function(e,n){const r=hd(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:x,timeout:w=i,TransitionComponent:E=El,...S}=e,T=F.useRef(null),k=Nr(T,_g(a),n),N=z=>W=>{if(z){const K=T.current;W===void 0?z(K):z(K,W)}},R=N(h),M=N((z,W)=>{x4(z);const K=e0({style:x,timeout:w,easing:l},{mode:"enter"});z.style.webkitTransition=r.transitions.create("transform",K),z.style.transition=r.transitions.create("transform",K),c&&c(z,W)}),L=N(d),I=N(y),O=N(z=>{const W=e0({style:x,timeout:w,easing:l},{mode:"exit"});z.style.webkitTransition=r.transitions.create("transform",W),z.style.transition=r.transitions.create("transform",W),p&&p(z)}),V=N(m),$=z=>{o&&o(T.current,z)};return D.jsx(E,{appear:s,in:u,nodeRef:T,onEnter:M,onEntered:L,onEntering:R,onExit:O,onExited:V,onExiting:I,addEndListener:$,timeout:w,...S,children:(z,{ownerState:W,...K})=>F.cloneElement(a,{style:{transform:"scale(0)",visibility:z==="exited"&&!u?"hidden":void 0,...O5e[z],...x,...a.props.style},ref:k,...K})})});function $5e(t){return Pt("MuiSpeedDial",t)}const kE=It("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),B5e=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${De(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return kt(i,$5e,e)};function _b(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const jd=32,ME=16,V5e=Ne("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${De(n.direction)}`]]}})(Nt(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${kE.actions}`]:{flexDirection:"column-reverse",marginBottom:-jd,paddingBottom:ME+jd}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${kE.actions}`]:{flexDirection:"column",marginTop:-jd,paddingTop:ME+jd}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${kE.actions}`]:{flexDirection:"row-reverse",marginRight:-jd,paddingRight:ME+jd}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${kE.actions}`]:{flexDirection:"row",marginLeft:-jd,paddingLeft:ME+jd}}}]}))),z5e=Ne(gne,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})({pointerEvents:"auto"}),U5e=Ne("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),H5e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSpeedDial"}),i=hd(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:s,FabProps:{ref:a,...l}={},children:u,className:c,direction:d="up",hidden:h=!1,icon:p,onBlur:m,onClose:y,onFocus:x,onKeyDown:w,onMouseEnter:E,onMouseLeave:S,onOpen:T,open:k,openIcon:N,slots:R={},slotProps:M={},TransitionComponent:L,TransitionProps:I,transitionDuration:O=o,...V}=r,[$,z]=bw({controlled:k,default:!1,name:"SpeedDial",state:"open"}),W={...r,open:$,direction:d},K=B5e(W),J=zh(),Q=F.useRef(0),X=F.useRef(),j=F.useRef([]);j.current=[j.current[0]];const Y=F.useCallback(Oe=>{j.current[0]=Oe},[]),ue=Nr(a,Y),q=(Oe,Qe)=>Ye=>{j.current[Oe+1]=Ye,Qe&&Qe(Ye)},de=Oe=>{w&&w(Oe);const Qe=Oe.key.replace("Arrow","").toLowerCase(),{current:Ye=Qe}=X;if(Oe.key==="Escape"){z(!1),j.current[0].focus(),y&&y(Oe,"escapeKeyDown");return}if(_b(Qe)===_b(Ye)&&_b(Qe)!==void 0){Oe.preventDefault();const dt=Qe===Ye?1:-1,Pe=Fte(Q.current+dt,0,j.current.length-1);j.current[Pe].focus(),Q.current=Pe,X.current=Ye}};F.useEffect(()=>{$||(Q.current=0,X.current=void 0)},[$]);const se=Oe=>{Oe.type==="mouseleave"&&S&&S(Oe),Oe.type==="blur"&&m&&m(Oe),J.clear(),Oe.type==="blur"?J.start(0,()=>{z(!1),y&&y(Oe,"blur")}):(z(!1),y&&y(Oe,"mouseLeave"))},ee=Oe=>{l.onClick&&l.onClick(Oe),J.clear(),$?(z(!1),y&&y(Oe,"toggle")):(z(!0),T&&T(Oe,"toggle"))},ae=Oe=>{Oe.type==="mouseenter"&&E&&E(Oe),Oe.type==="focus"&&x&&x(Oe),J.clear(),$||J.start(0,()=>{z(!0),T&&T(Oe,{focus:"focus",mouseenter:"mouseEnter"}[Oe.type])})},te=s.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ce=F.Children.toArray(u).filter(Oe=>F.isValidElement(Oe)),fe=ce.map((Oe,Qe)=>{const{FabProps:{ref:Ye,...dt}={},tooltipPlacement:Pe}=Oe.props,ut=Pe||(_b(d)==="vertical"?"left":"top");return F.cloneElement(Oe,{FabProps:{...dt,ref:q(Qe,Ye)},delay:30*($?Qe:ce.length-Qe),open:$,tooltipPlacement:ut,id:`${te}-action-${Qe}`})}),ge={transition:L,...R},xe={transition:I,...M},be={slots:ge,slotProps:xe},[Ee,Me]=Vt("root",{elementType:V5e,externalForwardedProps:{...be,...V},ownerState:W,ref:n,className:je(K.root,c),additionalProps:{role:"presentation"},getSlotProps:Oe=>({...Oe,onKeyDown:Qe=>{var Ye;(Ye=Oe.onKeyDown)==null||Ye.call(Oe,Qe),de(Qe)},onBlur:Qe=>{var Ye;(Ye=Oe.onBlur)==null||Ye.call(Oe,Qe),se(Qe)},onFocus:Qe=>{var Ye;(Ye=Oe.onFocus)==null||Ye.call(Oe,Qe),ae(Qe)},onMouseEnter:Qe=>{var Ye;(Ye=Oe.onMouseEnter)==null||Ye.call(Oe,Qe),ae(Qe)},onMouseLeave:Qe=>{var Ye;(Ye=Oe.onMouseLeave)==null||Ye.call(Oe,Qe),se(Qe)}})}),[st,Ve]=Vt("transition",{elementType:F5e,externalForwardedProps:be,ownerState:W});return D.jsxs(Ee,{...Me,children:[D.jsx(st,{in:!h,timeout:O,unmountOnExit:!0,...Ve,children:D.jsx(z5e,{color:"primary","aria-label":s,"aria-haspopup":"true","aria-expanded":$,"aria-controls":`${te}-actions`,...l,onClick:ee,className:je(K.fab,l.className),ref:ue,ownerState:W,children:F.isValidElement(p)&&Lx(p,["SpeedDialIcon"])?F.cloneElement(p,{open:$}):p})}),D.jsx(U5e,{id:`${te}-actions`,role:"menu","aria-orientation":_b(d),className:je(K.actions,!$&&K.actionsClosed),ownerState:W,children:fe})]})});function q5e(t){return Pt("MuiTooltip",t)}const Br=It("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function j5e(t){return Math.round(t*1e5)/1e5}const W5e=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${De(o.split("-")[0])}`],arrow:["arrow"]};return kt(s,q5e,e)},G5e=Ne(cne,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Nt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Br.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Br.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Br.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Br.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Br.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Br.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Br.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Br.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),K5e=Ne("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${De(n.placement.split("-")[0])}`]]}})(Nt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:cn(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Br.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Br.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Br.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Br.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${j5e(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Br.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Br.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Br.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Br.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Br.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Br.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Br.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Br.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Br.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Br.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Y5e=Ne("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Nt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:cn(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let NE=!1;const dj=new qR;let Sb={x:0,y:0};function DE(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const nx=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:c=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:y=0,enterTouchDelay:x=700,followCursor:w=!1,id:E,leaveDelay:S=0,leaveTouchDelay:T=1500,onClose:k,onOpen:N,open:R,placement:M="bottom",PopperComponent:L,PopperProps:I={},slotProps:O={},slots:V={},title:$,TransitionComponent:z,TransitionProps:W,...K}=r,J=F.isValidElement(o)?o:D.jsx("span",{children:o}),Q=hd(),X=I1(),[j,Y]=F.useState(),[ue,q]=F.useState(null),de=F.useRef(!1),se=h||w,ee=zh(),ae=zh(),te=zh(),ce=zh(),[fe,ge]=bw({controlled:R,default:!1,name:"Tooltip",state:"open"});let xe=fe;const be=_0(E),Ee=F.useRef(),Me=ba(()=>{Ee.current!==void 0&&(document.body.style.WebkitUserSelect=Ee.current,Ee.current=void 0),ce.clear()});F.useEffect(()=>Me,[Me]);const st=Kt=>{dj.clear(),NE=!0,ge(!0),N&&!xe&&N(Kt)},Ve=ba(Kt=>{dj.start(800+S,()=>{NE=!1}),ge(!1),k&&xe&&k(Kt),ee.start(Q.transitions.duration.shortest,()=>{de.current=!1})}),Oe=Kt=>{de.current&&Kt.type!=="touchstart"||(j&&j.removeAttribute("title"),ae.clear(),te.clear(),m||NE&&y?ae.start(NE?y:m,()=>{st(Kt)}):st(Kt))},Qe=Kt=>{ae.clear(),te.start(S,()=>{Ve(Kt)})},[,Ye]=F.useState(!1),dt=Kt=>{Zv(Kt.target)||(Ye(!1),Qe(Kt))},Pe=Kt=>{j||Y(Kt.currentTarget),Zv(Kt.target)&&(Ye(!0),Oe(Kt))},ut=Kt=>{de.current=!0;const pr=J.props;pr.onTouchStart&&pr.onTouchStart(Kt)},rt=Kt=>{ut(Kt),te.clear(),ee.clear(),Me(),Ee.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(x,()=>{document.body.style.WebkitUserSelect=Ee.current,Oe(Kt)})},mt=Kt=>{J.props.onTouchEnd&&J.props.onTouchEnd(Kt),Me(),te.start(T,()=>{Ve(Kt)})};F.useEffect(()=>{if(!xe)return;function Kt(pr){pr.key==="Escape"&&Ve(pr)}return document.addEventListener("keydown",Kt),()=>{document.removeEventListener("keydown",Kt)}},[Ve,xe]);const ve=Nr(_g(J),Y,n);!$&&$!==0&&(xe=!1);const Ce=F.useRef(),Ue=Kt=>{const pr=J.props;pr.onMouseMove&&pr.onMouseMove(Kt),Sb={x:Kt.clientX,y:Kt.clientY},Ce.current&&Ce.current.update()},nt={},Re=typeof $=="string";u?(nt.title=!xe&&Re&&!d?$:null,nt["aria-describedby"]=xe?be:null):(nt["aria-label"]=Re?$:null,nt["aria-labelledby"]=xe&&!Re?be:null);const Xe={...nt,...K,...J.props,className:je(K.className,J.props.className),onTouchStart:ut,ref:ve,...w?{onMouseMove:Ue}:{}},Zt={};p||(Xe.onTouchStart=rt,Xe.onTouchEnd=mt),d||(Xe.onMouseOver=DE(Oe,Xe.onMouseOver),Xe.onMouseLeave=DE(Qe,Xe.onMouseLeave),se||(Zt.onMouseOver=Oe,Zt.onMouseLeave=Qe)),c||(Xe.onFocus=DE(Pe,Xe.onFocus),Xe.onBlur=DE(dt,Xe.onBlur),se||(Zt.onFocus=Pe,Zt.onBlur=dt));const $t={...r,isRtl:X,arrow:i,disableInteractive:se,placement:M,PopperComponentProp:L,touch:de.current},en=typeof O.popper=="function"?O.popper($t):O.popper,Je=F.useMemo(()=>{var pr,it;let Kt=[{name:"arrow",enabled:!!ue,options:{element:ue,padding:4}}];return(pr=I.popperOptions)!=null&&pr.modifiers&&(Kt=Kt.concat(I.popperOptions.modifiers)),(it=en==null?void 0:en.popperOptions)!=null&&it.modifiers&&(Kt=Kt.concat(en.popperOptions.modifiers)),{...I.popperOptions,...en==null?void 0:en.popperOptions,modifiers:Kt}},[ue,I.popperOptions,en==null?void 0:en.popperOptions]),Lt=W5e($t),pn=typeof O.transition=="function"?O.transition($t):O.transition,Le={slots:{popper:a.Popper,transition:a.Transition??z,tooltip:a.Tooltip,arrow:a.Arrow,...V},slotProps:{arrow:O.arrow??l.arrow,popper:{...I,...en??l.popper},tooltip:O.tooltip??l.tooltip,transition:{...W,...pn??l.transition}}},[ot,Ht]=Vt("popper",{elementType:G5e,externalForwardedProps:Le,ownerState:$t,className:je(Lt.popper,I==null?void 0:I.className)}),[Ot,qt]=Vt("transition",{elementType:tA,externalForwardedProps:Le,ownerState:$t}),[gn,jt]=Vt("tooltip",{elementType:K5e,className:Lt.tooltip,externalForwardedProps:Le,ownerState:$t}),[En,Hr]=Vt("arrow",{elementType:Y5e,className:Lt.arrow,externalForwardedProps:Le,ownerState:$t,ref:q});return D.jsxs(F.Fragment,{children:[F.cloneElement(J,Xe),D.jsx(ot,{as:L??cne,placement:M,anchorEl:w?{getBoundingClientRect:()=>({top:Sb.y,left:Sb.x,right:Sb.x,bottom:Sb.y,width:0,height:0})}:j,popperRef:Ce,open:j?xe:!1,id:be,transition:!0,...Zt,...Ht,popperOptions:Je,children:({TransitionProps:Kt})=>D.jsx(Ot,{timeout:Q.transitions.duration.shorter,...Kt,...qt,children:D.jsxs(gn,{...jt,children:[$,i?D.jsx(En,{...Hr}):null]})})})]})});function X5e(t){return Pt("MuiSpeedDialAction",t)}const LE=It("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),J5e=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${De(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return kt(i,X5e,r)},Q5e=Ne(gne,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(Nt(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:jT(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]}))),Z5e=Ne("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${De(n.tooltipPlacement)}`]]}})(Nt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${LE.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${LE.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${LE.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${LE.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),e$e=Ne("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(Nt(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),OE=F.forwardRef(function(e,n){var Q;const r=Dt({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:o=0,FabProps:s={},icon:a,id:l,open:u,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:h="left",tooltipTitle:p,slots:m={},slotProps:y={},...x}=r,w={...r,tooltipPlacement:h},E=J5e(w),S={slots:m,slotProps:{fab:s,...y,tooltip:y4(typeof y.tooltip=="function"?y.tooltip(w):y.tooltip,{title:p,open:d,placement:h,classes:c})}},[T,k]=F.useState((Q=S.slotProps.tooltip)==null?void 0:Q.open),N=()=>{k(!1)},R=()=>{k(!0)},M={transitionDelay:`${o}ms`},[L,I]=Vt("fab",{elementType:Q5e,externalForwardedProps:S,ownerState:w,shouldForwardComponentProp:!0,className:je(E.fab,i),additionalProps:{style:M,tabIndex:-1,role:"menuitem",size:"small"}}),[O,V]=Vt("tooltip",{elementType:nx,externalForwardedProps:S,shouldForwardComponentProp:!0,ref:n,additionalProps:{id:l},ownerState:w,getSlotProps:X=>({...X,onClose:j=>{var Y;(Y=X.onClose)==null||Y.call(X,j),N()},onOpen:j=>{var Y;(Y=X.onOpen)==null||Y.call(X,j),R()}})}),[$,z]=Vt("staticTooltip",{elementType:Z5e,externalForwardedProps:S,ownerState:w,ref:n,className:E.staticTooltip,additionalProps:{id:l}}),[W,K]=Vt("staticTooltipLabel",{elementType:e$e,externalForwardedProps:S,ownerState:w,className:E.staticTooltipLabel,additionalProps:{style:M,id:`${l}-label`}}),J=D.jsx(L,{...I,children:a});return V.open?D.jsxs($,{...z,...x,children:[D.jsx(W,{...K,children:V.title}),F.cloneElement(J,{"aria-labelledby":`${l}-label`})]}):(!u&&T&&k(!1),D.jsx(O,{...V,title:V.title,open:u&&T,placement:V.placement,classes:V.classes,...x,children:J}))}),t$e=QMe({createStyledComponent:Ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Dt({props:t,name:"MuiStack"})});function n$e(t){return Pt("MuiSwitch",t)}const ko=It("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),r$e=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:s}=t,a={root:["root",n&&`edge${De(n)}`,`size${De(r)}`],switchBase:["switchBase",`color${De(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=kt(a,n$e,e);return{...e,...l}},i$e=Ne("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${De(n.edge)}`],e[`size${De(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ko.thumb}`]:{width:16,height:16},[`& .${ko.switchBase}`]:{padding:4,[`&.${ko.checked}`]:{transform:"translateX(16px)"}}}}]}),o$e=Ne(fne,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${ko.input}`]:e.input},n.color!=="default"&&e[`color${De(n.color)}`]]}})(Nt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${ko.checked}`]:{transform:"translateX(20px)"},[`&.${ko.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${ko.checked} + .${ko.track}`]:{opacity:.5},[`&.${ko.disabled} + .${ko.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${ko.input}`]:{left:"-100%",width:"300%"}})),Nt(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(Kr(["light"])).map(([e])=>({props:{color:e},style:{[`&.${ko.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:cn(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ko.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?rg(t.palette[e].main,.62):ng(t.palette[e].main,.55)}`}},[`&.${ko.checked} + .${ko.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),s$e=Ne("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(Nt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),a$e=Ne("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(Nt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),O4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l,slots:u={},slotProps:c={},...d}=r,h={...r,color:o,edge:s,size:a},p=r$e(h),m={slots:u,slotProps:c},[y,x]=Vt("root",{className:je(p.root,i),elementType:i$e,externalForwardedProps:m,ownerState:h,additionalProps:{sx:l}}),[w,E]=Vt("thumb",{className:p.thumb,elementType:a$e,externalForwardedProps:m,ownerState:h}),S=D.jsx(w,{...E}),[T,k]=Vt("track",{className:p.track,elementType:s$e,externalForwardedProps:m,ownerState:h});return D.jsxs(y,{...x,children:[D.jsx(o$e,{type:"checkbox",icon:S,checkedIcon:S,ref:n,ownerState:h,...d,classes:{...p,root:p.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...c.switchBase&&{root:typeof c.switchBase=="function"?c.switchBase(h):c.switchBase},...c.input&&{input:typeof c.input=="function"?c.input(h):c.input}}}),D.jsx(T,{...k})]})});function l$e(t){return Pt("MuiTab",t)}const ra=It("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),u$e=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,u={root:["root",o&&s&&"labelIcon",`textColor${De(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return kt(u,l$e,e)},c$e=Ne(bl,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${De(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${ra.iconWrapper}`]:e.iconWrapper},{[`& .${ra.icon}`]:e.icon}]}})(Nt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${ra.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${ra.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${ra.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${ra.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${ra.selected}`]:{opacity:1},[`&.${ra.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${ra.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${ra.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${ra.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${ra.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Qk=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:u="top",indicator:c,label:d,onChange:h,onClick:p,onFocus:m,selected:y,selectionFollowsFocus:x,textColor:w="inherit",value:E,wrapped:S=!1,...T}=r,k={...r,disabled:o,disableFocusRipple:s,selected:y,icon:!!l,iconPosition:u,label:!!d,fullWidth:a,textColor:w,wrapped:S},N=u$e(k),R=l&&d&&F.isValidElement(l)?F.cloneElement(l,{className:je(N.icon,l.props.className)}):l,M=I=>{!y&&h&&h(I,E),p&&p(I)},L=I=>{x&&!y&&h&&h(I,E),m&&m(I)};return D.jsxs(c$e,{focusRipple:!s,className:je(N.root,i),ref:n,role:"tab","aria-selected":y,disabled:o,onClick:M,onFocus:L,ownerState:k,tabIndex:y?0:-1,...T,children:[u==="top"||u==="start"?D.jsxs(F.Fragment,{children:[R,d]}):D.jsxs(F.Fragment,{children:[d,R]}),c]})}),Sne=F.createContext();function d$e(t){return Pt("MuiTable",t)}It("MuiTable",["root","stickyHeader"]);const f$e=t=>{const{classes:e,stickyHeader:n}=t;return kt({root:["root",n&&"stickyHeader"]},d$e,e)},h$e=Ne("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Nt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),fj="table",p$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTable"}),{className:i,component:o=fj,padding:s="normal",size:a="medium",stickyHeader:l=!1,...u}=r,c={...r,component:o,padding:s,size:a,stickyHeader:l},d=f$e(c),h=F.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return D.jsx(Sne.Provider,{value:h,children:D.jsx(h$e,{as:o,role:o===fj?null:"table",ref:n,className:je(d.root,i),ownerState:c,...u})})}),QR=F.createContext();function g$e(t){return Pt("MuiTableBody",t)}It("MuiTableBody",["root"]);const m$e=t=>{const{classes:e}=t;return kt({root:["root"]},g$e,e)},y$e=Ne("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),v$e={variant:"body"},hj="tbody",b$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableBody"}),{className:i,component:o=hj,...s}=r,a={...r,component:o},l=m$e(a);return D.jsx(QR.Provider,{value:v$e,children:D.jsx(y$e,{className:je(l.root,i),as:o,ref:n,role:o===hj?null:"rowgroup",ownerState:a,...s})})});function x$e(t){return Pt("MuiTableCell",t)}const w$e=It("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),_$e=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${De(r)}`,i!=="normal"&&`padding${De(i)}`,`size${De(o)}`]};return kt(a,x$e,e)},S$e=Ne("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${De(n.size)}`],n.padding!=="normal"&&e[`padding${De(n.padding)}`],n.align!=="inherit"&&e[`align${De(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Nt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?rg(cn(t.palette.divider,1),.88):ng(cn(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${w$e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),FE=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:u,sortDirection:c,variant:d,...h}=r,p=F.useContext(Sne),m=F.useContext(QR),y=m&&m.variant==="head";let x;s?x=s:x=y?"th":"td";let w=l;x==="td"?w=void 0:!w&&y&&(w="col");const E=d||m&&m.variant,S={...r,align:i,component:x,padding:a||(p&&p.padding?p.padding:"normal"),size:u||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:E==="head"&&p&&p.stickyHeader,variant:E},T=_$e(S);let k=null;return c&&(k=c==="asc"?"ascending":"descending"),D.jsx(S$e,{as:x,ref:n,className:je(T.root,o),"aria-sort":k,scope:w,ownerState:S,...h})});function E$e(t){return Pt("MuiTableHead",t)}It("MuiTableHead",["root"]);const C$e=t=>{const{classes:e}=t;return kt({root:["root"]},E$e,e)},T$e=Ne("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),A$e={variant:"head"},pj="thead",R$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableHead"}),{className:i,component:o=pj,...s}=r,a={...r,component:o},l=C$e(a);return D.jsx(QR.Provider,{value:A$e,children:D.jsx(T$e,{as:o,className:je(l.root,i),ref:n,role:o===pj?null:"rowgroup",ownerState:a,...s})})}),P$e=Ut(D.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),I$e=Ut(D.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function k$e(t){return Pt("MuiTableRow",t)}const gj=It("MuiTableRow",["root","selected","hover","head","footer"]),M$e=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return kt({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},k$e,e)},N$e=Ne("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Nt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${gj.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${gj.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:cn(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:cn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),mj="tr",yj=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableRow"}),{className:i,component:o=mj,hover:s=!1,selected:a=!1,...l}=r,u=F.useContext(QR),c={...r,component:o,hover:s,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},d=M$e(c);return D.jsx(N$e,{as:o,ref:n,className:je(d.root,i),role:o===mj?null:"row",ownerState:c,...l})});function D$e(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function L$e(t,e,n,r={},i=()=>{}){const{ease:o=D$e,duration:s=300}=r;let a=null;const l=e[t];let u=!1;const c=()=>{u=!0},d=h=>{if(u){i(new Error("Animation cancelled"));return}a===null&&(a=h);const p=Math.min(1,(h-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),c):(requestAnimationFrame(d),c)}const O$e={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function F$e(t){const{onChange:e,...n}=t,r=F.useRef(),i=F.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return wa(()=>{const s=HR(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=vl(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),F.useEffect(()=>{o(),e(r.current)},[e]),D.jsx("div",{style:O$e,...n,ref:i})}function $$e(t){return Pt("MuiTabScrollButton",t)}const B$e=It("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),V$e=t=>{const{classes:e,orientation:n,disabled:r}=t;return kt({root:["root",n,r&&"disabled"]},$$e,e)},z$e=Ne(bl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${B$e.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),U$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:s={},direction:a,orientation:l,disabled:u,...c}=r,d=I1(),h={isRtl:d,...r},p=V$e(h),m=o.StartScrollButtonIcon??P$e,y=o.EndScrollButtonIcon??I$e,x=ig({elementType:m,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),w=ig({elementType:y,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return D.jsx(z$e,{component:"div",className:je(p.root,i),ref:n,role:null,ownerState:h,tabIndex:null,...c,style:{...c.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${d?-90:90}deg)`}},children:a==="left"?D.jsx(m,{...x}):D.jsx(y,{...w})})});function H$e(t){return Pt("MuiTabs",t)}const Zk=It("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),vj=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,bj=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,$E=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},q$e=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return kt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},H$e,l)},j$e=Ne("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Zk.scrollButtons}`]:e.scrollButtons},{[`& .${Zk.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(Nt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Zk.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),W$e=Ne("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),G$e=Ne("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),K$e=Ne("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(Nt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Y$e=Ne(F$e)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),xj={},X$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTabs"}),i=hd(),o=I1(),{"aria-label":s,"aria-labelledby":a,action:l,centered:u=!1,children:c,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:m="primary",onChange:y,orientation:x="horizontal",ScrollButtonComponent:w,scrollButtons:E="auto",selectionFollowsFocus:S,slots:T={},slotProps:k={},TabIndicatorProps:N={},TabScrollButtonProps:R={},textColor:M="primary",value:L,variant:I="standard",visibleScrollbar:O=!1,...V}=r,$=I==="scrollable",z=x==="vertical",W=z?"scrollTop":"scrollLeft",K=z?"top":"left",J=z?"bottom":"right",Q=z?"clientHeight":"clientWidth",X=z?"height":"width",j={...r,component:h,allowScrollButtonsMobile:p,indicatorColor:m,orientation:x,vertical:z,scrollButtons:E,textColor:M,variant:I,visibleScrollbar:O,fixed:!$,hideScrollbar:$&&!O,scrollableX:$&&!z,scrollableY:$&&z,centered:u&&!$,scrollButtonsHideMobile:!p},Y=q$e(j),ue=ig({elementType:T.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:j}),q=ig({elementType:T.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:j}),[de,se]=F.useState(!1),[ee,ae]=F.useState(xj),[te,ce]=F.useState(!1),[fe,ge]=F.useState(!1),[xe,be]=F.useState(!1),[Ee,Me]=F.useState({overflow:"hidden",scrollbarWidth:0}),st=new Map,Ve=F.useRef(null),Oe=F.useRef(null),Qe={slots:T,slotProps:{indicator:N,scrollButton:R,...k}},Ye=()=>{const it=Ve.current;let et;if(it){const rn=it.getBoundingClientRect();et={clientWidth:it.clientWidth,scrollLeft:it.scrollLeft,scrollTop:it.scrollTop,scrollWidth:it.scrollWidth,top:rn.top,bottom:rn.bottom,left:rn.left,right:rn.right}}let dn;if(it&&L!==!1){const rn=Oe.current.children;if(rn.length>0){const Fn=rn[st.get(L)];dn=Fn?Fn.getBoundingClientRect():null}}return{tabsMeta:et,tabMeta:dn}},dt=ba(()=>{const{tabsMeta:it,tabMeta:et}=Ye();let dn=0,rn;z?(rn="top",et&&it&&(dn=et.top-it.top+it.scrollTop)):(rn=o?"right":"left",et&&it&&(dn=(o?-1:1)*(et[rn]-it[rn]+it.scrollLeft)));const Fn={[rn]:dn,[X]:et?et[X]:0};if(typeof ee[rn]!="number"||typeof ee[X]!="number")ae(Fn);else{const Jr=Math.abs(ee[rn]-Fn[rn]),Zi=Math.abs(ee[X]-Fn[X]);(Jr>=1||Zi>=1)&&ae(Fn)}}),Pe=(it,{animation:et=!0}={})=>{et?L$e(W,Ve.current,it,{duration:i.transitions.duration.standard}):Ve.current[W]=it},ut=it=>{let et=Ve.current[W];z?et+=it:et+=it*(o?-1:1),Pe(et)},rt=()=>{const it=Ve.current[Q];let et=0;const dn=Array.from(Oe.current.children);for(let rn=0;rn<dn.length;rn+=1){const Fn=dn[rn];if(et+Fn[Q]>it){rn===0&&(et=it);break}et+=Fn[Q]}return et},mt=()=>{ut(-1*rt())},ve=()=>{ut(rt())},[Ce,{onChange:Ue,...nt}]=Vt("scrollbar",{className:je(Y.scrollableX,Y.hideScrollbar),elementType:Y$e,shouldForwardComponentProp:!0,externalForwardedProps:Qe,ownerState:j}),Re=F.useCallback(it=>{Ue==null||Ue(it),Me({overflow:null,scrollbarWidth:it})},[Ue]),[Xe,Zt]=Vt("scrollButtons",{className:je(Y.scrollButtons,R.className),elementType:U$e,externalForwardedProps:Qe,ownerState:j,additionalProps:{orientation:x,slots:{StartScrollButtonIcon:T.startScrollButtonIcon||T.StartScrollButtonIcon,EndScrollButtonIcon:T.endScrollButtonIcon||T.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ue,endScrollButtonIcon:q}}}),$t=()=>{const it={};it.scrollbarSizeListener=$?D.jsx(Ce,{...nt,onChange:Re}):null;const dn=$&&(E==="auto"&&(te||fe)||E===!0);return it.scrollButtonStart=dn?D.jsx(Xe,{direction:o?"right":"left",onClick:mt,disabled:!te,...Zt}):null,it.scrollButtonEnd=dn?D.jsx(Xe,{direction:o?"left":"right",onClick:ve,disabled:!fe,...Zt}):null,it},en=ba(it=>{const{tabsMeta:et,tabMeta:dn}=Ye();if(!(!dn||!et)){if(dn[K]<et[K]){const rn=et[W]+(dn[K]-et[K]);Pe(rn,{animation:it})}else if(dn[J]>et[J]){const rn=et[W]+(dn[J]-et[J]);Pe(rn,{animation:it})}}}),Je=ba(()=>{$&&E!==!1&&be(!xe)});F.useEffect(()=>{const it=HR(()=>{Ve.current&&dt()});let et;const dn=Jr=>{Jr.forEach(Zi=>{Zi.removedNodes.forEach(di=>{et==null||et.unobserve(di)}),Zi.addedNodes.forEach(di=>{et==null||et.observe(di)})}),it(),Je()},rn=vl(Ve.current);rn.addEventListener("resize",it);let Fn;return typeof ResizeObserver<"u"&&(et=new ResizeObserver(it),Array.from(Oe.current.children).forEach(Jr=>{et.observe(Jr)})),typeof MutationObserver<"u"&&(Fn=new MutationObserver(dn),Fn.observe(Oe.current,{childList:!0})),()=>{it.clear(),rn.removeEventListener("resize",it),Fn==null||Fn.disconnect(),et==null||et.disconnect()}},[dt,Je]),F.useEffect(()=>{const it=Array.from(Oe.current.children),et=it.length;if(typeof IntersectionObserver<"u"&&et>0&&$&&E!==!1){const dn=it[0],rn=it[et-1],Fn={root:Ve.current,threshold:.99},Jr=Hu=>{ce(!Hu[0].isIntersecting)},Zi=new IntersectionObserver(Jr,Fn);Zi.observe(dn);const di=Hu=>{ge(!Hu[0].isIntersecting)},Pl=new IntersectionObserver(di,Fn);return Pl.observe(rn),()=>{Zi.disconnect(),Pl.disconnect()}}},[$,E,xe,c==null?void 0:c.length]),F.useEffect(()=>{se(!0)},[]),F.useEffect(()=>{dt()}),F.useEffect(()=>{en(xj!==ee)},[en,ee]),F.useImperativeHandle(l,()=>({updateIndicator:dt,updateScrollButtons:Je}),[dt,Je]);const[Lt,pn]=Vt("indicator",{className:je(Y.indicator,N.className),elementType:K$e,externalForwardedProps:Qe,ownerState:j,additionalProps:{style:ee}}),Le=D.jsx(Lt,{...pn});let ot=0;const Ht=F.Children.map(c,it=>{if(!F.isValidElement(it))return null;const et=it.props.value===void 0?ot:it.props.value;st.set(et,ot);const dn=et===L;return ot+=1,F.cloneElement(it,{fullWidth:I==="fullWidth",indicator:dn&&!de&&Le,selected:dn,selectionFollowsFocus:S,onChange:y,textColor:M,value:et,...ot===1&&L===!1&&!it.props.tabIndex?{tabIndex:0}:{}})}),Ot=it=>{if(it.altKey||it.shiftKey||it.ctrlKey||it.metaKey)return;const et=Oe.current,dn=ps(et).activeElement;if(dn.getAttribute("role")!=="tab")return;let Fn=x==="horizontal"?"ArrowLeft":"ArrowUp",Jr=x==="horizontal"?"ArrowRight":"ArrowDown";switch(x==="horizontal"&&o&&(Fn="ArrowRight",Jr="ArrowLeft"),it.key){case Fn:it.preventDefault(),$E(et,dn,bj);break;case Jr:it.preventDefault(),$E(et,dn,vj);break;case"Home":it.preventDefault(),$E(et,null,vj);break;case"End":it.preventDefault(),$E(et,null,bj);break}},qt=$t(),[gn,jt]=Vt("root",{ref:n,className:je(Y.root,d),elementType:j$e,externalForwardedProps:{...Qe,...V,component:h},ownerState:j}),[En,Hr]=Vt("scroller",{ref:Ve,className:Y.scroller,elementType:W$e,externalForwardedProps:Qe,ownerState:j,additionalProps:{style:{overflow:Ee.overflow,[z?`margin${o?"Left":"Right"}`:"marginBottom"]:O?void 0:-Ee.scrollbarWidth}}}),[Kt,pr]=Vt("list",{ref:Oe,className:je(Y.list,Y.flexContainer),elementType:G$e,externalForwardedProps:Qe,ownerState:j,getSlotProps:it=>({...it,onKeyDown:et=>{var dn;Ot(et),(dn=it.onKeyDown)==null||dn.call(it,et)}})});return D.jsxs(gn,{...jt,children:[qt.scrollButtonStart,qt.scrollbarSizeListener,D.jsxs(En,{...Hr,children:[D.jsx(Kt,{"aria-label":s,"aria-labelledby":a,"aria-orientation":x==="vertical"?"vertical":null,role:"tablist",...pr,children:Ht}),de&&Le]}),qt.scrollButtonEnd]})});function J$e(t){return Pt("MuiTextField",t)}It("MuiTextField",["root"]);const Q$e={standard:M4,filled:k4,outlined:D4},Z$e=t=>{const{classes:e}=t;return kt({root:["root"]},J$e,e)},e4e=Ne(XOe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Mi=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:x,inputProps:w,InputProps:E,inputRef:S,label:T,maxRows:k,minRows:N,multiline:R=!1,name:M,onBlur:L,onChange:I,onFocus:O,placeholder:V,required:$=!1,rows:z,select:W=!1,SelectProps:K,slots:J={},slotProps:Q={},type:X,value:j,variant:Y="outlined",...ue}=r,q={...r,autoFocus:o,color:l,disabled:c,error:d,fullWidth:p,multiline:R,required:$,select:W,variant:Y},de=Z$e(q),se=_0(y),ee=m&&se?`${se}-helper-text`:void 0,ae=T&&se?`${se}-label`:void 0,te=Q$e[Y],ce={slots:J,slotProps:{input:E,inputLabel:x,htmlInput:w,formHelperText:h,select:K,...Q}},fe={},ge=ce.slotProps.inputLabel;Y==="outlined"&&(ge&&typeof ge.shrink<"u"&&(fe.notched=ge.shrink),fe.label=T),W&&((!K||!K.native)&&(fe.id=void 0),fe["aria-describedby"]=void 0);const[xe,be]=Vt("root",{elementType:e4e,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...ue},ownerState:q,className:je(de.root,a),ref:n,additionalProps:{disabled:c,error:d,fullWidth:p,required:$,color:l,variant:Y}}),[Ee,Me]=Vt("input",{elementType:te,externalForwardedProps:ce,additionalProps:fe,ownerState:q}),[st,Ve]=Vt("inputLabel",{elementType:CFe,externalForwardedProps:ce,ownerState:q}),[Oe,Qe]=Vt("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:q}),[Ye,dt]=Vt("formHelperText",{elementType:lFe,externalForwardedProps:ce,ownerState:q}),[Pe,ut]=Vt("select",{elementType:_ne,externalForwardedProps:ce,ownerState:q}),rt=D.jsx(Ee,{"aria-describedby":ee,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:R,name:M,rows:z,maxRows:k,minRows:N,type:X,value:j,id:se,inputRef:S,onBlur:L,onChange:I,onFocus:O,placeholder:V,inputProps:Qe,slots:{input:J.htmlInput?Oe:void 0},...Me});return D.jsxs(xe,{...be,children:[T!=null&&T!==""&&D.jsx(st,{htmlFor:se,id:ae,...Ve,children:T}),W?D.jsx(Pe,{"aria-describedby":ee,id:se,labelId:ae,value:j,input:rt,...ut,children:s}):rt,m&&D.jsx(Ye,{id:ee,...dt,children:m})]})}),t4e=Ut(D.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),eM=Ut(D.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),Ene=Ut(D.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),Cne=Ut(D.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),n4e=Ut(D.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),r4e=Ut(D.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),i4e=Ut(D.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),o4e=Ut(D.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),s4e=Ut(D.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),a4e=Ut(D.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank"),l4e=Ut(D.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),u4e=Ut(D.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),F4=Ut(D.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),c4e=Ut(D.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),d4e=Ut(D.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),wj=Ut(D.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),f4e=Ut(D.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),h4e=Ut(D.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Tne=Ut(D.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),p4e=Ut(D.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),g4e=Ut(D.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),_j=Ut(D.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),m4e=Ut(D.jsx("path",{d:"M9 21c0 .5.4 1 1 1h4c.6 0 1-.5 1-1v-1H9zm3-19C8.1 2 5 5.1 5 9c0 2.4 1.2 4.5 3 5.7V17c0 .5.4 1 1 1h6c.6 0 1-.5 1-1v-2.3c1.8-1.3 3-3.4 3-5.7 0-3.9-3.1-7-7-7"}),"Lightbulb"),y4e=Ut(D.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),v4e=Ut([D.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),D.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),b4e=Ut(D.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),x4e=Ut(D.jsx("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation"),Ane=Ut(D.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),w4e=Ut(D.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),$4=Ut(D.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),_4e=Ut(D.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),S4e=Ut(D.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}),"Polyline"),E4e=Ut(D.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),XO=Ut(D.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),C4e=Ut(D.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),T4e=Ut(D.jsx("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m-2-1h8v-2H5zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5m4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94z"}),"TipsAndUpdates"),A4e=Ut(D.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune"),R4e=Ut(D.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),P4e=Ut(D.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Sj=Ut(D.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube"),rA="/re-ad/re-ad-icon.svg";var Eb={},Ej;function I4e(){if(Ej)return Eb;Ej=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.parse=s,Eb.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function s(h,p){const m=new o,y=h.length;if(y<2)return m;const x=(p==null?void 0:p.decode)||c;let w=0;do{const E=h.indexOf("=",w);if(E===-1)break;const S=h.indexOf(";",w),T=S===-1?y:S;if(E>T){w=h.lastIndexOf(";",E-1)+1;continue}const k=a(h,w,E),N=l(h,E,k),R=h.slice(k,N);if(m[R]===void 0){let M=a(h,E+1,T),L=l(h,T,M);const I=x(h.slice(M,L));m[R]=I}w=T+1}while(w<y);return m}function a(h,p,m){do{const y=h.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<m);return m}function l(h,p,m){for(;p>m;){const y=h.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return m}function u(h,p,m){const y=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const x=y(p);if(!e.test(x))throw new TypeError(`argument val is invalid: ${p}`);let w=h+"="+x;if(!m)return w;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);w+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);w+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);w+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);w+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(w+="; HttpOnly"),m.secure&&(w+="; Secure"),m.partitioned&&(w+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return w}function c(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return i.call(h)==="[object Date]"}return Eb}I4e();var Cj="popstate";function k4e(t={}){function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Sg(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),JO("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Cw(o))}function r(i,o){xl(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return N4e(e,n,r,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M4e(){return Math.random().toString(36).substring(2,10)}function Tj(t,e){return{usr:t.state,key:t.key,idx:e}}function JO(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Sg(e):e,state:n,key:e&&e.key||r||M4e()}}function Cw({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function N4e(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let x=c(),w=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:w})}function h(x,w){a="PUSH";let E=JO(y.location,x,w);n&&n(E,x),u=c()+1;let S=Tj(E,u),T=y.createHref(E);try{s.pushState(S,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(T)}o&&l&&l({action:a,location:y.location,delta:1})}function p(x,w){a="REPLACE";let E=JO(y.location,x,w);n&&n(E,x),u=c();let S=Tj(E,u),T=y.createHref(E);s.replaceState(S,"",T),o&&l&&l({action:a,location:y.location,delta:0})}function m(x){return D4e(x)}let y={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Cj,d),l=x,()=>{i.removeEventListener(Cj,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let w=m(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(x){return s.go(x)}};return y}function D4e(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kr(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Cw(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Rne(t,e,n="/"){return L4e(t,e,n,!1)}function L4e(t,e,n,r){let i=typeof e=="string"?Sg(e):e,o=sd(i.pathname||"/",n);if(o==null)return null;let s=Pne(t);O4e(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=G4e(o);a=j4e(s[l],u,r)}return a}function Pne(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(kr(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Kc([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(kr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Pne(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:H4e(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Ine(o.path))i(o,s,l)}),e}function Ine(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Ine(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function O4e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:q4e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F4e=/^:[\w-]+$/,$4e=3,B4e=2,V4e=1,z4e=10,U4e=-2,Aj=t=>t==="*";function H4e(t,e){let n=t.split("/"),r=n.length;return n.some(Aj)&&(r+=U4e),e&&(r+=B4e),n.filter(i=>!Aj(i)).reduce((i,o)=>i+(F4e.test(o)?$4e:o===""?V4e:z4e),r)}function q4e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function j4e(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=iA({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=iA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Kc([o,d.pathname]),pathnameBase:J4e(Kc([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=Kc([o,d.pathnameBase]))}return s}function iA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W4e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function W4e(t,e=!1,n=!0){xl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function G4e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function K4e(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sg(t):t;return{pathname:n?n.startsWith("/")?n:Y4e(n,e):e,search:Q4e(r),hash:Z4e(i)}}function Y4e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tM(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X4e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kne(t){let e=X4e(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Mne(t,e,n,r=!1){let i;typeof t=="string"?i=Sg(t):(i={...t},kr(!i.pathname||!i.pathname.includes("?"),tM("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),tM("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),tM("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=K4e(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Kc=t=>t.join("/").replace(/\/\/+/g,"/"),J4e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q4e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Z4e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e3e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Nne=["POST","PUT","PATCH","DELETE"];new Set(Nne);var t3e=["GET",...Nne];new Set(t3e);var S0=F.createContext(null);S0.displayName="DataRouter";var ZR=F.createContext(null);ZR.displayName="DataRouterState";var Dne=F.createContext({isTransitioning:!1});Dne.displayName="ViewTransition";var n3e=F.createContext(new Map);n3e.displayName="Fetchers";var r3e=F.createContext(null);r3e.displayName="Await";var zu=F.createContext(null);zu.displayName="Navigation";var N1=F.createContext(null);N1.displayName="Location";var pd=F.createContext({outlet:null,matches:[],isDataRoute:!1});pd.displayName="Route";var B4=F.createContext(null);B4.displayName="RouteError";function i3e(t,{relative:e}={}){kr(D1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(zu),{hash:i,pathname:o,search:s}=L1(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Kc([n,o])),r.createHref({pathname:a,search:s,hash:i})}function D1(){return F.useContext(N1)!=null}function Eg(){return kr(D1(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(N1).location}var Lne="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function One(t){F.useContext(zu).static||F.useLayoutEffect(t)}function eP(){let{isDataRoute:t}=F.useContext(pd);return t?y3e():o3e()}function o3e(){kr(D1(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(S0),{basename:e,navigator:n}=F.useContext(zu),{matches:r}=F.useContext(pd),{pathname:i}=Eg(),o=JSON.stringify(kne(r)),s=F.useRef(!1);return One(()=>{s.current=!0}),F.useCallback((l,u={})=>{if(xl(s.current,Lne),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=Mne(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Kc([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}F.createContext(null);function L1(t,{relative:e}={}){let{matches:n}=F.useContext(pd),{pathname:r}=Eg(),i=JSON.stringify(kne(n));return F.useMemo(()=>Mne(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function s3e(t,e){return Fne(t,e)}function Fne(t,e,n,r){var w;kr(D1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(zu),{matches:o}=F.useContext(pd),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let E=c&&c.path||"";$ne(l,!c||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=Eg(),h;if(e){let E=typeof e=="string"?Sg(e):e;kr(u==="/"||((w=E.pathname)==null?void 0:w.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),h=E}else h=d;let p=h.pathname||"/",m=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Rne(t,{pathname:m});xl(c||y!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),xl(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=d3e(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Kc([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Kc([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&x?F.createElement(N1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function a3e(){let t=m3e(),e=e3e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}var l3e=F.createElement(a3e,null),u3e=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(pd.Provider,{value:this.props.routeContext},F.createElement(B4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c3e({routeContext:t,match:e,children:n}){let r=F.useContext(S0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(pd.Provider,{value:t},n)}function d3e(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);kr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,h=!1,p=null,m=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||l3e,s&&(a<0&&c===0?($ne("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===c&&(h=!0,m=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),x=()=>{let w;return d?w=p:h?w=m:u.route.Component?w=F.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=l,F.createElement(c3e,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?F.createElement(u3e,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}function V4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f3e(t){let e=F.useContext(S0);return kr(e,V4(t)),e}function h3e(t){let e=F.useContext(ZR);return kr(e,V4(t)),e}function p3e(t){let e=F.useContext(pd);return kr(e,V4(t)),e}function z4(t){let e=p3e(t),n=e.matches[e.matches.length-1];return kr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function g3e(){return z4("useRouteId")}function m3e(){var r;let t=F.useContext(B4),e=h3e("useRouteError"),n=z4("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function y3e(){let{router:t}=f3e("useNavigate"),e=z4("useNavigate"),n=F.useRef(!1);return One(()=>{n.current=!0}),F.useCallback(async(i,o={})=>{xl(n.current,Lne),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Rj={};function $ne(t,e,n){!e&&!Rj[t]&&(Rj[t]=!0,xl(!1,n))}F.memo(v3e);function v3e({routes:t,future:e,state:n}){return Fne(t,void 0,n,e)}function RC(t){kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b3e({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){kr(!D1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=F.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Sg(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,p=F.useMemo(()=>{let m=sd(l,s);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:h},navigationType:r}},[s,l,u,c,d,h,r]);return xl(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:F.createElement(zu.Provider,{value:a},F.createElement(N1.Provider,{children:e,value:p}))}function x3e({children:t,location:e}){return s3e(QO(t),e)}function QO(t,e=[]){let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,QO(r.props.children,o));return}kr(r.type===RC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=QO(r.props.children,o)),n.push(s)}),n}var PC="get",IC="application/x-www-form-urlencoded";function tP(t){return t!=null&&typeof t.tagName=="string"}function w3e(t){return tP(t)&&t.tagName.toLowerCase()==="button"}function _3e(t){return tP(t)&&t.tagName.toLowerCase()==="form"}function S3e(t){return tP(t)&&t.tagName.toLowerCase()==="input"}function E3e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C3e(t,e){return t.button===0&&(!e||e==="_self")&&!E3e(t)}var BE=null;function T3e(){if(BE===null)try{new FormData(document.createElement("form"),0),BE=!1}catch{BE=!0}return BE}var A3e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nM(t){return t!=null&&!A3e.has(t)?(xl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${IC}"`),null):t}function R3e(t,e){let n,r,i,o,s;if(_3e(t)){let a=t.getAttribute("action");r=a?sd(a,e):null,n=t.getAttribute("method")||PC,i=nM(t.getAttribute("enctype"))||IC,o=new FormData(t)}else if(w3e(t)||S3e(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?sd(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||PC,i=nM(t.getAttribute("formenctype"))||nM(a.getAttribute("enctype"))||IC,o=new FormData(a,t),!T3e()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,d)}}else{if(tP(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=PC,r=null,i=IC,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function U4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function P3e(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I3e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function k3e(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await P3e(o,n);return s.links?s.links():[]}return[]}));return L3e(r.flat(1).filter(I3e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Pj(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function M3e(t,e,{includeHydrateFallback:n}={}){return N3e(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function N3e(t){return[...new Set(t)]}function D3e(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function L3e(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(D3e(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O3e=new Set([100,101,204,205]);function F3e(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&sd(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Bne(){let t=F.useContext(S0);return U4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $3e(){let t=F.useContext(ZR);return U4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var H4=F.createContext(void 0);H4.displayName="FrameworkContext";function Vne(){let t=F.useContext(H4);return U4(t,"You must render this element inside a <HydratedRouter> element"),t}function B3e(t,e){let n=F.useContext(H4),[r,i]=F.useState(!1),[o,s]=F.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,h=F.useRef(null);F.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=w=>{w.forEach(E=>{s(E.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),F.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:Cb(a,p),onBlur:Cb(l,m),onMouseEnter:Cb(u,p),onMouseLeave:Cb(c,m),onTouchStart:Cb(d,p)}]:[!1,h,{}]}function Cb(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function V3e({page:t,...e}){let{router:n}=Bne(),r=F.useMemo(()=>Rne(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(U3e,{page:t,matches:r,...e}):null}function z3e(t){let{manifest:e,routeModules:n}=Vne(),[r,i]=F.useState([]);return F.useEffect(()=>{let o=!1;return k3e(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function U3e({page:t,matches:e,...n}){let r=Eg(),{manifest:i,routeModules:o}=Vne(),{basename:s}=Bne(),{loaderData:a,matches:l}=$3e(),u=F.useMemo(()=>Pj(t,e,l,i,r,"data"),[t,e,l,i,r]),c=F.useMemo(()=>Pj(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(w=>{var S;let E=i.routes[w.route.id];!E||!E.hasLoader||(!u.some(T=>T.route.id===w.route.id)&&w.route.id in a&&((S=o[w.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?y=!0:m.add(w.route.id))}),m.size===0)return[];let x=F3e(t,s);return y&&m.size>0&&x.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[x.pathname+x.search]},[s,a,r,i,u,e,t,o]),h=F.useMemo(()=>M3e(c,i),[c,i]),p=z3e(c);return F.createElement(F.Fragment,null,d.map(m=>F.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>F.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>F.createElement("link",{key:m,...y})))}function H3e(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zne&&(window.__reactRouterVersion="7.6.2")}catch{}function q3e({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=k4e({window:n,v5Compat:!0}));let i=r.current,[o,s]=F.useState({action:i.action,location:i.location}),a=F.useCallback(l=>{F.startTransition(()=>s(l))},[s]);return F.useLayoutEffect(()=>i.listen(a),[i,a]),F.createElement(b3e,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Une=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hne=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},p){let{basename:m}=F.useContext(zu),y=typeof u=="string"&&Une.test(u),x,w=!1;if(typeof u=="string"&&y&&(x=u,zne))try{let L=new URL(window.location.href),I=u.startsWith("//")?new URL(L.protocol+u):new URL(u),O=sd(I.pathname,m);I.origin===L.origin&&O!=null?u=O+I.search+I.hash:w=!0}catch{xl(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=i3e(u,{relative:i}),[S,T,k]=B3e(r,h),N=K3e(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function R(L){e&&e(L),L.defaultPrevented||N(L)}let M=F.createElement("a",{...h,...k,href:x||E,onClick:w||o?e:R,ref:H3e(p,T),target:l,"data-discover":!y&&n==="render"?"true":void 0});return S&&!y?F.createElement(F.Fragment,null,M,F.createElement(V3e,{page:E})):M});Hne.displayName="Link";var j3e=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=L1(s,{relative:u.relative}),h=Eg(),p=F.useContext(ZR),{navigator:m,basename:y}=F.useContext(zu),x=p!=null&&Z3e(d)&&a===!0,w=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,E=h.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(E=E.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&y&&(S=sd(S,y)||S);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=E===w||!i&&E.startsWith(w)&&E.charAt(T)==="/",N=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),R={isActive:k,isPending:N,isTransitioning:x},M=k?e:void 0,L;typeof r=="function"?L=r(R):L=[r,k?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(R):o;return F.createElement(Hne,{...u,"aria-current":M,className:L,ref:c,style:I,to:s,viewTransition:a},typeof l=="function"?l(R):l)});j3e.displayName="NavLink";var W3e=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=PC,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},p)=>{let m=J3e(),y=Q3e(a,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&Une.test(a),E=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,k=(T==null?void 0:T.getAttribute("formmethod"))||s;m(T||S.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return F.createElement("form",{ref:p,method:x,action:y,onSubmit:r?l:E,...h,"data-discover":!w&&t==="render"?"true":void 0})});W3e.displayName="Form";function G3e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qne(t){let e=F.useContext(S0);return kr(e,G3e(t)),e}function K3e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=eP(),l=Eg(),u=L1(t,{relative:o});return F.useCallback(c=>{if(C3e(c,e)){c.preventDefault();let d=n!==void 0?n:Cw(l)===Cw(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var Y3e=0,X3e=()=>`__${String(++Y3e)}__`;function J3e(){let{router:t}=qne("useSubmit"),{basename:e}=F.useContext(zu),n=g3e();return F.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=R3e(r,e);if(i.navigate===!1){let c=i.fetcherKey||X3e();await t.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Q3e(t,{relative:e}={}){let{basename:n}=F.useContext(zu),r=F.useContext(pd);kr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...L1(t||".",{relative:e})},s=Eg();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Kc([n,o.pathname])),Cw(o)}function Z3e(t,e={}){let n=F.useContext(Dne);kr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qne("useViewTransitionState"),i=L1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=sd(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=sd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return iA(i.pathname,s)!=null||iA(i.pathname,o)!=null}[...O3e];var Xo={},km={},rM,Ij;function jne(){if(Ij)return rM;Ij=1;var t=typeof Af=="object"&&Af&&Af.Object===Object&&Af;return rM=t,rM}var iM,kj;function Uu(){if(kj)return iM;kj=1;var t=jne(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return iM=n,iM}var oM,Mj;function O1(){if(Mj)return oM;Mj=1;var t=Uu(),e=t.Symbol;return oM=e,oM}var sM,Nj;function eBe(){if(Nj)return sM;Nj=1;var t=O1(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return sM=o,sM}var aM,Dj;function tBe(){if(Dj)return aM;Dj=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return aM=n,aM}var lM,Lj;function Cg(){if(Lj)return lM;Lj=1;var t=O1(),e=eBe(),n=tBe(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return lM=s,lM}var uM,Oj;function Cl(){if(Oj)return uM;Oj=1;var t=Array.isArray;return uM=t,uM}var cM,Fj;function gd(){if(Fj)return cM;Fj=1;function t(e){return e!=null&&typeof e=="object"}return cM=t,cM}var dM,$j;function nBe(){if($j)return dM;$j=1;var t=Cg(),e=Cl(),n=gd(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return dM=i,dM}var fM,Bj;function rBe(){if(Bj)return fM;Bj=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++o];if(r(s[u],u,s)===!1)break}return n}}return fM=t,fM}var hM,Vj;function iBe(){if(Vj)return hM;Vj=1;var t=rBe(),e=t();return hM=e,hM}var pM,zj;function oBe(){if(zj)return pM;zj=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return pM=t,pM}var gM,Uj;function sBe(){if(Uj)return gM;Uj=1;var t=Cg(),e=gd(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return gM=r,gM}var mM,Hj;function Wne(){if(Hj)return mM;Hj=1;var t=sBe(),e=gd(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return mM=o,mM}var rx={exports:{}},yM,qj;function aBe(){if(qj)return yM;qj=1;function t(){return!1}return yM=t,yM}rx.exports;var jj;function q4(){return jj||(jj=1,function(t,e){var n=Uu(),r=aBe(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(rx,rx.exports)),rx.exports}var vM,Wj;function Gne(){if(Wj)return vM;Wj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return vM=n,vM}var bM,Gj;function j4(){if(Gj)return bM;Gj=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return bM=e,bM}var xM,Kj;function lBe(){if(Kj)return xM;Kj=1;var t=Cg(),e=j4(),n=gd(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",m="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",k="[object Int16Array]",N="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]",O={};O[E]=O[S]=O[T]=O[k]=O[N]=O[R]=O[M]=O[L]=O[I]=!0,O[r]=O[i]=O[x]=O[o]=O[w]=O[s]=O[a]=O[l]=O[u]=O[c]=O[d]=O[h]=O[p]=O[m]=O[y]=!1;function V($){return n($)&&e($.length)&&!!O[t($)]}return xM=V,xM}var wM,Yj;function W4(){if(Yj)return wM;Yj=1;function t(e){return function(n){return e(n)}}return wM=t,wM}var ix={exports:{}};ix.exports;var Xj;function G4(){return Xj||(Xj=1,function(t,e){var n=jne(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(ix,ix.exports)),ix.exports}var _M,Jj;function Kne(){if(Jj)return _M;Jj=1;var t=lBe(),e=W4(),n=G4(),r=n&&n.isTypedArray,i=r?e(r):t;return _M=i,_M}var SM,Qj;function Yne(){if(Qj)return SM;Qj=1;var t=oBe(),e=Wne(),n=Cl(),r=q4(),i=Gne(),o=Kne(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var d=n(u),h=!d&&e(u),p=!d&&!h&&r(u),m=!d&&!h&&!p&&o(u),y=d||h||p||m,x=y?t(u.length,String):[],w=x.length;for(var E in u)(c||a.call(u,E))&&!(y&&(E=="length"||p&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,w)))&&x.push(E);return x}return SM=l,SM}var EM,Zj;function K4(){if(Zj)return EM;Zj=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return EM=e,EM}var CM,e8;function Xne(){if(e8)return CM;e8=1;function t(e,n){return function(r){return e(n(r))}}return CM=t,CM}var TM,t8;function uBe(){if(t8)return TM;t8=1;var t=Xne(),e=t(Object.keys,Object);return TM=e,TM}var AM,n8;function cBe(){if(n8)return AM;n8=1;var t=K4(),e=uBe(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return AM=i,AM}var RM,r8;function E0(){if(r8)return RM;r8=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return RM=t,RM}var PM,i8;function Jne(){if(i8)return PM;i8=1;var t=Cg(),e=E0(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==o}return PM=s,PM}var IM,o8;function nP(){if(o8)return IM;o8=1;var t=Jne(),e=j4();function n(r){return r!=null&&e(r.length)&&!t(r)}return IM=n,IM}var kM,s8;function F1(){if(s8)return kM;s8=1;var t=Yne(),e=cBe(),n=nP();function r(i){return n(i)?t(i):e(i)}return kM=r,kM}var MM,a8;function Qne(){if(a8)return MM;a8=1;var t=iBe(),e=F1();function n(r,i){return r&&t(r,i,e)}return MM=n,MM}var NM,l8;function Zne(){if(l8)return NM;l8=1;function t(e){return e}return NM=t,NM}var DM,u8;function dBe(){if(u8)return DM;u8=1;var t=Zne();function e(n){return typeof n=="function"?n:t}return DM=e,DM}var LM,c8;function Y4(){if(c8)return LM;c8=1;var t=Qne(),e=dBe();function n(r,i){return r&&t(r,e(i))}return LM=n,LM}var OM,d8;function X4(){if(d8)return OM;d8=1;var t=Xne(),e=t(Object.getPrototypeOf,Object);return OM=e,OM}var FM,f8;function fBe(){if(f8)return FM;f8=1;var t=Cg(),e=X4(),n=gd(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||t(c)!=r)return!1;var d=e(c);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return FM=u,FM}var $M,h8;function ere(){if(h8)return $M;h8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return $M=t,$M}var BM,p8;function hBe(){if(p8)return BM;p8=1;function t(){this.__data__=[],this.size=0}return BM=t,BM}var VM,g8;function J4(){if(g8)return VM;g8=1;function t(e,n){return e===n||e!==e&&n!==n}return VM=t,VM}var zM,m8;function rP(){if(m8)return zM;m8=1;var t=J4();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return zM=e,zM}var UM,y8;function pBe(){if(y8)return UM;y8=1;var t=rP(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return UM=r,UM}var HM,v8;function gBe(){if(v8)return HM;v8=1;var t=rP();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return HM=e,HM}var qM,b8;function mBe(){if(b8)return qM;b8=1;var t=rP();function e(n){return t(this.__data__,n)>-1}return qM=e,qM}var jM,x8;function yBe(){if(x8)return jM;x8=1;var t=rP();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return jM=e,jM}var WM,w8;function iP(){if(w8)return WM;w8=1;var t=hBe(),e=pBe(),n=gBe(),r=mBe(),i=yBe();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,WM=o,WM}var GM,_8;function vBe(){if(_8)return GM;_8=1;var t=iP();function e(){this.__data__=new t,this.size=0}return GM=e,GM}var KM,S8;function bBe(){if(S8)return KM;S8=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return KM=t,KM}var YM,E8;function xBe(){if(E8)return YM;E8=1;function t(e){return this.__data__.get(e)}return YM=t,YM}var XM,C8;function wBe(){if(C8)return XM;C8=1;function t(e){return this.__data__.has(e)}return XM=t,XM}var JM,T8;function _Be(){if(T8)return JM;T8=1;var t=Uu(),e=t["__core-js_shared__"];return JM=e,JM}var QM,A8;function SBe(){if(A8)return QM;A8=1;var t=_Be(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return QM=n,QM}var ZM,R8;function tre(){if(R8)return ZM;R8=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ZM=n,ZM}var e2,P8;function EBe(){if(P8)return e2;P8=1;var t=Jne(),e=SBe(),n=E0(),r=tre(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!n(h)||e(h))return!1;var p=t(h)?c:o;return p.test(r(h))}return e2=d,e2}var t2,I8;function CBe(){if(I8)return t2;I8=1;function t(e,n){return e==null?void 0:e[n]}return t2=t,t2}var n2,k8;function Tg(){if(k8)return n2;k8=1;var t=EBe(),e=CBe();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return n2=n,n2}var r2,M8;function Q4(){if(M8)return r2;M8=1;var t=Tg(),e=Uu(),n=t(e,"Map");return r2=n,r2}var i2,N8;function oP(){if(N8)return i2;N8=1;var t=Tg(),e=t(Object,"create");return i2=e,i2}var o2,D8;function TBe(){if(D8)return o2;D8=1;var t=oP();function e(){this.__data__=t?t(null):{},this.size=0}return o2=e,o2}var s2,L8;function ABe(){if(L8)return s2;L8=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return s2=t,s2}var a2,O8;function RBe(){if(O8)return a2;O8=1;var t=oP(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return a2=i,a2}var l2,F8;function PBe(){if(F8)return l2;F8=1;var t=oP(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return l2=r,l2}var u2,$8;function IBe(){if($8)return u2;$8=1;var t=oP(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return u2=n,u2}var c2,B8;function kBe(){if(B8)return c2;B8=1;var t=TBe(),e=ABe(),n=RBe(),r=PBe(),i=IBe();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,c2=o,c2}var d2,V8;function MBe(){if(V8)return d2;V8=1;var t=kBe(),e=iP(),n=Q4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return d2=r,d2}var f2,z8;function NBe(){if(z8)return f2;z8=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return f2=t,f2}var h2,U8;function sP(){if(U8)return h2;U8=1;var t=NBe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return h2=e,h2}var p2,H8;function DBe(){if(H8)return p2;H8=1;var t=sP();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return p2=e,p2}var g2,q8;function LBe(){if(q8)return g2;q8=1;var t=sP();function e(n){return t(this,n).get(n)}return g2=e,g2}var m2,j8;function OBe(){if(j8)return m2;j8=1;var t=sP();function e(n){return t(this,n).has(n)}return m2=e,m2}var y2,W8;function FBe(){if(W8)return y2;W8=1;var t=sP();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return y2=e,y2}var v2,G8;function Z4(){if(G8)return v2;G8=1;var t=MBe(),e=DBe(),n=LBe(),r=OBe(),i=FBe();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,v2=o,v2}var b2,K8;function $Be(){if(K8)return b2;K8=1;var t=iP(),e=Q4(),n=Z4(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return b2=i,b2}var x2,Y8;function e3(){if(Y8)return x2;Y8=1;var t=iP(),e=vBe(),n=bBe(),r=xBe(),i=wBe(),o=$Be();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,x2=s,x2}var w2,X8;function BBe(){if(X8)return w2;X8=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return w2=e,w2}var _2,J8;function VBe(){if(J8)return _2;J8=1;function t(e){return this.__data__.has(e)}return _2=t,_2}var S2,Q8;function zBe(){if(Q8)return S2;Q8=1;var t=Z4(),e=BBe(),n=VBe();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,S2=r,S2}var E2,Z8;function UBe(){if(Z8)return E2;Z8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return E2=t,E2}var C2,eW;function HBe(){if(eW)return C2;eW=1;function t(e,n){return e.has(n)}return C2=t,C2}var T2,tW;function nre(){if(tW)return T2;tW=1;var t=zBe(),e=UBe(),n=HBe(),r=1,i=2;function o(s,a,l,u,c,d){var h=l&r,p=s.length,m=a.length;if(p!=m&&!(h&&m>p))return!1;var y=d.get(s),x=d.get(a);if(y&&x)return y==a&&x==s;var w=-1,E=!0,S=l&i?new t:void 0;for(d.set(s,a),d.set(a,s);++w<p;){var T=s[w],k=a[w];if(u)var N=h?u(k,T,w,a,s,d):u(T,k,w,s,a,d);if(N!==void 0){if(N)continue;E=!1;break}if(S){if(!e(a,function(R,M){if(!n(S,M)&&(T===R||c(T,R,l,u,d)))return S.push(M)})){E=!1;break}}else if(!(T===k||c(T,k,l,u,d))){E=!1;break}}return d.delete(s),d.delete(a),E}return T2=o,T2}var A2,nW;function rre(){if(nW)return A2;nW=1;var t=Uu(),e=t.Uint8Array;return A2=e,A2}var R2,rW;function qBe(){if(rW)return R2;rW=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return R2=t,R2}var P2,iW;function jBe(){if(iW)return P2;iW=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return P2=t,P2}var I2,oW;function WBe(){if(oW)return I2;oW=1;var t=O1(),e=rre(),n=J4(),r=nre(),i=qBe(),o=jBe(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",h="[object Number]",p="[object RegExp]",m="[object Set]",y="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",S=t?t.prototype:void 0,T=S?S.valueOf:void 0;function k(N,R,M,L,I,O,V){switch(M){case E:if(N.byteLength!=R.byteLength||N.byteOffset!=R.byteOffset)return!1;N=N.buffer,R=R.buffer;case w:return!(N.byteLength!=R.byteLength||!O(new e(N),new e(R)));case l:case u:case h:return n(+N,+R);case c:return N.name==R.name&&N.message==R.message;case p:case y:return N==R+"";case d:var $=i;case m:var z=L&s;if($||($=o),N.size!=R.size&&!z)return!1;var W=V.get(N);if(W)return W==R;L|=a,V.set(N,R);var K=r($(N),$(R),L,I,O,V);return V.delete(N),K;case x:if(T)return T.call(N)==T.call(R)}return!1}return I2=k,I2}var k2,sW;function ire(){if(sW)return k2;sW=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return k2=t,k2}var M2,aW;function ore(){if(aW)return M2;aW=1;var t=ire(),e=Cl();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return M2=n,M2}var N2,lW;function GBe(){if(lW)return N2;lW=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return N2=t,N2}var D2,uW;function sre(){if(uW)return D2;uW=1;function t(){return[]}return D2=t,D2}var L2,cW;function t3(){if(cW)return L2;cW=1;var t=GBe(),e=sre(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return L2=o,L2}var O2,dW;function are(){if(dW)return O2;dW=1;var t=ore(),e=t3(),n=F1();function r(i){return t(i,n,e)}return O2=r,O2}var F2,fW;function KBe(){if(fW)return F2;fW=1;var t=are(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var d=a&e,h=t(o),p=h.length,m=t(s),y=m.length;if(p!=y&&!d)return!1;for(var x=p;x--;){var w=h[x];if(!(d?w in s:r.call(s,w)))return!1}var E=c.get(o),S=c.get(s);if(E&&S)return E==s&&S==o;var T=!0;c.set(o,s),c.set(s,o);for(var k=d;++x<p;){w=h[x];var N=o[w],R=s[w];if(l)var M=d?l(R,N,w,s,o,c):l(N,R,w,o,s,c);if(!(M===void 0?N===R||u(N,R,a,l,c):M)){T=!1;break}k||(k=w=="constructor")}if(T&&!k){var L=o.constructor,I=s.constructor;L!=I&&"constructor"in o&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof I=="function"&&I instanceof I)&&(T=!1)}return c.delete(o),c.delete(s),T}return F2=i,F2}var $2,hW;function YBe(){if(hW)return $2;hW=1;var t=Tg(),e=Uu(),n=t(e,"DataView");return $2=n,$2}var B2,pW;function XBe(){if(pW)return B2;pW=1;var t=Tg(),e=Uu(),n=t(e,"Promise");return B2=n,B2}var V2,gW;function JBe(){if(gW)return V2;gW=1;var t=Tg(),e=Uu(),n=t(e,"Set");return V2=n,V2}var z2,mW;function QBe(){if(mW)return z2;mW=1;var t=Tg(),e=Uu(),n=t(e,"WeakMap");return z2=n,z2}var U2,yW;function aP(){if(yW)return U2;yW=1;var t=YBe(),e=Q4(),n=XBe(),r=JBe(),i=QBe(),o=Cg(),s=tre(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",h="[object DataView]",p=s(t),m=s(e),y=s(n),x=s(r),w=s(i),E=o;return(t&&E(new t(new ArrayBuffer(1)))!=h||e&&E(new e)!=a||n&&E(n.resolve())!=u||r&&E(new r)!=c||i&&E(new i)!=d)&&(E=function(S){var T=o(S),k=T==l?S.constructor:void 0,N=k?s(k):"";if(N)switch(N){case p:return h;case m:return a;case y:return u;case x:return c;case w:return d}return T}),U2=E,U2}var H2,vW;function ZBe(){if(vW)return H2;vW=1;var t=e3(),e=nre(),n=WBe(),r=KBe(),i=aP(),o=Cl(),s=q4(),a=Kne(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function m(y,x,w,E,S,T){var k=o(y),N=o(x),R=k?c:i(y),M=N?c:i(x);R=R==u?d:R,M=M==u?d:M;var L=R==d,I=M==d,O=R==M;if(O&&s(y)){if(!s(x))return!1;k=!0,L=!1}if(O&&!L)return T||(T=new t),k||a(y)?e(y,x,w,E,S,T):n(y,x,R,w,E,S,T);if(!(w&l)){var V=L&&p.call(y,"__wrapped__"),$=I&&p.call(x,"__wrapped__");if(V||$){var z=V?y.value():y,W=$?x.value():x;return T||(T=new t),S(z,W,w,E,T)}}return O?(T||(T=new t),r(y,x,w,E,S,T)):!1}return H2=m,H2}var q2,bW;function lre(){if(bW)return q2;bW=1;var t=ZBe(),e=gd();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return q2=n,q2}var j2,xW;function eVe(){if(xW)return j2;xW=1;var t=e3(),e=lre(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,d=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(d&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],m=o[p],y=h[1];if(d&&h[2]){if(m===void 0&&!(p in o))return!1}else{var x=new t;if(l)var w=l(m,y,p,o,s,x);if(!(w===void 0?e(y,m,n|r,l,x):w))return!1}}return!0}return j2=i,j2}var W2,wW;function ure(){if(wW)return W2;wW=1;var t=E0();function e(n){return n===n&&!t(n)}return W2=e,W2}var G2,_W;function tVe(){if(_W)return G2;_W=1;var t=ure(),e=F1();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return G2=n,G2}var K2,SW;function cre(){if(SW)return K2;SW=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return K2=t,K2}var Y2,EW;function nVe(){if(EW)return Y2;EW=1;var t=eVe(),e=tVe(),n=cre();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return Y2=r,Y2}var X2,CW;function n3(){if(CW)return X2;CW=1;var t=Cg(),e=gd(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return X2=r,X2}var J2,TW;function r3(){if(TW)return J2;TW=1;var t=Cl(),e=n3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return J2=i,J2}var Q2,AW;function rVe(){if(AW)return Q2;AW=1;var t=Z4(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||t),o}return n.Cache=t,Q2=n,Q2}var Z2,RW;function iVe(){if(RW)return Z2;RW=1;var t=rVe(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return Z2=n,Z2}var eN,PW;function oVe(){if(PW)return eN;PW=1;var t=iVe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return eN=r,eN}var tN,IW;function sVe(){if(IW)return tN;IW=1;var t=O1(),e=ere(),n=Cl(),r=n3(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return tN=s,tN}var nN,kW;function aVe(){if(kW)return nN;kW=1;var t=sVe();function e(n){return n==null?"":t(n)}return nN=e,nN}var rN,MW;function dre(){if(MW)return rN;MW=1;var t=Cl(),e=r3(),n=oVe(),r=aVe();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return rN=i,rN}var iN,NW;function lP(){if(NW)return iN;NW=1;var t=n3();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return iN=e,iN}var oN,DW;function fre(){if(DW)return oN;DW=1;var t=dre(),e=lP();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return oN=n,oN}var sN,LW;function lVe(){if(LW)return sN;LW=1;var t=fre();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return sN=e,sN}var aN,OW;function uVe(){if(OW)return aN;OW=1;function t(e,n){return e!=null&&n in Object(e)}return aN=t,aN}var lN,FW;function cVe(){if(FW)return lN;FW=1;var t=dre(),e=Wne(),n=Cl(),r=Gne(),i=j4(),o=lP();function s(a,l,u){l=t(l,a);for(var c=-1,d=l.length,h=!1;++c<d;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=d?h:(d=a==null?0:a.length,!!d&&i(d)&&r(p,d)&&(n(a)||e(a)))}return lN=s,lN}var uN,$W;function dVe(){if($W)return uN;$W=1;var t=uVe(),e=cVe();function n(r,i){return r!=null&&e(r,i,t)}return uN=n,uN}var cN,BW;function fVe(){if(BW)return cN;BW=1;var t=lre(),e=lVe(),n=dVe(),r=r3(),i=ure(),o=cre(),s=lP(),a=1,l=2;function u(c,d){return r(c)&&i(d)?o(s(c),d):function(h){var p=e(h,c);return p===void 0&&p===d?n(h,c):t(d,p,a|l)}}return cN=u,cN}var dN,VW;function hVe(){if(VW)return dN;VW=1;function t(e){return function(n){return n==null?void 0:n[e]}}return dN=t,dN}var fN,zW;function pVe(){if(zW)return fN;zW=1;var t=fre();function e(n){return function(r){return t(r,n)}}return fN=e,fN}var hN,UW;function gVe(){if(UW)return hN;UW=1;var t=hVe(),e=pVe(),n=r3(),r=lP();function i(o){return n(o)?t(r(o)):e(o)}return hN=i,hN}var pN,HW;function mVe(){if(HW)return pN;HW=1;var t=nVe(),e=fVe(),n=Zne(),r=Cl(),i=gVe();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return pN=o,pN}var gN,qW;function yVe(){if(qW)return gN;qW=1;var t=nP();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return gN=e,gN}var mN,jW;function vVe(){if(jW)return mN;jW=1;var t=Qne(),e=yVe(),n=e(t);return mN=n,mN}var yN,WW;function bVe(){if(WW)return yN;WW=1;var t=vVe(),e=nP();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return yN=n,yN}var vN,GW;function xVe(){if(GW)return vN;GW=1;var t=ere(),e=mVe(),n=bVe(),r=Cl();function i(o,s){var a=r(o)?t:n;return a(o,e(s,3))}return vN=i,vN}var KW;function wVe(){if(KW)return km;KW=1,Object.defineProperty(km,"__esModule",{value:!0}),km.flattenNames=void 0;var t=nBe(),e=l(t),n=Y4(),r=l(n),i=fBe(),o=l(i),s=xVe(),a=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=km.flattenNames=function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=[];return(0,a.default)(d,function(p){Array.isArray(p)?c(p).map(function(m){return h.push(m)}):(0,o.default)(p)?(0,r.default)(p,function(m,y){m===!0&&h.push(y),h.push(y+"-"+m)}):(0,e.default)(p)&&h.push(p)}),h};return km.default=u,km}var Mm={},bN,YW;function _Ve(){if(YW)return bN;YW=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return bN=t,bN}var xN,XW;function SVe(){if(XW)return xN;XW=1;var t=Tg(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return xN=e,xN}var wN,JW;function hre(){if(JW)return wN;JW=1;var t=SVe();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return wN=e,wN}var _N,QW;function pre(){if(QW)return _N;QW=1;var t=hre(),e=J4(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&t(o,s,a)}return _N=i,_N}var SN,ZW;function uP(){if(ZW)return SN;ZW=1;var t=pre(),e=hre();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=s?s(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),a?e(o,c,d):t(o,c,d)}return o}return SN=n,SN}var EN,e7;function EVe(){if(e7)return EN;e7=1;var t=uP(),e=F1();function n(r,i){return r&&t(i,e(i),r)}return EN=n,EN}var CN,t7;function CVe(){if(t7)return CN;t7=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return CN=t,CN}var TN,n7;function TVe(){if(n7)return TN;n7=1;var t=E0(),e=K4(),n=CVe(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!t(s))return n(s);var a=e(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return TN=o,TN}var AN,r7;function i3(){if(r7)return AN;r7=1;var t=Yne(),e=TVe(),n=nP();function r(i){return n(i)?t(i,!0):e(i)}return AN=r,AN}var RN,i7;function AVe(){if(i7)return RN;i7=1;var t=uP(),e=i3();function n(r,i){return r&&t(i,e(i),r)}return RN=n,RN}var ox={exports:{}};ox.exports;var o7;function RVe(){return o7||(o7=1,function(t,e){var n=Uu(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}t.exports=l}(ox,ox.exports)),ox.exports}var PN,s7;function PVe(){if(s7)return PN;s7=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return PN=t,PN}var IN,a7;function IVe(){if(a7)return IN;a7=1;var t=uP(),e=t3();function n(r,i){return t(r,e(r),i)}return IN=n,IN}var kN,l7;function gre(){if(l7)return kN;l7=1;var t=ire(),e=X4(),n=t3(),r=sre(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)t(a,n(s)),s=e(s);return a}:r;return kN=o,kN}var MN,u7;function kVe(){if(u7)return MN;u7=1;var t=uP(),e=gre();function n(r,i){return t(r,e(r),i)}return MN=n,MN}var NN,c7;function MVe(){if(c7)return NN;c7=1;var t=ore(),e=gre(),n=i3();function r(i){return t(i,n,e)}return NN=r,NN}var DN,d7;function NVe(){if(d7)return DN;d7=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return DN=n,DN}var LN,f7;function o3(){if(f7)return LN;f7=1;var t=rre();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return LN=e,LN}var ON,h7;function DVe(){if(h7)return ON;h7=1;var t=o3();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return ON=e,ON}var FN,p7;function LVe(){if(p7)return FN;p7=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return FN=e,FN}var $N,g7;function OVe(){if(g7)return $N;g7=1;var t=O1(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return $N=r,$N}var BN,m7;function FVe(){if(m7)return BN;m7=1;var t=o3();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return BN=e,BN}var VN,y7;function $Ve(){if(y7)return VN;y7=1;var t=o3(),e=DVe(),n=LVe(),r=OVe(),i=FVe(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",R="[object Uint32Array]";function M(L,I,O){var V=L.constructor;switch(I){case p:return t(L);case o:case s:return new V(+L);case m:return e(L,O);case y:case x:case w:case E:case S:case T:case k:case N:case R:return i(L,O);case a:return new V;case l:case d:return new V(L);case u:return n(L);case c:return new V;case h:return r(L)}}return VN=M,VN}var zN,v7;function BVe(){if(v7)return zN;v7=1;var t=E0(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return zN=n,zN}var UN,b7;function VVe(){if(b7)return UN;b7=1;var t=BVe(),e=X4(),n=K4();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return UN=r,UN}var HN,x7;function zVe(){if(x7)return HN;x7=1;var t=aP(),e=gd(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return HN=r,HN}var qN,w7;function UVe(){if(w7)return qN;w7=1;var t=zVe(),e=W4(),n=G4(),r=n&&n.isMap,i=r?e(r):t;return qN=i,qN}var jN,_7;function HVe(){if(_7)return jN;_7=1;var t=aP(),e=gd(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return jN=r,jN}var WN,S7;function qVe(){if(S7)return WN;S7=1;var t=HVe(),e=W4(),n=G4(),r=n&&n.isSet,i=r?e(r):t;return WN=i,WN}var GN,E7;function jVe(){if(E7)return GN;E7=1;var t=e3(),e=_Ve(),n=pre(),r=EVe(),i=AVe(),o=RVe(),s=PVe(),a=IVe(),l=kVe(),u=are(),c=MVe(),d=aP(),h=NVe(),p=$Ve(),m=VVe(),y=Cl(),x=q4(),w=UVe(),E=E0(),S=qVe(),T=F1(),k=i3(),N=1,R=2,M=4,L="[object Arguments]",I="[object Array]",O="[object Boolean]",V="[object Date]",$="[object Error]",z="[object Function]",W="[object GeneratorFunction]",K="[object Map]",J="[object Number]",Q="[object Object]",X="[object RegExp]",j="[object Set]",Y="[object String]",ue="[object Symbol]",q="[object WeakMap]",de="[object ArrayBuffer]",se="[object DataView]",ee="[object Float32Array]",ae="[object Float64Array]",te="[object Int8Array]",ce="[object Int16Array]",fe="[object Int32Array]",ge="[object Uint8Array]",xe="[object Uint8ClampedArray]",be="[object Uint16Array]",Ee="[object Uint32Array]",Me={};Me[L]=Me[I]=Me[de]=Me[se]=Me[O]=Me[V]=Me[ee]=Me[ae]=Me[te]=Me[ce]=Me[fe]=Me[K]=Me[J]=Me[Q]=Me[X]=Me[j]=Me[Y]=Me[ue]=Me[ge]=Me[xe]=Me[be]=Me[Ee]=!0,Me[$]=Me[z]=Me[q]=!1;function st(Ve,Oe,Qe,Ye,dt,Pe){var ut,rt=Oe&N,mt=Oe&R,ve=Oe&M;if(Qe&&(ut=dt?Qe(Ve,Ye,dt,Pe):Qe(Ve)),ut!==void 0)return ut;if(!E(Ve))return Ve;var Ce=y(Ve);if(Ce){if(ut=h(Ve),!rt)return s(Ve,ut)}else{var Ue=d(Ve),nt=Ue==z||Ue==W;if(x(Ve))return o(Ve,rt);if(Ue==Q||Ue==L||nt&&!dt){if(ut=mt||nt?{}:m(Ve),!rt)return mt?l(Ve,i(ut,Ve)):a(Ve,r(ut,Ve))}else{if(!Me[Ue])return dt?Ve:{};ut=p(Ve,Ue,rt)}}Pe||(Pe=new t);var Re=Pe.get(Ve);if(Re)return Re;Pe.set(Ve,ut),S(Ve)?Ve.forEach(function($t){ut.add(st($t,Oe,Qe,$t,Ve,Pe))}):w(Ve)&&Ve.forEach(function($t,en){ut.set(en,st($t,Oe,Qe,en,Ve,Pe))});var Xe=ve?mt?c:u:mt?k:T,Zt=Ce?void 0:Xe(Ve);return e(Zt||Ve,function($t,en){Zt&&(en=$t,$t=Ve[en]),n(ut,en,st($t,Oe,Qe,en,Ve,Pe))}),ut}return GN=st,GN}var KN,C7;function WVe(){if(C7)return KN;C7=1;var t=jVe(),e=1,n=4;function r(i){return t(i,e|n)}return KN=r,KN}var T7;function GVe(){if(T7)return Mm;T7=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.mergeClasses=void 0;var t=Y4(),e=o(t),n=WVe(),r=o(n),i=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var s=Mm.mergeClasses=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=l.default&&(0,r.default)(l.default)||{};return u.map(function(d){var h=l[d];return h&&(0,e.default)(h,function(p,m){c[m]||(c[m]={}),c[m]=i({},c[m],h[m])}),d}),c};return Mm.default=s,Mm}var Nm={},A7;function KVe(){if(A7)return Nm;A7=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.autoprefix=void 0;var t=Y4(),e=r(t),n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s};function r(s){return s&&s.__esModule?s:{default:s}}var i={borderRadius:function(a){return{msBorderRadius:a,MozBorderRadius:a,OBorderRadius:a,WebkitBorderRadius:a,borderRadius:a}},boxShadow:function(a){return{msBoxShadow:a,MozBoxShadow:a,OBoxShadow:a,WebkitBoxShadow:a,boxShadow:a}},userSelect:function(a){return{WebkitTouchCallout:a,KhtmlUserSelect:a,MozUserSelect:a,msUserSelect:a,WebkitUserSelect:a,userSelect:a}},flex:function(a){return{WebkitBoxFlex:a,MozBoxFlex:a,WebkitFlex:a,msFlex:a,flex:a}},flexBasis:function(a){return{WebkitFlexBasis:a,flexBasis:a}},justifyContent:function(a){return{WebkitJustifyContent:a,justifyContent:a}},transition:function(a){return{msTransition:a,MozTransition:a,OTransition:a,WebkitTransition:a,transition:a}},transform:function(a){return{msTransform:a,MozTransform:a,OTransform:a,WebkitTransform:a,transform:a}},absolute:function(a){var l=a&&a.split(" ");return{position:"absolute",top:l&&l[0],right:l&&l[1],bottom:l&&l[2],left:l&&l[3]}},extend:function(a,l){var u=l[a];return u||{extend:a}}},o=Nm.autoprefix=function(a){var l={};return(0,e.default)(a,function(u,c){var d={};(0,e.default)(u,function(h,p){var m=i[p];m?d=n({},d,m(h)):d[p]=h}),l[c]=d}),l};return Nm.default=o,Nm}var Dm={},R7;function YVe(){if(R7)return Dm;R7=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.hover=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=_l(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=Dm.hover=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(h,d);function h(){var p,m,y,x;i(this,h);for(var w=arguments.length,E=Array(w),S=0;S<w;S++)E[S]=arguments[S];return x=(m=(y=o(this,(p=h.__proto__||Object.getPrototypeOf(h)).call.apply(p,[this].concat(E))),y),y.state={hover:!1},y.handleMouseOver=function(){return y.setState({hover:!0})},y.handleMouseOut=function(){return y.setState({hover:!1})},y.render=function(){return n.default.createElement(c,{onMouseOver:y.handleMouseOver,onMouseOut:y.handleMouseOut},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,x)}return h}(n.default.Component)};return Dm.default=a,Dm}var Lm={},P7;function XVe(){if(P7)return Lm;P7=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.active=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=_l(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=Lm.active=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(h,d);function h(){var p,m,y,x;i(this,h);for(var w=arguments.length,E=Array(w),S=0;S<w;S++)E[S]=arguments[S];return x=(m=(y=o(this,(p=h.__proto__||Object.getPrototypeOf(h)).call.apply(p,[this].concat(E))),y),y.state={active:!1},y.handleMouseDown=function(){return y.setState({active:!0})},y.handleMouseUp=function(){return y.setState({active:!1})},y.render=function(){return n.default.createElement(c,{onMouseDown:y.handleMouseDown,onMouseUp:y.handleMouseUp},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,x)}return h}(n.default.Component)};return Lm.default=a,Lm}var VE={},I7;function JVe(){if(I7)return VE;I7=1,Object.defineProperty(VE,"__esModule",{value:!0});var t=function(n,r){var i={},o=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[a]=l};return n===0&&o("first-child"),n===r-1&&o("last-child"),(n===0||n%2===0)&&o("even"),Math.abs(n%2)===1&&o("odd"),o("nth-child",n),i};return VE.default=t,VE}var k7;function QVe(){if(k7)return Xo;k7=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.ReactCSS=Xo.loop=Xo.handleActive=Xo.handleHover=Xo.hover=void 0;var t=wVe(),e=h(t),n=GVe(),r=h(n),i=KVe(),o=h(i),s=YVe(),a=h(s),l=XVe(),u=h(l),c=JVe(),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}Xo.hover=a.default,Xo.handleHover=a.default,Xo.handleActive=u.default,Xo.loop=d.default;var p=Xo.ReactCSS=function(y){for(var x=arguments.length,w=Array(x>1?x-1:0),E=1;E<x;E++)w[E-1]=arguments[E];var S=(0,e.default)(w),T=(0,r.default)(y,S);return(0,o.default)(T)};return Xo.default=p,Xo}var s3=QVe();const nn=xo(s3);var ZVe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(d<0?h=0:d>a?h=1:h=Math.round(d*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>s?p=1:p=Math.round(c*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},YN={},eze=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},tze=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(YN[o])return YN[o];var s=eze(e,n,r,i);return YN[o]=s,s},M7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,u=nn({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+tze(n,r,i,o.canvas)+") center left"}}});return F.isValidElement(l)?oe.cloneElement(l,M7({},l.props,{style:M7({},l.props.style,u.grid)})):oe.createElement("div",{style:u.grid})};C0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var nze=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rze=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ize(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a3=function(t){oze(e,t);function e(){var n,r,i,o;ize(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=N7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=ZVe(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),N7(i,o)}return rze(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=nn({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:nze({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return oe.createElement("div",{style:o.alpha},oe.createElement("div",{style:o.checkboard},oe.createElement(C0,{renderers:this.props.renderers})),oe.createElement("div",{style:o.gradient}),oe.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("div",{style:o.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:o.slider}))))}}]),e}(F.PureComponent||F.Component),sze=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uze(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dze=1,mre=38,fze=40,hze=[mre,fze],pze=function(e){return hze.indexOf(e)>-1},gze=function(e){return Number(String(e).replace(/%/g,""))},mze=1,Rn=function(t){cze(e,t);function e(n){lze(this,e);var r=uze(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=gze(i.target.value);if(!isNaN(o)&&pze(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===mre?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+mze++,r}return sze(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return aze({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||dze}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=nn({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return oe.createElement("div",{style:i.wrap},oe.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?oe.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(F.PureComponent||F.Component),yze=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(c<0)d=359;else if(c>s)d=0;else{var h=-(c*100/s)+100;d=360*h/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>o)p=359;else{var m=u*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},vze=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var T0=function(t){xze(e,t);function e(){var n,r,i,o;bze(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=D7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=yze(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),D7(i,o)}return vze(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=nn({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return oe.createElement("div",{style:s.hue},oe.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),oe.createElement("div",{style:s.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:s.slider}))))}}]),e}(F.PureComponent||F.Component);function wze(){this.__data__=[],this.size=0}function $1(t,e){return t===e||t!==t&&e!==e}function cP(t,e){for(var n=t.length;n--;)if($1(t[n][0],e))return n;return-1}var _ze=Array.prototype,Sze=_ze.splice;function Eze(t){var e=this.__data__,n=cP(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Sze.call(e,n,1),--this.size,!0}function Cze(t){var e=this.__data__,n=cP(e,t);return n<0?void 0:e[n][1]}function Tze(t){return cP(this.__data__,t)>-1}function Aze(t,e){var n=this.__data__,r=cP(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function md(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}md.prototype.clear=wze;md.prototype.delete=Eze;md.prototype.get=Cze;md.prototype.has=Tze;md.prototype.set=Aze;function Rze(){this.__data__=new md,this.size=0}function Pze(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ize(t){return this.__data__.get(t)}function kze(t){return this.__data__.has(t)}var yre=typeof global=="object"&&global&&global.Object===Object&&global,Mze=typeof self=="object"&&self&&self.Object===Object&&self,Tl=yre||Mze||Function("return this")(),Gf=Tl.Symbol,vre=Object.prototype,Nze=vre.hasOwnProperty,Dze=vre.toString,Tb=Gf?Gf.toStringTag:void 0;function Lze(t){var e=Nze.call(t,Tb),n=t[Tb];try{t[Tb]=void 0;var r=!0}catch{}var i=Dze.call(t);return r&&(e?t[Tb]=n:delete t[Tb]),i}var Oze=Object.prototype,Fze=Oze.toString;function $ze(t){return Fze.call(t)}var Bze="[object Null]",Vze="[object Undefined]",L7=Gf?Gf.toStringTag:void 0;function Ag(t){return t==null?t===void 0?Vze:Bze:L7&&L7 in Object(t)?Lze(t):$ze(t)}function Ea(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zze="[object AsyncFunction]",Uze="[object Function]",Hze="[object GeneratorFunction]",qze="[object Proxy]";function l3(t){if(!Ea(t))return!1;var e=Ag(t);return e==Uze||e==Hze||e==zze||e==qze}var XN=Tl["__core-js_shared__"],O7=function(){var t=/[^.]+$/.exec(XN&&XN.keys&&XN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jze(t){return!!O7&&O7 in t}var Wze=Function.prototype,Gze=Wze.toString;function Rg(t){if(t!=null){try{return Gze.call(t)}catch{}try{return t+""}catch{}}return""}var Kze=/[\\^$.*+?()[\]{}|]/g,Yze=/^\[object .+?Constructor\]$/,Xze=Function.prototype,Jze=Object.prototype,Qze=Xze.toString,Zze=Jze.hasOwnProperty,e6e=RegExp("^"+Qze.call(Zze).replace(Kze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t6e(t){if(!Ea(t)||jze(t))return!1;var e=l3(t)?e6e:Yze;return e.test(Rg(t))}function n6e(t,e){return t==null?void 0:t[e]}function Pg(t,e){var n=n6e(t,e);return t6e(n)?n:void 0}var Tw=Pg(Tl,"Map"),Aw=Pg(Object,"create");function r6e(){this.__data__=Aw?Aw(null):{},this.size=0}function i6e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var o6e="__lodash_hash_undefined__",s6e=Object.prototype,a6e=s6e.hasOwnProperty;function l6e(t){var e=this.__data__;if(Aw){var n=e[t];return n===o6e?void 0:n}return a6e.call(e,t)?e[t]:void 0}var u6e=Object.prototype,c6e=u6e.hasOwnProperty;function d6e(t){var e=this.__data__;return Aw?e[t]!==void 0:c6e.call(e,t)}var f6e="__lodash_hash_undefined__";function h6e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Aw&&e===void 0?f6e:e,this}function ag(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ag.prototype.clear=r6e;ag.prototype.delete=i6e;ag.prototype.get=l6e;ag.prototype.has=d6e;ag.prototype.set=h6e;function p6e(){this.size=0,this.__data__={hash:new ag,map:new(Tw||md),string:new ag}}function g6e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function dP(t,e){var n=t.__data__;return g6e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function m6e(t){var e=dP(this,t).delete(t);return this.size-=e?1:0,e}function y6e(t){return dP(this,t).get(t)}function v6e(t){return dP(this,t).has(t)}function b6e(t,e){var n=dP(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yd.prototype.clear=p6e;yd.prototype.delete=m6e;yd.prototype.get=y6e;yd.prototype.has=v6e;yd.prototype.set=b6e;var x6e=200;function w6e(t,e){var n=this.__data__;if(n instanceof md){var r=n.__data__;if(!Tw||r.length<x6e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yd(r)}return n.set(t,e),this.size=n.size,this}function Pu(t){var e=this.__data__=new md(t);this.size=e.size}Pu.prototype.clear=Rze;Pu.prototype.delete=Pze;Pu.prototype.get=Ize;Pu.prototype.has=kze;Pu.prototype.set=w6e;var oA=function(){try{var t=Pg(Object,"defineProperty");return t({},"",{}),t}catch{}}();function u3(t,e,n){e=="__proto__"&&oA?oA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ZO(t,e,n){(n!==void 0&&!$1(t[e],n)||n===void 0&&!(e in t))&&u3(t,e,n)}function _6e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var bre=_6e(),xre=typeof Us=="object"&&Us&&!Us.nodeType&&Us,F7=xre&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,S6e=F7&&F7.exports===xre,$7=S6e?Tl.Buffer:void 0;$7&&$7.allocUnsafe;function E6e(t,e){return t.slice()}var sA=Tl.Uint8Array;function C6e(t){var e=new t.constructor(t.byteLength);return new sA(e).set(new sA(t)),e}function T6e(t,e){var n=C6e(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function A6e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var B7=Object.create,R6e=function(){function t(){}return function(e){if(!Ea(e))return{};if(B7)return B7(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function wre(t,e){return function(n){return t(e(n))}}var _re=wre(Object.getPrototypeOf,Object),P6e=Object.prototype;function c3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||P6e;return t===n}function I6e(t){return typeof t.constructor=="function"&&!c3(t)?R6e(_re(t)):{}}function Kf(t){return t!=null&&typeof t=="object"}var k6e="[object Arguments]";function V7(t){return Kf(t)&&Ag(t)==k6e}var Sre=Object.prototype,M6e=Sre.hasOwnProperty,N6e=Sre.propertyIsEnumerable,aA=V7(function(){return arguments}())?V7:function(t){return Kf(t)&&M6e.call(t,"callee")&&!N6e.call(t,"callee")},Gs=Array.isArray,D6e=9007199254740991;function d3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=D6e}function A0(t){return t!=null&&d3(t.length)&&!l3(t)}function L6e(t){return Kf(t)&&A0(t)}function O6e(){return!1}var Ere=typeof Us=="object"&&Us&&!Us.nodeType&&Us,z7=Ere&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,F6e=z7&&z7.exports===Ere,U7=F6e?Tl.Buffer:void 0,$6e=U7?U7.isBuffer:void 0,lA=$6e||O6e,B6e="[object Object]",V6e=Function.prototype,z6e=Object.prototype,Cre=V6e.toString,U6e=z6e.hasOwnProperty,H6e=Cre.call(Object);function q6e(t){if(!Kf(t)||Ag(t)!=B6e)return!1;var e=_re(t);if(e===null)return!0;var n=U6e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Cre.call(n)==H6e}var j6e="[object Arguments]",W6e="[object Array]",G6e="[object Boolean]",K6e="[object Date]",Y6e="[object Error]",X6e="[object Function]",J6e="[object Map]",Q6e="[object Number]",Z6e="[object Object]",eUe="[object RegExp]",tUe="[object Set]",nUe="[object String]",rUe="[object WeakMap]",iUe="[object ArrayBuffer]",oUe="[object DataView]",sUe="[object Float32Array]",aUe="[object Float64Array]",lUe="[object Int8Array]",uUe="[object Int16Array]",cUe="[object Int32Array]",dUe="[object Uint8Array]",fUe="[object Uint8ClampedArray]",hUe="[object Uint16Array]",pUe="[object Uint32Array]",vr={};vr[sUe]=vr[aUe]=vr[lUe]=vr[uUe]=vr[cUe]=vr[dUe]=vr[fUe]=vr[hUe]=vr[pUe]=!0;vr[j6e]=vr[W6e]=vr[iUe]=vr[G6e]=vr[oUe]=vr[K6e]=vr[Y6e]=vr[X6e]=vr[J6e]=vr[Q6e]=vr[Z6e]=vr[eUe]=vr[tUe]=vr[nUe]=vr[rUe]=!1;function gUe(t){return Kf(t)&&d3(t.length)&&!!vr[Ag(t)]}function mUe(t){return function(e){return t(e)}}var Tre=typeof Us=="object"&&Us&&!Us.nodeType&&Us,Vx=Tre&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,yUe=Vx&&Vx.exports===Tre,JN=yUe&&yre.process,H7=function(){try{var t=Vx&&Vx.require&&Vx.require("util").types;return t||JN&&JN.binding&&JN.binding("util")}catch{}}(),q7=H7&&H7.isTypedArray,f3=q7?mUe(q7):gUe;function eF(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var vUe=Object.prototype,bUe=vUe.hasOwnProperty;function xUe(t,e,n){var r=t[e];(!(bUe.call(t,e)&&$1(r,n))||n===void 0&&!(e in t))&&u3(t,e,n)}function wUe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?u3(n,a,l):xUe(n,a,l)}return n}function _Ue(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var SUe=9007199254740991,EUe=/^(?:0|[1-9]\d*)$/;function h3(t,e){var n=typeof t;return e=e??SUe,!!e&&(n=="number"||n!="symbol"&&EUe.test(t))&&t>-1&&t%1==0&&t<e}var CUe=Object.prototype,TUe=CUe.hasOwnProperty;function Are(t,e){var n=Gs(t),r=!n&&aA(t),i=!n&&!r&&lA(t),o=!n&&!r&&!i&&f3(t),s=n||r||i||o,a=s?_Ue(t.length,String):[],l=a.length;for(var u in t)(e||TUe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||h3(u,l)))&&a.push(u);return a}function AUe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var RUe=Object.prototype,PUe=RUe.hasOwnProperty;function IUe(t){if(!Ea(t))return AUe(t);var e=c3(t),n=[];for(var r in t)r=="constructor"&&(e||!PUe.call(t,r))||n.push(r);return n}function Rre(t){return A0(t)?Are(t,!0):IUe(t)}function kUe(t){return wUe(t,Rre(t))}function MUe(t,e,n,r,i,o,s){var a=eF(t,n),l=eF(e,n),u=s.get(l);if(u){ZO(t,n,u);return}var c=o?o(a,l,n+"",t,e,s):void 0,d=c===void 0;if(d){var h=Gs(l),p=!h&&lA(l),m=!h&&!p&&f3(l);c=l,h||p||m?Gs(a)?c=a:L6e(a)?c=A6e(a):p?(d=!1,c=E6e(l)):m?(d=!1,c=T6e(l)):c=[]:q6e(l)||aA(l)?(c=a,aA(a)?c=kUe(a):(!Ea(a)||l3(a))&&(c=I6e(l))):d=!1}d&&(s.set(l,c),i(c,l,r,o,s),s.delete(l)),ZO(t,n,c)}function Pre(t,e,n,r,i){t!==e&&bre(e,function(o,s){if(i||(i=new Pu),Ea(o))MUe(t,e,s,n,Pre,r,i);else{var a=r?r(eF(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),ZO(t,s,a)}},Rre)}function fP(t){return t}function NUe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var j7=Math.max;function DUe(t,e,n){return e=j7(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=j7(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),NUe(t,this,a)}}function LUe(t){return function(){return t}}var OUe=oA?function(t,e){return oA(t,"toString",{configurable:!0,enumerable:!1,value:LUe(e),writable:!0})}:fP,FUe=800,$Ue=16,BUe=Date.now;function VUe(t){var e=0,n=0;return function(){var r=BUe(),i=$Ue-(r-n);if(n=r,i>0){if(++e>=FUe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zUe=VUe(OUe);function UUe(t,e){return zUe(DUe(t,e,fP),t+"")}function HUe(t,e,n){if(!Ea(n))return!1;var r=typeof e;return(r=="number"?A0(n)&&h3(e,n.length):r=="string"&&e in n)?$1(n[e],t):!1}function qUe(t){return UUe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&HUe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var gs=qUe(function(t,e,n){Pre(t,e,n)}),B1=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=nn(gs({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return oe.createElement("div",{style:l.wrap},oe.createElement("div",{style:l.bg}),oe.createElement("div",{style:l.content},o))};B1.propTypes={background:me.string,zDepth:me.oneOf([0,1,2,3,4,5]),radius:me.number,styles:me.object};B1.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var QN=function(){return Tl.Date.now()},jUe=/\s/;function WUe(t){for(var e=t.length;e--&&jUe.test(t.charAt(e)););return e}var GUe=/^\s+/;function KUe(t){return t&&t.slice(0,WUe(t)+1).replace(GUe,"")}var YUe="[object Symbol]";function hP(t){return typeof t=="symbol"||Kf(t)&&Ag(t)==YUe}var W7=NaN,XUe=/^[-+]0x[0-9a-f]+$/i,JUe=/^0b[01]+$/i,QUe=/^0o[0-7]+$/i,ZUe=parseInt;function G7(t){if(typeof t=="number")return t;if(hP(t))return W7;if(Ea(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ea(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=KUe(t);var n=JUe.test(t);return n||QUe.test(t)?ZUe(t.slice(2),n?2:8):XUe.test(t)?W7:+t}var eHe="Expected a function",tHe=Math.max,nHe=Math.min;function Ire(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(eHe);e=G7(e)||0,Ea(n)&&(c=!!n.leading,d="maxWait"in n,o=d?tHe(G7(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var R=r,M=i;return r=i=void 0,u=N,s=t.apply(M,R),s}function m(N){return u=N,a=setTimeout(w,e),c?p(N):s}function y(N){var R=N-l,M=N-u,L=e-R;return d?nHe(L,o-M):L}function x(N){var R=N-l,M=N-u;return l===void 0||R>=e||R<0||d&&M>=o}function w(){var N=QN();if(x(N))return E(N);a=setTimeout(w,y(N))}function E(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function T(){return a===void 0?s:E(QN())}function k(){var N=QN(),R=x(N);if(r=arguments,i=this,l=N,R){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(w,e),p(l)}return a===void 0&&(a=setTimeout(w,e)),s}return k.cancel=S,k.flush=T,k}var rHe="Expected a function";function iHe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(rHe);return Ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ire(t,e,{leading:r,maxWait:e,trailing:i})}var oHe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),c<0?c=0:c>s&&(c=s);var d=u/o,h=1-c/s;return{h:n.h,s:d,v:h,a:n.a,source:"hsv"}},sHe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lHe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pP=function(t){uHe(e,t);function e(n){aHe(this,e);var r=lHe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,oHe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=iHe(function(i,o,s){i(o,s)},50),r}return sHe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,u=i.circle,c=nn({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return oe.createElement("div",{style:c.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),oe.createElement("div",{style:c.white,className:"saturation-white"},oe.createElement("div",{style:c.black,className:"saturation-black"}),oe.createElement("div",{style:c.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:c.circle}))))}}]),e}(F.PureComponent||F.Component);function cHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var dHe=wre(Object.keys,Object),fHe=Object.prototype,hHe=fHe.hasOwnProperty;function pHe(t){if(!c3(t))return dHe(t);var e=[];for(var n in Object(t))hHe.call(t,n)&&n!="constructor"&&e.push(n);return e}function p3(t){return A0(t)?Are(t):pHe(t)}function gHe(t,e){return t&&bre(t,e,p3)}function mHe(t,e){return function(n,r){if(n==null)return n;if(!A0(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var kre=mHe(gHe);function yHe(t){return typeof t=="function"?t:fP}function vHe(t,e){var n=Gs(t)?cHe:kre;return n(t,yHe(e))}function uA(t){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}var bHe=/^\s+/,xHe=/\s+$/;function Rt(t,e){if(t=t||"",e=e||{},t instanceof Rt)return t;if(!(this instanceof Rt))return new Rt(t,e);var n=wHe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Rt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=Mre(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Y7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Y7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=K7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=K7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return X7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return CHe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Cr(this._r,255)*100)+"%",g:Math.round(Cr(this._g,255)*100)+"%",b:Math.round(Cr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Cr(this._r,255)*100)+"%, "+Math.round(Cr(this._g,255)*100)+"%, "+Math.round(Cr(this._b,255)*100)+"%)":"rgba("+Math.round(Cr(this._r,255)*100)+"%, "+Math.round(Cr(this._g,255)*100)+"%, "+Math.round(Cr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:FHe[X7(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+J7(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Rt(e);r="#"+J7(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Rt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(PHe,arguments)},brighten:function(){return this._applyModification(IHe,arguments)},darken:function(){return this._applyModification(kHe,arguments)},desaturate:function(){return this._applyModification(THe,arguments)},saturate:function(){return this._applyModification(AHe,arguments)},greyscale:function(){return this._applyModification(RHe,arguments)},spin:function(){return this._applyModification(MHe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(LHe,arguments)},complement:function(){return this._applyCombination(NHe,arguments)},monochromatic:function(){return this._applyCombination(OHe,arguments)},splitcomplement:function(){return this._applyCombination(DHe,arguments)},triad:function(){return this._applyCombination(Q7,[3])},tetrad:function(){return this._applyCombination(Q7,[4])}};Rt.fromRatio=function(t,e){if(uA(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=sx(t[r]));t=n}return Rt(t,e)};function wHe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=zHe(t)),uA(t)=="object"&&(lc(t.r)&&lc(t.g)&&lc(t.b)?(e=_He(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):lc(t.h)&&lc(t.s)&&lc(t.v)?(r=sx(t.s),i=sx(t.v),e=EHe(t.h,r,i),s=!0,a="hsv"):lc(t.h)&&lc(t.s)&&lc(t.l)&&(r=sx(t.s),o=sx(t.l),e=SHe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Mre(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function _He(t,e,n){return{r:Cr(t,255)*255,g:Cr(e,255)*255,b:Cr(n,255)*255}}function K7(t,e,n){t=Cr(t,255),e=Cr(e,255),n=Cr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function SHe(t,e,n){var r,i,o;t=Cr(t,360),e=Cr(e,100),n=Cr(n,100);function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function Y7(t,e,n){t=Cr(t,255),e=Cr(e,255),n=Cr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function EHe(t,e,n){t=Cr(t,360)*6,e=Cr(e,100),n=Cr(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:d*255}}function X7(t,e,n,r){var i=[hl(Math.round(t).toString(16)),hl(Math.round(e).toString(16)),hl(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function CHe(t,e,n,r,i){var o=[hl(Math.round(t).toString(16)),hl(Math.round(e).toString(16)),hl(Math.round(n).toString(16)),hl(Nre(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function J7(t,e,n,r){var i=[hl(Nre(r)),hl(Math.round(t).toString(16)),hl(Math.round(e).toString(16)),hl(Math.round(n).toString(16))];return i.join("")}Rt.equals=function(t,e){return!t||!e?!1:Rt(t).toRgbString()==Rt(e).toRgbString()};Rt.random=function(){return Rt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function THe(t,e){e=e===0?0:e||10;var n=Rt(t).toHsl();return n.s-=e/100,n.s=gP(n.s),Rt(n)}function AHe(t,e){e=e===0?0:e||10;var n=Rt(t).toHsl();return n.s+=e/100,n.s=gP(n.s),Rt(n)}function RHe(t){return Rt(t).desaturate(100)}function PHe(t,e){e=e===0?0:e||10;var n=Rt(t).toHsl();return n.l+=e/100,n.l=gP(n.l),Rt(n)}function IHe(t,e){e=e===0?0:e||10;var n=Rt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Rt(n)}function kHe(t,e){e=e===0?0:e||10;var n=Rt(t).toHsl();return n.l-=e/100,n.l=gP(n.l),Rt(n)}function MHe(t,e){var n=Rt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Rt(n)}function NHe(t){var e=Rt(t).toHsl();return e.h=(e.h+180)%360,Rt(e)}function Q7(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Rt(t).toHsl(),r=[Rt(t)],i=360/e,o=1;o<e;o++)r.push(Rt({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function DHe(t){var e=Rt(t).toHsl(),n=e.h;return[Rt(t),Rt({h:(n+72)%360,s:e.s,l:e.l}),Rt({h:(n+216)%360,s:e.s,l:e.l})]}function LHe(t,e,n){e=e||6,n=n||30;var r=Rt(t).toHsl(),i=360/n,o=[Rt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Rt(r));return o}function OHe(t,e){e=e||6;for(var n=Rt(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(Rt({h:r,s:i,v:o})),o=(o+a)%1;return s}Rt.mix=function(t,e,n){n=n===0?0:n||50;var r=Rt(t).toRgb(),i=Rt(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Rt(s)};Rt.readability=function(t,e){var n=Rt(t),r=Rt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Rt.isReadable=function(t,e,n){var r=Rt.readability(t,e),i,o;switch(o=!1,i=UHe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Rt.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)o=Rt.readability(t,e[u]),o>i&&(i=o,r=Rt(e[u]));return Rt.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,Rt.mostReadable(t,["#fff","#000"],n))};var tF=Rt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},FHe=Rt.hexNames=$He(tF);function $He(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Mre(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Cr(t,e){BHe(t)&&(t="100%");var n=VHe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function gP(t){return Math.min(1,Math.max(0,t))}function Ts(t){return parseInt(t,16)}function BHe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function VHe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function hl(t){return t.length==1?"0"+t:""+t}function sx(t){return t<=1&&(t=t*100+"%"),t}function Nre(t){return Math.round(parseFloat(t)*255).toString(16)}function Z7(t){return Ts(t)/255}var ja=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function lc(t){return!!ja.CSS_UNIT.exec(t)}function zHe(t){t=t.replace(bHe,"").replace(xHe,"").toLowerCase();var e=!1;if(tF[t])t=tF[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ja.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ja.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ja.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ja.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ja.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ja.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ja.hex8.exec(t))?{r:Ts(n[1]),g:Ts(n[2]),b:Ts(n[3]),a:Z7(n[4]),format:e?"name":"hex8"}:(n=ja.hex6.exec(t))?{r:Ts(n[1]),g:Ts(n[2]),b:Ts(n[3]),format:e?"name":"hex"}:(n=ja.hex4.exec(t))?{r:Ts(n[1]+""+n[1]),g:Ts(n[2]+""+n[2]),b:Ts(n[3]+""+n[3]),a:Z7(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ja.hex3.exec(t))?{r:Ts(n[1]+""+n[1]),g:Ts(n[2]+""+n[2]),b:Ts(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function UHe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var eG=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return vHe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},ax=function(e,n){var r=e.hex?Rt(e.hex):Rt(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},nh=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Rt(e).isValid()},g3=function(e){if(!e)return"#fff";var n=ax(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},ZN=function(e,n){var r=e.replace("°","");return Rt(n+" ("+r+")")._ok},Ab=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HHe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function qHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jHe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function WHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ms=function(e){var n=function(r){WHe(i,r);function i(o){qHe(this,i);var s=jHe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var u=eG(a);if(u){var c=ax(a,a.h||s.state.oldHue);s.setState(c),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,c,l),s.props.onChange&&s.props.onChange(c,l)}},s.handleSwatchHover=function(a,l){var u=eG(a);if(u){var c=ax(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(c,l)}},s.state=Ab({},ax(o.color,0)),s.debounce=Ire(function(a,l,u){a(l,u)},100),s}return HHe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),oe.createElement(e,Ab({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return Ab({},ax(s.color,a.oldHue))}}]),i}(F.PureComponent||F.Component);return n.propTypes=Ab({},e.propTypes),n.defaultProps=Ab({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},GHe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KHe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function YHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tG(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function XHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var JHe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){XHe(i,r);function i(){var o,s,a,l;YHe(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(s=(a=tG(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),tG(a,l)}return KHe(i,[{key:"render",value:function(){return oe.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},oe.createElement(e,GHe({},this.props,this.state)))}}]),i}(oe.Component)},nG=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QHe=13,ZHe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,d=e.focusStyle,h=d===void 0?{}:d,p=n==="transparent",m=nn({default:{swatch:nG({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?h:{})}}),y=function(T){return o(n,T)},x=function(T){return T.keyCode===QHe&&o(n,T)},w=function(T){return s(n,T)},E={};return s&&(E.onMouseOver=w),oe.createElement("div",nG({style:m.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},E),u,p&&oe.createElement(C0,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Ig=JHe(ZHe);var e9e=function(e){var n=e.direction,r=nn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return oe.createElement("div",{style:r.picker})},t9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dre=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,h=d===void 0?"":d,p=nn({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return oe.createElement("div",{style:p.picker,className:"alpha-picker "+h},oe.createElement(a3,t9e({},p.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:s,direction:a})))};Dre.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:e9e};ms(Dre);function Lre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var n9e="__lodash_hash_undefined__";function r9e(t){return this.__data__.set(t,n9e),this}function i9e(t){return this.__data__.has(t)}function cA(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yd;++e<n;)this.add(t[e])}cA.prototype.add=cA.prototype.push=r9e;cA.prototype.has=i9e;function o9e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function s9e(t,e){return t.has(e)}var a9e=1,l9e=2;function Ore(t,e,n,r,i,o){var s=n&a9e,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=n&l9e?new cA:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var x=s?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!o9e(e,function(w,E){if(!s9e(p,E)&&(m===w||i(m,w,n,r,o)))return p.push(E)})){h=!1;break}}else if(!(m===y||i(m,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function u9e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function c9e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var d9e=1,f9e=2,h9e="[object Boolean]",p9e="[object Date]",g9e="[object Error]",m9e="[object Map]",y9e="[object Number]",v9e="[object RegExp]",b9e="[object Set]",x9e="[object String]",w9e="[object Symbol]",_9e="[object ArrayBuffer]",S9e="[object DataView]",rG=Gf?Gf.prototype:void 0,eD=rG?rG.valueOf:void 0;function E9e(t,e,n,r,i,o,s){switch(n){case S9e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _9e:return!(t.byteLength!=e.byteLength||!o(new sA(t),new sA(e)));case h9e:case p9e:case y9e:return $1(+t,+e);case g9e:return t.name==e.name&&t.message==e.message;case v9e:case x9e:return t==e+"";case m9e:var a=u9e;case b9e:var l=r&d9e;if(a||(a=c9e),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=f9e,s.set(t,e);var c=Ore(a(t),a(e),r,i,o,s);return s.delete(t),c;case w9e:if(eD)return eD.call(t)==eD.call(e)}return!1}function C9e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function T9e(t,e,n){var r=e(t);return Gs(t)?r:C9e(r,n(t))}function A9e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function R9e(){return[]}var P9e=Object.prototype,I9e=P9e.propertyIsEnumerable,iG=Object.getOwnPropertySymbols,k9e=iG?function(t){return t==null?[]:(t=Object(t),A9e(iG(t),function(e){return I9e.call(t,e)}))}:R9e;function oG(t){return T9e(t,p3,k9e)}var M9e=1,N9e=Object.prototype,D9e=N9e.hasOwnProperty;function L9e(t,e,n,r,i,o){var s=n&M9e,a=oG(t),l=a.length,u=oG(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:D9e.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var x=s;++d<l;){h=a[d];var w=t[h],E=e[h];if(r)var S=s?r(E,w,h,e,t,o):r(w,E,h,t,e,o);if(!(S===void 0?w===E||i(w,E,n,r,o):S)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var T=t.constructor,k=e.constructor;T!=k&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof k=="function"&&k instanceof k)&&(y=!1)}return o.delete(t),o.delete(e),y}var nF=Pg(Tl,"DataView"),rF=Pg(Tl,"Promise"),iF=Pg(Tl,"Set"),oF=Pg(Tl,"WeakMap"),sG="[object Map]",O9e="[object Object]",aG="[object Promise]",lG="[object Set]",uG="[object WeakMap]",cG="[object DataView]",F9e=Rg(nF),$9e=Rg(Tw),B9e=Rg(rF),V9e=Rg(iF),z9e=Rg(oF),ef=Ag;(nF&&ef(new nF(new ArrayBuffer(1)))!=cG||Tw&&ef(new Tw)!=sG||rF&&ef(rF.resolve())!=aG||iF&&ef(new iF)!=lG||oF&&ef(new oF)!=uG)&&(ef=function(t){var e=Ag(t),n=e==O9e?t.constructor:void 0,r=n?Rg(n):"";if(r)switch(r){case F9e:return cG;case $9e:return sG;case B9e:return aG;case V9e:return lG;case z9e:return uG}return e});var U9e=1,dG="[object Arguments]",fG="[object Array]",zE="[object Object]",H9e=Object.prototype,hG=H9e.hasOwnProperty;function q9e(t,e,n,r,i,o){var s=Gs(t),a=Gs(e),l=s?fG:ef(t),u=a?fG:ef(e);l=l==dG?zE:l,u=u==dG?zE:u;var c=l==zE,d=u==zE,h=l==u;if(h&&lA(t)){if(!lA(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new Pu),s||f3(t)?Ore(t,e,n,r,i,o):E9e(t,e,l,n,r,i,o);if(!(n&U9e)){var p=c&&hG.call(t,"__wrapped__"),m=d&&hG.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,x=m?e.value():e;return o||(o=new Pu),i(y,x,n,r,o)}}return h?(o||(o=new Pu),L9e(t,e,n,r,i,o)):!1}function m3(t,e,n,r,i){return t===e?!0:t==null||e==null||!Kf(t)&&!Kf(e)?t!==t&&e!==e:q9e(t,e,n,r,m3,i)}var j9e=1,W9e=2;function G9e(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],u=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var c=new Pu,d;if(!(d===void 0?m3(u,l,j9e|W9e,r,c):d))return!1}}return!0}function Fre(t){return t===t&&!Ea(t)}function K9e(t){for(var e=p3(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Fre(i)]}return e}function $re(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Y9e(t){var e=K9e(t);return e.length==1&&e[0][2]?$re(e[0][0],e[0][1]):function(n){return n===t||G9e(n,t,e)}}var X9e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J9e=/^\w*$/;function y3(t,e){if(Gs(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||hP(t)?!0:J9e.test(t)||!X9e.test(t)||e!=null&&t in Object(e)}var Q9e="Expected a function";function v3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Q9e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(v3.Cache||yd),n}v3.Cache=yd;var Z9e=500;function eqe(t){var e=v3(t,function(r){return n.size===Z9e&&n.clear(),r}),n=e.cache;return e}var tqe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nqe=/\\(\\)?/g,rqe=eqe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tqe,function(n,r,i,o){e.push(i?o.replace(nqe,"$1"):r||n)}),e}),pG=Gf?Gf.prototype:void 0,gG=pG?pG.toString:void 0;function Bre(t){if(typeof t=="string")return t;if(Gs(t))return Lre(t,Bre)+"";if(hP(t))return gG?gG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function iqe(t){return t==null?"":Bre(t)}function Vre(t,e){return Gs(t)?t:y3(t,e)?[t]:rqe(iqe(t))}function mP(t){if(typeof t=="string"||hP(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function zre(t,e){e=Vre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[mP(e[n++])];return n&&n==r?t:void 0}function oqe(t,e,n){var r=t==null?void 0:zre(t,e);return r===void 0?n:r}function sqe(t,e){return t!=null&&e in Object(t)}function aqe(t,e,n){e=Vre(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=mP(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&d3(i)&&h3(s,i)&&(Gs(t)||aA(t)))}function lqe(t,e){return t!=null&&aqe(t,e,sqe)}var uqe=1,cqe=2;function dqe(t,e){return y3(t)&&Fre(e)?$re(mP(t),e):function(n){var r=oqe(n,t);return r===void 0&&r===e?lqe(n,t):m3(e,r,uqe|cqe)}}function fqe(t){return function(e){return e==null?void 0:e[t]}}function hqe(t){return function(e){return zre(e,t)}}function pqe(t){return y3(t)?fqe(mP(t)):hqe(t)}function gqe(t){return typeof t=="function"?t:t==null?fP:typeof t=="object"?Gs(t)?dqe(t[0],t[1]):Y9e(t):pqe(t)}function mqe(t,e){var n=-1,r=A0(t)?Array(t.length):[];return kre(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function kg(t,e){var n=Gs(t)?Lre:mqe;return n(t,gqe(e))}var yqe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=nn({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return oe.createElement("div",{style:o.swatches},kg(n,function(s){return oe.createElement(Ig,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),oe.createElement("div",{style:o.clear}))},b3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=i==="transparent",p=function(x,w){nh(x)&&n({hex:x,source:"hex"},w)},m=nn(gs({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:g3(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return oe.createElement("div",{style:m.card,className:"block-picker "+d},oe.createElement("div",{style:m.triangle}),oe.createElement("div",{style:m.head},h&&oe.createElement(C0,{borderRadius:"6px 6px 0 0"}),oe.createElement("div",{style:m.label},i)),oe.createElement("div",{style:m.body},oe.createElement(yqe,{colors:o,onClick:p,onSwatchHover:r}),oe.createElement(Rn,{style:{input:m.input},value:i,onChange:p})))};b3.propTypes={width:me.oneOfType([me.string,me.number]),colors:me.arrayOf(me.string),triangle:me.oneOf(["top","hide"]),styles:me.object};b3.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ms(b3);var Km={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},Ym={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Xm={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Jm={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Qm={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Zm={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},ey={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ty={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},ny={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},lx={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},ry={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},iy={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},oy={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},sy={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},ay={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},ly={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},uy={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},cy={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},Ure=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,u=nn({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return oe.createElement("div",{style:u.swatch},oe.createElement(Ig,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};Ure.defaultProps={circleSize:28,circleSpacing:14};const vqe=s3.handleHover(Ure);var x3=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,h=d===void 0?"":d,p=nn(gs({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),m=function(x,w){return r({hex:x,source:"hex"},w)};return oe.createElement("div",{style:p.card,className:"circle-picker "+h},kg(o,function(y){return oe.createElement(vqe,{key:y,color:y,onClick:m,onSwatchHover:i,active:s===y.toLowerCase(),circleSize:a,circleSpacing:c})}))};x3.propTypes={width:me.oneOfType([me.string,me.number]),circleSize:me.number,circleSpacing:me.number,styles:me.object};x3.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Km[500],Ym[500],Xm[500],Jm[500],Qm[500],Zm[500],ey[500],ty[500],ny[500],lx[500],ry[500],iy[500],oy[500],sy[500],ay[500],ly[500],uy[500],cy[500]],styles:{}};ms(x3);function mG(t){return t===void 0}var UE={},yG;function bqe(){if(yG)return UE;yG=1,Object.defineProperty(UE,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=_l(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return UE.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,h=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:h},m)},y),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},UE}var xqe=bqe();const wqe=xo(xqe);var _qe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Sqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eqe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Hre=function(t){Cqe(e,t);function e(n){Sqe(this,e);var r=Eqe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?nh(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(mG(i.s)?r.props.hsl.s:i.s),l:Number(mG(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return _qe(e,[{key:"render",value:function(){var r=this,i=nn({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),oe.createElement("div",{style:i.alpha},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),oe.createElement("div",{style:i.alpha},oe.createElement(Rn,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),oe.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,oe.createElement("div",{style:i.toggle},oe.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},oe.createElement(wqe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(oe.Component);Hre.defaultProps={view:"hex"};var vG=function(){var e=nn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},Tqe=function(){var e=nn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return oe.createElement("div",{style:e.picker})},w3=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,h=e.className,p=h===void 0?"":h,m=e.defaultView,y=nn(gs({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return oe.createElement("div",{style:y.picker,className:"chrome-picker "+p},oe.createElement("div",{style:y.saturation},oe.createElement(pP,{style:y.Saturation,hsl:s,hsv:a,pointer:Tqe,onChange:r})),oe.createElement("div",{style:y.body},oe.createElement("div",{style:y.controls,className:"flexbox-fix"},oe.createElement("div",{style:y.color},oe.createElement("div",{style:y.swatch},oe.createElement("div",{style:y.active}),oe.createElement(C0,{renderers:u}))),oe.createElement("div",{style:y.toggles},oe.createElement("div",{style:y.hue},oe.createElement(T0,{style:y.Hue,hsl:s,pointer:vG,onChange:r})),oe.createElement("div",{style:y.alpha},oe.createElement(a3,{style:y.Alpha,rgb:o,hsl:s,pointer:vG,renderers:u,onChange:r})))),oe.createElement(Hre,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};w3.propTypes={width:me.oneOfType([me.string,me.number]),disableAlpha:me.bool,styles:me.object,defaultView:me.oneOf(["hex","rgb","hsl"])};w3.defaultProps={width:225,disableAlpha:!1,styles:{}};const Aqe=ms(w3);var Rqe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=nn({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:g3(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return oe.createElement(Ig,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},oe.createElement("div",{style:a.dot}))},Pqe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=nn({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return oe.createElement("div",{style:o.fields,className:"flexbox-fix"},oe.createElement("div",{style:o.active}),oe.createElement(Rn,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),oe.createElement(Rn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),oe.createElement(Rn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),oe.createElement(Rn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},_3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=nn(gs({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(m,y){m.hex?nh(m.hex)&&n({hex:m.hex,source:"hex"},y):n(m,y)};return oe.createElement(B1,{style:d.Compact,styles:l},oe.createElement("div",{style:d.compact,className:"compact-picker "+c},oe.createElement("div",null,kg(i,function(p){return oe.createElement(Rqe,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),oe.createElement("div",{style:d.clear})),oe.createElement(Pqe,{hex:o,rgb:s,onChange:h})))};_3.propTypes={colors:me.arrayOf(me.string),styles:me.object};_3.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ms(_3);var Iqe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=nn({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return oe.createElement("div",{style:a.swatch},oe.createElement(Ig,{color:r,onClick:i,onHover:o,focusStyle:s}))};const kqe=s3.handleHover(Iqe);var S3=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=nn(gs({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(m,y){return i({hex:m,source:"hex"},y)};return oe.createElement("div",{style:d.card,className:"github-picker "+c},oe.createElement("div",{style:d.triangleShadow}),oe.createElement("div",{style:d.triangle}),kg(r,function(p){return oe.createElement(kqe,{color:p,key:p,onClick:h,onSwatchHover:o})}))};S3.propTypes={width:me.oneOfType([me.string,me.number]),colors:me.arrayOf(me.string),triangle:me.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:me.object};S3.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ms(S3);var Mqe=function(e){var n=e.direction,r=nn({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return oe.createElement("div",{style:r.picker})},Nqe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E3=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=nn(gs({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),p=function(y){return i({a:1,h:y.h,l:.5,s:1})};return oe.createElement("div",{style:h.picker,className:"hue-picker "+d},oe.createElement(T0,Nqe({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};E3.propTypes={styles:me.object};E3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Mqe,styles:{}};ms(E3);var Dqe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=nn(gs({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),c=function(h,p){h.hex?nh(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return oe.createElement(B1,{styles:s},oe.createElement("div",{style:u.material,className:"material-picker "+l},oe.createElement(Rn,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),oe.createElement("div",{style:u.split,className:"flexbox-fix"},oe.createElement("div",{style:u.third},oe.createElement(Rn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),oe.createElement("div",{style:u.third},oe.createElement(Rn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),oe.createElement("div",{style:u.third},oe.createElement(Rn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};ms(Dqe);var Lqe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=nn({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?nh(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return oe.createElement("div",{style:s.fields},oe.createElement(Rn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),oe.createElement(Rn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),oe.createElement(Rn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),oe.createElement("div",{style:s.divider}),oe.createElement(Rn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),oe.createElement(Rn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),oe.createElement(Rn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),oe.createElement("div",{style:s.divider}),oe.createElement(Rn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),oe.createElement("div",{style:s.fieldSymbols},oe.createElement("div",{style:s.symbol},"°"),oe.createElement("div",{style:s.symbol},"%"),oe.createElement("div",{style:s.symbol},"%")))},Oqe=function(e){var n=e.hsl,r=nn({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return oe.createElement("div",{style:r.picker})},Fqe=function(){var e=nn({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return oe.createElement("div",{style:e.pointer},oe.createElement("div",{style:e.left},oe.createElement("div",{style:e.leftInside})),oe.createElement("div",{style:e.right},oe.createElement("div",{style:e.rightInside})))},bG=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=nn({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return oe.createElement("div",{style:s.button,onClick:n},r||i)},$qe=function(e){var n=e.rgb,r=e.currentColor,i=nn({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return oe.createElement("div",null,oe.createElement("div",{style:i.label},"new"),oe.createElement("div",{style:i.swatches},oe.createElement("div",{style:i.new}),oe.createElement("div",{style:i.current})),oe.createElement("div",{style:i.label},"current"))},Bqe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Vqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zqe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var C3=function(t){Uqe(e,t);function e(n){Vqe(this,e);var r=zqe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return Bqe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=nn(gs({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return oe.createElement("div",{style:l.picker,className:"photoshop-picker "+a},oe.createElement("div",{style:l.head},this.props.header),oe.createElement("div",{style:l.body,className:"flexbox-fix"},oe.createElement("div",{style:l.saturation},oe.createElement(pP,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Oqe,onChange:this.props.onChange})),oe.createElement("div",{style:l.hue},oe.createElement(T0,{direction:"vertical",hsl:this.props.hsl,pointer:Fqe,onChange:this.props.onChange})),oe.createElement("div",{style:l.controls},oe.createElement("div",{style:l.top,className:"flexbox-fix"},oe.createElement("div",{style:l.previews},oe.createElement($qe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),oe.createElement("div",{style:l.actions},oe.createElement(bG,{label:"OK",onClick:this.props.onAccept,active:!0}),oe.createElement(bG,{label:"Cancel",onClick:this.props.onCancel}),oe.createElement(Lqe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(oe.Component);C3.propTypes={header:me.string,styles:me.object};C3.defaultProps={header:"Color Picker",styles:{}};ms(C3);var Hqe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=nn({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(c,d){c.hex?nh(c.hex)&&n({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return oe.createElement("div",{style:a.fields,className:"flexbox-fix"},oe.createElement("div",{style:a.double},oe.createElement(Rn,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),oe.createElement("div",{style:a.single},oe.createElement(Rn,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.single},oe.createElement(Rn,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.single},oe.createElement(Rn,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.alpha},oe.createElement(Rn,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},qqe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qre=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=nn({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return oe.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return oe.createElement("div",{key:c,style:s.swatchWrap},oe.createElement(Ig,qqe({},u,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};qre.propTypes={colors:me.arrayOf(me.oneOfType([me.string,me.shape({color:me.string,title:me.string})])).isRequired};var jqe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T3=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,y=m===void 0?"":m,x=nn(gs({default:jqe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return oe.createElement("div",{style:x.picker,className:"sketch-picker "+y},oe.createElement("div",{style:x.saturation},oe.createElement(pP,{style:x.Saturation,hsl:s,hsv:o,onChange:a})),oe.createElement("div",{style:x.controls,className:"flexbox-fix"},oe.createElement("div",{style:x.sliders},oe.createElement("div",{style:x.hue},oe.createElement(T0,{style:x.Hue,hsl:s,onChange:a})),oe.createElement("div",{style:x.alpha},oe.createElement(a3,{style:x.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),oe.createElement("div",{style:x.color},oe.createElement(C0,null),oe.createElement("div",{style:x.activeColor}))),oe.createElement(Hqe,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:u}),oe.createElement(qre,{colors:c,onClick:a,onSwatchHover:l}))};T3.propTypes={disableAlpha:me.bool,width:me.oneOfType([me.string,me.number]),styles:me.object};T3.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ms(T3);var Rb=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,u=nn({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),c=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return oe.createElement("div",{style:u.swatch,onClick:c})},Wqe=function(e){var n=e.onClick,r=e.hsl,i=nn({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return oe.createElement("div",{style:i.swatches},oe.createElement("div",{style:i.swatch},oe.createElement(Rb,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),oe.createElement("div",{style:i.swatch},oe.createElement(Rb,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(Rb,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(Rb,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(Rb,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),oe.createElement("div",{style:i.clear}))},Gqe=function(){var e=nn({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},A3=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=nn(gs({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return oe.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},oe.createElement("div",{style:u.hue},oe.createElement(T0,{style:u.Hue,hsl:n,pointer:i,onChange:r})),oe.createElement("div",{style:u.swatches},oe.createElement(Wqe,{hsl:n,onClick:r})))};A3.propTypes={styles:me.object};A3.defaultProps={pointer:Gqe,styles:{}};ms(A3);var HE={},xG;function Kqe(){if(xG)return HE;xG=1,Object.defineProperty(HE,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=_l(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return HE.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,h=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:h},m)},y),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},HE}var Yqe=Kqe();const Xqe=xo(Yqe);var Jqe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,u=nn({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:g3(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return oe.createElement(Ig,{color:n,style:u.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},oe.createElement("div",{style:u.check},oe.createElement(Xqe,null)))},Qqe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=nn({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return oe.createElement("div",{style:s.group},kg(i,function(a,l){return oe.createElement(Jqe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},R3=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=nn(gs({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(y,x){return i({hex:y,source:"hex"},x)};return oe.createElement("div",{style:h.picker,className:"swatches-picker "+d},oe.createElement(B1,null,oe.createElement("div",{style:h.overflow},oe.createElement("div",{style:h.body},kg(s,function(m){return oe.createElement(Qqe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),oe.createElement("div",{style:h.clear})))))};R3.propTypes={width:me.oneOfType([me.string,me.number]),height:me.oneOfType([me.string,me.number]),colors:me.arrayOf(me.arrayOf(me.string)),styles:me.object};R3.defaultProps={width:320,height:240,colors:[[Km[900],Km[700],Km[500],Km[300],Km[100]],[Ym[900],Ym[700],Ym[500],Ym[300],Ym[100]],[Xm[900],Xm[700],Xm[500],Xm[300],Xm[100]],[Jm[900],Jm[700],Jm[500],Jm[300],Jm[100]],[Qm[900],Qm[700],Qm[500],Qm[300],Qm[100]],[Zm[900],Zm[700],Zm[500],Zm[300],Zm[100]],[ey[900],ey[700],ey[500],ey[300],ey[100]],[ty[900],ty[700],ty[500],ty[300],ty[100]],[ny[900],ny[700],ny[500],ny[300],ny[100]],["#194D33",lx[700],lx[500],lx[300],lx[100]],[ry[900],ry[700],ry[500],ry[300],ry[100]],[iy[900],iy[700],iy[500],iy[300],iy[100]],[oy[900],oy[700],oy[500],oy[300],oy[100]],[sy[900],sy[700],sy[500],sy[300],sy[100]],[ay[900],ay[700],ay[500],ay[300],ay[100]],[ly[900],ly[700],ly[500],ly[300],ly[100]],[uy[900],uy[700],uy[500],uy[300],uy[100]],[cy[900],cy[700],cy[500],cy[300],cy[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ms(R3);var P3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=nn(gs({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(y,x){nh(y)&&n({hex:y,source:"hex"},x)};return oe.createElement("div",{style:h.card,className:"twitter-picker "+d},oe.createElement("div",{style:h.triangleShadow}),oe.createElement("div",{style:h.triangle}),oe.createElement("div",{style:h.body},kg(o,function(m,y){return oe.createElement(Ig,{key:y,color:m,hex:m,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),oe.createElement("div",{style:h.hash},"#"),oe.createElement(Rn,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),oe.createElement("div",{style:h.clear})))};P3.propTypes={width:me.oneOfType([me.string,me.number]),triangle:me.oneOf(["hide","top-left","top-right"]),colors:me.arrayOf(me.string),styles:me.object};P3.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ms(P3);var I3=function(e){var n=nn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return oe.createElement("div",{style:n.picker})};I3.propTypes={hsl:me.shape({h:me.number,s:me.number,l:me.number,a:me.number})};I3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var k3=function(e){var n=nn({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return oe.createElement("div",{style:n.picker})};k3.propTypes={hsl:me.shape({h:me.number,s:me.number,l:me.number,a:me.number})};k3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Zqe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)nh(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var y=p.rgb.split(",");ZN(p.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},m)}else if(p.hsv){var x=p.hsv.split(",");ZN(p.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},m))}else if(p.hsl){var w=p.hsl.split(",");ZN(p.hsl,"hsl")&&(w[2]=w[2].replace("%",""),w[1]=w[1].replace("%",""),w[0]=w[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(w[0]),s:Number(w[1]),v:Number(w[2]),source:"hsl"},m))}},l=nn({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return oe.createElement("div",{style:l.wrap,className:"flexbox-fix"},oe.createElement("div",{style:l.fields},oe.createElement("div",{style:l.double},oe.createElement(Rn,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),oe.createElement("div",{style:l.column},oe.createElement("div",{style:l.single},oe.createElement(Rn,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),oe.createElement("div",{style:l.single},oe.createElement(Rn,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),oe.createElement("div",{style:l.single},oe.createElement(Rn,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},M3=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,h=d===void 0?"":d,p=nn(gs({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return oe.createElement("div",{style:p.picker,className:"google-picker "+h},oe.createElement("div",{style:p.head},l),oe.createElement("div",{style:p.swatch}),oe.createElement("div",{style:p.saturation},oe.createElement(pP,{hsl:o,hsv:s,pointer:I3,onChange:r})),oe.createElement("div",{style:p.body},oe.createElement("div",{style:p.controls,className:"flexbox-fix"},oe.createElement("div",{style:p.hue},oe.createElement(T0,{style:p.Hue,hsl:o,radius:"4px",pointer:k3,onChange:r}))),oe.createElement(Zqe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};M3.propTypes={width:me.oneOfType([me.string,me.number]),styles:me.object,header:me.string};M3.defaultProps={width:652,styles:{},header:"Color picker"};ms(M3);function tD(t){const{children:e,value:n,index:r,...i}=t;return D.jsx("div",{role:"tabpanel",hidden:n!==r,id:`profile-tabpanel-${r}`,"aria-labelledby":`profile-tab-${r}`,...i,children:n===r&&D.jsx(Be,{sx:{p:3},children:e})})}function jre({open:t,onClose:e}){const{userData:n,updateUser:r}=bg(),[i,o]=F.useState(0),[s,a]=F.useState(!1),[l,u]=F.useState(""),[c,d]=F.useState(""),[h,p]=F.useState(""),[m,y]=F.useState(""),[x,w]=F.useState(""),[E,S]=F.useState(""),[T,k]=F.useState(""),[N,R]=F.useState(!1),[M,L]=F.useState(""),[I,O]=F.useState(!1),[V,$]=F.useState("");F.useEffect(()=>{var Y,ue,q;n&&(p(n.name),y(n.email),R(((Y=n.aiConfig)==null?void 0:Y.enabled)||!1),L(((ue=n.aiConfig)==null?void 0:ue.apiKey)||""),$(((q=n.aiConfig)==null?void 0:q.customPrompt)||bC))},[n]);const z=(Y,ue)=>{o(ue),u(""),d("")},W=()=>h.trim()?m.trim()?E&&E!==T?(u("New passwords do not match"),!1):E&&!x?(u("Current password is required to set a new password"),!1):!0:(u("Email is required"),!1):(u("Name is required"),!1),K=()=>N&&!M.trim()?(u("API key is required when AI features are enabled"),!1):!0,J=async()=>{if(!(!W()||!n)){a(!0),u("");try{if(E&&n.password!==x){u("Current password is incorrect"),a(!1);return}const Y={...n,name:h.trim(),email:m.trim(),password:E||n.password};await r(Y),d("Profile updated successfully"),w(""),S(""),k("")}catch{u("Failed to update profile. Please try again.")}finally{a(!1)}}},Q=async()=>{if(!(!K()||!n)){a(!0),u("");try{const Y=N?{enabled:!0,apiKey:M.trim(),customPrompt:V}:{enabled:!1,apiKey:"",customPrompt:bC};await r({...n,aiConfig:Y}),d("AI configuration updated successfully")}catch{u("Failed to update AI configuration. Please try again.")}finally{a(!1)}}},X=()=>{$(bC)},j=()=>{u(""),d(""),e()};return D.jsxs(JT,{open:t,onClose:j,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"600px"}},children:[D.jsxs(eA,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Profile Settings",D.jsx(wi,{onClick:j,children:D.jsx(F4,{})})]}),D.jsxs(ZT,{sx:{px:0,py:0},children:[D.jsx(Be,{sx:{borderBottom:1,borderColor:"divider"},children:D.jsxs(X$e,{value:i,onChange:z,"aria-label":"profile settings tabs",children:[D.jsx(Qk,{label:"Profile"}),D.jsx(Qk,{label:"AI Configuration"}),D.jsx(Qk,{label:"Preferences"})]})}),l&&D.jsx(Cq,{severity:"error",sx:{m:2},children:l}),c&&D.jsx(Cq,{severity:"success",sx:{m:2},children:c}),D.jsxs(tD,{value:i,index:0,children:[D.jsx(tt,{variant:"h6",gutterBottom:!0,children:"Basic Information"}),D.jsx(Mi,{fullWidth:!0,label:"Name",value:h,onChange:Y=>p(Y.target.value),margin:"normal",disabled:s}),D.jsx(Mi,{fullWidth:!0,label:"Email",value:m,onChange:Y=>y(Y.target.value),margin:"normal",disabled:!0}),D.jsx($f,{sx:{my:3}}),D.jsx(tt,{variant:"h6",gutterBottom:!0,children:"Change Password"}),D.jsx(Mi,{fullWidth:!0,type:"password",label:"Current Password",value:x,onChange:Y=>w(Y.target.value),margin:"normal",disabled:s}),D.jsx(Mi,{fullWidth:!0,type:"password",label:"New Password",value:E,onChange:Y=>S(Y.target.value),margin:"normal",disabled:s}),D.jsx(Mi,{fullWidth:!0,type:"password",label:"Confirm New Password",value:T,onChange:Y=>k(Y.target.value),margin:"normal",disabled:s}),D.jsx(Be,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:D.jsx(nr,{variant:"contained",onClick:J,disabled:s,children:"Save Profile"})})]}),D.jsxs(tD,{value:i,index:1,children:[D.jsx(GO,{control:D.jsx(O4,{checked:N,onChange:Y=>R(Y.target.checked),disabled:s}),label:"Enable AI Features"}),D.jsx(tt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Enable AI-powered reading suggestions and goal generation"}),N&&D.jsxs(D.Fragment,{children:[D.jsx(Mi,{fullWidth:!0,label:"Google Gemini API Key",type:I?"text":"password",value:M,onChange:Y=>L(Y.target.value),margin:"normal",disabled:s,helperText:"Your API key is stored securely and used only for AI features",InputProps:{endAdornment:D.jsx(nA,{position:"end",children:D.jsx(wi,{onClick:()=>O(!I),edge:"end",children:I?D.jsx(P4e,{}):D.jsx(R4e,{})})})}}),D.jsx($f,{sx:{my:3}}),D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[D.jsx(tt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Prompt Template"}),D.jsx(YT,{label:"Reset to Default",onClick:X,size:"small",variant:"outlined"})]}),D.jsx(Mi,{fullWidth:!0,multiline:!0,rows:6,label:"Reading Goal Generation Prompt",value:V,onChange:Y=>$(Y.target.value),disabled:s,helperText:"Customize the prompt used for generating reading suggestions"})]}),D.jsx(Be,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:D.jsx(nr,{variant:"contained",onClick:Q,disabled:s,children:"Save AI Configuration"})})]}),D.jsxs(tD,{value:i,index:2,children:[D.jsx(tt,{variant:"h6",gutterBottom:!0,children:"Preferences"}),D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Additional preferences will be available here in future updates."})]})]}),D.jsx(QT,{children:D.jsx(nr,{onClick:j,disabled:s,children:"Close"})})]})}const eje=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];function tje(){var Ye,dt,Pe,ut,rt,mt,ve,Ce,Ue,nt;const{userData:t}=bg(),{mode:e,setMode:n,viewingPaperId:r}=fd(),{readPurposes:i,currentReadId:o,setCurrentReadId:s,displayedReads:a,toggleRead:l,createRead:u,generateReadingGoals:c,saveReadingData:d,stopUpdateReadingSession:h,resetPaperContext:p,loadPaperContext:m}=Zf(),{togglePaperForAnalytics:y,toggleUserForAnalytics:x,reloadAnalytics:w}=wg(),{setRunTour:E}=aIe(),S=eP(),[T,k]=F.useState(""),[N,R]=F.useState(null),[M,L]=F.useState(!1),[I,O]=F.useState(!1),[V,$]=F.useState(""),[z,W]=F.useState(null),[K,J]=F.useState(!1),[Q,X]=F.useState(null),[j,Y]=F.useState(!1),[ue,q]=F.useState(!1),[de,se]=F.useState(""),[ee,ae]=F.useState(!1),[te,ce]=F.useState(!1),fe=async()=>{L(!0)},ge=async()=>{if(te)ce(!1);else if(ce(!0),!z&&!I){O(!0);try{const Re=await c();Re&&($(Re.readingProgress),W(Re.readingGoals))}catch(Re){console.error("Error generating AI suggestions:",Re)}finally{O(!1)}}},xe=()=>{if(!T){alert("Please enter a title");return}if(!N){alert("Please select a color");return}j?u(T,N,"",o):u(T,N),be()},be=()=>{k(""),R(null),L(!1),J(!1),Y(!1),ce(!1),O(!1),$(""),W(null)},Ee=()=>{E(!0)},Me=()=>{X(null)},st=(Re,Xe)=>{Xe.stopPropagation(),l(Re)},Ve=Re=>{s(Re),Me()},Oe=async()=>{q(!0),e===Vr.READING?(se("Saving your reading progress..."),h(),await d(),p(),y(r,!0),x(t.id,!0),n(Vr.ANALYZING)):e===Vr.ANALYZING&&(se("Loading your reading progress..."),w(),await m(),n(Vr.READING)),q(!1)},Qe=()=>{var Re,Xe;k(((Re=i[o])==null?void 0:Re.title)||""),R(((Xe=i[o])==null?void 0:Xe.color)||null),Y(!0),L(!0)};return D.jsxs("div",{className:"NavBar",children:[D.jsxs("div",{className:"logo-text",children:[D.jsx("img",{src:rA,height:40,alt:"re:ad",style:{cursor:"pointer"},onClick:()=>{S("/papers")}}),D.jsx(wi,{sx:{ml:3},className:"mui-button",size:"small",onClick:Ee,children:D.jsx(T4e,{})})]}),D.jsx(Be,{className:"reads-dropdown",children:e==="reading"?D.jsx(D.Fragment,{children:Object.values(i).length>0?D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2},children:[o?D.jsx(nr,{variant:"outlined",endIcon:D.jsx(_j,{}),onClick:Re=>X(Re.currentTarget),className:"nav-read-btn",sx:{borderColor:((Ye=i[o])==null?void 0:Ye.color)||"#ccc","&:hover":{borderColor:((dt=i[o])==null?void 0:dt.color)||"#ccc",backgroundColor:`${(Pe=i[o])==null?void 0:Pe.color}20`||"#f5f5f5"}},children:(ut=i[o])==null?void 0:ut.title}):D.jsx(nr,{variant:"outlined",endIcon:D.jsx(_j,{}),onClick:Re=>X(Re.currentTarget),className:"nav-read-btn",sx:{borderColor:((rt=i[o])==null?void 0:rt.color)||"#ccc","&:hover":{borderColor:((mt=i[o])==null?void 0:mt.color)||"#ccc",backgroundColor:`${(ve=i[o])==null?void 0:ve.color}20`||"#f5f5f5"}},children:"Please select an active read"}),D.jsx(JR,{anchorEl:Q,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:!!Q,onClose:Me,sx:{minWidth:"200px"},children:Object.values(i).map(Re=>D.jsxs(Ew,{onClick:()=>Ve(Re.id),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,backgroundColor:o===Re.id?`${Re.color}20`:"transparent","&:hover":{backgroundColor:`${Re.color}30`}},children:[D.jsx(Sw,{children:D.jsx(WO,{checked:a.includes(Re.id),disabled:o===Re.id,onClick:Xe=>st(Re.id,Xe),sx:{color:Re.color,"&.Mui-checked":{color:Re.color},"&.Mui-disabled":{color:Re.color}}})}),D.jsx(sg,{primary:Re.title,sx:{"& .MuiListItemText-primary":{fontWeight:o===Re.id?"bold":"normal"}}}),D.jsx(Be,{sx:{width:12,height:12,backgroundColor:Re.color,borderRadius:"50%",ml:1}})]},Re.id))}),D.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[D.jsx(nx,{title:"Edit Read",children:D.jsx(wi,{onClick:Qe,size:"small",children:D.jsx(Tne,{})})}),D.jsx(nx,{title:"Add New Read",children:D.jsx(wi,{onClick:fe,size:"small",children:D.jsx(eM,{})})})]})]}):D.jsx(nr,{className:"mui-button add-new-read-btn",size:"small",variant:"outlined",startIcon:D.jsx(eM,{}),onClick:fe,sx:{textTransform:"none"},children:"New Read"})}):D.jsx(Be,{sx:{display:"flex",alignItems:"center"},children:D.jsx(tt,{variant:"h6",sx:{color:"text.primary",fontWeight:"medium"},children:"Analysis Mode"})})}),D.jsxs(Be,{sx:{mx:2,display:"flex",gap:2,alignItems:"center",justifyContent:"flex-end"},children:[D.jsxs(Be,{className:"nav-mode-switch",children:[D.jsx(v4e,{sx:{boxSizing:"border-box",color:e==="reading"?"primary.main":"text.secondary"}}),D.jsx(O4,{checked:e==="analyzing",onChange:Oe,inputProps:{"aria-label":"toggle mode"},sx:{boxSizing:"border-box","& .MuiSwitch-thumb":{backgroundColor:"white"},"& .MuiSwitch-track":{backgroundColor:"primary.main"}}}),D.jsx(Ene,{sx:{boxSizing:"border-box",color:e==="analyzing"?"primary.main":"text.secondary"}})]}),e==="reading"&&D.jsx(wi,{onClick:d,disabled:ue,size:"small",children:D.jsx(E4e,{fontSize:"small"})}),D.jsx(wi,{onClick:()=>ae(!0),size:"small",sx:{color:"text.secondary"},children:D.jsx(C4e,{fontSize:"small"})})]}),e==="reading"&&D.jsxs(JT,{open:M,children:[D.jsx(eA,{children:j?"Edit Read":"Create New Read"}),D.jsxs(ZT,{sx:{width:"35vw",display:"flex",boxSizing:"border-box !important",flexDirection:"column",alignItems:"flex-start",gap:2,p:3},children:[D.jsx(Mi,{sx:{width:"80%",my:1},multiline:!0,label:"Title",value:T,onChange:Re=>k(Re.target.value)}),!j&&D.jsx(nx,{title:(Ce=t==null?void 0:t.aiConfig)!=null&&Ce.enabled?"See ReadFlect's evaluation on your reading progress and suggested reading goals":"AI features are not enabled. Please enable it in your profile settings to see ReadFlect's evaluation on your reading progress and suggested reading goals.",children:D.jsx(Be,{children:D.jsx(nr,{variant:te?"contained":"outlined",onClick:ge,disabled:!((Ue=t==null?void 0:t.aiConfig)!=null&&Ue.enabled),sx:{borderRadius:10,alignSelf:"flex-start"},startIcon:D.jsx(m4e,{}),children:te?"Hide ReadFlect Suggestions":"ReadFlect Suggestions"})})}),((nt=t==null?void 0:t.aiConfig)==null?void 0:nt.enabled)&&te&&D.jsxs(Be,{sx:{mb:1,p:1,boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},children:[I&&D.jsxs(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[D.jsx("p",{style:{animation:"pulse 1.5s ease-in-out infinite",fontSize:"16px",color:"#666"},children:"Generating reading goals..."}),D.jsx("style",{children:`
                  @keyframes pulse {
                    0% { opacity: 0.4; }
                    50% { opacity: 1; }
                    100% { opacity: 0.4; }
                  }
                `})]}),z&&!I&&D.jsxs(Be,{sx:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"85%",gap:2},children:[D.jsxs(Be,{sx:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[D.jsx(tt,{variant:"body1",sx:{fontWeight:"bold"},children:"Reading Progress:"}),D.jsx(tt,{variant:"body1",children:V})]}),D.jsxs(Be,{sx:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[D.jsx(tt,{variant:"body1",sx:{fontWeight:"bold"},children:"Suggested Reading Goals:"}),D.jsx(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:z.map(Re=>D.jsx(nx,{title:Re.goalDescription,arrow:!0,placement:"right",children:D.jsx(YT,{label:Re.goalName,variant:"outlined",onClick:()=>k(Re.goalName)})},Re.goalName))})]})]})]}),D.jsxs(Be,{sx:{boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1,p:1},children:[D.jsx(tt,{variant:"body1",sx:{fontWeight:"bold"},children:"Color Palette:"}),D.jsxs(Be,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"flex-start",gap:1},children:[eje.map(Re=>D.jsx(Be,{sx:{width:20,height:20,backgroundColor:Re,borderRadius:4,border:Re===N?"2px solid black":"none"},onClick:()=>R(Re)},Re)),K?D.jsx(wi,{size:"small",onClick:()=>{J(!1),R(null)},children:D.jsx(F4,{})}):D.jsx(wi,{size:"small",onClick:()=>J(!0),children:D.jsx(eM,{})})]}),K&&D.jsx(Aqe,{disableAlpha:!0,color:N??"#000000",onChange:(Re,Xe)=>{R(Re.hex),Xe.preventDefault()}})]})]}),D.jsxs(QT,{sx:{p:2},children:[D.jsx(nr,{variant:"text",color:"error",onClick:be,children:"Cancel"}),D.jsx(nr,{variant:"text",onClick:xe,children:j?"Save":"Create"})]})]}),D.jsxs(I4,{sx:{color:"#fff",zIndex:Re=>Re.zIndex.drawer+1,flexDirection:"column",gap:2},open:ue,children:[D.jsx(w4,{color:"inherit"}),D.jsx(tt,{variant:"h6",children:de})]}),D.jsx(jre,{open:ee,onClose:()=>ae(!1)})]})}const nje="modulepreload",rje=function(t){return"/re-ad/"+t},wG={},ux=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(u=>{if(u=rje(u),u in wG)return;wG[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":nje,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var nD,_G;function ije(){if(_G)return nD;_G=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof Af=="object"&&Af&&Af.Object===Object&&Af,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,h=d.toString,p=Math.max,m=Math.min,y=function(){return c.Date.now()};function x(k,N,R){var M,L,I,O,V,$,z=0,W=!1,K=!1,J=!0;if(typeof k!="function")throw new TypeError(t);N=T(N)||0,w(R)&&(W=!!R.leading,K="maxWait"in R,I=K?p(T(R.maxWait)||0,N):I,J="trailing"in R?!!R.trailing:J);function Q(ae){var te=M,ce=L;return M=L=void 0,z=ae,O=k.apply(ce,te),O}function X(ae){return z=ae,V=setTimeout(ue,N),W?Q(ae):O}function j(ae){var te=ae-$,ce=ae-z,fe=N-te;return K?m(fe,I-ce):fe}function Y(ae){var te=ae-$,ce=ae-z;return $===void 0||te>=N||te<0||K&&ce>=I}function ue(){var ae=y();if(Y(ae))return q(ae);V=setTimeout(ue,j(ae))}function q(ae){return V=void 0,J&&M?Q(ae):(M=L=void 0,O)}function de(){V!==void 0&&clearTimeout(V),z=0,M=$=L=V=void 0}function se(){return V===void 0?O:q(y())}function ee(){var ae=y(),te=Y(ae);if(M=arguments,L=this,$=ae,te){if(V===void 0)return X($);if(K)return V=setTimeout(ue,N),Q($)}return V===void 0&&(V=setTimeout(ue,N)),O}return ee.cancel=de,ee.flush=se,ee}function w(k){var N=typeof k;return!!k&&(N=="object"||N=="function")}function E(k){return!!k&&typeof k=="object"}function S(k){return typeof k=="symbol"||E(k)&&h.call(k)==n}function T(k){if(typeof k=="number")return k;if(S(k))return e;if(w(k)){var N=typeof k.valueOf=="function"?k.valueOf():k;k=w(N)?N+"":N}if(typeof k!="string")return k===0?k:+k;k=k.replace(r,"");var R=o.test(k);return R||s.test(k)?a(k.slice(2),R?2:8):i.test(k)?e:+k}return nD=x,nD}var oje=ije();const sje=xo(oje),sF=F.createContext(void 0),Wre=()=>{const t=F.useContext(sF);if(t===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return t},Gre=(t,{width:e,height:n})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:e,height:n,pageNumber:t.pageNumber}),Kre=({boundingRect:t,rects:e},n)=>{const r=t.pageNumber,i=n.getPageView(r-1).viewport,o=s=>Gre(s,i);return{boundingRect:o(t),rects:(e||[]).map(o)}},aje=(t,e)=>{const[n,r,i,o]=e.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(n,i),top:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(r-o),pageNumber:t.pageNumber}},Yre=(t,e,n=!1)=>{const{width:r,height:i}=e;if(n)return aje(t,e);if(t.x1===void 0)throw new Error("You are using old position format, please update");const o=r*t.x1/t.width,s=i*t.y1/t.height,a=r*t.x2/t.width,l=i*t.y2/t.height;return{left:o,top:s,width:a-o,height:l-s,pageNumber:t.pageNumber}},lje=({boundingRect:t,rects:e,usePdfCoordinates:n},r)=>{const i=t.pageNumber,o=r.getPageView(i-1).viewport,s=a=>Yre(a,o,n);return{boundingRect:s(t),rects:(e||[]).map(s)}},uje=t=>{const e=Array.from(t).map(c=>{const{left:d,top:h,width:p,height:m,pageNumber:y}=c,x=d,w=d+p,E=h,S=h+m;return{X0:x,X1:w,Y0:E,Y1:S,pageNumber:y}});let n=Number.MAX_SAFE_INTEGER;e.forEach(c=>{n=Math.min(n,c.pageNumber??n)});const r=e.filter(c=>(c.X0>0||c.X1>0||c.Y0>0||c.Y1>0)&&c.pageNumber===n),i=r.reduce((c,d)=>({X0:Math.min(c.X0,d.X0),X1:Math.max(c.X1,d.X1),Y0:Math.min(c.Y0,d.Y0),Y1:Math.max(c.Y1,d.Y1),pageNumber:n}),r[0]),{X0:o,X1:s,Y0:a,Y1:l,pageNumber:u}=i;return{left:o,top:a,width:s-o,height:l-a,pageNumber:u}},cje=t=>t.sort((e,n)=>{const r=(e.pageNumber||0)*e.top-(n.pageNumber||0)*n.top;return r===0?e.left-n.left:r}),dje=(t,e)=>t.pageNumber===e.pageNumber&&t.left<=e.left&&e.left<=t.left+t.width,fje=(t,e,n=5)=>t.pageNumber===e.pageNumber&&Math.abs(t.top-e.top)<n&&Math.abs(t.height-e.height)<n,hje=(t,e)=>t.pageNumber===e.pageNumber&&t.top>e.top&&t.left>e.left&&t.top+t.height<e.top+e.height&&t.left+t.width<e.left+e.width,pje=(t,e,n=10)=>{const r=t.left+t.width,i=e.left+e.width;return t.pageNumber===e.pageNumber&&t.left<=e.left&&r<=i&&e.left-r<=n},SG=(t,e)=>{t.width=Math.max(e.width-t.left+e.left,t.width)},gje=t=>{const e=cje(t),n=new Set,r=e.filter(o=>e.every(s=>!hje(o,s)));let i=0;for(;i<=2;)r.forEach(o=>{r.forEach(s=>{o===s||n.has(o)||n.has(s)||fje(o,s)&&(dje(o,s)&&(SG(o,s),o.height=Math.max(o.height,s.height),n.add(s)),pje(o,s)&&(SG(o,s),n.add(s)))})}),i+=1;return r.filter(o=>!n.has(o))},mje=(t,e)=>!(t.top<e.top||t.bottom>e.bottom||t.right>e.right||t.left<e.left),yje=(t,e,n=!0)=>{const r=Array.from(t.getClientRects()),i=[];for(const o of r)for(const s of e){const a=s.node.getBoundingClientRect();if(mje(o,a)&&o.width>0&&o.height>0&&o.width<a.width&&o.left>a.left&&o.height<a.height){const l={top:o.top+s.node.scrollTop-a.top,left:o.left+s.node.scrollLeft-a.left,width:o.width,height:o.height,pageNumber:s.number};i.push(l)}}return n?gje(i):i},vje=t=>t.reduce((e,n)=>(n&&[n.position.boundingRect.pageNumber,...n.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const o={...n,position:{...n.position,rects:n.position.rects.filter(s=>i===s.pageNumber)}};e[i].push(o)}),e),{}),Xre=t=>(t||{}).ownerDocument||document,dA=t=>(Xre(t)||{}).defaultView||window,Rw=t=>t instanceof HTMLElement||t instanceof dA(t).HTMLElement,bje=t=>t instanceof HTMLCanvasElement||t instanceof dA(t).HTMLCanvasElement,yu=t=>t,zx=t=>{const e=yu(t.closest(".page"));if(!e||!Rw(e))return null;const n=Number(yu(e).dataset.pageNumber);return{node:e,number:n}},xje=t=>{const e=t.startContainer.parentElement,n=t.endContainer.parentElement;if(!Rw(e)||!Rw(n))return[];const r=zx(yu(e)),i=zx(yu(n));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const o=[];let s=r.number;const a=r.node.ownerDocument;for(;s<=i.number;){const l=zx(a.querySelector(`[data-page-number='${s}'`));l&&o.push(l),s++}return o},wje=(t,e)=>{const n=Xre(t);let r=t.querySelector(`.${e}`);return!r&&t.children.length&&(r=n.createElement("div"),r.className=e,t.appendChild(r)),r},Jre=F.createContext(void 0),_je=()=>{const t=F.useContext(Jre);if(t===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return t},Sje=(t,e)=>{const{left:n,top:r,width:i,height:o}=e,s=t?t.ownerDocument:null,a=s&&s.createElement("canvas");if(!a||!bje(a))return"";a.width=i,a.height=o;const l=a.getContext("2d");if(!l||!t)return"";const u=window.devicePixelRatio;return l.drawImage(t,n*u,r*u,i*u,o*u,0,0,i,o),a.toDataURL("image/png")},Qre=(t,e,n)=>Sje(n.getPageView(e-1).canvas,t),Eje="empty-id",Cje=({highlightsByPage:t,pageNumber:e,scrolledToHighlightId:n,viewer:r,highlightBindings:i,children:o})=>{const s=t[e]||[];return oe.createElement("div",null,s.map((a,l)=>{const u={...a,id:"id"in a?a.id:Eje,position:lje(a.position,r)},c=n===u.id,d={highlight:u,viewportToScaled:h=>{const p=r.getPageView((h.pageNumber||e)-1).viewport;return Gre(h,p)},screenshot:h=>Qre(h,e,r),isScrolledTo:c,highlightBindings:i};return oe.createElement(Jre.Provider,{value:d,key:l},o)}))},EG=(t,e)=>({left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),CG=(t,e,n)=>{const r=t.getBoundingClientRect();return{x:e-r.left+t.scrollLeft,y:n-r.top+t.scrollTop-window.scrollY}},Tje=({viewer:t,onSelection:e,onReset:n,onDragStart:r,enableAreaSelection:i,onChange:o,style:s})=>{const[a,l]=F.useState(null),[u,c]=F.useState(null),[d,h]=F.useState(!1),p=F.useRef(null),m=F.useRef(null),y=()=>{n&&n(),l(null),c(null),h(!1)};return F.useEffect(()=>{if(o&&o(!!(a&&u)),!p.current)return;const x=yu(p.current.parentElement),w=T=>{if(!a||!u||!m.current)return;const k=EG(a,u),N=k.width>=1&&k.height>=1;if(!x.contains(yu(T.target))||!N){y();return}h(!0);const R=zx(m.current);if(!R)return;const M={...k,top:k.top-R.node.offsetTop,left:k.left-R.node.offsetLeft,pageNumber:R.number},L={boundingRect:M,rects:[]},I=Kre(L,t),O=Qre(M,M.pageNumber,t);e&&e(L,I,O,y,T)},E=T=>{!p.current||!a||d||c(CG(x,T.pageX,T.pageY))},S=T=>{const k=R=>i(R)&&Rw(R.target)&&!!yu(R.target).closest(".page"),N=R=>a&&!yu(R.target).closest(".PdfHighlighter__tip-container");if(!k(T)){N(T)&&y();return}m.current=yu(T.target),r&&r(T),l(CG(x,T.pageX,T.pageY)),c(null),h(!1)};return x.addEventListener("mousemove",E),x.addEventListener("mousedown",S),document.addEventListener("mouseup",w),()=>{x.removeEventListener("mousemove",E),x.removeEventListener("mousedown",S),document.removeEventListener("mouseup",w)}},[a,u]),oe.createElement("div",{className:"MouseSelection-container",ref:p},a&&u&&oe.createElement("div",{className:"MouseSelection",style:{...EG(a,u),...s}}))},Aje=(t,e,n)=>Math.min(Math.max(t,e),n),rD=5,Rje=({viewer:t,updateTipPositionRef:e})=>{const[n,r]=F.useState(0),[i,o]=F.useState(0),s=F.useRef(null),a=()=>{if(!s.current)return;const{offsetHeight:L,offsetWidth:I}=s.current;r(L),o(I)};e.current=a,F.useLayoutEffect(()=>{a()},[a]);const{getTip:l}=Wre(),u=l();if(!u)return null;const{position:c,content:d}=u,{boundingRect:h}=c,p=h.pageNumber,m=t.getPageView(p-1).div,y=m.getBoundingClientRect(),{left:x,width:w}=y,E=t.container.scrollTop,S=m.offsetLeft+h.left+h.width/2,T=h.top+m.offsetTop,k=T+h.height,R=T-n-rD<E?k+rD:T-n-rD,M=Aje(S-i/2,0,x+w-i);return oe.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:R,left:M,height:"max-content",width:"max-content"},ref:s},d)};let Zre,eie,tie;(async()=>{const t=await ux(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);Zre=t.EventBus,eie=t.PDFLinkService,tie=t.PDFViewer})();const Pje=10,Ije="auto",kje="rgba(153,193,218,255)",Mje=t=>wje(t,"PdfHighlighter__highlight-layer"),TG=(t,e)=>{var n;(n=t.viewer)==null||n.classList.toggle("PdfHighlighter--disable-selection",e)},Nje=({highlights:t,onScrollAway:e,pdfScaleValue:n=Ije,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:o,selectionTip:s,enableAreaSelection:a,mouseSelectionStyle:l,pdfDocument:u,children:c,textSelectionColor:d=kje,utilsRef:h,style:p})=>{const[m,y]=F.useState(null),[x,w]=F.useState(!1),E=F.useRef(null),S=F.useRef({}),T=F.useRef(null),k=F.useRef(null),N=F.useRef(null),R=F.useRef(!1),M=F.useRef(!1),L=F.useRef(()=>{}),I=F.useRef(new Zre),O=F.useRef(new eie({eventBus:I.current,externalLinkTarget:2})),V=F.useRef(null),$=F.useRef(null);F.useLayoutEffect(()=>{if(!E.current)return;const ae=sje(()=>{$.current=$.current||new tie({container:E.current,eventBus:I.current,textLayerMode:2,removePageBorders:!0,linkService:O.current}),$.current.setDocument(u),O.current.setDocument(u),O.current.setViewer($.current),w(!0)},100);return ae(),()=>{ae.cancel()}},[document]),F.useLayoutEffect(()=>{if(!E.current)return;V.current=new ResizeObserver(Q),V.current.observe(E.current);const ae=E.current.ownerDocument;return I.current.on("textlayerrendered",j),I.current.on("pagesinit",Q),ae.addEventListener("keydown",J),j(),()=>{var te;I.current.off("pagesinit",Q),I.current.off("textlayerrendered",j),ae.removeEventListener("keydown",J),(te=V.current)==null||te.disconnect()}},[s,t,r]);const z=()=>{e&&e(),N.current=null,j()},W=()=>{const ae=E.current,te=dA(ae).getSelection();if(!ae||!te||te.isCollapsed||!$.current)return;const ce=te.rangeCount>0?te.getRangeAt(0):null;if(!ce||!ae.contains(ce.commonAncestorContainer))return;const fe=xje(ce);if(!fe||fe.length===0)return;const ge=yje(ce,fe);if(ge.length===0)return;const xe={boundingRect:uje(ge),rects:ge},be=Kre(xe,$.current),Ee={text:te.toString().split(`
`).join(" ")};k.current={content:Ee,type:"text",position:be,makeGhostHighlight:()=>(T.current={content:Ee,type:"text",position:be},i&&i(T.current),de(),j(),T.current)},r&&r(k.current),s&&y({position:xe,content:s})},K=ae=>{!Rw(ae.target)||yu(ae.target).closest(".PdfHighlighter__tip-container")||(y(null),de(),q(),ue(!1))},J=ae=>{ae.code==="Escape"&&(de(),q(),y(null))},Q=()=>{$.current&&($.current.currentScaleValue=n.toString())},X=(ae,te)=>{$.current&&ae.reactRoot.render(oe.createElement(sF.Provider,{value:ee},oe.createElement(Cje,{highlightsByPage:vje([...t,T.current]),pageNumber:te,scrolledToHighlightId:N.current,viewer:$.current,highlightBindings:ae,children:c})))},j=()=>{var ae;if($.current)for(let te=1;te<=u.numPages;te++){const ce=S.current[te];if((ae=ce==null?void 0:ce.container)!=null&&ae.isConnected)X(ce,te);else{const{textLayer:fe}=$.current.getPageView(te-1)||{};if(!fe)continue;const ge=Mje(fe.div);if(ge){const xe=RX.createRoot(ge);S.current[te]={reactRoot:xe,container:ge,textLayer:fe.div},X(S.current[te],te)}}}},Y=()=>!!k.current||!!T.current||R.current||M.current,ue=ae=>{var te;ae!==void 0?M.current=ae:M.current=!M.current,$.current&&((te=$.current.viewer)==null||te.classList.toggle("PdfHighlighter--disable-selection",M.current))},q=()=>{o&&T.current&&o(T.current),T.current=null,j()},de=()=>{k.current=null;const ae=E.current,te=dA(ae).getSelection();!ae||!te||te.removeAllRanges()},ee={isEditingOrHighlighting:Y,getCurrentSelection:()=>k.current,getGhostHighlight:()=>T.current,removeGhostHighlight:q,toggleEditInProgress:ue,isEditInProgress:()=>M.current,isSelectionInProgress:()=>!!k.current||R.current,scrollToHighlight:ae=>{const{boundingRect:te,usePdfCoordinates:ce}=ae.position,fe=te.pageNumber;$.current.container.removeEventListener("scroll",z);const ge=$.current.getPageView(fe-1).viewport;$.current.scrollPageIntoView({pageNumber:fe,destArray:[null,{name:"XYZ"},...ge.convertToPdfPoint(0,Yre(te,ge,ce).top-Pje),0]}),N.current=ae.id,j(),setTimeout(()=>{$.current.container.addEventListener("scroll",z,{once:!0})},100)},getViewer:()=>$.current,getTip:()=>m,setTip:y,updateTipPosition:L.current};return h(ee),oe.createElement(sF.Provider,{value:ee},oe.createElement("div",{ref:E,className:"PdfHighlighter",onPointerDown:K,onPointerUp:W,style:p},oe.createElement("div",{className:"pdfViewer"}),oe.createElement("style",null,`
          .textLayer ::selection {
            background: ${d};
          }
        `),x&&oe.createElement(Rje,{viewer:$.current,updateTipPositionRef:L}),x&&a&&oe.createElement(Tje,{viewer:$.current,onChange:ae=>R.current=ae,enableAreaSelection:a,style:l,onDragStart:()=>TG($.current,!0),onReset:()=>{k.current=null,TG($.current,!1)},onSelection:(ae,te,ce,fe)=>{k.current={content:{image:ce},type:"area",position:te,makeGhostHighlight:()=>(T.current={position:te,type:"area",content:{image:ce}},i&&i(T.current),fe(),j(),T.current)},r&&r(k.current),s&&y({position:ae,content:s})}})))},Dje=({highlight:t,onClick:e,onMouseOver:n,onMouseOut:r,isScrolledTo:i,onContextMenu:o,style:s})=>{const a=i?"TextHighlight--scrolledTo":"",{rects:l}=t.position;return oe.createElement("div",{className:`TextHighlight ${a}`,onContextMenu:o},oe.createElement("div",{className:"TextHighlight__parts"},l.map((u,c)=>oe.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:e,key:c,style:{...u,...s},className:"TextHighlight__part"}))))};var Pb={exports:{}},iD={};function nie(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=nie(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function AG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=nie(t))&&(r&&(r+=" "),r+=e);return r}const Lje=Object.freeze(Object.defineProperty({__proto__:null,clsx:AG,default:AG},Symbol.toStringTag,{value:"Module"})),Oje=$le(Lje);var jr={},Wd={},RG;function yP(){if(RG)return Wd;RG=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.dontSetMe=i,Wd.findInArray=t,Wd.int=r,Wd.isFunction=e,Wd.isNum=n;function t(o,s){for(let a=0,l=o.length;a<l;a++)if(s.apply(s,[o[a],a,o]))return o[a]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function n(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,s,a){if(o[s])return new Error("Invalid prop ".concat(s," passed to ").concat(a," - do not set this, set it on the child."))}return Wd}var Gd={},PG;function Fje(){if(PG)return Gd;PG=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.browserPrefixToKey=n,Gd.browserPrefixToStyle=r,Gd.default=void 0,Gd.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var o;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!a||s in a)return"";for(let l=0;l<t.length;l++)if(n(s,t[l])in a)return t[l];return""}function n(o,s){return s?"".concat(s).concat(i(o)):o}function r(o,s){return s?"-".concat(s.toLowerCase(),"-").concat(o):o}function i(o){let s="",a=!0;for(let l=0;l<o.length;l++)a?(s+=o[l].toUpperCase(),a=!1):o[l]==="-"?a=!0:s+=o[l];return s}return Gd.default=e(),Gd}var IG;function N3(){if(IG)return jr;IG=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.addClassName=k,jr.addEvent=a,jr.addUserSelectStyles=S,jr.createCSSTransform=m,jr.createSVGTransform=y,jr.getTouch=w,jr.getTouchIdentifier=E,jr.getTranslation=x,jr.innerHeight=d,jr.innerWidth=h,jr.matchesSelector=o,jr.matchesSelectorAndParentsTo=s,jr.offsetXYFromParent=p,jr.outerHeight=u,jr.outerWidth=c,jr.removeClassName=N,jr.removeEvent=l,jr.removeUserSelectStyles=T;var t=yP(),e=r(Fje());function n(R){if(typeof WeakMap!="function")return null;var M=new WeakMap,L=new WeakMap;return(n=function(I){return I?L:M})(R)}function r(R,M){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var L=n(M);if(L&&L.has(R))return L.get(R);var I={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in R)if(V!=="default"&&Object.prototype.hasOwnProperty.call(R,V)){var $=O?Object.getOwnPropertyDescriptor(R,V):null;$&&($.get||$.set)?Object.defineProperty(I,V,$):I[V]=R[V]}return I.default=R,L&&L.set(R,I),I}let i="";function o(R,M){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(L){return(0,t.isFunction)(R[L])})),(0,t.isFunction)(R[i])?R[i](M):!1}function s(R,M,L){let I=R;do{if(o(I,M))return!0;if(I===L)return!1;I=I.parentNode}while(I);return!1}function a(R,M,L,I){if(!R)return;const O={capture:!0,...I};R.addEventListener?R.addEventListener(M,L,O):R.attachEvent?R.attachEvent("on"+M,L):R["on"+M]=L}function l(R,M,L,I){if(!R)return;const O={capture:!0,...I};R.removeEventListener?R.removeEventListener(M,L,O):R.detachEvent?R.detachEvent("on"+M,L):R["on"+M]=null}function u(R){let M=R.clientHeight;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M+=(0,t.int)(L.borderTopWidth),M+=(0,t.int)(L.borderBottomWidth),M}function c(R){let M=R.clientWidth;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M+=(0,t.int)(L.borderLeftWidth),M+=(0,t.int)(L.borderRightWidth),M}function d(R){let M=R.clientHeight;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M-=(0,t.int)(L.paddingTop),M-=(0,t.int)(L.paddingBottom),M}function h(R){let M=R.clientWidth;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M-=(0,t.int)(L.paddingLeft),M-=(0,t.int)(L.paddingRight),M}function p(R,M,L){const O=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),V=(R.clientX+M.scrollLeft-O.left)/L,$=(R.clientY+M.scrollTop-O.top)/L;return{x:V,y:$}}function m(R,M){const L=x(R,M,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:L}}function y(R,M){return x(R,M,"")}function x(R,M,L){let{x:I,y:O}=R,V="translate(".concat(I).concat(L,",").concat(O).concat(L,")");if(M){const $="".concat(typeof M.x=="string"?M.x:M.x+L),z="".concat(typeof M.y=="string"?M.y:M.y+L);V="translate(".concat($,", ").concat(z,")")+V}return V}function w(R,M){return R.targetTouches&&(0,t.findInArray)(R.targetTouches,L=>M===L.identifier)||R.changedTouches&&(0,t.findInArray)(R.changedTouches,L=>M===L.identifier)}function E(R){if(R.targetTouches&&R.targetTouches[0])return R.targetTouches[0].identifier;if(R.changedTouches&&R.changedTouches[0])return R.changedTouches[0].identifier}function S(R){if(!R)return;let M=R.getElementById("react-draggable-style-el");M||(M=R.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,R.getElementsByTagName("head")[0].appendChild(M)),R.body&&k(R.body,"react-draggable-transparent-selection")}function T(R){if(R)try{if(R.body&&N(R.body,"react-draggable-transparent-selection"),R.selection)R.selection.empty();else{const M=(R.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function k(R,M){R.classList?R.classList.add(M):R.className.match(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)")))||(R.className+=" ".concat(M))}function N(R,M){R.classList?R.classList.remove(M):R.className=R.className.replace(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)"),"g"),"")}return jr}var jl={},kG;function rie(){if(kG)return jl;kG=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.canDragX=i,jl.canDragY=o,jl.createCoreData=a,jl.createDraggableData=l,jl.getBoundPosition=n,jl.getControlPosition=s,jl.snapToGrid=r;var t=yP(),e=N3();function n(d,h,p){if(!d.props.bounds)return[h,p];let{bounds:m}=d.props;m=typeof m=="string"?m:u(m);const y=c(d);if(typeof m=="string"){const{ownerDocument:x}=y,w=x.defaultView;let E;if(m==="parent"?E=y.parentNode:E=x.querySelector(m),!(E instanceof w.HTMLElement))throw new Error('Bounds selector "'+m+'" could not find an element.');const S=E,T=w.getComputedStyle(y),k=w.getComputedStyle(S);m={left:-y.offsetLeft+(0,t.int)(k.paddingLeft)+(0,t.int)(T.marginLeft),top:-y.offsetTop+(0,t.int)(k.paddingTop)+(0,t.int)(T.marginTop),right:(0,e.innerWidth)(S)-(0,e.outerWidth)(y)-y.offsetLeft+(0,t.int)(k.paddingRight)-(0,t.int)(T.marginRight),bottom:(0,e.innerHeight)(S)-(0,e.outerHeight)(y)-y.offsetTop+(0,t.int)(k.paddingBottom)-(0,t.int)(T.marginBottom)}}return(0,t.isNum)(m.right)&&(h=Math.min(h,m.right)),(0,t.isNum)(m.bottom)&&(p=Math.min(p,m.bottom)),(0,t.isNum)(m.left)&&(h=Math.max(h,m.left)),(0,t.isNum)(m.top)&&(p=Math.max(p,m.top)),[h,p]}function r(d,h,p){const m=Math.round(h/d[0])*d[0],y=Math.round(p/d[1])*d[1];return[m,y]}function i(d){return d.props.axis==="both"||d.props.axis==="x"}function o(d){return d.props.axis==="both"||d.props.axis==="y"}function s(d,h,p){const m=typeof h=="number"?(0,e.getTouch)(d,h):null;if(typeof h=="number"&&!m)return null;const y=c(p),x=p.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,e.offsetXYFromParent)(m||d,x,p.props.scale)}function a(d,h,p){const m=!(0,t.isNum)(d.lastX),y=c(d);return m?{node:y,deltaX:0,deltaY:0,lastX:h,lastY:p,x:h,y:p}:{node:y,deltaX:h-d.lastX,deltaY:p-d.lastY,lastX:d.lastX,lastY:d.lastY,x:h,y:p}}function l(d,h){const p=d.props.scale;return{node:h.node,x:d.state.x+h.deltaX/p,y:d.state.y+h.deltaY/p,deltaX:h.deltaX/p,deltaY:h.deltaY/p,lastX:d.state.x,lastY:d.state.y}}function u(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}}function c(d){const h=d.findDOMNode();if(!h)throw new Error("<DraggableCore>: Unmounted during event!");return h}return jl}var Ib={},qE={},MG;function iie(){if(MG)return qE;MG=1,Object.defineProperty(qE,"__esModule",{value:!0}),qE.default=t;function t(){}return qE}var NG;function $je(){if(NG)return Ib;NG=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.default=void 0;var t=u(_l()),e=a(u4()),n=a(KA()),r=N3(),i=rie(),o=yP(),s=a(iie());function a(x){return x&&x.__esModule?x:{default:x}}function l(x){if(typeof WeakMap!="function")return null;var w=new WeakMap,E=new WeakMap;return(l=function(S){return S?E:w})(x)}function u(x,w){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var E=l(w);if(E&&E.has(x))return E.get(x);var S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in x)if(k!=="default"&&Object.prototype.hasOwnProperty.call(x,k)){var N=T?Object.getOwnPropertyDescriptor(x,k):null;N&&(N.get||N.set)?Object.defineProperty(S,k,N):S[k]=x[k]}return S.default=x,E&&E.set(x,S),S}function c(x,w,E){return w=d(w),w in x?Object.defineProperty(x,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):x[w]=E,x}function d(x){var w=h(x,"string");return typeof w=="symbol"?w:String(w)}function h(x,w){if(typeof x!="object"||x===null)return x;var E=x[Symbol.toPrimitive];if(E!==void 0){var S=E.call(x,w);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(x)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,y=class extends t.Component{constructor(){super(...arguments),c(this,"dragging",!1),c(this,"lastX",NaN),c(this,"lastY",NaN),c(this,"touchIdentifier",null),c(this,"mounted",!1),c(this,"handleDragStart",w=>{if(this.props.onMouseDown(w),!this.props.allowAnyClick&&typeof w.button=="number"&&w.button!==0)return!1;const E=this.findDOMNode();if(!E||!E.ownerDocument||!E.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:S}=E;if(this.props.disabled||!(w.target instanceof S.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(w.target,this.props.handle,E)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(w.target,this.props.cancel,E))return;w.type==="touchstart"&&w.preventDefault();const T=(0,r.getTouchIdentifier)(w);this.touchIdentifier=T;const k=(0,i.getControlPosition)(w,T,this);if(k==null)return;const{x:N,y:R}=k,M=(0,i.createCoreData)(this,N,R);(0,s.default)("DraggableCore: handleDragStart: %j",M),(0,s.default)("calling",this.props.onStart),!(this.props.onStart(w,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(S),this.dragging=!0,this.lastX=N,this.lastY=R,(0,r.addEvent)(S,m.move,this.handleDrag),(0,r.addEvent)(S,m.stop,this.handleDragStop))}),c(this,"handleDrag",w=>{const E=(0,i.getControlPosition)(w,this.touchIdentifier,this);if(E==null)return;let{x:S,y:T}=E;if(Array.isArray(this.props.grid)){let R=S-this.lastX,M=T-this.lastY;if([R,M]=(0,i.snapToGrid)(this.props.grid,R,M),!R&&!M)return;S=this.lastX+R,T=this.lastY+M}const k=(0,i.createCoreData)(this,S,T);if((0,s.default)("DraggableCore: handleDrag: %j",k),this.props.onDrag(w,k)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=S,this.lastY=T}),c(this,"handleDragStop",w=>{if(!this.dragging)return;const E=(0,i.getControlPosition)(w,this.touchIdentifier,this);if(E==null)return;let{x:S,y:T}=E;if(Array.isArray(this.props.grid)){let M=S-this.lastX||0,L=T-this.lastY||0;[M,L]=(0,i.snapToGrid)(this.props.grid,M,L),S=this.lastX+M,T=this.lastY+L}const k=(0,i.createCoreData)(this,S,T);if(this.props.onStop(w,k)===!1||this.mounted===!1)return!1;const R=this.findDOMNode();R&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(R.ownerDocument),(0,s.default)("DraggableCore: handleDragStop: %j",k),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,R&&((0,s.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(R.ownerDocument,m.move,this.handleDrag),(0,r.removeEvent)(R.ownerDocument,m.stop,this.handleDragStop))}),c(this,"onMouseDown",w=>(m=p.mouse,this.handleDragStart(w))),c(this,"onMouseUp",w=>(m=p.mouse,this.handleDragStop(w))),c(this,"onTouchStart",w=>(m=p.touch,this.handleDragStart(w))),c(this,"onTouchEnd",w=>(m=p.touch,this.handleDragStop(w)))}componentDidMount(){this.mounted=!0;const w=this.findDOMNode();w&&(0,r.addEvent)(w,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const w=this.findDOMNode();if(w){const{ownerDocument:E}=w;(0,r.removeEvent)(E,p.mouse.move,this.handleDrag),(0,r.removeEvent)(E,p.touch.move,this.handleDrag),(0,r.removeEvent)(E,p.mouse.stop,this.handleDragStop),(0,r.removeEvent)(E,p.touch.stop,this.handleDragStop),(0,r.removeEvent)(w,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(E)}}findDOMNode(){var w,E;return(w=this.props)!==null&&w!==void 0&&w.nodeRef?(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Ib.default=y,c(y,"displayName","DraggableCore"),c(y,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(x,w){if(x[w]&&x[w].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),c(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Ib}var DG;function Bje(){return DG||(DG=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(_l()),n=c(u4()),r=c(KA()),i=c(Oje),o=N3(),s=rie(),a=yP(),l=c($je()),u=c(iie());function c(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,T=new WeakMap;return(d=function(k){return k?T:S})(E)}function h(E,S){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var T=d(S);if(T&&T.has(E))return T.get(E);var k={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in E)if(R!=="default"&&Object.prototype.hasOwnProperty.call(E,R)){var M=N?Object.getOwnPropertyDescriptor(E,R):null;M&&(M.get||M.set)?Object.defineProperty(k,R,M):k[R]=E[R]}return k.default=E,T&&T.set(E,k),k}function p(){return p=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var T=arguments[S];for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(E[k]=T[k])}return E},p.apply(this,arguments)}function m(E,S,T){return S=y(S),S in E?Object.defineProperty(E,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[S]=T,E}function y(E){var S=x(E,"string");return typeof S=="symbol"?S:String(S)}function x(E,S){if(typeof E!="object"||E===null)return E;var T=E[Symbol.toPrimitive];if(T!==void 0){var k=T.call(E,S);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(E)}class w extends e.Component{static getDerivedStateFromProps(S,T){let{position:k}=S,{prevPropsPosition:N}=T;return k&&(!N||k.x!==N.x||k.y!==N.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:N}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(S){super(S),m(this,"onDragStart",(T,k)=>{if((0,u.default)("Draggable: onDragStart: %j",k),this.props.onStart(T,(0,s.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(T,k)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",k);const N=(0,s.createDraggableData)(this,k),R={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:L,y:I}=R;R.x+=this.state.slackX,R.y+=this.state.slackY;const[O,V]=(0,s.getBoundPosition)(this,R.x,R.y);R.x=O,R.y=V,R.slackX=this.state.slackX+(L-R.x),R.slackY=this.state.slackY+(I-R.y),N.x=R.x,N.y=R.y,N.deltaX=R.x-this.state.x,N.deltaY=R.y-this.state.y}if(this.props.onDrag(T,N)===!1)return!1;this.setState(R)}),m(this,"onDragStop",(T,k)=>{if(!this.state.dragging||this.props.onStop(T,(0,s.createDraggableData)(this,k))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",k);const R={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:L,y:I}=this.props.position;R.x=L,R.y=I}this.setState(R)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,T;return(S=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&S!==void 0?S:r.default.findDOMNode(this)}render(){const{axis:S,bounds:T,children:k,defaultPosition:N,defaultClassName:R,defaultClassNameDragging:M,defaultClassNameDragged:L,position:I,positionOffset:O,scale:V,...$}=this.props;let z={},W=null;const J=!!!I||this.state.dragging,Q=I||N,X={x:(0,s.canDragX)(this)&&J?this.state.x:Q.x,y:(0,s.canDragY)(this)&&J?this.state.y:Q.y};this.state.isElementSVG?W=(0,o.createSVGTransform)(X,O):z=(0,o.createCSSTransform)(X,O);const j=(0,i.default)(k.props.className||"",R,{[M]:this.state.dragging,[L]:this.state.dragged});return e.createElement(l.default,p({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:j,style:{...k.props.style,...z},transform:W}))}}t.default=w,m(w,"displayName","Draggable"),m(w,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(w,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(iD)),iD}var LG;function Vje(){if(LG)return Pb.exports;LG=1;const{default:t,DraggableCore:e}=Bje();return Pb.exports=t,Pb.exports.default=t,Pb.exports.DraggableCore=e,Pb.exports}var zje=Vje();const Uje=xo(zje);var ri=function(){return ri=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ri.apply(this,arguments)},OG={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},FG={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},jE={width:"20px",height:"20px",position:"absolute",zIndex:1},Hje={top:ri(ri({},OG),{top:"-5px"}),right:ri(ri({},FG),{left:void 0,right:"-5px"}),bottom:ri(ri({},OG),{top:void 0,bottom:"-5px"}),left:ri(ri({},FG),{left:"-5px"}),topRight:ri(ri({},jE),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:ri(ri({},jE),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:ri(ri({},jE),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:ri(ri({},jE),{left:"-10px",top:"-10px",cursor:"nw-resize"})},qje=F.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,o=t.className,s=F.useCallback(function(u){e(u,n)},[e,n]),a=F.useCallback(function(u){e(u,n)},[e,n]),l=F.useMemo(function(){return ri(ri({position:"absolute",userSelect:"none"},Hje[n]),i??{})},[i,n]);return D.jsx("div",{className:o||void 0,style:l,onMouseDown:s,onTouchStart:a,children:r})}),jje=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gl=function(){return Gl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gl.apply(this,arguments)},Wje={width:"auto",height:"auto"},WE=function(t,e,n){return Math.max(Math.min(t,n),e)},$G=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},Om=function(t,e){return new RegExp(t,"i").test(e)},GE=function(t){return!!(t.touches&&t.touches.length)},Gje=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},BG=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,s,a){return Math.abs(s-t)<Math.abs(e[o]-t)?a:o},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},oD=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},KE=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},Kje=function(t,e,n,r,i,o,s){return r=KE(r,t.width,e,n),i=KE(i,t.height,e,n),o=KE(o,t.width,e,n),s=KE(s,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof s>"u"?void 0:Number(s)}},Yje=function(t){return Array.isArray(t)?t:[t,t]},Xje=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],VG="__resizable_base__",Jje=function(t){jje(e,t);function e(n){var r,i,o,s,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(VG):u.className+=VG,l.appendChild(u),u},a.removeBase=function(l){var u=a.parentNode;u&&u.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(s=(o=a.propsSize)===null||o===void 0?void 0:o.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Wje},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=s}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),c=Number(n.state[a].toString().replace("px","")),d=c/u[a]*100;return"".concat(d,"%")}return oD(n.state[a])},o=r&&typeof r.width<"u"&&!this.state.isResizing?oD(r.width):i("width"),s=r&&typeof r.height<"u"&&!this.state.isResizing?oD(r.height):i("height");return{width:o,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,o=this.state.direction,s=i&&Om("left",o),a=i&&Om("top",o),l,u;if(this.props.bounds==="parent"){var c=this.parentNode;c&&(l=s?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,o=Yje(this.props.resizeRatio||1),s=o[0],a=o[1],l=this.state,u=l.direction,c=l.original,d=this.props,h=d.lockAspectRatio,p=d.lockAspectRatioExtraHeight,m=d.lockAspectRatioExtraWidth,y=c.width,x=c.height,w=p||0,E=m||0;return Om("right",u)&&(y=c.width+(n-c.x)*s/i,h&&(x=(y-E)/this.ratio+w)),Om("left",u)&&(y=c.width-(n-c.x)*s/i,h&&(x=(y-E)/this.ratio+w)),Om("bottom",u)&&(x=c.height+(r-c.y)*a/i,h&&(y=(x-w)*this.ratio+E)),Om("top",u)&&(x=c.height-(r-c.y)*a/i,h&&(y=(x-w)*this.ratio+E)),{newWidth:y,newHeight:x}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,o){var s=this.props,a=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,c=typeof o.width>"u"?10:o.width,d=typeof i.width>"u"||i.width<0?n:i.width,h=typeof o.height>"u"?10:o.height,p=typeof i.height>"u"||i.height<0?r:i.height,m=l||0,y=u||0;if(a){var x=(h-m)*this.ratio+y,w=(p-m)*this.ratio+y,E=(c-y)/this.ratio+m,S=(d-y)/this.ratio+m,T=Math.max(c,x),k=Math.min(d,w),N=Math.max(h,E),R=Math.min(p,S);n=WE(n,T,k),r=WE(r,N,R)}else n=WE(n,c,d),r=WE(r,h,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,l=s.top,u=s.right,c=s.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=l*n,this.resizableBottom=c*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,o=0;if(n.nativeEvent&&Gje(n.nativeEvent)?(i=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&GE(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(n,r,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var u=this.parentNode;if(u){var c=this.window.getComputedStyle(u).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Gl(Gl({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&GE(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,s=i.maxHeight,a=i.minWidth,l=i.minHeight,u=GE(n)?n.touches[0].clientX:n.clientX,c=GE(n)?n.touches[0].clientY:n.clientY,d=this.state,h=d.direction,p=d.original,m=d.width,y=d.height,x=this.getParentSize(),w=Kje(x,this.window.innerWidth,this.window.innerHeight,o,s,a,l);o=w.maxWidth,s=w.maxHeight,a=w.minWidth,l=w.minHeight;var E=this.calculateNewSizeFromDirection(u,c),S=E.newHeight,T=E.newWidth,k=this.calculateNewMaxFromBoundary(o,s);this.props.snap&&this.props.snap.x&&(T=BG(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=BG(S,this.props.snap.y,this.props.snapGap));var N=this.calculateNewSizeFromAspectRatio(T,S,{width:k.maxWidth,height:k.maxHeight},{width:a,height:l});if(T=N.newWidth,S=N.newHeight,this.props.grid){var R=$G(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),M=$G(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),L=this.props.snapGap||0,I=L===0||Math.abs(R-T)<=L?R:T,O=L===0||Math.abs(M-S)<=L?M:S;T=I,S=O}var V={width:T-p.width,height:S-p.height};if(this.delta=V,m&&typeof m=="string"){if(m.endsWith("%")){var $=T/x.width*100;T="".concat($,"%")}else if(m.endsWith("vw")){var z=T/this.window.innerWidth*100;T="".concat(z,"vw")}else if(m.endsWith("vh")){var W=T/this.window.innerHeight*100;T="".concat(W,"vh")}}if(y&&typeof y=="string"){if(y.endsWith("%")){var $=S/x.height*100;S="".concat($,"%")}else if(y.endsWith("vw")){var z=S/this.window.innerWidth*100;S="".concat(z,"vw")}else if(y.endsWith("vh")){var W=S/this.window.innerHeight*100;S="".concat(W,"vh")}}var K={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?K.flexBasis=K.width:this.flexDir==="column"&&(K.flexBasis=K.height);var J=this.state.width!==K.width,Q=this.state.height!==K.height,X=this.state.flexBasis!==K.flexBasis,j=J||Q||X;j&&jc.flushSync(function(){r.setState(K)}),this.props.onResize&&j&&this.props.onResize(n,h,this.resizable,V)}},e.prototype.onMouseUp=function(n){var r,i,o=this.state,s=o.isResizing,a=o.direction;o.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Gl(Gl({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,o=r.handleStyles,s=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,u=r.handleComponent;if(!i)return null;var c=Object.keys(i).map(function(d){return i[d]!==!1?D.jsx(qje,{direction:d,onResizeStart:n.onResizeStart,replaceStyles:o&&o[d],className:s&&s[d],children:u&&u[d]?u[d]:null},d):null});return D.jsx("div",{className:l,style:a,children:c})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(s,a){return Xje.indexOf(a)!==-1||(s[a]=n.props[a]),s},{}),i=Gl(Gl(Gl({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return D.jsxs(o,Gl({style:i,className:this.props.className},r,{ref:function(s){s&&(n.resizable=s)},children:[this.state.isResizing&&D.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(F.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var aF=function(t,e){return aF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},aF(t,e)};function Qje(t,e){aF(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mi=function(){return mi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mi.apply(this,arguments)};function Zje(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var e8e={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},t8e=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},n8e=function(t){Qje(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,o=this.getDraggablePosition(),s=o.x,a=o.y;this.draggable.setState({x:s-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),s=this.props.scale,a;if(this.props.bounds==="parent")a=o;else if(this.props.bounds==="body"){var l=o.getBoundingClientRect(),u=l.left,c=l.top,d=document.body.getBoundingClientRect(),h=-(u-o.offsetLeft*s-d.left)/s,p=-(c-o.offsetTop*s-d.top)/s,m=(document.body.offsetWidth-this.resizable.size.width*s)/s+h,y=(document.body.offsetHeight-this.resizable.size.height*s)/s+p;return this.setState({bounds:{top:p,right:m,bottom:y,left:h}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var x=o.getBoundingClientRect(),w=x.left,E=x.top,S=-(w-o.offsetLeft*s)/s,T=-(E-o.offsetTop*s)/s,m=(window.innerWidth-this.resizable.size.width*s)/s+S,y=(window.innerHeight-this.resizable.size.height*s)/s+T;return this.setState({bounds:{top:T,right:m,bottom:y,left:S}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(o instanceof HTMLElement))){var k=a.getBoundingClientRect(),N=k.left,R=k.top,M=o.getBoundingClientRect(),L=M.left,I=M.top,O=(N-L)/s,V=R-I;if(this.resizable){this.updateOffsetFromParent();var $=this.offsetFromParent;this.setState({bounds:{top:V-$.top,right:O+(a.offsetWidth-this.resizable.size.width)-$.left/s,bottom:V+(a.offsetHeight-this.resizable.size.height)-$.top,left:O-$.left/s}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,mi(mi({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDrag(n,mi(mi({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,mi(mi({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,mi(mi({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,mi(mi({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,mi(mi({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,s=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+s.left,y:a.y+s.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),u=void 0;this.props.bounds==="parent"?u=l:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(u instanceof HTMLElement||u===window)&&l instanceof HTMLElement){var d=this.getMaxSizesFromProps(),h=d.maxWidth,p=d.maxHeight,m=this.getParentSize();if(h&&typeof h=="string")if(h.endsWith("%")){var y=Number(h.replace("%",""))/100;h=m.width*y}else h.endsWith("px")&&(h=Number(h.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var y=Number(p.replace("%",""))/100;p=m.height*y}else p.endsWith("px")&&(p=Number(p.replace("px","")));var x=c.getBoundingClientRect(),w=x.left,E=x.top,S=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),T=S.left,k=S.top,N=this.getOffsetWidth(u),R=this.getOffsetHeight(u),M=r.toLowerCase().endsWith("left"),L=r.toLowerCase().endsWith("right"),I=r.startsWith("top"),O=r.startsWith("bottom");if((M||I)&&this.resizable){var V=(w-T)/o+this.resizable.size.width;this.setState({maxWidth:V>Number(h)?h:V})}if(L||this.props.lockAspectRatio&&!M&&!I){var V=N+(T-w)/o;this.setState({maxWidth:V>Number(h)?h:V})}if((I||M)&&this.resizable){var V=(E-k)/o+this.resizable.size.height;this.setState({maxHeight:V>Number(p)?p:V})}if(O||this.props.lockAspectRatio&&!I&&!M){var V=R+(k-E)/o;this.setState({maxHeight:V>Number(p)?p:V})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,o){var s=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-o.width,u=-o.height,c=["top","left","topLeft","bottomLeft","topRight"];c.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=u));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&jc.flushSync(function(){s.draggable.setState(a)}),this.updateOffsetFromParent();var h=this.offsetFromParent,p=this.getDraggablePosition().x+h.left,m=this.getDraggablePosition().y+h.top;this.resizingPosition={x:p,y:m},this.props.onResize&&this.props.onResize(n,r,i,o,{x:p,y:m})},e.prototype.onResizeStop=function(n,r,i,o){this.setState({resizing:!1});var s=this.getMaxSizesFromProps(),a=s.maxWidth,l=s.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var o=r.getBoundingClientRect(),s=o.left,a=o.top,l=i.getBoundingClientRect(),u=this.getDraggablePosition(),c=r.scrollLeft,d=r.scrollTop;this.offsetFromParent={left:l.left-s+c-u.x*n,top:l.top-a+d-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,o=r.style,s=r.dragHandleClassName,a=r.position,l=r.onMouseDown,u=r.onMouseUp,c=r.dragAxis,d=r.dragGrid,h=r.bounds,p=r.enableUserSelectHack,m=r.cancel,y=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var x=r.resizeHandleStyles,w=r.resizeHandleClasses,E=r.resizeHandleComponent,S=r.enableResizing,T=r.resizeGrid,k=r.resizeHandleWrapperClass,N=r.resizeHandleWrapperStyle,R=r.scale,M=r.allowAnyClick,L=r.dragPositionOffset,I=Zje(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),O=this.props.default?mi({},this.props.default):void 0;delete I.default;var V=i||s?{cursor:"auto"}:{cursor:"move"},$=mi(mi(mi({},e8e),V),o),z=this.offsetFromParent,W=z.left,K=z.top,J;a&&(J={x:a.x-W,y:a.y-K});var Q=this.state.resizing?void 0:J,X=this.state.resizing?"both":c;return F.createElement(Uje,{ref:function(j){j&&(n.draggable=j)},handle:s?".".concat(s):void 0,defaultPosition:O,onMouseDown:l,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:X,disabled:i,grid:d,bounds:h?this.state.bounds:void 0,position:Q,enableUserSelectHack:p,cancel:m,scale:R,allowAnyClick:M,nodeRef:this.resizableElement,positionOffset:L},F.createElement(Jje,mi({},I,{ref:function(j){j&&(n.resizable=j,n.resizableElement.current=j.resizable)},defaultSize:O,size:this.props.size,enable:typeof S=="boolean"?t8e(S):S,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:$,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:T,handleWrapperClass:k,handleWrapperStyle:N,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:w,handleComponent:E,scale:this.props.scale}),y))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(F.PureComponent);const r8e=({highlight:t,onChange:e,isScrolledTo:n,bounds:r,onContextMenu:i,onEditStart:o,style:s})=>{const a=n?"AreaHighlight--scrolledTo":"",l=`${t.position.boundingRect.width}${t.position.boundingRect.height}${t.position.boundingRect.left}${t.position.boundingRect.top}`;return oe.createElement("div",{className:`AreaHighlight ${a}`,onContextMenu:i},oe.createElement(n8e,{className:"AreaHighlight__part",onDragStop:(u,c)=>{const d={...t.position.boundingRect,top:c.y,left:c.x};e&&e(d)},onResizeStop:(u,c,d,h,p)=>{var y;const m={top:p.y,left:p.x,width:d.offsetWidth,height:d.offsetHeight,pageNumber:((y=zx(d))==null?void 0:y.number)||-1};e&&e(m)},onDragStart:o,onResizeStart:o,default:{x:t.position.boundingRect.left,y:t.position.boundingRect.top,width:t.position.boundingRect.width,height:t.position.boundingRect.height},key:l,bounds:r,onClick:u=>{u.stopPropagation(),u.preventDefault()},style:s}))};var Ux={};Ux.d=(t,e)=>{for(var n in e)Ux.o(e,n)&&!Ux.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};Ux.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Qt=globalThis.pdfjsLib={};Ux.d(Qt,{AbortException:()=>Ng,AnnotationEditorLayer:()=>y5,AnnotationEditorParamsType:()=>on,AnnotationEditorType:()=>Nn,AnnotationEditorUIManager:()=>ug,AnnotationLayer:()=>t7e,AnnotationMode:()=>rf,CMapCompressionType:()=>uF,ColorPicker:()=>yA,DOMSVGFactory:()=>O3,DrawLayer:()=>w5,FeatureTest:()=>os,GlobalWorkerOptions:()=>Yc,ImageKind:()=>kC,InvalidPDFException:()=>sie,MissingPDFException:()=>Mg,OPS:()=>Ga,Outliner:()=>QF,PDFDataRangeTransport:()=>toe,PDFDateString:()=>hie,PDFWorker:()=>My,PasswordResponses:()=>a8e,PermissionFlag:()=>s8e,PixelsPerInch:()=>Yf,RenderingCancelledException:()=>F3,TextLayer:()=>s0,UnexpectedResponseException:()=>wP,Util:()=>Mt,VerbosityLevel:()=>vP,XfaLayer:()=>roe,build:()=>LWe,createValidAbsoluteUrl:()=>d8e,fetchData:()=>TP,getDocument:()=>TWe,getFilenameFromUrl:()=>w8e,getPdfFilenameFromUrl:()=>_8e,getXfaPageViewport:()=>S8e,isDataScheme:()=>$3,isPdfFile:()=>B3,noContextMenu:()=>ds,normalizeUnicode:()=>y8e,renderTextLayer:()=>yWe,setLayerDimensions:()=>lg,shadow:()=>On,updateTextLayer:()=>vWe,version:()=>DWe});const bo=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),oie=[1,0,0,1,0,0],lF=[.001,0,0,.001,0,0],i8e=1e7,sD=1.35,ca={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},rf={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},o8e="pdfjs_internal_editor_",Nn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},on={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},s8e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},lo={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},kC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},gi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},kb={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},vP={ERRORS:0,WARNINGS:1,INFOS:5},uF={NONE:0,BINARY:1},Ga={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a8e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let bP=vP.WARNINGS;function l8e(t){Number.isInteger(t)&&(bP=t)}function u8e(){return bP}function xP(t){bP>=vP.INFOS&&console.log(`Info: ${t}`)}function bn(t){bP>=vP.WARNINGS&&console.log(`Warning: ${t}`)}function rr(t){throw new Error(t)}function _i(t,e){t||rr(e)}function c8e(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function d8e(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=m8e(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(c8e(r))return r}catch{}return null}function On(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const rh=function(){function e(n,r){this.constructor===e&&rr("Cannot initialize BaseException."),this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class cF extends rh{constructor(e,n){super(e,"PasswordException"),this.code=n}}class dF extends rh{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class sie extends rh{constructor(e){super(e,"InvalidPDFException")}}class Mg extends rh{constructor(e){super(e,"MissingPDFException")}}class wP extends rh{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class f8e extends rh{constructor(e){super(e,"FormatError")}}class Ng extends rh{constructor(e){super(e,"AbortException")}}function aie(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&rr("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),s=t.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function _P(t){typeof t!="string"&&rr("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function h8e(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function D3(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function p8e(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function g8e(){try{return new Function(""),!0}catch{return!1}}class os{static get isLittleEndian(){return On(this,"isLittleEndian",p8e())}static get isEvalSupported(){return On(this,"isEvalSupported",g8e())}static get isOffscreenCanvasSupported(){return On(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?On(this,"platform",{isMac:navigator.platform.includes("Mac")}):On(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return On(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const aD=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Jc,MC,fF;class Mt{static makeHexColor(e,n,r){return`#${aD[e]}${aD[n]}${aD[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,o=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,o]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),o=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],o=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],a=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-o*i))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>s?null:[r,o,i,s]}static bezierBoundingBox(e,n,r,i,o,s,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],re(this,Jc,fF).call(this,e,r,o,a,n,i,s,l,3*(-e+3*(r-o)+a),6*(e-2*r+o),3*(r-e),u),re(this,Jc,fF).call(this,e,r,o,a,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}Jc=new WeakSet,MC=function(e,n,r,i,o,s,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,h=u*u,p=h*u,m=d*(d*(d*e+3*u*n)+3*h*r)+p*i,y=d*(d*(d*o+3*u*s)+3*h*a)+p*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],y),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],y)},fF=function(e,n,r,i,o,s,a,l,u,c,d,h){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&re(this,Jc,MC).call(this,e,n,r,i,o,s,a,l,-d/c,h);return}const p=c**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;re(this,Jc,MC).call(this,e,n,r,i,o,s,a,l,(-c+m)/y,h),re(this,Jc,MC).call(this,e,n,r,i,o,s,a,l,(-c-m)/y,h)},ie(Mt,Jc);function m8e(t){return decodeURIComponent(escape(t))}let lD=null,zG=null;function y8e(t){return lD||(lD=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zG=new Map([["ﬅ","ſt"]])),t.replaceAll(lD,(e,n,r)=>n?n.normalize("NFKC"):zG.get(r))}function v8e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return aie(t)}const lie="pdfjs_internal_id_",uc={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class SP{constructor(){this.constructor===SP&&rr("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,o){return"none"}destroy(e=!1){}}var Dw;const mB=class mB{constructor({enableHWA:e=!1}={}){ie(this,Dw,!1);this.constructor===mB&&rr("Cannot initialize BaseCanvasFactory."),ne(this,Dw,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!C(this,Dw)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){rr("Abstract method `_createCanvas` called.")}};Dw=new WeakMap;let fA=mB;class EP{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===EP&&rr("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?uF.BINARY:uF.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){rr("Abstract method `_fetchData` called.")}}class CP{constructor({baseUrl:e=null}){this.constructor===CP&&rr("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){rr("Abstract method `_fetchData` called.")}}class L3{constructor(){this.constructor===L3&&rr("Cannot initialize BaseSVGFactory.")}create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){rr("Abstract method `_createSVG` called.")}}const fc="http://www.w3.org/2000/svg",Fh=class Fh{};vt(Fh,"CSS",96),vt(Fh,"PDF",72),vt(Fh,"PDF_TO_CSS_UNITS",Fh.CSS/Fh.PDF);let Yf=Fh;var qh,Xl,vc,Zo,PA,jh,Et,uo,dy,fy,NC,uie,hF,hy,cx,dx,pF,fx;class b8e extends SP{constructor({docId:n,ownerDocument:r=globalThis.document}={}){super();ie(this,Et);ie(this,qh);ie(this,Xl);ie(this,vc);ie(this,Zo);ie(this,PA);ie(this,jh,0);ne(this,vc,n),ne(this,Zo,r)}addFilter(n){if(!n)return"none";let r=C(this,Et,uo).get(n);if(r)return r;const[i,o,s]=re(this,Et,NC).call(this,n),a=n.length===1?i:`${i}${o}${s}`;if(r=C(this,Et,uo).get(a),r)return C(this,Et,uo).set(n,r),r;const l=`g_${C(this,vc)}_transfer_map_${Es(this,jh)._++}`,u=`url(#${l})`;C(this,Et,uo).set(n,u),C(this,Et,uo).set(a,u);const c=re(this,Et,hy).call(this,l);return re(this,Et,dx).call(this,i,o,s,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,o="base";let s=C(this,Et,dy).get(o);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},C(this,Et,dy).set(o,s)),!n||!r))return s.url;const a=re(this,Et,fx).call(this,n);n=Mt.makeHexColor(...a);const l=re(this,Et,fx).call(this,r);if(r=Mt.makeHexColor(...l),C(this,Et,fy).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const x=y/255;u[y]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const c=u.join(","),d=`g_${C(this,vc)}_hcm_filter`,h=s.filter=re(this,Et,hy).call(this,d);re(this,Et,dx).call(this,c,c,c,h),re(this,Et,hF).call(this,h);const p=(y,x)=>{const w=a[y]/255,E=l[y]/255,S=new Array(x+1);for(let T=0;T<=x;T++)S[T]=w+T/x*(E-w);return S.join(",")};return re(this,Et,dx).call(this,p(0,5),p(1,5),p(2,5),h),s.url=`url(#${d})`,s.url}addAlphaFilter(n){let r=C(this,Et,uo).get(n);if(r)return r;const[i]=re(this,Et,NC).call(this,[n]),o=`alpha_${i}`;if(r=C(this,Et,uo).get(o),r)return C(this,Et,uo).set(n,r),r;const s=`g_${C(this,vc)}_alpha_map_${Es(this,jh)._++}`,a=`url(#${s})`;C(this,Et,uo).set(n,a),C(this,Et,uo).set(o,a);const l=re(this,Et,hy).call(this,s);return re(this,Et,pF).call(this,i,l),a}addLuminosityFilter(n){let r=C(this,Et,uo).get(n||"luminosity");if(r)return r;let i,o;if(n?([i]=re(this,Et,NC).call(this,[n]),o=`luminosity_${i}`):o="luminosity",r=C(this,Et,uo).get(o),r)return C(this,Et,uo).set(n,r),r;const s=`g_${C(this,vc)}_luminosity_map_${Es(this,jh)._++}`,a=`url(#${s})`;C(this,Et,uo).set(n,a),C(this,Et,uo).set(o,a);const l=re(this,Et,hy).call(this,s);return re(this,Et,uie).call(this,l),n&&re(this,Et,pF).call(this,i,l),a}addHighlightHCMFilter(n,r,i,o,s){var E;const a=`${r}-${i}-${o}-${s}`;let l=C(this,Et,dy).get(n);if((l==null?void 0:l.key)===a||(l?((E=l.filter)==null||E.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},C(this,Et,dy).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(re(this,Et,fx).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,m]=[o,s].map(re(this,Et,fx).bind(this));h<d&&([d,h,p,m]=[h,d,m,p]),C(this,Et,fy).style.color="";const y=(S,T,k)=>{const N=new Array(256),R=(h-d)/k,M=S/255,L=(T-S)/(255*k);let I=0;for(let O=0;O<=k;O++){const V=Math.round(d+O*R),$=M+O*L;for(let z=I;z<=V;z++)N[z]=$;I=V+1}for(let O=I;O<256;O++)N[O]=N[I-1];return N.join(",")},x=`g_${C(this,vc)}_hcm_${n}_filter`,w=l.filter=re(this,Et,hy).call(this,x);return re(this,Et,hF).call(this,w),re(this,Et,dx).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),w),l.url=`url(#${x})`,l.url}destroy(n=!1){n&&C(this,Et,dy).size!==0||(C(this,Xl)&&(C(this,Xl).parentNode.parentNode.remove(),ne(this,Xl,null)),C(this,qh)&&(C(this,qh).clear(),ne(this,qh,null)),ne(this,jh,0))}}qh=new WeakMap,Xl=new WeakMap,vc=new WeakMap,Zo=new WeakMap,PA=new WeakMap,jh=new WeakMap,Et=new WeakSet,uo=function(){return C(this,qh)||ne(this,qh,new Map)},dy=function(){return C(this,PA)||ne(this,PA,new Map)},fy=function(){if(!C(this,Xl)){const n=C(this,Zo).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=C(this,Zo).createElementNS(fc,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ne(this,Xl,C(this,Zo).createElementNS(fc,"defs")),n.append(i),i.append(C(this,Xl)),C(this,Zo).body.append(n)}return C(this,Xl)},NC=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=u[h]/255;const d=c.join(",");return[d,d,d]}const[r,i,o]=n,s=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,a[u]=i[u]/255,l[u]=o[u]/255;return[s.join(","),a.join(","),l.join(",")]},uie=function(n){const r=C(this,Zo).createElementNS(fc,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},hF=function(n){const r=C(this,Zo).createElementNS(fc,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},hy=function(n){const r=C(this,Zo).createElementNS(fc,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),C(this,Et,fy).append(r),r},cx=function(n,r,i){const o=C(this,Zo).createElementNS(fc,r);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)},dx=function(n,r,i,o){const s=C(this,Zo).createElementNS(fc,"feComponentTransfer");o.append(s),re(this,Et,cx).call(this,s,"feFuncR",n),re(this,Et,cx).call(this,s,"feFuncG",r),re(this,Et,cx).call(this,s,"feFuncB",i)},pF=function(n,r){const i=C(this,Zo).createElementNS(fc,"feComponentTransfer");r.append(i),re(this,Et,cx).call(this,i,"feFuncA",n)},fx=function(n){return C(this,Et,fy).style.color=n,V3(getComputedStyle(C(this,Et,fy)).getPropertyValue("color"))};class x8e extends fA{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}async function TP(t,e="text"){if(hx(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class cie extends EP{_fetchData(e,n){return TP(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):_P(r),compressionType:n}))}}class die extends CP{_fetchData(e){return TP(e,"arraybuffer").then(n=>new Uint8Array(n))}}class O3 extends L3{_createSVG(e){return document.createElementNS(fc,e)}}class V1{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,h=1;break;case 90:u=0,c=1,d=1,h=0;break;case 270:u=0,c=-1,d=-1,h=0;break;case 0:u=1,c=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,h=-h);let p,m,y,x;u===0?(p=Math.abs(l-e[1])*n+i,m=Math.abs(a-e[0])*n+o,y=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(p=Math.abs(a-e[0])*n+i,m=Math.abs(l-e[1])*n+o,y=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,h*n,p-u*n*a-d*n*l,m-c*n*a-h*n*l],this.width=y,this.height=x}get rawDims(){const{viewBox:e}=this;return On(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new V1({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,n){return Mt.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Mt.applyTransform([e[0],e[1]],this.transform),r=Mt.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Mt.applyInverseTransform([e,n],this.transform)}}class F3 extends rh{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function $3(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function B3(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function w8e(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function _8e(t,e="document.pdf"){if(typeof t!="string")return e;if($3(t))return bn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||e}class UG{constructor(){vt(this,"started",Object.create(null));vt(this,"times",[])}time(e){e in this.started&&bn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||bn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(n)} ${o-i}ms
`);return e.join("")}}function hx(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function ds(t){t.preventDefault()}function fie(t){console.log("Deprecated API usage: "+t)}let HG;class hie{static toDateObject(e){if(!e||typeof e!="string")return null;HG||(HG=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=HG.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(s+=c,a+=d):u==="+"&&(s-=c,a-=d),new Date(Date.UTC(r,i,o,s,a,l))}}function S8e(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new V1({viewBox:o,scale:e,rotation:n})}function V3(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(bn(`Not a valid color format: "${t}"`),[0,0,0])}function E8e(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,V3(r))}e.remove()}function Ir(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform();return[e,n,r,i,o,s]}function cc(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform().invertSelf();return[e,n,r,i,o,s]}function lg(t,e,n=!1,r=!0){if(e instanceof V1){const{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=t,a=os.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${o}px`,c=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${u}, 1px)`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=d):(s.width=d,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}var Wh,Gh,Ps,Kh,IA,pie,Oo,gie,mie,DC,yie,mF;const kA=class kA{constructor(e){ie(this,Oo);ie(this,Wh,null);ie(this,Gh,null);ie(this,Ps);ie(this,Kh,null);ne(this,Ps,e)}render(){const e=ne(this,Wh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=C(this,Ps)._uiManager._signal;e.addEventListener("contextmenu",ds,{signal:n}),e.addEventListener("pointerdown",re(kA,IA,pie),{signal:n});const r=ne(this,Kh,document.createElement("div"));r.className="buttons",e.append(r);const i=C(this,Ps).toolbarPosition;if(i){const{style:o}=e,s=C(this,Ps)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return re(this,Oo,yie).call(this),e}hide(){var e;C(this,Wh).classList.add("hidden"),(e=C(this,Gh))==null||e.hideDropdown()}show(){C(this,Wh).classList.remove("hidden")}addAltTextButton(e){re(this,Oo,DC).call(this,e),C(this,Kh).prepend(e,C(this,Oo,mF))}addColorPicker(e){ne(this,Gh,e);const n=e.renderButton();re(this,Oo,DC).call(this,n),C(this,Kh).prepend(n,C(this,Oo,mF))}remove(){var e;C(this,Wh).remove(),(e=C(this,Gh))==null||e.destroy(),ne(this,Gh,null)}};Wh=new WeakMap,Gh=new WeakMap,Ps=new WeakMap,Kh=new WeakMap,IA=new WeakSet,pie=function(e){e.stopPropagation()},Oo=new WeakSet,gie=function(e){C(this,Ps)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},mie=function(e){C(this,Ps)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},DC=function(e){const n=C(this,Ps)._uiManager._signal;e.addEventListener("focusin",re(this,Oo,gie).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",re(this,Oo,mie).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",ds,{signal:n})},yie=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${C(this,Ps).editorType}-button`),re(this,Oo,DC).call(this,e),e.addEventListener("click",n=>{C(this,Ps)._uiManager.delete()},{signal:C(this,Ps)._uiManager._signal}),C(this,Kh).append(e)},mF=function(){const e=document.createElement("div");return e.className="divider",e},ie(kA,IA);let gF=kA;var Lw,Yh,Xh,Jf,vie,bie,xie;class C8e{constructor(e){ie(this,Jf);ie(this,Lw,null);ie(this,Yh,null);ie(this,Xh);ne(this,Xh,e)}show(e,n,r){const[i,o]=re(this,Jf,bie).call(this,n,r),{style:s}=C(this,Yh)||ne(this,Yh,re(this,Jf,vie).call(this));e.append(C(this,Yh)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){C(this,Yh).remove()}}Lw=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,Jf=new WeakSet,vie=function(){const e=ne(this,Yh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ds,{signal:C(this,Xh)._signal});const n=ne(this,Lw,document.createElement("div"));return n.className="buttons",e.append(n),re(this,Jf,xie).call(this),e},bie=function(e,n){let r=0,i=0;for(const o of e){const s=o.y+o.height;if(s<r)continue;const a=o.x+(n?o.width:0);if(s>r){i=a,r=s;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},xie=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=C(this,Xh)._signal;e.addEventListener("contextmenu",ds,{signal:r}),e.addEventListener("click",()=>{C(this,Xh).highlightSelection("floating_button")},{signal:r}),C(this,Lw).append(e)};function hA(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function T8e(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var MA;class A8e{constructor(){ie(this,MA,0)}get id(){return`${o8e}${Es(this,MA)._++}`}}MA=new WeakMap;var Ow,NA,sa,Fw,vF;const yB=class yB{constructor(){ie(this,Fw);ie(this,Ow,v8e());ie(this,NA,0);ie(this,sa,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return On(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:o}=e;return re(this,Fw,vF).call(this,`${n}_${r}_${i}_${o}`,e)}async getFromUrl(e){return re(this,Fw,vF).call(this,e,e)}async getFromId(e){C(this,sa)||ne(this,sa,new Map);const n=C(this,sa).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=C(this,sa).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){C(this,sa)||ne(this,sa,new Map);const n=C(this,sa).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${C(this,Ow)}_`)}};Ow=new WeakMap,NA=new WeakMap,sa=new WeakMap,Fw=new WeakSet,vF=async function(e,n){C(this,sa)||ne(this,sa,new Map);let r=C(this,sa).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${C(this,Ow)}_${Es(this,NA)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await TP(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const o=yB._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},s.onload=async()=>{const d=r.svgUrl=s.result;a.src=await o?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return C(this,sa).set(e,r),r&&C(this,sa).set(r.id,r),r};let yF=yB;var Pi,sf,$w,Ii;class R8e{constructor(e=128){ie(this,Pi,[]);ie(this,sf,!1);ie(this,$w);ie(this,Ii,-1);ne(this,$w,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),C(this,sf))return;const l={cmd:e,undo:n,post:r,type:o};if(C(this,Ii)===-1){C(this,Pi).length>0&&(C(this,Pi).length=0),ne(this,Ii,0),C(this,Pi).push(l);return}if(s&&C(this,Pi)[C(this,Ii)].type===o){a&&(l.undo=C(this,Pi)[C(this,Ii)].undo),C(this,Pi)[C(this,Ii)]=l;return}const u=C(this,Ii)+1;u===C(this,$w)?C(this,Pi).splice(0,1):(ne(this,Ii,u),u<C(this,Pi).length&&C(this,Pi).splice(u)),C(this,Pi).push(l)}undo(){if(C(this,Ii)===-1)return;ne(this,sf,!0);const{undo:e,post:n}=C(this,Pi)[C(this,Ii)];e(),n==null||n(),ne(this,sf,!1),ne(this,Ii,C(this,Ii)-1)}redo(){if(C(this,Ii)<C(this,Pi).length-1){ne(this,Ii,C(this,Ii)+1),ne(this,sf,!0);const{cmd:e,post:n}=C(this,Pi)[C(this,Ii)];e(),n==null||n(),ne(this,sf,!1)}}hasSomethingToUndo(){return C(this,Ii)!==-1}hasSomethingToRedo(){return C(this,Ii)<C(this,Pi).length-1}destroy(){ne(this,Pi,null)}}Pi=new WeakMap,sf=new WeakMap,$w=new WeakMap,Ii=new WeakMap;var DA,wie;class z1{constructor(e){ie(this,DA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=os.platform;for(const[r,i,o={}]of e)for(const s of r){const a=s.startsWith("mac+");n&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!n&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(re(this,DA,wie).call(this,n));if(!r)return;const{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...s,n)(),o||(n.stopPropagation(),n.preventDefault()))}}DA=new WeakSet,wie=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const LA=class LA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return E8e(e),On(this,"_colors",e)}convert(e){const n=V3(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((o,s)=>o===n[s]))return LA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Mt.makeHexColor(...n):e}};vt(LA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let bF=LA;var Ly,Is,yi,zi,Oy,bc,Fy,Ka,$y,Jh,Jl,Ya,Qh,Bw,Vw,Ql,By,af,Zl,OA,lf,zw,Zh,Uw,Vy,Ui,Xn,xc,ep,Hw,qw,jw,Ww,Gw,Kw,Yw,Xw,Jw,Qw,Zw,e_,t_,uf,eu,wc,n_,at,LC,_ie,Sie,OC,Eie,Cie,Tie,xF,Aie,wF,_F,Rie,Io,Yd,Pie,Iie,SF,kie,px,EF;const _y=class _y{constructor(e,n,r,i,o,s,a,l,u){ie(this,at);ie(this,Ly,new AbortController);ie(this,Is,null);ie(this,yi,new Map);ie(this,zi,new Map);ie(this,Oy,null);ie(this,bc,null);ie(this,Fy,null);ie(this,Ka,new R8e);ie(this,$y,0);ie(this,Jh,new Set);ie(this,Jl,null);ie(this,Ya,null);ie(this,Qh,new Set);ie(this,Bw,!1);ie(this,Vw,null);ie(this,Ql,null);ie(this,By,null);ie(this,af,!1);ie(this,Zl,null);ie(this,OA,new A8e);ie(this,lf,!1);ie(this,zw,!1);ie(this,Zh,null);ie(this,Uw,null);ie(this,Vy,null);ie(this,Ui,Nn.NONE);ie(this,Xn,new Set);ie(this,xc,null);ie(this,ep,null);ie(this,Hw,null);ie(this,qw,this.blur.bind(this));ie(this,jw,this.focus.bind(this));ie(this,Ww,this.copy.bind(this));ie(this,Gw,this.cut.bind(this));ie(this,Kw,this.paste.bind(this));ie(this,Yw,this.keydown.bind(this));ie(this,Xw,this.keyup.bind(this));ie(this,Jw,this.onEditingAction.bind(this));ie(this,Qw,this.onPageChanging.bind(this));ie(this,Zw,this.onScaleChanging.bind(this));ie(this,e_,this.onRotationChanging.bind(this));ie(this,t_,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ie(this,uf,[0,0]);ie(this,eu,null);ie(this,wc,null);ie(this,n_,null);this._signal=C(this,Ly).signal,ne(this,wc,e),ne(this,n_,n),ne(this,Oy,r),this._eventBus=i,this._eventBus._on("editingaction",C(this,Jw)),this._eventBus._on("pagechanging",C(this,Qw)),this._eventBus._on("scalechanging",C(this,Zw)),this._eventBus._on("rotationchanging",C(this,e_)),re(this,at,Eie).call(this),re(this,at,Rie).call(this),re(this,at,xF).call(this),ne(this,bc,o.annotationStorage),ne(this,Vw,o.filterFactory),ne(this,ep,s),ne(this,By,a||null),ne(this,Bw,l),ne(this,Vy,u||null),this.viewParameters={realScale:Yf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=_y.prototype,n=s=>C(s,wc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return On(this,"_keyboardManager",new z1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&C(s,wc).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&C(s,wc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,r;(e=C(this,Ly))==null||e.abort(),ne(this,Ly,null),this._signal=null,this._eventBus._off("editingaction",C(this,Jw)),this._eventBus._off("pagechanging",C(this,Qw)),this._eventBus._off("scalechanging",C(this,Zw)),this._eventBus._off("rotationchanging",C(this,e_));for(const i of C(this,zi).values())i.destroy();C(this,zi).clear(),C(this,yi).clear(),C(this,Qh).clear(),ne(this,Is,null),C(this,Xn).clear(),C(this,Ka).destroy(),(n=C(this,Oy))==null||n.destroy(),(r=C(this,Zl))==null||r.hide(),ne(this,Zl,null),C(this,Ql)&&(clearTimeout(C(this,Ql)),ne(this,Ql,null)),C(this,eu)&&(clearTimeout(C(this,eu)),ne(this,eu,null))}async mlGuess(e){var n;return((n=C(this,Vy))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!C(this,Vy)}get hcmFilter(){return On(this,"hcmFilter",C(this,ep)?C(this,Vw).addHCMFilter(C(this,ep).foreground,C(this,ep).background):"none")}get direction(){return On(this,"direction",getComputedStyle(C(this,wc)).direction)}get highlightColors(){return On(this,"highlightColors",C(this,By)?new Map(C(this,By).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return On(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){ne(this,Uw,e)}editAltText(e){var n;(n=C(this,Oy))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){ne(this,$y,e-1)}focusMainContainer(){C(this,wc).focus()}findParent(e,n){for(const r of C(this,zi).values()){const{x:i,y:o,width:s,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=o&&n<=o+a)return r}return null}disableUserSelect(e=!1){C(this,n_).classList.toggle("noUserSelect",e)}addShouldRescale(e){C(this,Qh).add(e)}removeShouldRescale(e){C(this,Qh).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Yf.PDF_TO_CSS_UNITS;for(const n of C(this,Qh))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=n,a=n.toString(),u=re(this,at,LC).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){n.empty(),C(this,Ui)===Nn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Nn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of C(this,zi).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&C(this,bc)&&!C(this,bc).has(e.id)&&C(this,bc).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,C(this,af)&&(ne(this,af,!1),re(this,at,OC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of C(this,Xn))if(n.div.contains(e)){ne(this,Zh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!C(this,Zh))return;const[e,n]=C(this,Zh);ne(this,Zh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){re(this,at,xF).call(this),re(this,at,wF).call(this)}removeEditListeners(){re(this,at,Aie).call(this),re(this,at,_F).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of C(this,Ya))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of C(this,Ya))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=C(this,Is))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of C(this,Xn)){const o=i.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const s of C(this,Ya))if(s.isHandlingMimeForPasting(o.type)){s.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){bn(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const l of r){const u=i.deserialize(l);if(!u)return;o.push(u)}const s=()=>{for(const l of o)re(this,at,SF).call(this,l);re(this,at,EF).call(this,o)},a=()=>{for(const l of o)l.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(o){bn(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),C(this,Ui)!==Nn.NONE&&!this.isEditorHandlingKeyboard&&_y._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,C(this,af)&&(ne(this,af,!1),re(this,at,OC).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(re(this,at,Cie).call(this),re(this,at,wF).call(this),re(this,at,Io).call(this,{isEditing:C(this,Ui)!==Nn.NONE,isEmpty:re(this,at,px).call(this),hasSomethingToUndo:C(this,Ka).hasSomethingToUndo(),hasSomethingToRedo:C(this,Ka).hasSomethingToRedo(),hasSelectedEditor:!1})):(re(this,at,Tie).call(this),re(this,at,_F).call(this),re(this,at,Io).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!C(this,Ya)){ne(this,Ya,e);for(const n of C(this,Ya))re(this,at,Yd).call(this,n.defaultPropertiesToUpdate)}}getId(){return C(this,OA).id}get currentLayer(){return C(this,zi).get(C(this,$y))}getLayer(e){return C(this,zi).get(e)}get currentPageIndex(){return C(this,$y)}addLayer(e){C(this,zi).set(e.pageIndex,e),C(this,lf)?e.enable():e.disable()}removeLayer(e){C(this,zi).delete(e.pageIndex)}updateMode(e,n=null,r=!1){if(C(this,Ui)!==e){if(ne(this,Ui,e),e===Nn.NONE){this.setEditingState(!1),re(this,at,Iie).call(this);return}this.setEditingState(!0),re(this,at,Pie).call(this),this.unselectAll();for(const i of C(this,zi).values())i.updateMode(e);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of C(this,yi).values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==C(this,Ui)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(C(this,Ya)){switch(e){case on.CREATE:this.currentLayer.addNewEditor();return;case on.HIGHLIGHT_DEFAULT_COLOR:(r=C(this,Uw))==null||r.updateColor(n);break;case on.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(C(this,Hw)||ne(this,Hw,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of C(this,Xn))i.updateParams(e,n);for(const i of C(this,Ya))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var o;for(const s of C(this,yi).values())s.editorType===e&&s.show(n);(((o=C(this,Hw))==null?void 0:o.get(on.HIGHLIGHT_SHOW_ALL))??!0)!==n&&re(this,at,Yd).call(this,[[on.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(C(this,zw)!==e){ne(this,zw,e);for(const n of C(this,zi).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of C(this,yi).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return C(this,yi).get(e)}addEditor(e){C(this,yi).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(C(this,Ql)&&clearTimeout(C(this,Ql)),ne(this,Ql,setTimeout(()=>{this.focusMainContainer(),ne(this,Ql,null)},0))),C(this,yi).delete(e.id),this.unselect(e),(!e.annotationElementId||!C(this,Jh).has(e.annotationElementId))&&((n=C(this,bc))==null||n.remove(e.id))}addDeletedAnnotationElement(e){C(this,Jh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return C(this,Jh).has(e)}removeDeletedAnnotationElement(e){C(this,Jh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){C(this,Is)!==e&&(ne(this,Is,e),e&&re(this,at,Yd).call(this,e.propertiesToUpdate))}updateUI(e){C(this,at,kie)===e&&re(this,at,Yd).call(this,e.propertiesToUpdate)}toggleSelected(e){if(C(this,Xn).has(e)){C(this,Xn).delete(e),e.unselect(),re(this,at,Io).call(this,{hasSelectedEditor:this.hasSelection});return}C(this,Xn).add(e),e.select(),re(this,at,Yd).call(this,e.propertiesToUpdate),re(this,at,Io).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of C(this,Xn))n!==e&&n.unselect();C(this,Xn).clear(),C(this,Xn).add(e),e.select(),re(this,at,Yd).call(this,e.propertiesToUpdate),re(this,at,Io).call(this,{hasSelectedEditor:!0})}isSelected(e){return C(this,Xn).has(e)}get firstSelectedEditor(){return C(this,Xn).values().next().value}unselect(e){e.unselect(),C(this,Xn).delete(e),re(this,at,Io).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return C(this,Xn).size!==0}get isEnterHandled(){return C(this,Xn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){C(this,Ka).undo(),re(this,at,Io).call(this,{hasSomethingToUndo:C(this,Ka).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:re(this,at,px).call(this)})}redo(){C(this,Ka).redo(),re(this,at,Io).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:C(this,Ka).hasSomethingToRedo(),isEmpty:re(this,at,px).call(this)})}addCommands(e){C(this,Ka).add(e),re(this,at,Io).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:re(this,at,px).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...C(this,Xn)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)re(this,at,SF).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=C(this,Is))==null||e.commitOrRemove()}hasSomethingToControl(){return C(this,Is)||this.hasSelection}selectAll(){for(const e of C(this,Xn))e.commit();re(this,at,EF).call(this,C(this,yi).values())}unselectAll(){if(!(C(this,Is)&&(C(this,Is).commitOrRemove(),C(this,Ui)!==Nn.NONE))&&this.hasSelection){for(const e of C(this,Xn))e.unselect();C(this,Xn).clear(),re(this,at,Io).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;C(this,uf)[0]+=e,C(this,uf)[1]+=n;const[i,o]=C(this,uf),s=[...C(this,Xn)],a=1e3;C(this,eu)&&clearTimeout(C(this,eu)),ne(this,eu,setTimeout(()=>{ne(this,eu,null),C(this,uf)[0]=C(this,uf)[1]=0,this.addCommands({cmd:()=>{for(const l of s)C(this,yi).has(l.id)&&l.translateInPage(i,o)},undo:()=>{for(const l of s)C(this,yi).has(l.id)&&l.translateInPage(-i,-o)},mustExec:!1})},a));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ne(this,Jl,new Map);for(const e of C(this,Xn))C(this,Jl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!C(this,Jl))return!1;this.disableUserSelect(!1);const e=C(this,Jl);ne(this,Jl,null);let n=!1;for(const[{x:i,y:o,pageIndex:s},a]of e)a.newX=i,a.newY=o,a.newPageIndex=s,n||(n=i!==a.savedX||o!==a.savedY||s!==a.savedPageIndex);if(!n)return!1;const r=(i,o,s,a)=>{if(C(this,yi).has(i.id)){const l=C(this,zi).get(a);l?i._setParentAndPosition(l,o,s):(i.pageIndex=a,i.x=o,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:s,newPageIndex:a}]of e)r(i,o,s,a)},undo:()=>{for(const[i,{savedX:o,savedY:s,savedPageIndex:a}]of e)r(i,o,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(C(this,Jl))for(const r of C(this,Jl).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||C(this,Xn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return C(this,Is)===e}getActive(){return C(this,Is)}getMode(){return C(this,Ui)}get imageManager(){return On(this,"imageManager",new yF)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:o,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,d,h)=>({x:(c-i)/s,y:1-(u+d-r)/o,width:h/s,height:d/o});break;case"180":a=(u,c,d,h)=>({x:1-(u+d-r)/o,y:1-(c+h-i)/s,width:d/o,height:h/s});break;case"270":a=(u,c,d,h)=>({x:1-(c+h-i)/s,y:(u-r)/o,width:h/s,height:d/o});break;default:a=(u,c,d,h)=>({x:(u-r)/o,y:(c-i)/s,width:d/o,height:h/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:h,y:p,width:m,height:y}of d.getClientRects())m===0||y===0||l.push(a(h,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(C(this,Fy)||ne(this,Fy,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=C(this,Fy))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=C(this,Fy))==null?void 0:i.get(e.data.id);if(!n)return;const r=C(this,bc).getRawValue(n);r&&(C(this,Ui)===Nn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Ly=new WeakMap,Is=new WeakMap,yi=new WeakMap,zi=new WeakMap,Oy=new WeakMap,bc=new WeakMap,Fy=new WeakMap,Ka=new WeakMap,$y=new WeakMap,Jh=new WeakMap,Jl=new WeakMap,Ya=new WeakMap,Qh=new WeakMap,Bw=new WeakMap,Vw=new WeakMap,Ql=new WeakMap,By=new WeakMap,af=new WeakMap,Zl=new WeakMap,OA=new WeakMap,lf=new WeakMap,zw=new WeakMap,Zh=new WeakMap,Uw=new WeakMap,Vy=new WeakMap,Ui=new WeakMap,Xn=new WeakMap,xc=new WeakMap,ep=new WeakMap,Hw=new WeakMap,qw=new WeakMap,jw=new WeakMap,Ww=new WeakMap,Gw=new WeakMap,Kw=new WeakMap,Yw=new WeakMap,Xw=new WeakMap,Jw=new WeakMap,Qw=new WeakMap,Zw=new WeakMap,e_=new WeakMap,t_=new WeakMap,uf=new WeakMap,eu=new WeakMap,wc=new WeakMap,n_=new WeakMap,at=new WeakSet,LC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},_ie=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=re(this,at,LC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(C(this,Zl)||ne(this,Zl,new C8e(this)),C(this,Zl).show(r,i,this.direction==="ltr"))},Sie=function(){var o,s,a;const e=document.getSelection();if(!e||e.isCollapsed){C(this,xc)&&((o=C(this,Zl))==null||o.hide(),ne(this,xc,null),re(this,at,Io).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===C(this,xc))return;if(!re(this,at,LC).call(this,e).closest(".textLayer")){C(this,xc)&&((s=C(this,Zl))==null||s.hide(),ne(this,xc,null),re(this,at,Io).call(this,{hasSelectedText:!1}));return}if((a=C(this,Zl))==null||a.hide(),ne(this,xc,n),re(this,at,Io).call(this,{hasSelectedText:!0}),!(C(this,Ui)!==Nn.HIGHLIGHT&&C(this,Ui)!==Nn.NONE)&&(C(this,Ui)===Nn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ne(this,af,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),c.type==="pointerup"&&re(this,at,OC).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},OC=function(e=""){C(this,Ui)===Nn.HIGHLIGHT?this.highlightSelection(e):C(this,Bw)&&re(this,at,_ie).call(this)},Eie=function(){document.addEventListener("selectionchange",re(this,at,Sie).bind(this),{signal:this._signal})},Cie=function(){const e=this._signal;window.addEventListener("focus",C(this,jw),{signal:e}),window.addEventListener("blur",C(this,qw),{signal:e})},Tie=function(){window.removeEventListener("focus",C(this,jw)),window.removeEventListener("blur",C(this,qw))},xF=function(){const e=this._signal;window.addEventListener("keydown",C(this,Yw),{signal:e}),window.addEventListener("keyup",C(this,Xw),{signal:e})},Aie=function(){window.removeEventListener("keydown",C(this,Yw)),window.removeEventListener("keyup",C(this,Xw))},wF=function(){const e=this._signal;document.addEventListener("copy",C(this,Ww),{signal:e}),document.addEventListener("cut",C(this,Gw),{signal:e}),document.addEventListener("paste",C(this,Kw),{signal:e})},_F=function(){document.removeEventListener("copy",C(this,Ww)),document.removeEventListener("cut",C(this,Gw)),document.removeEventListener("paste",C(this,Kw))},Rie=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Io=function(e){Object.entries(e).some(([r,i])=>C(this,t_)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(C(this,t_),e)}),C(this,Ui)===Nn.HIGHLIGHT&&e.hasSelectedEditor===!1&&re(this,at,Yd).call(this,[[on.HIGHLIGHT_FREE,!0]]))},Yd=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Pie=function(){if(!C(this,lf)){ne(this,lf,!0);for(const e of C(this,zi).values())e.enable();for(const e of C(this,yi).values())e.enable()}},Iie=function(){if(this.unselectAll(),C(this,lf)){ne(this,lf,!1);for(const e of C(this,zi).values())e.disable();for(const e of C(this,yi).values())e.disable()}},SF=function(e){const n=C(this,zi).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},kie=function(){let e=null;for(e of C(this,Xn));return e},px=function(){if(C(this,yi).size===0)return!0;if(C(this,yi).size===1)for(const e of C(this,yi).values())return e.isEmpty();return!1},EF=function(e){for(const n of C(this,Xn))n.unselect();C(this,Xn).clear();for(const n of e)n.isEmpty()||(C(this,Xn).add(n),n.select());re(this,at,Io).call(this,{hasSelectedEditor:this.hasSelection})},vt(_y,"TRANSLATE_SMALL",1),vt(_y,"TRANSLATE_BIG",10);let ug=_y;var _c,Sc,Xa,Ec,ks,zy,Ja,r_,CF;const pc=class pc{constructor(e){ie(this,r_);ie(this,_c,"");ie(this,Sc,!1);ie(this,Xa,null);ie(this,Ec,null);ie(this,ks,null);ie(this,zy,!1);ie(this,Ja,null);ne(this,Ja,e)}static initialize(e){pc._l10nPromise||(pc._l10nPromise=e)}async render(){const e=ne(this,Xa,document.createElement("button"));e.className="altText";const n=await pc._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const r=C(this,Ja)._uiManager._signal;e.addEventListener("contextmenu",ds,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),C(this,Ja)._uiManager.editAltText(C(this,Ja))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(ne(this,zy,!0),i(o))},{signal:r}),await re(this,r_,CF).call(this),e}finish(){C(this,Xa)&&(C(this,Xa).focus({focusVisible:C(this,zy)}),ne(this,zy,!1))}isEmpty(){return!C(this,_c)&&!C(this,Sc)}get data(){return{altText:C(this,_c),decorative:C(this,Sc)}}set data({altText:e,decorative:n}){C(this,_c)===e&&C(this,Sc)===n||(ne(this,_c,e),ne(this,Sc,n),re(this,r_,CF).call(this))}toggle(e=!1){C(this,Xa)&&(!e&&C(this,ks)&&(clearTimeout(C(this,ks)),ne(this,ks,null)),C(this,Xa).disabled=!e)}destroy(){var e;(e=C(this,Xa))==null||e.remove(),ne(this,Xa,null),ne(this,Ec,null)}};_c=new WeakMap,Sc=new WeakMap,Xa=new WeakMap,Ec=new WeakMap,ks=new WeakMap,zy=new WeakMap,Ja=new WeakMap,r_=new WeakSet,CF=async function(){var i;const e=C(this,Xa);if(!e)return;if(!C(this,_c)&&!C(this,Sc)){e.classList.remove("done"),(i=C(this,Ec))==null||i.remove();return}e.classList.add("done"),pc._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let n=C(this,Ec);if(!n){ne(this,Ec,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const o=n.id=`alt-text-tooltip-${C(this,Ja).id}`;e.setAttribute("aria-describedby",o);const s=100,a=C(this,Ja)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(C(this,ks)),ne(this,ks,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ne(this,ks,setTimeout(()=>{ne(this,ks,null),C(this,Ec).classList.add("show"),C(this,Ja)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;C(this,ks)&&(clearTimeout(C(this,ks)),ne(this,ks,null)),(l=C(this,Ec))==null||l.classList.remove("show")},{signal:a})}n.innerText=C(this,Sc)?await pc._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):C(this,_c),n.parentNode||e.append(n);const r=C(this,Ja).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},vt(pc,"_l10nPromise",null);let pA=pc;var tp,Qa,fo,Uy,np,Hi,rp,Hy,qy,ho,i_,ip,cf,o_,op,Cc,tu,jy,Wy,aa,s_,FA,_n,TF,a_,AF,RF,Mie,Nie,PF,IF,kF,Die,Lie,Oie,Fie,MF,gx;const lr=class lr{constructor(e){ie(this,_n);ie(this,tp,null);ie(this,Qa,null);ie(this,fo,null);ie(this,Uy,!1);ie(this,np,!1);ie(this,Hi,null);ie(this,rp,null);ie(this,Hy,this.focusin.bind(this));ie(this,qy,this.focusout.bind(this));ie(this,ho,null);ie(this,i_,"");ie(this,ip,!1);ie(this,cf,null);ie(this,o_,!1);ie(this,op,!1);ie(this,Cc,!1);ie(this,tu,null);ie(this,jy,0);ie(this,Wy,0);ie(this,aa,null);vt(this,"_initialOptions",Object.create(null));vt(this,"_isVisible",!0);vt(this,"_uiManager",null);vt(this,"_focusEventsAllowed",!0);vt(this,"_l10nPromise",null);ie(this,s_,!1);ie(this,FA,lr._zIndex++);this.constructor===lr&&rr("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,s];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=lr.prototype._resizeWithKeyboard,n=ug.TRANSLATE_SMALL,r=ug.TRANSLATE_BIG;return On(this,"_resizerKeyboardManager",new z1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],lr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return On(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new P8e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,r){if(lr._l10nPromise||(lr._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,s=>`-${s.toLowerCase()}`))]))),r!=null&&r.strings)for(const o of r.strings)lr._l10nPromise.set(o,e.get(o));if(lr._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);lr._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){rr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return C(this,s_)}set _isDraggable(e){var n;ne(this,s_,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=C(this,FA)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):re(this,_n,gx).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(C(this,ip)?ne(this,ip,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[o,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){re(this,_n,TF).call(this,this.parentDimensions,e,n)}translateInPage(e,n){C(this,cf)||ne(this,cf,[this.x,this.y]),re(this,_n,TF).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){C(this,cf)||ne(this,cf,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[a,l]=this.getBaseTranslation();o+=a,s+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!C(this,cf)&&(C(this,cf)[0]!==this.x||C(this,cf)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=lr,i=r/e,o=r/n;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:o,width:s,height:a}=this;if(s*=n,a*=r,i*=n,o*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),o=Math.max(0,Math.min(r-a,o));break;case 90:i=Math.max(0,Math.min(n-a,i)),o=Math.min(r,Math.max(s,o));break;case 180:i=Math.min(n,Math.max(s,i)),o=Math.min(r,Math.max(a,o));break;case 270:i=Math.min(n,Math.max(a,i)),o=Math.max(0,Math.min(r-s,o));break}this.x=i/=n,this.y=o/=r;const[l,u]=this.getBaseTranslation();i+=l,o+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return re(r=lr,a_,AF).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return re(r=lr,a_,AF).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this,i=n*e,o=r*e;return os.isCSSRoundSupported?[Math.round(i),Math.round(o)]:[i,o]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,C(this,np)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),o=!C(this,np)&&n.endsWith("%");if(i&&o)return;const[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!C(this,np)&&!o&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=C(this,fo))==null||e.finish()}async addEditToolbar(){return C(this,ho)||C(this,op)?C(this,ho):(ne(this,ho,new gF(this)),this.div.append(C(this,ho).render()),C(this,fo)&&C(this,ho).addAltTextButton(await C(this,fo).render()),C(this,ho))}removeEditToolbar(){var e;C(this,ho)&&(C(this,ho).remove(),ne(this,ho,null),(e=C(this,fo))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){C(this,fo)||(pA.initialize(lr._l10nPromise),ne(this,fo,new pA(this)),C(this,tp)&&(C(this,fo).data=C(this,tp),ne(this,tp,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=C(this,fo))==null?void 0:e.data}set altTextData(e){C(this,fo)&&(C(this,fo).data=e)}hasAltText(){var e;return!((e=C(this,fo))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=C(this,Uy)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",C(this,Hy),{signal:e}),this.div.addEventListener("focusout",C(this,qy),{signal:e});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),hA(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=os.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(ne(this,ip,!0),this._isDraggable){re(this,_n,Die).call(this,e);return}re(this,_n,kF).call(this,e)}moveInDOM(){C(this,tu)&&clearTimeout(C(this,tu)),ne(this,tu,setTimeout(()=>{var e;ne(this,tu,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*o,h=this.y*s,p=this.width*o,m=this.height*s;switch(r){case 0:return[d+u+a,s-h-c-m+l,d+u+p+a,s-h-c+l];case 90:return[d+c+a,s-h+u+l,d+c+m+a,s-h+u+p+l];case 180:return[d-u-p+a,s-h+c+l,d-u+a,s-h+c+m+l];case 270:return[d-c-m+a,s-h-u-p+l,d-c+a,s-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,o,s]=e,a=o-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,a,l];case 90:return[r,n-i,l,a];case 180:return[o,n-i,a,l];case 270:return[o,n-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ne(this,op,!0)}disableEditMode(){ne(this,op,!1)}isInEditMode(){return C(this,op)}shouldGetKeyboardEvents(){return C(this,Cc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,r;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",C(this,Hy),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",C(this,qy),{signal:e})}rotate(e){}serialize(e=!1,n=null){rr("An editor must be serializable")}static deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,ne(i,tp,e.accessibilityData);const[o,s]=i.pageDimensions,[a,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=l/s,i.width=u/o,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",C(this,Hy)),this.div.removeEventListener("focusout",C(this,qy)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),C(this,tu)&&(clearTimeout(C(this,tu)),ne(this,tu,null)),re(this,_n,gx).call(this),this.removeEditToolbar(),C(this,aa)){for(const e of C(this,aa).values())clearTimeout(e);ne(this,aa,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(re(this,_n,Mie).call(this),C(this,Hi).classList.remove("hidden"),hA(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ne(this,rp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=C(this,Hi).children;if(!C(this,Qa)){ne(this,Qa,Array.from(n));const s=re(this,_n,Lie).bind(this),a=re(this,_n,Oie).bind(this),l=this._uiManager._signal;for(const u of C(this,Qa)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",re(this,_n,Fie).bind(this,c),{signal:l}),lr._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(d=>u.setAttribute("aria-label",d))}}const r=C(this,Qa)[0];let i=0;for(const s of n){if(s===r)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(C(this,Qa).length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)C(this,Hi).append(C(this,Hi).firstChild);else if(o>i)for(let a=0;a<o-i;a++)C(this,Hi).firstChild.before(C(this,Hi).lastChild);let s=0;for(const a of n){const u=C(this,Qa)[s++].getAttribute("data-resizer-name");lr._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(c=>a.setAttribute("aria-label",c))}}re(this,_n,MF).call(this,0),ne(this,Cc,!0),C(this,Hi).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){C(this,Cc)&&re(this,_n,IF).call(this,C(this,i_),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){re(this,_n,gx).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!C(this,ho)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=C(this,ho))==null||i.show())});return}(n=C(this,ho))==null||n.show()}unselect(){var e,n,r,i;(e=C(this,Hi))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=C(this,ho))==null||i.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return C(this,o_)}set isEditing(e){ne(this,o_,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){ne(this,np,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){C(this,aa)||ne(this,aa,new Map);const{action:r}=e;let i=C(this,aa).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),C(this,aa).delete(r),C(this,aa).size===0&&ne(this,aa,null)},lr._telemetryTimeout),C(this,aa).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ne(this,Uy,!1)}disable(){this.div&&(this.div.tabIndex=-1),ne(this,Uy,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};tp=new WeakMap,Qa=new WeakMap,fo=new WeakMap,Uy=new WeakMap,np=new WeakMap,Hi=new WeakMap,rp=new WeakMap,Hy=new WeakMap,qy=new WeakMap,ho=new WeakMap,i_=new WeakMap,ip=new WeakMap,cf=new WeakMap,o_=new WeakMap,op=new WeakMap,Cc=new WeakMap,tu=new WeakMap,jy=new WeakMap,Wy=new WeakMap,aa=new WeakMap,s_=new WeakMap,FA=new WeakMap,_n=new WeakSet,TF=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},a_=new WeakSet,AF=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},RF=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},Mie=function(){if(C(this,Hi))return;ne(this,Hi,document.createElement("div")),C(this,Hi).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");C(this,Hi).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",re(this,_n,Nie).bind(this,r),{signal:n}),i.addEventListener("contextmenu",ds,{signal:n}),i.tabIndex=-1}this.div.prepend(C(this,Hi))},Nie=function(e,n){var y;n.preventDefault();const{isMac:r}=os.platform;if(n.button!==0||n.ctrlKey&&r)return;(y=C(this,fo))==null||y.toggle(!1);const i=re(this,_n,IF).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const s=this._uiManager._signal,a={passive:!0,capture:!0,signal:s};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",ds,{signal:s});const l=this.x,u=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const m=()=>{var x;this.parent.togglePointerEvents(!0),(x=C(this,fo))==null||x.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",ds),this.parent.div.style.cursor=h,this.div.style.cursor=p,re(this,_n,PF).call(this,l,u,c,d)};window.addEventListener("pointerup",m,{signal:s}),window.addEventListener("blur",m,{signal:s})},PF=function(e,n,r,i){const o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===n&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=o,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*a,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},IF=function(e,n){const[r,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,u=lr.MIN_SIZE/r,c=lr.MIN_SIZE/i,d=J=>Math.round(J*1e4)/1e4,h=re(this,_n,RF).call(this,this.rotation),p=(J,Q)=>[h[0]*J+h[2]*Q,h[1]*J+h[3]*Q],m=re(this,_n,RF).call(this,360-this.rotation),y=(J,Q)=>[m[0]*J+m[2]*Q,m[1]*J+m[3]*Q];let x,w,E=!1,S=!1;switch(e){case"topLeft":E=!0,x=(J,Q)=>[0,0],w=(J,Q)=>[J,Q];break;case"topMiddle":x=(J,Q)=>[J/2,0],w=(J,Q)=>[J/2,Q];break;case"topRight":E=!0,x=(J,Q)=>[J,0],w=(J,Q)=>[0,Q];break;case"middleRight":S=!0,x=(J,Q)=>[J,Q/2],w=(J,Q)=>[0,Q/2];break;case"bottomRight":E=!0,x=(J,Q)=>[J,Q],w=(J,Q)=>[0,0];break;case"bottomMiddle":x=(J,Q)=>[J/2,Q],w=(J,Q)=>[J/2,0];break;case"bottomLeft":E=!0,x=(J,Q)=>[0,Q],w=(J,Q)=>[J,0];break;case"middleLeft":S=!0,x=(J,Q)=>[0,Q/2],w=(J,Q)=>[J,Q/2];break}const T=x(a,l),k=w(a,l);let N=p(...k);const R=d(o+N[0]),M=d(s+N[1]);let L=1,I=1,[O,V]=this.screenToPageTranslation(n.movementX,n.movementY);if([O,V]=y(O/r,V/i),E){const J=Math.hypot(a,l);L=I=Math.max(Math.min(Math.hypot(k[0]-T[0]-O,k[1]-T[1]-V)/J,1/a,1/l),u/a,c/l)}else S?L=Math.max(u,Math.min(1,Math.abs(k[0]-T[0]-O)))/a:I=Math.max(c,Math.min(1,Math.abs(k[1]-T[1]-V)))/l;const $=d(a*L),z=d(l*I);N=p(...w($,z));const W=R-N[0],K=M-N[1];this.width=$,this.height=z,this.x=W,this.y=K,this.setDims(r*$,i*z),this.fixAndSetPosition()},kF=function(e){const{isMac:n}=os.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},Die=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const o=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:o},ne(this,jy,e.clientX),ne(this,Wy,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[c,d]=this.screenToPageTranslation(l-C(this,jy),u-C(this,Wy));ne(this,jy,l),ne(this,Wy,u),this._uiManager.dragSelectedEditors(c,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),ne(this,ip,!1),this._uiManager.endDragSession()||re(this,_n,kF).call(this,e)};window.addEventListener("pointerup",s,{signal:o}),window.addEventListener("blur",s,{signal:o})},Lie=function(e){lr._resizerKeyboardManager.exec(this,e)},Oie=function(e){var n;C(this,Cc)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==C(this,Hi)&&re(this,_n,gx).call(this)},Fie=function(e){ne(this,i_,C(this,Cc)?e:"")},MF=function(e){if(C(this,Qa))for(const n of C(this,Qa))n.tabIndex=e},gx=function(){if(ne(this,Cc,!1),re(this,_n,MF).call(this,-1),C(this,rp)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=C(this,rp);re(this,_n,PF).call(this,e,n,r,i),ne(this,rp,null)}},ie(lr,a_),vt(lr,"_borderLineWidth",-1),vt(lr,"_colorManager",new bF),vt(lr,"_zIndex",1),vt(lr,"_telemetryTimeout",1e3);let Jn=lr;class P8e extends Jn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const qG=3285377520,ia=4294901760,Wl=65535;class $ie{constructor(e){this.h1=e?e&4294967295:qG,this.h2=e?e&4294967295:qG}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,x=e.length;y<x;y++){const w=e.charCodeAt(y);w<=255?n[r++]=w:(n[r++]=w>>>8,n[r++]=w&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,o=r-i*4,s=new Uint32Array(n.buffer,0,i);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,h=461845907,p=d&Wl,m=h&Wl;for(let y=0;y<i;y++)y&1?(a=s[y],a=a*d&ia|a*p&Wl,a=a<<15|a>>>17,a=a*h&ia|a*m&Wl,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[y],l=l*d&ia|l*p&Wl,l=l<<15|l>>>17,l=l*h&ia|l*m&Wl,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,o){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*d&ia|a*p&Wl,a=a<<15|a>>>17,a=a*h&ia|a*m&Wl,i&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&ia|e*36045&Wl,n=n*4283543511&ia|((n<<16|e>>>16)*2950163797&ia)>>>16,e^=n>>>1,e=e*444984403&ia|e*60499&Wl,n=n*3301882366&ia|((n<<16|e>>>16)*3120437893&ia)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const NF=Object.freeze({map:null,hash:"",transfer:void 0});var sp,qi,$A,Bie;class z3{constructor(){ie(this,$A);ie(this,sp,!1);ie(this,qi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=C(this,qi).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return C(this,qi).get(e)}remove(e){if(C(this,qi).delete(e),C(this,qi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of C(this,qi).values())if(n instanceof Jn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=C(this,qi).get(e);let i=!1;if(r!==void 0)for(const[o,s]of Object.entries(n))r[o]!==s&&(i=!0,r[o]=s);else i=!0,C(this,qi).set(e,n);i&&re(this,$A,Bie).call(this),n instanceof Jn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return C(this,qi).has(e)}getAll(){return C(this,qi).size>0?D3(C(this,qi)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return C(this,qi).size}resetModified(){C(this,sp)&&(ne(this,sp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Vie(this)}get serializable(){if(C(this,qi).size===0)return NF;const e=new Map,n=new $ie,r=[],i=Object.create(null);let o=!1;for(const[s,a]of C(this,qi)){const l=a instanceof Jn?a.serialize(!1,i):a;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:NF}get editorStats(){let e=null;const n=new Map;for(const r of C(this,qi).values()){if(!(r instanceof Jn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:o}=i;n.has(o)||n.set(o,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[o]||(e[o]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=s.get(a);u||(u=new Map,s.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}}sp=new WeakMap,qi=new WeakMap,$A=new WeakSet,Bie=function(){C(this,sp)||(ne(this,sp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var l_;class Vie extends z3{constructor(n){super();ie(this,l_);const{map:r,hash:i,transfer:o}=n.serializable,s=structuredClone(r,o?{transfer:o}:null);ne(this,l_,{map:s,hash:i,transfer:o})}get print(){rr("Should not call PrintAnnotationStorage.print")}get serializable(){return C(this,l_)}}l_=new WeakMap;var Gy;class I8e{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){ie(this,Gy,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),C(this,Gy).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||C(this,Gy).has(e.loadedName))){if(_i(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,s=new FontFace(r,i,o);this.addNativeFontFace(s);try{await s.load(),C(this,Gy).add(r),n==null||n(e)}catch{bn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}rr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw bn(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return On(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(bo||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),On(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(_i(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const o=r.shift();setTimeout(o.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return On(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(T,k){return T.charCodeAt(k)<<24|T.charCodeAt(k+1)<<16|T.charCodeAt(k+2)<<8|T.charCodeAt(k+3)&255}function i(T,k,N,R){const M=T.substring(0,k),L=T.substring(k+N);return M+R+L}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(T,k){if(++u>30){bn("Load test font never loaded."),k();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(c.bind(null,T,k))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const m=16,y=1482184792;let x=r(h,m);for(o=0,s=d.length-3;o<s;o+=4)x=x-y+r(d,o)|0;o<d.length&&(x=x-y+r(d+"XXX",o)|0),h=i(h,m,4,h8e(x));const w=`url(data:font/opentype;base64,${btoa(h)});`,E=`@font-face {font-family:"${d}";src:${w}}`;this.insertRule(E);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const T of[e.loadedName,d]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=T,S.append(k)}this._document.body.append(S),c(d,()=>{S.remove(),n.complete()})}}Gy=new WeakMap;class k8e{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=aie(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${n}}`}return(i=this._inspectFont)==null||i.call(this,this,n),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(o){bn(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(o,s){};const i=[];for(let o=0,s=r.length;o<s;)switch(r[o++]){case uc.BEZIER_CURVE_TO:{const[a,l,u,c,d,h]=r.slice(o,o+6);i.push(p=>p.bezierCurveTo(a,l,u,c,d,h)),o+=6}break;case uc.MOVE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.moveTo(a,l)),o+=2}break;case uc.LINE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.lineTo(a,l)),o+=2}break;case uc.QUADRATIC_CURVE_TO:{const[a,l,u,c]=r.slice(o,o+4);i.push(d=>d.quadraticCurveTo(a,l,u,c)),o+=4}break;case uc.RESTORE:i.push(a=>a.restore());break;case uc.SAVE:i.push(a=>a.save());break;case uc.SCALE:_i(i.length===2,"Scale command is only valid at the third position.");break;case uc.TRANSFORM:{const[a,l,u,c,d,h]=r.slice(o,o+6);i.push(p=>p.transform(a,l,u,c,d,h)),o+=6}break;case uc.TRANSLATE:{const[a,l]=r.slice(o,o+2);i.push(u=>u.translate(a,l)),o+=2}break}return this.compiledGlyphs[n]=function(s,a){i[0](s),i[1](s),s.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}if(bo){var DF=Promise.withResolvers(),Hx=null;(async()=>{const e=await ux(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await ux(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await ux(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await ux(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:o,path2d:s}))})().then(e=>{Hx=e,DF.resolve()},e=>{bn(`loadPackages: ${e}`),Hx=new Map,DF.resolve()})}class Fu{static get promise(){return DF.promise}static get(e){return Hx==null?void 0:Hx.get(e)}}const zie=function(t){return Fu.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class M8e extends SP{}class N8e extends fA{_createCanvas(e,n){return Fu.get("canvas").createCanvas(e,n)}}class D8e extends EP{_fetchData(e,n){return zie(e).then(r=>({cMapData:r,compressionType:n}))}}class L8e extends CP{_fetchData(e){return zie(e)}}const Do={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function LF(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class U1{constructor(){this.constructor===U1&&rr("Cannot initialize BaseShadingPattern.")}getPattern(){rr("Abstract method `getPattern` called.")}}class O8e extends U1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let o;if(i===Do.STROKE||i===Do.FILL){const s=n.current.getClippedPathBoundingBox(i,Ir(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",a,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=Mt.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),LF(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),o=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);o.setTransform(d)}else LF(e,this._bbox),o=this._createGradient(e);return o}}function uD(t,e,n,r,i,o,s,a){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=a,a=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY;if(m>=E)return;const S=u[o],T=u[o+1],k=u[o+2],N=u[s],R=u[s+1],M=u[s+2],L=u[a],I=u[a+1],O=u[a+2],V=Math.round(m),$=Math.round(E);let z,W,K,J,Q,X,j,Y;for(let ue=V;ue<=$;ue++){if(ue<x){const ae=ue<m?0:(m-ue)/(m-x);z=p-(p-y)*ae,W=S-(S-N)*ae,K=T-(T-R)*ae,J=k-(k-M)*ae}else{let ae;ue>E?ae=1:x===E?ae=0:ae=(x-ue)/(x-E),z=y-(y-w)*ae,W=N-(N-L)*ae,K=R-(R-I)*ae,J=M-(M-O)*ae}let q;ue<m?q=0:ue>E?q=1:q=(m-ue)/(m-E),Q=p-(p-w)*q,X=S-(S-L)*q,j=T-(T-I)*q,Y=k-(k-O)*q;const de=Math.round(Math.min(z,Q)),se=Math.round(Math.max(z,Q));let ee=d*ue+de*4;for(let ae=de;ae<=se;ae++)q=(z-ae)/(z-Q),q<0?q=0:q>1&&(q=1),c[ee++]=W-(W-X)*q|0,c[ee++]=K-(K-j)*q|0,c[ee++]=J-(J-Y)*q|0,c[ee++]=255}}function F8e(t,e,n){const r=e.coords,i=e.colors;let o,s;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(o=0;o<l;o++){let c=o*a;for(let d=0;d<u;d++,c++)uD(t,n,r[c],r[c+1],r[c+a],i[c],i[c+1],i[c+a]),uD(t,n,r[c+a+1],r[c+1],r[c+a],i[c+a+1],i[c+1],i[c+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)uD(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class $8e extends U1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=u/d,m=c/h,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},x=d+2*2,w=h+2*2,E=r.getCanvas("mesh",x,w,!1),S=E.context,T=S.createImageData(d,h);if(n){const N=T.data;for(let R=0,M=N.length;R<M;R+=4)N[R]=n[0],N[R+1]=n[1],N[R+2]=n[2],N[R+3]=255}for(const N of this._figures)F8e(T,N,y);return S.putImageData(T,2,2),{canvas:E.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,n,r,i){LF(e,this._bbox);let o;if(i===Do.SHADING)o=Mt.singularValueDecompose2dScale(Ir(e));else if(o=Mt.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=Mt.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}const s=this._createMeshCanvas(o,i===Do.SHADING?null:this._background,n.cachedCanvases);return i!==Do.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class B8e extends U1{getPattern(){return"hotpink"}}function V8e(t){switch(t[0]){case"RadialAxial":return new O8e(t);case"Mesh":return new $8e(t);case"Dummy":return new B8e}throw new Error(`Unknown IR type: ${t[0]}`)}const jG={COLORED:1,UNCOLORED:2},BA=class BA{constructor(e,n,r,i,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}createPatternCanvas(e){const n=this.operatorList,r=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;xP("TilingType: "+a);const c=r[0],d=r[1],h=r[2],p=r[3],m=Mt.singularValueDecompose2dScale(this.matrix),y=Mt.singularValueDecompose2dScale(this.baseTransform),x=[m[0]*y[0],m[1]*y[1]],w=this.getSizeAndScale(i,this.ctx.canvas.width,x[0]),E=this.getSizeAndScale(o,this.ctx.canvas.height,x[1]),S=e.cachedCanvases.getCanvas("pattern",w.size,E.size,!0),T=S.context,k=u.createCanvasGraphics(T);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,s,l);let N=c,R=d,M=h,L=p;return c<0&&(N=0,M+=Math.abs(c)),d<0&&(R=0,L+=Math.abs(d)),T.translate(-(w.scale*N),-(E.scale*R)),k.transform(w.scale,0,0,E.scale,0,0),T.save(),this.clipBbox(k,N,R,M,L),k.baseTransform=Ir(k.ctx),k.executeOperatorList(n),k.endDrawing(),{canvas:S.canvas,scaleX:w.scale,scaleY:E.scale,offsetX:N,offsetY:R}}getSizeAndScale(e,n,r){e=Math.abs(e);const i=Math.max(BA.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,i,o){const s=i-n,a=o-r;e.ctx.rect(n,r,s,a),e.current.updateRectMinMax(Ir(e.ctx),[n,r,i,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,o=e.current;switch(n){case jG.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case jG.UNCOLORED:const a=Mt.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new f8e(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let o=r;i!==Do.SHADING&&(o=Mt.transform(o,n.baseTransform),this.matrix&&(o=Mt.transform(o,this.matrix)));const s=this.createPatternCanvas(n);let a=new DOMMatrix(o);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(a),l}};vt(BA,"MAX_PATTERN_SIZE",3e3);let OF=BA;function z8e({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){const a=os.isLittleEndian?4278190080:255,[l,u]=s?[o,a]:[a,o],c=r>>3,d=r&7,h=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const x=e+c;e<x;e++){const w=e<h?t[e]:255;n[p++]=w&128?u:l,n[p++]=w&64?u:l,n[p++]=w&32?u:l,n[p++]=w&16?u:l,n[p++]=w&8?u:l,n[p++]=w&4?u:l,n[p++]=w&2?u:l,n[p++]=w&1?u:l}if(d===0)continue;const y=e<h?t[e++]:255;for(let x=0;x<d;x++)n[p++]=y&1<<7-x?u:l}return{srcPos:e,destPos:p}}const WG=16,GG=100,U8e=15,KG=10,YG=1e3,ts=16;function H8e(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,o,s,a,l){e.transform(r,i,o,s,a,l),this.__originalTransform(r,i,o,s,a,l)},t.setTransform=function(r,i,o,s,a,l){e.setTransform(r,i,o,s,a,l),this.__originalSetTransform(r,i,o,s,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,o,s,a){e.bezierCurveTo(n,r,i,o,s,a),this.__originalBezierCurveTo(n,r,i,o,s,a)},t.rect=function(n,r,i,o){e.rect(n,r,i,o),this.__originalRect(n,r,i,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class q8e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function YE(t,e,n,r,i,o,s,a,l,u){const[c,d,h,p,m,y]=Ir(t);if(d===0&&h===0){const E=s*c+m,S=Math.round(E),T=a*p+y,k=Math.round(T),N=(s+l)*c+m,R=Math.abs(Math.round(N)-S)||1,M=(a+u)*p+y,L=Math.abs(Math.round(M)-k)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(p),S,k),t.drawImage(e,n,r,i,o,0,0,R,L),t.setTransform(c,d,h,p,m,y),[R,L]}if(c===0&&p===0){const E=a*h+m,S=Math.round(E),T=s*d+y,k=Math.round(T),N=(a+u)*h+m,R=Math.abs(Math.round(N)-S)||1,M=(s+l)*d+y,L=Math.abs(Math.round(M)-k)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,S,k),t.drawImage(e,n,r,i,o,0,0,L,R),t.setTransform(c,d,h,p,m,y),[L,R]}t.drawImage(e,n,r,i,o,s,a,l,u);const x=Math.hypot(c,d),w=Math.hypot(h,p);return[x*l,w*u]}function j8e(t){const{width:e,height:n}=t;if(e>YG||n>YG)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let s=new Uint8Array(o*(n+1)),a,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),h=0;for(const w of t.data){let E=128;for(;E>0;)d[h++]=w&E?0:255,E>>=1}let p=0;for(h=0,d[h]!==0&&(s[0]=1,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(s[l]=d[h]?2:1,++p),h++;for(d[h]!==0&&(s[l]=2,++p),a=1;a<n;a++){h=a*c,u=a*o,d[h-c]!==d[h]&&(s[u]=d[h]?1:8,++p);let w=(d[h]?4:0)+(d[h-c]?8:0);for(l=1;l<e;l++)w=(w>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),i[w]&&(s[u+l]=i[w],++p),h++;if(d[h-c]!==d[h]&&(s[u+l]=d[h]?2:4,++p),p>r)return null}for(h=c*(n-1),u=a*o,d[h]!==0&&(s[u]=8,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(s[u+l]=d[h]?4:8,++p),h++;if(d[h]!==0&&(s[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=n;a++){let w=a*o;const E=w+e;for(;w<E&&!s[w];)w++;if(w===E)continue;y.moveTo(w%o,a);const S=w;let T=s[w];do{const k=m[T];do w+=k;while(!s[w]);const N=s[w];N!==5&&N!==10?(T=N,s[w]=0):(T=N&51*T>>4,s[w]&=T>>2|T<<2),y.lineTo(w%o,w/o|0),s[w]||--p}while(S!==w);--a}return d=null,s=null,function(w){w.save(),w.scale(1/e,-1/n),w.translate(0,-n),w.fill(y),w.beginPath(),w.restore()}}class XG{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=oie,this.textMatrixScale=1,this.fontMatrix=lF,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=lo.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Mt.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Mt.applyTransform(n,e),i=Mt.applyTransform(n.slice(2),e),o=Mt.applyTransform([n[0],n[3]],e),s=Mt.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,n){Mt.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,o,s,a,l,u,c){const d=Mt.bezierBoundingBox(n,r,i,o,s,a,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Do.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Do.STROKE){n||rr("Stroke bounding box must include transform.");const i=Mt.singularValueDecompose2dScale(n),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}updateClipFromPath(){const e=Mt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Do.FILL,n=null){return Mt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function JG(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%ts,o=(n-i)/ts,s=i===0?o:o+1,a=t.createImageData(r,ts);let l=0,u;const c=e.data,d=a.data;let h,p,m,y;if(e.kind===kC.GRAYSCALE_1BPP){const x=c.byteLength,w=new Uint32Array(d.buffer,0,d.byteLength>>2),E=w.length,S=r+7>>3,T=4294967295,k=os.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(m=h<o?ts:i,u=0,p=0;p<m;p++){const N=x-l;let R=0;const M=N>S?r:N*8-7,L=M&-8;let I=0,O=0;for(;R<L;R+=8)O=c[l++],w[u++]=O&128?T:k,w[u++]=O&64?T:k,w[u++]=O&32?T:k,w[u++]=O&16?T:k,w[u++]=O&8?T:k,w[u++]=O&4?T:k,w[u++]=O&2?T:k,w[u++]=O&1?T:k;for(;R<M;R++)I===0&&(O=c[l++],I=128),w[u++]=O&I?T:k,I>>=1}for(;u<E;)w[u++]=0;t.putImageData(a,0,h*ts)}}else if(e.kind===kC.RGBA_32BPP){for(p=0,y=r*ts*4,h=0;h<o;h++)d.set(c.subarray(l,l+y)),l+=y,t.putImageData(a,0,p),p+=ts;h<s&&(y=r*i*4,d.set(c.subarray(l,l+y)),t.putImageData(a,0,p))}else if(e.kind===kC.RGB_24BPP)for(m=ts,y=r*m,h=0;h<s;h++){for(h>=o&&(m=i,y=r*m),u=0,p=y;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(a,0,h*ts)}else throw new Error(`bad image kind: ${e.kind}`)}function QG(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%ts,o=(n-i)/ts,s=i===0?o:o+1,a=t.createImageData(r,ts);let l=0;const u=e.data,c=a.data;for(let d=0;d<s;d++){const h=d<o?ts:i;({srcPos:l}=z8e({src:u,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),t.putImageData(a,0,d*ts)}}function Mb(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function XE(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!bo){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function ZG(t,e){if(e)return!0;const n=Mt.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Yf.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const W8e=["butt","round","square"],G8e=["miter","round","bevel"],K8e={},eK={};var Qf,FF,$F;const vB=class vB{constructor(e,n,r,i,o,{optionalContentConfig:s,markedContentStack:a=null},l,u){ie(this,Qf);this.ctx=e,this.current=new XG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new q8e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ir(this.compositeCtx))}this.ctx.save(),XE(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ir(this.ctx)}executeOperatorList(e,n,r,i){const o=e.argsArray,s=e.fnArray;let a=n||0;const l=o.length;if(l===a)return a;const u=l-a>KG&&typeof r=="function",c=u?Date.now()+U8e:0;let d=0;const h=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=s[a],m!==Ga.dependency)this[m].apply(this,o[a]);else for(const y of o[a]){const x=y.startsWith("g_")?h:p;if(!x.has(y))return x.get(y,r),a}if(a++,a===l)return a;if(u&&++d>KG){if(Date.now()>c)return r(),a;d=0}}}endDrawing(){re(this,Qf,FF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),re(this,Qf,$F).call(this)}_scaleImage(e,n){const r=e.width,i=e.height;let o=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,u="prescale1",c,d;for(;o>2&&a>1||s>2&&l>1;){let h=a,p=l;o>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/h),s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/p),c=this.cachedCanvases.getCanvas(u,h,p),d=c.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,a,l,0,0,h,p),e=c.canvas,a=h,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,a=Ir(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;u=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const L=l.get(u);if(L&&!s){const I=Math.round(Math.min(a[0],a[2])+a[4]),O=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:L,offsetX:I,offsetY:O}}c=L}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),QG(d.context,e));let h=Mt.transform(a,[1/r,0,0,-1/i,0,0]);h=Mt.transform(h,[1,0,0,1,0,-i]);const[p,m,y,x]=Mt.getAxialAlignedBoundingBox([0,0,r,i],h),w=Math.round(y-p)||1,E=Math.round(x-m)||1,S=this.cachedCanvases.getCanvas("fillCanvas",w,E),T=S.context,k=p,N=m;T.translate(-k,-N),T.transform(...h),c||(c=this._scaleImage(d.canvas,cc(T)),c=c.img,l&&s&&l.set(u,c)),T.imageSmoothingEnabled=ZG(Ir(T),e.interpolate),YE(T,c,0,0,c.width,c.height,0,0,r,i),T.globalCompositeOperation="source-in";const R=Mt.transform(cc(T),[1,0,0,1,-k,-N]);return T.fillStyle=s?o.getPattern(n,this,R,Do.FILL):o,T.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(k),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=W8e[e]}setLineJoin(e){this.ctx.lineJoin=G8e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...Ir(this.suspendedCtx)),Mb(this.suspendedCtx,o),H8e(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Mb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const o=i[0],s=i[1],a=i[2]-o,l=i[3]-s;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,o,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,o,s,a,l,u,c,d){let h=e.canvas,p=l-c,m=u-d;if(s){if(p<0||m<0||p+r>h.width||m+i>h.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),w=x.context;w.drawImage(h,-p,-m),s.some(E=>E!==0)&&(w.globalCompositeOperation="destination-atop",w.fillStyle=Mt.makeHexColor(...s),w.fillRect(0,0,r,i),w.globalCompositeOperation="source-over"),h=x.canvas,p=m=0}else if(s.some(x=>x!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(p,m,r,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=Mt.makeHexColor(...s),e.fillRect(p,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(h,p,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(Mb(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Mb(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,o,s){this.ctx.transform(e,n,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,o=this.current;let s=o.x,a=o.y,l,u;const c=Ir(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=d?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case Ga.rectangle:s=n[m++],a=n[m++];const x=n[m++],w=n[m++],E=s+x,S=a+w;i.moveTo(s,a),x===0||w===0?i.lineTo(E,S):(i.lineTo(E,a),i.lineTo(E,S),i.lineTo(s,S)),d||o.updateRectMinMax(c,[s,a,E,S]),i.closePath();break;case Ga.moveTo:s=n[m++],a=n[m++],i.moveTo(s,a),d||o.updatePathMinMax(c,s,a);break;case Ga.lineTo:s=n[m++],a=n[m++],i.lineTo(s,a),d||o.updatePathMinMax(c,s,a);break;case Ga.curveTo:l=s,u=a,s=n[m+4],a=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],s,a,h),m+=6;break;case Ga.curveTo2:l=s,u=a,i.bezierCurveTo(s,a,n[m],n[m+1],n[m+2],n[m+3]),o.updateCurvePathMinMax(c,l,u,s,a,n[m],n[m+1],n[m+2],n[m+3],h),s=n[m+2],a=n[m+3],m+=4;break;case Ga.curveTo3:l=s,u=a,s=n[m+2],a=n[m+3],i.bezierCurveTo(n[m],n[m+1],s,a,s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],s,a,s,a,h),m+=4;break;case Ga.closePath:i.closePath();break}d&&o.updateScalingPathMinMax(c,h),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,cc(n),Do.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let o=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,cc(n),Do.FILL),o=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=K8e}eoClip(){this.pendingClip=eK}beginText(){this.current.textMatrix=oie,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||lF,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&bn("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${o}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=n;n<WG?u=WG:n>GG&&(u=GG),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${a} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,o,s){this.current.textMatrix=[e,n,r,i,o,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&lo.FILL_STROKE_MASK,d=!!(l&lo.ADD_TO_PATH_FLAG),h=s.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||h)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(o.save(),o.translate(n,r),o.beginPath(),p(o,u),i&&o.setTransform(...i),(c===lo.FILL||c===lo.FILL_STROKE)&&o.fill(),(c===lo.STROKE||c===lo.FILL_STROKE)&&o.stroke(),o.restore()):((c===lo.FILL||c===lo.FILL_STROKE)&&o.fillText(e,n,r),(c===lo.STROKE||c===lo.FILL_STROKE)&&o.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ir(o),x:n,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return On(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const o=this.ctx,s=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,h=r.vertical,p=h?1:-1,m=r.defaultVMetrics,y=i*n.fontMatrix[0],x=n.textRenderingMode===lo.FILL&&!r.disableFontFace&&!n.patternFill;o.save(),o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),u>0?o.scale(c,-1):o.scale(c,1);let w;if(n.patternFill){o.save();const N=n.fillColor.getPattern(o,this,cc(o),Do.FILL);w=Ir(o),o.restore(),o.fillStyle=N}let E=n.lineWidth;const S=n.textMatrixScale;if(S===0||E===0){const N=n.textRenderingMode&lo.FILL_STROKE_MASK;(N===lo.STROKE||N===lo.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(s!==1&&(o.scale(s,s),E/=s),o.lineWidth=E,r.isInvalidPDFjsFont){const N=[];let R=0;for(const M of e)N.push(M.unicode),R+=M.width;o.fillText(N.join(""),0,0),n.x+=R*y*c,o.restore(),this.compose();return}let T=0,k;for(k=0;k<d;++k){const N=e[k];if(typeof N=="number"){T+=p*N*i/1e3;continue}let R=!1;const M=(N.isSpace?l:0)+a,L=N.fontChar,I=N.accent;let O,V,$=N.width;if(h){const W=N.vmetric||m,K=-(N.vmetric?W[1]:$*.5)*y,J=W[2]*y;$=W?-W[0]:$,O=K/s,V=(T+J)/s}else O=T/s,V=0;if(r.remeasure&&$>0){const W=o.measureText(L).width*1e3/i*s;if($<W&&this.isFontSubpixelAAEnabled){const K=$/W;R=!0,o.save(),o.scale(K,1),O/=K}else $!==W&&(O+=($-W)/2e3*i/s)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(x&&!I)o.fillText(L,O,V);else if(this.paintChar(L,O,V,w),I){const W=O+i*I.offset.x/s,K=V-i*I.offset.y/s;this.paintChar(I.fontChar,W,K,w)}}const z=h?$*y-M*u:$*y+M*u;T+=z,R&&o.restore()}h?n.y-=T:n.x+=T*c,o.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,d=r.fontMatrix||lF,h=e.length,p=r.textRenderingMode===lo.INVISIBLE;let m,y,x,w;if(!(p||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),m=0;m<h;++m){if(y=e[m],typeof y=="number"){w=a*y*o/1e3,this.ctx.translate(w,0),r.x+=w*c;continue}const E=(y.isSpace?u:0)+l,S=i.charProcOperatorList[y.operatorListId];if(!S){bn(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),n.scale(o,o),n.transform(...d),this.executeOperatorList(S),this.restore()),x=Mt.applyTransform([y.width,0],d)[0]*o+E,n.translate(x,0),r.x+=x*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,o,s){this.ctx.rect(r,i,o-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Ir(this.ctx),o={createCanvasGraphics:s=>new vB(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new OF(e,r,this.ctx,o,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){const i=Mt.makeHexColor(e,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,n,r){const i=Mt.makeHexColor(e,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=V8e(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,cc(n),Do.SHADING);const i=cc(n);if(i){const{width:o,height:s}=n.canvas,[a,l,u,c]=Mt.getAxialAlignedBoundingBox([0,0,o,s],i);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){rr("Should not call beginInlineImage")}beginImageData(){rr("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ir(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Ir(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||xP("TODO: Support non-isolated groups."),e.knockout&&bn("Knockout groups not supported.");const r=Ir(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Mt.getAxialAlignedBoundingBox(e.bbox,Ir(n));const o=[0,0,n.canvas.width,n.canvas.height];i=Mt.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),h=d.context;h.translate(-s,-a),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,a),n.save()),Mb(n,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Ir(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const o=Mt.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,o){if(re(this,Qf,FF).call(this),XE(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=a;const[l,u]=Mt.singularValueDecompose2dScale(Ir(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),XE(this.ctx)}else XE(this.ctx),this.ctx.rect(n[0],n[1],s,a),this.ctx.clip(),this.endPath()}this.current=new XG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),re(this,Qf,$F).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=j8e(e)),i.compiled)){i.compiled(r);return}const o=this._createMaskCanvas(e),s=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ir(a);a.transform(n,r,i,o,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=s.length;c<d;c+=2){const h=Mt.transform(l,[n,r,i,o,s[c],s[c+1]]),[p,m]=Mt.applyTransform([0,0],h);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const o of e){const{data:s,width:a,height:l,transform:u}=o,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const h=this.getObject(s,o);QG(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,cc(n),Do.FILL):r,d.fillRect(0,0,a,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),YE(n,c.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){bn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){bn("Dependent image isn't ready yet");return}const s=o.width,a=o.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!bo){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;JG(l,e),o=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(o,cc(i));i.imageSmoothingEnabled=ZG(Ir(i),e.interpolate),YE(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;JG(l,e),i=this.applyTransferMapsToCanvas(l)}for(const o of n)r.save(),r.transform(...o.transform),r.scale(1,-1),YE(r,i,o.x,o.y,o.w,o.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===eK?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ir(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:o}=this.ctx.getTransform();let s,a;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(o);if(l===u)if(e===0)s=a=1/l;else{const c=l*e;s=a=c<1?1/c:1}else if(e===0)s=1/l,a=1/u;else{const c=l*e,d=u*e;s=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(n*o-r*i),u=Math.hypot(n,r),c=Math.hypot(i,o);if(e===0)s=c/l,a=u/l;else{const d=e*l;s=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,o]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&o===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,o),s.length>0){const a=Math.max(i,o);n.setLineDash(s.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qf=new WeakSet,FF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$F=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let ky=vB;for(const t in Ga)ky.prototype[t]!==void 0&&(ky.prototype[Ga[t]]=ky.prototype[t]);var u_,c_;class Yc{static get workerPort(){return C(this,u_)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ne(this,u_,e)}static get workerSrc(){return C(this,c_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ne(this,c_,e)}}u_=new WeakMap,c_=new WeakMap,ie(Yc,u_,null),ie(Yc,c_,"");const JE={DATA:1,ERROR:2},ei={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Cs(t){switch(t instanceof Error||typeof t=="object"&&t!==null||rr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Ng(t.message);case"MissingPDFException":return new Mg(t.message);case"PasswordException":return new cF(t.message,t.code);case"UnexpectedResponseException":return new wP(t.message,t.status);case"UnknownErrorException":return new dF(t.message,t.details);default:return new dF(t.message,t.toString())}}var Iu,Uie,Hie,FC;class mx{constructor(e,n,r){ie(this,Iu);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const o=i.data;if(o.targetName!==this.sourceName)return;if(o.stream){re(this,Iu,Hie).call(this,o);return}if(o.callback){const a=o.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],o.callback===JE.DATA)l.resolve(o.data);else if(o.callback===JE.ERROR)l.reject(Cs(o.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[o.action];if(!s)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const a=this.sourceName,l=o.sourceName;new Promise(function(u){u(s(o.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:JE.DATA,callbackId:o.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:JE.ERROR,callbackId:o.callbackId,reason:Cs(u)})});return}if(o.streamId){re(this,Iu,Uie).call(this,o);return}s(o.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,n,r,i){const o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[o]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[o].pullCall=c,l.postMessage({sourceName:s,targetName:a,stream:ei.PULL,streamId:o,desiredSize:u.desiredSize}),c.promise},cancel:u=>{_i(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[o].cancelCall=c,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:ei.CANCEL,streamId:o,reason:Cs(u)}),c.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Iu=new WeakSet,Uie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:ei.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:ei.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){_i(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:ei.ERROR,streamId:n,reason:Cs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:ei.START_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:r,targetName:i,stream:ei.START_COMPLETE,streamId:n,reason:Cs(u)})})},Hie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case ei.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Cs(e.reason));break;case ei.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Cs(e.reason));break;case ei.PULL:if(!a){o.postMessage({sourceName:r,targetName:i,stream:ei.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:ei.PULL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:ei.PULL_COMPLETE,streamId:n,reason:Cs(l)})});break;case ei.ENQUEUE:if(_i(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case ei.CLOSE:if(_i(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),re(this,Iu,FC).call(this,s,n);break;case ei.ERROR:_i(s,"error should have stream controller"),s.controller.error(Cs(e.reason)),re(this,Iu,FC).call(this,s,n);break;case ei.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Cs(e.reason)),re(this,Iu,FC).call(this,s,n);break;case ei.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,Cs(e.reason)))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:ei.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:ei.CANCEL_COMPLETE,streamId:n,reason:Cs(l)})}),a.sinkCapability.reject(Cs(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},FC=async function(e,n){var r,i,o;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var ap,d_;class Y8e{constructor({parsedData:e,rawData:n}){ie(this,ap);ie(this,d_);ne(this,ap,e),ne(this,d_,n)}getRaw(){return C(this,d_)}get(e){return C(this,ap).get(e)??null}getAll(){return D3(C(this,ap))}has(e){return C(this,ap).has(e)}}ap=new WeakMap,d_=new WeakMap;const Xd=Symbol("INTERNAL");var f_,h_,p_,Ky;class X8e{constructor(e,{name:n,intent:r,usage:i}){ie(this,f_,!1);ie(this,h_,!1);ie(this,p_,!1);ie(this,Ky,!0);ne(this,f_,!!(e&ca.DISPLAY)),ne(this,h_,!!(e&ca.PRINT)),this.name=n,this.intent=r,this.usage=i}get visible(){if(C(this,p_))return C(this,Ky);if(!C(this,Ky))return!1;const{print:e,view:n}=this.usage;return C(this,f_)?(n==null?void 0:n.viewState)!=="OFF":C(this,h_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Xd&&rr("Internal method `_setVisible` called."),ne(this,p_,r),ne(this,Ky,n)}}f_=new WeakMap,h_=new WeakMap,p_=new WeakMap,Ky=new WeakMap;var df,tr,Yy,Xy,g_,BF;class J8e{constructor(e,n=ca.DISPLAY){ie(this,g_);ie(this,df,null);ie(this,tr,new Map);ie(this,Yy,null);ie(this,Xy,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ne(this,Xy,e.order);for(const r of e.groups)C(this,tr).set(r.id,new X8e(n,r));if(e.baseState==="OFF")for(const r of C(this,tr).values())r._setVisible(Xd,!1);for(const r of e.on)C(this,tr).get(r)._setVisible(Xd,!0);for(const r of e.off)C(this,tr).get(r)._setVisible(Xd,!1);ne(this,Yy,this.getHash())}}isVisible(e){if(C(this,tr).size===0)return!0;if(!e)return xP("Optional content group not defined."),!0;if(e.type==="OCG")return C(this,tr).has(e.id)?C(this,tr).get(e.id).visible:(bn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return re(this,g_,BF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!C(this,tr).has(n))return bn(`Optional content group not found: ${n}`),!0;if(C(this,tr).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!C(this,tr).has(n))return bn(`Optional content group not found: ${n}`),!0;if(!C(this,tr).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!C(this,tr).has(n))return bn(`Optional content group not found: ${n}`),!0;if(!C(this,tr).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!C(this,tr).has(n))return bn(`Optional content group not found: ${n}`),!0;if(C(this,tr).get(n).visible)return!1}return!0}return bn(`Unknown optional content policy ${e.policy}.`),!0}return bn(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const r=C(this,tr).get(e);if(!r){bn(`Optional content group not found: ${e}`);return}r._setVisible(Xd,!!n,!0),ne(this,df,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const o=C(this,tr).get(i);if(o)switch(r){case"ON":o._setVisible(Xd,!0);break;case"OFF":o._setVisible(Xd,!1);break;case"Toggle":o._setVisible(Xd,!o.visible);break}}ne(this,df,null)}get hasInitialVisibility(){return C(this,Yy)===null||this.getHash()===C(this,Yy)}getOrder(){return C(this,tr).size?C(this,Xy)?C(this,Xy).slice():[...C(this,tr).keys()]:null}getGroups(){return C(this,tr).size>0?D3(C(this,tr)):null}getGroup(e){return C(this,tr).get(e)||null}getHash(){if(C(this,df)!==null)return C(this,df);const e=new $ie;for(const[n,r]of C(this,tr))e.update(`${n}:${r.visible}`);return ne(this,df,e.hexdigest())}}df=new WeakMap,tr=new WeakMap,Yy=new WeakMap,Xy=new WeakMap,g_=new WeakSet,BF=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const o=e[i];let s;if(Array.isArray(o))s=re(this,g_,BF).call(this,o);else if(C(this,tr).has(o))s=C(this,tr).get(o).visible;else return bn(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class Q8e{constructor(e,{disableRange:n=!1,disableStream:r=!1}){_i(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});_i(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,o;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){_i(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Z8e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new eWe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class Z8e{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=B3(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class eWe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function tWe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=a(n);return c=unescape(c),c=l(c),c=u(c),o(c)}if(n=s(t),n){const c=u(n);return o(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=a(n);return c=u(c),o(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(c,{fatal:!0}),p=_P(d);d=h.decode(p),e=!1}catch{}}return d}function o(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const d=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(c))!==null;){let[,y,x,w]=h;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[x,w]}const m=[];for(let y=0;y<d.length&&y in d;++y){let[x,w]=d[y];w=a(w),x&&(w=unescape(w),y===0&&(w=l(w))),m.push(w)}return m.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const h=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(h,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,x){return String.fromCharCode(parseInt(x,16))}),i(h,m);try{m=atob(m)}catch{}return i(h,m)})}return""}function U3({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*n)||r||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function H3(t){const e=t("Content-Disposition");if(e){let n=tWe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(B3(n))return n}return null}function AP(t,e){return t===404||t===0&&e.startsWith("file:")?new Mg('Missing PDF "'+e+'".'):new wP(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function qie(t){return t===200||t===206}function jie(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Wie(t){const e=new Headers;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Gie(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(bn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class tK{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return _i(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new nWe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new rWe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class nWe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=Wie(this._stream.httpHeaders);const r=n.url;fetch(r,jie(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!qie(i.status))throw AP(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=l=>i.headers.get(l),{allowRangeRequests:s,suggestedLength:a}=U3({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=H3(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ng("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Gie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class rWe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Wie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,jie(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!qie(s.status))throw AP(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Gie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const cD=200,dD=206;function iWe(t){const e=t.response;return typeof e!="string"?e:_P(e).buffer}class oWe{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const o in r)i[o]=r[o];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const s=this.httpHeaders[o];s!==void 0&&n.setRequestHeader(o,s)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=dD):i.expectedStatus=cD,n.responseType="arraybuffer",e.onError&&(n.onerror=function(o){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const o=i.status||cD;if(!(o===cD&&r.expectedStatus===dD)&&o!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=iWe(i);if(o===dD){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(h[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class sWe{constructor(e){this._source=e,this._manager=new oWe(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return _i(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new aWe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new lWe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class aWe{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=s=>n.getResponseHeader(s),{allowRangeRequests:i,suggestedLength:o}=U3({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=H3(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=AP(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lWe{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=AP(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Kie=/^file:\/\/\/[a-zA-Z]:\//;function uWe(t){const e=Fu.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class cWe{constructor(e){this.source=e,this.url=uWe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return _i(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new hWe(this):new dWe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new pWe(this,e,n):new fWe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Yie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ng("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Xie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function gA(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class dWe extends Yie{constructor(e){super(e);const n=r=>{if(r.statusCode===404){const a=new Mg(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=U3({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=H3(i)};if(this._request=null,this._url.protocol==="http:"){const r=Fu.get("http");this._request=r.request(gA(this._url,e.httpHeaders),n)}else{const r=Fu.get("https");this._request=r.request(gA(this._url,e.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class fWe extends Xie{constructor(e,n,r){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const s=e.httpHeaders[o];s!==void 0&&(this._httpHeaders[o]=s)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=o=>{if(o.statusCode===404){const s=new Mg(`Missing PDF "${this._url}".`);this._storedError=s;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=Fu.get("http");this._request=o.request(gA(this._url,this._httpHeaders),i)}else{const o=Fu.get("https");this._request=o.request(gA(this._url,this._httpHeaders),i)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class hWe extends Yie{constructor(e){super(e);let n=decodeURIComponent(this._url.path);Kie.test(this._url.href)&&(n=n.replace(/^\//,""));const r=Fu.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Mg(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class pWe extends Xie{constructor(e,n,r){super(e);let i=decodeURIComponent(this._url.path);Kie.test(this._url.href)&&(i=i.replace(/^\//,""));const o=Fu.get("fs");this._setReadableStream(o.createReadStream(i,{start:n,end:r-1}))}}const gWe=1e5,Jo=30,mWe=.8;var AX,ff,es,m_,y_,lp,Tc,v_,b_,up,Jy,Qy,hf,Zy,x_,ev,cp,w_,__,dp,fp,pf,tv,ad,Jie,Qie,VF,ku,$C,Zie,eoe;const co=class co{constructor({textContentSource:e,container:n,viewport:r}){ie(this,ad);ie(this,ff,Promise.withResolvers());ie(this,es,null);ie(this,m_,!1);ie(this,y_,!!((AX=globalThis.FontInspector)!=null&&AX.enabled));ie(this,lp,null);ie(this,Tc,null);ie(this,v_,0);ie(this,b_,0);ie(this,up,null);ie(this,Jy,null);ie(this,Qy,0);ie(this,hf,0);ie(this,Zy,Object.create(null));ie(this,x_,[]);ie(this,ev,null);ie(this,cp,[]);ie(this,w_,new WeakMap);ie(this,__,null);var l;if(e instanceof ReadableStream)ne(this,ev,e);else if(typeof e=="object")ne(this,ev,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');ne(this,es,ne(this,Jy,n)),ne(this,hf,r.scale*(globalThis.devicePixelRatio||1)),ne(this,Qy,r.rotation),ne(this,Tc,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=r.rawDims;ne(this,__,[1,0,0,-1,-s,a+o]),ne(this,b_,i),ne(this,v_,o),re(l=co,ku,Zie).call(l),lg(n,r),C(this,ff).promise.catch(()=>{}).then(()=>{C(co,tv).delete(this),ne(this,Tc,null),ne(this,Zy,null)})}render(){const e=()=>{C(this,up).read().then(({value:n,done:r})=>{if(r){C(this,ff).resolve();return}C(this,lp)??ne(this,lp,n.lang),Object.assign(C(this,Zy),n.styles),re(this,ad,Jie).call(this,n.items),e()},C(this,ff).reject)};return ne(this,up,C(this,ev).getReader()),C(co,tv).add(this),e(),C(this,ff).promise}update({viewport:e,onBefore:n=null}){var o;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==C(this,Qy)&&(n==null||n(),ne(this,Qy,i),lg(C(this,Jy),{rotation:i})),r!==C(this,hf)){n==null||n(),ne(this,hf,r);const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:re(o=co,ku,$C).call(o,C(this,lp))};for(const a of C(this,cp))s.properties=C(this,w_).get(a),s.div=a,re(this,ad,VF).call(this,s)}}cancel(){var n;const e=new Ng("TextLayer task cancelled.");(n=C(this,up))==null||n.cancel(e).catch(()=>{}),ne(this,up,null),C(this,ff).reject(e)}get textDivs(){return C(this,cp)}get textContentItemsStr(){return C(this,x_)}static cleanup(){if(!(C(this,tv).size>0)){C(this,dp).clear();for(const{canvas:e}of C(this,fp).values())e.remove();C(this,fp).clear()}}};ff=new WeakMap,es=new WeakMap,m_=new WeakMap,y_=new WeakMap,lp=new WeakMap,Tc=new WeakMap,v_=new WeakMap,b_=new WeakMap,up=new WeakMap,Jy=new WeakMap,Qy=new WeakMap,hf=new WeakMap,Zy=new WeakMap,x_=new WeakMap,ev=new WeakMap,cp=new WeakMap,w_=new WeakMap,__=new WeakMap,dp=new WeakMap,fp=new WeakMap,pf=new WeakMap,tv=new WeakMap,ad=new WeakSet,Jie=function(e){var i,o;if(C(this,m_))return;(o=C(this,Tc)).ctx??(o.ctx=re(i=co,ku,$C).call(i,C(this,lp)));const n=C(this,cp),r=C(this,x_);for(const s of e){if(n.length>gWe){bn("Ignoring additional textDivs for performance reasons."),ne(this,m_,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=C(this,es);ne(this,es,document.createElement("span")),C(this,es).classList.add("markedContent"),s.id!==null&&C(this,es).setAttribute("id",`${s.id}`),a.append(C(this,es))}else s.type==="endMarkedContent"&&ne(this,es,C(this,es).parentNode);continue}r.push(s.str),re(this,ad,Qie).call(this,s)}},Qie=function(e){var y;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};C(this,cp).push(n);const i=Mt.transform(C(this,__),e.transform);let o=Math.atan2(i[1],i[0]);const s=C(this,Zy)[e.fontName];s.vertical&&(o+=Math.PI/2);const a=C(this,y_)&&s.fontSubstitution||s.fontFamily,l=Math.hypot(i[2],i[3]),u=l*re(y=co,ku,eoe).call(y,a,C(this,lp));let c,d;o===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(o),d=i[5]-u*Math.cos(o));const h="calc(var(--scale-factor)*",p=n.style;C(this,es)===C(this,Jy)?(p.left=`${(100*c/C(this,b_)).toFixed(2)}%`,p.top=`${(100*d/C(this,v_)).toFixed(2)}%`):(p.left=`${h}${c.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${(C(co,pf)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,C(this,y_)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);x!==w&&Math.max(x,w)/Math.min(x,w)>1.5&&(m=!0)}if(m&&(r.canvasWidth=s.vertical?e.height:e.width),C(this,w_).set(n,r),C(this,Tc).div=n,C(this,Tc).properties=r,re(this,ad,VF).call(this,C(this,Tc)),r.hasText&&C(this,es).append(n),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),C(this,es).append(x)}},VF=function(e){const{div:n,properties:r,ctx:i,prevFontSize:o,prevFontFamily:s}=e,{style:a}=n;let l="";if(C(co,pf)>1&&(l=`scale(${1/C(co,pf)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:d}=r;(o!==d||s!==u)&&(i.font=`${d*C(this,hf)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:h}=i.measureText(n.textContent);h>0&&(l=`scaleX(${c*C(this,hf)/h}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},ku=new WeakSet,$C=function(e=null){let n=C(this,fp).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),C(this,fp).set(e,n)}return n},Zie=function(){if(C(this,pf)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),ne(this,pf,e.getBoundingClientRect().height),e.remove()},eoe=function(e,n){const r=C(this,dp).get(e);if(r)return r;const i=re(this,ku,$C).call(this,n),o=i.font;i.canvas.width=i.canvas.height=Jo,i.font=`${Jo}px ${e}`;const s=i.measureText("");let a=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(a){const d=a/(a+l);return C(this,dp).set(e,d),i.canvas.width=i.canvas.height=0,i.font=o,d}i.strokeStyle="red",i.clearRect(0,0,Jo,Jo),i.strokeText("g",0,0);let u=i.getImageData(0,0,Jo,Jo).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/Jo);break}i.clearRect(0,0,Jo,Jo),i.strokeText("A",0,Jo),u=i.getImageData(0,0,Jo,Jo).data,a=0;for(let d=0,h=u.length;d<h;d+=4)if(u[d]>0){a=Jo-Math.floor(d/4/Jo);break}i.canvas.width=i.canvas.height=0,i.font=o;const c=a?a/(a+l):mWe;return C(this,dp).set(e,c),c},ie(co,ku),ie(co,dp,new Map),ie(co,fp,new Map),ie(co,pf,null),ie(co,tv,new Set);let s0=co;function yWe(){fie("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&bn("Ignoring `renderTextLayer` parameters: "+i.join(", "));const o=new s0({textContentSource:t,container:e,viewport:n}),{textDivs:s,textContentItemsStr:a}=o;return{promise:o.render(),textDivs:s,textContentItemsStr:a}}function vWe(){fie("`updateTextLayer`, please use `TextLayer` instead.")}class Pw{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(o){var l;if(!o)return;let s=null;const a=o.name;if(a==="#text")s=o.value;else if(Pw.shouldBuildText(a))(l=o==null?void 0:o.attributes)!=null&&l.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&n.push({str:s}),!!o.children)for(const u of o.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const bWe=65536,xWe=100,wWe=5e3,_We=bo?N8e:x8e,SWe=bo?D8e:cie,EWe=bo?M8e:b8e,CWe=bo?L8e:die;function TWe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new zF,{docId:n}=e,r=t.url?AWe(t.url):null,i=t.data?RWe(t.data):null,o=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,l=t.range instanceof toe?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:bWe;let c=t.worker instanceof My?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!$3(t.docBaseUrl)?t.docBaseUrl:null,p=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,y=t.CMapReaderFactory||SWe,x=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,w=t.StandardFontDataFactory||CWe,E=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,k=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!bo,N=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,R=typeof t.disableFontFace=="boolean"?t.disableFontFace:bo,M=t.fontExtraProperties===!0,L=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,O=t.disableRange===!0,V=t.disableStream===!0,$=t.disableAutoFetch===!0,z=t.pdfBug===!0,W=t.enableHWA===!0,K=l?l.length:t.length??NaN,J=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!bo&&!R,Q=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:y===cie&&w===die&&p&&x&&hx(p,document.baseURI)&&hx(x,document.baseURI),X=t.canvasFactory||new _We({ownerDocument:I,enableHWA:W}),j=t.filterFactory||new EWe({docId:n,ownerDocument:I}),Y=null;l8e(d);const ue={canvasFactory:X,filterFactory:j};if(Q||(ue.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),ue.standardFontDataFactory=new w({baseUrl:x})),!c){const se={verbosity:d,port:Yc.workerPort};c=se.port?My.fromPort(se):new My(se),e._worker=c}const q={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:$,rangeChunkSize:u,length:K,docBaseUrl:h,enableXfa:L,evaluatorOptions:{maxImageSize:S,disableFontFace:R,ignoreErrors:E,isEvalSupported:T,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:N,fontExtraProperties:M,useSystemFonts:J,cMapUrl:Q?p:null,standardFontDataUrl:Q?x:null}},de={disableFontFace:R,fontExtraProperties:M,ownerDocument:I,pdfBug:z,styleElement:Y,loadingParams:{disableAutoFetch:$,enableXfa:L}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const se=c.messageHandler.sendWithPromise("GetDocRequest",q,i?[i.buffer]:null);let ee;if(l)ee=new Q8e(l,{disableRange:O,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ee=(te=>bo?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&hx(te.url)?new tK(te):new cWe(te):hx(te.url)?new tK(te):new sWe(te))({url:r,length:K,httpHeaders:o,withCredentials:s,rangeChunkSize:u,disableRange:O,disableStream:V})}return se.then(ae=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const te=new mx(n,ae,c.port),ce=new MWe(te,e,ee,de,ue);e._transport=ce,te.send("Ready",null)})}).catch(e._capability.reject),e}function AWe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(bo&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function RWe(t){if(bo&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return _P(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function nK(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var VA;const zA=class zA{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Es(zA,VA)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};VA=new WeakMap,ie(zA,VA,0);let zF=zA;class toe{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){rr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PWe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return On(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var gf,Ac,ga,py,BC;class IWe{constructor(e,n,r,i=!1){ie(this,ga);ie(this,gf,null);ie(this,Ac,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new UG:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new noe,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new V1({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return On(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=rf.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null}){var S,T;(S=this._stats)==null||S.time("Overall");const d=this._transport.getRenderingIntent(r,i,c),{renderingIntent:h,cacheKey:p}=d;ne(this,Ac,!1),re(this,ga,BC).call(this),a||(a=this._transport.getOptionalContentConfig(h));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(h&ca.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(d));const x=k=>{var N;m.renderTasks.delete(w),(this._maybeCleanupAfterRender||y)&&ne(this,Ac,!0),re(this,ga,py).call(this,!y),k?(w.capability.reject(k),this._abortOperatorList({intentState:m,reason:k instanceof Error?k:new Error(k)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new HF({callback:x,params:{canvasContext:e,viewport:n,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(w);const E=w.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([k,N])=>{var R;if(this.destroyed){x();return}if((R=this._stats)==null||R.time("Rendering"),!(N.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:k,optionalContentConfig:N}),w.operatorListChanged()}).catch(x),E}getOperatorList({intent:e="display",annotationMode:n=rf.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))}const o=this._transport.getRenderingIntent(e,n,r,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let a;return s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Pw.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function o(){s.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},i)}const s=n.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),ne(this,Ac,!1),re(this,ga,BC).call(this),Promise.all(e)}cleanup(e=!1){ne(this,Ac,!0);const n=re(this,ga,py).call(this,!1);return e&&n&&this._stats&&(this._stats=new UG),n}_startRenderPage(e,n){var i,o;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=r.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&re(this,ga,py).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:o}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},o).getReader(),l=this._intentStates.get(n);l.streamReader=a;const u=()=>{a.read().then(({value:c,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,l),u())},c=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();re(this,ga,py).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(c);else if(l.opListReadCapability)l.opListReadCapability.reject(c);else throw c}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof F3){let i=xWe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Ng(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}gf=new WeakMap,Ac=new WeakMap,ga=new WeakSet,py=function(e=!1){if(re(this,ga,BC).call(this),!C(this,Ac)||this.destroyed)return!1;if(e)return ne(this,gf,setTimeout(()=>{ne(this,gf,null),re(this,ga,py).call(this,!1)},wWe)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ne(this,Ac,!1),!0},BC=function(){C(this,gf)&&(clearTimeout(C(this,gf)),ne(this,gf,null))};var hp,UA;class kWe{constructor(){ie(this,hp,new Set);ie(this,UA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};C(this,UA).then(()=>{for(const i of C(this,hp))i.call(this,r)})}addEventListener(e,n){C(this,hp).add(n)}removeEventListener(e,n){C(this,hp).delete(n)}terminate(){C(this,hp).clear()}}hp=new WeakMap,UA=new WeakMap;const yc={isWorkerDisabled:!1,fakeWorkerId:0};bo&&(yc.isWorkerDisabled=!0,Yc.workerSrc||(Yc.workerSrc="./pdf.worker.mjs")),yc.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},yc.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var pp,nv,VC,rv,zC;const Rs=class Rs{constructor({name:e=null,port:n=null,verbosity:r=u8e()}={}){ie(this,nv);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=C(Rs,pp))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(C(Rs,pp)||ne(Rs,pp,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return bo?Promise.all([Fu.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new mx("main","worker",e),this._messageHandler.on("ready",function(){}),re(this,nv,VC).call(this)}_initialize(){if(yc.isWorkerDisabled||C(Rs,rv,zC)){this._setupFakeWorker();return}let{workerSrc:e}=Rs;try{yc.isSameOrigin(window.location.href,e)||(e=yc.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new mx("main","worker",n),i=()=>{o.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),r.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,re(this,nv,VC).call(this)}),r.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{xP("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){yc.isWorkerDisabled||(bn("Setting up fake worker."),yc.isWorkerDisabled=!0),Rs._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new kWe;this._port=n;const r=`fake${yc.fakeWorkerId++}`,i=new mx(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new mx(r,r+"_worker",n),re(this,nv,VC).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=C(Rs,pp))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=C(this,pp))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Rs(e)}static get workerSrc(){if(Yc.workerSrc)return Yc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return On(this,"_setupFakeWorkerGlobal",(async()=>C(this,rv,zC)?C(this,rv,zC):(await import(this.workerSrc)).WorkerMessageHandler)())}};pp=new WeakMap,nv=new WeakSet,VC=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},rv=new WeakSet,zC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ie(Rs,rv),ie(Rs,pp);let My=Rs;var Rc,nu,iv,ov,ru,gp,yx;class MWe{constructor(e,n,r,i,o){ie(this,gp);ie(this,Rc,new Map);ie(this,nu,new Map);ie(this,iv,new Map);ie(this,ov,new Map);ie(this,ru,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new noe,this.fontLoader=new I8e({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return On(this,"annotationStorage",new z3)}getRenderingIntent(e,n=rf.ENABLE,r=null,i=!1){let o=ca.DISPLAY,s=NF;switch(e){case"any":o=ca.ANY;break;case"display":break;case"print":o=ca.PRINT;break;default:bn(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case rf.DISABLE:o+=ca.ANNOTATIONS_DISABLE;break;case rf.ENABLE:break;case rf.ENABLE_FORMS:o+=ca.ANNOTATIONS_FORMS;break;case rf.ENABLE_STORAGE:o+=ca.ANNOTATIONS_STORAGE,s=(o&ca.PRINT&&r instanceof Vie?r:this.annotationStorage).serializable;break;default:bn(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(o+=ca.OPLIST),{renderingIntent:o,cacheKey:`${o}_${s.hash}`,annotationStorageSerializable:s}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=C(this,ru))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of C(this,nu).values())e.push(i._destroy());C(this,nu).clear(),C(this,iv).clear(),C(this,ov).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),C(this,Rc).clear(),this.filterFactory.destroy(),s0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ng("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{_i(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}_i(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var s;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((s=n.onProgress)==null||s.call(n,this._lastProgress)),o.onProgress=a=>{var l;(l=n.onProgress)==null||l.call(n,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{_i(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}_i(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PWe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new cF(r.message,r.code);break;case"InvalidPDFException":i=new sie(r.message);break;case"MissingPDFException":i=new Mg(r.message);break;case"UnexpectedResponseException":i=new wP(r.message,r.status);break;case"UnknownErrorException":i=new dF(r.message,r.details);break;default:rr("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(ne(this,ru,Promise.withResolvers()),n.onPassword){const i=o=>{o instanceof Error?C(this,ru).reject(o):C(this,ru).resolve({password:o})};try{n.onPassword(i,r.code)}catch(o){C(this,ru).reject(o)}}else C(this,ru).reject(new cF(r.message,r.code));return C(this,ru).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;C(this,nu).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in o){const p=o.error;bn(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new k8e(o,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=o;_i(h,"The imageRef must be defined.");for(const p of C(this,nu).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,s])=>{var l;if(this.destroyed)return;const a=C(this,nu).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(o){case"Image":a.objs.resolve(r,s),(s==null?void 0:s.dataLen)>i8e&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&bn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=C(this,iv).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&C(this,ov).set(o.refStr,e);const s=new IWe(n,o,this,this._params.pdfBug);return C(this,nu).set(n,s),s});return C(this,iv).set(n,i),i}getPageIndex(e){return nK(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return re(this,gp,yx).call(this,"GetFieldObjects")}hasJSActions(){return re(this,gp,yx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return re(this,gp,yx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return re(this,gp,yx).call(this,"GetOptionalContentConfig").then(n=>new J8e(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=C(this,Rc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var o,s;return{info:i[0],metadata:i[1]?new Y8e(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return C(this,Rc).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of C(this,nu).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),C(this,Rc).clear(),this.filterFactory.destroy(!0),s0.cleanup()}}cachedPageNumber(e){if(!nK(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return C(this,ov).get(n)??null}}Rc=new WeakMap,nu=new WeakMap,iv=new WeakMap,ov=new WeakMap,ru=new WeakMap,gp=new WeakSet,yx=function(e,n=null){const r=C(this,Rc).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return C(this,Rc).set(e,i),i};const QE=Symbol("INITIAL_DATA");var Za,S_,UF;class noe{constructor(){ie(this,S_);ie(this,Za,Object.create(null))}get(e,n=null){if(n){const i=re(this,S_,UF).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=C(this,Za)[e];if(!r||r.data===QE)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=C(this,Za)[e];return!!n&&n.data!==QE}resolve(e,n=null){const r=re(this,S_,UF).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in C(this,Za)){const{data:r}=C(this,Za)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}ne(this,Za,Object.create(null))}*[Symbol.iterator](){for(const e in C(this,Za)){const{data:n}=C(this,Za)[e];n!==QE&&(yield[e,n])}}}Za=new WeakMap,S_=new WeakSet,UF=function(e){var n;return(n=C(this,Za))[e]||(n[e]={...Promise.withResolvers(),data:QE})};var mf;class NWe{constructor(e){ie(this,mf,null);ne(this,mf,e),this.onContinue=null}get promise(){return C(this,mf).capability.promise}cancel(e=0){C(this,mf).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=C(this,mf).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=C(this,mf);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}mf=new WeakMap;var yf,mp;const $h=class $h{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:h=null}){ie(this,yf,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new NWe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(C($h,mp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");C($h,mp).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new ky(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),C(this,yf)&&(window.cancelAnimationFrame(C(this,yf)),ne(this,yf,null)),C($h,mp).delete(this._canvas),this.callback(e||new F3(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ne(this,yf,window.requestAnimationFrame(()=>{ne(this,yf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),C($h,mp).delete(this._canvas),this.callback())))}};yf=new WeakMap,mp=new WeakMap,ie($h,mp,new WeakSet);let HF=$h;const DWe="4.4.168",LWe="19fbc8998";function rK(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Nb(t){return Math.max(0,Math.min(255,255*t))}class iK{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nb(e),[e,e,e]}static G_HTML([e]){const n=rK(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Nb)}static RGB_HTML(e){return`#${e.map(rK).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Nb(1-Math.min(1,e+i)),Nb(1-Math.min(1,r+i)),Nb(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,o=1-n,s=1-r,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}}class roe{static setupStorage(e,n,r,i,o){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:o}){const{attributes:s}=n,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&o.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var d,h;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});const a=o!=="richText",l=e.div;if(l.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),a&&Pw.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[p,m,y]=c.at(-1);if(m+1===p.children.length){c.pop();continue}const x=p.children[++c.at(-1)[1]];if(x===null)continue;const{name:w}=x;if(w==="#text"){const S=document.createTextNode(x.value);u.push(S),y.append(S);continue}const E=(d=x==null?void 0:x.attributes)!=null&&d.xmlns?document.createElementNS(x.attributes.xmlns,w):document.createElement(w);if(y.append(E),x.attributes&&this.setAttributes({html:E,element:x,storage:n,intent:o,linkService:r}),((h=x.children)==null?void 0:h.length)>0)c.push([x,-1,E]);else if(x.value){const S=document.createTextNode(x.value);a&&Pw.shouldBuildText(w)&&u.push(S),E.append(S)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const H1=1e3,OWe=9,cg=new WeakSet;function Xc(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class FWe{static create(e){switch(e.data.annotationType){case gi.LINK:return new ioe(e);case gi.TEXT:return new $We(e);case gi.WIDGET:switch(e.data.fieldType){case"Tx":return new BWe(e);case"Btn":return e.data.radioButton?new aoe(e):e.data.checkBox?new zWe(e):new UWe(e);case"Ch":return new HWe(e);case"Sig":return new VWe(e)}return new Dg(e);case gi.POPUP:return new jF(e);case gi.FREETEXT:return new foe(e);case gi.LINE:return new jWe(e);case gi.SQUARE:return new WWe(e);case gi.CIRCLE:return new GWe(e);case gi.POLYLINE:return new hoe(e);case gi.CARET:return new YWe(e);case gi.INK:return new poe(e);case gi.POLYGON:return new KWe(e);case gi.HIGHLIGHT:return new XWe(e);case gi.UNDERLINE:return new JWe(e);case gi.SQUIGGLY:return new QWe(e);case gi.STRIKEOUT:return new ZWe(e);case gi.STAMP:return new goe(e);case gi.FILEATTACHMENT:return new e7e(e);default:return new Yr(e)}}}var yp,sv,av,E_,qF;const bB=class bB{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ie(this,E_);ie(this,yp,null);ie(this,sv,!1);ie(this,av,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get hasPopupData(){return bB._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;C(this,yp)||ne(this,yp,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&re(this,E_,qF).call(this,n),(r=C(this,av))==null||r.popup.updateEdited(e)}resetEdited(){var e;C(this,yp)&&(re(this,E_,qF).call(this,C(this,yp).rect),(e=C(this,av))==null||e.popup.resetEdited(),ne(this,yp,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),this instanceof Dg||(o.tabIndex=H1);const{style:s}=o;if(s.zIndex=this.parent.zIndex++,n.popupRef&&o.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof jF){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,o),o}const{width:a,height:l}=Xc(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,x=n.borderStyle.verticalCornerRadius;if(y>0||x>0){const E=`calc(${y}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;s.borderRadius=E}else if(this instanceof aoe){const E=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=E}switch(n.borderStyle.style){case kb.SOLID:s.borderStyle="solid";break;case kb.DASHED:s.borderStyle="dashed";break;case kb.BEVELED:bn("Unimplemented border style: beveled");break;case kb.INSET:bn("Unimplemented border style: inset");break;case kb.UNDERLINE:s.borderBottomStyle="solid";break}const w=n.borderColor||null;w?(ne(this,sv,!0),s.borderColor=Mt.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):s.borderWidth=0}const u=Mt.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:p}=i.rawDims;s.left=`${100*(u[0]-h)/c}%`,s.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(s.width=`${100*a/c}%`,s.height=`${100*l/d}%`):this.setRotation(m,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=Xc(this.data.rect);let a,l;e%180===0?(a=100*o/r,l=100*s/i):(a=100*s/r,l=100*o/i),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const o=i.detail[n],s=o[0],a=o.slice(1);i.target.style[r]=iK[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:iK[`${s}_rgb`](a)})};return On(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const o=e[i]||r[i];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,o]of Object.entries(n)){const s=r[i];if(s){const a={detail:{[i]:o},target:e};s(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,o]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,x,w,E]=e.subarray(2,6);if(i===y&&o===x&&n===w&&r===E)return}const{style:s}=this.container;let a;if(C(this,sv)){const{borderColor:y,borderWidth:x}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=i-n,u=o-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const p=c.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let y=2,x=e.length;y<x;y+=8){const w=e[y],E=e[y+1],S=e[y+2],T=e[y+3],k=c.createElement("rect"),N=(S-n)/l,R=(o-E)/u,M=(w-S)/l,L=(E-T)/u;k.setAttribute("x",N),k.setAttribute("y",R),k.setAttribute("width",M),k.setAttribute("height",L),p.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${R}" width="${M}" height="${L}"/>`)}C(this,sv)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const r=ne(this,av,new jF({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){rr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:o,id:s,exportValues:a}of i){if(o===-1||s===n)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!cg.has(u)){bn(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==n&&cg.has(i)&&r.push({id:s,exportValue:o,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};yp=new WeakMap,sv=new WeakMap,av=new WeakMap,E_=new WeakSet,qF=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Xc(e);n.left=`${100*(e[0]-a)/o}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/o}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let Yr=bB;var $s,Nh,ooe,soe;class ioe extends Yr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ie(this,$s);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action),o=!0):n.attachment?(re(this,$s,ooe).call(this,i,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(re(this,$s,soe).call(this,i,n.setOCGState),o=!0):n.dest?(this._bindLink(i,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&re(this,$s,Nh).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),re(this,$s,Nh).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(r.actions)){const s=i.get(o);s&&(n[s]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:o}}),!1})}n.onclick||(n.onclick=()=>!1),re(this,$s,Nh).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),re(this,$s,Nh).call(this),!this._fieldObjects){bn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:o,refs:s,include:a}=r,l=[];if(o.length!==0||s.length!==0){const h=new Set(s);for(const p of o){const m=this._fieldObjects[p]||[];for(const{id:y}of m)h.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)h.has(m.id)===a&&l.push(m)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,c=[];for(const h of l){const{id:p}=h;switch(c.push(p),h.type){case"text":{const y=h.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!cg.has(m)){bn(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}$s=new WeakSet,Nh=function(){this.container.setAttribute("data-internal-link","")},ooe=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,i),!1},re(this,$s,Nh).call(this)},soe=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),re(this,$s,Nh).call(this)};class $We extends Yr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Dg extends Yr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return os.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,o){r.includes("mouse")?e.addEventListener(r,s=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var a;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}o&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}}))})}_setEventListeners(e,n,r,i){var o,s,a;for(const[l,u]of r)(u==="Action"||(o=this.data.actions)!=null&&o[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Mt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||OWe,o=e.style;let s;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(sD*i))||1,d=u/c;s=Math.min(i,l(d/sD))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,l(u/sD))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=Mt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class BWe extends Dg{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const o=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),o.setValue(s.id,{[i]:r})}render(){var i,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let a=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),cg.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=H1,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(n,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";r.value=c.userValue=p,c.formattedValue=null});let d=h=>{const{formattedValue:p}=c;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(c.focused)return;const{target:m}=p;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){c.userValue=y.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),y.target.value=c.userValue},formattedValue(y){const{formattedValue:x}=y.detail;c.formattedValue=x,x!=null&&y.target!==document.activeElement&&(y.target.value=x),e.setValue(n,{formattedValue:x})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var S;const{charLimit:x}=y.detail,{target:w}=y;if(x===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",x);let E=c.userValue;!E||E.length<=x||(E=E.slice(0,x),w.value=c.userValue=E,e.setValue(n,{value:E}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var x;c.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:y}=p.target;c.lastCommittedValue!==y&&(c.lastCommittedValue=y,c.userValue=y,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,r.addEventListener("blur",p=>{var y,x;if(!c.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(c.focused=!1);const{value:m}=p.target;c.userValue=m,c.lastCommittedValue!==m&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(o=this.data.actions)!=null&&o.Keystroke&&r.addEventListener("beforeinput",p=>{var k;c.lastCommittedValue=null;const{data:m,target:y}=p,{value:x,selectionStart:w,selectionEnd:E}=y;let S=w,T=E;switch(p.inputType){case"deleteWordBackward":{const N=x.substring(0,w).match(/\w*[^\w]*$/);N&&(S-=N[0].length);break}case"deleteWordForward":{const N=x.substring(w).match(/^[^\w]*\w*/);N&&(T+=N[0].length);break}case"deleteContentBackward":w===E&&(S-=1);break;case"deleteContentForward":w===E&&(T+=1);break}p.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,change:m||"",willCommit:!1,selStart:S,selEnd:T}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class VWe extends Dg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class zWe extends Dg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return cg.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=H1,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue||"Off";s.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class aoe extends Dg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const o=document.createElement("input");if(cg.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=H1,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue;s.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;o.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=s===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const h=c&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class UWe extends ioe{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class HWe extends Dg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");cg.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=H1;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),o=!1),i.append(d)}let s=null;if(o){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=c=>{const d=c?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,m=>m.selected).map(m=>m[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(h){s==null||s();const p=h.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,m=h.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,x=>x.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(h){const{index:p,displayValue:m,exportValue:y}=h.detail.insert,x=i.children[p],w=document.createElement("option");w.textContent=m,w.value=y,x?x.before(w):i.append(w),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:x}=m,w=document.createElement("option");w.textContent=y,w.value=x,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},indices(h){const p=new Set(h.detail.indices);for(const m of h.target.options)m.selected=p.has(m.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var p;const d=a(!0),h=a(!1);e.setValue(n,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class jF extends Yr{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Yr._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new qWe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${lie}${r}`).join(",")),this.container}}var lv,HA,qA,uv,vp,$r,Pc,bp,C_,T_,cv,Ic,el,kc,A_,Mc,R_,xp,wp,ir,UC,WF,loe,uoe,coe,doe,HC,qC,GF;class qWe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:u,parentRect:c,open:d}){ie(this,ir);ie(this,lv,re(this,ir,coe).bind(this));ie(this,HA,re(this,ir,GF).bind(this));ie(this,qA,re(this,ir,qC).bind(this));ie(this,uv,re(this,ir,HC).bind(this));ie(this,vp,null);ie(this,$r,null);ie(this,Pc,null);ie(this,bp,null);ie(this,C_,null);ie(this,T_,null);ie(this,cv,null);ie(this,Ic,!1);ie(this,el,null);ie(this,kc,null);ie(this,A_,null);ie(this,Mc,null);ie(this,R_,null);ie(this,xp,null);ie(this,wp,!1);var h;ne(this,$r,e),ne(this,R_,i),ne(this,Pc,s),ne(this,Mc,a),ne(this,T_,l),ne(this,vp,n),ne(this,A_,u),ne(this,cv,c),ne(this,C_,r),ne(this,bp,hie.toDateObject(o)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",C(this,uv)),p.addEventListener("mouseenter",C(this,qA)),p.addEventListener("mouseleave",C(this,HA)),p.classList.add("popupTriggerArea");for(const p of r)(h=p.container)==null||h.addEventListener("keydown",C(this,lv));C(this,$r).hidden=!0,d&&re(this,ir,HC).call(this)}render(){if(C(this,el))return;const e=ne(this,el,document.createElement("div"));if(e.className="popup",C(this,vp)){const o=e.style.outlineColor=Mt.makeHexColor(...C(this,vp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Mt.makeHexColor(...C(this,vp).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=C(this,R_),e.append(n),C(this,bp)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:C(this,bp).toLocaleDateString(),time:C(this,bp).toLocaleTimeString()})),n.append(o)}const i=C(this,ir,UC);if(i)roe.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(C(this,Pc));e.append(o)}C(this,$r).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){const a=i[o];r.append(document.createTextNode(a)),o<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;C(this,xp)||ne(this,xp,{contentsObj:C(this,Pc),richText:C(this,Mc)}),e&&ne(this,kc,null),n&&(ne(this,Mc,re(this,ir,uoe).call(this,n)),ne(this,Pc,null)),(r=C(this,el))==null||r.remove(),ne(this,el,null)}resetEdited(){var e;C(this,xp)&&({contentsObj:Es(this,Pc)._,richText:Es(this,Mc)._}=C(this,xp),ne(this,xp,null),(e=C(this,el))==null||e.remove(),ne(this,el,null),ne(this,kc,null))}forceHide(){ne(this,wp,this.isVisible),C(this,wp)&&(C(this,$r).hidden=!0)}maybeShow(){C(this,wp)&&(C(this,el)||re(this,ir,qC).call(this),ne(this,wp,!1),C(this,$r).hidden=!1)}get isVisible(){return C(this,$r).hidden===!1}}lv=new WeakMap,HA=new WeakMap,qA=new WeakMap,uv=new WeakMap,vp=new WeakMap,$r=new WeakMap,Pc=new WeakMap,bp=new WeakMap,C_=new WeakMap,T_=new WeakMap,cv=new WeakMap,Ic=new WeakMap,el=new WeakMap,kc=new WeakMap,A_=new WeakMap,Mc=new WeakMap,R_=new WeakMap,xp=new WeakMap,wp=new WeakMap,ir=new WeakSet,UC=function(){const e=C(this,Mc),n=C(this,Pc);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&C(this,Mc).html||null},WF=function(){var e,n,r;return((r=(n=(e=C(this,ir,UC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},loe=function(){var e,n,r;return((r=(n=(e=C(this,ir,UC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},uoe=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:C(this,ir,loe),fontSize:C(this,ir,WF)?`calc(${C(this,ir,WF)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:i});return r},coe=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&C(this,Ic))&&re(this,ir,HC).call(this)},doe=function(){if(C(this,kc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}}=C(this,T_);let s=!!C(this,cv),a=s?C(this,cv):C(this,A_);for(const m of C(this,C_))if(!a||Mt.intersect(m.data.rect,a)!==null){a=m.data.rect,s=!0;break}const l=Mt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=s?a[2]-a[0]+5:0,d=l[0]+c,h=l[1];ne(this,kc,[100*(d-i)/n,100*(h-o)/r]);const{style:p}=C(this,$r);p.left=`${C(this,kc)[0]}%`,p.top=`${C(this,kc)[1]}%`},HC=function(){ne(this,Ic,!C(this,Ic)),C(this,Ic)?(re(this,ir,qC).call(this),C(this,$r).addEventListener("click",C(this,uv)),C(this,$r).addEventListener("keydown",C(this,lv))):(re(this,ir,GF).call(this),C(this,$r).removeEventListener("click",C(this,uv)),C(this,$r).removeEventListener("keydown",C(this,lv)))},qC=function(){C(this,el)||this.render(),this.isVisible?C(this,Ic)&&C(this,$r).classList.add("focused"):(re(this,ir,doe).call(this),C(this,$r).hidden=!1,C(this,$r).style.zIndex=parseInt(C(this,$r).style.zIndex)+1e3)},GF=function(){C(this,$r).classList.remove("focused"),!(C(this,Ic)||!this.isVisible)&&(C(this,$r).hidden=!0,C(this,$r).style.zIndex=parseInt(C(this,$r).style.zIndex)-1e3)};class foe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Nn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var P_;class jWe extends Yr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,P_,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Xc(n.rect),o=this.svgFactory.create(r,i,!0),s=ne(this,P_,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,P_)}addHighlightArea(){this.container.classList.add("highlightArea")}}P_=new WeakMap;var I_;class WWe extends Yr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,I_,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Xc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ne(this,I_,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",r-s),a.setAttribute("height",i-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,I_)}addHighlightArea(){this.container.classList.add("highlightArea")}}I_=new WeakMap;var k_;class GWe extends Yr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,k_,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Xc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ne(this,k_,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-s/2),a.setAttribute("ry",i/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,k_)}addHighlightArea(){this.container.classList.add("highlightArea")}}k_=new WeakMap;var M_;class hoe extends Yr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,M_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:o}}=this;if(!r)return this.container;const{width:s,height:a}=Xc(n),l=this.svgFactory.create(s,a,!0);let u=[];for(let d=0,h=r.length;d<h;d+=2){const p=r[d]-n[0],m=n[3]-r[d+1];u.push(`${p},${m}`)}u=u.join(" ");const c=ne(this,M_,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,M_)}addHighlightArea(){this.container.classList.add("highlightArea")}}M_=new WeakMap;class KWe extends hoe{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YWe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var N_;class poe extends Yr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,N_,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Nn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:o}}=this,{width:s,height:a}=Xc(n),l=this.svgFactory.create(s,a,!0);for(const u of r){let c=[];for(let h=0,p=u.length;h<p;h+=2){const m=u[h]-n[0],y=n[3]-u[h+1];c.push(`${m},${y}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);C(this,N_).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return C(this,N_)}addHighlightArea(){this.container.classList.add("highlightArea")}}N_=new WeakMap;class XWe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class JWe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class QWe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ZWe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class goe extends Yr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var D_,L_,KF;class e7e extends Yr{constructor(n){var i;super(n,{isRenderable:!0});ie(this,L_);ie(this,D_,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",re(this,L_,KF).bind(this)),ne(this,D_,i);const{isMac:o}=os.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(o?s.metaKey:s.ctrlKey)&&re(this,L_,KF).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return C(this,D_)}addHighlightArea(){this.container.classList.add("highlightArea")}}D_=new WeakMap,L_=new WeakSet,KF=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var O_,_p,dv,fg,moe,YF;class t7e{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:s}){ie(this,fg);ie(this,O_,null);ie(this,_p,null);ie(this,dv,new Map);this.div=e,ne(this,O_,n),ne(this,_p,r),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var s;const{annotations:n}=e,r=this.div;lg(r,this.viewport);const i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new O3,annotationStorage:e.annotationStorage||new z3,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===gi.POPUP;if(l){const d=i.get(a.id);if(!d)continue;o.elements=d}else{const{width:d,height:h}=Xc(a.rect);if(d<=0||h<=0)continue}o.data=a;const u=FWe.create(o);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(u):i.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),re(this,fg,moe).call(this,c,a.id),u.annotationEditorType>0&&(C(this,dv).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}re(this,fg,YF).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,lg(n,{rotation:e.rotation}),re(this,fg,YF).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(C(this,dv).values())}getEditableAnnotation(e){return C(this,dv).get(e)}}O_=new WeakMap,_p=new WeakMap,dv=new WeakMap,fg=new WeakSet,moe=function(e,n){var i;const r=e.firstChild||e;r.id=`${lie}${n}`,this.div.append(e),(i=C(this,O_))==null||i.moveElementInDOM(this.div,e,r,!1)},YF=function(){if(!C(this,_p))return;const e=this.div;for(const[n,r]of C(this,_p)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r)}C(this,_p).clear()};const ZE=/\r\n?|\n/g;var F_,$_,B_,V_,z_,tl,Ms,U_,Ns,fv,ui,yoe,voe,boe,jC,Qc,WC,GC,xoe,JF,woe;const dr=class dr extends Jn{constructor(n){super({...n,name:"freeTextEditor"});ie(this,ui);ie(this,F_,this.editorDivBlur.bind(this));ie(this,$_,this.editorDivFocus.bind(this));ie(this,B_,this.editorDivInput.bind(this));ie(this,V_,this.editorDivKeydown.bind(this));ie(this,z_,this.editorDivPaste.bind(this));ie(this,tl);ie(this,Ms,"");ie(this,U_,`${this.id}-editor`);ie(this,Ns);ie(this,fv,null);ne(this,tl,n.color||dr._defaultColor||Jn._defaultLineColor),ne(this,Ns,n.fontSize||dr._defaultFontSize)}static get _keyboardManager(){const n=dr.prototype,r=s=>s.isEmpty(),i=ug.TRANSLATE_SMALL,o=ug.TRANSLATE_BIG;return On(this,"_keyboardManager",new z1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}]]))}static initialize(n,r){Jn.initialize(n,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case on.FREETEXT_SIZE:dr._defaultFontSize=r;break;case on.FREETEXT_COLOR:dr._defaultColor=r;break}}updateParams(n,r){switch(n){case on.FREETEXT_SIZE:re(this,ui,yoe).call(this,r);break;case on.FREETEXT_COLOR:re(this,ui,voe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[on.FREETEXT_SIZE,dr._defaultFontSize],[on.FREETEXT_COLOR,dr._defaultColor||Jn._defaultLineColor]]}get propertiesToUpdate(){return[[on.FREETEXT_SIZE,C(this,Ns)],[on.FREETEXT_COLOR,C(this,tl)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-dr._internalPadding*n,-(dr._internalPadding+C(this,Ns))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",C(this,V_),{signal:n}),this.editorDiv.addEventListener("focus",C(this,$_),{signal:n}),this.editorDiv.addEventListener("blur",C(this,F_),{signal:n}),this.editorDiv.addEventListener("input",C(this,B_),{signal:n}),this.editorDiv.addEventListener("paste",C(this,z_),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",C(this,U_)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",C(this,V_)),this.editorDiv.removeEventListener("focus",C(this,$_)),this.editorDiv.removeEventListener("blur",C(this,F_)),this.editorDiv.removeEventListener("input",C(this,B_)),this.editorDiv.removeEventListener("paste",C(this,z_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=C(this,Ms),r=ne(this,Ms,re(this,ui,boe).call(this).trimEnd());if(n===r)return;const i=o=>{if(ne(this,Ms,o),!o){this.remove();return}re(this,ui,GC).call(this),this._uiManager.rebuild(this),re(this,ui,jC).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),re(this,ui,jC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){dr._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",C(this,U_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Jn._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var s;return(s=this.editorDiv)==null?void 0:s.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${C(this,Ns)}px * var(--scale-factor))`,i.color=C(this,tl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),hA(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=C(this,fv);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[h,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=n+(a[0]-h)/c,y=r+this.height-(a[1]-p)/d;break;case 90:m=n+(a[0]-h)/c,y=r-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(a[0]-h)/c,y=r-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:m=n+(a[0]-h-this.height*d)/c,y=r+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*o,y*s,l,u)}else this.setAt(n*o,r*s,this.width*o,this.height*s);re(this,ui,GC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,y,x;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const o=re(m=dr,Qc,JF).call(m,r.getData("text")||"").replaceAll(ZE,`
`);if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!o.includes(`
`)){a.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const w=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(ZE,"")),w!==this.editorDiv){let E=c;for(const S of this.editorDiv.childNodes){if(S===w){E=d;continue}E.push(re(y=dr,Qc,WC).call(y,S))}}c.push(l.nodeValue.slice(0,u).replaceAll(ZE,""))}else if(l===this.editorDiv){let w=c,E=0;for(const S of this.editorDiv.childNodes)E++===u&&(w=d),w.push(re(x=dr,Qc,WC).call(x,S))}ne(this,Ms,`${c.join(`
`)}${o}${d.join(`
`)}`),re(this,ui,GC).call(this);const h=new Range;let p=c.reduce((w,E)=>w+E.length,0);for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const E=w.nodeValue.length;if(p<=E){h.setStart(w,p),h.setEnd(w,p);break}p-=E}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(n,r,i){var a;let o=null;if(n instanceof foe){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:h},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=n;if(!p||p.length===0)return null;o=n={annotationType:Nn.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:c.slice(0),rotation:d,id:h,deleted:!1}}const s=super.deserialize(n,r,i);return ne(s,Ns,n.fontSize),ne(s,tl,Mt.makeHexColor(...n.color)),ne(s,Ms,re(a=dr,Qc,JF).call(a,n.value)),s.annotationElementId=n.id||null,ne(s,fv,o),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=dr._internalPadding*this.parentScale,i=this.getRect(r,r),o=Jn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:C(this,tl)),s={annotationType:Nn.FREETEXT,color:o,fontSize:C(this,Ns),value:re(this,ui,xoe).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!re(this,ui,woe).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${C(this,Ns)}px * var(--scale-factor))`,i.color=C(this,tl),r.replaceChildren();for(const s of C(this,Ms).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}const o=dr._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:C(this,Ms)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};F_=new WeakMap,$_=new WeakMap,B_=new WeakMap,V_=new WeakMap,z_=new WeakMap,tl=new WeakMap,Ms=new WeakMap,U_=new WeakMap,Ns=new WeakMap,fv=new WeakMap,ui=new WeakSet,yoe=function(n){const r=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-C(this,Ns))*this.parentScale),ne(this,Ns,o),re(this,ui,jC).call(this)},i=C(this,Ns);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},voe=function(n){const r=o=>{ne(this,tl,this.editorDiv.style.color=o)},i=C(this,tl);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},boe=function(){var r;const n=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)n.push(re(r=dr,Qc,WC).call(r,i));return n.join(`
`)},jC=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,a=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Qc=new WeakSet,WC=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(ZE,"")},GC=function(){if(this.editorDiv.replaceChildren(),!!C(this,Ms))for(const n of C(this,Ms).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},xoe=function(){return C(this,Ms).replaceAll(" "," ")},JF=function(n){return n.replaceAll(" "," ")},woe=function(n){const{value:r,fontSize:i,color:o,pageIndex:s}=C(this,fv);return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,l)=>a!==o[l])||n.pageIndex!==s},ie(dr,Qc),vt(dr,"_freeTextDefaultContent",""),vt(dr,"_internalPadding",0),vt(dr,"_defaultColor",null),vt(dr,"_defaultFontSize",10),vt(dr,"_type","freetext"),vt(dr,"_editorType",Nn.FREETEXT);let XF=dr;var H_,vf,nl,Fo,_oe,KC,Soe,Eoe,ZF;class QF{constructor(e,n=0,r=0,i=!0){ie(this,Fo);ie(this,H_);ie(this,vf,[]);ie(this,nl,[]);let o=1/0,s=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x,y:w,width:E,height:S}of e){const T=Math.floor((x-n)/u)*u,k=Math.ceil((x+E+n)/u)*u,N=Math.floor((w-n)/u)*u,R=Math.ceil((w+S+n)/u)*u,M=[T,N,R,!0],L=[k,N,R,!1];C(this,vf).push(M,L),o=Math.min(o,T),s=Math.max(s,k),a=Math.min(a,N),l=Math.max(l,R)}const c=s-o+2*r,d=l-a+2*r,h=o-r,p=a-r,m=C(this,vf).at(i?-1:-2),y=[m[0],m[2]];for(const x of C(this,vf)){const[w,E,S]=x;x[0]=(w-h)/c,x[1]=(E-p)/d,x[2]=(S-p)/d}ne(this,H_,{x:h,y:p,width:c,height:d,lastPoint:y})}getOutlines(){C(this,vf).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of C(this,vf))n[3]?(e.push(...re(this,Fo,ZF).call(this,n)),re(this,Fo,Soe).call(this,n)):(re(this,Fo,Eoe).call(this,n),e.push(...re(this,Fo,ZF).call(this,n)));return re(this,Fo,_oe).call(this,e)}}H_=new WeakMap,vf=new WeakMap,nl=new WeakMap,Fo=new WeakSet,_oe=function(e){const n=[],r=new Set;for(const s of e){const[a,l,u]=s;n.push([a,l,s],[a,u,s])}n.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=n.length;s<a;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let o;for(;r.size>0;){const s=r.values().next().value;let[a,l,u,c,d]=s;r.delete(s);let h=a,p=l;for(o=[a,u],i.push(o);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[a,l,u,c,d]=m,h!==a&&(o.push(h,p,a,p===l?l:u),h=a),p=p===l?u:l}o.push(h,p)}return new n7e(i,C(this,H_))},KC=function(e){const n=C(this,nl);let r=0,i=n.length-1;for(;r<=i;){const o=r+i>>1,s=n[o][0];if(s===e)return o;s<e?r=o+1:i=o-1}return i+1},Soe=function([,e,n]){const r=re(this,Fo,KC).call(this,e);C(this,nl).splice(r,0,[e,n])},Eoe=function([,e,n]){const r=re(this,Fo,KC).call(this,e);for(let i=r;i<C(this,nl).length;i++){const[o,s]=C(this,nl)[i];if(o!==e)break;if(o===e&&s===n){C(this,nl).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[o,s]=C(this,nl)[i];if(o!==e)break;if(o===e&&s===n){C(this,nl).splice(i,1);return}}},ZF=function(e){const[n,r,i]=e,o=[[n,r,i]],s=re(this,Fo,KC).call(this,i);for(let a=0;a<s;a++){const[l,u]=C(this,nl)[a];for(let c=0,d=o.length;c<d;c++){const[,h,p]=o[c];if(!(u<=h||p<=l)){if(h>=l){if(p>u)o[c][1]=u;else{if(d===1)return[];o.splice(c,1),c--,d--}continue}o[c][2]=l,p>u&&o.push([n,u,p])}}}return o};class Coe{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof t5}}var q_,hv;class n7e extends Coe{constructor(n,r){super();ie(this,q_);ie(this,hv);ne(this,hv,n),ne(this,q_,r)}toSVGPath(){const n=[];for(const r of C(this,hv)){let[i,o]=r;n.push(`M${i} ${o}`);for(let s=2;s<r.length;s+=2){const a=r[s],l=r[s+1];a===i?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,o],s){const a=[],l=i-n,u=o-r;for(const c of C(this,hv)){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=n+c[h]*l,d[h+1]=o-c[h+1]*u;a.push(d)}return a}get box(){return C(this,q_)}}q_=new WeakMap,hv=new WeakMap;var iu,Nc,pv,gv,ou,An,Sp,Ep,j_,W_,mv,yv,bf,G_,jA,WA,K_,e5;const gc=class gc{constructor({x:e,y:n},r,i,o,s,a=0){ie(this,K_);ie(this,iu);ie(this,Nc,[]);ie(this,pv);ie(this,gv);ie(this,ou,[]);ie(this,An,new Float64Array(18));ie(this,Sp);ie(this,Ep);ie(this,j_);ie(this,W_);ie(this,mv);ie(this,yv);ie(this,bf,[]);ne(this,iu,r),ne(this,yv,o*i),ne(this,gv,s),C(this,An).set([NaN,NaN,NaN,NaN,e,n],6),ne(this,pv,a),ne(this,W_,C(gc,G_)*i),ne(this,j_,C(gc,WA)*i),ne(this,mv,i),C(this,bf).push(e,n)}get free(){return!0}isEmpty(){return isNaN(C(this,An)[8])}add({x:e,y:n}){var L;ne(this,Sp,e),ne(this,Ep,n);const[r,i,o,s]=C(this,iu);let[a,l,u,c]=C(this,An).subarray(8,12);const d=e-u,h=n-c,p=Math.hypot(d,h);if(p<C(this,j_))return!1;const m=p-C(this,W_),y=m/p,x=y*d,w=y*h;let E=a,S=l;a=u,l=c,u+=x,c+=w,(L=C(this,bf))==null||L.push(e,n);const T=-w/m,k=x/m,N=T*C(this,yv),R=k*C(this,yv);return C(this,An).set(C(this,An).subarray(2,8),0),C(this,An).set([u+N,c+R],4),C(this,An).set(C(this,An).subarray(14,18),12),C(this,An).set([u-N,c-R],16),isNaN(C(this,An)[6])?(C(this,ou).length===0&&(C(this,An).set([a+N,l+R],2),C(this,ou).push(NaN,NaN,NaN,NaN,(a+N-r)/o,(l+R-i)/s),C(this,An).set([a-N,l-R],14),C(this,Nc).push(NaN,NaN,NaN,NaN,(a-N-r)/o,(l-R-i)/s)),C(this,An).set([E,S,a,l,u,c],6),!this.isEmpty()):(C(this,An).set([E,S,a,l,u,c],6),Math.abs(Math.atan2(S-l,E-a)-Math.atan2(w,x))<Math.PI/2?([a,l,u,c]=C(this,An).subarray(2,6),C(this,ou).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/o,((l+c)/2-i)/s),[a,l,E,S]=C(this,An).subarray(14,18),C(this,Nc).push(NaN,NaN,NaN,NaN,((E+a)/2-r)/o,((S+l)/2-i)/s),!0):([E,S,a,l,u,c]=C(this,An).subarray(0,6),C(this,ou).push(((E+5*a)/6-r)/o,((S+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),[u,c,a,l,E,S]=C(this,An).subarray(12,18),C(this,Nc).push(((E+5*a)/6-r)/o,((S+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=C(this,ou),n=C(this,Nc),r=C(this,An).subarray(4,6),i=C(this,An).subarray(16,18),[o,s,a,l]=C(this,iu),[u,c,d,h]=re(this,K_,e5).call(this);if(isNaN(C(this,An)[6])&&!this.isEmpty())return`M${(C(this,An)[2]-o)/a} ${(C(this,An)[3]-s)/l} L${(C(this,An)[4]-o)/a} ${(C(this,An)[5]-s)/l} L${u} ${c} L${d} ${h} L${(C(this,An)[16]-o)/a} ${(C(this,An)[17]-s)/l} L${(C(this,An)[14]-o)/a} ${(C(this,An)[15]-s)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-o)/a} ${(r[1]-s)/l} L${u} ${c} L${d} ${h} L${(i[0]-o)/a} ${(i[1]-s)/l}`);for(let m=n.length-6;m>=6;m-=6)isNaN(n[m])?p.push(`L${n[m+4]} ${n[m+5]}`):p.push(`C${n[m]} ${n[m+1]} ${n[m+2]} ${n[m+3]} ${n[m+4]} ${n[m+5]}`);return p.push(`L${n[4]} ${n[5]} Z`),p.join(" ")}getOutlines(){var w;const e=C(this,ou),n=C(this,Nc),r=C(this,An),i=r.subarray(4,6),o=r.subarray(16,18),[s,a,l,u]=C(this,iu),c=new Float64Array((((w=C(this,bf))==null?void 0:w.length)??0)+2);for(let E=0,S=c.length-2;E<S;E+=2)c[E]=(C(this,bf)[E]-s)/l,c[E+1]=(C(this,bf)[E+1]-a)/u;c[c.length-2]=(C(this,Sp)-s)/l,c[c.length-1]=(C(this,Ep)-a)/u;const[d,h,p,m]=re(this,K_,e5).call(this);if(isNaN(r[6])&&!this.isEmpty()){const E=new Float64Array(36);return E.set([NaN,NaN,NaN,NaN,(r[2]-s)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-s)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-s)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-s)/l,(r[15]-a)/u],0),new t5(E,c,C(this,iu),C(this,mv),C(this,pv),C(this,gv))}const y=new Float64Array(C(this,ou).length+24+C(this,Nc).length);let x=e.length;for(let E=0;E<x;E+=2){if(isNaN(e[E])){y[E]=y[E+1]=NaN;continue}y[E]=e[E],y[E+1]=e[E+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(o[0]-s)/l,(o[1]-a)/u],x),x+=24;for(let E=n.length-6;E>=6;E-=6)for(let S=0;S<6;S+=2){if(isNaN(n[E+S])){y[x]=y[x+1]=NaN,x+=2;continue}y[x]=n[E+S],y[x+1]=n[E+S+1],x+=2}return y.set([NaN,NaN,NaN,NaN,n[4],n[5]],x),new t5(y,c,C(this,iu),C(this,mv),C(this,pv),C(this,gv))}};iu=new WeakMap,Nc=new WeakMap,pv=new WeakMap,gv=new WeakMap,ou=new WeakMap,An=new WeakMap,Sp=new WeakMap,Ep=new WeakMap,j_=new WeakMap,W_=new WeakMap,mv=new WeakMap,yv=new WeakMap,bf=new WeakMap,G_=new WeakMap,jA=new WeakMap,WA=new WeakMap,K_=new WeakSet,e5=function(){const e=C(this,An).subarray(4,6),n=C(this,An).subarray(16,18),[r,i,o,s]=C(this,iu);return[(C(this,Sp)+(e[0]-n[0])/2-r)/o,(C(this,Ep)+(e[1]-n[1])/2-i)/s,(C(this,Sp)+(n[0]-e[0])/2-r)/o,(C(this,Ep)+(n[1]-e[1])/2-i)/s]},ie(gc,G_,8),ie(gc,jA,2),ie(gc,WA,C(gc,G_)+C(gc,jA));let mA=gc;var vv,Cp,Dc,Y_,Ds,X_,Wr,as,vx,bx,Toe;class t5 extends Coe{constructor(n,r,i,o,s,a){super();ie(this,as);ie(this,vv);ie(this,Cp,null);ie(this,Dc);ie(this,Y_);ie(this,Ds);ie(this,X_);ie(this,Wr);ne(this,Wr,n),ne(this,Ds,r),ne(this,vv,i),ne(this,X_,o),ne(this,Dc,s),ne(this,Y_,a),re(this,as,Toe).call(this,a);const{x:l,y:u,width:c,height:d}=C(this,Cp);for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-l)/c,n[h+1]=(n[h+1]-u)/d;for(let h=0,p=r.length;h<p;h+=2)r[h]=(r[h]-l)/c,r[h+1]=(r[h+1]-u)/d}toSVGPath(){const n=[`M${C(this,Wr)[4]} ${C(this,Wr)[5]}`];for(let r=6,i=C(this,Wr).length;r<i;r+=6){if(isNaN(C(this,Wr)[r])){n.push(`L${C(this,Wr)[r+4]} ${C(this,Wr)[r+5]}`);continue}n.push(`C${C(this,Wr)[r]} ${C(this,Wr)[r+1]} ${C(this,Wr)[r+2]} ${C(this,Wr)[r+3]} ${C(this,Wr)[r+4]} ${C(this,Wr)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,o],s){const a=i-n,l=o-r;let u,c;switch(s){case 0:u=re(this,as,vx).call(this,C(this,Wr),n,o,a,-l),c=re(this,as,vx).call(this,C(this,Ds),n,o,a,-l);break;case 90:u=re(this,as,bx).call(this,C(this,Wr),n,r,a,l),c=re(this,as,bx).call(this,C(this,Ds),n,r,a,l);break;case 180:u=re(this,as,vx).call(this,C(this,Wr),i,r,-a,l),c=re(this,as,vx).call(this,C(this,Ds),i,r,-a,l);break;case 270:u=re(this,as,bx).call(this,C(this,Wr),i,o,-a,-l),c=re(this,as,bx).call(this,C(this,Ds),i,o,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return C(this,Cp)}getNewOutline(n,r){const{x:i,y:o,width:s,height:a}=C(this,Cp),[l,u,c,d]=C(this,vv),h=s*c,p=a*d,m=i*c+l,y=o*d+u,x=new mA({x:C(this,Ds)[0]*h+m,y:C(this,Ds)[1]*p+y},C(this,vv),C(this,X_),n,C(this,Y_),r??C(this,Dc));for(let w=2;w<C(this,Ds).length;w+=2)x.add({x:C(this,Ds)[w]*h+m,y:C(this,Ds)[w+1]*p+y});return x.getOutlines()}}vv=new WeakMap,Cp=new WeakMap,Dc=new WeakMap,Y_=new WeakMap,Ds=new WeakMap,X_=new WeakMap,Wr=new WeakMap,as=new WeakSet,vx=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l]*o,a[l+1]=i+n[l+1]*s;return a},bx=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l+1]*o,a[l+1]=i+n[l]*s;return a},Toe=function(n){const r=C(this,Wr);let i=r[4],o=r[5],s=i,a=o,l=i,u=o,c=i,d=o;const h=n?Math.max:Math.min;for(let w=6,E=r.length;w<E;w+=6){if(isNaN(r[w]))s=Math.min(s,r[w+4]),a=Math.min(a,r[w+5]),l=Math.max(l,r[w+4]),u=Math.max(u,r[w+5]),d<r[w+5]?(c=r[w+4],d=r[w+5]):d===r[w+5]&&(c=h(c,r[w+4]));else{const S=Mt.bezierBoundingBox(i,o,...r.slice(w,w+6));s=Math.min(s,S[0]),a=Math.min(a,S[1]),l=Math.max(l,S[2]),u=Math.max(u,S[3]),d<S[3]?(c=S[2],d=S[3]):d===S[3]&&(c=h(c,S[2]))}i=r[w+4],o=r[w+5]}const p=s-C(this,Dc),m=a-C(this,Dc),y=l-s+2*C(this,Dc),x=u-a+2*C(this,Dc);ne(this,Cp,{x:p,y:m,width:y,height:x,lastPoint:[c,d]})};var J_,Q_,rl,Tp,bv,vi,Z_,xv,e1,t1,il,wv,ur,n5,r5,Aoe,Dh,Roe,Jd;const mc=class mc{constructor({editor:e=null,uiManager:n=null}){ie(this,ur);ie(this,J_,re(this,ur,Aoe).bind(this));ie(this,Q_,re(this,ur,Roe).bind(this));ie(this,rl,null);ie(this,Tp,null);ie(this,bv);ie(this,vi,null);ie(this,Z_,!1);ie(this,xv,!1);ie(this,e1,null);ie(this,t1);ie(this,il,null);ie(this,wv);var r;e?(ne(this,xv,!1),ne(this,wv,on.HIGHLIGHT_COLOR),ne(this,e1,e)):(ne(this,xv,!0),ne(this,wv,on.HIGHLIGHT_DEFAULT_COLOR)),ne(this,il,(e==null?void 0:e._uiManager)||n),ne(this,t1,C(this,il)._eventBus),ne(this,bv,(e==null?void 0:e.color)||((r=C(this,il))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return On(this,"_keyboardManager",new z1([[["Escape","mac+Escape"],mc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mc.prototype._moveToPrevious],[["Home","mac+Home"],mc.prototype._moveToBeginning],[["End","mac+End"],mc.prototype._moveToEnd]]))}renderButton(){const e=ne(this,rl,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=C(this,il)._signal;e.addEventListener("click",re(this,ur,Dh).bind(this),{signal:n}),e.addEventListener("keydown",C(this,J_),{signal:n});const r=ne(this,Tp,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=C(this,bv),e.append(r),e}renderMainDropdown(){const e=ne(this,vi,re(this,ur,n5).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===C(this,rl)){re(this,ur,Dh).call(this,e);return}const n=e.target.getAttribute("data-color");n&&re(this,ur,r5).call(this,n,e)}_moveToNext(e){var n,r;if(!C(this,ur,Jd)){re(this,ur,Dh).call(this,e);return}if(e.target===C(this,rl)){(n=C(this,vi).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=C(this,vi))==null?void 0:n.firstChild)||e.target===C(this,rl)){C(this,ur,Jd)&&this._hideDropdownFromKeyboard();return}C(this,ur,Jd)||re(this,ur,Dh).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!C(this,ur,Jd)){re(this,ur,Dh).call(this,e);return}(n=C(this,vi).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!C(this,ur,Jd)){re(this,ur,Dh).call(this,e);return}(n=C(this,vi).lastChild)==null||n.focus()}hideDropdown(){var e;(e=C(this,vi))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",C(this,Q_))}_hideDropdownFromKeyboard(){var e;if(!C(this,xv)){if(!C(this,ur,Jd)){(e=C(this,e1))==null||e.unselect();return}this.hideDropdown(),C(this,rl).focus({preventScroll:!0,focusVisible:C(this,Z_)})}}updateColor(e){if(C(this,Tp)&&(C(this,Tp).style.backgroundColor=e),!C(this,vi))return;const n=C(this,il).highlightColors.values();for(const r of C(this,vi).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=C(this,rl))==null||e.remove(),ne(this,rl,null),ne(this,Tp,null),(n=C(this,vi))==null||n.remove(),ne(this,vi,null)}};J_=new WeakMap,Q_=new WeakMap,rl=new WeakMap,Tp=new WeakMap,bv=new WeakMap,vi=new WeakMap,Z_=new WeakMap,xv=new WeakMap,e1=new WeakMap,t1=new WeakMap,il=new WeakMap,wv=new WeakMap,ur=new WeakSet,n5=function(){const e=document.createElement("div"),n=C(this,il)._signal;e.addEventListener("contextmenu",ds,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of C(this,il).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.setAttribute("aria-selected",i===C(this,bv)),o.addEventListener("click",re(this,ur,r5).bind(this,i),{signal:n}),e.append(o)}return e.addEventListener("keydown",C(this,J_),{signal:n}),e},r5=function(e,n){n.stopPropagation(),C(this,t1).dispatch("switchannotationeditorparams",{source:this,type:C(this,wv),value:e})},Aoe=function(e){mc._keyboardManager.exec(this,e)},Dh=function(e){if(C(this,ur,Jd)){this.hideDropdown();return}if(ne(this,Z_,e.detail===0),window.addEventListener("pointerdown",C(this,Q_),{signal:C(this,il)._signal}),C(this,vi)){C(this,vi).classList.remove("hidden");return}const n=ne(this,vi,re(this,ur,n5).call(this));C(this,rl).append(n)},Roe=function(e){var n;(n=C(this,vi))!=null&&n.contains(e.target)||this.hideDropdown()},Jd=function(){return C(this,vi)&&!C(this,vi).classList.contains("hidden")};let yA=mc;var _v,n1,xf,Ap,Sv,la,r1,i1,Rp,ol,Mo,Ls,GA,Ev,Pp,bi,Cv,su,o1,Sn,i5,o5,Poe,Ioe,koe,s5,xx,ma,gy,Moe,YC,wx,Noe,Doe,Loe,Ooe;const Un=class Un extends Jn{constructor(n){super({...n,name:"highlightEditor"});ie(this,Sn);ie(this,_v,null);ie(this,n1,0);ie(this,xf);ie(this,Ap,null);ie(this,Sv,null);ie(this,la,null);ie(this,r1,null);ie(this,i1,0);ie(this,Rp,null);ie(this,ol,null);ie(this,Mo,null);ie(this,Ls,!1);ie(this,GA,re(this,Sn,Moe).bind(this));ie(this,Ev,null);ie(this,Pp);ie(this,bi,null);ie(this,Cv,"");ie(this,su);ie(this,o1,"");this.color=n.color||Un._defaultColor,ne(this,su,n.thickness||Un._defaultThickness),ne(this,Pp,n.opacity||Un._defaultOpacity),ne(this,xf,n.boxes||null),ne(this,o1,n.methodOfCreation||""),ne(this,Cv,n.text||""),this._isDraggable=!1,n.highlightId>-1?(ne(this,Ls,!0),re(this,Sn,o5).call(this,n),re(this,Sn,xx).call(this)):(ne(this,_v,n.anchorNode),ne(this,n1,n.anchorOffset),ne(this,r1,n.focusNode),ne(this,i1,n.focusOffset),re(this,Sn,i5).call(this),re(this,Sn,xx).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=Un.prototype;return On(this,"_keyboardManager",new z1([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:C(this,Ls)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:C(this,su),methodOfCreation:C(this,o1)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;Jn.initialize(n,r),Un._defaultColor||(Un._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case on.HIGHLIGHT_DEFAULT_COLOR:Un._defaultColor=r;break;case on.HIGHLIGHT_THICKNESS:Un._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return C(this,Ev)}updateParams(n,r){switch(n){case on.HIGHLIGHT_COLOR:re(this,Sn,Poe).call(this,r);break;case on.HIGHLIGHT_THICKNESS:re(this,Sn,Ioe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[on.HIGHLIGHT_DEFAULT_COLOR,Un._defaultColor],[on.HIGHLIGHT_THICKNESS,Un._defaultThickness]]}get propertiesToUpdate(){return[[on.HIGHLIGHT_COLOR,this.color||Un._defaultColor],[on.HIGHLIGHT_THICKNESS,C(this,su)||Un._defaultThickness],[on.HIGHLIGHT_FREE,C(this,Ls)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(ne(this,Sv,new yA({editor:this})),n.addColorPicker(C(this,Sv))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(re(this,Sn,wx).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,re(this,Sn,wx).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){re(this,Sn,s5).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,Sn,xx).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?re(this,Sn,s5).call(this):n&&(re(this,Sn,xx).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var o,s,a;const{drawLayer:r}=this.parent;let i;C(this,Ls)?(n=(n-this.rotation+360)%360,i=re(o=Un,ma,gy).call(o,C(this,ol).box,n)):i=re(s=Un,ma,gy).call(s,this,n),r.rotate(C(this,Mo),n),r.rotate(C(this,bi),n),r.updateBox(C(this,Mo),i),r.updateBox(C(this,bi),re(a=Un,ma,gy).call(a,C(this,la).box,n))}render(){if(this.div)return this.div;const n=super.render();C(this,Cv)&&(n.setAttribute("aria-label",C(this,Cv)),n.setAttribute("role","mark")),C(this,Ls)?n.classList.add("free"):this.div.addEventListener("keydown",C(this,GA),{signal:this._uiManager._signal});const r=ne(this,Rp,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=C(this,Ap);const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),hA(this,C(this,Rp),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(C(this,bi),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(C(this,bi),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:re(this,Sn,YC).call(this,!0);break;case 1:case 3:re(this,Sn,YC).call(this,!1);break}}select(){var n,r;super.select(),C(this,bi)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,bi),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(C(this,bi),"selected"))}unselect(){var n;super.unselect(),C(this,bi)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,bi),"selected"),C(this,Ls)||re(this,Sn,YC).call(this,!1))}get _mustFixPosition(){return!C(this,Ls)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(C(this,Mo),n),this.parent.drawLayer.show(C(this,bi),n))}static startHighlighting(n,r,{target:i,x:o,y:s}){const{x:a,y:l,width:u,height:c}=i.getBoundingClientRect(),d=x=>{re(this,ma,Loe).call(this,n,x)},h=n._signal,p={capture:!0,passive:!1,signal:h},m=x=>{x.preventDefault(),x.stopPropagation()},y=x=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",ds),re(this,ma,Ooe).call(this,n,x)};window.addEventListener("blur",y,{signal:h}),window.addEventListener("pointerup",y,{signal:h}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",ds,{signal:h}),i.addEventListener("pointermove",d,{signal:h}),this._freeHighlight=new mA({x:o,y:s},[a,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,r,i){var y;const o=super.deserialize(n,r,i),{rect:[s,a,l,u],color:c,quadPoints:d}=n;o.color=Mt.makeHexColor(...c),ne(o,Pp,n.opacity);const[h,p]=o.pageDimensions;o.width=(l-s)/h,o.height=(u-a)/p;const m=ne(o,xf,[]);for(let x=0;x<d.length;x+=8)m.push({x:(d[4]-l)/h,y:(u-(1-d[x+5]))/p,width:(d[x+2]-d[x])/h,height:(d[x+5]-d[x+1])/p});return re(y=o,Sn,i5).call(y),o}serialize(n=!1){if(this.isEmpty()||n)return null;const r=this.getRect(0,0),i=Jn._colorManager.convert(this.color);return{annotationType:Nn.HIGHLIGHT,color:i,opacity:C(this,Pp),thickness:C(this,su),quadPoints:re(this,Sn,Noe).call(this),outlines:re(this,Sn,Doe).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:re(this,Sn,wx).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};_v=new WeakMap,n1=new WeakMap,xf=new WeakMap,Ap=new WeakMap,Sv=new WeakMap,la=new WeakMap,r1=new WeakMap,i1=new WeakMap,Rp=new WeakMap,ol=new WeakMap,Mo=new WeakMap,Ls=new WeakMap,GA=new WeakMap,Ev=new WeakMap,Pp=new WeakMap,bi=new WeakMap,Cv=new WeakMap,su=new WeakMap,o1=new WeakMap,Sn=new WeakSet,i5=function(){const n=new QF(C(this,xf),.001);ne(this,ol,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=C(this,ol).box;const r=new QF(C(this,xf),.0025,.001,this._uiManager.direction==="ltr");ne(this,la,r.getOutlines());const{lastPoint:i}=C(this,la).box;ne(this,Ev,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},o5=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,h;if(ne(this,ol,n),ne(this,la,n.getNewOutline(C(this,su)/2+1.5,.0025)),r>=0)ne(this,Mo,r),ne(this,Ap,i),this.parent.drawLayer.finalizeLine(r,n),ne(this,bi,this.parent.drawLayer.highlightOutline(C(this,la)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(C(this,Mo),n),this.parent.drawLayer.updateBox(C(this,Mo),re(d=Un,ma,gy).call(d,C(this,ol).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(C(this,bi),C(this,la)),this.parent.drawLayer.updateBox(C(this,bi),re(h=Un,ma,gy).call(h,C(this,la).box,p))}const{x:s,y:a,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-s,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:c}=C(this,la).box;ne(this,Ev,[(c[0]-s)/l,(c[1]-a)/u])},Poe=function(n){const r=o=>{var s,a;this.color=o,(s=this.parent)==null||s.drawLayer.changeColor(C(this,Mo),o),(a=C(this,Sv))==null||a.updateColor(o)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},Ioe=function(n){const r=C(this,su),i=o=>{ne(this,su,o),re(this,Sn,koe).call(this,o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},koe=function(n){if(!C(this,Ls))return;re(this,Sn,o5).call(this,{highlightOutlines:C(this,ol).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},s5=function(){C(this,Mo)===null||!this.parent||(this.parent.drawLayer.remove(C(this,Mo)),ne(this,Mo,null),this.parent.drawLayer.remove(C(this,bi)),ne(this,bi,null))},xx=function(n=this.parent){C(this,Mo)===null&&({id:Es(this,Mo)._,clipPathId:Es(this,Ap)._}=n.drawLayer.highlight(C(this,ol),this.color,C(this,Pp)),ne(this,bi,n.drawLayer.highlightOutline(C(this,la))),C(this,Rp)&&(C(this,Rp).style.clipPath=C(this,Ap)))},ma=new WeakSet,gy=function({x:n,y:r,width:i,height:o},s){switch(s){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}},Moe=function(n){Un._keyboardManager.exec(this,n)},YC=function(n){if(!C(this,_v))return;const r=window.getSelection();n?r.setPosition(C(this,_v),C(this,n1)):r.setPosition(C(this,r1),C(this,i1))},wx=function(){return C(this,Ls)?this.rotation:0},Noe=function(){if(C(this,Ls))return null;const[n,r]=this.pageDimensions,i=C(this,xf),o=new Float32Array(i.length*8);let s=0;for(const{x:a,y:l,width:u,height:c}of i){const d=a*n,h=(1-l-c)*r;o[s]=o[s+4]=d,o[s+1]=o[s+3]=h,o[s+2]=o[s+6]=d+u*n,o[s+5]=o[s+7]=h+c*r,s+=8}return o},Doe=function(n){return C(this,ol).serialize(n,re(this,Sn,wx).call(this))},Loe=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Ooe=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ie(Un,ma),vt(Un,"_defaultColor",null),vt(Un,"_defaultOpacity",1),vt(Un,"_defaultThickness",12),vt(Un,"_l10nPromise"),vt(Un,"_type","highlight"),vt(Un,"_editorType",Nn.HIGHLIGHT),vt(Un,"_freeHighlightId",-1),vt(Un,"_freeHighlight",null),vt(Un,"_freeHighlightClipId","");let vA=Un;var Ip,kp,s1,a1,l1,Mp,au,Lc,ua,Np,Dp,Oc,Lp,Op,wf,lt,Foe,$oe,Boe,Voe,l5,zoe,u5,Uoe,Hoe,qoe,joe,Woe,Lh,c5,XC,JC,my,d5,QC,ld,Goe,f5,Koe,Yoe,h5,ZC,_x;const Pr=class Pr extends Jn{constructor(n){super({...n,name:"inkEditor"});ie(this,lt);ie(this,Ip,0);ie(this,kp,0);ie(this,s1,this.canvasPointermove.bind(this));ie(this,a1,this.canvasPointerleave.bind(this));ie(this,l1,this.canvasPointerup.bind(this));ie(this,Mp,this.canvasPointerdown.bind(this));ie(this,au,null);ie(this,Lc,new Path2D);ie(this,ua,!1);ie(this,Np,!1);ie(this,Dp,!1);ie(this,Oc,null);ie(this,Lp,0);ie(this,Op,0);ie(this,wf,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){Jn.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case on.INK_THICKNESS:Pr._defaultThickness=r;break;case on.INK_COLOR:Pr._defaultColor=r;break;case on.INK_OPACITY:Pr._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case on.INK_THICKNESS:re(this,lt,Foe).call(this,r);break;case on.INK_COLOR:re(this,lt,$oe).call(this,r);break;case on.INK_OPACITY:re(this,lt,Boe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[on.INK_THICKNESS,Pr._defaultThickness],[on.INK_COLOR,Pr._defaultColor||Jn._defaultLineColor],[on.INK_OPACITY,Math.round(Pr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[on.INK_THICKNESS,this.thickness||Pr._defaultThickness],[on.INK_COLOR,this.color||Pr._defaultColor||Jn._defaultLineColor],[on.INK_OPACITY,Math.round(100*(this.opacity??Pr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(re(this,lt,XC).call(this),re(this,lt,JC).call(this)),this.isAttachedToDOM||(this.parent.add(this),re(this,lt,my).call(this)),re(this,lt,_x).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,C(this,au)&&(clearTimeout(C(this,au)),ne(this,au,null)),(n=C(this,Oc))==null||n.disconnect(),ne(this,Oc,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,o=this.height*r;this.setDimensions(i,o)}enableEditMode(){C(this,ua)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",C(this,Mp),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",C(this,Mp)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){C(this,ua)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ne(this,ua,!0),this.div.classList.add("disabled"),re(this,lt,_x).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||C(this,ua)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),re(this,lt,zoe).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),re(this,lt,u5).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),re(this,lt,c5).call(this,n)}canvasPointerleave(n){re(this,lt,c5).call(this,n)}get isResizable(){return!this.isEmpty()&&C(this,ua)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,s,a]=re(this,lt,Voe).call(this);if(this.setAt(i,o,0,0),this.setDims(s,a),re(this,lt,XC).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),ne(this,Dp,!0),re(this,lt,my).call(this),this.setDims(this.width*l,this.height*u),re(this,lt,Lh).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return re(this,lt,JC).call(this),this.div}setDimensions(n,r){const i=Math.round(n),o=Math.round(r);if(C(this,Lp)===i&&C(this,Op)===o)return;ne(this,Lp,i),ne(this,Op,o),this.canvas.style.visibility="hidden";const[s,a]=this.parentDimensions;this.width=n/s,this.height=r/a,this.fixAndSetPosition(),C(this,ua)&&re(this,lt,d5).call(this,n,r),re(this,lt,my).call(this),re(this,lt,Lh).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,r,i){var x,w,E;if(n instanceof poe)return null;const o=super.deserialize(n,r,i);o.thickness=n.thickness,o.color=Mt.makeHexColor(...n.color),o.opacity=n.opacity;const[s,a]=o.pageDimensions,l=o.width*s,u=o.height*a,c=o.parentScale,d=n.thickness/2;ne(o,ua,!0),ne(o,Lp,Math.round(l)),ne(o,Op,Math.round(u));const{paths:h,rect:p,rotation:m}=n;for(let{bezier:S}of h){S=re(x=Pr,ld,Koe).call(x,S,p,m);const T=[];o.paths.push(T);let k=c*(S[0]-d),N=c*(S[1]-d);for(let M=2,L=S.length;M<L;M+=6){const I=c*(S[M]-d),O=c*(S[M+1]-d),V=c*(S[M+2]-d),$=c*(S[M+3]-d),z=c*(S[M+4]-d),W=c*(S[M+5]-d);T.push([[k,N],[I,O],[V,$],[z,W]]),k=z,N=W}const R=re(this,ld,Goe).call(this,T);o.bezierPath2D.push(R)}const y=re(w=o,lt,h5).call(w);return ne(o,kp,Math.max(Jn.MIN_SIZE,y[2]-y[0])),ne(o,Ip,Math.max(Jn.MIN_SIZE,y[3]-y[1])),re(E=o,lt,d5).call(E,l,u),o}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=Jn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:re(this,lt,Yoe).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ip=new WeakMap,kp=new WeakMap,s1=new WeakMap,a1=new WeakMap,l1=new WeakMap,Mp=new WeakMap,au=new WeakMap,Lc=new WeakMap,ua=new WeakMap,Np=new WeakMap,Dp=new WeakMap,Oc=new WeakMap,Lp=new WeakMap,Op=new WeakMap,wf=new WeakMap,lt=new WeakSet,Foe=function(n){const r=o=>{this.thickness=o,re(this,lt,_x).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},$oe=function(n){const r=o=>{this.color=o,re(this,lt,Lh).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Boe=function(n){const r=o=>{this.opacity=o,re(this,lt,Lh).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:on.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Voe=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},l5=function(){const{ctx:n,color:r,opacity:i,thickness:o,parentScale:s,scaleFactor:a}=this;n.lineWidth=o*s/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${T8e(i)}`},zoe=function(n,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",ds,{signal:i}),this.canvas.addEventListener("pointerleave",C(this,a1),{signal:i}),this.canvas.addEventListener("pointermove",C(this,s1),{signal:i}),this.canvas.addEventListener("pointerup",C(this,l1),{signal:i}),this.canvas.removeEventListener("pointerdown",C(this,Mp)),this.isEditing=!0,C(this,Dp)||(ne(this,Dp,!0),re(this,lt,my).call(this),this.thickness||(this.thickness=Pr._defaultThickness),this.color||(this.color=Pr._defaultColor||Jn._defaultLineColor),this.opacity??(this.opacity=Pr._defaultOpacity)),this.currentPath.push([n,r]),ne(this,Np,!1),re(this,lt,l5).call(this),ne(this,wf,()=>{re(this,lt,qoe).call(this),C(this,wf)&&window.requestAnimationFrame(C(this,wf))}),window.requestAnimationFrame(C(this,wf))},u5=function(n,r){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===o)return;const s=this.currentPath;let a=C(this,Lc);if(s.push([n,r]),ne(this,Np,!0),s.length<=2){a.moveTo(...s[0]),a.lineTo(n,r);return}s.length===3&&(ne(this,Lc,a=new Path2D),a.moveTo(...s[0])),re(this,lt,joe).call(this,a,...s.at(-3),...s.at(-2),n,r)},Uoe=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);C(this,Lc).lineTo(...n)},Hoe=function(n,r){ne(this,wf,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),re(this,lt,u5).call(this,n,r),re(this,lt,Uoe).call(this);let i;if(this.currentPath.length!==1)i=re(this,lt,Woe).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const o=C(this,Lc),s=this.currentPath;this.currentPath=[],ne(this,Lc,new Path2D);const a=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(re(this,lt,XC).call(this),re(this,lt,JC).call(this)),re(this,lt,_x).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},qoe=function(){if(!C(this,Np))return;ne(this,Np,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),o=r.map(a=>a[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...o)-n,Math.max(...o)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)s.stroke(a);s.stroke(C(this,Lc)),s.restore()},joe=function(n,r,i,o,s,a,l){const u=(r+o)/2,c=(i+s)/2,d=(o+a)/2,h=(s+l)/2;n.bezierCurveTo(u+2*(o-u)/3,c+2*(s-c)/3,d+2*(o-d)/3,h+2*(s-h)/3,d,h)},Woe=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[o,s]=n[0];for(i=1;i<n.length-2;i++){const[p,m]=n[i],[y,x]=n[i+1],w=(p+y)/2,E=(m+x)/2,S=[o+2*(p-o)/3,s+2*(m-s)/3],T=[w+2*(p-w)/3,E+2*(m-E)/3];r.push([[o,s],S,T,[w,E]]),[o,s]=[w,E]}const[a,l]=n[i],[u,c]=n[i+1],d=[o+2*(a-o)/3,s+2*(l-s)/3],h=[u+2*(a-u)/3,c+2*(l-c)/3];return r.push([[o,s],d,h,[u,c]]),r},Lh=function(){if(this.isEmpty()){re(this,lt,QC).call(this);return}re(this,lt,l5).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),re(this,lt,QC).call(this);for(const i of this.bezierPath2D)r.stroke(i)},c5=function(n){this.canvas.removeEventListener("pointerleave",C(this,a1)),this.canvas.removeEventListener("pointermove",C(this,s1)),this.canvas.removeEventListener("pointerup",C(this,l1)),this.canvas.addEventListener("pointerdown",C(this,Mp),{signal:this._uiManager._signal}),C(this,au)&&clearTimeout(C(this,au)),ne(this,au,setTimeout(()=>{ne(this,au,null),this.canvas.removeEventListener("contextmenu",ds)},10)),re(this,lt,Hoe).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},XC=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},JC=function(){ne(this,Oc,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),C(this,Oc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,Oc))==null||n.disconnect(),ne(this,Oc,null)},{once:!0})},my=function(){if(!C(this,Dp))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),re(this,lt,QC).call(this)},d5=function(n,r){const i=re(this,lt,ZC).call(this),o=(n-i)/C(this,kp),s=(r-i)/C(this,Ip);this.scaleFactor=Math.min(o,s)},QC=function(){const n=re(this,lt,ZC).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},ld=new WeakSet,Goe=function(n){const r=new Path2D;for(let i=0,o=n.length;i<o;i++){const[s,a,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},f5=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+o,n[u+1]=d+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=a-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},Koe=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-s,n[u+1]=d-o}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return n},Yoe=function(n,r,i,o){var c,d;const s=[],a=this.thickness/2,l=n*r+a,u=n*i+a;for(const h of this.paths){const p=[],m=[];for(let y=0,x=h.length;y<x;y++){const[w,E,S,T]=h[y];if(w[0]===T[0]&&w[1]===T[1]&&x===1){const $=n*w[0]+l,z=n*w[1]+u;p.push($,z),m.push($,z);break}const k=n*w[0]+l,N=n*w[1]+u,R=n*E[0]+l,M=n*E[1]+u,L=n*S[0]+l,I=n*S[1]+u,O=n*T[0]+l,V=n*T[1]+u;y===0&&(p.push(k,N),m.push(k,N)),p.push(R,M,L,I,O,V),m.push(R,M),y===x-1&&m.push(O,V)}s.push({bezier:re(c=Pr,ld,f5).call(c,p,o,this.rotation),points:re(d=Pr,ld,f5).call(d,m,o,this.rotation)})}return s},h5=function(){let n=1/0,r=-1/0,i=1/0,o=-1/0;for(const s of this.paths)for(const[a,l,u,c]of s){const d=Mt.bezierBoundingBox(...a,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),o=Math.max(o,d[3])}return[n,i,r,o]},ZC=function(){return C(this,ua)?Math.ceil(this.thickness*this.parentScale):0},_x=function(n=!1){if(this.isEmpty())return;if(!C(this,ua)){re(this,lt,Lh).call(this);return}const r=re(this,lt,h5).call(this),i=re(this,lt,ZC).call(this);ne(this,kp,Math.max(Jn.MIN_SIZE,r[2]-r[0])),ne(this,Ip,Math.max(Jn.MIN_SIZE,r[3]-r[1]));const o=Math.ceil(i+C(this,kp)*this.scaleFactor),s=Math.ceil(i+C(this,Ip)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=o/a,this.height=s/l,this.setAspectRatio(o,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],re(this,lt,my).call(this),re(this,lt,Lh).call(this),ne(this,Lp,o),ne(this,Op,s),this.setDims(o,s);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},ie(Pr,ld),vt(Pr,"_defaultColor",null),vt(Pr,"_defaultOpacity",1),vt(Pr,"_defaultThickness",1),vt(Pr,"_type","ink"),vt(Pr,"_editorType",Nn.INK);let a5=Pr;var ji,Wi,_f,Fc,Sf,Tv,lu,$c,uu,sl,u1,Vn,Sx,Ex,eT,g5,Xoe,Joe,m5,tT,Qoe;const Gx=class Gx extends Jn{constructor(n){super({...n,name:"stampEditor"});ie(this,Vn);ie(this,ji,null);ie(this,Wi,null);ie(this,_f,null);ie(this,Fc,null);ie(this,Sf,null);ie(this,Tv,"");ie(this,lu,null);ie(this,$c,null);ie(this,uu,null);ie(this,sl,!1);ie(this,u1,!1);ne(this,Fc,n.bitmapUrl),ne(this,Sf,n.bitmapFile)}static initialize(n,r){Jn.initialize(n,r)}static get supportedTypes(){return On(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return On(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Nn.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,r;C(this,Wi)&&(ne(this,ji,null),this._uiManager.imageManager.deleteId(C(this,Wi)),(n=C(this,lu))==null||n.remove(),ne(this,lu,null),(r=C(this,$c))==null||r.disconnect(),ne(this,$c,null),C(this,uu)&&(clearTimeout(C(this,uu)),ne(this,uu,null))),super.remove()}rebuild(){if(!this.parent){C(this,Wi)&&re(this,Vn,eT).call(this);return}super.rebuild(),this.div!==null&&(C(this,Wi)&&C(this,lu)===null&&re(this,Vn,eT).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(C(this,_f)||C(this,ji)||C(this,Fc)||C(this,Sf)||C(this,Wi))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),C(this,ji)?re(this,Vn,g5).call(this):re(this,Vn,eT).call(this),this.width){const[i,o]=this.parentDimensions;this.setAt(n*i,r*o,this.width*i,this.height*o)}return this.div}getImageForAltText(){return C(this,lu)}static deserialize(n,r,i){if(n instanceof goe)return null;const o=super.deserialize(n,r,i),{rect:s,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:c}=n;l&&i.imageManager.isValidId(l)?ne(o,Wi,l):ne(o,Fc,a),ne(o,sl,u);const[d,h]=o.pageDimensions;return o.width=(s[2]-s[0])/d,o.height=(s[3]-s[1])/h,c&&(o.altTextData=c),o}serialize(n=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Nn.STAMP,bitmapId:C(this,Wi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:C(this,sl),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=re(this,Vn,tT).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:o,altText:s}=this.altTextData;if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),r===null)return i;r.stamps||(r.stamps=new Map);const a=C(this,sl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(C(this,Wi)))r.stamps.set(C(this,Wi),{area:a,serialized:i}),i.bitmap=re(this,Vn,tT).call(this,!1);else if(C(this,sl)){const l=r.stamps.get(C(this,Wi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=re(this,Vn,tT).call(this,!1))}return i}};ji=new WeakMap,Wi=new WeakMap,_f=new WeakMap,Fc=new WeakMap,Sf=new WeakMap,Tv=new WeakMap,lu=new WeakMap,$c=new WeakMap,uu=new WeakMap,sl=new WeakMap,u1=new WeakMap,Vn=new WeakSet,Sx=function(n,r=!1){if(!n){this.remove();return}ne(this,ji,n.bitmap),r||(ne(this,Wi,n.id),ne(this,sl,n.isSvg)),n.file&&ne(this,Tv,n.file.name),re(this,Vn,g5).call(this)},Ex=function(){ne(this,_f,null),this._uiManager.enableWaiting(!1),C(this,lu)&&this.div.focus()},eT=function(){if(C(this,Wi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(C(this,Wi)).then(i=>re(this,Vn,Sx).call(this,i,!0)).finally(()=>re(this,Vn,Ex).call(this));return}if(C(this,Fc)){const i=C(this,Fc);ne(this,Fc,null),this._uiManager.enableWaiting(!0),ne(this,_f,this._uiManager.imageManager.getFromUrl(i).then(o=>re(this,Vn,Sx).call(this,o)).finally(()=>re(this,Vn,Ex).call(this)));return}if(C(this,Sf)){const i=C(this,Sf);ne(this,Sf,null),this._uiManager.enableWaiting(!0),ne(this,_f,this._uiManager.imageManager.getFromFile(i).then(o=>re(this,Vn,Sx).call(this,o)).finally(()=>re(this,Vn,Ex).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Gx.supportedTypesStr;const r=this._uiManager._signal;ne(this,_f,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);re(this,Vn,Sx).call(this,o)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>re(this,Vn,Ex).call(this))),n.click()},g5=function(){const{div:n}=this;let{width:r,height:i}=C(this,ji);const[o,s]=this.pageDimensions,a=.75;if(this.width)r=this.width*o,i=this.height*s;else if(r>a*o||i>a*s){const d=Math.min(a*o/r,a*s/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/o,i*u/s),this._uiManager.enableWaiting(!1);const c=ne(this,lu,document.createElement("canvas"));n.append(c),n.hidden=!1,re(this,Vn,m5).call(this,r,i),re(this,Vn,Qoe).call(this),C(this,u1)||(this.parent.addUndoableEditor(this),ne(this,u1,!0)),this._reportTelemetry({action:"inserted_image"}),C(this,Tv)&&c.setAttribute("aria-label",C(this,Tv))},Xoe=function(n,r){var a;const[i,o]=this.parentDimensions;this.width=n/i,this.height=r/o,this.setDims(n,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,C(this,uu)!==null&&clearTimeout(C(this,uu)),ne(this,uu,setTimeout(()=>{ne(this,uu,null),re(this,Vn,m5).call(this,n,r)},200))},Joe=function(n,r){const{width:i,height:o}=C(this,ji);let s=i,a=o,l=C(this,ji);for(;s>2*n||a>2*r;){const u=s,c=a;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,s,a),l=d.transferToImageBitmap()}return l},m5=function(n,r){n=Math.ceil(n),r=Math.ceil(r);const i=C(this,lu);if(!i||i.width===n&&i.height===r)return;i.width=n,i.height=r;const o=C(this,sl)?C(this,ji):re(this,Vn,Joe).call(this,n,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(n,r).getContext("2d");l.drawImage(o,0,0,o.width,o.height,0,0,n,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,n,r).data,width:n,height:r,channels:4}}).then(u=>{const c=(u==null?void 0:u.output)||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(o,0,0,o.width,o.height,0,0,n,r)},tT=function(n){if(n){if(C(this,sl)){const o=this._uiManager.imageManager.getSvgUrl(C(this,Wi));if(o)return o}const r=document.createElement("canvas");return{width:r.width,height:r.height}=C(this,ji),r.getContext("2d").drawImage(C(this,ji),0,0),r.toDataURL()}if(C(this,sl)){const[r,i]=this.pageDimensions,o=Math.round(this.width*r*Yf.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Yf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(o,s);return a.getContext("2d").drawImage(C(this,ji),0,0,C(this,ji).width,C(this,ji).height,0,0,o,s),a.transferToImageBitmap()}return structuredClone(C(this,ji))},Qoe=function(){this._uiManager._signal&&(ne(this,$c,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&re(this,Vn,Xoe).call(this,r.width,r.height)})),C(this,$c).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,$c))==null||n.disconnect(),ne(this,$c,null)},{once:!0}))},vt(Gx,"_type","stamp"),vt(Gx,"_editorType",Nn.STAMP);let p5=Gx;var Fp,Av,cu,$p,Bc,Vc,zc,Os,Ef,Rv,Pv,No,Bt,Cf,Ji,Zoe,v5,b5,x5,nT;const Wa=class Wa{constructor({uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,drawLayer:s,textLayer:a,viewport:l,l10n:u}){ie(this,Ji);ie(this,Fp);ie(this,Av,!1);ie(this,cu,null);ie(this,$p,null);ie(this,Bc,null);ie(this,Vc,null);ie(this,zc,null);ie(this,Os,new Map);ie(this,Ef,!1);ie(this,Rv,!1);ie(this,Pv,!1);ie(this,No,null);ie(this,Bt);const c=[...C(Wa,Cf).values()];if(!Wa._initialized){Wa._initialized=!0;for(const d of c)d.initialize(u,e)}e.registerEditorTypes(c),ne(this,Bt,e),this.pageIndex=n,this.div=r,ne(this,Fp,i),ne(this,cu,o),this.viewport=l,ne(this,No,a),this.drawLayer=s,C(this,Bt).addLayer(this)}get isEmpty(){return C(this,Os).size===0}get isInvisible(){return this.isEmpty&&C(this,Bt).getMode()===Nn.NONE}updateToolbar(e){C(this,Bt).updateToolbar(e)}updateMode(e=C(this,Bt).getMode()){switch(re(this,Ji,nT).call(this),e){case Nn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of C(Wa,Cf).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=C(this,No))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(C(this,Bt).getMode()!==Nn.INK)return;if(!e){for(const r of C(this,Os).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){C(this,Bt).setEditingState(e)}addCommands(e){C(this,Bt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=C(this,cu))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of C(this,Os).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(C(this,Bt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!C(this,cu))return;const n=C(this,cu).getEditableAnnotations();for(const r of n){if(r.hide(),C(this,Bt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;ne(this,Pv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const o of C(this,Os).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else n.set(o.annotationElementId,o);(i=this.getEditableAnnotation(o.annotationElementId))==null||i.show(),o.remove()}if(C(this,cu)){const o=C(this,cu).getEditableAnnotations();for(const s of o){const{id:a}=s.data;if(C(this,Bt).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(a),l&&(C(this,Bt).addChangedExistingAnnotation(l),l.renderAnnotationElement(s),l.show(!1)),s.show()}}re(this,Ji,nT).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const o of C(Wa,Cf).values())r.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ne(this,Pv,!1)}getEditableAnnotation(e){var n;return((n=C(this,cu))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){C(this,Bt).getActive()!==e&&C(this,Bt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=C(this,No))!=null&&e.div&&!C(this,Vc)&&(ne(this,Vc,re(this,Ji,Zoe).bind(this)),C(this,No).div.addEventListener("pointerdown",C(this,Vc),{signal:C(this,Bt)._signal}),C(this,No).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=C(this,No))!=null&&e.div&&C(this,Vc)&&(C(this,No).div.removeEventListener("pointerdown",C(this,Vc)),ne(this,Vc,null),C(this,No).div.classList.remove("highlighting"))}enableClick(){if(C(this,Bc))return;const e=C(this,Bt)._signal;ne(this,Bc,this.pointerdown.bind(this)),ne(this,$p,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",C(this,Bc),{signal:e}),this.div.addEventListener("pointerup",C(this,$p),{signal:e})}disableClick(){C(this,Bc)&&(this.div.removeEventListener("pointerdown",C(this,Bc)),this.div.removeEventListener("pointerup",C(this,$p)),ne(this,Bc,null),ne(this,$p,null))}attach(e){C(this,Os).set(e.id,e);const{annotationElementId:n}=e;n&&C(this,Bt).isDeletedAnnotationElement(n)&&C(this,Bt).removeDeletedAnnotationElement(e)}detach(e){var n;C(this,Os).delete(e.id),(n=C(this,Fp))==null||n.removePointerInTextLayer(e.contentDiv),!C(this,Pv)&&e.annotationElementId&&C(this,Bt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),C(this,Bt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,C(this,Rv)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(C(this,Bt).addDeletedAnnotationElement(e.annotationElementId),Jn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),C(this,Bt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),C(this,Bt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!C(this,zc)&&(e._focusEventsAllowed=!1,ne(this,zc,setTimeout(()=>{ne(this,zc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:C(this,Bt)._signal}),n.focus())},0))),e._structTreeParentId=(r=C(this,Fp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return C(this,Bt).getId()}get _signal(){return C(this,Bt)._signal}canCreateNewEmptyEditor(){var e;return(e=C(this,Ji,v5))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){C(this,Bt).updateToolbar(e),C(this,Bt).updateMode(e);const{offsetX:r,offsetY:i}=re(this,Ji,x5).call(this),o=this.getNextId(),s=re(this,Ji,b5).call(this,{parent:this,id:o,x:r,y:i,uiManager:C(this,Bt),isCentered:!0,...n});s&&this.add(s)}deserialize(e){var n;return((n=C(Wa,Cf).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,C(this,Bt)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),o=re(this,Ji,b5).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:C(this,Bt),isCentered:n,...r});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(re(this,Ji,x5).call(this),!0)}setSelected(e){C(this,Bt).setSelected(e)}toggleSelected(e){C(this,Bt).toggleSelected(e)}isSelected(e){return C(this,Bt).isSelected(e)}unselect(e){C(this,Bt).unselect(e)}pointerup(e){const{isMac:n}=os.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&C(this,Ef)){if(ne(this,Ef,!1),!C(this,Av)){ne(this,Av,!0);return}if(C(this,Bt).getMode()===Nn.STAMP){C(this,Bt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(C(this,Bt).getMode()===Nn.HIGHLIGHT&&this.enableTextSelection(),C(this,Ef)){ne(this,Ef,!1);return}const{isMac:n}=os.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;ne(this,Ef,!0);const r=C(this,Bt).getActive();ne(this,Av,!r||r.isEmpty())}findNewParent(e,n,r){const i=C(this,Bt).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=C(this,Bt).getActive())==null?void 0:e.parent)===this&&(C(this,Bt).commitOrRemove(),C(this,Bt).setActiveEditor(null)),C(this,zc)&&(clearTimeout(C(this,zc)),ne(this,zc,null));for(const r of C(this,Os).values())(n=C(this,Fp))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,C(this,Os).clear(),C(this,Bt).removeLayer(this)}render({viewport:e}){this.viewport=e,lg(this.div,e);for(const n of C(this,Bt).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){C(this,Bt).commitOrRemove(),re(this,Ji,nT).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,lg(this.div,{rotation:r}),n!==r)for(const i of C(this,Os).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return C(this,Bt).viewParameters.realScale}};Fp=new WeakMap,Av=new WeakMap,cu=new WeakMap,$p=new WeakMap,Bc=new WeakMap,Vc=new WeakMap,zc=new WeakMap,Os=new WeakMap,Ef=new WeakMap,Rv=new WeakMap,Pv=new WeakMap,No=new WeakMap,Bt=new WeakMap,Cf=new WeakMap,Ji=new WeakSet,Zoe=function(e){if(C(this,Bt).unselectAll(),e.target===C(this,No).div){const{isMac:n}=os.platform;if(e.button!==0||e.ctrlKey&&n)return;C(this,Bt).showAllEditors("highlight",!0,!0),C(this,No).div.classList.add("free"),vA.startHighlighting(this,C(this,Bt).direction==="ltr",e),C(this,No).div.addEventListener("pointerup",()=>{C(this,No).div.classList.remove("free")},{once:!0,signal:C(this,Bt)._signal}),e.preventDefault()}},v5=function(){return C(Wa,Cf).get(C(this,Bt).getMode())},b5=function(e){const n=C(this,Ji,v5);return n?new n.prototype.constructor(e):null},x5=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),o=Math.max(0,e),s=Math.max(0,n),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(o+a)/2-e,c=(s+l)/2-n,[d,h]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:h}},nT=function(){ne(this,Rv,!0);for(const e of C(this,Os).values())e.isEmpty()&&e.remove();ne(this,Rv,!1)},vt(Wa,"_initialized",!1),ie(Wa,Cf,new Map([XF,a5,p5,vA].map(e=>[e._editorType,e])));let y5=Wa;var du,c1,xi,Tf,d1,_5,hg,S5,ese;const Vi=class Vi{constructor({pageIndex:e}){ie(this,hg);ie(this,du,null);ie(this,c1,0);ie(this,xi,new Map);ie(this,Tf,new Map);this.pageIndex=e}setParent(e){if(!C(this,du)){ne(this,du,e);return}if(C(this,du)!==e){if(C(this,xi).size>0)for(const n of C(this,xi).values())n.remove(),e.append(n);ne(this,du,e)}}static get _svgFactory(){return On(this,"_svgFactory",new O3)}highlight(e,n,r,i=!1){const o=Es(this,c1)._++,s=re(this,hg,S5).call(this,e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");const a=Vi._svgFactory.createElement("defs");s.append(a);const l=Vi._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&C(this,Tf).set(o,l);const c=re(this,hg,ese).call(this,a,u),d=Vi._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),C(this,xi).set(o,s),{id:o,clipPathId:`url(#${c})`}}highlightOutline(e){const n=Es(this,c1)._++,r=re(this,hg,S5).call(this,e.box);r.classList.add("highlightOutline");const i=Vi._svgFactory.createElement("defs");r.append(i);const o=Vi._svgFactory.createElement("path");i.append(o);const s=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",s),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const c=Vi._svgFactory.createElement("mask");i.append(c),a=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");const d=Vi._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=Vi._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${s}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=Vi._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),C(this,xi).set(n,r),n}finalizeLine(e,n){const r=C(this,Tf).get(e);C(this,Tf).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){C(this,xi).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),C(this,Tf).delete(e)}updatePath(e,n){C(this,Tf).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;re(r=Vi,d1,_5).call(r,C(this,xi).get(e),n)}show(e,n){C(this,xi).get(e).classList.toggle("hidden",!n)}rotate(e,n){C(this,xi).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){C(this,xi).get(e).setAttribute("fill",n)}changeOpacity(e,n){C(this,xi).get(e).setAttribute("fill-opacity",n)}addClass(e,n){C(this,xi).get(e).classList.add(n)}removeClass(e,n){C(this,xi).get(e).classList.remove(n)}remove(e){C(this,du)!==null&&(C(this,xi).get(e).remove(),C(this,xi).delete(e))}destroy(){ne(this,du,null);for(const e of C(this,xi).values())e.remove();C(this,xi).clear()}};du=new WeakMap,c1=new WeakMap,xi=new WeakMap,Tf=new WeakMap,d1=new WeakSet,_5=function(e,{x:n=0,y:r=0,width:i=1,height:o=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*o}%`},hg=new WeakSet,S5=function(e){var r;const n=Vi._svgFactory.create(1,1,!0);return C(this,du).append(n),n.setAttribute("aria-hidden",!0),re(r=Vi,d1,_5).call(r,n,e),n},ese=function(e,n){const r=Vi._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const o=Vi._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),i},ie(Vi,d1);let w5=Vi;Qt.AbortException;Qt.AnnotationEditorLayer;Qt.AnnotationEditorParamsType;Qt.AnnotationEditorType;Qt.AnnotationEditorUIManager;Qt.AnnotationLayer;Qt.AnnotationMode;Qt.CMapCompressionType;Qt.ColorPicker;Qt.DOMSVGFactory;Qt.DrawLayer;Qt.FeatureTest;var r7e=Qt.GlobalWorkerOptions;Qt.ImageKind;Qt.InvalidPDFException;Qt.MissingPDFException;Qt.OPS;Qt.Outliner;Qt.PDFDataRangeTransport;Qt.PDFDateString;Qt.PDFWorker;Qt.PasswordResponses;Qt.PermissionFlag;Qt.PixelsPerInch;Qt.RenderingCancelledException;Qt.TextLayer;Qt.UnexpectedResponseException;Qt.Util;Qt.VerbosityLevel;Qt.XfaLayer;Qt.build;Qt.createValidAbsoluteUrl;Qt.fetchData;var i7e=Qt.getDocument;Qt.getFilenameFromUrl;Qt.getPdfFilenameFromUrl;Qt.getXfaPageViewport;Qt.isDataScheme;Qt.isPdfFile;Qt.noContextMenu;Qt.normalizeUnicode;Qt.renderTextLayer;Qt.setLayerDimensions;Qt.shadow;Qt.updateTextLayer;Qt.version;const o7e=t=>oe.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(t.loaded/t.total*100),"%"),s7e=t=>oe.createElement("div",{style:{color:"black"}},t.message),a7e=t=>{throw new Error(`Error loading PDF document: ${t.message}!`)},l7e="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",u7e=({document:t,beforeLoad:e=o7e,errorMessage:n=s7e,children:r,onError:i=a7e,workerSrc:o=l7e})=>{const s=F.useRef(null),a=F.useRef(null),[l,u]=F.useState(null),[c,d]=F.useState(null);return F.useEffect(()=>(r7e.workerSrc=o,s.current=i7e(t),s.current.onProgress=h=>{d(h.loaded>h.total?null:h)},s.current.promise.then(h=>{a.current=h}).catch(h=>{h.message!="Worker was destroyed"&&(u(h),i(h))}).finally(()=>{d(null)}),()=>{s.current&&s.current.destroy(),a.current&&a.current.destroy()}),[t]),l?n(l):c?e(c):a.current&&r(a.current)};function c7e({mode:t,analyticsLevel:e,readPurposes:n,displayedReads:r,selectedHighlightIds:i,setSelectedHighlightIds:o}){const{highlight:s,isScrolledTo:a,highlightBindings:l}=_je(),u=()=>{let d="#dceefa";return t===Vr.ANALYZING?e===Gn.PURPOSES&&(d=n[s.readPurposeId].color):t===Vr.READING&&(d=r.includes(s.readPurposeId)?n[s.readPurposeId].color:"#e6e6e6"),d},c=i.includes(s.id);return s.type==="text"?D.jsx(Dje,{isScrolledTo:a,highlight:s,style:{background:u(),border:c?"2px solid black":"none"},onClick:()=>o([s.id])}):D.jsx(r8e,{isScrolledTo:a,highlight:s,bounds:l.textLayer,style:{background:u(),pointerEvents:"none",border:c?"2px solid black":"none"}})}const d7e=({addHighlight:t})=>{const e=F.useRef(null),{getCurrentSelection:n,removeGhostHighlight:r,setTip:i}=Wre();return D.jsx("div",{className:"Tip",children:D.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=n(),t({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function f7e(){const{mode:t}=fd(),{analyticsLevel:e}=wg(),{paperUrl:n,highlights:r,addHighlight:i,selectedHighlightIds:o,setSelectedHighlightIds:s,currentReadId:a,readPurposes:l,displayedReads:u,pdfViewerRef:c}=Zf();if(!F.useContext(AR))throw new Error("TourContext not found");const h=F.useRef(null);F.useEffect(()=>{o.length>0&&p()},[o]);const p=()=>{const m=o[o.length-1],y=r.find(x=>x.id===m);y&&h.current&&h.current.scrollToHighlight(y)};return D.jsx(Be,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:n&&D.jsx(Be,{style:{height:"100%",width:"100%",position:"relative"},className:"pdf pdf-container",children:D.jsx(u7e,{document:n,children:m=>{var y;return D.jsx(Nje,{enableAreaSelection:x=>x.altKey,pdfDocument:m,utilsRef:x=>{c.current=x.getViewer(),h.current=x},selectionTip:Object.keys(l).length>0&&a!==""?D.jsx(d7e,{addHighlight:i}):null,highlights:r,textSelectionColor:(y=l[a])==null?void 0:y.color,children:D.jsx(c7e,{mode:t,analyticsLevel:e,readPurposes:l,displayedReads:u,selectedHighlightIds:o,setSelectedHighlightIds:s})})}})})})}var fD,oK;function q3(){if(oK)return fD;oK=1;var t="\0",e="\0",n="";class r{constructor(c){vt(this,"_isDirected",!0);vt(this,"_isMultigraph",!1);vt(this,"_isCompound",!1);vt(this,"_label");vt(this,"_defaultNodeLabelFn",()=>{});vt(this,"_defaultEdgeLabelFn",()=>{});vt(this,"_nodes",{});vt(this,"_in",{});vt(this,"_preds",{});vt(this,"_out",{});vt(this,"_sucs",{});vt(this,"_edgeObjs",{});vt(this,"_edgeLabels",{});vt(this,"_nodeCount",0);vt(this,"_edgeCount",0);vt(this,"_parent");vt(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var h=arguments,p=this;return c.forEach(function(m){h.length>1?p.setNode(m,d):p.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=e,this._children[c]={},this._children[e][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var h=p=>d.removeEdge(d._edgeObjs[p]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(p){d.setParent(p)}),delete this._children[c]),Object.keys(this._in[c]).forEach(h),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var h=d;h!==void 0;h=this.parent(h))if(h===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==e)return d}}children(c=e){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===e)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const p=new Set(d);for(var h of this.successors(c))p.add(h);return Array.from(p.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([y,x]){c(y)&&d.setNode(y,x)}),Object.values(this._edgeObjs).forEach(function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,h.edge(y))});var p={};function m(y){var x=h.parent(y);return x===void 0||d.hasNode(x)?(p[y]=x,x):x in p?p[x]:m(x)}return this._isCompound&&d.nodes().forEach(y=>d.setParent(y,m(y))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var h=this,p=arguments;return c.reduce(function(m,y){return p.length>1?h.setEdge(m,y,d):h.setEdge(m,y),y}),this}setEdge(){var c,d,h,p,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,h=y.name,arguments.length===2&&(p=arguments[1],m=!0)):(c=y,d=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),c=""+c,d=""+d,h!==void 0&&(h=""+h);var x=s(this._isDirected,c,d,h);if(Object.hasOwn(this._edgeLabels,x))return m&&(this._edgeLabels[x]=p),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[x]=m?p:this._defaultEdgeLabelFn(c,d,h);var w=a(this._isDirected,c,d,h);return c=w.v,d=w.w,Object.freeze(w),this._edgeObjs[x]=w,i(this._preds[d],c),i(this._sucs[c],d),this._in[d][x]=w,this._out[c][x]=w,this._edgeCount++,this}edge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h);return this._edgeLabels[p]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h);return Object.hasOwn(this._edgeLabels,p)}removeEdge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h),m=this._edgeObjs[p];return m&&(c=m.v,d=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this}inEdges(c,d){var h=this._in[c];if(h){var p=Object.values(h);return d?p.filter(m=>m.v===d):p}}outEdges(c,d){var h=this._out[c];if(h){var p=Object.values(h);return d?p.filter(m=>m.w===d):p}}nodeEdges(c,d){var h=this.inEdges(c,d);if(h)return h.concat(this.outEdges(c,d))}}function i(u,c){u[c]?u[c]++:u[c]=1}function o(u,c){--u[c]||delete u[c]}function s(u,c,d,h){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}return p+n+m+n+(h===void 0?t:h)}function a(u,c,d,h){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}var x={v:p,w:m};return h&&(x.name=h),x}function l(u,c){return s(u,c.v,c.w,c.name)}return fD=r,fD}var hD,sK;function h7e(){return sK||(sK=1,hD="2.2.4"),hD}var pD,aK;function p7e(){return aK||(aK=1,pD={Graph:q3(),version:h7e()}),pD}var gD,lK;function g7e(){if(lK)return gD;lK=1;var t=q3();gD={write:e,read:i};function e(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:r(o)};return o.graph()!==void 0&&(s.value=structuredClone(o.graph())),s}function n(o){return o.nodes().map(function(s){var a=o.node(s),l=o.parent(s),u={v:s};return a!==void 0&&(u.value=a),l!==void 0&&(u.parent=l),u})}function r(o){return o.edges().map(function(s){var a=o.edge(s),l={v:s.v,w:s.w};return s.name!==void 0&&(l.name=s.name),a!==void 0&&(l.value=a),l})}function i(o){var s=new t(o.options).setGraph(o.value);return o.nodes.forEach(function(a){s.setNode(a.v,a.value),a.parent&&s.setParent(a.v,a.parent)}),o.edges.forEach(function(a){s.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),s}return gD}var mD,uK;function m7e(){if(uK)return mD;uK=1,mD=t;function t(e){var n={},r=[],i;function o(s){Object.hasOwn(n,s)||(n[s]=!0,i.push(s),e.successors(s).forEach(o),e.predecessors(s).forEach(o))}return e.nodes().forEach(function(s){i=[],o(s),i.length&&r.push(i)}),r}return mD}var yD,cK;function tse(){if(cK)return yD;cK=1;class t{constructor(){vt(this,"_arr",[]);vt(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o}_swap(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r}}return yD=t,yD}var vD,dK;function nse(){if(dK)return vD;dK=1;var t=tse();vD=n;var e=()=>1;function n(i,o,s,a){return r(i,String(o),s||e,a||function(l){return i.outEdges(l)})}function r(i,o,s,a){var l={},u=new t,c,d,h=function(p){var m=p.v!==c?p.v:p.w,y=l[m],x=s(p),w=d.distance+x;if(x<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+x);w<y.distance&&(y.distance=w,y.predecessor=c,u.decrease(m,w))};for(i.nodes().forEach(function(p){var m=p===o?0:Number.POSITIVE_INFINITY;l[p]={distance:m},u.add(p,m)});u.size()>0&&(c=u.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)a(c).forEach(h);return l}return vD}var bD,fK;function y7e(){if(fK)return bD;fK=1;var t=nse();bD=e;function e(n,r,i){return n.nodes().reduce(function(o,s){return o[s]=t(n,s,r,i),o},{})}return bD}var xD,hK;function rse(){if(hK)return xD;hK=1,xD=t;function t(e){var n=0,r=[],i={},o=[];function s(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var u=[],c;do c=r.pop(),i[c].onStack=!1,u.push(c);while(a!==c);o.push(u)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||s(a)}),o}return xD}var wD,pK;function v7e(){if(pK)return wD;pK=1;var t=rse();wD=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return wD}var _D,gK;function b7e(){if(gK)return _D;gK=1,_D=e;var t=()=>1;function e(r,i,o){return n(r,i||t,o||function(s){return r.outEdges(s)})}function n(r,i,o){var s={},a=r.nodes();return a.forEach(function(l){s[l]={},s[l][l]={distance:0},a.forEach(function(u){l!==u&&(s[l][u]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(u){var c=u.v===l?u.w:u.v,d=i(u);s[l][c]={distance:d,predecessor:l}})}),a.forEach(function(l){var u=s[l];a.forEach(function(c){var d=s[c];a.forEach(function(h){var p=d[l],m=u[h],y=d[h],x=p.distance+m.distance;x<y.distance&&(y.distance=x,y.predecessor=m.predecessor)})})}),s}return _D}var SD,mK;function ise(){if(mK)return SD;mK=1;function t(n){var r={},i={},o=[];function s(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(s),delete i[a],o.push(a))}if(n.sinks().forEach(s),Object.keys(r).length!==n.nodeCount())throw new e;return o}class e extends Error{constructor(){super(...arguments)}}return SD=t,t.CycleException=e,SD}var ED,yK;function x7e(){if(yK)return ED;yK=1;var t=ise();ED=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return ED}var CD,vK;function ose(){if(vK)return CD;vK=1,CD=t;function t(i,o,s){Array.isArray(o)||(o=[o]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=s==="post"?e:n,u=[],c={};return o.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,c,u)}),u}function e(i,o,s,a){for(var l=[[i,!1]];l.length>0;){var u=l.pop();u[1]?a.push(u[0]):Object.hasOwn(s,u[0])||(s[u[0]]=!0,l.push([u[0],!0]),r(o(u[0]),c=>l.push([c,!1])))}}function n(i,o,s,a){for(var l=[i];l.length>0;){var u=l.pop();Object.hasOwn(s,u)||(s[u]=!0,a.push(u),r(o(u),c=>l.push(c)))}}function r(i,o){for(var s=i.length;s--;)o(i[s],s,i);return i}return CD}var TD,bK;function w7e(){if(bK)return TD;bK=1;var t=ose();TD=e;function e(n,r){return t(n,r,"post")}return TD}var AD,xK;function _7e(){if(xK)return AD;xK=1;var t=ose();AD=e;function e(n,r){return t(n,r,"pre")}return AD}var RD,wK;function S7e(){if(wK)return RD;wK=1;var t=q3(),e=tse();RD=n;function n(r,i){var o=new t,s={},a=new e,l;function u(d){var h=d.v===l?d.w:d.v,p=a.priority(h);if(p!==void 0){var m=i(d);m<p&&(s[h]=l,a.decrease(h,m))}}if(r.nodeCount()===0)return o;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),a.decrease(r.nodes()[0],0);for(var c=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(s,l))o.setEdge(l,s[l]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(l).forEach(u)}return o}return RD}var PD,_K;function E7e(){return _K||(_K=1,PD={components:m7e(),dijkstra:nse(),dijkstraAll:y7e(),findCycles:v7e(),floydWarshall:b7e(),isAcyclic:x7e(),postorder:w7e(),preorder:_7e(),prim:S7e(),tarjan:rse(),topsort:ise()}),PD}var ID,SK;function wl(){if(SK)return ID;SK=1;var t=p7e();return ID={Graph:t.Graph,json:g7e(),alg:E7e(),version:t.version},ID}var kD,EK;function C7e(){if(EK)return kD;EK=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,o=i._prev;if(o!==i)return e(o),o}enqueue(i){let o=this._sentinel;i._prev&&i._next&&e(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o}toString(){let i=[],o=this._sentinel,s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return kD=t,kD}var MD,CK;function T7e(){if(CK)return MD;CK=1;let t=wl().Graph,e=C7e();MD=r;let n=()=>1;function r(u,c){if(u.nodeCount()<=1)return[];let d=s(u,c||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(p=>u.outEdges(p.v,p.w))}function i(u,c,d){let h=[],p=c[c.length-1],m=c[0],y;for(;u.nodeCount();){for(;y=m.dequeue();)o(u,c,d,y);for(;y=p.dequeue();)o(u,c,d,y);if(u.nodeCount()){for(let x=c.length-2;x>0;--x)if(y=c[x].dequeue(),y){h=h.concat(o(u,c,d,y,!0));break}}}return h}function o(u,c,d,h,p){let m=p?[]:void 0;return u.inEdges(h.v).forEach(y=>{let x=u.edge(y),w=u.node(y.v);p&&m.push({v:y.v,w:y.w}),w.out-=x,a(c,d,w)}),u.outEdges(h.v).forEach(y=>{let x=u.edge(y),w=y.w,E=u.node(w);E.in-=x,a(c,d,E)}),u.removeNode(h.v),m}function s(u,c){let d=new t,h=0,p=0;u.nodes().forEach(x=>{d.setNode(x,{v:x,in:0,out:0})}),u.edges().forEach(x=>{let w=d.edge(x.v,x.w)||0,E=c(x),S=w+E;d.setEdge(x.v,x.w,S),p=Math.max(p,d.node(x.v).out+=E),h=Math.max(h,d.node(x.w).in+=E)});let m=l(p+h+3).map(()=>new e),y=h+1;return d.nodes().forEach(x=>{a(m,y,d.node(x))}),{graph:d,buckets:m,zeroIdx:y}}function a(u,c,d){d.out?d.in?u[d.out-d.in+c].enqueue(d):u[u.length-1].enqueue(d):u[0].enqueue(d)}function l(u){const c=[];for(let d=0;d<u;d++)c.push(d);return c}return MD}var ND,TK;function li(){if(TK)return ND;TK=1;let t=wl().Graph;ND={addBorderNode:c,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:s,mapValues:N,maxRank:m,normalizeRanks:l,notime:w,partition:y,pick:k,predecessorWeights:o,range:T,removeEmptyRanks:u,simplify:n,successorWeights:i,time:x,uniqueId:S,zipObject:R};function e(M,L,I,O){let V;do V=S(O);while(M.hasNode(V));return I.dummy=L,M.setNode(V,I),V}function n(M){let L=new t().setGraph(M.graph());return M.nodes().forEach(I=>L.setNode(I,M.node(I))),M.edges().forEach(I=>{let O=L.edge(I.v,I.w)||{weight:0,minlen:1},V=M.edge(I);L.setEdge(I.v,I.w,{weight:O.weight+V.weight,minlen:Math.max(O.minlen,V.minlen)})}),L}function r(M){let L=new t({multigraph:M.isMultigraph()}).setGraph(M.graph());return M.nodes().forEach(I=>{M.children(I).length||L.setNode(I,M.node(I))}),M.edges().forEach(I=>{L.setEdge(I,M.edge(I))}),L}function i(M){let L=M.nodes().map(I=>{let O={};return M.outEdges(I).forEach(V=>{O[V.w]=(O[V.w]||0)+M.edge(V).weight}),O});return R(M.nodes(),L)}function o(M){let L=M.nodes().map(I=>{let O={};return M.inEdges(I).forEach(V=>{O[V.v]=(O[V.v]||0)+M.edge(V).weight}),O});return R(M.nodes(),L)}function s(M,L){let I=M.x,O=M.y,V=L.x-I,$=L.y-O,z=M.width/2,W=M.height/2;if(!V&&!$)throw new Error("Not possible to find intersection inside of the rectangle");let K,J;return Math.abs($)*z>Math.abs(V)*W?($<0&&(W=-W),K=W*V/$,J=W):(V<0&&(z=-z),K=z,J=z*$/V),{x:I+K,y:O+J}}function a(M){let L=T(m(M)+1).map(()=>[]);return M.nodes().forEach(I=>{let O=M.node(I),V=O.rank;V!==void 0&&(L[V][O.order]=I)}),L}function l(M){let L=M.nodes().map(O=>{let V=M.node(O).rank;return V===void 0?Number.MAX_VALUE:V}),I=p(Math.min,L);M.nodes().forEach(O=>{let V=M.node(O);Object.hasOwn(V,"rank")&&(V.rank-=I)})}function u(M){let L=M.nodes().map(z=>M.node(z).rank),I=p(Math.min,L),O=[];M.nodes().forEach(z=>{let W=M.node(z).rank-I;O[W]||(O[W]=[]),O[W].push(z)});let V=0,$=M.graph().nodeRankFactor;Array.from(O).forEach((z,W)=>{z===void 0&&W%$!==0?--V:z!==void 0&&V&&z.forEach(K=>M.node(K).rank+=V)})}function c(M,L,I,O){let V={width:0,height:0};return arguments.length>=4&&(V.rank=I,V.order=O),e(M,"border",V,L)}function d(M,L=h){const I=[];for(let O=0;O<M.length;O+=L){const V=M.slice(O,O+L);I.push(V)}return I}const h=65535;function p(M,L){if(L.length>h){const I=d(L);return M.apply(null,I.map(O=>M.apply(null,O)))}else return M.apply(null,L)}function m(M){const I=M.nodes().map(O=>{let V=M.node(O).rank;return V===void 0?Number.MIN_VALUE:V});return p(Math.max,I)}function y(M,L){let I={lhs:[],rhs:[]};return M.forEach(O=>{L(O)?I.lhs.push(O):I.rhs.push(O)}),I}function x(M,L){let I=Date.now();try{return L()}finally{console.log(M+" time: "+(Date.now()-I)+"ms")}}function w(M,L){return L()}let E=0;function S(M){var L=++E;return toString(M)+L}function T(M,L,I=1){L==null&&(L=M,M=0);let O=$=>$<L;I<0&&(O=$=>L<$);const V=[];for(let $=M;O($);$+=I)V.push($);return V}function k(M,L){const I={};for(const O of L)M[O]!==void 0&&(I[O]=M[O]);return I}function N(M,L){let I=L;return typeof L=="string"&&(I=O=>O[L]),Object.entries(M).reduce((O,[V,$])=>(O[V]=I($,V),O),{})}function R(M,L){return M.reduce((I,O,V)=>(I[O]=L[V],I),{})}return ND}var DD,AK;function A7e(){if(AK)return DD;AK=1;let t=T7e(),e=li().uniqueId;DD={run:n,undo:i};function n(o){(o.graph().acyclicer==="greedy"?t(o,a(o)):r(o)).forEach(l=>{let u=o.edge(l);o.removeEdge(l),u.forwardName=l.name,u.reversed=!0,o.setEdge(l.w,l.v,u,e("rev"))});function a(l){return u=>l.edge(u).weight}}function r(o){let s=[],a={},l={};function u(c){Object.hasOwn(l,c)||(l[c]=!0,a[c]=!0,o.outEdges(c).forEach(d=>{Object.hasOwn(a,d.w)?s.push(d):u(d.w)}),delete a[c])}return o.nodes().forEach(u),s}function i(o){o.edges().forEach(s=>{let a=o.edge(s);if(a.reversed){o.removeEdge(s);let l=a.forwardName;delete a.reversed,delete a.forwardName,o.setEdge(s.w,s.v,a,l)}})}return DD}var LD,RK;function R7e(){if(RK)return LD;RK=1;let t=li();LD={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(o=>n(i,o))}function n(i,o){let s=o.v,a=i.node(s).rank,l=o.w,u=i.node(l).rank,c=o.name,d=i.edge(o),h=d.labelRank;if(u===a+1)return;i.removeEdge(o);let p,m,y;for(y=0,++a;a<u;++y,++a)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:o,rank:a},p=t.addDummyNode(i,"edge",m,"_d"),a===h&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),i.setEdge(s,p,{weight:d.weight},c),y===0&&i.graph().dummyChains.push(p),s=p;i.setEdge(s,l,{weight:d.weight},c)}function r(i){i.graph().dummyChains.forEach(o=>{let s=i.node(o),a=s.edgeLabel,l;for(i.setEdge(s.edgeObj,a);s.dummy;)l=i.successors(o)[0],i.removeNode(o),a.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(a.x=s.x,a.y=s.y,a.width=s.width,a.height=s.height),o=l,s=i.node(o)})}return LD}var OD,PK;function bA(){if(PK)return OD;PK=1;const{applyWithChunking:t}=li();OD={longestPath:e,slack:n};function e(r){var i={};function o(s){var a=r.node(s);if(Object.hasOwn(i,s))return a.rank;i[s]=!0;let l=r.outEdges(s).map(c=>c==null?Number.POSITIVE_INFINITY:o(c.w)-r.edge(c).minlen);var u=t(Math.min,l);return u===Number.POSITIVE_INFINITY&&(u=0),a.rank=u}r.sources().forEach(o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return OD}var FD,IK;function sse(){if(IK)return FD;IK=1;var t=wl().Graph,e=bA().slack;FD=n;function n(s){var a=new t({directed:!1}),l=s.nodes()[0],u=s.nodeCount();a.setNode(l,{});for(var c,d;r(a,s)<u;)c=i(a,s),d=a.hasNode(c.v)?e(s,c):-e(s,c),o(a,s,d);return a}function r(s,a){function l(u){a.nodeEdges(u).forEach(c=>{var d=c.v,h=u===d?c.w:d;!s.hasNode(h)&&!e(a,c)&&(s.setNode(h,{}),s.setEdge(u,h,{}),l(h))})}return s.nodes().forEach(l),s.nodeCount()}function i(s,a){return a.edges().reduce((u,c)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(c.v)!==s.hasNode(c.w)&&(d=e(a,c)),d<u[0]?[d,c]:u},[Number.POSITIVE_INFINITY,null])[1]}function o(s,a,l){s.nodes().forEach(u=>a.node(u).rank+=l)}return FD}var $D,kK;function P7e(){if(kK)return $D;kK=1;var t=sse(),e=bA().slack,n=bA().longestPath,r=wl().alg.preorder,i=wl().alg.postorder,o=li().simplify;$D=s,s.initLowLimValues=c,s.initCutValues=a,s.calcCutValue=u,s.leaveEdge=h,s.enterEdge=p,s.exchangeEdges=m;function s(E){E=o(E),n(E);var S=t(E);c(S),a(S,E);for(var T,k;T=h(S);)k=p(S,E,T),m(S,E,T,k)}function a(E,S){var T=i(E,E.nodes());T=T.slice(0,T.length-1),T.forEach(k=>l(E,S,k))}function l(E,S,T){var k=E.node(T),N=k.parent;E.edge(T,N).cutvalue=u(E,S,T)}function u(E,S,T){var k=E.node(T),N=k.parent,R=!0,M=S.edge(T,N),L=0;return M||(R=!1,M=S.edge(N,T)),L=M.weight,S.nodeEdges(T).forEach(I=>{var O=I.v===T,V=O?I.w:I.v;if(V!==N){var $=O===R,z=S.edge(I).weight;if(L+=$?z:-z,x(E,T,V)){var W=E.edge(T,V).cutvalue;L+=$?-W:W}}}),L}function c(E,S){arguments.length<2&&(S=E.nodes()[0]),d(E,{},1,S)}function d(E,S,T,k,N){var R=T,M=E.node(k);return S[k]=!0,E.neighbors(k).forEach(L=>{Object.hasOwn(S,L)||(T=d(E,S,T,L,k))}),M.low=R,M.lim=T++,N?M.parent=N:delete M.parent,T}function h(E){return E.edges().find(S=>E.edge(S).cutvalue<0)}function p(E,S,T){var k=T.v,N=T.w;S.hasEdge(k,N)||(k=T.w,N=T.v);var R=E.node(k),M=E.node(N),L=R,I=!1;R.lim>M.lim&&(L=M,I=!0);var O=S.edges().filter(V=>I===w(E,E.node(V.v),L)&&I!==w(E,E.node(V.w),L));return O.reduce((V,$)=>e(S,$)<e(S,V)?$:V)}function m(E,S,T,k){var N=T.v,R=T.w;E.removeEdge(N,R),E.setEdge(k.v,k.w,{}),c(E),a(E,S),y(E,S)}function y(E,S){var T=E.nodes().find(N=>!S.node(N).parent),k=r(E,T);k=k.slice(1),k.forEach(N=>{var R=E.node(N).parent,M=S.edge(N,R),L=!1;M||(M=S.edge(R,N),L=!0),S.node(N).rank=S.node(R).rank+(L?M.minlen:-M.minlen)})}function x(E,S,T){return E.hasEdge(S,T)}function w(E,S,T){return T.low<=S.lim&&S.lim<=T.lim}return $D}var BD,MK;function I7e(){if(MK)return BD;MK=1;var t=bA(),e=t.longestPath,n=sse(),r=P7e();BD=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":s(l);break;case"longest-path":o(l);break;default:a(l)}}var o=e;function s(l){e(l),n(l)}function a(l){r(l)}return BD}var VD,NK;function k7e(){if(NK)return VD;NK=1,VD=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(o=>{let s=r.node(o),a=s.edgeObj,l=e(r,i,a.v,a.w),u=l.path,c=l.lca,d=0,h=u[d],p=!0;for(;o!==a.w;){if(s=r.node(o),p){for(;(h=u[d])!==c&&r.node(h).maxRank<s.rank;)d++;h===c&&(p=!1)}if(!p){for(;d<u.length-1&&r.node(h=u[d+1]).minRank<=s.rank;)d++;h=u[d]}r.setParent(o,h),o=r.successors(o)[0]}})}function e(r,i,o,s){let a=[],l=[],u=Math.min(i[o].low,i[s].low),c=Math.max(i[o].lim,i[s].lim),d,h;d=o;do d=r.parent(d),a.push(d);while(d&&(i[d].low>u||c>i[d].lim));for(h=d,d=s;(d=r.parent(d))!==h;)l.push(d);return{path:a.concat(l.reverse()),lca:h}}function n(r){let i={},o=0;function s(a){let l=o;r.children(a).forEach(s),i[a]={low:l,lim:o++}}return r.children().forEach(s),i}return VD}var zD,DK;function M7e(){if(DK)return zD;DK=1;let t=li();zD={run:e,cleanup:o};function e(s){let a=t.addDummyNode(s,"root",{},"_root"),l=r(s),u=Object.values(l),c=t.applyWithChunking(Math.max,u)-1,d=2*c+1;s.graph().nestingRoot=a,s.edges().forEach(p=>s.edge(p).minlen*=d);let h=i(s)+1;s.children().forEach(p=>n(s,a,d,h,c,l,p)),s.graph().nodeRankFactor=d}function n(s,a,l,u,c,d,h){let p=s.children(h);if(!p.length){h!==a&&s.setEdge(a,h,{weight:0,minlen:l});return}let m=t.addBorderNode(s,"_bt"),y=t.addBorderNode(s,"_bb"),x=s.node(h);s.setParent(m,h),x.borderTop=m,s.setParent(y,h),x.borderBottom=y,p.forEach(w=>{n(s,a,l,u,c,d,w);let E=s.node(w),S=E.borderTop?E.borderTop:w,T=E.borderBottom?E.borderBottom:w,k=E.borderTop?u:2*u,N=S!==T?1:c-d[h]+1;s.setEdge(m,S,{weight:k,minlen:N,nestingEdge:!0}),s.setEdge(T,y,{weight:k,minlen:N,nestingEdge:!0})}),s.parent(h)||s.setEdge(a,m,{weight:0,minlen:c+d[h]})}function r(s){var a={};function l(u,c){var d=s.children(u);d&&d.length&&d.forEach(h=>l(h,c+1)),a[u]=c}return s.children().forEach(u=>l(u,1)),a}function i(s){return s.edges().reduce((a,l)=>a+s.edge(l).weight,0)}function o(s){var a=s.graph();s.removeNode(a.nestingRoot),delete a.nestingRoot,s.edges().forEach(l=>{var u=s.edge(l);u.nestingEdge&&s.removeEdge(l)})}return zD}var UD,LK;function N7e(){if(LK)return UD;LK=1;let t=li();UD=e;function e(r){function i(o){let s=r.children(o),a=r.node(o);if(s.length&&s.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,u=a.maxRank+1;l<u;++l)n(r,"borderLeft","_bl",o,a,l),n(r,"borderRight","_br",o,a,l)}}r.children().forEach(i)}function n(r,i,o,s,a,l){let u={width:0,height:0,rank:l,borderType:i},c=a[i][l-1],d=t.addDummyNode(r,"border",u,o);a[i][l]=d,r.setParent(d,s),c&&r.setEdge(c,d,{weight:1})}return UD}var HD,OK;function D7e(){if(OK)return HD;OK=1,HD={adjust:t,undo:e};function t(l){let u=l.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&n(l)}function e(l){let u=l.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&i(l),(u==="lr"||u==="rl")&&(s(l),n(l))}function n(l){l.nodes().forEach(u=>r(l.node(u))),l.edges().forEach(u=>r(l.edge(u)))}function r(l){let u=l.width;l.width=l.height,l.height=u}function i(l){l.nodes().forEach(u=>o(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(o),Object.hasOwn(c,"y")&&o(c)})}function o(l){l.y=-l.y}function s(l){l.nodes().forEach(u=>a(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(a),Object.hasOwn(c,"x")&&a(c)})}function a(l){let u=l.x;l.x=l.y,l.y=u}return HD}var qD,FK;function L7e(){if(FK)return qD;FK=1;let t=li();qD=e;function e(n){let r={},i=n.nodes().filter(c=>!n.children(c).length),o=i.map(c=>n.node(c).rank),s=t.applyWithChunking(Math.max,o),a=t.range(s+1).map(()=>[]);function l(c){if(r[c])return;r[c]=!0;let d=n.node(c);a[d.rank].push(c),n.successors(c).forEach(l)}return i.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(l),a}return qD}var jD,$K;function O7e(){if($K)return jD;$K=1;let t=li().zipObject;jD=e;function e(r,i){let o=0;for(let s=1;s<i.length;++s)o+=n(r,i[s-1],i[s]);return o}function n(r,i,o){let s=t(o,o.map((h,p)=>p)),a=i.flatMap(h=>r.outEdges(h).map(p=>({pos:s[p.w],weight:r.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),l=1;for(;l<o.length;)l<<=1;let u=2*l-1;l-=1;let c=new Array(u).fill(0),d=0;return a.forEach(h=>{let p=h.pos+l;c[p]+=h.weight;let m=0;for(;p>0;)p%2&&(m+=c[p+1]),p=p-1>>1,c[p]+=h.weight;d+=h.weight*m}),d}return jD}var WD,BK;function F7e(){if(BK)return WD;BK=1,WD=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let o=i.reduce((s,a)=>{let l=e.edge(a),u=e.node(a.v);return{sum:s.sum+l.weight*u.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}return WD}var GD,VK;function $7e(){if(VK)return GD;VK=1;let t=li();GD=e;function e(i,o){let s={};i.forEach((l,u)=>{let c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};l.barycenter!==void 0&&(c.barycenter=l.barycenter,c.weight=l.weight)}),o.edges().forEach(l=>{let u=s[l.v],c=s[l.w];u!==void 0&&c!==void 0&&(c.indegree++,u.out.push(s[l.w]))});let a=Object.values(s).filter(l=>!l.indegree);return n(a)}function n(i){let o=[];function s(l){return u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&r(l,u)}}function a(l){return u=>{u.in.push(l),--u.indegree===0&&i.push(u)}}for(;i.length;){let l=i.pop();o.push(l),l.in.reverse().forEach(s(l)),l.out.forEach(a(l))}return o.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,o){let s=0,a=0;i.weight&&(s+=i.barycenter*i.weight,a+=i.weight),o.weight&&(s+=o.barycenter*o.weight,a+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=s/a,i.weight=a,i.i=Math.min(o.i,i.i),o.merged=!0}return GD}var KD,zK;function B7e(){if(zK)return KD;zK=1;let t=li();KD=e;function e(i,o){let s=t.partition(i,m=>Object.hasOwn(m,"barycenter")),a=s.lhs,l=s.rhs.sort((m,y)=>y.i-m.i),u=[],c=0,d=0,h=0;a.sort(r(!!o)),h=n(u,l,h),a.forEach(m=>{h+=m.vs.length,u.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,h=n(u,l,h)});let p={vs:u.flat(!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function n(i,o,s){let a;for(;o.length&&(a=o[o.length-1]).i<=s;)o.pop(),i.push(a.vs),s++;return s}function r(i){return(o,s)=>o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:i?s.i-o.i:o.i-s.i}return KD}var YD,UK;function V7e(){if(UK)return YD;UK=1;let t=F7e(),e=$7e(),n=B7e();YD=r;function r(s,a,l,u){let c=s.children(a),d=s.node(a),h=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};h&&(c=c.filter(E=>E!==h&&E!==p));let y=t(s,c);y.forEach(E=>{if(s.children(E.v).length){let S=r(s,E.v,l,u);m[E.v]=S,Object.hasOwn(S,"barycenter")&&o(E,S)}});let x=e(y,l);i(x,m);let w=n(x,u);if(h&&(w.vs=[h,w.vs,p].flat(!0),s.predecessors(h).length)){let E=s.node(s.predecessors(h)[0]),S=s.node(s.predecessors(p)[0]);Object.hasOwn(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+E.order+S.order)/(w.weight+2),w.weight+=2}return w}function i(s,a){s.forEach(l=>{l.vs=l.vs.flatMap(u=>a[u]?a[u].vs:u)})}function o(s,a){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+a.barycenter*a.weight)/(s.weight+a.weight),s.weight+=a.weight):(s.barycenter=a.barycenter,s.weight=a.weight)}return YD}var XD,HK;function z7e(){if(HK)return XD;HK=1;let t=wl().Graph,e=li();XD=n;function n(i,o,s){let a=r(i),l=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(u=>i.node(u));return i.nodes().forEach(u=>{let c=i.node(u),d=i.parent(u);(c.rank===o||c.minRank<=o&&o<=c.maxRank)&&(l.setNode(u),l.setParent(u,d||a),i[s](u).forEach(h=>{let p=h.v===u?h.w:h.v,m=l.edge(p,u),y=m!==void 0?m.weight:0;l.setEdge(p,u,{weight:i.edge(h).weight+y})}),Object.hasOwn(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[o],borderRight:c.borderRight[o]}))}),l}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return XD}var JD,qK;function U7e(){if(qK)return JD;qK=1,JD=t;function t(e,n,r){let i={},o;r.forEach(s=>{let a=e.parent(s),l,u;for(;a;){if(l=e.parent(a),l?(u=i[l],i[l]=a):(u=o,o=a),u&&u!==a){n.setEdge(u,a);return}a=l}})}return JD}var QD,jK;function H7e(){if(jK)return QD;jK=1;let t=L7e(),e=O7e(),n=V7e(),r=z7e(),i=U7e(),o=wl().Graph,s=li();QD=a;function a(d,h){if(h&&typeof h.customOrder=="function"){h.customOrder(d,a);return}let p=s.maxRank(d),m=l(d,s.range(1,p+1),"inEdges"),y=l(d,s.range(p-1,-1,-1),"outEdges"),x=t(d);if(c(d,x),h&&h.disableOptimalOrderHeuristic)return;let w=Number.POSITIVE_INFINITY,E;for(let S=0,T=0;T<4;++S,++T){u(S%2?m:y,S%4>=2),x=s.buildLayerMatrix(d);let k=e(d,x);k<w&&(T=0,E=Object.assign({},x),w=k)}c(d,E)}function l(d,h,p){return h.map(function(m){return r(d,m,p)})}function u(d,h){let p=new o;d.forEach(function(m){let y=m.graph().root,x=n(m,y,p,h);x.vs.forEach((w,E)=>m.node(w).order=E),i(m,p,x.vs)})}function c(d,h){Object.values(h).forEach(p=>p.forEach((m,y)=>d.node(m).order=y))}return QD}var ZD,WK;function q7e(){if(WK)return ZD;WK=1;let t=wl().Graph,e=li();ZD={positionX:p,findType1Conflicts:n,findType2Conflicts:r,addConflict:o,hasConflict:s,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:h};function n(x,w){let E={};function S(T,k){let N=0,R=0,M=T.length,L=k[k.length-1];return k.forEach((I,O)=>{let V=i(x,I),$=V?x.node(V).order:M;(V||I===L)&&(k.slice(R,O+1).forEach(z=>{x.predecessors(z).forEach(W=>{let K=x.node(W),J=K.order;(J<N||$<J)&&!(K.dummy&&x.node(z).dummy)&&o(E,W,z)})}),R=O+1,N=$)}),k}return w.length&&w.reduce(S),E}function r(x,w){let E={};function S(k,N,R,M,L){let I;e.range(N,R).forEach(O=>{I=k[O],x.node(I).dummy&&x.predecessors(I).forEach(V=>{let $=x.node(V);$.dummy&&($.order<M||$.order>L)&&o(E,V,I)})})}function T(k,N){let R=-1,M,L=0;return N.forEach((I,O)=>{if(x.node(I).dummy==="border"){let V=x.predecessors(I);V.length&&(M=x.node(V[0]).order,S(N,L,O,R,M),L=O,R=M)}S(N,L,N.length,M,k.length)}),N}return w.length&&w.reduce(T),E}function i(x,w){if(x.node(w).dummy)return x.predecessors(w).find(E=>x.node(E).dummy)}function o(x,w,E){if(w>E){let T=w;w=E,E=T}let S=x[w];S||(x[w]=S={}),S[E]=!0}function s(x,w,E){if(w>E){let S=w;w=E,E=S}return!!x[w]&&Object.hasOwn(x[w],E)}function a(x,w,E,S){let T={},k={},N={};return w.forEach(R=>{R.forEach((M,L)=>{T[M]=M,k[M]=M,N[M]=L})}),w.forEach(R=>{let M=-1;R.forEach(L=>{let I=S(L);if(I.length){I=I.sort((V,$)=>N[V]-N[$]);let O=(I.length-1)/2;for(let V=Math.floor(O),$=Math.ceil(O);V<=$;++V){let z=I[V];k[L]===L&&M<N[z]&&!s(E,L,z)&&(k[z]=L,k[L]=T[L]=T[z],M=N[z])}}})}),{root:T,align:k}}function l(x,w,E,S,T){let k={},N=u(x,w,E,T),R=T?"borderLeft":"borderRight";function M(O,V){let $=N.nodes(),z=$.pop(),W={};for(;z;)W[z]?O(z):(W[z]=!0,$.push(z),$=$.concat(V(z))),z=$.pop()}function L(O){k[O]=N.inEdges(O).reduce((V,$)=>Math.max(V,k[$.v]+N.edge($)),0)}function I(O){let V=N.outEdges(O).reduce((z,W)=>Math.min(z,k[W.w]-N.edge(W)),Number.POSITIVE_INFINITY),$=x.node(O);V!==Number.POSITIVE_INFINITY&&$.borderType!==R&&(k[O]=Math.max(k[O],V))}return M(L,N.predecessors.bind(N)),M(I,N.successors.bind(N)),Object.keys(S).forEach(O=>k[O]=k[E[O]]),k}function u(x,w,E,S){let T=new t,k=x.graph(),N=m(k.nodesep,k.edgesep,S);return w.forEach(R=>{let M;R.forEach(L=>{let I=E[L];if(T.setNode(I),M){var O=E[M],V=T.edge(O,I);T.setEdge(O,I,Math.max(N(x,L,M),V||0))}M=L})}),T}function c(x,w){return Object.values(w).reduce((E,S)=>{let T=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(S).forEach(([R,M])=>{let L=y(x,R)/2;T=Math.max(M+L,T),k=Math.min(M-L,k)});const N=T-k;return N<E[0]&&(E=[N,S]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(x,w){let E=Object.values(w),S=e.applyWithChunking(Math.min,E),T=e.applyWithChunking(Math.max,E);["u","d"].forEach(k=>{["l","r"].forEach(N=>{let R=k+N,M=x[R];if(M===w)return;let L=Object.values(M),I=S-e.applyWithChunking(Math.min,L);N!=="l"&&(I=T-e.applyWithChunking(Math.max,L)),I&&(x[R]=e.mapValues(M,O=>O+I))})})}function h(x,w){return e.mapValues(x.ul,(E,S)=>{if(w)return x[w.toLowerCase()][S];{let T=Object.values(x).map(k=>k[S]).sort((k,N)=>k-N);return(T[1]+T[2])/2}})}function p(x){let w=e.buildLayerMatrix(x),E=Object.assign(n(x,w),r(x,w)),S={},T;["u","d"].forEach(N=>{T=N==="u"?w:Object.values(w).reverse(),["l","r"].forEach(R=>{R==="r"&&(T=T.map(O=>Object.values(O).reverse()));let M=(N==="u"?x.predecessors:x.successors).bind(x),L=a(x,T,E,M),I=l(x,T,L.root,L.align,R==="r");R==="r"&&(I=e.mapValues(I,O=>-O)),S[N+R]=I})});let k=c(x,S);return d(S,k),h(S,x.graph().align)}function m(x,w,E){return(S,T,k)=>{let N=S.node(T),R=S.node(k),M=0,L;if(M+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":L=-N.width/2;break;case"r":L=N.width/2;break}if(L&&(M+=E?L:-L),L=0,M+=(N.dummy?w:x)/2,M+=(R.dummy?w:x)/2,M+=R.width/2,Object.hasOwn(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":L=R.width/2;break;case"r":L=-R.width/2;break}return L&&(M+=E?L:-L),L=0,M}}function y(x,w){return x.node(w).width}return ZD}var eL,GK;function j7e(){if(GK)return eL;GK=1;let t=li(),e=q7e().positionX;eL=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([o,s])=>i.node(o).x=s)}function r(i){let o=t.buildLayerMatrix(i),s=i.graph().ranksep,a=0;o.forEach(l=>{const u=l.reduce((c,d)=>{const h=i.node(d).height;return c>h?c:h},0);l.forEach(c=>i.node(c).y=a+u/2),a+=u+s})}return eL}var tL,KK;function W7e(){if(KK)return tL;KK=1;let t=A7e(),e=R7e(),n=I7e(),r=li().normalizeRanks,i=k7e(),o=li().removeEmptyRanks,s=M7e(),a=N7e(),l=D7e(),u=H7e(),c=j7e(),d=li(),h=wl().Graph;tL=p;function p(q,de){let se=de&&de.debugTiming?d.time:d.notime;se("layout",()=>{let ee=se("  buildLayoutGraph",()=>M(q));se("  runLayout",()=>m(ee,se,de)),se("  updateInputGraph",()=>y(q,ee))})}function m(q,de,se){de("    makeSpaceForEdgeLabels",()=>L(q)),de("    removeSelfEdges",()=>Q(q)),de("    acyclic",()=>t.run(q)),de("    nestingGraph.run",()=>s.run(q)),de("    rank",()=>n(d.asNonCompoundGraph(q))),de("    injectEdgeLabelProxies",()=>I(q)),de("    removeEmptyRanks",()=>o(q)),de("    nestingGraph.cleanup",()=>s.cleanup(q)),de("    normalizeRanks",()=>r(q)),de("    assignRankMinMax",()=>O(q)),de("    removeEdgeLabelProxies",()=>V(q)),de("    normalize.run",()=>e.run(q)),de("    parentDummyChains",()=>i(q)),de("    addBorderSegments",()=>a(q)),de("    order",()=>u(q,se)),de("    insertSelfEdges",()=>X(q)),de("    adjustCoordinateSystem",()=>l.adjust(q)),de("    position",()=>c(q)),de("    positionSelfEdges",()=>j(q)),de("    removeBorderNodes",()=>J(q)),de("    normalize.undo",()=>e.undo(q)),de("    fixupEdgeLabelCoords",()=>W(q)),de("    undoCoordinateSystem",()=>l.undo(q)),de("    translateGraph",()=>$(q)),de("    assignNodeIntersects",()=>z(q)),de("    reversePoints",()=>K(q)),de("    acyclic.undo",()=>t.undo(q))}function y(q,de){q.nodes().forEach(se=>{let ee=q.node(se),ae=de.node(se);ee&&(ee.x=ae.x,ee.y=ae.y,ee.rank=ae.rank,de.children(se).length&&(ee.width=ae.width,ee.height=ae.height))}),q.edges().forEach(se=>{let ee=q.edge(se),ae=de.edge(se);ee.points=ae.points,Object.hasOwn(ae,"x")&&(ee.x=ae.x,ee.y=ae.y)}),q.graph().width=de.graph().width,q.graph().height=de.graph().height}let x=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],S=["width","height"],T={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},R=["labelpos"];function M(q){let de=new h({multigraph:!0,compound:!0}),se=ue(q.graph());return de.setGraph(Object.assign({},w,Y(se,x),d.pick(se,E))),q.nodes().forEach(ee=>{let ae=ue(q.node(ee));const te=Y(ae,S);Object.keys(T).forEach(ce=>{te[ce]===void 0&&(te[ce]=T[ce])}),de.setNode(ee,te),de.setParent(ee,q.parent(ee))}),q.edges().forEach(ee=>{let ae=ue(q.edge(ee));de.setEdge(ee,Object.assign({},N,Y(ae,k),d.pick(ae,R)))}),de}function L(q){let de=q.graph();de.ranksep/=2,q.edges().forEach(se=>{let ee=q.edge(se);ee.minlen*=2,ee.labelpos.toLowerCase()!=="c"&&(de.rankdir==="TB"||de.rankdir==="BT"?ee.width+=ee.labeloffset:ee.height+=ee.labeloffset)})}function I(q){q.edges().forEach(de=>{let se=q.edge(de);if(se.width&&se.height){let ee=q.node(de.v),te={rank:(q.node(de.w).rank-ee.rank)/2+ee.rank,e:de};d.addDummyNode(q,"edge-proxy",te,"_ep")}})}function O(q){let de=0;q.nodes().forEach(se=>{let ee=q.node(se);ee.borderTop&&(ee.minRank=q.node(ee.borderTop).rank,ee.maxRank=q.node(ee.borderBottom).rank,de=Math.max(de,ee.maxRank))}),q.graph().maxRank=de}function V(q){q.nodes().forEach(de=>{let se=q.node(de);se.dummy==="edge-proxy"&&(q.edge(se.e).labelRank=se.rank,q.removeNode(de))})}function $(q){let de=Number.POSITIVE_INFINITY,se=0,ee=Number.POSITIVE_INFINITY,ae=0,te=q.graph(),ce=te.marginx||0,fe=te.marginy||0;function ge(xe){let be=xe.x,Ee=xe.y,Me=xe.width,st=xe.height;de=Math.min(de,be-Me/2),se=Math.max(se,be+Me/2),ee=Math.min(ee,Ee-st/2),ae=Math.max(ae,Ee+st/2)}q.nodes().forEach(xe=>ge(q.node(xe))),q.edges().forEach(xe=>{let be=q.edge(xe);Object.hasOwn(be,"x")&&ge(be)}),de-=ce,ee-=fe,q.nodes().forEach(xe=>{let be=q.node(xe);be.x-=de,be.y-=ee}),q.edges().forEach(xe=>{let be=q.edge(xe);be.points.forEach(Ee=>{Ee.x-=de,Ee.y-=ee}),Object.hasOwn(be,"x")&&(be.x-=de),Object.hasOwn(be,"y")&&(be.y-=ee)}),te.width=se-de+ce,te.height=ae-ee+fe}function z(q){q.edges().forEach(de=>{let se=q.edge(de),ee=q.node(de.v),ae=q.node(de.w),te,ce;se.points?(te=se.points[0],ce=se.points[se.points.length-1]):(se.points=[],te=ae,ce=ee),se.points.unshift(d.intersectRect(ee,te)),se.points.push(d.intersectRect(ae,ce))})}function W(q){q.edges().forEach(de=>{let se=q.edge(de);if(Object.hasOwn(se,"x"))switch((se.labelpos==="l"||se.labelpos==="r")&&(se.width-=se.labeloffset),se.labelpos){case"l":se.x-=se.width/2+se.labeloffset;break;case"r":se.x+=se.width/2+se.labeloffset;break}})}function K(q){q.edges().forEach(de=>{let se=q.edge(de);se.reversed&&se.points.reverse()})}function J(q){q.nodes().forEach(de=>{if(q.children(de).length){let se=q.node(de),ee=q.node(se.borderTop),ae=q.node(se.borderBottom),te=q.node(se.borderLeft[se.borderLeft.length-1]),ce=q.node(se.borderRight[se.borderRight.length-1]);se.width=Math.abs(ce.x-te.x),se.height=Math.abs(ae.y-ee.y),se.x=te.x+se.width/2,se.y=ee.y+se.height/2}}),q.nodes().forEach(de=>{q.node(de).dummy==="border"&&q.removeNode(de)})}function Q(q){q.edges().forEach(de=>{if(de.v===de.w){var se=q.node(de.v);se.selfEdges||(se.selfEdges=[]),se.selfEdges.push({e:de,label:q.edge(de)}),q.removeEdge(de)}})}function X(q){var de=d.buildLayerMatrix(q);de.forEach(se=>{var ee=0;se.forEach((ae,te)=>{var ce=q.node(ae);ce.order=te+ee,(ce.selfEdges||[]).forEach(fe=>{d.addDummyNode(q,"selfedge",{width:fe.label.width,height:fe.label.height,rank:ce.rank,order:te+ ++ee,e:fe.e,label:fe.label},"_se")}),delete ce.selfEdges})})}function j(q){q.nodes().forEach(de=>{var se=q.node(de);if(se.dummy==="selfedge"){var ee=q.node(se.e.v),ae=ee.x+ee.width/2,te=ee.y,ce=se.x-ae,fe=ee.height/2;q.setEdge(se.e,se.label),q.removeNode(de),se.label.points=[{x:ae+2*ce/3,y:te-fe},{x:ae+5*ce/6,y:te-fe},{x:ae+ce,y:te},{x:ae+5*ce/6,y:te+fe},{x:ae+2*ce/3,y:te+fe}],se.label.x=se.x,se.label.y=se.y}})}function Y(q,de){return d.mapValues(d.pick(q,de),Number)}function ue(q){var de={};return q&&Object.entries(q).forEach(([se,ee])=>{typeof se=="string"&&(se=se.toLowerCase()),de[se]=ee}),de}return tL}var nL,YK;function G7e(){if(YK)return nL;YK=1;let t=li(),e=wl().Graph;nL={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),o=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(s=>{o.setNode(s,{label:s}),o.setParent(s,"layer"+r.node(s).rank)}),r.edges().forEach(s=>o.setEdge(s.v,s.w,{},s.name)),i.forEach((s,a)=>{let l="layer"+a;o.setNode(l,{rank:"same"}),s.reduce((u,c)=>(o.setEdge(u,c,{style:"invis"}),c))}),o}return nL}var rL,XK;function K7e(){return XK||(XK=1,rL="1.1.4"),rL}var iL,JK;function Y7e(){return JK||(JK=1,iL={graphlib:wl(),layout:W7e(),debug:G7e(),util:{time:li().time,notime:li().notime},version:K7e()}),iL}var X7e=Y7e();const QK=xo(X7e);function J7e({data:t}){var h;const{id:e,readPurposeId:n,label:r,type:i,content:o}=t,{selectedHighlightIds:s,getNodeColor:a}=Zf(),l=a(n),u=l$(),c=s.includes(e),d=u.inProgress&&!c&&((h=u.toNode)==null?void 0:h.id)===e;return D.jsx(Be,{className:`graph-node highlight-node ${c?"selected":""} ${d?"target":""}`,id:`node-${e}`,sx:{backgroundColor:l},children:D.jsxs(Be,{sx:{width:"100%",m:1},children:[D.jsx(is,{className:"connection-handle",id:`relational-handle-${e}-source`,position:gt.Right,isConnectableStart:c,type:"source"}),D.jsx(is,{className:"connection-handle",id:`relational-handle-${e}-target`,position:gt.Left,type:"target",isConnectableStart:!1}),D.jsx(is,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:gt.Top,type:"target",isConnectableStart:!1}),D.jsx(is,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:gt.Bottom,type:"source",isConnectableStart:!1}),D.jsx(tt,{variant:"body1",children:r}),i==="area"&&D.jsx("img",{src:o,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}})]})})}function Q7e({data:t}){const{id:e,readRecordId:n,label:r,content:i,type:o,notes:s}=t,{readPurposes:a,displayedReads:l,selectedHighlightIds:u}=Zf(),{color:c}=a[n],d=l.includes(n);return D.jsxs(Be,{className:`graph-node overview-node ${u.includes(e)?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[D.jsx(is,{type:"target",position:gt.Top,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}}),D.jsx(tt,{variant:"body1",children:r}),o==="area"&&D.jsxs(D.Fragment,{children:[D.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),D.jsx("br",{})]}),D.jsx(tt,{variant:"caption",children:s}),D.jsx(is,{type:"source",position:gt.Bottom,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}})]})}function Z7e({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:o,markerEnd:s}){const[a,l,u]=rR({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return D.jsxs(D.Fragment,{children:[D.jsx(f0,{path:a,markerEnd:s,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),D.jsx(dQ,{children:D.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}function ZK(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,o=e.internals.positionAbsolute,s=n/2,a=r/2,l=i.x+s,u=i.y+a,c=o.x+e.measured.width/2,d=o.y+e.measured.height/2,h=(c-l)/(2*s)-(d-u)/(2*a),p=(c-l)/(2*s)+(d-u)/(2*a),m=1/(Math.abs(h)+Math.abs(p)),y=m*h,x=m*p,w=s*(y+x)+l,E=a*(-y+x)+u;return{x:w,y:E}}function eY(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),o=Math.round(e.x),s=Math.round(e.y);return o<=r+1?gt.Left:o>=r+n.measured.width-1?gt.Right:s<=i+1?gt.Top:s>=n.y+n.measured.height-1?gt.Bottom:gt.Top}function eGe(t,e){const n=ZK(t,e),r=ZK(e,t),i=eY(t,n),o=eY(e,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:i,targetPos:o}}function tGe({toX:t,toY:e}){const{getInternalNode:n}=y1(),{selectedHighlightIds:r}=Zf();return wge().filter(a=>r.includes(a.id)).flatMap(a=>{var u,c,d;const l=n(a.id);return(c=(u=l==null?void 0:l.internals)==null?void 0:u.handleBounds)!=null&&c.source?(d=l.internals.handleBounds.source)==null?void 0:d.map(h=>({id:l.id,positionAbsolute:l.internals.positionAbsolute,bounds:h})):[]}).map(({id:a,positionAbsolute:l,bounds:u})=>{const c=u.x+u.width/2,d=u.y+u.height/2,h=l.x+c,p=l.y+d,[m]=a$({sourceX:h,sourceY:p,targetX:t,targetY:e});return D.jsx("g",{children:D.jsx("path",{fill:"none",strokeWidth:1,stroke:"#b1b1b7",d:m})},`${a}-${u.id}`)})}function nGe({source:t,target:e,markerEnd:n}){const r=z6(t),i=z6(e);if(!r||!i)return null;const{sx:o,sy:s,tx:a,ty:l,sourcePos:u,targetPos:c}=eGe(r,i),[d,h,p]=rR({sourceX:o,sourceY:s,sourcePosition:u,targetPosition:c,targetX:a,targetY:l});return D.jsxs(D.Fragment,{children:[D.jsx(f0,{path:d,markerEnd:n,style:{stroke:"black",strokeWidth:2}}),D.jsx(dQ,{children:D.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${h}px,${p}px)`}})})]})}function rGe(){const{nodes:t,updateNodeData:e,deleteHighlight:n,selectedHighlightIds:r,setSelectedHighlightIds:i,setOnSelectNode:o,query_gemini:s}=Zf(),[a,l]=F.useState(""),[u,c]=F.useState(""),[d,h]=F.useState(""),[p,m]=F.useState(!1),[y,x]=F.useState(!1);F.useEffect(()=>{const S=r[0],T=t.find(k=>k.id===S);T&&(l(T.data.label),T.data.content,T.data.type,c(T.data.summary),h(T.data.notes),m(!1),x(!1))},[r]);const w=()=>{const S=r[0];e(S,{label:a,summary:u,notes:d}),i([]),o(!1)},E=()=>{x(!0),p||(i([]),o(!1))};return D.jsxs("div",{className:"wrapper",style:{overflowY:y?"hidden":"auto"},children:[p&&y&&D.jsxs("div",{className:"closing-popup",children:[D.jsx("div",{className:"closing-background",onClick:()=>x(!1)}),D.jsxs("div",{className:"closing-modal",children:[D.jsx("h3",{children:"Would you like to save your changes?"}),D.jsxs("div",{className:"closing-modal-buttons",children:[D.jsx(nr,{variant:"outlined",color:"success",onClick:()=>w(),children:"Save"}),D.jsx(nr,{variant:"outlined",color:"error",onClick:()=>x(!1),children:"Cancel"})]})]})]}),D.jsx(wi,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>E(),children:D.jsx(F4,{})}),D.jsxs(Be,{className:"field",children:[D.jsx("h3",{children:"Label"}),D.jsx(Mi,{id:"label",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:a,onChange:S=>{m(!0),l(S.target.value)}})]}),D.jsxs(Be,{className:"field",children:[D.jsx("h3",{children:"Notes"}),D.jsx(Mi,{id:"notes",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:d,onChange:S=>{m(!0),h(S.target.value)},multiline:!0,placeholder:"Write your notes here..."})]}),D.jsxs(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[D.jsx(nr,{variant:"outlined",color:"success",onClick:()=>w(),children:"Save"}),D.jsx(nr,{variant:"outlined",color:"error",onClick:()=>{const S=r[0];n(S),i([])},children:"Delete"})]})]})}function iGe({data:t}){var h;const{id:e,readPurposeId:n,label:r}=t,{readPurposes:i,displayedReads:o,selectedHighlightIds:s}=Zf(),{color:a}=i[n]||{color:"#e6e6e6"},l=o.includes(n),u=l$(),c=s.includes(e),d=u.inProgress&&!c&&((h=u.toNode)==null?void 0:h.id)===e;return D.jsx(Be,{className:`graph-node theme-node ${c?"selected":""} ${d?"target":""}`,id:`node-${e}`,sx:{backgroundColor:l?`${a}`:"#e6e6e6"},children:D.jsxs(Be,{sx:{width:"100%",m:1,mb:2},children:[D.jsx(is,{className:"connection-handle",id:`relational-handle-${e}-source`,position:gt.Right,isConnectableStart:c,type:"source"}),D.jsx(is,{className:"connection-handle",id:`relational-handle-${e}-target`,position:gt.Left,type:"target",isConnectableStart:!1}),D.jsx(is,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:gt.Top,type:"target",isConnectableStart:!1}),D.jsx(is,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:gt.Bottom,type:"source",isConnectableStart:!1}),D.jsx(tt,{variant:"h5",sx:{fontWeight:"600",textAlign:"center"},children:r})]})})}const oGe=({open:t,anchorPosition:e,onClose:n,onCreateGroup:r,onDeleteSelected:i,selectedCount:o})=>{const[s,a]=F.useState(!1),[l,u]=F.useState(""),c=()=>{a(!0),u(`Group (${o} nodes)`)},d=()=>{l.trim()&&(r(l.trim()),a(!1),u(""))},h=()=>{a(!1),u("")};return F.useEffect(()=>{a(!1),u("")},[t]),D.jsx(JR,{open:t,onClose:n,anchorReference:"anchorPosition",anchorPosition:e,slotProps:{paper:{style:{height:"min-content",width:"min-content"}}},children:s?D.jsxs(Be,{sx:{p:1,minWidth:250},children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"center",mb:2},children:[D.jsx(wi,{onClick:h,sx:{mr:1},children:D.jsx(Cne,{fontSize:"small"})}),D.jsx(tt,{variant:"subtitle2",children:"Create Group"})]}),D.jsx(Mi,{fullWidth:!0,label:"Group Label",value:l,onChange:p=>u(p.target.value),autoFocus:!0,size:"small",sx:{mb:2}}),D.jsxs(Be,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[D.jsx(nr,{size:"small",onClick:h,color:"secondary",children:"Cancel"}),D.jsx(nr,{size:"small",variant:"contained",onClick:d,disabled:!l.trim(),children:"Create"})]})]}):D.jsxs(D.Fragment,{children:[o>1&&D.jsxs(Ew,{onClick:c,children:[D.jsx(Sw,{children:D.jsx(g4e,{fontSize:"small"})}),D.jsx(sg,{children:"Create Group"})]}),o===1&&D.jsxs(Ew,{onClick:i,children:[D.jsx(Sw,{children:D.jsx(f4e,{fontSize:"small"})}),D.jsx(sg,{children:"Delete"})]})]})})},sGe={highlight:J7e,overview:Q7e,theme:iGe},aGe={chronological:Z7e,relational:nGe};function lGe(t){const{mode:e,setShowCanvas:n,nodes:r,edges:i,setNodes:o,setEdges:s,onNodesChange:a,onEdgesChange:l,onConnect:u,selectedHighlightIds:c,setSelectedHighlightIds:d,onSelectNode:h,setOnSelectNode:p,createGroupNode:m,displayEdgeTypes:y,setDisplayEdgeTypes:x,getNodeColor:w,removeHighlight:E}=t,{fitView:S}=y1(),[T,k]=F.useState(!1),[N,R]=F.useState(!1),[M,L]=F.useState({open:!1,anchorPosition:void 0}),[I,O]=F.useState(!0);F.useEffect(()=>{const se=ee=>{ee.key==="Escape"&&d([])};return document.addEventListener("keydown",se),()=>{document.removeEventListener("keydown",se)}},[d]);const V=(se,ee)=>{if(!(T||!se))if(se.shiftKey&&e===Vr.READING)if(c.includes(ee.id)){const ae=c.filter(te=>te!==ee.id);d(ae)}else{const ae=[...c,ee.id];d(ae)}else d([ee.id])},$=(se,ee)=>{T||!se||p(ae=>!ae)},z=(se,ee)=>{T||!se||e===Vr.ANALYZING||(se.preventDefault(),c.includes(ee.id)||d([ee.id]),L({open:!0,anchorPosition:{top:se.clientY,left:se.clientX}}))},W=()=>{L({open:!1,anchorPosition:void 0})},K=se=>{m(c,se),W()},J=()=>{c.forEach(se=>E(se)),W()},Q=()=>{console.log("open Overview"),o(T?r.map(se=>({...se,type:"highlight"})):r.map(se=>({...se,type:"overview"}))),d([]),k(!T)},X=(se,ee,ae)=>{const te=new QK.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return te.setGraph({rankdir:ae.direction}),ee.forEach(ce=>te.setEdge(ce.source,ce.target)),se.forEach(ce=>{var fe,ge;return te.setNode(ce.id,{...ce,width:((fe=ce.measured)==null?void 0:fe.width)??0,height:((ge=ce.measured)==null?void 0:ge.height)??0})}),QK.layout(te),{nodes:se.map(ce=>{var be,Ee;const fe=te.node(ce.id),ge=fe.x-(((be=ce.measured)==null?void 0:be.width)??0)/2,xe=fe.y-(((Ee=ce.measured)==null?void 0:Ee.height)??0)/2;return{...ce,position:{x:ge,y:xe}}}),edges:ee}},j=F.useCallback(se=>{if(se==="TB"){const ee=X(r,i,{direction:se});o([...ee.nodes]),s([...ee.edges])}window.requestAnimationFrame(()=>{S()})},[r,i]);F.useEffect(()=>{if(c.length>0&&h){console.log("viewport focus on selected nodes");const se=r.filter(ee=>c.includes(ee.id));se.length>0&&S({padding:3.5,nodes:se})}else S({padding:1})},[r,h,c]);const Y=se=>{x(y.includes(se)?y.filter(ee=>ee!==se):[...y,se])},ue=()=>{R(!N)},q=()=>{I&&d([]),O(!0)},de=(se,ee)=>{ee.isValid||(console.log("connectionState",ee),O(!1))};return D.jsxs(vge,{nodes:r,edges:i,onNodesChange:a,onEdgesChange:l,connectionLineComponent:tGe,onNodeClick:V,onNodeDoubleClick:$,onNodeContextMenu:z,nodeTypes:sGe,edgeTypes:aGe,fitView:!0,onPaneClick:q,onConnect:u,onConnectEnd:de,style:{width:"100%",height:"100%"},children:[D.jsx(Rge,{}),D.jsx(Lge,{onFitView:()=>j("none"),style:{color:"black"}}),D.jsx(Kge,{nodeColor:se=>{const{readPurposeId:ee}=se.data;return w(ee)}}),D.jsx($v,{position:"top-right",style:{color:"black"},children:D.jsxs(Be,{sx:{position:"relative"},children:[D.jsx(wi,{onClick:ue,size:"small",sx:{backgroundColor:N?"rgba(0, 0, 0, 0.1)":"transparent","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},"&:focus":{outline:"none"}},children:D.jsx(A4e,{})}),N&&D.jsx(cl,{elevation:4,sx:{position:"absolute",top:"100%",right:0,mt:.5,p:1.5,backgroundColor:"white",minWidth:200,zIndex:1e3,borderRadius:1},children:D.jsxs(iFe,{children:[D.jsx(GO,{control:D.jsx(WO,{size:"small",checked:y.includes(ni.CHRONOLOGICAL),onChange:()=>Y(ni.CHRONOLOGICAL)}),label:"Chronological Link",sx:{fontSize:"0.875rem",mb:.5}}),D.jsx(GO,{control:D.jsx(WO,{size:"small",checked:y.includes(ni.RELATIONAL),onChange:()=>Y(ni.RELATIONAL)}),label:"Relational Link",sx:{fontSize:"0.875rem"}})]})})]})}),D.jsxs($v,{position:"top-left",children:[e===Vr.ANALYZING&&D.jsx(wi,{color:"primary",onClick:()=>n(!1),children:D.jsx(Cne,{})}),D.jsx(wi,{onClick:Q,children:T?D.jsx(c4e,{}):D.jsx(w4e,{})})]}),D.jsx(oGe,{open:M.open,anchorPosition:M.anchorPosition,onClose:W,onCreateGroup:K,onDeleteSelected:J,selectedCount:c.length})]})}function uGe(){const{mode:t}=fd(),{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:o,onEdgesChange:s,onConnect:a,selectedHighlightIds:l,setSelectedHighlightIds:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:h,displayEdgeTypes:p,setDisplayEdgeTypes:m,removeHighlight:y,getNodeColor:x}=Zf(),{setShowCanvas:w}=wg();return D.jsxs(Be,{style:{width:"100%",height:"100%",position:"relative"},children:[D.jsx(cQ,{children:D.jsx(lGe,{style:{height:"auto"},mode:t,setShowCanvas:w,nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:o,onEdgesChange:s,onConnect:a,selectedHighlightIds:l,setSelectedHighlightIds:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:h,displayEdgeTypes:p,setDisplayEdgeTypes:m,getNodeColor:x,removeHighlight:y})}),c&&l.length>0&&D.jsx(Be,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:D.jsx(rGe,{})})]})}function ase(t){return e=>typeof e===t}var cGe=ase("function"),dGe=t=>t===null,tY=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",nY=t=>!fGe(t)&&!dGe(t)&&(cGe(t)||typeof t=="object"),fGe=ase("undefined");function hGe(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Lo(t[r],e[r]))return!1;return!0}function pGe(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function gGe(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Lo(n[1],e.get(n[0])))return!1;return!0}function mGe(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Lo(t,e){if(t===e)return!0;if(t&&nY(t)&&e&&nY(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return hGe(t,e);if(t instanceof Map&&e instanceof Map)return gGe(t,e);if(t instanceof Set&&e instanceof Set)return mGe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return pGe(t,e);if(tY(t)&&tY(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!Lo(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var yGe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],vGe=["bigint","boolean","null","number","string","symbol","undefined"];function RP(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(bGe(e))return e}function Al(t){return e=>RP(e)===t}function bGe(t){return yGe.includes(t)}function R0(t){return e=>typeof e===t}function xGe(t){return vGe.includes(t)}var wGe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function pt(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(pt.array(t))return"Array";if(pt.plainFunction(t))return"Function";const e=RP(t);return e||"Object"}pt.array=Array.isArray;pt.arrayOf=(t,e)=>!pt.array(t)&&!pt.function(e)?!1:t.every(n=>e(n));pt.asyncGeneratorFunction=t=>RP(t)==="AsyncGeneratorFunction";pt.asyncFunction=Al("AsyncFunction");pt.bigint=R0("bigint");pt.boolean=t=>t===!0||t===!1;pt.date=Al("Date");pt.defined=t=>!pt.undefined(t);pt.domElement=t=>pt.object(t)&&!pt.plainObject(t)&&t.nodeType===1&&pt.string(t.nodeName)&&wGe.every(e=>e in t);pt.empty=t=>pt.string(t)&&t.length===0||pt.array(t)&&t.length===0||pt.object(t)&&!pt.map(t)&&!pt.set(t)&&Object.keys(t).length===0||pt.set(t)&&t.size===0||pt.map(t)&&t.size===0;pt.error=Al("Error");pt.function=R0("function");pt.generator=t=>pt.iterable(t)&&pt.function(t.next)&&pt.function(t.throw);pt.generatorFunction=Al("GeneratorFunction");pt.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;pt.iterable=t=>!pt.nullOrUndefined(t)&&pt.function(t[Symbol.iterator]);pt.map=Al("Map");pt.nan=t=>Number.isNaN(t);pt.null=t=>t===null;pt.nullOrUndefined=t=>pt.null(t)||pt.undefined(t);pt.number=t=>R0("number")(t)&&!pt.nan(t);pt.numericString=t=>pt.string(t)&&t.length>0&&!Number.isNaN(Number(t));pt.object=t=>!pt.nullOrUndefined(t)&&(pt.function(t)||typeof t=="object");pt.oneOf=(t,e)=>pt.array(t)?t.indexOf(e)>-1:!1;pt.plainFunction=Al("Function");pt.plainObject=t=>{if(RP(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};pt.primitive=t=>pt.null(t)||xGe(typeof t);pt.promise=Al("Promise");pt.propertyOf=(t,e,n)=>{if(!pt.object(t)||!e)return!1;const r=t[e];return pt.function(n)?n(r):pt.defined(r)};pt.regexp=Al("RegExp");pt.set=Al("Set");pt.string=R0("string");pt.symbol=R0("symbol");pt.undefined=R0("undefined");pt.weakMap=Al("WeakMap");pt.weakSet=Al("WeakSet");var _t=pt;function _Ge(...t){return t.every(e=>_t.string(e)||_t.array(e)||_t.plainObject(e))}function SGe(t,e,n){return lse(t,e)?[t,e].every(_t.array)?!t.some(aY(n))&&e.some(aY(n)):[t,e].every(_t.plainObject)?!Object.entries(t).some(sY(n))&&Object.entries(e).some(sY(n)):e===n:!1}function rY(t,e,n){const{actual:r,key:i,previous:o,type:s}=n,a=wu(t,i),l=wu(e,i);let u=[a,l].every(_t.number)&&(s==="increased"?a<l:a>l);return _t.undefined(r)||(u=u&&l===r),_t.undefined(o)||(u=u&&a===o),u}function iY(t,e,n){const{key:r,type:i,value:o}=n,s=wu(t,r),a=wu(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!_t.nullOrUndefined(o)){if(_t.defined(l)){if(_t.array(l)||_t.plainObject(l))return SGe(l,u,o)}else return Lo(u,o);return!1}return[s,a].every(_t.array)?!u.every(j3(l)):[s,a].every(_t.plainObject)?EGe(Object.keys(l),Object.keys(u)):![s,a].every(c=>_t.primitive(c)&&_t.defined(c))&&(i==="added"?!_t.defined(s)&&_t.defined(a):_t.defined(s)&&!_t.defined(a))}function oY(t,e,{key:n}={}){let r=wu(t,n),i=wu(e,n);if(!lse(r,i))throw new TypeError("Inputs have different types");if(!_Ge(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(_t.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function sY(t){return([e,n])=>_t.array(t)?Lo(t,n)||t.some(r=>Lo(r,n)||_t.array(n)&&j3(n)(r)):_t.plainObject(t)&&t[e]?!!t[e]&&Lo(t[e],n):Lo(t,n)}function EGe(t,e){return e.some(n=>!t.includes(n))}function aY(t){return e=>_t.array(t)?t.some(n=>Lo(n,e)||_t.array(e)&&j3(e)(n)):Lo(t,e)}function Db(t,e){return _t.array(t)?t.some(n=>Lo(n,e)):Lo(t,e)}function j3(t){return e=>t.some(n=>Lo(n,e))}function lse(...t){return t.every(_t.array)||t.every(_t.number)||t.every(_t.plainObject)||t.every(_t.string)}function wu(t,e){return _t.plainObject(t)||_t.array(t)?_t.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):_t.number(e)?t[e]:t:t}function xA(t,e){if([t,e].some(_t.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(c=>_t.plainObject(c)||_t.array(c)))throw new Error("Expected plain objects or array");return{added:(c,d)=>{try{return iY(t,e,{key:c,type:"added",value:d})}catch{return!1}},changed:(c,d,h)=>{try{const p=wu(t,c),m=wu(e,c),y=_t.defined(d),x=_t.defined(h);if(y||x){const w=x?Db(h,p):!Db(d,p),E=Db(d,m);return w&&E}return[p,m].every(_t.array)||[p,m].every(_t.plainObject)?!Lo(p,m):p!==m}catch{return!1}},changedFrom:(c,d,h)=>{if(!_t.defined(c))return!1;try{const p=wu(t,c),m=wu(e,c),y=_t.defined(h);return Db(d,p)&&(y?Db(h,m):!y)}catch{return!1}},decreased:(c,d,h)=>{if(!_t.defined(c))return!1;try{return rY(t,e,{key:c,actual:d,previous:h,type:"decreased"})}catch{return!1}},emptied:c=>{try{const[d,h]=oY(t,e,{key:c});return!!d.length&&!h.length}catch{return!1}},filled:c=>{try{const[d,h]=oY(t,e,{key:c});return!d.length&&!!h.length}catch{return!1}},increased:(c,d,h)=>{if(!_t.defined(c))return!1;try{return rY(t,e,{key:c,actual:d,previous:h,type:"increased"})}catch{return!1}},removed:(c,d)=>{try{return iY(t,e,{key:c,type:"removed",value:d})}catch{return!1}}}}var oL,lY;function CGe(){if(lY)return oL;lY=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;oL={left:i("scrollLeft"),top:i("scrollTop")};function i(a){return function(u,c,d,h){d=d||{},typeof d=="function"&&(h=d,d={}),typeof h!="function"&&(h=s);var p=r(),m=u[a],y=d.ease||o,x=isNaN(d.duration)?350:+d.duration,w=!1;return m===c?h(t,u[a]):requestAnimationFrame(S),E;function E(){w=!0}function S(T){if(w)return h(e,u[a]);var k=r(),N=n(1,(k-p)/x),R=y(N);u[a]=R*(c-m)+m,N<1?requestAnimationFrame(S):requestAnimationFrame(function(){h(null,u[a])})}}}function o(a){return .5*(1-Math.cos(Math.PI*a))}function s(){}return oL}var TGe=CGe();const AGe=xo(TGe);var rT={exports:{}},RGe=rT.exports,uY;function PGe(){return uY||(uY=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(RGe,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(rT)),rT.exports}var IGe=PGe();const use=xo(IGe);var sL,cY;function kGe(){if(cY)return sL;cY=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,sL=n,sL}var MGe=kGe();const dY=xo(MGe);var aL,fY;function NGe(){if(fY)return aL;fY=1;var t=function(E){return e(E)&&!n(E)};function e(w){return!!w&&typeof w=="object"}function n(w){var E=Object.prototype.toString.call(w);return E==="[object RegExp]"||E==="[object Date]"||o(w)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(w){return w.$$typeof===i}function s(w){return Array.isArray(w)?[]:{}}function a(w,E){return E.clone!==!1&&E.isMergeableObject(w)?y(s(w),w,E):w}function l(w,E,S){return w.concat(E).map(function(T){return a(T,S)})}function u(w,E){if(!E.customMerge)return y;var S=E.customMerge(w);return typeof S=="function"?S:y}function c(w){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(w).filter(function(E){return Object.propertyIsEnumerable.call(w,E)}):[]}function d(w){return Object.keys(w).concat(c(w))}function h(w,E){try{return E in w}catch{return!1}}function p(w,E){return h(w,E)&&!(Object.hasOwnProperty.call(w,E)&&Object.propertyIsEnumerable.call(w,E))}function m(w,E,S){var T={};return S.isMergeableObject(w)&&d(w).forEach(function(k){T[k]=a(w[k],S)}),d(E).forEach(function(k){p(w,k)||(h(w,k)&&S.isMergeableObject(E[k])?T[k]=u(k,S)(w[k],E[k],S):T[k]=a(E[k],S))}),T}function y(w,E,S){S=S||{},S.arrayMerge=S.arrayMerge||l,S.isMergeableObject=S.isMergeableObject||t,S.cloneUnlessOtherwiseSpecified=a;var T=Array.isArray(E),k=Array.isArray(w),N=T===k;return N?T?S.arrayMerge(w,E,S):m(w,E,S):a(E,S)}y.all=function(E,S){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(T,k){return y(T,k,S)},{})};var x=y;return aL=x,aL}var DGe=NGe();const pl=xo(DGe);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var q1=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",LGe=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(q1&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function OGe(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function FGe(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},LGe))}}var $Ge=q1&&window.Promise,BGe=$Ge?OGe:FGe;function cse(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Lg(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function W3(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function j1(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Lg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:j1(W3(t))}function dse(t){return t&&t.referenceNode?t.referenceNode:t}var hY=q1&&!!(window.MSInputMethodContext&&document.documentMode),pY=q1&&/MSIE 10/.test(navigator.userAgent);function P0(t){return t===11?hY:t===10?pY:hY||pY}function a0(t){if(!t)return document.documentElement;for(var e=P0(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Lg(n,"position")==="static"?a0(n):n}function VGe(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||a0(t.firstElementChild)===t}function E5(t){return t.parentNode!==null?E5(t.parentNode):t}function wA(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||r.contains(i))return VGe(s)?s:a0(s);var a=E5(t);return a.host?wA(a.host,e):wA(t,E5(e).host)}function l0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function zGe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=l0(e,"top"),i=l0(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function gY(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function mY(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],P0(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function fse(t){var e=t.body,n=t.documentElement,r=P0(10)&&getComputedStyle(n);return{height:mY("Height",e,n,r),width:mY("Width",e,n,r)}}var UGe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},HGe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u0=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ya=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Xf(t){return ya({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C5(t){var e={};try{if(P0(10)){e=t.getBoundingClientRect();var n=l0(t,"top"),r=l0(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o=t.nodeName==="HTML"?fse(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,a=o.height||t.clientHeight||i.height,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var c=Lg(t);l-=gY(c,"x"),u-=gY(c,"y"),i.width-=l,i.height-=u}return Xf(i)}function G3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=P0(10),i=e.nodeName==="HTML",o=C5(t),s=C5(e),a=j1(t),l=Lg(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=Xf({top:o.top-s.top-u,left:o.left-s.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-p,d.right-=c-p,d.marginTop=h,d.marginLeft=p}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(d=zGe(d,e)),d}function qGe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=G3(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:l0(n),a=e?0:l0(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return Xf(l)}function hse(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Lg(t,"position")==="fixed")return!0;var n=W3(t);return n?hse(n):!1}function pse(t){if(!t||!t.parentElement||P0())return document.documentElement;for(var e=t.parentElement;e&&Lg(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function K3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o={top:0,left:0},s=i?pse(t):wA(t,dse(e));if(r==="viewport")o=qGe(s,i);else{var a=void 0;r==="scrollParent"?(a=j1(W3(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var l=G3(a,s,i);if(a.nodeName==="HTML"&&!hse(s)){var u=fse(t.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}else o=l}n=n||0;var h=typeof n=="number";return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function jGe(t){var e=t.width,n=t.height;return e*n}function gse(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=K3(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(h){return ya({key:h},a[h],{area:jGe(a[h])})}).sort(function(h,p){return p.area-h.area}),u=l.filter(function(h){var p=h.width,m=h.height;return p>=n.clientWidth&&m>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function mse(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?pse(e):wA(e,dse(n));return G3(n,i,r)}function yse(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+i,height:t.offsetHeight+r};return o}function _A(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function vse(t,e,n){n=n.split("-")[0];var r=yse(t),i={width:r.width,height:r.height},o=["right","left"].indexOf(n)!==-1,s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[s]=e[s]+e[l]/2-r[l]/2,n===a?i[a]=e[a]-r[u]:i[a]=e[_A(a)],i}function W1(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function WGe(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=W1(t,function(i){return i[e]===n});return t.indexOf(r)}function bse(t,e,n){var r=n===void 0?t:t.slice(0,WGe(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=i.function||i.fn;i.enabled&&cse(o)&&(e.offsets.popper=Xf(e.offsets.popper),e.offsets.reference=Xf(e.offsets.reference),e=o(e,i))}),e}function GGe(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=mse(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=gse(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=vse(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=bse(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function xse(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function Y3(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(typeof document.body.style[o]<"u")return o}return null}function KGe(){return this.state.isDestroyed=!0,xse(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Y3("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function wse(t){var e=t.ownerDocument;return e?e.defaultView:window}function _se(t,e,n,r){var i=t.nodeName==="BODY",o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||_se(j1(o.parentNode),e,n,r),r.push(o)}function YGe(t,e,n,r){n.updateBound=r,wse(t).addEventListener("resize",n.updateBound,{passive:!0});var i=j1(t);return _se(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function XGe(){this.state.eventsEnabled||(this.state=YGe(this.reference,this.options,this.state,this.scheduleUpdate))}function JGe(t,e){return wse(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function QGe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=JGe(this.reference,this.state))}function X3(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function T5(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&X3(e[n])&&(r="px"),t.style[n]=e[n]+r})}function ZGe(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function eKe(t){return T5(t.instance.popper,t.styles),ZGe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&T5(t.arrowElement,t.arrowStyles),t}function tKe(t,e,n,r,i){var o=mse(i,e,t,n.positionFixed),s=gse(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),T5(e,{position:n.positionFixed?"fixed":"absolute"}),n}function nKe(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(w){return w},l=o(i.width),u=o(r.width),c=["left","right"].indexOf(t.placement)!==-1,d=t.placement.indexOf("-")!==-1,h=l%2===u%2,p=l%2===1&&u%2===1,m=e?c||d||h?o:s:a,y=e?o:a;return{left:m(p&&!d&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:m(r.right)}}var rKe=q1&&/Firefox/i.test(navigator.userAgent);function iKe(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=W1(t.instance.modifiers,function(S){return S.name==="applyStyle"}).gpuAcceleration;o!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==void 0?o:e.gpuAcceleration,a=a0(t.instance.popper),l=C5(a),u={position:i.position},c=nKe(t,window.devicePixelRatio<2||!rKe),d=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",p=Y3("transform"),m=void 0,y=void 0;if(d==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+c.bottom:y=-l.height+c.bottom:y=c.top,h==="right"?a.nodeName==="HTML"?m=-a.clientWidth+c.right:m=-l.width+c.right:m=c.left,s&&p)u[p]="translate3d("+m+"px, "+y+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var x=d==="bottom"?-1:1,w=h==="right"?-1:1;u[d]=y*x,u[h]=m*w,u.willChange=d+", "+h}var E={"x-placement":t.placement};return t.attributes=ya({},E,t.attributes),t.styles=ya({},u,t.styles),t.arrowStyles=ya({},t.offsets.arrow,t.arrowStyles),t}function Sse(t,e,n){var r=W1(t,function(a){var l=a.name;return l===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function oKe(t,e){var n;if(!Sse(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=["left","right"].indexOf(i)!==-1,u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=yse(r)[u];a[p]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(a[p]-m)),a[d]+m>s[p]&&(t.offsets.popper[d]+=a[d]+m-s[p]),t.offsets.popper=Xf(t.offsets.popper);var y=a[d]+a[u]/2-m/2,x=Lg(t.instance.popper),w=parseFloat(x["margin"+c]),E=parseFloat(x["border"+c+"Width"]),S=y-t.offsets.popper[d]-w-E;return S=Math.max(Math.min(s[u]-m,S),0),t.arrowElement=r,t.offsets.arrow=(n={},u0(n,d,Math.round(S)),u0(n,h,""),n),t}function sKe(t){return t==="end"?"start":t==="start"?"end":t}var Ese=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],lL=Ese.slice(3);function yY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=lL.indexOf(t),r=lL.slice(n+1).concat(lL.slice(0,n));return e?r.reverse():r}var uL={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function aKe(t,e){if(xse(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=K3(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=_A(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case uL.FLIP:s=[r,i];break;case uL.CLOCKWISE:s=yY(r);break;case uL.COUNTERCLOCKWISE:s=yY(r,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return t;r=t.placement.split("-")[0],i=_A(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h=r==="left"&&d(u.right)>d(c.left)||r==="right"&&d(u.left)<d(c.right)||r==="top"&&d(u.bottom)>d(c.top)||r==="bottom"&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),m=d(u.right)>d(n.right),y=d(u.top)<d(n.top),x=d(u.bottom)>d(n.bottom),w=r==="left"&&p||r==="right"&&m||r==="top"&&y||r==="bottom"&&x,E=["top","bottom"].indexOf(r)!==-1,S=!!e.flipVariations&&(E&&o==="start"&&p||E&&o==="end"&&m||!E&&o==="start"&&y||!E&&o==="end"&&x),T=!!e.flipVariationsByContent&&(E&&o==="start"&&m||E&&o==="end"&&p||!E&&o==="start"&&x||!E&&o==="end"&&y),k=S||T;(h||w||k)&&(t.flipped=!0,(h||w)&&(r=s[l+1]),k&&(o=sKe(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=ya({},t.offsets.popper,vse(t.instance.popper,t.offsets.reference,t.placement)),t=bse(t.instance.modifiers,t,"flip"))}),t}function lKe(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[a])&&(t.offsets.popper[l]=o(r[a])),t}function uKe(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=Xf(a);return l[e]/100*o}else if(s==="vh"||s==="vw"){var u=void 0;return s==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*o}else return o}function cKe(t,e,n,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,s=t.split(/(\+|\-)/).map(function(c){return c.trim()}),a=s.indexOf(W1(s,function(c){return c.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map(function(c,d){var h=(d===1?!o:o)?"height":"width",p=!1;return c.reduce(function(m,y){return m[m.length-1]===""&&["+","-"].indexOf(y)!==-1?(m[m.length-1]=y,p=!0,m):p?(m[m.length-1]+=y,p=!1,m):m.concat(y)},[]).map(function(m){return uKe(m,h,e,n)})}),u.forEach(function(c,d){c.forEach(function(h,p){X3(h)&&(i[d]+=h*(c[p-1]==="-"?-1:1))})}),i}function dKe(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return X3(+n)?l=[+n,0]:l=cKe(n,o,s,a),a==="left"?(o.top+=l[0],o.left-=l[1]):a==="right"?(o.top+=l[0],o.left+=l[1]):a==="top"?(o.left+=l[0],o.top-=l[1]):a==="bottom"&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function fKe(t,e){var n=e.boundariesElement||a0(t.instance.popper);t.instance.reference===n&&(n=a0(n));var r=Y3("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=K3(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(p){var m=c[p];return c[p]<l[p]&&!e.escapeWithReference&&(m=Math.max(c[p],l[p])),u0({},p,m)},secondary:function(p){var m=p==="right"?"left":"top",y=c[m];return c[p]>l[p]&&!e.escapeWithReference&&(y=Math.min(c[m],l[p]-(p==="right"?c.width:c.height))),u0({},m,y)}};return u.forEach(function(h){var p=["left","top"].indexOf(h)!==-1?"primary":"secondary";c=ya({},c,d[p](h))}),t.offsets.popper=c,t}function hKe(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",c={start:u0({},l,o[l]),end:u0({},l,o[l]+o[u]-s[u])};t.offsets.popper=ya({},s,c[r])}return t}function pKe(t){if(!Sse(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=W1(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function gKe(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=_A(e),t.offsets.popper=Xf(i),t}var mKe={shift:{order:100,enabled:!0,fn:hKe},offset:{order:200,enabled:!0,fn:dKe,offset:0},preventOverflow:{order:300,enabled:!0,fn:fKe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:lKe},arrow:{order:500,enabled:!0,fn:oKe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:aKe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:gKe},hide:{order:800,enabled:!0,fn:pKe},computeStyle:{order:850,enabled:!0,fn:iKe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:eKe,onLoad:tKe,gpuAcceleration:void 0}},yKe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:mKe},Iw=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};UGe(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=BGe(this.update.bind(this)),this.options=ya({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(ya({},t.Defaults.modifiers,i.modifiers)).forEach(function(s){r.options.modifiers[s]=ya({},t.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return ya({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&cse(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return HGe(t,[{key:"update",value:function(){return GGe.call(this)}},{key:"destroy",value:function(){return KGe.call(this)}},{key:"enableEventListeners",value:function(){return XGe.call(this)}},{key:"disableEventListeners",value:function(){return QGe.call(this)}}]),t}();Iw.Utils=(typeof window<"u"?window:global).PopperUtils;Iw.placements=Ese;Iw.Defaults=yKe;var vKe=["innerHTML","ownerDocument","style","attributes","nodeValue"],bKe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],xKe=["bigint","boolean","null","number","string","symbol","undefined"];function PP(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(wKe(e))return e}function Rl(t){return function(e){return PP(e)===t}}function wKe(t){return bKe.includes(t)}function I0(t){return function(e){return typeof e===t}}function _Ke(t){return xKe.includes(t)}function ke(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ke.array(t))return"Array";if(ke.plainFunction(t))return"Function";var e=PP(t);return e||"Object"}ke.array=Array.isArray;ke.arrayOf=function(t,e){return!ke.array(t)&&!ke.function(e)?!1:t.every(function(n){return e(n)})};ke.asyncGeneratorFunction=function(t){return PP(t)==="AsyncGeneratorFunction"};ke.asyncFunction=Rl("AsyncFunction");ke.bigint=I0("bigint");ke.boolean=function(t){return t===!0||t===!1};ke.date=Rl("Date");ke.defined=function(t){return!ke.undefined(t)};ke.domElement=function(t){return ke.object(t)&&!ke.plainObject(t)&&t.nodeType===1&&ke.string(t.nodeName)&&vKe.every(function(e){return e in t})};ke.empty=function(t){return ke.string(t)&&t.length===0||ke.array(t)&&t.length===0||ke.object(t)&&!ke.map(t)&&!ke.set(t)&&Object.keys(t).length===0||ke.set(t)&&t.size===0||ke.map(t)&&t.size===0};ke.error=Rl("Error");ke.function=I0("function");ke.generator=function(t){return ke.iterable(t)&&ke.function(t.next)&&ke.function(t.throw)};ke.generatorFunction=Rl("GeneratorFunction");ke.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};ke.iterable=function(t){return!ke.nullOrUndefined(t)&&ke.function(t[Symbol.iterator])};ke.map=Rl("Map");ke.nan=function(t){return Number.isNaN(t)};ke.null=function(t){return t===null};ke.nullOrUndefined=function(t){return ke.null(t)||ke.undefined(t)};ke.number=function(t){return I0("number")(t)&&!ke.nan(t)};ke.numericString=function(t){return ke.string(t)&&t.length>0&&!Number.isNaN(Number(t))};ke.object=function(t){return!ke.nullOrUndefined(t)&&(ke.function(t)||typeof t=="object")};ke.oneOf=function(t,e){return ke.array(t)?t.indexOf(e)>-1:!1};ke.plainFunction=Rl("Function");ke.plainObject=function(t){if(PP(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};ke.primitive=function(t){return ke.null(t)||_Ke(typeof t)};ke.promise=Rl("Promise");ke.propertyOf=function(t,e,n){if(!ke.object(t)||!e)return!1;var r=t[e];return ke.function(n)?n(r):ke.defined(r)};ke.regexp=Rl("RegExp");ke.set=Rl("Set");ke.string=I0("string");ke.symbol=I0("symbol");ke.undefined=I0("undefined");ke.weakMap=Rl("WeakMap");ke.weakSet=Rl("WeakSet");function Cse(t){return function(e){return typeof e===t}}var SKe=Cse("function"),EKe=function(t){return t===null},vY=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},bY=function(t){return!CKe(t)&&!EKe(t)&&(SKe(t)||typeof t=="object")},CKe=Cse("undefined"),A5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function TKe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!ss(t[r],e[r]))return!1;return!0}function AKe(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function RKe(t,e){var n,r,i,o;if(t.size!==e.size)return!1;try{for(var s=A5(t.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!e.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var u=A5(t.entries()),c=u.next();!c.done;c=u.next()){var l=c.value;if(!ss(l[1],e.get(l[0])))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return!0}function PKe(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=A5(t.entries()),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function ss(t,e){if(t===e)return!0;if(t&&bY(t)&&e&&bY(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return TKe(t,e);if(t instanceof Map&&e instanceof Map)return RKe(t,e);if(t instanceof Set&&e instanceof Set)return PKe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return AKe(t,e);if(vY(t)&&vY(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!ss(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function IKe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return ke.string(n)||ke.array(n)||ke.plainObject(n)})}function kKe(t,e,n){return Tse(t,e)?[t,e].every(ke.array)?!t.some(EY(n))&&e.some(EY(n)):[t,e].every(ke.plainObject)?!Object.entries(t).some(SY(n))&&Object.entries(e).some(SY(n)):e===n:!1}function xY(t,e,n){var r=n.actual,i=n.key,o=n.previous,s=n.type,a=_u(t,i),l=_u(e,i),u=[a,l].every(ke.number)&&(s==="increased"?a<l:a>l);return ke.undefined(r)||(u=u&&l===r),ke.undefined(o)||(u=u&&a===o),u}function wY(t,e,n){var r=n.key,i=n.type,o=n.value,s=_u(t,r),a=_u(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!ke.nullOrUndefined(o)){if(ke.defined(l)){if(ke.array(l)||ke.plainObject(l))return kKe(l,u,o)}else return ss(u,o);return!1}return[s,a].every(ke.array)?!u.every(J3(l)):[s,a].every(ke.plainObject)?MKe(Object.keys(l),Object.keys(u)):![s,a].every(function(c){return ke.primitive(c)&&ke.defined(c)})&&(i==="added"?!ke.defined(s)&&ke.defined(a):ke.defined(s)&&!ke.defined(a))}function _Y(t,e,n){var r=n===void 0?{}:n,i=r.key,o=_u(t,i),s=_u(e,i);if(!Tse(o,s))throw new TypeError("Inputs have different types");if(!IKe(o,s))throw new TypeError("Inputs don't have length");return[o,s].every(ke.plainObject)&&(o=Object.keys(o),s=Object.keys(s)),[o,s]}function SY(t){return function(e){var n=e[0],r=e[1];return ke.array(t)?ss(t,r)||t.some(function(i){return ss(i,r)||ke.array(r)&&J3(r)(i)}):ke.plainObject(t)&&t[n]?!!t[n]&&ss(t[n],r):ss(t,r)}}function MKe(t,e){return e.some(function(n){return!t.includes(n)})}function EY(t){return function(e){return ke.array(t)?t.some(function(n){return ss(n,e)||ke.array(e)&&J3(e)(n)}):ss(t,e)}}function Lb(t,e){return ke.array(t)?t.some(function(n){return ss(n,e)}):ss(t,e)}function J3(t){return function(e){return t.some(function(n){return ss(n,e)})}}function Tse(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(ke.array)||t.every(ke.number)||t.every(ke.plainObject)||t.every(ke.string)}function _u(t,e){if(ke.plainObject(t)||ke.array(t)){if(ke.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return ke.number(e)?t[e]:t}return t}function NKe(t,e){if([t,e].some(ke.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(d){return ke.plainObject(d)||ke.array(d)}))throw new Error("Expected plain objects or array");var n=function(d,h){try{return wY(t,e,{key:d,type:"added",value:h})}catch{return!1}},r=function(d,h,p){try{var m=_u(t,d),y=_u(e,d),x=ke.defined(h),w=ke.defined(p);if(x||w){var E=w?Lb(p,m):!Lb(h,m),S=Lb(h,y);return E&&S}return[m,y].every(ke.array)||[m,y].every(ke.plainObject)?!ss(m,y):m!==y}catch{return!1}},i=function(d,h,p){if(!ke.defined(d))return!1;try{var m=_u(t,d),y=_u(e,d),x=ke.defined(p);return Lb(h,m)&&(x?Lb(p,y):!x)}catch{return!1}},o=function(d,h){return ke.defined(d)?r(d,h):!1},s=function(d,h,p){if(!ke.defined(d))return!1;try{return xY(t,e,{key:d,actual:h,previous:p,type:"decreased"})}catch{return!1}},a=function(d){try{var h=_Y(t,e,{key:d}),p=h[0],m=h[1];return!!p.length&&!m.length}catch{return!1}},l=function(d){try{var h=_Y(t,e,{key:d}),p=h[0],m=h[1];return!p.length&&!!m.length}catch{return!1}},u=function(d,h,p){if(!ke.defined(d))return!1;try{return xY(t,e,{key:d,actual:h,previous:p,type:"increased"})}catch{return!1}},c=function(d,h){try{return wY(t,e,{key:d,type:"removed",value:h})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:o,decreased:s,emptied:a,filled:l,increased:u,removed:c}}function CY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CY(Object(n),!0).forEach(function(r){go(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rse(r.key),r)}}function K1(t,e,n){return e&&DKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function go(t,e,n){return e=Rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R5(t,e)}function SA(t){return SA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SA(t)}function R5(t,e){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R5(t,e)}function LKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function OKe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ase(t,e){if(t==null)return{};var n=OKe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FKe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hc(t)}function X1(t){var e=LKe();return function(){var r=SA(t),i;if(e){var o=SA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return FKe(this,i)}}function $Ke(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rse(t){var e=$Ke(t,"string");return typeof e=="symbol"?e:String(e)}var BKe={flip:{padding:20},preventOverflow:{padding:10}},VKe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",zKe="The error message is optional, but must be a string if provided.";function UKe(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function HKe(t,e){return Object.hasOwnProperty.call(t,e)}function qKe(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function jKe(t,e){if(typeof t!="function")throw new TypeError(VKe);if(e&&typeof e!="string")throw new TypeError(zKe)}function TY(t,e,n){return jKe(t,n),function(r,i,o){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return UKe(e,r,i,o)?HKe(r,i)?t.apply(void 0,[r,i,o].concat(a)):qKe(r,i,o):t.apply(void 0,[r,i,o].concat(a))}}var Mn={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Ob=Rf.createPortal!==void 0;function pu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function cL(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function eC(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,o=t.debug,s=o===void 0?!1:o,a=i?console.warn||console.error:console.log;s&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){ke.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function WKe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function GKe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function KKe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(s){n(s),GKe(t,e,i)},WKe(t,e,i,r)}function AY(){}var Pse=function(t){Y1(n,t);var e=X1(n);function n(){return G1(this,n),e.apply(this,arguments)}return K1(n,[{key:"componentDidMount",value:function(){pu()&&(this.node||this.appendNode(),Ob||this.renderPortal())}},{key:"componentDidUpdate",value:function(){pu()&&(Ob||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!pu()||!this.node||(Ob||Rf.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,o=i.id,s=i.zIndex;this.node||(this.node=document.createElement("div"),o&&(this.node.id=o),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!pu())return null;var i=this.props,o=i.children,s=i.setRef;if(this.node||this.appendNode(),Ob)return Rf.createPortal(o,this.node);var a=Rf.unstable_renderSubtreeIntoContainer(this,o.length>1?oe.createElement("div",null,o):o[0],this.node);return s(a),null}},{key:"renderReact16",value:function(){var i=this.props,o=i.hasChildren,s=i.placement,a=i.target;return o?this.renderPortal():a||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return Ob?this.renderReact16():null}}]),n}(oe.Component);go(Pse,"propTypes",{children:me.oneOfType([me.element,me.array]),hasChildren:me.bool,id:me.oneOfType([me.string,me.number]),placement:me.string,setRef:me.func.isRequired,target:me.oneOfType([me.object,me.string]),zIndex:me.number});var Ise=function(t){Y1(n,t);var e=X1(n);function n(){return G1(this,n),e.apply(this,arguments)}return K1(n,[{key:"parentStyle",get:function(){var i=this.props,o=i.placement,s=i.styles,a=s.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return o.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):o.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):o.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):o.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var i=this.props,o=i.placement,s=i.setArrowRef,a=i.styles,l=a.arrow,u=l.color,c=l.display,d=l.length,h=l.margin,p=l.position,m=l.spread,y={display:c,position:p},x,w=m,E=d;return o.startsWith("top")?(x="0,0 ".concat(w/2,",").concat(E," ").concat(w,",0"),y.bottom=0,y.marginLeft=h,y.marginRight=h):o.startsWith("bottom")?(x="".concat(w,",").concat(E," ").concat(w/2,",0 0,").concat(E),y.top=0,y.marginLeft=h,y.marginRight=h):o.startsWith("left")?(E=m,w=d,x="0,0 ".concat(w,",").concat(E/2," 0,").concat(E),y.right=0,y.marginTop=h,y.marginBottom=h):o.startsWith("right")&&(E=m,w=d,x="".concat(w,",").concat(E," ").concat(w,",0 0,").concat(E/2),y.left=0,y.marginTop=h,y.marginBottom=h),oe.createElement("div",{className:"__floater__arrow",style:this.parentStyle},oe.createElement("span",{ref:s,style:y},oe.createElement("svg",{width:w,height:E,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},oe.createElement("polygon",{points:x,fill:u}))))}}]),n}(oe.Component);go(Ise,"propTypes",{placement:me.string.isRequired,setArrowRef:me.func.isRequired,styles:me.object.isRequired});var YKe=["color","height","width"];function kse(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,o=n.width,s=Ase(n,YKe);return oe.createElement("button",{"aria-label":"close",onClick:e,style:s,type:"button"},oe.createElement("svg",{width:"".concat(o,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},oe.createElement("g",null,oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}kse.propTypes={handleClick:me.func.isRequired,styles:me.object.isRequired};function Mse(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,o=t.positionWrapper,s=t.showCloseButton,a=t.title,l=t.styles,u={content:oe.isValidElement(e)?e:oe.createElement("div",{className:"__floater__content",style:l.content},e)};return a&&(u.title=oe.isValidElement(a)?a:oe.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=oe.isValidElement(n)?n:oe.createElement("div",{className:"__floater__footer",style:l.footer},n)),(s||o)&&!ke.boolean(i)&&(u.close=oe.createElement(kse,{styles:l.close,handleClick:r})),oe.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}Mse.propTypes={content:me.node.isRequired,footer:me.node,handleClick:me.func.isRequired,open:me.bool,positionWrapper:me.bool.isRequired,showCloseButton:me.bool.isRequired,styles:me.object.isRequired,title:me.node};var Nse=function(t){Y1(n,t);var e=X1(n);function n(){return G1(this,n),e.apply(this,arguments)}return K1(n,[{key:"style",get:function(){var i=this.props,o=i.disableAnimation,s=i.component,a=i.placement,l=i.hideArrow,u=i.status,c=i.styles,d=c.arrow.length,h=c.floater,p=c.floaterCentered,m=c.floaterClosing,y=c.floaterOpening,x=c.floaterWithAnimation,w=c.floaterWithComponent,E={};return l||(a.startsWith("top")?E.padding="0 0 ".concat(d,"px"):a.startsWith("bottom")?E.padding="".concat(d,"px 0 0"):a.startsWith("left")?E.padding="0 ".concat(d,"px 0 0"):a.startsWith("right")&&(E.padding="0 0 0 ".concat(d,"px"))),[Mn.OPENING,Mn.OPEN].indexOf(u)!==-1&&(E=Er(Er({},E),y)),u===Mn.CLOSING&&(E=Er(Er({},E),m)),u===Mn.OPEN&&!o&&(E=Er(Er({},E),x)),a==="center"&&(E=Er(Er({},E),p)),s&&(E=Er(Er({},E),w)),Er(Er({},h),E)}},{key:"render",value:function(){var i=this.props,o=i.component,s=i.handleClick,a=i.hideArrow,l=i.setFloaterRef,u=i.status,c={},d=["__floater"];return o?oe.isValidElement(o)?c.content=oe.cloneElement(o,{closeFn:s}):c.content=o({closeFn:s}):c.content=oe.createElement(Mse,this.props),u===Mn.OPEN&&d.push("__floater__open"),a||(c.arrow=oe.createElement(Ise,this.props)),oe.createElement("div",{ref:l,className:d.join(" "),style:this.style},oe.createElement("div",{className:"__floater__body"},c.content,c.arrow))}}]),n}(oe.Component);go(Nse,"propTypes",{component:me.oneOfType([me.func,me.element]),content:me.node,disableAnimation:me.bool.isRequired,footer:me.node,handleClick:me.func.isRequired,hideArrow:me.bool.isRequired,open:me.bool,placement:me.string.isRequired,positionWrapper:me.bool.isRequired,setArrowRef:me.func.isRequired,setFloaterRef:me.func.isRequired,showCloseButton:me.bool,status:me.string.isRequired,styles:me.object.isRequired,title:me.node});var Dse=function(t){Y1(n,t);var e=X1(n);function n(){return G1(this,n),e.apply(this,arguments)}return K1(n,[{key:"render",value:function(){var i=this.props,o=i.children,s=i.handleClick,a=i.handleMouseEnter,l=i.handleMouseLeave,u=i.setChildRef,c=i.setWrapperRef,d=i.style,h=i.styles,p;if(o)if(oe.Children.count(o)===1)if(!oe.isValidElement(o))p=oe.createElement("span",null,o);else{var m=ke.function(o.type)?"innerRef":"ref";p=oe.cloneElement(oe.Children.only(o),go({},m,u))}else p=o;return p?oe.createElement("span",{ref:c,style:Er(Er({},h),d),onClick:s,onMouseEnter:a,onMouseLeave:l},p):null}}]),n}(oe.Component);go(Dse,"propTypes",{children:me.node,handleClick:me.func.isRequired,handleMouseEnter:me.func.isRequired,handleMouseLeave:me.func.isRequired,setChildRef:me.func.isRequired,setWrapperRef:me.func.isRequired,style:me.object,styles:me.object.isRequired});var XKe={zIndex:100};function JKe(t){var e=pl(XKe,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var QKe=["arrow","flip","offset"],ZKe=["position","top","right","bottom","left"],Q3=function(t){Y1(n,t);var e=X1(n);function n(r){var i;return G1(this,n),i=e.call(this,r),go(hc(i),"setArrowRef",function(o){i.arrowRef=o}),go(hc(i),"setChildRef",function(o){i.childRef=o}),go(hc(i),"setFloaterRef",function(o){i.floaterRef=o}),go(hc(i),"setWrapperRef",function(o){i.wrapperRef=o}),go(hc(i),"handleTransitionEnd",function(){var o=i.state.status,s=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:o===Mn.OPENING?Mn.OPEN:Mn.IDLE},function(){var a=i.state.status;s(a===Mn.OPEN?"open":"close",i.props)})}),go(hc(i),"handleClick",function(){var o=i.props,s=o.event,a=o.open;if(!ke.boolean(a)){var l=i.state,u=l.positionWrapper,c=l.status;(i.event==="click"||i.event==="hover"&&u)&&(eC({title:"click",data:[{event:s,status:c===Mn.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),go(hc(i),"handleMouseEnter",function(){var o=i.props,s=o.event,a=o.open;if(!(ke.boolean(a)||cL())){var l=i.state.status;i.event==="hover"&&l===Mn.IDLE&&(eC({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),go(hc(i),"handleMouseLeave",function(){var o=i.props,s=o.event,a=o.eventDelay,l=o.open;if(!(ke.boolean(l)||cL())){var u=i.state,c=u.status,d=u.positionWrapper;i.event==="hover"&&(eC({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:i.debug}),a?[Mn.OPENING,Mn.OPEN].indexOf(c)!==-1&&!d&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},a*1e3)):i.toggle(Mn.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Mn.INIT,statusWrapper:Mn.INIT},i._isMounted=!1,i.hasMounted=!1,pu()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return K1(n,[{key:"componentDidMount",value:function(){if(pu()){var i=this.state.positionWrapper,o=this.props,s=o.children,a=o.open,l=o.target;this._isMounted=!0,eC({title:"init",data:{hasChildren:!!s,hasTarget:!!l,isControlled:ke.boolean(a),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&l&&ke.boolean(a)}}},{key:"componentDidUpdate",value:function(i,o){if(pu()){var s=this.props,a=s.autoOpen,l=s.open,u=s.target,c=s.wrapperOptions,d=NKe(o,this.state),h=d.changedFrom,p=d.changed;if(i.open!==l){var m;ke.boolean(l)&&(m=l?Mn.OPENING:Mn.CLOSING),this.toggle(m)}(i.wrapperOptions.position!==c.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",Mn.IDLE)&&l?this.toggle(Mn.OPEN):h("status",Mn.INIT,Mn.IDLE)&&a&&this.toggle(Mn.OPEN),this.popper&&p("status",Mn.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",Mn.OPENING)||p("status",Mn.CLOSING))&&KKe(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){pu()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,c=a.hideArrow,d=a.offset,h=a.placement,p=a.wrapperOptions,m=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:Mn.IDLE});else if(o&&this.floaterRef){var y=this.options,x=y.arrow,w=y.flip,E=y.offset,S=Ase(y,QKe);new Iw(o,this.floaterRef,{placement:h,modifiers:Er({arrow:Er({enabled:!c,element:this.arrowRef},x),flip:Er({enabled:!l,behavior:m},w),offset:Er({offset:"0, ".concat(d,"px")},E)},S),onCreate:function(N){var R;if(i.popper=N,!((R=i.floaterRef)!==null&&R!==void 0&&R.isConnected)){i.setState({needsUpdate:!0});return}u(N,"floater"),i._isMounted&&i.setState({currentPlacement:N.placement,status:Mn.IDLE}),h!==N.placement&&setTimeout(function(){N.instance.update()},1)},onUpdate:function(N){i.popper=N;var R=i.state.currentPlacement;i._isMounted&&N.placement!==R&&i.setState({currentPlacement:N.placement})}})}if(s){var T=ke.undefined(p.offset)?0:p.offset;new Iw(this.target,this.wrapperRef,{placement:p.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(T,"px")},flip:{enabled:!1}},onCreate:function(N){i.wrapperPopper=N,i._isMounted&&i.setState({statusWrapper:Mn.IDLE}),u(N,"wrapper"),h!==N.placement&&setTimeout(function(){N.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var o;(o=i.floaterRef)!==null&&o!==void 0&&o.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var o=i.target,s=i.wrapperOptions;this.setState({positionWrapper:s.position&&!!o})}},{key:"toggle",value:function(i){var o=this.state.status,s=o===Mn.OPEN?Mn.CLOSING:Mn.OPENING;ke.undefined(i)||(s=i),this.setState({status:s})}},{key:"debug",get:function(){var i=this.props.debug;return i||pu()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,o=i.disableHoverToClick,s=i.event;return s==="hover"&&cL()&&!o?"click":s}},{key:"options",get:function(){var i=this.props.options;return pl(BKe,i||{})}},{key:"styles",get:function(){var i=this,o=this.state,s=o.status,a=o.positionWrapper,l=o.statusWrapper,u=this.props.styles,c=pl(JKe(u),u);if(a){var d;[Mn.IDLE].indexOf(s)===-1||[Mn.IDLE].indexOf(l)===-1?d=c.wrapperPosition:d=this.wrapperPopper.styles,c.wrapper=Er(Er({},c.wrapper),d)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?c.wrapper=Er(Er({},c.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},a||(ZKe.forEach(function(p){i.wrapperStyles[p]=h[p]}),c.wrapper=Er(Er({},c.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return c}},{key:"target",get:function(){if(!pu())return null;var i=this.props.target;return i?ke.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,o=i.currentPlacement,s=i.positionWrapper,a=i.status,l=this.props,u=l.children,c=l.component,d=l.content,h=l.disableAnimation,p=l.footer,m=l.hideArrow,y=l.id,x=l.open,w=l.showCloseButton,E=l.style,S=l.target,T=l.title,k=oe.createElement(Dse,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:E,styles:this.styles.wrapper},u),N={};return s?N.wrapperInPortal=k:N.wrapperAsChildren=k,oe.createElement("span",null,oe.createElement(Pse,{hasChildren:!!u,id:y,placement:o,setRef:this.setFloaterRef,target:S,zIndex:this.styles.options.zIndex},oe.createElement(Nse,{component:c,content:d,disableAnimation:h,footer:p,handleClick:this.handleClick,hideArrow:m||o==="center",open:x,placement:o,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:w,status:a,styles:this.styles,title:T}),N.wrapperInPortal),N.wrapperAsChildren)}}]),n}(oe.Component);go(Q3,"propTypes",{autoOpen:me.bool,callback:me.func,children:me.node,component:TY(me.oneOfType([me.func,me.element]),function(t){return!t.content}),content:TY(me.node,function(t){return!t.component}),debug:me.bool,disableAnimation:me.bool,disableFlip:me.bool,disableHoverToClick:me.bool,event:me.oneOf(["hover","click"]),eventDelay:me.number,footer:me.node,getPopper:me.func,hideArrow:me.bool,id:me.oneOfType([me.string,me.number]),offset:me.number,open:me.bool,options:me.object,placement:me.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:me.bool,style:me.object,styles:me.object,target:me.oneOfType([me.object,me.string]),title:me.node,wrapperOptions:me.shape({offset:me.number,placement:me.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:me.bool})});go(Q3,"defaultProps",{autoOpen:!1,callback:AY,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:AY,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var eYe=Object.defineProperty,tYe=(t,e,n)=>e in t?eYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e,n)=>tYe(t,typeof e!="symbol"?e+"":e,n),qn={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Fs={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},un={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},vn={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function of(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function Lse(t){return t?t.getBoundingClientRect():null}function nYe(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((o,s)=>o-s),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Hc(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function rYe(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function kw(t,e,n){if(!t)return Hh();const r=use(t);if(r){if(r.isSameNode(Hh()))return n?document:Hh();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",Hh()}return r}function IP(t,e){if(!t)return!1;const n=kw(t,e);return n?!n.isSameNode(Hh()):!1}function iYe(t){return t.offsetParent!==document.body}function c0(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=rYe(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?c0(t.parentNode,e):!1}function oYe(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function sYe(t,e,n){var r,i,o;const s=Lse(t),a=kw(t,n),l=IP(t,n),u=c0(t);let c=0,d=(r=s==null?void 0:s.top)!=null?r:0;if(l&&u){const h=(i=t==null?void 0:t.offsetTop)!=null?i:0,p=(o=a==null?void 0:a.scrollTop)!=null?o:0;d=h-p}else a instanceof HTMLElement&&(c=a.scrollTop,!l&&!c0(t)&&(d+=c),a.isSameNode(Hh())||(d+=Hh().scrollTop));return Math.floor(d-e)}function aYe(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:o=0}=(r=use(t))!=null?r:{};let s=t.getBoundingClientRect().top+o;i&&(IP(t,n)||iYe(t))&&(s-=i);const a=Math.floor(s-e);return a<0?0:a}function Hh(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function lYe(t,e){const{duration:n,element:r}=e;return new Promise((i,o)=>{const{scrollTop:s}=r,a=t>s?t-s:s-t;AGe.top(r,t,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?o(l):i())})}var Fb=jc.createPortal!==void 0;function Ose(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function iT(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function gu(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let o=dY(t);if(o)(o.includes("{step}")||o.includes("{steps}"))&&r&&i&&(o=o.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(F.isValidElement(t)&&!Object.values(t.props).length&&iT(t.type)==="function"){const s=t.type({});o=gu(s,e)}else o=dY(n);return o}function uYe(t,e){return!_t.plainObject(t)||!_t.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function cYe(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,o,s,a)=>o+o+s+s+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function RY(t){return t.disableBeacon||t.placement==="center"}function PY(){return!["chrome","safari","firefox","opera"].includes(Ose())}function dg({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(o=>{_t.plainObject(o)&&o.key?i.apply(console,[o.key,o.value]):i.apply(console,[o])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function dYe(t){return Object.keys(t)}function Fse(t,...e){if(!_t.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function fYe(t,...e){if(!_t.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function P5(t,e,n){const r=o=>o.replace("{step}",String(e)).replace("{steps}",String(n));if(iT(t)==="string")return r(t);if(!F.isValidElement(t))return t;const{children:i}=t.props;if(iT(i)==="string"&&i.includes("{step}"))return F.cloneElement(t,{children:r(i)});if(Array.isArray(i))return F.cloneElement(t,{children:i.map(o=>typeof o=="string"?r(o):P5(o,e,n))});if(iT(t.type)==="function"&&!Object.values(t.props).length){const o=t.type({});return P5(o,e,n)}return t}function hYe(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:o,target:s}=t;return!o.disableScrolling&&(!e||i||n===un.TOOLTIP)&&o.placement!=="center"&&(!o.isFixed||!c0(s))&&r!==n&&[un.BEACON,un.TOOLTIP].includes(n)}var pYe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},$se={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},gYe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:$se,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},mYe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},yYe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},$b={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},IY={borderRadius:4,position:"absolute"};function vYe(t,e){var n,r,i,o,s;const{floaterProps:a,styles:l}=t,u=pl((n=e.floaterProps)!=null?n:{},a??{}),c=pl(l??{},(r=e.styles)!=null?r:{}),d=pl(yYe,c.options||{}),h=e.placement==="center"||e.disableBeacon;let{width:p}=d;window.innerWidth>480&&(p=380),"width"in d&&(p=typeof d.width=="number"&&window.innerWidth<d.width?window.innerWidth-30:d.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},y={beacon:{...$b,display:h?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${cYe(d.primaryColor).join(",")}, 0.2)`,border:`2px solid ${d.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...$b,backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...$b,color:d.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...$b,color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...$b,color:d.textColor,fontSize:14},overlay:{...m,backgroundColor:d.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:d.overlayColor},spotlight:{...IY,backgroundColor:"gray"},spotlightLegacy:{...IY,boxShadow:`0 0 0 9999px ${d.overlayColor}, ${d.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(o=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:o.color)!=null?s:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return pl(y,c)}function bYe(t){return fYe(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Fm(t,e){var n,r,i,o,s,a;const l=e??{},u=pl.all([gYe,bYe(t),l],{isMergeableObject:_t.plainObject}),c=vYe(t,u),d=IP(Hc(u.target),u.disableScrollParentFix),h=pl.all([pYe,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return h.offset=u.offset,h.styles=pl((i=h.styles)!=null?i:{},c.floaterStyles),h.offset+=(s=(o=t.spotlightPadding)!=null?o:u.spotlightPadding)!=null?s:0,u.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=u.placementBeacon),d&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...u,locale:pl.all([$se,(a=t.locale)!=null?a:{},u.locale||{}]),floaterProps:h,styles:Fse(c,"floaterStyles")}}function Bse(t,e=!1){return _t.plainObject(t)?t.target?!0:(dg({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(dg({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function kY(t,e=!1){return _t.array(t)?t.every(n=>Bse(n,e)):(dg({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var Vse={action:"init",controlled:!1,index:0,lifecycle:un.INIT,origin:null,size:0,status:vn.IDLE},MY=dYe(Fse(Vse,"controlled","size")),xYe=class{constructor(t){St(this,"beaconPopper"),St(this,"tooltipPopper"),St(this,"data",new Map),St(this,"listener"),St(this,"store",new Map),St(this,"addListener",i=>{this.listener=i}),St(this,"setSteps",i=>{const{size:o,status:s}=this.getState(),a={size:i.length,status:s};this.data.set("steps",i),s===vn.WAITING&&!o&&i.length&&(a.status=vn.RUNNING),this.setState(a)}),St(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),St(this,"setPopper",(i,o)=>{i==="beacon"?this.beaconPopper=o:this.tooltipPopper=o}),St(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),St(this,"close",(i=null)=>{const{index:o,status:s}=this.getState();s===vn.RUNNING&&this.setState({...this.getNextState({action:qn.CLOSE,index:o+1,origin:i})})}),St(this,"go",i=>{const{controlled:o,status:s}=this.getState();if(o||s!==vn.RUNNING)return;const a=this.getSteps()[i];this.setState({...this.getNextState({action:qn.GO,index:i}),status:a?s:vn.FINISHED})}),St(this,"info",()=>this.getState()),St(this,"next",()=>{const{index:i,status:o}=this.getState();o===vn.RUNNING&&this.setState(this.getNextState({action:qn.NEXT,index:i+1}))}),St(this,"open",()=>{const{status:i}=this.getState();i===vn.RUNNING&&this.setState({...this.getNextState({action:qn.UPDATE,lifecycle:un.TOOLTIP})})}),St(this,"prev",()=>{const{index:i,status:o}=this.getState();o===vn.RUNNING&&this.setState({...this.getNextState({action:qn.PREV,index:i-1})})}),St(this,"reset",(i=!1)=>{const{controlled:o}=this.getState();o||this.setState({...this.getNextState({action:qn.RESET,index:0}),status:i?vn.RUNNING:vn.READY})}),St(this,"skip",()=>{const{status:i}=this.getState();i===vn.RUNNING&&this.setState({action:qn.SKIP,lifecycle:un.INIT,status:vn.SKIPPED})}),St(this,"start",i=>{const{index:o,size:s}=this.getState();this.setState({...this.getNextState({action:qn.START,index:_t.number(i)?i:o},!0),status:s?vn.RUNNING:vn.WAITING})}),St(this,"stop",(i=!1)=>{const{index:o,status:s}=this.getState();[vn.FINISHED,vn.SKIPPED].includes(s)||this.setState({...this.getNextState({action:qn.STOP,index:o+(i?1:0)}),status:vn.PAUSED})}),St(this,"update",i=>{var o,s;if(!uYe(i,MY))throw new Error(`State is not valid. Valid keys: ${MY.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(o=i.action)!=null?o:qn.UPDATE,origin:(s=i.origin)!=null?s:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:qn.INIT,controlled:_t.number(n),continuous:e,index:_t.number(n)?n:0,lifecycle:un.INIT,origin:null,status:r.length?vn.READY:vn.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Vse}}getNextState(t,e=!1){var n,r,i,o,s;const{action:a,controlled:l,index:u,size:c,status:d}=this.getState(),h=_t.number(t.index)?t.index:u,p=l&&!e?u:Math.min(Math.max(h,0),c);return{action:(n=t.action)!=null?n:a,controlled:l,index:p,lifecycle:(r=t.lifecycle)!=null?r:un.INIT,origin:(i=t.origin)!=null?i:null,size:(o=t.size)!=null?o:c,status:p===c?vn.FINISHED:(s=t.status)!=null?s:d}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:o,origin:s=null,size:a,status:l}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",o),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function wYe(t){return new xYe(t)}function _Ye({styles:t}){return F.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var SYe=_Ye,EYe=class extends F.Component{constructor(){super(...arguments),St(this,"isActive",!1),St(this,"resizeTimeout"),St(this,"scrollTimeout"),St(this,"scrollParent"),St(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),St(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[un.INIT,un.BEACON,un.COMPLETE,un.ERROR];return e||(t?r.includes(n):n!==un.TOOLTIP)}),St(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:o,width:s}=this.spotlightStyles,a=i==="fixed"?t.clientY:t.pageY,l=i==="fixed"?t.clientX:t.pageX,u=a>=o&&a<=o+n,d=l>=r&&l<=r+s&&u;d!==e&&this.updateState({mouseOverSpotlight:d})}),St(this,"handleScroll",()=>{const{target:t}=this.props,e=Hc(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else c0(e,"sticky")&&this.updateState({})}),St(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Hc(r);this.scrollParent=kw(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:o}=this.props,{changed:s}=xA(t,this.props);if(s("target")||s("disableScrollParentFix")){const a=Hc(o);this.scrollParent=kw(a??document.body,n,!0)}s("lifecycle",un.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&r===un.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==un.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return PY()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:nYe(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:o,spotlightPadding:s=0,styles:a,target:l}=this.props,u=Hc(l),c=Lse(u),d=c0(u),h=sYe(u,s,i);return{...PY()?a.spotlightLegacy:a.spotlight,height:Math.round(((t=c==null?void 0:c.height)!=null?t:0)+s*2),left:Math.round(((e=c==null?void 0:c.left)!=null?e:0)-s),opacity:r?1:0,pointerEvents:o?"none":"auto",position:d?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((n=c==null?void 0:c.width)!=null?n:0)+s*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:o}=this;if(r())return null;let s=n!=="center"&&t&&F.createElement(SYe,{styles:o});if(Ose()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=i;s=F.createElement("div",{style:{...u}},s),delete i.backgroundColor}return F.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},s)}},CYe=class extends F.Component{constructor(){super(...arguments),St(this,"node",null)}componentDidMount(){const{id:t}=this.props;of()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Fb||this.renderReact15())}componentDidUpdate(){of()&&(Fb||this.renderReact15())}componentWillUnmount(){!of()||!this.node||(Fb||jc.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!of())return;const{children:t}=this.props;this.node&&jc.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!of()||!Fb)return null;const{children:t}=this.props;return this.node?jc.createPortal(t,this.node):null}render(){return Fb?this.renderReact16():null}},TYe=class{constructor(t,e){if(St(this,"element"),St(this,"options"),St(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),St(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),St(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),St(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),St(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let o=document.activeElement?r.indexOf(document.activeElement):0;o===-1||!i&&o+1===r.length?o=0:i&&o===0?o=r.length-1:o+=i?-1:1,r[o].focus()}),St(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),St(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),St(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),St(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),St(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},AYe=class extends F.Component{constructor(t){if(super(t),St(this,"beacon",null),St(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{_t.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:o,size:s,step:a,styles:l}=this.props,u=gu(i.open),c={"aria-label":u,onClick:o,onMouseEnter:o,ref:this.setBeaconRef,title:u};let d;if(t){const h=t;d=F.createElement(h,{continuous:e,index:n,isLastStep:r,size:s,step:a,...c})}else d=F.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...c},F.createElement("span",{style:l.beaconInner}),F.createElement("span",{style:l.beaconOuter}));return d}};function RYe({styles:t,...e}){const{color:n,height:r,width:i,...o}=t;return oe.createElement("button",{style:o,type:"button",...e},oe.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},oe.createElement("g",null,oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var PYe=RYe;function IYe(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:o,skipProps:s,step:a,tooltipProps:l}=t,{content:u,hideBackButton:c,hideCloseButton:d,hideFooter:h,showSkipButton:p,styles:m,title:y}=a,x={};return x.primary=F.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...o}),p&&!i&&(x.skip=F.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...s})),!c&&r>0&&(x.back=F.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...e})),x.close=!d&&F.createElement(PYe,{"data-test-id":"button-close",styles:m.buttonClose,...n}),F.createElement("div",{key:"JoyrideTooltip","aria-label":gu(y??u),className:"react-joyride__tooltip",style:m.tooltip,...l},F.createElement("div",{style:m.tooltipContainer},y&&F.createElement("h1",{"aria-label":gu(y),style:m.tooltipTitle},y),F.createElement("div",{style:m.tooltipContent},u)),!h&&F.createElement("div",{style:m.tooltipFooter},F.createElement("div",{style:m.tooltipFooterSpacer},x.skip),x.back,x.primary),x.close)}var kYe=IYe,MYe=class extends F.Component{constructor(){super(...arguments),St(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),St(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),St(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),St(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),St(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{back:s,close:a,last:l,next:u,nextLabelWithProgress:c,skip:d}=o.locale,h=gu(s),p=gu(a),m=gu(l),y=gu(u),x=gu(d);let w=a,E=p;if(t){if(w=u,E=y,o.showProgress&&!n){const S=gu(c,{step:e+1,steps:i});w=P5(c,e+1,i),E=S}n&&(w=l,E=m)}return{backProps:{"aria-label":h,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":p,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":E,children:w,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:E},skipProps:{"aria-label":x,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:x},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{beaconComponent:s,tooltipComponent:a,...l}=o;let u;if(a){const c={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:l,setTooltipRef:r},d=a;u=F.createElement(d,{...c})}else u=F.createElement(kYe,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:o});return u}},NYe=class extends F.Component{constructor(){super(...arguments),St(this,"scope",null),St(this,"tooltip",null),St(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:un.TOOLTIP})}),St(this,"setTooltipRef",t=>{this.tooltip=t}),St(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:o,store:s}=this.props;e==="wrapper"?s.setPopper("beacon",t):s.setPopper("tooltip",t),s.getPopper("beacon")&&(s.getPopper("tooltip")||o.placement==="center")&&i===un.INIT&&s.update({action:r,lifecycle:un.READY}),(n=o.floaterProps)!=null&&n.getPopper&&o.floaterProps.getPopper(t,e)}),St(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:o}=this.props;return F.createElement(MYe,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:o,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;dg({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:o,debug:s,helpers:a,index:l,lifecycle:u,shouldScroll:c,status:d,step:h,store:p}=this.props,{changed:m,changedFrom:y}=xA(t,this.props),x=a.info(),w=i&&n!==qn.CLOSE&&(l>0||n===qn.PREV),E=m("action")||m("index")||m("lifecycle")||m("status"),S=y("lifecycle",[un.TOOLTIP,un.INIT],un.INIT),T=m("action",[qn.NEXT,qn.PREV,qn.SKIP,qn.CLOSE]),k=o&&l===t.index;if(T&&(S||k)&&r({...x,index:t.index,lifecycle:un.COMPLETE,step:t.step,type:Fs.STEP_AFTER}),h.placement==="center"&&d===vn.RUNNING&&m("index")&&n!==qn.START&&u===un.INIT&&p.update({lifecycle:un.READY}),E){const N=Hc(h.target),R=!!N;R&&oYe(N)?(y("status",vn.READY,vn.RUNNING)||y("lifecycle",un.INIT,un.READY))&&r({...x,step:h,type:Fs.STEP_BEFORE}):(console.warn(R?"Target not visible":"Target not mounted",h),r({...x,type:Fs.TARGET_NOT_FOUND,step:h}),o||p.update({index:l+(n===qn.PREV?-1:1)}))}y("lifecycle",un.INIT,un.READY)&&p.update({lifecycle:RY(h)||w?un.TOOLTIP:un.BEACON}),m("index")&&dg({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:s}),m("lifecycle",un.BEACON)&&r({...x,step:h,type:Fs.BEACON}),m("lifecycle",un.TOOLTIP)&&(r({...x,step:h,type:Fs.TOOLTIP}),c&&this.tooltip&&(this.scope=new TYe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[un.TOOLTIP,un.INIT],un.INIT)&&((e=this.scope)==null||e.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return RY(e)||t===un.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:o,step:s}=this.props,a=Hc(s.target);return!Bse(s)||!_t.domElement(a)?null:F.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},F.createElement(Q3,{...s.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:s.placement,target:s.target},F.createElement(AYe,{beaconComponent:s.beaconComponent,continuous:t,index:n,isLastStep:n+1===o,locale:s.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:o,step:s,styles:s.styles})))}},zse=class extends F.Component{constructor(t){super(t),St(this,"helpers"),St(this,"store"),St(this,"callback",s=>{const{callback:a}=this.props;_t.function(a)&&a(s)}),St(this,"handleKeyboard",s=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,c=u[a];l===un.TOOLTIP&&s.code==="Escape"&&c&&!c.disableCloseOnEsc&&this.store.close("keyboard")}),St(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:a}=this.props;Fm(this.props,a[s]).disableOverlayClose||this.helpers.close("overlay")}),St(this,"syncState",s=>{this.setState(s)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=wYe({...t,controlled:r&&_t.number(i)}),this.helpers=this.store.getHelpers();const{addListener:o}=this.store;dg({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),o(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!of())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;kY(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!of())return;const{action:n,controlled:r,index:i,status:o}=this.state,{debug:s,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:c,steps:d}=t,{reset:h,setSteps:p,start:m,stop:y,update:x}=this.store,{changed:w}=xA(t,this.props),{changed:E,changedFrom:S}=xA(e,this.state),T=Fm(this.props,u[i]),k=!Lo(d,u),N=_t.number(l)&&w("stepIndex"),R=Hc(T.target);if(k&&(kY(u,s)?p(u):console.warn("Steps are not valid",u)),w("run")&&(a?m(l):y()),N){let I=_t.number(c)&&c<l?qn.NEXT:qn.PREV;n===qn.STOP&&(I=qn.START),[vn.FINISHED,vn.SKIPPED].includes(o)||x({action:n===qn.CLOSE?qn.CLOSE:I,index:l,lifecycle:un.INIT})}!r&&o===vn.RUNNING&&i===0&&!R&&(this.store.update({index:i+1}),this.callback({...this.state,type:Fs.TARGET_NOT_FOUND,step:T}));const M={...this.state,index:i,step:T};if(E("action",[qn.NEXT,qn.PREV,qn.SKIP,qn.CLOSE])&&E("status",vn.PAUSED)){const I=Fm(this.props,u[e.index]);this.callback({...M,index:e.index,lifecycle:un.COMPLETE,step:I,type:Fs.STEP_AFTER})}if(E("status",[vn.FINISHED,vn.SKIPPED])){const I=Fm(this.props,u[e.index]);r||this.callback({...M,index:e.index,lifecycle:un.COMPLETE,step:I,type:Fs.STEP_AFTER}),this.callback({...M,type:Fs.TOUR_END,step:I,index:e.index}),h()}else S("status",[vn.IDLE,vn.READY],vn.RUNNING)?this.callback({...M,type:Fs.TOUR_START}):(E("status")||E("action",qn.RESET))&&this.callback({...M,type:Fs.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:o=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,c=Fm(this.props,u[e]),d=Hc(c.target),h=hYe({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:l,step:c,target:d});if(r===vn.RUNNING&&h){const p=IP(d,o),m=kw(d,o);let y=Math.floor(aYe(d,a,o))||0;dg({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const x=this.store.getPopper("beacon"),w=this.store.getPopper("tooltip");if(n===un.BEACON&&x){const{offsets:E,placement:S}=x;!["bottom"].includes(S)&&!p&&(y=Math.floor(E.popper.top-a))}else if(n===un.TOOLTIP&&w){const{flipped:E,offsets:S,placement:T}=w;["top","right","left"].includes(T)&&!E&&!p?y=Math.floor(S.popper.top-a):y-=c.spotlightPadding}y=y>=0?y:0,r===vn.RUNNING&&lYe(y,{element:m,duration:s}).then(()=>{setTimeout(()=>{var E;(E=this.store.getPopper("tooltip"))==null||E.instance.update()},10)})}}render(){if(!of())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:o,scrollToFirstStep:s=!1,steps:a}=this.props,l=n===vn.RUNNING,u={};if(l&&a[t]){const c=Fm(this.props,a[t]);u.step=F.createElement(NYe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:o,shouldScroll:!c.disableScrolling&&(t!==0||s),step:c,store:this.store}),u.overlay=F.createElement(CYe,{id:"react-joyride-portal"},F.createElement(EYe,{...c,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return F.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};St(zse,"defaultProps",mYe);var DYe=zse,oa=typeof window<"u"?window:null,Z3=oa===null,Mw=Z3?void 0:oa.document,za="addEventListener",Ua="removeEventListener",dL="getBoundingClientRect",Bb="_a",Ha="_b",dc="_c",tC="horizontal",qa=function(){return!1},LYe=Z3?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Mw.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Use=function(t){return typeof t=="string"||t instanceof String},NY=function(t){if(Use(t)){var e=Mw.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},so=function(t,e,n){var r=t[e];return r!==void 0?r:n},nC=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},OYe=function(t,e){var n=Mw.createElement("div");return n.className="gutter gutter-"+e,n},FYe=function(t,e,n){var r={};return Use(e)?r[t]=e:r[t]=LYe+"("+e+"% - "+n+"px)",r},$Ye=function(t,e){var n;return n={},n[t]=e+"px",n},DY=function(t,e){if(e===void 0&&(e={}),Z3)return{};var n=t,r,i,o,s,a,l;Array.from&&(n=Array.from(n));var u=NY(n[0]),c=u.parentNode,d=getComputedStyle?getComputedStyle(c):null,h=d?d.flexDirection:null,p=so(e,"sizes")||n.map(function(){return 100/n.length}),m=so(e,"minSize",100),y=Array.isArray(m)?m:n.map(function(){return m}),x=so(e,"maxSize",1/0),w=Array.isArray(x)?x:n.map(function(){return x}),E=so(e,"expandToMin",!1),S=so(e,"gutterSize",10),T=so(e,"gutterAlign","center"),k=so(e,"snapOffset",30),N=Array.isArray(k)?k:n.map(function(){return k}),R=so(e,"dragInterval",1),M=so(e,"direction",tC),L=so(e,"cursor",M===tC?"col-resize":"row-resize"),I=so(e,"gutter",OYe),O=so(e,"elementStyle",FYe),V=so(e,"gutterStyle",$Ye);M===tC?(r="width",i="clientX",o="left",s="right",a="clientWidth"):M==="vertical"&&(r="height",i="clientY",o="top",s="bottom",a="clientHeight");function $(te,ce,fe,ge){var xe=O(r,ce,fe,ge);Object.keys(xe).forEach(function(be){te.style[be]=xe[be]})}function z(te,ce,fe){var ge=V(r,ce,fe);Object.keys(ge).forEach(function(xe){te.style[xe]=ge[xe]})}function W(){return l.map(function(te){return te.size})}function K(te){return"touches"in te?te.touches[0][i]:te[i]}function J(te){var ce=l[this.a],fe=l[this.b],ge=ce.size+fe.size;ce.size=te/this.size*ge,fe.size=ge-te/this.size*ge,$(ce.element,ce.size,this[Ha],ce.i),$(fe.element,fe.size,this[dc],fe.i)}function Q(te){var ce,fe=l[this.a],ge=l[this.b];this.dragging&&(ce=K(te)-this.start+(this[Ha]-this.dragOffset),R>1&&(ce=Math.round(ce/R)*R),ce<=fe.minSize+fe.snapOffset+this[Ha]?ce=fe.minSize+this[Ha]:ce>=this.size-(ge.minSize+ge.snapOffset+this[dc])&&(ce=this.size-(ge.minSize+this[dc])),ce>=fe.maxSize-fe.snapOffset+this[Ha]?ce=fe.maxSize+this[Ha]:ce<=this.size-(ge.maxSize-ge.snapOffset+this[dc])&&(ce=this.size-(ge.maxSize+this[dc])),J.call(this,ce),so(e,"onDrag",qa)(W()))}function X(){var te=l[this.a].element,ce=l[this.b].element,fe=te[dL](),ge=ce[dL]();this.size=fe[r]+ge[r]+this[Ha]+this[dc],this.start=fe[o],this.end=fe[s]}function j(te){if(!getComputedStyle)return null;var ce=getComputedStyle(te);if(!ce)return null;var fe=te[a];return fe===0?null:(M===tC?fe-=parseFloat(ce.paddingLeft)+parseFloat(ce.paddingRight):fe-=parseFloat(ce.paddingTop)+parseFloat(ce.paddingBottom),fe)}function Y(te){var ce=j(c);if(ce===null||y.reduce(function(be,Ee){return be+Ee},0)>ce)return te;var fe=0,ge=[],xe=te.map(function(be,Ee){var Me=ce*be/100,st=nC(S,Ee===0,Ee===te.length-1,T),Ve=y[Ee]+st;return Me<Ve?(fe+=Ve-Me,ge.push(0),Ve):(ge.push(Me-Ve),Me)});return fe===0?te:xe.map(function(be,Ee){var Me=be;if(fe>0&&ge[Ee]-fe>0){var st=Math.min(fe,ge[Ee]-fe);fe-=st,Me=be-st}return Me/ce*100})}function ue(){var te=this,ce=l[te.a].element,fe=l[te.b].element;te.dragging&&so(e,"onDragEnd",qa)(W()),te.dragging=!1,oa[Ua]("mouseup",te.stop),oa[Ua]("touchend",te.stop),oa[Ua]("touchcancel",te.stop),oa[Ua]("mousemove",te.move),oa[Ua]("touchmove",te.move),te.stop=null,te.move=null,ce[Ua]("selectstart",qa),ce[Ua]("dragstart",qa),fe[Ua]("selectstart",qa),fe[Ua]("dragstart",qa),ce.style.userSelect="",ce.style.webkitUserSelect="",ce.style.MozUserSelect="",ce.style.pointerEvents="",fe.style.userSelect="",fe.style.webkitUserSelect="",fe.style.MozUserSelect="",fe.style.pointerEvents="",te.gutter.style.cursor="",te.parent.style.cursor="",Mw.body.style.cursor=""}function q(te){if(!("button"in te&&te.button!==0)){var ce=this,fe=l[ce.a].element,ge=l[ce.b].element;ce.dragging||so(e,"onDragStart",qa)(W()),te.preventDefault(),ce.dragging=!0,ce.move=Q.bind(ce),ce.stop=ue.bind(ce),oa[za]("mouseup",ce.stop),oa[za]("touchend",ce.stop),oa[za]("touchcancel",ce.stop),oa[za]("mousemove",ce.move),oa[za]("touchmove",ce.move),fe[za]("selectstart",qa),fe[za]("dragstart",qa),ge[za]("selectstart",qa),ge[za]("dragstart",qa),fe.style.userSelect="none",fe.style.webkitUserSelect="none",fe.style.MozUserSelect="none",fe.style.pointerEvents="none",ge.style.userSelect="none",ge.style.webkitUserSelect="none",ge.style.MozUserSelect="none",ge.style.pointerEvents="none",ce.gutter.style.cursor=L,ce.parent.style.cursor=L,Mw.body.style.cursor=L,X.call(ce),ce.dragOffset=K(te)-ce.end}}p=Y(p);var de=[];l=n.map(function(te,ce){var fe={element:NY(te),size:p[ce],minSize:y[ce],maxSize:w[ce],snapOffset:N[ce],i:ce},ge;if(ce>0&&(ge={a:ce-1,b:ce,dragging:!1,direction:M,parent:c},ge[Ha]=nC(S,ce-1===0,!1,T),ge[dc]=nC(S,!1,ce===n.length-1,T),h==="row-reverse"||h==="column-reverse")){var xe=ge.a;ge.a=ge.b,ge.b=xe}if(ce>0){var be=I(ce,M,fe.element);z(be,S,ce),ge[Bb]=q.bind(ge),be[za]("mousedown",ge[Bb]),be[za]("touchstart",ge[Bb]),c.insertBefore(be,fe.element),ge.gutter=be}return $(fe.element,fe.size,nC(S,ce===0,ce===n.length-1,T),ce),ce>0&&de.push(ge),fe});function se(te){var ce=te.i===de.length,fe=ce?de[te.i-1]:de[te.i];X.call(fe);var ge=ce?fe.size-te.minSize-fe[dc]:te.minSize+fe[Ha];J.call(fe,ge)}l.forEach(function(te){var ce=te.element[dL]()[r];ce<te.minSize&&(E?se(te):te.minSize=ce)});function ee(te){var ce=Y(te);ce.forEach(function(fe,ge){if(ge>0){var xe=de[ge-1],be=l[xe.a],Ee=l[xe.b];be.size=ce[ge-1],Ee.size=fe,$(be.element,be.size,xe[Ha],be.i),$(Ee.element,Ee.size,xe[dc],Ee.i)}})}function ae(te,ce){de.forEach(function(fe){if(ce!==!0?fe.parent.removeChild(fe.gutter):(fe.gutter[Ua]("mousedown",fe[Bb]),fe.gutter[Ua]("touchstart",fe[Bb])),te!==!0){var ge=O(r,fe.a.size,fe[Ha]);Object.keys(ge).forEach(function(xe){l[fe.a].element.style[xe]="",l[fe.b].element.style[xe]=""})}})}return{setSizes:ee,getSizes:W,collapse:function(ce){se(l[ce])},destroy:ae,parent:c,pairs:de}};function fL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var eB=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,o=fL(r,["children","gutter"]),s=o;s.gutter=function(a,l){var u;return i?u=i(a,l):(u=document.createElement("div"),u.className="gutter gutter-"+l),u.__isSplitGutter=!0,u},this.split=DY(this.parent.children,s)},e.prototype.componentDidUpdate=function(r){var i=this,o=this.props;o.children;var s=o.minSize,a=o.sizes,l=o.collapsed,u=fL(o,["children","minSize","sizes","collapsed"]),c=u,d=r.minSize,h=r.sizes,p=r.collapsed,m=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],y=m.map(function(E){return i.props[E]!==r[E]}).reduce(function(E,S){return E||S},!1);if(Array.isArray(s)&&Array.isArray(d)){var x=!1;s.forEach(function(E,S){x=x||E!==d[S]}),y=y||x}else Array.isArray(s)||Array.isArray(d)?y=!0:y=y||s!==d;if(y)c.minSize=s,c.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),c.gutter=function(E,S,T){return T.previousSibling},this.split=DY(Array.from(this.parent.children).filter(function(E){return!E.__isSplitGutter}),c);else if(a){var w=!1;a.forEach(function(E,S){w=w||E!==h[S]}),w&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==p||y)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var o=i.children,s=fL(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=s;return oe.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),o)},e}(oe.Component);eB.propTypes={sizes:me.arrayOf(me.number),minSize:me.oneOfType([me.number,me.arrayOf(me.number)]),maxSize:me.oneOfType([me.number,me.arrayOf(me.number)]),expandToMin:me.bool,gutterSize:me.number,gutterAlign:me.string,snapOffset:me.oneOfType([me.number,me.arrayOf(me.number)]),dragInterval:me.number,direction:me.string,cursor:me.string,gutter:me.func,elementStyle:me.func,gutterStyle:me.func,onDrag:me.func,onDragStart:me.func,onDragEnd:me.func,collapsed:me.number,children:me.arrayOf(me.element)};eB.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};function oT(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BYe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hse(t){let e,n,r;t.length!==2?(e=oT,n=(a,l)=>oT(t(a),l),r=(a,l)=>t(a)-l):(e=t===oT||t===BYe?t:VYe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function VYe(){return 0}function zYe(t){return t===null?NaN:+t}const UYe=Hse(oT),HYe=UYe.right;Hse(zYe).center;const qYe=Math.sqrt(50),jYe=Math.sqrt(10),WYe=Math.sqrt(2);function EA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=qYe?10:o>=jYe?5:o>=WYe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?EA(t,e,n*2):[a,l,u]}function GYe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?EA(e,t,n):EA(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function I5(t,e,n){return e=+e,t=+t,n=+n,EA(t,e,n)[2]}function KYe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?I5(e,t,n):I5(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function YYe(t){return t}var sT=1,hL=2,LY=3,Cx=4,OY=1e-6;function XYe(t){return"translate("+t+",0)"}function JYe(t){return"translate(0,"+t+")"}function QYe(t){return e=>+t(e)}function ZYe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function eXe(){return!this.__axis}function qse(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===sT||t===Cx?-1:1,c=t===Cx||t===hL?"x":"y",d=t===sT||t===LY?XYe:JYe;function h(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):YYe),x=Math.max(o,0)+a,w=e.range(),E=+w[0]+l,S=+w[w.length-1]+l,T=(e.bandwidth?ZYe:QYe)(e.copy(),l),k=p.selection?p.selection():p,N=k.selectAll(".domain").data([null]),R=k.selectAll(".tick").data(m,e).order(),M=R.exit(),L=R.enter().append("g").attr("class","tick"),I=R.select("line"),O=R.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(L),I=I.merge(L.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),O=O.merge(L.append("text").attr("fill","currentColor").attr(c,u*x).attr("dy",t===sT?"0em":t===LY?"0.71em":"0.32em")),p!==k&&(N=N.transition(p),R=R.transition(p),I=I.transition(p),O=O.transition(p),M=M.transition(p).attr("opacity",OY).attr("transform",function(V){return isFinite(V=T(V))?d(V+l):this.getAttribute("transform")}),L.attr("opacity",OY).attr("transform",function(V){var $=this.parentNode.__axis;return d(($&&isFinite($=$(V))?$:T(V))+l)})),M.remove(),N.attr("d",t===Cx||t===hL?s?"M"+u*s+","+E+"H"+l+"V"+S+"H"+u*s:"M"+l+","+E+"V"+S:s?"M"+E+","+u*s+"V"+l+"H"+S+"V"+u*s:"M"+E+","+l+"H"+S),R.attr("opacity",1).attr("transform",function(V){return d(T(V)+l)}),I.attr(c+"2",u*o),O.attr(c,u*x).text(y),k.filter(eXe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===hL?"start":t===Cx?"end":"middle"),k.each(function(){this.__axis=T})}return h.scale=function(p){return arguments.length?(e=p,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(o=s=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(a=+p,h):a},h.offset=function(p){return arguments.length?(l=+p,h):l},h}function tXe(t){return qse(sT,t)}function nXe(t){return qse(Cx,t)}const k5=Math.PI,M5=2*k5,Oh=1e-6,rXe=M5-Oh;function jse(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function iXe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return jse;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oXe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?jse:iXe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Oh)if(!(Math.abs(d*l-u*c)>Oh)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,y=l*l+u*u,x=p*p+m*m,w=Math.sqrt(y),E=Math.sqrt(h),S=o*Math.tan((k5-Math.acos((y+h-x)/(2*w*E)))/2),T=S/E,k=S/w;Math.abs(T-1)>Oh&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*p>c*m)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Oh||Math.abs(this._y1-c)>Oh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%M5+M5),h>rXe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Oh&&this._append`A${r},${r},0,${+(h>=k5)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sXe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function CA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function d0(t){return t=CA(Math.abs(t)),t?t[1]:NaN}function aXe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function lXe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uXe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function TA(t){if(!(e=uXe.exec(t)))throw new Error("invalid format: "+t);var e;return new tB({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}TA.prototype=tB.prototype;function tB(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cXe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wse;function dXe(t,e){var n=CA(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Wse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+CA(t,Math.max(0,e+o-1))[0]}function FY(t,e){var n=CA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $Y={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sXe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>FY(t*100,e),r:FY,s:dXe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function BY(t){return t}var VY=Array.prototype.map,zY=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fXe(t){var e=t.grouping===void 0||t.thousands===void 0?BY:aXe(VY.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?BY:lXe(VY.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=TA(d);var h=d.fill,p=d.align,m=d.sign,y=d.symbol,x=d.zero,w=d.width,E=d.comma,S=d.precision,T=d.trim,k=d.type;k==="n"?(E=!0,k="g"):$Y[k]||(S===void 0&&(S=12),T=!0,k="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=y==="$"?r:/[%p]/.test(k)?s:"",M=$Y[k],L=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var V=N,$=R,z,W,K;if(k==="c")$=M(O)+$,O="";else{O=+O;var J=O<0||1/O<0;if(O=isNaN(O)?l:M(Math.abs(O),S),T&&(O=cXe(O)),J&&+O==0&&m!=="+"&&(J=!1),V=(J?m==="("?m:a:m==="-"||m==="("?"":m)+V,$=(k==="s"?zY[8+Wse/3]:"")+$+(J&&m==="("?")":""),L){for(z=-1,W=O.length;++z<W;)if(K=O.charCodeAt(z),48>K||K>57){$=(K===46?i+O.slice(z+1):O.slice(z))+$,O=O.slice(0,z);break}}}E&&!x&&(O=e(O,1/0));var Q=V.length+O.length+$.length,X=Q<w?new Array(w-Q+1).join(h):"";switch(E&&x&&(O=e(X+O,X.length?w-$.length:1/0),X=""),p){case"<":O=V+O+$+X;break;case"=":O=V+X+O+$;break;case"^":O=X.slice(0,Q=X.length>>1)+V+O+$+X.slice(Q);break;default:O=X+V+O+$;break}return o(O)}return I.toString=function(){return d+""},I}function c(d,h){var p=u((d=TA(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(d0(h)/3)))*3,y=Math.pow(10,-m),x=zY[8+m/3];return function(w){return p(y*w)+x}}return{format:u,formatPrefix:c}}var rC,Gse,Kse;hXe({thousands:",",grouping:[3],currency:["$",""]});function hXe(t){return rC=fXe(t),Gse=rC.format,Kse=rC.formatPrefix,rC}function pXe(t){return Math.max(0,-d0(Math.abs(t)))}function gXe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(d0(e)/3)))*3-d0(Math.abs(t)))}function mXe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,d0(e)-d0(t))+1}function yXe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vXe(t){return function(){return t}}function bXe(t){return+t}var UY=[0,1];function wy(t){return t}function N5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vXe(isNaN(e)?NaN:.5)}function xXe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function wXe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=N5(i,r),o=n(s,o)):(r=N5(r,i),o=n(o,s)),function(a){return o(r(a))}}function _Xe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=N5(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=HYe(t,a,1,r)-1;return o[l](i[l](a))}}function SXe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function EXe(){var t=UY,e=UY,n=Cy,r,i,o,s=wy,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==wy&&(s=xXe(t[0],t[h-1])),a=h>2?_Xe:wXe,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),ll)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,bXe),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=tde,c()},d.clamp=function(h){return arguments.length?(s=h?!0:wy,c()):s!==wy},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function CXe(){return EXe()(wy,wy)}function TXe(t,e,n,r){var i=KYe(t,e,n),o;switch(r=TA(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=gXe(i,s))&&(r.precision=o),Kse(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=mXe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pXe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Gse(r)}function AXe(t){var e=t.domain;return t.ticks=function(n){var r=e();return GYe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return TXe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=I5(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function D5(){var t=CXe();return t.copy=function(){return SXe(t,D5())},yXe.apply(t,arguments),AXe(t)}function $m(t){return function(){return t}}function RXe(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new oXe(e)}function PXe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yse(t){this._context=t}Yse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function IXe(t){return new Yse(t)}function kXe(t){return t[0]}function MXe(t){return t[1]}function NXe(t,e){var n=$m(!0),r=null,i=IXe,o=null,s=RXe(a);t=typeof t=="function"?t:t===void 0?kXe:$m(t),e=typeof e=="function"?e:e===void 0?MXe:$m(e);function a(l){var u,c=(l=PXe(l)).length,d,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:$m(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:$m(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:$m(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}const iC=t=>{const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`},DXe=()=>{var I,O,V,$;const{usersDict:t,papersDict:e}=fd(),{selectedAnalyticsPapersId:n,selectedAnalyticsUsersId:r,userPaperReadSessions:i,userPaperHighlights:o,userPaperPurposes:s,maxDuration:a,analyticsLevel:l,selectedPaper:u,selectedUser:c,handlePaperClick:d,handleUserClick:h,handleBreadcrumbClick:p,paperStats:m,userPaperStats:y,userPurposeStats:x,showCanvas:w,setShowCanvas:E}=wg(),[S,T]=F.useState(!1),k="#6cc0f5";F.useEffect(()=>{Object.keys(i).length>0&&N()},[i]),F.useEffect(()=>{R()},[S,l]);const N=()=>{const z=Yi("#timeline-container");if(!z)return;const W=z.node();if(!W)return;const K=W.clientWidth,J=W.clientHeight,Q={top:20,right:20,bottom:20,left:20},X=45,j=35,Y=K-Q.left-Q.right-X,ue=J-Q.top-Q.bottom-j;z.selectAll("svg").remove();const q=z.append("svg").attr("width",K).attr("height",J);q.append("text").attr("x",Q.left+X+Y/2).attr("y",Q.top).attr("text-anchor","middle").attr("font-size","14px").text("Time (minutes)"),q.append("text").attr("transform",`translate(${Q.left}, ${Q.top+j+ue/2}) rotate(-90)`).attr("text-anchor","middle").attr("font-size","14px").text("Page Number (%)");const de=q.append("g").attr("transform",`translate(${Q.left+X}, ${Q.top+j})`).attr("width",Y).attr("height",ue),se=D5().domain([0,a]).range([0,Y]),ee=tXe(se).tickSizeOuter(0).tickFormat(fe=>`${(fe/(1e3*60)).toFixed(1)}`);de.append("g").call(ee);const ae=D5().domain([0,100]).range([0,ue]),te=nXe(ae).tickSizeOuter(0).tickFormat(fe=>`${fe}%`);de.append("g").call(te);const ce=NXe().x(fe=>se(fe[0])).y(fe=>ae(fe[1]));Object.entries(i).forEach(([fe,ge])=>{const[xe,be]=fe.split("_"),Ee=de.append("g").attr("id",`timeline_${xe}_${be}`);let Me=0;const st=o[`${xe}_${be}`]||[];ge.sort((Ve,Oe)=>Ve.startTime-Oe.startTime).forEach(Ve=>{const Oe=Ve.scrollSequence.map((Ye,dt)=>[dt*dte+Me,Ye*100]),Qe=Ee.append("g").attr("id",`read_session_${Ve.id}`);Qe.append("path").attr("class","read-timeline-path").attr("id",`path_${Ve.readPurposeId}_${Ve.id}`).attr("d",ce(Oe)).attr("fill","none").attr("stroke","grey").attr("stroke-width",1.5),st.filter(Ye=>Ye.sessionId===Ve.id).forEach(Ye=>{const dt=Ye.timestamp-Ve.startTime+Me;Qe.append("circle").attr("class","read-timeline-highlight").attr("id",`highlight_${Ve.readPurposeId}_${Ve.id}_${Ye.id}`).attr("cx",se(dt)).attr("cy",ae(Ye.posPercentage*100)).attr("r",2).attr("fill",S?k:"none").attr("stroke","none").attr("stroke-width",.5)}),Me+=Ve.duration})}),R()},R=()=>{Object.keys(i).length!==0&&Object.entries(i).forEach(([z,W])=>{const[K,J]=z.split("_");M(K,J)})},M=(z,W)=>{const K=Yi(`#timeline_${z}_${W}`);if(!K)return;let J=!0;switch(l){default:case Gn.PAPERS:break;case Gn.USERS:J=u===W;break;case Gn.PURPOSES:J=u===W&&c===z;break}K.selectAll("path").each((Q,X,j)=>{var ue,q;const Y=Yi(j[X]);if(J)if(l===Gn.PURPOSES){const de=Y.attr("id").split("_")[1],se=(q=(ue=s[`${z}_${W}`])==null?void 0:ue.find(ee=>ee.id===de))==null?void 0:q.color;Y.attr("stroke",se||"grey")}else Y.attr("stroke","grey");else Y.attr("stroke","lightgrey")}),K.selectAll("circle").each((Q,X,j)=>{var ue,q;const Y=Yi(j[X]);if(J&&S)if(l===Gn.PURPOSES){const de=Y.attr("id").split("_")[1],se=(q=(ue=s[`${z}_${W}`])==null?void 0:ue.find(ee=>ee.id===de))==null?void 0:q.color;Y.attr("fill",se||k).attr("stroke","none")}else Y.attr("fill",k).attr("stroke","none");else Y.attr("fill","none").attr("stroke","none")})},L=()=>l===Gn.PAPERS?D.jsx(Be,{sx:{display:"flex",flexDirection:"column",gap:2},children:m.map(z=>D.jsxs(cl,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>d(z.paperId),children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[D.jsx(r4e,{color:"primary"}),D.jsx(tt,{variant:"h6",sx:{color:"text.primary"},children:z.paperTitle}),D.jsx(YT,{label:`${z.userCount} users`,size:"small"})]}),D.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Total Reading Time"}),D.jsx(tt,{variant:"body1",sx:{fontWeight:"medium"},children:iC(z.totalDuration)})]}),D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Average Time/User"}),D.jsx(tt,{variant:"body1",sx:{fontWeight:"medium"},children:iC(z.averageDuration)})]}),D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),D.jsxs(tt,{variant:"body1",sx:{fontWeight:"medium"},children:[z.totalHighlights," (",z.averageHighlights.toFixed(1)," avg)"]})]})]})]},z.paperId))}):l===Gn.USERS?D.jsx(Be,{sx:{display:"flex",flexDirection:"column",gap:2},children:y.map(z=>D.jsxs(cl,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>h(z.userId),children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[D.jsx($4,{color:"primary"}),D.jsx(tt,{variant:"h6",sx:{color:"text.primary"},children:z.userName}),D.jsx(YT,{label:`${z.purposeCount} purposes`,size:"small"})]}),D.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Reading Time"}),D.jsx(tt,{variant:"body1",sx:{fontWeight:"medium"},children:iC(z.duration)})]}),D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),D.jsx(tt,{variant:"body1",sx:{fontWeight:"medium"},children:z.highlightCount})]}),D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Text/Image Highlights"}),D.jsxs(tt,{variant:"body1",sx:{fontWeight:"medium"},children:[z.textHighlightCount,"/",z.imageHighlightCount]})]})]}),z.lastReadTime>0&&D.jsx(Be,{sx:{mt:1},children:D.jsxs(tt,{variant:"body2",color:"text.secondary",children:["Last Read: ",new Date(z.lastReadTime).toLocaleDateString()]})})]},z.userId))}):l===Gn.PURPOSES?D.jsx(Be,{sx:{display:"flex",flexDirection:"column",gap:2},children:x.map(z=>D.jsxs(cl,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",borderLeft:10,borderLeftColor:z.purposeColor},children:[D.jsx(Be,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:D.jsx(tt,{variant:"h6",children:z.purposeTitle})}),D.jsxs(Be,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Reading Time"}),D.jsx(tt,{variant:"body1",sx:{fontWeight:"medium"},children:iC(z.duration)})]}),D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),D.jsx(tt,{variant:"body1",sx:{fontWeight:"medium"},children:z.highlightCount})]}),D.jsxs(Be,{children:[D.jsx(tt,{variant:"body2",color:"text.secondary",children:"Text/Image Highlights"}),D.jsxs(tt,{variant:"body1",sx:{fontWeight:"medium"},children:[z.textHighlightCount,"/",z.imageHighlightCount]})]})]}),z.lastReadTime>0&&D.jsx(Be,{sx:{mt:1},children:D.jsxs(tt,{variant:"body2",color:"text.secondary",children:["Last Read: ",new Date(z.lastReadTime).toLocaleDateString()]})})]},z.purposeId))}):null;return D.jsxs(Be,{sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(r.length===0||n.length===0)&&D.jsx(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",p:4},children:D.jsxs(Be,{sx:{p:4,borderRadius:3,backgroundColor:"background.paper",border:"2px dashed",borderColor:"divider",maxWidth:"400px",width:"100%"},children:[D.jsx(Ene,{sx:{fontSize:"4rem",color:"text.secondary",mb:2,opacity:.7}}),D.jsx(tt,{variant:"h6",sx:{mb:2,color:"text.primary",fontWeight:"medium"},children:"Ready for Analytics"}),D.jsx(tt,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.6,mb:2},children:"Select papers and users from the left panel to begin analyzing reading patterns and insights."})]})}),r.length>0&&n.length>0&&D.jsxs(D.Fragment,{children:[D.jsxs(Be,{sx:{boxSizing:"border-box",height:"45%",p:2,borderBottom:1,borderColor:"divider"},children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[D.jsx(tt,{variant:"h6",children:"Reading Timeline"}),D.jsxs(Be,{sx:{display:"flex",alignItems:"center"},children:[D.jsx(Ane,{sx:{color:S?"primary.main":"text.secondary"}}),D.jsx(O4,{checked:S,onChange:()=>T(!S),color:"primary"})]})]}),Object.keys(i).length>0?D.jsx(Be,{id:"timeline-container",sx:{width:"100%",height:"calc(100% - 30px)"}}):D.jsx(cl,{sx:{p:3,textAlign:"center",backgroundColor:"background.default"},children:D.jsx(tt,{variant:"body2",color:"text.secondary",children:"No data available for the selected criteria."})})]}),D.jsxs(Be,{sx:{boxSizing:"border-box",height:"55%",p:2,overflow:"auto"},children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[D.jsx(tt,{variant:"h6",children:"Reading Analytics Explorer"}),l===Gn.PURPOSES&&D.jsx(wi,{color:"primary",onClick:()=>E(!w),children:D.jsx(S4e,{})})]}),D.jsxs(DLe,{sx:{mb:2},children:[D.jsx(ej,{component:"button",underline:l===Gn.PAPERS?"none":"hover",onClick:()=>p(Gn.PAPERS),sx:{fontWeight:l===Gn.PAPERS?"bold":"normal"},children:"Papers"}),u&&D.jsx(ej,{component:"button",underline:l===Gn.USERS?"none":"hover",onClick:()=>p(Gn.USERS),sx:{fontWeight:l===Gn.USERS?"bold":"normal"},children:(((O=(I=e[u])==null?void 0:I.title)==null?void 0:O.length)>30?e[u].title.slice(0,30)+"…":(V=e[u])==null?void 0:V.title)||"Paper"}),c&&u&&D.jsx(tt,{color:"text.primary",sx:{fontWeight:"bold"},children:(($=t[c])==null?void 0:$.name)||"User"})]}),L(),Object.keys(i).length===0&&D.jsx(cl,{sx:{p:3,textAlign:"center",backgroundColor:"background.default"},children:D.jsx(tt,{variant:"body2",color:"text.secondary",children:"No data available for the selected criteria."})})]})]})]})},LXe=()=>{const{userData:t}=bg(),{selectedAnalyticsPapersId:e,togglePaperForAnalytics:n,toggleUserForAnalytics:r,selectedAnalyticsUsersId:i}=wg(),{mode:o,papersDict:s,usersDict:a,viewingPaperId:l,setViewingPaperId:u}=fd(),[c,d]=F.useState(""),[h,p]=F.useState(""),[m,y]=F.useState([]),[x,w]=F.useState([]);F.useEffect(()=>{const N=Object.values(s).filter(R=>R.title.toLowerCase().includes(c.toLowerCase()));y(N)},[c]),F.useEffect(()=>{const N=Object.values(a).filter(R=>R.name.toLowerCase().includes(h.toLowerCase())).sort((R,M)=>R.name.localeCompare(M.name));w(N)},[h]);const E=N=>{n(N)},S=N=>{r(N)},T=()=>D.jsxs(Be,{sx:{flex:o===Vr.ANALYZING&&(t==null?void 0:t.role)===dw.TEACHER?"1 1 50%":"1 1 100%",display:"flex",flexDirection:"column",minHeight:0},children:[D.jsx(tt,{variant:"h6",sx:{mb:2,color:"text.primary"},children:"Paper List"}),D.jsx(Mi,{placeholder:"Search papers...",value:c,onChange:N=>d(N.target.value),InputProps:{startAdornment:D.jsx(nA,{position:"start",children:D.jsx(XO,{})})},sx:{mb:2},size:"small",fullWidth:!0}),D.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[D.jsxs(tt,{variant:"body2",color:"text.secondary",children:[m.length," paper",m.length!==1?"s":""," available"]}),o===Vr.ANALYZING&&D.jsxs(tt,{variant:"body2",color:"primary",children:[e.length," selected"]})]}),D.jsx($f,{sx:{mb:1}}),D.jsxs(Be,{sx:{flexGrow:1,overflow:"auto"},children:[D.jsx(YO,{sx:{p:0},children:m.map(N=>{const R=l===N.id,M=e.includes(N.id);return D.jsx(nj,{sx:{p:0,mb:1},children:D.jsx(Be,{sx:{width:"100%",display:"flex",gap:1},children:D.jsx(Be,{sx:{position:"relative",flex:1},children:D.jsxs(tj,{onClick:()=>u(N.id),selected:R,sx:{borderRadius:1,border:R?"2px solid":"1px solid",borderColor:R?"primary.main":"divider",flex:1,"&:hover":{borderColor:"primary.main"},display:"flex",alignItems:"center",gap:1},children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"flex-start",gap:1,flexGrow:1,minWidth:0},children:[D.jsx(h4e,{sx:{color:"text.secondary",fontSize:"1.2rem",mt:.5}}),D.jsx(Be,{sx:{flexGrow:1,minWidth:0},children:D.jsx(sg,{primary:N.title,primaryTypographyProps:{sx:{fontWeight:R?"bold":"normal",fontSize:"0.9rem",lineHeight:1.3,mb:.5}}})})]}),o===Vr.ANALYZING&&D.jsx(wi,{size:"small",onClick:L=>{L.stopPropagation(),E(N.id)},sx:{p:0,flexShrink:0,color:M?"primary.main":"text.secondary","&:focus":{outline:"none"}},children:M?D.jsx(s4e,{fontSize:"small"}):D.jsx(a4e,{fontSize:"small"})})]})})})},N.id)})}),m.length===0&&D.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",color:"text.secondary"},children:D.jsx(tt,{variant:"body2",children:c?"No papers match your search":"No papers available"})})]})]}),k=()=>o!==Vr.ANALYZING||(t==null?void 0:t.role)!==dw.TEACHER?null:D.jsxs(D.Fragment,{children:[D.jsx($f,{sx:{my:2,backgroundColor:"black",height:"1px"}}),D.jsxs(Be,{sx:{flex:"1 1 50%",display:"flex",flexDirection:"column",minHeight:0},children:[D.jsx(tt,{variant:"h6",sx:{mb:2,color:"text.primary"},children:"User List"}),D.jsx(Mi,{placeholder:"Search users...",value:h,onChange:N=>p(N.target.value),InputProps:{startAdornment:D.jsx(nA,{position:"start",children:D.jsx(XO,{})})},sx:{mb:2},size:"small",fullWidth:!0}),D.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[D.jsxs(tt,{variant:"body2",color:"text.secondary",children:[x.length," user",x.length!==1?"s":""," available"]}),D.jsxs(tt,{variant:"body2",color:"primary",children:[i.length," selected"]})]}),D.jsx($f,{sx:{mb:1}}),D.jsxs(Be,{sx:{flexGrow:1,overflow:"auto"},children:[D.jsx(YO,{sx:{p:0},children:x.map(N=>{const R=N.id===(t==null?void 0:t.id),M=i.includes(N.id);return D.jsx(nj,{sx:{p:0,mb:1},children:D.jsx(Be,{sx:{width:"100%",display:"flex",gap:1},children:D.jsx(tj,{sx:{borderRadius:1,border:"1px solid",borderColor:M?"primary.main":"divider",flex:1,backgroundColor:M?"action.selected":"transparent","&:hover":{borderColor:"primary.main"}},onClick:()=>S(N.id),children:D.jsx(Be,{sx:{width:"100%"},children:D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[D.jsx($4,{sx:{color:M?"primary.main":"text.secondary",fontSize:"1.2rem"}}),D.jsx(Be,{sx:{flexGrow:1},children:D.jsx(sg,{primary:N.name+(R?" (You)":""),primaryTypographyProps:{sx:{fontWeight:M?"bold":"normal",fontSize:"0.9rem",color:M?"primary.main":"text.primary"}},secondaryTypographyProps:{sx:{fontSize:"0.75rem"}}})}),M&&D.jsx(o4e,{color:"primary"})]})})})})},N.id)})}),x.length===0&&D.jsx(Be,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",color:"text.secondary"},children:D.jsx(tt,{variant:"body2",children:h?"No users match your search":"No users available"})})]})]})]});return D.jsxs(Be,{sx:{height:"100%",display:"flex",flexDirection:"column",p:2},children:[T(),k()]})},OXe=()=>{const{mode:t,viewingPaperId:e}=fd(),{showCanvas:n}=wg(),r=eP();F.useEffect(()=>{e||r("/papers")},[e]);const[i,o]=F.useState(!0),s=F.useContext(AR);if(!s)throw new Error("TourContext not found");const{setRunTour:a,runTour:l,steps:u,stepIndex:c,setStepIndex:d}=s,h=()=>{o(m=>!m)},p=m=>{var T;const{action:y,index:x,status:w,type:E,step:S}=m;[Fs.STEP_AFTER,Fs.TARGET_NOT_FOUND].includes(E)?(d(x+(y===qn.PREV?-1:1)),(T=S.data)!=null&&T.pause&&a(!1)):[vn.FINISHED,vn.SKIPPED].includes(w)&&(d(0),a(!1))};return D.jsxs(Be,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[D.jsx("div",{style:{display:"none"},children:D.jsx(DYe,{continuous:!0,steps:u,run:l,callback:p,hideCloseButton:!0,disableOverlayClose:!0,stepIndex:c})}),D.jsx(Be,{sx:{height:"8%",width:"100%",display:"flex"},children:D.jsx(tje,{})}),D.jsxs(Be,{sx:{width:"100%",height:"92%",position:"relative",display:"flex",flexDirection:"row"},children:[D.jsx(wi,{onClick:h,sx:{position:"absolute",top:"50%",left:i?"15%":"0%",transform:"translateY(-50%)",zIndex:1e3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:"0 8px 8px 0",borderLeft:i?"1px solid":"none","&:hover":{backgroundColor:"action.hover"},width:25,height:60,transition:"left 0.3s ease"},children:i?D.jsx(l4e,{}):D.jsx(u4e,{})}),D.jsx(Be,{className:"panel paper-selector-panel",sx:{width:i?"15%":"0%"},children:D.jsx(LXe,{})}),D.jsxs(eB,{className:"split",style:{width:i?"85%":"100%"},sizes:[60,40],minSize:200,expandToMin:!1,gutterSize:10,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",children:[D.jsx(Be,{className:"panel paper-panel",children:D.jsx(f7e,{})}),D.jsxs(Be,{className:"panel graph-panel",children:[(t===Vr.READING||t===Vr.ANALYZING&&n)&&D.jsx(uGe,{}),t===Vr.ANALYZING&&!n&&D.jsx(DXe,{})]})]})]})]})},FXe="/re-ad/poster.png";function $Xe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const BXe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VXe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zXe={};function HY(t,e){return(zXe.jsx?VXe:BXe).test(t)}const UXe=/[ \t\n\f\r]/g;function HXe(t){return typeof t=="object"?t.type==="text"?qY(t.value):!1:qY(t)}function qY(t){return t.replace(UXe,"")===""}class J1{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}J1.prototype.normal={};J1.prototype.property={};J1.prototype.space=void 0;function Xse(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new J1(n,r,e)}function L5(t){return t.toLowerCase()}class ys{constructor(e,n){this.attribute=n,this.property=e}}ys.prototype.attribute="";ys.prototype.booleanish=!1;ys.prototype.boolean=!1;ys.prototype.commaOrSpaceSeparated=!1;ys.prototype.commaSeparated=!1;ys.prototype.defined=!1;ys.prototype.mustUseProperty=!1;ys.prototype.number=!1;ys.prototype.overloadedBoolean=!1;ys.prototype.property="";ys.prototype.spaceSeparated=!1;ys.prototype.space=void 0;let qXe=0;const fn=Og(),ii=Og(),O5=Og(),We=Og(),fr=Og(),Ny=Og(),As=Og();function Og(){return 2**++qXe}const F5=Object.freeze(Object.defineProperty({__proto__:null,boolean:fn,booleanish:ii,commaOrSpaceSeparated:As,commaSeparated:Ny,number:We,overloadedBoolean:O5,spaceSeparated:fr},Symbol.toStringTag,{value:"Module"})),pL=Object.keys(F5);class nB extends ys{constructor(e,n,r,i){let o=-1;if(super(e,n),jY(this,"space",i),typeof r=="number")for(;++o<pL.length;){const s=pL[o];jY(this,pL[o],(r&F5[s])===F5[s])}}}nB.prototype.defined=!0;function jY(t,e,n){n&&(t[e]=n)}function k0(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new nB(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[L5(r)]=r,n[L5(o.attribute)]=r}return new J1(e,n,t.space)}const Jse=k0({properties:{ariaActiveDescendant:null,ariaAtomic:ii,ariaAutoComplete:null,ariaBusy:ii,ariaChecked:ii,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:fr,ariaCurrent:null,ariaDescribedBy:fr,ariaDetails:null,ariaDisabled:ii,ariaDropEffect:fr,ariaErrorMessage:null,ariaExpanded:ii,ariaFlowTo:fr,ariaGrabbed:ii,ariaHasPopup:null,ariaHidden:ii,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fr,ariaLevel:We,ariaLive:null,ariaModal:ii,ariaMultiLine:ii,ariaMultiSelectable:ii,ariaOrientation:null,ariaOwns:fr,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:ii,ariaReadOnly:ii,ariaRelevant:null,ariaRequired:ii,ariaRoleDescription:fr,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:ii,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Qse(t,e){return e in t?t[e]:e}function Zse(t,e){return Qse(t,e.toLowerCase())}const jXe=k0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ny,acceptCharset:fr,accessKey:fr,action:null,allow:null,allowFullScreen:fn,allowPaymentRequest:fn,allowUserMedia:fn,alt:null,as:null,async:fn,autoCapitalize:null,autoComplete:fr,autoFocus:fn,autoPlay:fn,blocking:fr,capture:null,charSet:null,checked:fn,cite:null,className:fr,cols:We,colSpan:null,content:null,contentEditable:ii,controls:fn,controlsList:fr,coords:We|Ny,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fn,defer:fn,dir:null,dirName:null,disabled:fn,download:O5,draggable:ii,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fn,formTarget:null,headers:fr,height:We,hidden:O5,high:We,href:null,hrefLang:null,htmlFor:fr,httpEquiv:fr,id:null,imageSizes:null,imageSrcSet:null,inert:fn,inputMode:null,integrity:null,is:null,isMap:fn,itemId:null,itemProp:fr,itemRef:fr,itemScope:fn,itemType:fr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fn,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:fn,muted:fn,name:null,nonce:null,noModule:fn,noValidate:fn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fn,optimum:We,pattern:null,ping:fr,placeholder:null,playsInline:fn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fn,referrerPolicy:null,rel:fr,required:fn,reversed:fn,rows:We,rowSpan:We,sandbox:fr,scope:null,scoped:fn,seamless:fn,selected:fn,shadowRootClonable:fn,shadowRootDelegatesFocus:fn,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:ii,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:fn,useMap:null,value:ii,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fr,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fn,declare:fn,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:fn,noHref:fn,noShade:fn,noWrap:fn,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:ii,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fn,disableRemotePlayback:fn,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:Zse}),WXe=k0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:As,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:fr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:fn,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ny,g2:Ny,glyphName:Ny,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:As,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:As,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:As,rev:As,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:As,requiredFeatures:As,requiredFonts:As,requiredFormats:As,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:As,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:As,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:As,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Qse}),eae=k0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tae=k0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Zse}),nae=k0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),GXe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},KXe=/[A-Z]/g,WY=/-[a-z]/g,YXe=/^data[-\w.:]+$/i;function XXe(t,e){const n=L5(e);let r=e,i=ys;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&YXe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(WY,QXe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!WY.test(o)){let s=o.replace(KXe,JXe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=nB}return new i(r,e)}function JXe(t){return"-"+t.toLowerCase()}function QXe(t){return t.charAt(1).toUpperCase()}const ZXe=Xse([Jse,jXe,eae,tae,nae],"html"),rB=Xse([Jse,WXe,eae,tae,nae],"svg");function eJe(t){return t.join(" ").trim()}var Bm={},gL,GY;function tJe(){if(GY)return gL;GY=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",h="comment",p="declaration";gL=function(y,x){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];x=x||{};var w=1,E=1;function S($){var z=$.match(e);z&&(w+=z.length);var W=$.lastIndexOf(l);E=~W?$.length-W:E+$.length}function T(){var $={line:w,column:E};return function(z){return z.position=new k($),M(),z}}function k($){this.start=$,this.end={line:w,column:E},this.source=x.source}k.prototype.content=y;function N($){var z=new Error(x.source+":"+w+":"+E+": "+$);if(z.reason=$,z.filename=x.source,z.line=w,z.column=E,z.source=y,!x.silent)throw z}function R($){var z=$.exec(y);if(z){var W=z[0];return S(W),y=y.slice(W.length),z}}function M(){R(n)}function L($){var z;for($=$||[];z=I();)z!==!1&&$.push(z);return $}function I(){var $=T();if(!(u!=y.charAt(0)||c!=y.charAt(1))){for(var z=2;d!=y.charAt(z)&&(c!=y.charAt(z)||u!=y.charAt(z+1));)++z;if(z+=2,d===y.charAt(z-1))return N("End of comment missing");var W=y.slice(2,z-2);return E+=2,S(W),y=y.slice(z),E+=2,$({type:h,comment:W})}}function O(){var $=T(),z=R(r);if(z){if(I(),!R(i))return N("property missing ':'");var W=R(o),K=$({type:p,property:m(z[0].replace(t,d)),value:W?m(W[0].replace(t,d)):d});return R(s),K}}function V(){var $=[];L($);for(var z;z=O();)z!==!1&&($.push(z),L($));return $}return M(),V()};function m(y){return y?y.replace(a,d):d}return gL}var KY;function nJe(){if(KY)return Bm;KY=1;var t=Bm&&Bm.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.default=n;var e=t(tJe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,e.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return Bm}var Vb={},YY;function rJe(){if(YY)return Vb;YY=1,Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||t.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(e,s))};return Vb.camelCase=l,Vb}var zb,XY;function iJe(){if(XY)return zb;XY=1;var t=zb&&zb.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(nJe()),n=rJe();function r(i,o){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,zb=r,zb}var oJe=iJe();const sJe=xo(oJe),rae=iae("end"),iB=iae("start");function iae(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function aJe(t){const e=iB(t),n=rae(t);if(e&&n)return{start:e,end:n}}function qx(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?JY(t.position):"start"in t||"end"in t?JY(t):"line"in t||"column"in t?$5(t):""}function $5(t){return QY(t&&t.line)+":"+QY(t&&t.column)}function JY(t){return $5(t&&t.start)+"-"+$5(t&&t.end)}function QY(t){return t&&typeof t=="number"?t:1}class _o extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=qx(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}_o.prototype.file="";_o.prototype.name="";_o.prototype.reason="";_o.prototype.message="";_o.prototype.stack="";_o.prototype.column=void 0;_o.prototype.line=void 0;_o.prototype.ancestors=void 0;_o.prototype.cause=void 0;_o.prototype.fatal=void 0;_o.prototype.place=void 0;_o.prototype.ruleId=void 0;_o.prototype.source=void 0;const oB={}.hasOwnProperty,lJe=new Map,uJe=/[A-Z]/g,cJe=new Set(["table","tbody","thead","tfoot","tr"]),dJe=new Set(["td","th"]),oae="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fJe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=xJe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=bJe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?rB:ZXe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=sae(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function sae(t,e,n){if(e.type==="element")return hJe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return pJe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mJe(t,e,n);if(e.type==="mdxjsEsm")return gJe(t,e);if(e.type==="root")return yJe(t,e,n);if(e.type==="text")return vJe(t,e)}function hJe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=rB,t.schema=i),t.ancestors.push(e);const o=lae(t,e.tagName,!1),s=wJe(t,e);let a=aB(t,e);return cJe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!HXe(l):!0})),aae(t,s,o,e),sB(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function pJe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Nw(t,e.position)}function gJe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Nw(t,e.position)}function mJe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=rB,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:lae(t,e.name,!0),s=_Je(t,e),a=aB(t,e);return aae(t,s,o,e),sB(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function yJe(t,e,n){const r={};return sB(r,aB(t,e)),t.create(e,t.Fragment,r,n)}function vJe(t,e){return e.value}function aae(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function sB(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function bJe(t,e,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:e;return a?u(o,s,a):u(o,s)}}function xJe(t,e){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=iB(r);return e(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function wJe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&oB.call(e.properties,i)){const o=SJe(t,i,e.properties[i]);if(o){const[s,a]=o;t.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&dJe.has(e.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _Je(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Nw(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,o=t.evaluater.evaluateExpression(a.expression)}else Nw(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function aB(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:lJe;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=sae(t,o,s);a!==void 0&&n.push(a)}return n}function SJe(t,e,n){const r=XXe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$Xe(n):eJe(n)),r.property==="style"){let i=typeof n=="object"?n:EJe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=CJe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?GXe[r.property]||r.property:r.attribute,n]}}function EJe(t,e){try{return sJe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new _o("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=oae+"#cannot-parse-style-attribute",i}}function lae(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const a=HY(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=HY(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return oB.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Nw(t)}function Nw(t,e){const n=new _o("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=oae+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CJe(t){const e={};let n;for(n in t)oB.call(t,n)&&(e[TJe(n)]=t[n]);return e}function TJe(t){let e=t.replace(uJe,AJe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function AJe(t){return"-"+t.toLowerCase()}const mL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},RJe={};function PJe(t,e){const n=RJe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uae(t,r,i)}function uae(t,e,n){if(IJe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ZY(t.children,e,n)}return Array.isArray(t)?ZY(t,e,n):""}function ZY(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=uae(t[i],e,n);return r.join("")}function IJe(t){return!!(t&&typeof t=="object")}const eX=document.createElement("i");function lB(t){const e="&"+t+";";eX.innerHTML=e;const n=eX.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function $u(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function ha(t,e){return t.length>0?($u(t,t.length,0,e),t):e}const tX={}.hasOwnProperty;function kJe(t){const e={};let n=-1;for(;++n<t.length;)MJe(e,t[n]);return e}function MJe(t,e){let n;for(n in e){const i=(tX.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){tX.call(i,s)||(i[s]=[]);const a=o[s];NJe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function NJe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);$u(t,0,0,r)}function cae(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Dy(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vu=ih(/[A-Za-z]/),zs=ih(/[\dA-Za-z]/),DJe=ih(/[#-'*+\--9=?A-Z^-~]/);function B5(t){return t!==null&&(t<32||t===127)}const V5=ih(/\d/),LJe=ih(/[\dA-Fa-f]/),OJe=ih(/[!-/:-@[-`{-~]/);function Jt(t){return t!==null&&t<-2}function fs(t){return t!==null&&(t<0||t===32)}function jn(t){return t===-2||t===-1||t===32}const FJe=ih(new RegExp("\\p{P}|\\p{S}","u")),$Je=ih(/\s/);function ih(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function M0(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&zs(t.charCodeAt(n+1))&&zs(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=t.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s="�"}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function hr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return jn(l)?(t.enter(n),a(l)):e(l)}function a(l){return jn(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const BJe={tokenize:VJe};function VJe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),hr(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Jt(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const zJe={tokenize:UJe},nX={tokenize:HJe};function UJe(t){const e=this,n=[];let r=0,i,o,s;return a;function a(S){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,l,u)(S)}return u(S)}function l(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const T=e.events.length;let k=T,N;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){N=e.events[k][1].end;break}w(r);let R=T;for(;R<e.events.length;)e.events[R][1].end={...N},R++;return $u(e.events,k+1,0,e.events.slice(T)),e.events.length=R,u(S)}return a(S)}function u(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return m(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(nX,c,d)(S)}function c(S){return i&&E(),w(r),h(S)}function d(S){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(S)}function h(S){return e.containerState={},t.attempt(nX,p,m)(S)}function p(S){return r++,n.push([e.currentConstruct,e.containerState]),h(S)}function m(S){if(S===null){i&&E(),w(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(S)}function y(S){if(S===null){x(t.exit("chunkFlow"),!0),w(0),t.consume(S);return}return Jt(S)?(t.consume(S),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(S),y)}function x(S,T){const k=e.sliceStream(S);if(T&&k.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(k),e.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const R=e.events.length;let M=R,L,I;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(L){I=e.events[M][1].end;break}L=!0}for(w(r),N=R;N<e.events.length;)e.events[N][1].end={...I},N++;$u(e.events,M+1,0,e.events.slice(R)),e.events.length=N}}function w(S){let T=n.length;for(;T-- >S;){const k=n[T];e.containerState=k[1],k[0].exit.call(e,t)}n.length=S}function E(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function HJe(t,e,n){return hr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function rX(t){if(t===null||fs(t)||$Je(t))return 1;if(FJe(t))return 2}function uB(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const z5={name:"attention",resolveAll:qJe,tokenize:jJe};function qJe(t,e){let n=-1,r,i,o,s,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};iX(d,-l),iX(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},t[r][1].end={...s.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=ha(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=ha(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),u=ha(u,uB(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=ha(u,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=ha(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,$u(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function jJe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=rX(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const u=t.exit("attentionSequence"),c=rX(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!h)),u._close=!!(o===42?h:h&&(c||!d)),e(l)}}function iX(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const WJe={name:"autolink",tokenize:GJe};function GJe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return vu(p)?(t.consume(p),s):p===64?n(p):u(p)}function s(p){return p===43||p===45||p===46||zs(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||zs(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||B5(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):DJe(p)?(t.consume(p),u):n(p)}function c(p){return zs(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||zs(p))&&r++<63){const m=p===45?h:d;return t.consume(p),m}return n(p)}}const kP={partial:!0,tokenize:KJe};function KJe(t,e,n){return r;function r(o){return jn(o)?hr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Jt(o)?e(o):n(o)}}const dae={continuation:{tokenize:XJe},exit:JJe,name:"blockQuote",tokenize:YJe};function YJe(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return jn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function XJe(t,e,n){const r=this;return i;function i(s){return jn(s)?hr(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(dae,e,n)(s)}}function JJe(t){t.exit("blockQuote")}const fae={name:"characterEscape",tokenize:QJe};function QJe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return OJe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const hae={name:"characterReference",tokenize:ZJe};function ZJe(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,s=zs,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=LJe,c):(t.enter("characterReferenceValue"),o=7,s=V5,c(d))}function c(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return s===zs&&!lB(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),c):n(d)}}const oX={partial:!0,tokenize:tQe},sX={concrete:!0,name:"codeFenced",tokenize:eQe};function eQe(t,e,n){const r=this,i={partial:!0,tokenize:k};let o=0,s=0,a;return l;function l(N){return u(N)}function u(N){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=N,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(N)}function c(N){return N===a?(s++,t.consume(N),c):s<3?n(N):(t.exit("codeFencedFenceSequence"),jn(N)?hr(t,d,"whitespace")(N):d(N))}function d(N){return N===null||Jt(N)?(t.exit("codeFencedFence"),r.interrupt?e(N):t.check(oX,y,T)(N)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Jt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(N)):jn(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),hr(t,p,"whitespace")(N)):N===96&&N===a?n(N):(t.consume(N),h)}function p(N){return N===null||Jt(N)?d(N):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||Jt(N)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(N)):N===96&&N===a?n(N):(t.consume(N),m)}function y(N){return t.attempt(i,T,x)(N)}function x(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),w}function w(N){return o>0&&jn(N)?hr(t,E,"linePrefix",o+1)(N):E(N)}function E(N){return N===null||Jt(N)?t.check(oX,y,T)(N):(t.enter("codeFlowValue"),S(N))}function S(N){return N===null||Jt(N)?(t.exit("codeFlowValue"),E(N)):(t.consume(N),S)}function T(N){return t.exit("codeFenced"),e(N)}function k(N,R,M){let L=0;return I;function I(W){return N.enter("lineEnding"),N.consume(W),N.exit("lineEnding"),O}function O(W){return N.enter("codeFencedFence"),jn(W)?hr(N,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):V(W)}function V(W){return W===a?(N.enter("codeFencedFenceSequence"),$(W)):M(W)}function $(W){return W===a?(L++,N.consume(W),$):L>=s?(N.exit("codeFencedFenceSequence"),jn(W)?hr(N,z,"whitespace")(W):z(W)):M(W)}function z(W){return W===null||Jt(W)?(N.exit("codeFencedFence"),R(W)):M(W)}}}function tQe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const yL={name:"codeIndented",tokenize:rQe},nQe={partial:!0,tokenize:iQe};function rQe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),hr(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Jt(u)?t.attempt(nQe,s,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||Jt(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function iQe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Jt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):hr(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):Jt(s)?i(s):n(s)}}const oQe={name:"codeText",previous:aQe,resolve:sQe,tokenize:lQe};function sQe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function aQe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lQe(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,c(d)):Jt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Jt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",u(d))}}class uQe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ub(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ub(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ub(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ub(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ub(this.left,n.reverse())}}}function Ub(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function pae(t){const e={};let n=-1,r,i,o,s,a,l,u;const c=new uQe(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,cQe(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return $u(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function cQe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,h=-1,p=n,m=0,y=0;const x=[y];for(;p;){for(;t.get(++i)[1]!==p;);o.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(y=h+1,x.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),h=x.length;h--;){const w=a.slice(x[h],x[h+1]),E=o.pop();l.push([E,E+w.length-1]),t.splice(E,2,w)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const dQe={resolve:hQe,tokenize:pQe},fQe={partial:!0,tokenize:gQe};function hQe(t){return pae(t),t}function pQe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):Jt(a)?t.check(fQe,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function gQe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),hr(t,o,"linePrefix")}function o(s){if(s===null||Jt(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function gae(t,e,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(w){return w===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(w),t.exit(o),h):w===null||w===32||w===41||B5(w)?n(w):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(w))}function h(w){return w===62?(t.enter(o),t.consume(w),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===62?(t.exit("chunkString"),t.exit(a),h(w)):w===null||w===60||Jt(w)?n(w):(t.consume(w),w===92?m:p)}function m(w){return w===60||w===62||w===92?(t.consume(w),p):p(w)}function y(w){return!c&&(w===null||w===41||fs(w))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(w)):c<u&&w===40?(t.consume(w),c++,y):w===41?(t.consume(w),c--,y):w===null||w===32||w===40||B5(w)?n(w):(t.consume(w),w===92?x:y)}function x(w){return w===40||w===41||w===92?(t.consume(w),y):y(w)}}function mae(t,e,n,r,i,o){const s=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(o),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Jt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Jt(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!jn(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function yae(t,e,n,r,i,o){let s;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(o),u(h))}function u(h){return h===s?(t.exit(o),l(s)):h===null?n(h):Jt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),hr(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||Jt(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(t.consume(h),c):c(h)}}function jx(t,e){let n;return r;function r(i){return Jt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):jn(i)?hr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const mQe={name:"definition",tokenize:vQe},yQe={partial:!0,tokenize:bQe};function vQe(t,e,n){const r=this;let i;return o;function o(p){return t.enter("definition"),s(p)}function s(p){return mae.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Dy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return fs(p)?jx(t,u)(p):u(p)}function u(p){return gae(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(yQe,d,d)(p)}function d(p){return jn(p)?hr(t,h,"whitespace")(p):h(p)}function h(p){return p===null||Jt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function bQe(t,e,n){return r;function r(a){return fs(a)?jx(t,i)(a):n(a)}function i(a){return yae(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return jn(a)?hr(t,s,"whitespace")(a):s(a)}function s(a){return a===null||Jt(a)?e(a):n(a)}}const xQe={name:"hardBreakEscape",tokenize:wQe};function wQe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Jt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const _Qe={name:"headingAtx",resolve:SQe,tokenize:EQe};function SQe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},$u(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function EQe(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||fs(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Jt(c)?(t.exit("atxHeading"),e(c)):jn(c)?hr(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||fs(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const CQe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aX=["pre","script","style","textarea"],TQe={concrete:!0,name:"htmlFlow",resolveTo:PQe,tokenize:IQe},AQe={partial:!0,tokenize:MQe},RQe={partial:!0,tokenize:kQe};function PQe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function IQe(t,e,n){const r=this;let i,o,s,a,l;return u;function u(q){return c(q)}function c(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),d}function d(q){return q===33?(t.consume(q),h):q===47?(t.consume(q),o=!0,y):q===63?(t.consume(q),i=3,r.interrupt?e:j):vu(q)?(t.consume(q),s=String.fromCharCode(q),x):n(q)}function h(q){return q===45?(t.consume(q),i=2,p):q===91?(t.consume(q),i=5,a=0,m):vu(q)?(t.consume(q),i=4,r.interrupt?e:j):n(q)}function p(q){return q===45?(t.consume(q),r.interrupt?e:j):n(q)}function m(q){const de="CDATA[";return q===de.charCodeAt(a++)?(t.consume(q),a===de.length?r.interrupt?e:V:m):n(q)}function y(q){return vu(q)?(t.consume(q),s=String.fromCharCode(q),x):n(q)}function x(q){if(q===null||q===47||q===62||fs(q)){const de=q===47,se=s.toLowerCase();return!de&&!o&&aX.includes(se)?(i=1,r.interrupt?e(q):V(q)):CQe.includes(s.toLowerCase())?(i=6,de?(t.consume(q),w):r.interrupt?e(q):V(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):o?E(q):S(q))}return q===45||zs(q)?(t.consume(q),s+=String.fromCharCode(q),x):n(q)}function w(q){return q===62?(t.consume(q),r.interrupt?e:V):n(q)}function E(q){return jn(q)?(t.consume(q),E):I(q)}function S(q){return q===47?(t.consume(q),I):q===58||q===95||vu(q)?(t.consume(q),T):jn(q)?(t.consume(q),S):I(q)}function T(q){return q===45||q===46||q===58||q===95||zs(q)?(t.consume(q),T):k(q)}function k(q){return q===61?(t.consume(q),N):jn(q)?(t.consume(q),k):S(q)}function N(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),l=q,R):jn(q)?(t.consume(q),N):M(q)}function R(q){return q===l?(t.consume(q),l=null,L):q===null||Jt(q)?n(q):(t.consume(q),R)}function M(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||fs(q)?k(q):(t.consume(q),M)}function L(q){return q===47||q===62||jn(q)?S(q):n(q)}function I(q){return q===62?(t.consume(q),O):n(q)}function O(q){return q===null||Jt(q)?V(q):jn(q)?(t.consume(q),O):n(q)}function V(q){return q===45&&i===2?(t.consume(q),K):q===60&&i===1?(t.consume(q),J):q===62&&i===4?(t.consume(q),Y):q===63&&i===3?(t.consume(q),j):q===93&&i===5?(t.consume(q),X):Jt(q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(AQe,ue,$)(q)):q===null||Jt(q)?(t.exit("htmlFlowData"),$(q)):(t.consume(q),V)}function $(q){return t.check(RQe,z,ue)(q)}function z(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),W}function W(q){return q===null||Jt(q)?$(q):(t.enter("htmlFlowData"),V(q))}function K(q){return q===45?(t.consume(q),j):V(q)}function J(q){return q===47?(t.consume(q),s="",Q):V(q)}function Q(q){if(q===62){const de=s.toLowerCase();return aX.includes(de)?(t.consume(q),Y):V(q)}return vu(q)&&s.length<8?(t.consume(q),s+=String.fromCharCode(q),Q):V(q)}function X(q){return q===93?(t.consume(q),j):V(q)}function j(q){return q===62?(t.consume(q),Y):q===45&&i===2?(t.consume(q),j):V(q)}function Y(q){return q===null||Jt(q)?(t.exit("htmlFlowData"),ue(q)):(t.consume(q),Y)}function ue(q){return t.exit("htmlFlow"),e(q)}}function kQe(t,e,n){const r=this;return i;function i(s){return Jt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function MQe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(kP,e,n)}}const NQe={name:"htmlText",tokenize:DQe};function DQe(t,e,n){const r=this;let i,o,s;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),u):j===47?(t.consume(j),k):j===63?(t.consume(j),S):vu(j)?(t.consume(j),M):n(j)}function u(j){return j===45?(t.consume(j),c):j===91?(t.consume(j),o=0,m):vu(j)?(t.consume(j),E):n(j)}function c(j){return j===45?(t.consume(j),p):n(j)}function d(j){return j===null?n(j):j===45?(t.consume(j),h):Jt(j)?(s=d,J(j)):(t.consume(j),d)}function h(j){return j===45?(t.consume(j),p):d(j)}function p(j){return j===62?K(j):j===45?h(j):d(j)}function m(j){const Y="CDATA[";return j===Y.charCodeAt(o++)?(t.consume(j),o===Y.length?y:m):n(j)}function y(j){return j===null?n(j):j===93?(t.consume(j),x):Jt(j)?(s=y,J(j)):(t.consume(j),y)}function x(j){return j===93?(t.consume(j),w):y(j)}function w(j){return j===62?K(j):j===93?(t.consume(j),w):y(j)}function E(j){return j===null||j===62?K(j):Jt(j)?(s=E,J(j)):(t.consume(j),E)}function S(j){return j===null?n(j):j===63?(t.consume(j),T):Jt(j)?(s=S,J(j)):(t.consume(j),S)}function T(j){return j===62?K(j):S(j)}function k(j){return vu(j)?(t.consume(j),N):n(j)}function N(j){return j===45||zs(j)?(t.consume(j),N):R(j)}function R(j){return Jt(j)?(s=R,J(j)):jn(j)?(t.consume(j),R):K(j)}function M(j){return j===45||zs(j)?(t.consume(j),M):j===47||j===62||fs(j)?L(j):n(j)}function L(j){return j===47?(t.consume(j),K):j===58||j===95||vu(j)?(t.consume(j),I):Jt(j)?(s=L,J(j)):jn(j)?(t.consume(j),L):K(j)}function I(j){return j===45||j===46||j===58||j===95||zs(j)?(t.consume(j),I):O(j)}function O(j){return j===61?(t.consume(j),V):Jt(j)?(s=O,J(j)):jn(j)?(t.consume(j),O):L(j)}function V(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,$):Jt(j)?(s=V,J(j)):jn(j)?(t.consume(j),V):(t.consume(j),z)}function $(j){return j===i?(t.consume(j),i=void 0,W):j===null?n(j):Jt(j)?(s=$,J(j)):(t.consume(j),$)}function z(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||fs(j)?L(j):(t.consume(j),z)}function W(j){return j===47||j===62||fs(j)?L(j):n(j)}function K(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function J(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),Q}function Q(j){return jn(j)?hr(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):X(j)}function X(j){return t.enter("htmlTextData"),s(j)}}const cB={name:"labelEnd",resolveAll:$Qe,resolveTo:BQe,tokenize:VQe},LQe={tokenize:zQe},OQe={tokenize:UQe},FQe={tokenize:HQe};function $Qe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&$u(t,0,t.length,n),t}function BQe(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[s-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=ha(a,t.slice(o+1,o+r+3)),a=ha(a,[["enter",c,e]]),a=ha(a,uB(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=ha(a,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),a=ha(a,t.slice(s+1)),a=ha(a,[["exit",l,e]]),$u(t,o,t.length,a),t}function VQe(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(h){return o?o._inactive?d(h):(s=r.parser.defined.includes(Dy(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(LQe,c,s?c:d)(h):h===91?t.attempt(OQe,c,s?u:d)(h):s?c(h):d(h)}function u(h){return t.attempt(FQe,c,d)(h)}function c(h){return e(h)}function d(h){return o._balanced=!0,n(h)}}function zQe(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return fs(d)?jx(t,o)(d):o(d)}function o(d){return d===41?c(d):gae(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return fs(d)?jx(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?yae(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return fs(d)?jx(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function UQe(t,e,n){const r=this;return i;function i(a){return mae.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Dy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function HQe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const qQe={name:"labelStartImage",resolveAll:cB.resolveAll,tokenize:jQe};function jQe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const WQe={name:"labelStartLink",resolveAll:cB.resolveAll,tokenize:GQe};function GQe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const vL={name:"lineEnding",tokenize:KQe};function KQe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),hr(t,e,"linePrefix")}}const aT={name:"thematicBreak",tokenize:YQe};function YQe(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Jt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),jn(u)?hr(t,a,"whitespace")(u):a(u))}}const Qo={continuation:{tokenize:ZQe},exit:tZe,name:"list",tokenize:QQe},XQe={partial:!0,tokenize:nZe},JQe={partial:!0,tokenize:eZe};function QQe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:V5(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(aT,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return V5(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(kP,r.interrupt?n:c,t.attempt(XQe,h,d))}function c(p){return r.containerState.initialBlankLine=!0,o++,h(p)}function d(p){return jn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function ZQe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(kP,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,hr(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!jn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(JQe,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,hr(t,t.attempt(Qo,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function eZe(t,e,n){const r=this;return hr(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function tZe(t){t.exit(this.containerState.type)}function nZe(t,e,n){const r=this;return hr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!jn(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const lX={name:"setextUnderline",resolveTo:rZe,tokenize:iZe};function rZe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function iZe(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),jn(u)?hr(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Jt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const oZe={tokenize:sZe};function sZe(t){const e=this,n=t.attempt(kP,r,t.attempt(this.parser.constructs.flowInitial,i,hr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(dQe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const aZe={resolveAll:bae()},lZe=vae("string"),uZe=vae("text");function vae(t){return{resolveAll:bae(t==="text"?cZe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function bae(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function cZe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const dZe={42:Qo,43:Qo,45:Qo,48:Qo,49:Qo,50:Qo,51:Qo,52:Qo,53:Qo,54:Qo,55:Qo,56:Qo,57:Qo,62:dae},fZe={91:mQe},hZe={[-2]:yL,[-1]:yL,32:yL},pZe={35:_Qe,42:aT,45:[lX,aT],60:TQe,61:lX,95:aT,96:sX,126:sX},gZe={38:hae,92:fae},mZe={[-5]:vL,[-4]:vL,[-3]:vL,33:qQe,38:hae,42:z5,60:[WJe,NQe],91:WQe,92:[xQe,fae],93:cB,95:z5,96:oQe},yZe={null:[z5,aZe]},vZe={null:[42,95]},bZe={null:[]},xZe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vZe,contentInitial:fZe,disable:bZe,document:dZe,flow:pZe,flowInitial:hZe,insideSpan:yZe,string:gZe,text:mZe},Symbol.toStringTag,{value:"Module"}));function wZe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:R(k),check:R(N),consume:E,enter:S,exit:T,interrupt:R(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function d(O){return s=ha(s,O),x(),s[s.length-1]!==null?[]:(M(e,0),u.events=uB(o,u.events,u),u.events)}function h(O,V){return SZe(p(O),V)}function p(O){return _Ze(s,O)}function m(){const{_bufferIndex:O,_index:V,line:$,column:z,offset:W}=r;return{_bufferIndex:O,_index:V,line:$,column:z,offset:W}}function y(O){i[O.line]=O.column,I()}function x(){let O;for(;r._index<s.length;){const V=s[r._index];if(typeof V=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<V.length;)w(V.charCodeAt(r._bufferIndex));else w(V)}}function w(O){c=c(O)}function E(O){Jt(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,I()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function S(O,V){const $=V||{};return $.type=O,$.start=m(),u.events.push(["enter",$,u]),a.push($),$}function T(O){const V=a.pop();return V.end=m(),u.events.push(["exit",V,u]),V}function k(O,V){M(O,V.from)}function N(O,V){V.restore()}function R(O,V){return $;function $(z,W,K){let J,Q,X,j;return Array.isArray(z)?ue(z):"tokenize"in z?ue([z]):Y(z);function Y(ee){return ae;function ae(te){const ce=te!==null&&ee[te],fe=te!==null&&ee.null,ge=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return ue(ge)(te)}}function ue(ee){return J=ee,Q=0,ee.length===0?K:q(ee[Q])}function q(ee){return ae;function ae(te){return j=L(),X=ee,ee.partial||(u.currentConstruct=ee),ee.name&&u.parser.constructs.disable.null.includes(ee.name)?se():ee.tokenize.call(V?Object.assign(Object.create(u),V):u,l,de,se)(te)}}function de(ee){return O(X,j),W}function se(ee){return j.restore(),++Q<J.length?q(J[Q]):K}}}function M(O,V){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&$u(u.events,V,u.events.length-V,O.resolve(u.events.slice(V),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function L(){const O=m(),V=u.previous,$=u.currentConstruct,z=u.events.length,W=Array.from(a);return{from:z,restore:K};function K(){r=O,u.previous=V,u.currentConstruct=$,u.events.length=z,a=W,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function _Ze(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function SZe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function EZe(t){const r={constructs:kJe([xZe,...(t||{}).extensions||[]]),content:i(BJe),defined:[],document:i(zJe),flow:i(oZe),lazy:{},string:i(lZe),text:i(uZe)};return r;function i(o){return s;function s(a){return wZe(r,o,a)}}}function CZe(t){for(;!pae(t););return t}const uX=/[\0\t\n\r]/g;function TZe(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,h,p;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(uX.lastIndex=d,u=uX.exec(o),h=u&&u.index!==void 0?u.index:o.length,p=o.charCodeAt(h),!u){e=o.slice(d);break}if(p===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(o.slice(d,h)),t+=h-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const AZe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RZe(t){return t.replace(AZe,PZe)}function PZe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return cae(n.slice(o?2:1),o?16:10)}return lB(n)||t}const xae={}.hasOwnProperty;function IZe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),kZe(n)(CZe(EZe(n).document().write(TZe()(t,e,!0))))}function kZe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Qe),autolinkProtocol:L,autolinkEmail:L,atxHeading:o(Me),blockQuote:o(fe),characterEscape:L,characterReference:L,codeFenced:o(ge),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ge,s),codeText:o(xe,s),codeTextData:L,data:L,codeFlowValue:L,definition:o(be),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Ee),hardBreakEscape:o(st),hardBreakTrailing:o(st),htmlFlow:o(Ve,s),htmlFlowData:L,htmlText:o(Ve,s),htmlTextData:L,image:o(Oe),label:s,link:o(Qe),listItem:o(dt),listItemValue:h,listOrdered:o(Ye,d),listUnordered:o(Ye),paragraph:o(Pe),reference:q,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Me),strong:o(ut),thematicBreak:o(mt)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:ce,autolinkProtocol:te,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:ee,characterReference:ae,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:l(w),codeText:l(W),codeTextData:I,data:I,definition:l(),definitionDestinationString:T,definitionLabelString:E,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l($),htmlFlowData:I,htmlText:l(z),htmlTextData:I,image:l(J),label:X,labelText:Q,lineEnding:O,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:de,resourceDestinationString:j,resourceTitleString:Y,resource:ue,setextHeading:l(M),setextHeadingLineSequence:R,setextHeadingText:N,strong:l(),thematicBreak:l()}};wae(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ve){let Ce={type:"root",children:[]};const Ue={stack:[Ce],tokenStack:[],config:e,enter:a,exit:u,buffer:s,resume:c,data:n},nt=[];let Re=-1;for(;++Re<ve.length;)if(ve[Re][1].type==="listOrdered"||ve[Re][1].type==="listUnordered")if(ve[Re][0]==="enter")nt.push(Re);else{const Xe=nt.pop();Re=i(ve,Xe,Re)}for(Re=-1;++Re<ve.length;){const Xe=e[ve[Re][0]];xae.call(Xe,ve[Re][1].type)&&Xe[ve[Re][1].type].call(Object.assign({sliceSerialize:ve[Re][2].sliceSerialize},Ue),ve[Re][1])}if(Ue.tokenStack.length>0){const Xe=Ue.tokenStack[Ue.tokenStack.length-1];(Xe[1]||cX).call(Ue,void 0,Xe[0])}for(Ce.position={start:Kd(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:Kd(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<e.transforms.length;)Ce=e.transforms[Re](Ce)||Ce;return Ce}function i(ve,Ce,Ue){let nt=Ce-1,Re=-1,Xe=!1,Zt,$t,en,Je;for(;++nt<=Ue;){const Lt=ve[nt];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?Re++:Re--,Je=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(Zt&&!Je&&!Re&&!en&&(en=nt),Je=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Je=void 0}if(!Re&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||Re===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(Zt){let pn=nt;for($t=void 0;pn--;){const Le=ve[pn];if(Le[1].type==="lineEnding"||Le[1].type==="lineEndingBlank"){if(Le[0]==="exit")continue;$t&&(ve[$t][1].type="lineEndingBlank",Xe=!0),Le[1].type="lineEnding",$t=pn}else if(!(Le[1].type==="linePrefix"||Le[1].type==="blockQuotePrefix"||Le[1].type==="blockQuotePrefixWhitespace"||Le[1].type==="blockQuoteMarker"||Le[1].type==="listItemIndent"))break}en&&(!$t||en<$t)&&(Zt._spread=!0),Zt.end=Object.assign({},$t?ve[$t][1].start:Lt[1].end),ve.splice($t||nt,0,["exit",Zt,Lt[2]]),nt++,Ue++}if(Lt[1].type==="listItemPrefix"){const pn={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};Zt=pn,ve.splice(nt,0,["enter",pn,Lt[2]]),nt++,Ue++,en=void 0,Je=!0}}}return ve[Ce][1]._spread=Xe,Ue}function o(ve,Ce){return Ue;function Ue(nt){a.call(this,ve(nt),nt),Ce&&Ce.call(this,nt)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(ve,Ce,Ue){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Ce,Ue||void 0]),ve.position={start:Kd(Ce.start),end:void 0}}function l(ve){return Ce;function Ce(Ue){ve&&ve.call(this,Ue),u.call(this,Ue)}}function u(ve,Ce){const Ue=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==ve.type&&(Ce?Ce.call(this,ve,nt[0]):(nt[1]||cX).call(this,ve,nt[0]));else throw new Error("Cannot close `"+ve.type+"` ("+qx({start:ve.start,end:ve.end})+"): it’s not open");Ue.position.end=Kd(ve.end)}function c(){return PJe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(ve){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ve}function m(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ve}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve.replace(/(\r?\n|\r)$/g,"")}function E(ve){const Ce=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Ce,Ue.identifier=Dy(this.sliceSerialize(ve)).toLowerCase()}function S(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ve}function T(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ve}function k(ve){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Ue=this.sliceSerialize(ve).length;Ce.depth=Ue}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function R(ve){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function L(ve){const Ue=this.stack[this.stack.length-1].children;let nt=Ue[Ue.length-1];(!nt||nt.type!=="text")&&(nt=rt(),nt.position={start:Kd(ve.start),end:void 0},Ue.push(nt)),this.stack.push(nt)}function I(ve){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ve),Ce.position.end=Kd(ve.end)}function O(ve){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=Ce.children[Ce.children.length-1];Ue.position.end=Kd(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(L.call(this,ve),I.call(this,ve))}function V(){this.data.atHardBreak=!0}function $(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve}function z(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve}function W(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ve}function K(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ce,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function J(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ce,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function Q(ve){const Ce=this.sliceSerialize(ve),Ue=this.stack[this.stack.length-2];Ue.label=RZe(Ce),Ue.identifier=Dy(Ce).toLowerCase()}function X(){const ve=this.stack[this.stack.length-1],Ce=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const nt=ve.children;Ue.children=nt}else Ue.alt=Ce}function j(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ve}function Y(){const ve=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ve}function ue(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function de(ve){const Ce=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Ce,Ue.identifier=Dy(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function se(ve){this.data.characterReferenceType=ve.type}function ee(ve){const Ce=this.sliceSerialize(ve),Ue=this.data.characterReferenceType;let nt;Ue?(nt=cae(Ce,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=lB(Ce);const Re=this.stack[this.stack.length-1];Re.value+=nt}function ae(ve){const Ce=this.stack.pop();Ce.position.end=Kd(ve.end)}function te(ve){I.call(this,ve);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ve)}function ce(ve){I.call(this,ve);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ve)}function fe(){return{type:"blockquote",children:[]}}function ge(){return{type:"code",lang:null,meta:null,value:""}}function xe(){return{type:"inlineCode",value:""}}function be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function Me(){return{type:"heading",depth:0,children:[]}}function st(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function Oe(){return{type:"image",title:null,url:"",alt:null}}function Qe(){return{type:"link",title:null,url:"",children:[]}}function Ye(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function dt(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Pe(){return{type:"paragraph",children:[]}}function ut(){return{type:"strong",children:[]}}function rt(){return{type:"text",value:""}}function mt(){return{type:"thematicBreak"}}}function Kd(t){return{line:t.line,column:t.column,offset:t.offset}}function wae(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?wae(t,r):MZe(t,r)}}function MZe(t,e){let n;for(n in e)if(xae.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function cX(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+qx({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+qx({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+qx({start:e.start,end:e.end})+") is still open")}function NZe(t){const e=this;e.parser=n;function n(r){return IZe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function DZe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function LZe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function OZe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function FZe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $Ze(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BZe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=M0(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function VZe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zZe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function _ae(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function UZe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return _ae(t,e);const i={src:M0(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function HZe(t,e){const n={src:M0(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qZe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function jZe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return _ae(t,e);const i={href:M0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function WZe(t,e){const n={href:M0(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function GZe(t,e,n){const r=t.all(e),i=n?KZe(n):Sae(e),o={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,u),t.applyData(e,u)}function KZe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Sae(n[r])}return e}function Sae(t){const e=t.spread;return e??t.children.length>1}function YZe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function XZe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function JZe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function QZe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZZe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=iB(e.children[1]),l=rae(e.children[e.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function eet(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:o,properties:h,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function tet(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const dX=9,fX=32;function net(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(hX(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(hX(e.slice(i),i>0,!1)),o.join("")}function hX(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===dX||o===fX;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===dX||o===fX;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function ret(t,e){const n={type:"text",value:net(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function iet(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const oet={blockquote:DZe,break:LZe,code:OZe,delete:FZe,emphasis:$Ze,footnoteReference:BZe,heading:VZe,html:zZe,imageReference:UZe,image:HZe,inlineCode:qZe,linkReference:jZe,link:WZe,listItem:GZe,list:YZe,paragraph:XZe,root:JZe,strong:QZe,table:ZZe,tableCell:tet,tableRow:eet,text:ret,thematicBreak:iet,toml:oC,yaml:oC,definition:oC,footnoteDefinition:oC};function oC(){}const Eae=-1,MP=0,Wx=1,AA=2,dB=3,fB=4,hB=5,pB=6,Cae=7,Tae=8,pX=typeof self=="object"?self:globalThis,set=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case MP:case Eae:return n(s,i);case Wx:{const a=n([],i);for(const l of s)a.push(r(l));return a}case AA:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case dB:return n(new Date(s),i);case fB:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case hB:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case pB:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case Cae:{const{name:a,message:l}=s;return n(new pX[a](l),i)}case Tae:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new pX[o](s),i)};return r},gX=t=>set(new Map,t)(0),Vm="",{toString:aet}={},{keys:uet}=Object,Hb=t=>{const e=typeof t;if(e!=="object"||!t)return[MP,e];const n=aet.call(t).slice(8,-1);switch(n){case"Array":return[Wx,Vm];case"Object":return[AA,Vm];case"Date":return[dB,Vm];case"RegExp":return[fB,Vm];case"Map":return[hB,Vm];case"Set":return[pB,Vm];case"DataView":return[Wx,n]}return n.includes("Array")?[Wx,n]:n.includes("Error")?[Cae,n]:[AA,n]},sC=([t,e])=>t===MP&&(e==="function"||e==="symbol"),cet=(t,e,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=Hb(s);switch(a){case MP:{let c=s;switch(l){case"bigint":a=Tae,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([Eae],s)}return i([a,c],s)}case Wx:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const c=[],d=i([a,c],s);for(const h of s)c.push(o(h));return d}case AA:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const h of uet(s))(t||!sC(Hb(s[h])))&&c.push([o(h),o(s[h])]);return d}case dB:return i([a,s.toISOString()],s);case fB:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case hB:{const c=[],d=i([a,c],s);for(const[h,p]of s)(t||!(sC(Hb(h))||sC(Hb(p))))&&c.push([o(h),o(p)]);return d}case pB:{const c=[],d=i([a,c],s);for(const h of s)(t||!sC(Hb(h)))&&c.push(o(h));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},mX=(t,{json:e,lossy:n}={})=>{const r=[];return cet(!(e||n),!!e,new Map,r)(t),r},RA=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?gX(mX(t,e)):structuredClone(t):(t,e)=>gX(mX(t,e));function det(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function fet(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function het(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||det,r=t.options.footnoteBackLabel||fet,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),h=M0(d.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const E=x.children[x.children.length-1];E&&E.type==="text"?E.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else c.push(...m);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(c,!0)};t.patch(u,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...RA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Aae=function(t){if(t==null)return yet;if(typeof t=="function")return NP(t);if(typeof t=="object")return Array.isArray(t)?pet(t):get(t);if(typeof t=="string")return met(t);throw new Error("Expected function, string, or object as test")};function pet(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Aae(t[n]);return NP(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function get(t){const e=t;return NP(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function met(t){return NP(e);function e(n){return n&&n.type===t}}function NP(t){return e;function e(n,r,i){return!!(vet(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function yet(){return!0}function vet(t){return t!==null&&typeof t=="object"&&"type"in t}const Rae=[],bet=!0,yX=!1,xet="skip";function wet(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=Aae(i),s=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=Rae,m,y,x;if((!e||o(l,u,c[c.length-1]||void 0))&&(p=_et(n(l,c)),p[0]===yX))return p;if("children"in l&&l.children){const w=l;if(w.children&&p[0]!==xet)for(y=(r?w.children.length:-1)+s,x=c.concat(w);y>-1&&y<w.children.length;){const E=w.children[y];if(m=a(E,y,x)(),m[0]===yX)return m;y=typeof m[1]=="number"?m[1]:y+s}}return p}}}function _et(t){return Array.isArray(t)?t:typeof t=="number"?[bet,t]:t==null?Rae:[t]}function Pae(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),wet(t,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const U5={}.hasOwnProperty,Eet={};function Cet(t,e){const n=e||Eet,r=new Map,i=new Map,o=new Map,s={...oet,...n.handlers},a={all:u,applyData:Aet,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:Tet,wrap:Pet};return Pae(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),a;function l(c,d){const h=c.type,p=a.handlers[h];if(U5.call(a.handlers,h)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in c){const{children:y,...x}=c,w=RA(x);return w.children=a.all(c),w}return RA(c)}return(a.options.unknownHandler||Ret)(a,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let p=-1;for(;++p<h.length;){const m=a.one(h[p],c);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=vX(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=vX(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function Tet(t,e){t.position&&(e.position=aJe(t))}function Aet(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,RA(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ret(t,e){const n=e.data||{},r="value"in e&&!(U5.call(n,"hProperties")||U5.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Pet(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function vX(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function bX(t,e){const n=Cet(t,e),r=n.one(t,void 0),i=het(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function Iet(t,e){return t&&"run"in t?async function(n,r){const i=bX(n,{file:r,...e});await t.run(i,r)}:function(n,r){return bX(n,{file:r,...t||e})}}function xX(t){if(t)throw t}var bL,wX;function ket(){if(wX)return bL;wX=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},o=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var h;for(h in u);return typeof h>"u"||t.call(u,h)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return bL=function l(){var u,c,d,h,p,m,y=arguments[0],x=1,w=arguments.length,E=!1;for(typeof y=="boolean"&&(E=y,y=arguments[1]||{},x=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});x<w;++x)if(u=arguments[x],u!=null)for(c in u)d=a(y,c),h=a(u,c),y!==h&&(E&&h&&(o(h)||(p=i(h)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&o(d)?d:{},s(y,{name:c,newValue:l(E,m,h)})):typeof h<"u"&&s(y,{name:c,newValue:h}));return y},bL}var Met=ket();const xL=xo(Met);function H5(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Net(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Det(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Det(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}const Kl={basename:Let,dirname:Oet,extname:Fet,join:$et,sep:"/"};function Let(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Q1(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Oet(t){if(Q1(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Fet(t){Q1(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function $et(...t){let e=-1,n;for(;++e<t.length;)Q1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Bet(n)}function Bet(t){Q1(t);const e=t.codePointAt(0)===47;let n=Vet(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Vet(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Q1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const zet={cwd:Uet};function Uet(){return"/"}function q5(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Het(t){if(typeof t=="string")t=new URL(t);else if(!q5(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return qet(t)}function qet(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const wL=["history","path","basename","stem","extname","dirname"];class Iae{constructor(e){let n;e?q5(e)?n={path:e}:typeof e=="string"||jet(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":zet.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<wL.length;){const o=wL[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)wL.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Kl.basename(this.path):void 0}set basename(e){SL(e,"basename"),_L(e,"basename"),this.path=Kl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Kl.dirname(this.path):void 0}set dirname(e){_X(this.basename,"dirname"),this.path=Kl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Kl.extname(this.path):void 0}set extname(e){if(_L(e,"extname"),_X(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Kl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){q5(e)&&(e=Het(e)),SL(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Kl.basename(this.path,this.extname):void 0}set stem(e){SL(e,"stem"),_L(e,"stem"),this.path=Kl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new _o(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function _L(t,e){if(t&&t.includes(Kl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Kl.sep+"`")}function SL(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _X(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jet(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Wet=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},Get={}.hasOwnProperty;class gB extends Wet{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Net()}copy(){const e=new gB;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(xL(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(TL("data",this.frozen),this.namespace[e]=n,this):Get.call(this.namespace,e)&&this.namespace[e]||void 0:e?(TL("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=aC(e),r=this.parser||this.Parser;return EL("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),EL("process",this.parser||this.Parser),CL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=aC(e),l=r.parse(a);r.run(l,a,function(c,d,h){if(c||!d||!h)return u(c);const p=d,m=r.stringify(p,h);Xet(m)?h.value=m:h.result=m,u(c,h)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),EL("processSync",this.parser||this.Parser),CL("processSync",this.compiler||this.Compiler),this.process(e,i),EX("processSync","process",n),r;function i(o,s){n=!0,xX(o),r=s}}run(e,n,r){SX(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=aC(n);i.run(e,l,u);function u(c,d,h){const p=d||e;c?a(c):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),EX("runSync","run",r),i;function o(s,a){xX(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=aC(n),i=this.compiler||this.Compiler;return CL("stringify",i),SX(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(TL("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=xL(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const y=r[h][1];H5(y)&&H5(p)&&(p=xL(!0,y,p)),r[h]=[u,p,...m]}}}}const Ket=new gB().freeze();function EL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function CL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function TL(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function SX(t){if(!H5(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function EX(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function aC(t){return Yet(t)?t:new Iae(t)}function Yet(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Xet(t){return typeof t=="string"||Jet(t)}function Jet(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Qet="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",CX=[],TX={allowDangerousHtml:!0},Zet=/^(https?|ircs?|mailto|xmpp)$/i,ett=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ttt(t){const e=ntt(t),n=rtt(t);return itt(e.runSync(e.parse(n),n),t)}function ntt(t){const e=t.rehypePlugins||CX,n=t.remarkPlugins||CX,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...TX}:TX;return Ket().use(NZe).use(n).use(Iet,r).use(e)}function rtt(t){const e=t.children||"",n=new Iae;return typeof e=="string"&&(n.value=e),n}function itt(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,s=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||ott;for(const c of ett)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+Qet+c.id,void 0);return Pae(t,u),fJe(t,{Fragment:D.Fragment,components:i,ignoreInvalidStyle:!0,jsx:D.jsx,jsxs:D.jsxs,passKeys:!0,passNode:!0});function u(c,d,h){if(c.type==="raw"&&h&&typeof d=="number")return s?h.children.splice(d,1):h.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in mL)if(Object.hasOwn(mL,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],y=mL[p];(y===null||y.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,h)),p&&h&&typeof d=="number")return a&&c.children?h.children.splice(d,1,...c.children):h.children.splice(d,1),d}}}function ott(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Zet.test(t.slice(0,e))?t:""}const stt=()=>{const t="ReadFlect: Scaffolding Intent-Driven, Multi-Session and Reflective Reading of Academic Papers",e=[{name:"Yuwei Xiao",email:"yuweix@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Ollie Pai",email:"o.pai@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Brian Roysar",email:"brianroysar@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Michael Shi",email:"michaelshi@g.ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Eunice Jun",email:"emjun@ucla.edu",affiliation:"University of California, Los Angeles"}],n=`Reading academic papers is a fundamental yet challenging task for students and researchers.    Beyond text, papers are dense with data, figures, and statistical analyses, requiring readers to extract key insights, synthesize information, and assess evidence across multiple formats.    Researchers must also navigate shifting cognitive goals, switching between different reading strategies based on their evolving needs.    Moreover, retaining and organizing insights over time remains a persistent challenge, often leading to redundant work and lost understanding upon revisiting papers.    While various reading strategies and digital tools exist, they often fail to comprehensively support researchers in managing their reading process and structuring their acquired knowledge.    

To address these gaps, we present **ReadFlect**, an interactive system that **scaffolds intent-driven, multi-session and reflective reading of academic literature**.    ReadFlect enables users to define and manage reading intentions, annotate papers in context, and externalize insights through a diagramming canvas.    It further supports reflection through visual analytics that capture reading behaviors over time.    By doing so, ReadFlect aims to foster more structured engagement with scientific literature, enhance comprehension, facilitate synthesis, and support collaborative and pedagogical scenarios.`,r=[{name:"GitHub",url:"https://github.com/ucla-cdl/re-ad"},{name:"Blog",url:"https://medium.com/@xshaw2002/user-research-blog-augment-data-intensive-reading-d3fd5546ad55/preview"},{name:"Try ReadFlect",url:"./#/papers"}],i="https://drive.google.com/file/d/1MysOo8PKdM1bXcQ9CRU0GmFwAZ2jyBoE/preview",o=s=>{var a;(a=document.querySelector(s))==null||a.scrollIntoView({behavior:"smooth"})};return D.jsxs(Be,{className:"home",children:[D.jsxs(Be,{className:"title-block",sx:{display:"flex",flexDirection:"row",alignItems:"center",p:2,gap:1.5},children:[D.jsx("img",{src:rA,alt:"logo",style:{width:"80px"}}),D.jsx(tt,{variant:"h4",sx:{textAlign:"center",fontWeight:"bold"},children:t})]}),D.jsx(Be,{className:"authors-block",children:e.map(s=>D.jsxs(Be,{className:"author-box",children:[D.jsx(tt,{variant:"h6",children:s.name}),D.jsx(tt,{variant:"body1",children:s.email})]},s.name))}),D.jsx(Be,{className:"information-block",children:D.jsx(tt,{variant:"h6",children:Array.from(new Set(e.map(s=>s.affiliation))).join(", ")})}),D.jsx(nr,{variant:"contained",sx:{my:1,border:"2px solid black",borderRadius:5,p:2,bgcolor:"#ffffff",color:"#000000",fontSize:"1rem"},onClick:()=>window.open(r[2].url,"_blank"),startIcon:D.jsx("img",{src:rA,style:{width:"35px",height:"35px"}}),children:"Try ReadFlect"}),D.jsxs(Be,{className:"links-block",sx:{my:1},children:[D.jsx(nr,{className:"link-button",variant:"contained",onClick:()=>window.open(r[0].url,"_blank"),startIcon:D.jsx(p4e,{}),children:"Code"}),D.jsx(nr,{className:"link-button",variant:"contained",onClick:()=>window.open(r[1].url,"_blank"),startIcon:D.jsx(i4e,{}),children:"Blog"}),D.jsx(nr,{className:"link-button",variant:"contained",onClick:()=>o(".video-block"),startIcon:D.jsx(Sj,{}),children:"Video"}),D.jsx(nr,{className:"link-button",variant:"contained",onClick:()=>o(".poster-block"),startIcon:D.jsx(wj,{}),children:"Poster"})]}),D.jsxs(Be,{className:"description-block",sx:{my:2},children:[D.jsx(tt,{variant:"h4",children:D.jsx("b",{children:"What is ReadFlect?"})}),D.jsx(ttt,{components:{p:({children:s})=>D.jsx(tt,{variant:"body1",sx:{lineHeight:2,my:2},children:s})},children:n})]}),D.jsxs(Be,{className:"video-block",sx:{my:2},children:[D.jsx(tt,{variant:"h4",children:"Demo Video"}),D.jsx("iframe",{src:i,allowFullScreen:!0})]}),D.jsxs(Be,{className:"poster-block",sx:{my:2},children:[D.jsx(tt,{variant:"h4",children:"Poster"}),D.jsx(tt,{variant:"body2",children:"🏆 Best User Research in UCLA CS 239 Winter 2025"}),D.jsx("img",{className:"poster-image",src:FXe,alt:"poster"})]}),D.jsxs(H5e,{ariaLabel:"Navigation SpeedDial",sx:{position:"fixed",bottom:"2rem",right:"2rem"},icon:D.jsx(x4e,{}),children:[D.jsx(OE,{icon:D.jsx(n4e,{}),tooltipTitle:"Back to Top",onClick:()=>o(".title-block")},"top"),D.jsx(OE,{icon:D.jsx(Sj,{}),tooltipTitle:"Go to Video",onClick:()=>o(".video-block")},"video"),D.jsx(OE,{icon:D.jsx(wj,{}),tooltipTitle:"Go to Poster",onClick:()=>o(".poster-block")},"poster"),D.jsx(OE,{icon:D.jsx(Ane,{}),tooltipTitle:"Go to Description",onClick:()=>o(".description-block")},"description")]})]})},att=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(!0),[i,o]=F.useState(""),[s,a]=F.useState(""),[l,u]=F.useState(""),[c,d]=F.useState({email:!1,password:!1,confirmPassword:!1}),[h,p]=F.useState({email:"",password:"",confirmPassword:""}),[m,y]=F.useState(""),[x,w]=F.useState([]),[E,S]=F.useState(!1),[T,k]=F.useState({title:"",file:null}),{userData:N,setUserData:R,loadUserData:M,updateUser:L,getUserByEmail:I,addPaperData:O,addPaperFile:V,addPaperToUser:$}=bg(),{papersDict:z,setViewingPaperId:W,setMode:K}=fd(),J=eP(),[Q,X]=F.useState(null),[j,Y]=F.useState(!1);F.useEffect(()=>{K(Vr.READING),W(null)},[]),F.useEffect(()=>{const be=Object.values(z).filter(Ee=>Ee.title.toLowerCase().includes(m.toLowerCase()));w(be)},[m,z]);const ue=()=>{k({title:"",file:null}),S(!0)},q=async()=>{try{if(!N){alert("Please login to add a paper");return}if(!(T!=null&&T.title.trim())){alert("Please enter a title");return}if(!(T!=null&&T.file)){alert("Please select a PDF file");return}const be=Qd(),Ee={id:be,title:T.title.trim()};await V(be,T.file),await O(Ee),await $(N.id,be),await M(N.id),xe(),console.log("Paper saved successfully")}catch(be){console.error("Error saving paper:",be),alert("Failed to save paper. Please try again.")}},de=be=>{var Me;const Ee=(Me=be.target.files)==null?void 0:Me[0];Ee&&Ee.type==="application/pdf"?k({...T,file:Ee}):alert("Please select a valid PDF file")},se=async()=>{if(d({email:!1,password:!1,confirmPassword:!1}),p({email:"",password:"",confirmPassword:""}),!i.trim()){d(be=>({...be,email:!0})),p(be=>({...be,email:"Email is required"}));return}if(!s.trim()){d(be=>({...be,password:!0})),p(be=>({...be,password:"Password is required"}));return}if(n){const be=await I(i);if(!be){d({email:!0,password:!1,confirmPassword:!1}),p({email:"Email not found",password:"",confirmPassword:""});return}if(be.password!==s){d({email:!1,password:!0,confirmPassword:!1}),p({email:"",password:"Password is incorrect",confirmPassword:""});return}localStorage.setItem("userId",be.id),await M(be.id)}else{if(s!==l){d(Ee=>({...Ee,confirmPassword:!0})),p(Ee=>({...Ee,confirmPassword:"Passwords do not match"}));return}if(s.length<8){d(Ee=>({...Ee,password:!0})),p(Ee=>({...Ee,password:"Password must be at least 6 characters"}));return}const be=Qd();await L({id:be,email:i,password:s,name:i.split("@")[0],role:dw.STUDENT,aiConfig:cwe}),localStorage.setItem("userId",be),await M(be)}ee()},ee=()=>{e(!1),r(!0),o(""),a(""),u(""),d({email:!1,password:!1,confirmPassword:!1}),p({email:"",password:"",confirmPassword:""})},ae=()=>{localStorage.removeItem("userId"),R(void 0),X(null)},te=()=>{Y(!0),X(null)},ce=be=>{X(be.currentTarget)},fe=()=>{X(null)},ge=be=>{W(be),J("/paper-reader")},xe=()=>{S(!1),k({title:"",file:null})};return D.jsxs(Be,{className:"papers-hub-container",children:[D.jsxs(Be,{sx:{mb:4},children:[D.jsxs(Be,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:2},children:[D.jsx("img",{height:40,src:rA,alt:"re:ad",onClick:()=>J("/")}),D.jsx(tt,{variant:"h4",component:"h1",fontWeight:"bold",children:"Papers Hub"})]}),N?D.jsxs(Be,{sx:{display:"flex",alignItems:"center",gap:1},children:[D.jsx(Uq,{sx:{bgcolor:"grey.200"},children:D.jsx($4,{})}),D.jsx(tt,{variant:"body1",color:"text.secondary",children:N.name}),D.jsx(wi,{size:"small",onClick:ce,sx:{ml:1},children:D.jsx(b4e,{})}),D.jsxs(JR,{anchorEl:Q,open:!!Q,onClose:fe,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[D.jsxs(Ew,{onClick:te,children:[D.jsx(Sw,{children:D.jsx(Tne,{fontSize:"small"})}),D.jsx(sg,{children:"Edit Profile"})]}),D.jsxs(Ew,{onClick:ae,children:[D.jsx(Sw,{children:D.jsx(y4e,{fontSize:"small"})}),D.jsx(sg,{children:"Logout"})]})]})]}):D.jsx(nr,{variant:"contained",onClick:()=>e(!0),children:"Login"})]}),D.jsx($f,{sx:{borderColor:"black"}}),D.jsxs(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[D.jsx(Mi,{placeholder:"Search papers...",value:m,onChange:be=>y(be.target.value),InputProps:{startAdornment:D.jsx(nA,{position:"start",children:D.jsx(XO,{})})},sx:{maxWidth:400},size:"small",fullWidth:!0}),D.jsx(nr,{variant:"contained",startIcon:D.jsx(t4e,{}),onClick:ue,size:"large",children:"Add Paper"})]})]}),D.jsxs(tt,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[x.length," paper",x.length!==1?"s":""," found"]}),D.jsx(cl,{children:D.jsxs(p$e,{children:[D.jsx(R$e,{children:D.jsxs(yj,{children:[D.jsx(FE,{width:60}),D.jsx(FE,{children:"Title"})]})}),D.jsx(b$e,{children:x.map(be=>D.jsxs(yj,{sx:{"&:hover":{bgcolor:"action.hover"}},onClick:()=>ge(be.id),children:[D.jsx(FE,{children:D.jsx(Uq,{sx:{bgcolor:"grey.200"},children:D.jsx(_4e,{sx:{color:"grey.600"}})})}),D.jsx(FE,{children:D.jsx(tt,{variant:"body2",sx:{fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:be.title})})]},be.id))})]})}),x.length===0&&D.jsx(Be,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,textAlign:"center"},children:D.jsx(tt,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No papers found"})}),D.jsxs(JT,{open:t,onClose:ee,children:[D.jsx(eA,{children:n?"Login":"Register"}),D.jsx(ZT,{children:D.jsxs(t$e,{spacing:2,sx:{mt:1},children:[D.jsx(Mi,{required:!0,error:c.email,helperText:h.email,label:"Email",type:"email",fullWidth:!0,value:i,onChange:be=>o(be.target.value)}),D.jsx(Mi,{required:!0,error:c.password,helperText:h.password,label:"Password",type:"password",fullWidth:!0,value:s,onChange:be=>a(be.target.value)}),!n&&D.jsx(Mi,{required:!0,error:c.confirmPassword,helperText:h.confirmPassword,label:"Confirm Password",type:"password",fullWidth:!0,value:l,onChange:be=>u(be.target.value)}),D.jsx(nr,{variant:"text",onClick:()=>r(!n),sx:{alignSelf:"flex-start",textTransform:"none"},children:n?"Don't have an account? Register":"Already have an account? Login"})]})}),D.jsxs(QT,{children:[D.jsx(nr,{onClick:ee,children:"Cancel"}),D.jsx(nr,{onClick:se,variant:"contained",children:n?"Login":"Register"})]})]}),D.jsxs(JT,{open:E,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[D.jsx(eA,{children:"Add New Paper"}),D.jsx(ZT,{children:D.jsxs(Be,{sx:{p:2,display:"flex",flexDirection:"column",gap:3,alignItems:"center"},children:[D.jsx(Mi,{label:"Title",value:T==null?void 0:T.title,onChange:be=>k({...T,title:be.target.value}),fullWidth:!0}),D.jsxs(nr,{component:"label",role:"undefined",tabIndex:-1,variant:"outlined",startIcon:D.jsx(d4e,{}),children:[T!=null&&T.file?T.file.name:"Choose PDF File",D.jsx("input",{type:"file",accept:"application/pdf",onChange:de,style:{display:"none",clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1},id:"pdf-upload"})]})]})}),D.jsxs(QT,{sx:{px:3,pb:3},children:[D.jsx(nr,{onClick:xe,variant:"outlined",children:"Cancel"}),D.jsx(nr,{onClick:q,variant:"contained",children:"Add Paper"})]})]}),D.jsx(jre,{open:j,onClose:()=>Y(!1)})]})};function ltt(){return F.useEffect(()=>{window.sessionStorage.clear()},[]),D.jsx(fwe,{children:D.jsx(nIe,{children:D.jsx(sIe,{children:D.jsx(rIe,{children:D.jsx(iIe,{children:D.jsx(q3e,{children:D.jsxs(x3e,{children:[D.jsx(RC,{path:"/",element:D.jsx(stt,{})}),D.jsx(RC,{path:"/papers",element:D.jsx(att,{})}),D.jsx(RC,{path:"/paper-reader",element:D.jsx(OXe,{})})]})})})})})})})}RX.createRoot(document.getElementById("root")).render(D.jsx(F.StrictMode,{children:D.jsx(ltt,{})}))});export default utt();
