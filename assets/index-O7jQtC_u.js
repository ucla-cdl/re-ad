var ole=Object.defineProperty;var eV=t=>{throw TypeError(t)};var sle=(t,e,n)=>e in t?ole(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ale=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dt=(t,e,n)=>sle(t,typeof e!="symbol"?e+"":e,n),NI=(t,e,n)=>e.has(t)||eV("Cannot "+n);var T=(t,e,n)=>(NI(t,e,"read from private field"),n?n.call(t):e.get(t)),le=(t,e,n)=>e.has(t)?eV("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ie=(t,e,n,r)=>(NI(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ae=(t,e,n)=>(NI(t,e,"access private method"),n);var as=(t,e,n,r)=>({set _(i){ie(t,e,i,n)},get _(){return T(t,e,r)}});var gZe=ale((Cs,Ts)=>{function lle(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ni(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ule(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var DI={exports:{}},q0={},LI={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tV;function cle(){if(tV)return tn;tV=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(Y){return Y===null||typeof Y!="object"?null:(Y=d&&Y[d]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(Y,Z,W){this.props=Y,this.context=Z,this.refs=y,this.updater=W||p}b.prototype.isReactComponent={},b.prototype.setState=function(Y,Z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Z,"setState")},b.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function v(){}v.prototype=b.prototype;function E(Y,Z,W){this.props=Y,this.context=Z,this.refs=y,this.updater=W||p}var x=E.prototype=new v;x.constructor=E,m(x,b.prototype),x.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,D={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(Y,Z,W){var oe,re={},me=null,ge=null;if(Z!=null)for(oe in Z.ref!==void 0&&(ge=Z.ref),Z.key!==void 0&&(me=""+Z.key),Z)k.call(Z,oe)&&!A.hasOwnProperty(oe)&&(re[oe]=Z[oe]);var ce=arguments.length-2;if(ce===1)re.children=W;else if(1<ce){for(var he=Array(ce),be=0;be<ce;be++)he[be]=arguments[be+2];re.children=he}if(Y&&Y.defaultProps)for(oe in ce=Y.defaultProps,ce)re[oe]===void 0&&(re[oe]=ce[oe]);return{$$typeof:t,type:Y,key:me,ref:ge,props:re,_owner:D.current}}function M(Y,Z){return{$$typeof:t,type:Y.type,key:Z,ref:Y.ref,props:Y.props,_owner:Y._owner}}function I(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function O(Y){var Z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(W){return Z[W]})}var F=/\/+/g;function $(Y,Z){return typeof Y=="object"&&Y!==null&&Y.key!=null?O(""+Y.key):Z.toString(36)}function L(Y,Z,W,oe,re){var me=typeof Y;(me==="undefined"||me==="boolean")&&(Y=null);var ge=!1;if(Y===null)ge=!0;else switch(me){case"string":case"number":ge=!0;break;case"object":switch(Y.$$typeof){case t:case e:ge=!0}}if(ge)return ge=Y,re=re(ge),Y=oe===""?"."+$(ge,0):oe,C(re)?(W="",Y!=null&&(W=Y.replace(F,"$&/")+"/"),L(re,Z,W,"",function(be){return be})):re!=null&&(I(re)&&(re=M(re,W+(!re.key||ge&&ge.key===re.key?"":(""+re.key).replace(F,"$&/")+"/")+Y)),Z.push(re)),1;if(ge=0,oe=oe===""?".":oe+":",C(Y))for(var ce=0;ce<Y.length;ce++){me=Y[ce];var he=oe+$(me,ce);ge+=L(me,Z,W,he,re)}else if(he=f(Y),typeof he=="function")for(Y=he.call(Y),ce=0;!(me=Y.next()).done;)me=me.value,he=oe+$(me,ce++),ge+=L(me,Z,W,he,re);else if(me==="object")throw Z=String(Y),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ge}function q(Y,Z,W){if(Y==null)return Y;var oe=[],re=0;return L(Y,oe,"","",function(me){return Z.call(W,me,re++)}),oe}function K(Y){if(Y._status===-1){var Z=Y._result;Z=Z(),Z.then(function(W){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=W)},function(W){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=W)}),Y._status===-1&&(Y._status=0,Y._result=Z)}if(Y._status===1)return Y._result.default;throw Y._result}var X={current:null},ee={transition:null},J={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:ee,ReactCurrentOwner:D};function G(){throw Error("act(...) is not supported in production builds of React.")}return tn.Children={map:q,forEach:function(Y,Z,W){q(Y,function(){Z.apply(this,arguments)},W)},count:function(Y){var Z=0;return q(Y,function(){Z++}),Z},toArray:function(Y){return q(Y,function(Z){return Z})||[]},only:function(Y){if(!I(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},tn.Component=b,tn.Fragment=n,tn.Profiler=i,tn.PureComponent=E,tn.StrictMode=r,tn.Suspense=l,tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,tn.act=G,tn.cloneElement=function(Y,Z,W){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var oe=m({},Y.props),re=Y.key,me=Y.ref,ge=Y._owner;if(Z!=null){if(Z.ref!==void 0&&(me=Z.ref,ge=D.current),Z.key!==void 0&&(re=""+Z.key),Y.type&&Y.type.defaultProps)var ce=Y.type.defaultProps;for(he in Z)k.call(Z,he)&&!A.hasOwnProperty(he)&&(oe[he]=Z[he]===void 0&&ce!==void 0?ce[he]:Z[he])}var he=arguments.length-2;if(he===1)oe.children=W;else if(1<he){ce=Array(he);for(var be=0;be<he;be++)ce[be]=arguments[be+2];oe.children=ce}return{$$typeof:t,type:Y.type,key:re,ref:me,props:oe,_owner:ge}},tn.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:o,_context:Y},Y.Consumer=Y},tn.createElement=P,tn.createFactory=function(Y){var Z=P.bind(null,Y);return Z.type=Y,Z},tn.createRef=function(){return{current:null}},tn.forwardRef=function(Y){return{$$typeof:a,render:Y}},tn.isValidElement=I,tn.lazy=function(Y){return{$$typeof:c,_payload:{_status:-1,_result:Y},_init:K}},tn.memo=function(Y,Z){return{$$typeof:u,type:Y,compare:Z===void 0?null:Z}},tn.startTransition=function(Y){var Z=ee.transition;ee.transition={};try{Y()}finally{ee.transition=Z}},tn.unstable_act=G,tn.useCallback=function(Y,Z){return X.current.useCallback(Y,Z)},tn.useContext=function(Y){return X.current.useContext(Y)},tn.useDebugValue=function(){},tn.useDeferredValue=function(Y){return X.current.useDeferredValue(Y)},tn.useEffect=function(Y,Z){return X.current.useEffect(Y,Z)},tn.useId=function(){return X.current.useId()},tn.useImperativeHandle=function(Y,Z,W){return X.current.useImperativeHandle(Y,Z,W)},tn.useInsertionEffect=function(Y,Z){return X.current.useInsertionEffect(Y,Z)},tn.useLayoutEffect=function(Y,Z){return X.current.useLayoutEffect(Y,Z)},tn.useMemo=function(Y,Z){return X.current.useMemo(Y,Z)},tn.useReducer=function(Y,Z,W){return X.current.useReducer(Y,Z,W)},tn.useRef=function(Y){return X.current.useRef(Y)},tn.useState=function(Y){return X.current.useState(Y)},tn.useSyncExternalStore=function(Y,Z,W){return X.current.useSyncExternalStore(Y,Z,W)},tn.useTransition=function(){return X.current.useTransition()},tn.version="18.3.1",tn}var nV;function nl(){return nV||(nV=1,LI.exports=cle()),LI.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rV;function dle(){if(rV)return q0;rV=1;var t=nl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},f=null,p=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:e,type:a,key:f,ref:p,props:d,_owner:i.current}}return q0.Fragment=n,q0.jsx=s,q0.jsxs=s,q0}var iV;function fle(){return iV||(iV=1,DI.exports=dle()),DI.exports}var V=fle(),z=nl();const ue=Ni(z),nL=lle({__proto__:null,default:ue},[z]);var DE={},OI={exports:{}},ko={},FI={exports:{}},$I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oV;function hle(){return oV||(oV=1,function(t){function e(ee,J){var G=ee.length;ee.push(J);e:for(;0<G;){var Y=G-1>>>1,Z=ee[Y];if(0<i(Z,J))ee[Y]=J,ee[G]=Z,G=Y;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var J=ee[0],G=ee.pop();if(G!==J){ee[0]=G;e:for(var Y=0,Z=ee.length,W=Z>>>1;Y<W;){var oe=2*(Y+1)-1,re=ee[oe],me=oe+1,ge=ee[me];if(0>i(re,G))me<Z&&0>i(ge,re)?(ee[Y]=ge,ee[me]=G,Y=me):(ee[Y]=re,ee[oe]=G,Y=oe);else if(me<Z&&0>i(ge,G))ee[Y]=ge,ee[me]=G,Y=me;else break e}}return J}function i(ee,J){var G=ee.sortIndex-J.sortIndex;return G!==0?G:ee.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ee){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=ee)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function C(ee){if(y=!1,x(ee),!m)if(n(l)!==null)m=!0,K(k);else{var J=n(u);J!==null&&X(C,J.startTime-ee)}}function k(ee,J){m=!1,y&&(y=!1,v(P),P=-1),p=!0;var G=f;try{for(x(J),d=n(l);d!==null&&(!(d.expirationTime>J)||ee&&!O());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var Z=Y(d.expirationTime<=J);J=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(l)&&r(l),x(J)}else r(l);d=n(l)}if(d!==null)var W=!0;else{var oe=n(u);oe!==null&&X(C,oe.startTime-J),W=!1}return W}finally{d=null,f=G,p=!1}}var D=!1,A=null,P=-1,M=5,I=-1;function O(){return!(t.unstable_now()-I<M)}function F(){if(A!==null){var ee=t.unstable_now();I=ee;var J=!0;try{J=A(!0,ee)}finally{J?$():(D=!1,A=null)}}else D=!1}var $;if(typeof E=="function")$=function(){E(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,q=L.port2;L.port1.onmessage=F,$=function(){q.postMessage(null)}}else $=function(){b(F,0)};function K(ee){A=ee,D||(D=!0,$())}function X(ee,J){P=b(function(){ee(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(k))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var G=f;f=J;try{return ee()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,J){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var G=f;f=ee;try{return J()}finally{f=G}},t.unstable_scheduleCallback=function(ee,J,G){var Y=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,ee){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,ee={id:c++,callback:J,priorityLevel:ee,startTime:G,expirationTime:Z,sortIndex:-1},G>Y?(ee.sortIndex=G,e(u,ee),n(l)===null&&ee===n(u)&&(y?(v(P),P=-1):y=!0,X(C,G-Y))):(ee.sortIndex=Z,e(l,ee),m||p||(m=!0,K(k))),ee},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ee){var J=f;return function(){var G=f;f=J;try{return ee.apply(this,arguments)}finally{f=G}}}}($I)),$I}var sV;function ple(){return sV||(sV=1,FI.exports=hle()),FI.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aV;function gle(){if(aV)return ko;aV=1;var t=nl(),e=ple();function n(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(h,g){s(h,g),s(h+"Capture",g)}function s(h,g){for(i[h]=g,h=0;h<g.length;h++)r.add(g[h])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(h){return l.call(d,h)?!0:l.call(c,h)?!1:u.test(h)?d[h]=!0:(c[h]=!0,!1)}function p(h,g,S,N){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return N?!1:S!==null?!S.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function m(h,g,S,N){if(g===null||typeof g>"u"||p(h,g,S,N))return!0;if(N)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(h,g,S,N,B,H,ne){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=N,this.attributeNamespace=B,this.mustUseProperty=S,this.propertyName=h,this.type=g,this.sanitizeURL=H,this.removeEmptyString=ne}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];b[g]=new y(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function E(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(v,E);b[g]=new y(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(v,E);b[g]=new y(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(v,E);b[g]=new y(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});function x(h,g,S,N){var B=b.hasOwnProperty(g)?b[g]:null;(B!==null?B.type!==0:N||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(m(g,S,B,N)&&(S=null),N||B===null?f(g)&&(S===null?h.removeAttribute(g):h.setAttribute(g,""+S)):B.mustUseProperty?h[B.propertyName]=S===null?B.type===3?!1:"":S:(g=B.attributeName,N=B.attributeNamespace,S===null?h.removeAttribute(g):(B=B.type,S=B===3||B===4&&S===!0?"":""+S,N?h.setAttributeNS(N,g,S):h.setAttribute(g,S))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),D=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ee=Symbol.iterator;function J(h){return h===null||typeof h!="object"?null:(h=ee&&h[ee]||h["@@iterator"],typeof h=="function"?h:null)}var G=Object.assign,Y;function Z(h){if(Y===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);Y=g&&g[1]||""}return`
`+Y+h}var W=!1;function oe(h,g){if(!h||W)return"";W=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ne){var N=Ne}Reflect.construct(h,[],g)}else{try{g.call()}catch(Ne){N=Ne}h.call(g.prototype)}else{try{throw Error()}catch(Ne){N=Ne}h()}}catch(Ne){if(Ne&&N&&typeof Ne.stack=="string"){for(var B=Ne.stack.split(`
`),H=N.stack.split(`
`),ne=B.length-1,ye=H.length-1;1<=ne&&0<=ye&&B[ne]!==H[ye];)ye--;for(;1<=ne&&0<=ye;ne--,ye--)if(B[ne]!==H[ye]){if(ne!==1||ye!==1)do if(ne--,ye--,0>ye||B[ne]!==H[ye]){var Ee=`
`+B[ne].replace(" at new "," at ");return h.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",h.displayName)),Ee}while(1<=ne&&0<=ye);break}}}finally{W=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Z(h):""}function re(h){switch(h.tag){case 5:return Z(h.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return h=oe(h.type,!1),h;case 11:return h=oe(h.type.render,!1),h;case 1:return h=oe(h.type,!0),h;default:return""}}function me(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case A:return"Fragment";case D:return"Portal";case M:return"Profiler";case P:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case O:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case F:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case q:return g=h.displayName||null,g!==null?g:me(h.type)||"Memo";case K:g=h._payload,h=h._init;try{return me(h(g))}catch{}}return null}function ge(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(g);case 8:return g===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function ce(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function he(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function be(h){var g=he(h)?"checked":"value",S=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),N=""+h[g];if(!h.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var B=S.get,H=S.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return B.call(this)},set:function(ne){N=""+ne,H.call(this,ne)}}),Object.defineProperty(h,g,{enumerable:S.enumerable}),{getValue:function(){return N},setValue:function(ne){N=""+ne},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function Ce(h){h._valueTracker||(h._valueTracker=be(h))}function Ae(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var S=g.getValue(),N="";return h&&(N=he(h)?h.checked?"true":"false":h.value),h=N,h!==S?(g.setValue(h),!0):!1}function Oe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function j(h,g){var S=g.checked;return G({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??h._wrapperState.initialChecked})}function pe(h,g){var S=g.defaultValue==null?"":g.defaultValue,N=g.checked!=null?g.checked:g.defaultChecked;S=ce(g.value!=null?g.value:S),h._wrapperState={initialChecked:N,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ve(h,g){g=g.checked,g!=null&&x(h,"checked",g,!1)}function se(h,g){ve(h,g);var S=ce(g.value),N=g.type;if(S!=null)N==="number"?(S===0&&h.value===""||h.value!=S)&&(h.value=""+S):h.value!==""+S&&(h.value=""+S);else if(N==="submit"||N==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?fe(h,g.type,S):g.hasOwnProperty("defaultValue")&&fe(h,g.type,ce(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function te(h,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var N=g.type;if(!(N!=="submit"&&N!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,S||g===h.value||(h.value=g),h.defaultValue=g}S=h.name,S!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,S!==""&&(h.name=S)}function fe(h,g,S){(g!=="number"||Oe(h.ownerDocument)!==h)&&(S==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+S&&(h.defaultValue=""+S))}var _e=Array.isArray;function Ie(h,g,S,N){if(h=h.options,g){g={};for(var B=0;B<S.length;B++)g["$"+S[B]]=!0;for(S=0;S<h.length;S++)B=g.hasOwnProperty("$"+h[S].value),h[S].selected!==B&&(h[S].selected=B),B&&N&&(h[S].defaultSelected=!0)}else{for(S=""+ce(S),g=null,B=0;B<h.length;B++){if(h[B].value===S){h[B].selected=!0,N&&(h[B].defaultSelected=!0);return}g!==null||h[B].disabled||(g=h[B])}g!==null&&(g.selected=!0)}}function we(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Le(h,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(n(92));if(_e(S)){if(1<S.length)throw Error(n(93));S=S[0]}g=S}g==null&&(g=""),S=g}h._wrapperState={initialValue:ce(S)}}function He(h,g){var S=ce(g.value),N=ce(g.defaultValue);S!=null&&(S=""+S,S!==h.value&&(h.value=S),g.defaultValue==null&&h.defaultValue!==S&&(h.defaultValue=S)),N!=null&&(h.defaultValue=""+N)}function Be(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function xe(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?xe(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Ve,nt=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,N,B){MSApp.execUnsafeLocalFunction(function(){return h(g,S,N,B)})}:h}(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Ve.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function wt(h,g){if(g){var S=h.firstChild;if(S&&S===h.lastChild&&S.nodeType===3){S.nodeValue=g;return}}h.textContent=g}var rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qt=["Webkit","ms","Moz","O"];Object.keys(rt).forEach(function(h){Qt.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),rt[g]=rt[h]})});function vt(h,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||rt.hasOwnProperty(h)&&rt[h]?(""+g).trim():g+"px"}function Yt(h,g){h=h.style;for(var S in g)if(g.hasOwnProperty(S)){var N=S.indexOf("--")===0,B=vt(S,g[S],N);S==="float"&&(S="cssFloat"),N?h.setProperty(S,B):h[S]=B}}var st=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(h,g){if(g){if(st[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function on(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xn=null;function eo(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ms=null,Kr=null,Lr=null;function to(h){if(h=k0(h)){if(typeof Ms!="function")throw Error(n(280));var g=h.stateNode;g&&(g=Y1(g),Ms(h.stateNode,h.type,g))}}function vo(h){Kr?Lr?Lr.push(h):Lr=[h]:Kr=h}function ul(){if(Kr){var h=Kr,g=Lr;if(Lr=Kr=null,to(h),g)for(h=0;h<g.length;h++)to(g[h])}}function ca(h,g){return h(g)}function $t(){}var hr=!1;function cl(h,g,S){if(hr)return h(g,S);hr=!0;try{return ca(h,g,S)}finally{hr=!1,(Kr!==null||Lr!==null)&&($t(),ul())}}function pr(h,g){var S=h.stateNode;if(S===null)return null;var N=Y1(S);if(N===null)return null;S=N[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(h=h.type,N=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!N;break e;default:h=!1}if(h)return null;if(S&&typeof S!="function")throw Error(n(231,g,typeof S));return S}var rd=!1;if(a)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){rd=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{rd=!1}function Cu(h,g,S,N,B,H,ne,ye,Ee){var Ne=Array.prototype.slice.call(arguments,3);try{g.apply(S,Ne)}catch(We){this.onError(We)}}var Tu=!1,id=null,es=!1,Uf=null,f0={onError:function(h){Tu=!0,id=h}};function od(h,g,S,N,B,H,ne,ye,Ee){Tu=!1,id=null,Cu.apply(f0,arguments)}function yg(h,g,S,N,B,H,ne,ye,Ee){if(od.apply(this,arguments),Tu){if(Tu){var Ne=id;Tu=!1,id=null}else throw Error(n(198));es||(es=!0,Uf=Ne)}}function bo(h){var g=h,S=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(S=g.return),h=g.return;while(h)}return g.tag===3?S:null}function dl(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function wo(h){if(bo(h)!==h)throw Error(n(188))}function vg(h){var g=h.alternate;if(!g){if(g=bo(h),g===null)throw Error(n(188));return g!==h?null:h}for(var S=h,N=g;;){var B=S.return;if(B===null)break;var H=B.alternate;if(H===null){if(N=B.return,N!==null){S=N;continue}break}if(B.child===H.child){for(H=B.child;H;){if(H===S)return wo(B),h;if(H===N)return wo(B),g;H=H.sibling}throw Error(n(188))}if(S.return!==N.return)S=B,N=H;else{for(var ne=!1,ye=B.child;ye;){if(ye===S){ne=!0,S=B,N=H;break}if(ye===N){ne=!0,N=B,S=H;break}ye=ye.sibling}if(!ne){for(ye=H.child;ye;){if(ye===S){ne=!0,S=H,N=B;break}if(ye===N){ne=!0,N=H,S=B;break}ye=ye.sibling}if(!ne)throw Error(n(189))}}if(S.alternate!==N)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?h:g}function Hf(h){return h=vg(h),h!==null?sd(h):null}function sd(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=sd(h);if(g!==null)return g;h=h.sibling}return null}var ad=e.unstable_scheduleCallback,qf=e.unstable_cancelCallback,bg=e.unstable_shouldYield,wg=e.unstable_requestPaint,zn=e.unstable_now,_g=e.unstable_getCurrentPriorityLevel,Au=e.unstable_ImmediatePriority,fl=e.unstable_UserBlockingPriority,_o=e.unstable_NormalPriority,jf=e.unstable_LowPriority,xg=e.unstable_IdlePriority,hl=null,no=null;function Eg(h){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(hl,h,void 0,(h.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:Cg,Wf=Math.log,Sg=Math.LN2;function Cg(h){return h>>>=0,h===0?32:31-(Wf(h)/Sg|0)|0}var ld=64,da=4194304;function pl(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ru(h,g){var S=h.pendingLanes;if(S===0)return 0;var N=0,B=h.suspendedLanes,H=h.pingedLanes,ne=S&268435455;if(ne!==0){var ye=ne&~B;ye!==0?N=pl(ye):(H&=ne,H!==0&&(N=pl(H)))}else ne=S&~B,ne!==0?N=pl(ne):H!==0&&(N=pl(H));if(N===0)return 0;if(g!==0&&g!==N&&(g&B)===0&&(B=N&-N,H=g&-g,B>=H||B===16&&(H&4194240)!==0))return g;if((N&4)!==0&&(N|=S&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=N;0<g;)S=31-gi(g),B=1<<S,N|=h[S],g&=~B;return N}function h0(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(h,g){for(var S=h.suspendedLanes,N=h.pingedLanes,B=h.expirationTimes,H=h.pendingLanes;0<H;){var ne=31-gi(H),ye=1<<ne,Ee=B[ne];Ee===-1?((ye&S)===0||(ye&N)!==0)&&(B[ne]=h0(ye,g)):Ee<=g&&(h.expiredLanes|=ye),H&=~ye}}function ro(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function ku(){var h=ld;return ld<<=1,(ld&4194240)===0&&(ld=64),h}function fa(h){for(var g=[],S=0;31>S;S++)g.push(h);return g}function ud(h,g,S){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-gi(g),h[g]=S}function jn(h,g){var S=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var N=h.eventTimes;for(h=h.expirationTimes;0<S;){var B=31-gi(S),H=1<<B;g[B]=0,N[B]=-1,h[B]=-1,S&=~H}}function cd(h,g){var S=h.entangledLanes|=g;for(h=h.entanglements;S;){var N=31-gi(S),B=1<<N;B&g|h[N]&g&&(h[N]|=g),S&=~B}}var fn=0;function dd(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var R1,Tg,k1,I1,P1,p0=!1,gl=[],mi=null,ha=null,pa=null,fd=new Map,Ns=new Map,ml=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(h,g){switch(h){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":fd.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(g.pointerId)}}function xo(h,g,S,N,B,H){return h===null||h.nativeEvent!==H?(h={blockedOn:g,domEventName:S,eventSystemFlags:N,nativeEvent:H,targetContainers:[B]},g!==null&&(g=k0(g),g!==null&&Tg(g)),h):(h.eventSystemFlags|=N,g=h.targetContainers,B!==null&&g.indexOf(B)===-1&&g.push(B),h)}function dk(h,g,S,N,B){switch(g){case"focusin":return mi=xo(mi,h,g,S,N,B),!0;case"dragenter":return ha=xo(ha,h,g,S,N,B),!0;case"mouseover":return pa=xo(pa,h,g,S,N,B),!0;case"pointerover":var H=B.pointerId;return fd.set(H,xo(fd.get(H)||null,h,g,S,N,B)),!0;case"gotpointercapture":return H=B.pointerId,Ns.set(H,xo(Ns.get(H)||null,h,g,S,N,B)),!0}return!1}function N1(h){var g=Jf(h.target);if(g!==null){var S=bo(g);if(S!==null){if(g=S.tag,g===13){if(g=dl(S),g!==null){h.blockedOn=g,P1(h.priority,function(){k1(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){h.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Iu(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var S=Ag(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(S===null){S=h.nativeEvent;var N=new S.constructor(S.type,S);xn=N,S.target.dispatchEvent(N),xn=null}else return g=k0(S),g!==null&&Tg(g),h.blockedOn=S,!1;g.shift()}return!0}function Gf(h,g,S){Iu(h)&&S.delete(g)}function D1(){p0=!1,mi!==null&&Iu(mi)&&(mi=null),ha!==null&&Iu(ha)&&(ha=null),pa!==null&&Iu(pa)&&(pa=null),fd.forEach(Gf),Ns.forEach(Gf)}function ga(h,g){h.blockedOn===g&&(h.blockedOn=null,p0||(p0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D1)))}function ma(h){function g(B){return ga(B,h)}if(0<gl.length){ga(gl[0],h);for(var S=1;S<gl.length;S++){var N=gl[S];N.blockedOn===h&&(N.blockedOn=null)}}for(mi!==null&&ga(mi,h),ha!==null&&ga(ha,h),pa!==null&&ga(pa,h),fd.forEach(g),Ns.forEach(g),S=0;S<ml.length;S++)N=ml[S],N.blockedOn===h&&(N.blockedOn=null);for(;0<ml.length&&(S=ml[0],S.blockedOn===null);)N1(S),S.blockedOn===null&&ml.shift()}var Pu=C.ReactCurrentBatchConfig,hd=!0;function sr(h,g,S,N){var B=fn,H=Pu.transition;Pu.transition=null;try{fn=1,g0(h,g,S,N)}finally{fn=B,Pu.transition=H}}function fk(h,g,S,N){var B=fn,H=Pu.transition;Pu.transition=null;try{fn=4,g0(h,g,S,N)}finally{fn=B,Pu.transition=H}}function g0(h,g,S,N){if(hd){var B=Ag(h,g,S,N);if(B===null)Ek(h,g,N,Kf,S),M1(h,N);else if(dk(B,h,g,S,N))N.stopPropagation();else if(M1(h,N),g&4&&-1<ck.indexOf(h)){for(;B!==null;){var H=k0(B);if(H!==null&&R1(H),H=Ag(h,g,S,N),H===null&&Ek(h,g,N,Kf,S),H===B)break;B=H}B!==null&&N.stopPropagation()}else Ek(h,g,N,null,S)}}var Kf=null;function Ag(h,g,S,N){if(Kf=null,h=eo(N),h=Jf(h),h!==null)if(g=bo(h),g===null)h=null;else if(S=g.tag,S===13){if(h=dl(g),h!==null)return h;h=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Kf=h,null}function m0(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_g()){case Au:return 1;case fl:return 4;case _o:case jf:return 16;case xg:return 536870912;default:return 16}default:return 16}}var ns=null,Rg=null,Eo=null;function y0(){if(Eo)return Eo;var h,g=Rg,S=g.length,N,B="value"in ns?ns.value:ns.textContent,H=B.length;for(h=0;h<S&&g[h]===B[h];h++);var ne=S-h;for(N=1;N<=ne&&g[S-N]===B[H-N];N++);return Eo=B.slice(h,1<N?1-N:void 0)}function kg(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function yl(){return!0}function v0(){return!1}function yi(h){function g(S,N,B,H,ne){this._reactName=S,this._targetInst=B,this.type=N,this.nativeEvent=H,this.target=ne,this.currentTarget=null;for(var ye in h)h.hasOwnProperty(ye)&&(S=h[ye],this[ye]=S?S(H):H[ye]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?yl:v0,this.isPropagationStopped=v0,this}return G(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),g}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=yi(ya),vl=G({},ya,{view:0,detail:0}),hk=yi(vl),Pg,Mu,pd,Yf=G({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==pd&&(pd&&h.type==="mousemove"?(Pg=h.screenX-pd.screenX,Mu=h.screenY-pd.screenY):Mu=Pg=0,pd=h),Pg)},movementY:function(h){return"movementY"in h?h.movementY:Mu}}),Mg=yi(Yf),b0=G({},Yf,{dataTransfer:0}),L1=yi(b0),Ng=G({},vl,{relatedTarget:0}),Dg=yi(Ng),O1=G({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=yi(O1),F1=G({},ya,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),$1=yi(F1),B1=G({},ya,{data:0}),w0=yi(B1),Lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V1(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=z1[h])?!!g[h]:!1}function bl(){return V1}var R=G({},vl,{key:function(h){if(h.key){var g=Lg[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=kg(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?io[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(h){return h.type==="keypress"?kg(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?kg(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),U=yi(R),Q=G({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),de=yi(Q),Re=G({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),De=yi(Re),Qe=G({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),On=yi(Qe),Yr=G({},Yf,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),mn=yi(Yr),ai=[9,13,27,32],Or=a&&"CompositionEvent"in window,Ds=null;a&&"documentMode"in document&&(Ds=document.documentMode);var rs=a&&"TextEvent"in window&&!Ds,Xf=a&&(!Or||Ds&&8<Ds&&11>=Ds),Og=" ",K$=!1;function Y$(h,g){switch(h){case"keyup":return ai.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X$(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Fg=!1;function nae(h,g){switch(h){case"compositionend":return X$(g);case"keypress":return g.which!==32?null:(K$=!0,Og);case"textInput":return h=g.data,h===Og&&K$?null:h;default:return null}}function rae(h,g){if(Fg)return h==="compositionend"||!Or&&Y$(h,g)?(h=y0(),Eo=Rg=ns=null,Fg=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Xf&&g.locale!=="ko"?null:g.data;default:return null}}var iae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J$(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!iae[h.type]:g==="textarea"}function Q$(h,g,S,N){vo(N),g=W1(g,"onChange"),0<g.length&&(S=new Ig("onChange","change",null,S,N),h.push({event:S,listeners:g}))}var _0=null,x0=null;function oae(h){mB(h,0)}function U1(h){var g=Ug(h);if(Ae(g))return h}function sae(h,g){if(h==="change")return g}var Z$=!1;if(a){var pk;if(a){var gk="oninput"in document;if(!gk){var eB=document.createElement("div");eB.setAttribute("oninput","return;"),gk=typeof eB.oninput=="function"}pk=gk}else pk=!1;Z$=pk&&(!document.documentMode||9<document.documentMode)}function tB(){_0&&(_0.detachEvent("onpropertychange",nB),x0=_0=null)}function nB(h){if(h.propertyName==="value"&&U1(x0)){var g=[];Q$(g,x0,h,eo(h)),cl(oae,g)}}function aae(h,g,S){h==="focusin"?(tB(),_0=g,x0=S,_0.attachEvent("onpropertychange",nB)):h==="focusout"&&tB()}function lae(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return U1(x0)}function uae(h,g){if(h==="click")return U1(g)}function cae(h,g){if(h==="input"||h==="change")return U1(g)}function dae(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var va=typeof Object.is=="function"?Object.is:dae;function E0(h,g){if(va(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var S=Object.keys(h),N=Object.keys(g);if(S.length!==N.length)return!1;for(N=0;N<S.length;N++){var B=S[N];if(!l.call(g,B)||!va(h[B],g[B]))return!1}return!0}function rB(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function iB(h,g){var S=rB(h);h=0;for(var N;S;){if(S.nodeType===3){if(N=h+S.textContent.length,h<=g&&N>=g)return{node:S,offset:g-h};h=N}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=rB(S)}}function oB(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?oB(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function sB(){for(var h=window,g=Oe();g instanceof h.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)h=g.contentWindow;else break;g=Oe(h.document)}return g}function mk(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function fae(h){var g=sB(),S=h.focusedElem,N=h.selectionRange;if(g!==S&&S&&S.ownerDocument&&oB(S.ownerDocument.documentElement,S)){if(N!==null&&mk(S)){if(g=N.start,h=N.end,h===void 0&&(h=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(h,S.value.length);else if(h=(g=S.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var B=S.textContent.length,H=Math.min(N.start,B);N=N.end===void 0?H:Math.min(N.end,B),!h.extend&&H>N&&(B=N,N=H,H=B),B=iB(S,H);var ne=iB(S,N);B&&ne&&(h.rangeCount!==1||h.anchorNode!==B.node||h.anchorOffset!==B.offset||h.focusNode!==ne.node||h.focusOffset!==ne.offset)&&(g=g.createRange(),g.setStart(B.node,B.offset),h.removeAllRanges(),H>N?(h.addRange(g),h.extend(ne.node,ne.offset)):(g.setEnd(ne.node,ne.offset),h.addRange(g)))}}for(g=[],h=S;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)h=g[S],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var hae=a&&"documentMode"in document&&11>=document.documentMode,$g=null,yk=null,S0=null,vk=!1;function aB(h,g,S){var N=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;vk||$g==null||$g!==Oe(N)||(N=$g,"selectionStart"in N&&mk(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),S0&&E0(S0,N)||(S0=N,N=W1(yk,"onSelect"),0<N.length&&(g=new Ig("onSelect","select",null,g,S),h.push({event:g,listeners:N}),g.target=$g)))}function H1(h,g){var S={};return S[h.toLowerCase()]=g.toLowerCase(),S["Webkit"+h]="webkit"+g,S["Moz"+h]="moz"+g,S}var Bg={animationend:H1("Animation","AnimationEnd"),animationiteration:H1("Animation","AnimationIteration"),animationstart:H1("Animation","AnimationStart"),transitionend:H1("Transition","TransitionEnd")},bk={},lB={};a&&(lB=document.createElement("div").style,"AnimationEvent"in window||(delete Bg.animationend.animation,delete Bg.animationiteration.animation,delete Bg.animationstart.animation),"TransitionEvent"in window||delete Bg.transitionend.transition);function q1(h){if(bk[h])return bk[h];if(!Bg[h])return h;var g=Bg[h],S;for(S in g)if(g.hasOwnProperty(S)&&S in lB)return bk[h]=g[S];return h}var uB=q1("animationend"),cB=q1("animationiteration"),dB=q1("animationstart"),fB=q1("transitionend"),hB=new Map,pB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gd(h,g){hB.set(h,g),o(g,[h])}for(var wk=0;wk<pB.length;wk++){var _k=pB[wk],pae=_k.toLowerCase(),gae=_k[0].toUpperCase()+_k.slice(1);gd(pae,"on"+gae)}gd(uB,"onAnimationEnd"),gd(cB,"onAnimationIteration"),gd(dB,"onAnimationStart"),gd("dblclick","onDoubleClick"),gd("focusin","onFocus"),gd("focusout","onBlur"),gd(fB,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var C0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mae=new Set("cancel close invalid load scroll toggle".split(" ").concat(C0));function gB(h,g,S){var N=h.type||"unknown-event";h.currentTarget=S,yg(N,g,void 0,h),h.currentTarget=null}function mB(h,g){g=(g&4)!==0;for(var S=0;S<h.length;S++){var N=h[S],B=N.event;N=N.listeners;e:{var H=void 0;if(g)for(var ne=N.length-1;0<=ne;ne--){var ye=N[ne],Ee=ye.instance,Ne=ye.currentTarget;if(ye=ye.listener,Ee!==H&&B.isPropagationStopped())break e;gB(B,ye,Ne),H=Ee}else for(ne=0;ne<N.length;ne++){if(ye=N[ne],Ee=ye.instance,Ne=ye.currentTarget,ye=ye.listener,Ee!==H&&B.isPropagationStopped())break e;gB(B,ye,Ne),H=Ee}}}if(es)throw h=Uf,es=!1,Uf=null,h}function tr(h,g){var S=g[kk];S===void 0&&(S=g[kk]=new Set);var N=h+"__bubble";S.has(N)||(yB(g,h,2,!1),S.add(N))}function xk(h,g,S){var N=0;g&&(N|=4),yB(S,h,N,g)}var j1="_reactListening"+Math.random().toString(36).slice(2);function T0(h){if(!h[j1]){h[j1]=!0,r.forEach(function(S){S!=="selectionchange"&&(mae.has(S)||xk(S,!1,h),xk(S,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[j1]||(g[j1]=!0,xk("selectionchange",!1,g))}}function yB(h,g,S,N){switch(m0(g)){case 1:var B=sr;break;case 4:B=fk;break;default:B=g0}S=B.bind(null,g,S,h),B=void 0,!rd||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(B=!0),N?B!==void 0?h.addEventListener(g,S,{capture:!0,passive:B}):h.addEventListener(g,S,!0):B!==void 0?h.addEventListener(g,S,{passive:B}):h.addEventListener(g,S,!1)}function Ek(h,g,S,N,B){var H=N;if((g&1)===0&&(g&2)===0&&N!==null)e:for(;;){if(N===null)return;var ne=N.tag;if(ne===3||ne===4){var ye=N.stateNode.containerInfo;if(ye===B||ye.nodeType===8&&ye.parentNode===B)break;if(ne===4)for(ne=N.return;ne!==null;){var Ee=ne.tag;if((Ee===3||Ee===4)&&(Ee=ne.stateNode.containerInfo,Ee===B||Ee.nodeType===8&&Ee.parentNode===B))return;ne=ne.return}for(;ye!==null;){if(ne=Jf(ye),ne===null)return;if(Ee=ne.tag,Ee===5||Ee===6){N=H=ne;continue e}ye=ye.parentNode}}N=N.return}cl(function(){var Ne=H,We=eo(S),Ge=[];e:{var je=hB.get(h);if(je!==void 0){var ot=Ig,ht=h;switch(h){case"keypress":if(kg(S)===0)break e;case"keydown":case"keyup":ot=U;break;case"focusin":ht="focus",ot=Dg;break;case"focusout":ht="blur",ot=Dg;break;case"beforeblur":case"afterblur":ot=Dg;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=L1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=De;break;case uB:case cB:case dB:ot=Nu;break;case fB:ot=On;break;case"scroll":ot=hk;break;case"wheel":ot=mn;break;case"copy":case"cut":case"paste":ot=$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=de}var bt=(g&4)!==0,Rr=!bt&&h==="scroll",ke=bt?je!==null?je+"Capture":null:je;bt=[];for(var Te=Ne,Pe;Te!==null;){Pe=Te;var Xe=Pe.stateNode;if(Pe.tag===5&&Xe!==null&&(Pe=Xe,ke!==null&&(Xe=pr(Te,ke),Xe!=null&&bt.push(A0(Te,Xe,Pe)))),Rr)break;Te=Te.return}0<bt.length&&(je=new ot(je,ht,null,S,We),Ge.push({event:je,listeners:bt}))}}if((g&7)===0){e:{if(je=h==="mouseover"||h==="pointerover",ot=h==="mouseout"||h==="pointerout",je&&S!==xn&&(ht=S.relatedTarget||S.fromElement)&&(Jf(ht)||ht[Du]))break e;if((ot||je)&&(je=We.window===We?We:(je=We.ownerDocument)?je.defaultView||je.parentWindow:window,ot?(ht=S.relatedTarget||S.toElement,ot=Ne,ht=ht?Jf(ht):null,ht!==null&&(Rr=bo(ht),ht!==Rr||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ot=null,ht=Ne),ot!==ht)){if(bt=Mg,Xe="onMouseLeave",ke="onMouseEnter",Te="mouse",(h==="pointerout"||h==="pointerover")&&(bt=de,Xe="onPointerLeave",ke="onPointerEnter",Te="pointer"),Rr=ot==null?je:Ug(ot),Pe=ht==null?je:Ug(ht),je=new bt(Xe,Te+"leave",ot,S,We),je.target=Rr,je.relatedTarget=Pe,Xe=null,Jf(We)===Ne&&(bt=new bt(ke,Te+"enter",ht,S,We),bt.target=Pe,bt.relatedTarget=Rr,Xe=bt),Rr=Xe,ot&&ht)t:{for(bt=ot,ke=ht,Te=0,Pe=bt;Pe;Pe=zg(Pe))Te++;for(Pe=0,Xe=ke;Xe;Xe=zg(Xe))Pe++;for(;0<Te-Pe;)bt=zg(bt),Te--;for(;0<Pe-Te;)ke=zg(ke),Pe--;for(;Te--;){if(bt===ke||ke!==null&&bt===ke.alternate)break t;bt=zg(bt),ke=zg(ke)}bt=null}else bt=null;ot!==null&&vB(Ge,je,ot,bt,!1),ht!==null&&Rr!==null&&vB(Ge,Rr,ht,bt,!0)}}e:{if(je=Ne?Ug(Ne):window,ot=je.nodeName&&je.nodeName.toLowerCase(),ot==="select"||ot==="input"&&je.type==="file")var xt=sae;else if(J$(je))if(Z$)xt=cae;else{xt=lae;var It=aae}else(ot=je.nodeName)&&ot.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(xt=uae);if(xt&&(xt=xt(h,Ne))){Q$(Ge,xt,S,We);break e}It&&It(h,je,Ne),h==="focusout"&&(It=je._wrapperState)&&It.controlled&&je.type==="number"&&fe(je,"number",je.value)}switch(It=Ne?Ug(Ne):window,h){case"focusin":(J$(It)||It.contentEditable==="true")&&($g=It,yk=Ne,S0=null);break;case"focusout":S0=yk=$g=null;break;case"mousedown":vk=!0;break;case"contextmenu":case"mouseup":case"dragend":vk=!1,aB(Ge,S,We);break;case"selectionchange":if(hae)break;case"keydown":case"keyup":aB(Ge,S,We)}var Pt;if(Or)e:{switch(h){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else Fg?Y$(h,S)&&(Bt="onCompositionEnd"):h==="keydown"&&S.keyCode===229&&(Bt="onCompositionStart");Bt&&(Xf&&S.locale!=="ko"&&(Fg||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Fg&&(Pt=y0()):(ns=We,Rg="value"in ns?ns.value:ns.textContent,Fg=!0)),It=W1(Ne,Bt),0<It.length&&(Bt=new w0(Bt,h,null,S,We),Ge.push({event:Bt,listeners:It}),Pt?Bt.data=Pt:(Pt=X$(S),Pt!==null&&(Bt.data=Pt)))),(Pt=rs?nae(h,S):rae(h,S))&&(Ne=W1(Ne,"onBeforeInput"),0<Ne.length&&(We=new w0("onBeforeInput","beforeinput",null,S,We),Ge.push({event:We,listeners:Ne}),We.data=Pt))}mB(Ge,g)})}function A0(h,g,S){return{instance:h,listener:g,currentTarget:S}}function W1(h,g){for(var S=g+"Capture",N=[];h!==null;){var B=h,H=B.stateNode;B.tag===5&&H!==null&&(B=H,H=pr(h,S),H!=null&&N.unshift(A0(h,H,B)),H=pr(h,g),H!=null&&N.push(A0(h,H,B))),h=h.return}return N}function zg(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function vB(h,g,S,N,B){for(var H=g._reactName,ne=[];S!==null&&S!==N;){var ye=S,Ee=ye.alternate,Ne=ye.stateNode;if(Ee!==null&&Ee===N)break;ye.tag===5&&Ne!==null&&(ye=Ne,B?(Ee=pr(S,H),Ee!=null&&ne.unshift(A0(S,Ee,ye))):B||(Ee=pr(S,H),Ee!=null&&ne.push(A0(S,Ee,ye)))),S=S.return}ne.length!==0&&h.push({event:g,listeners:ne})}var yae=/\r\n?/g,vae=/\u0000|\uFFFD/g;function bB(h){return(typeof h=="string"?h:""+h).replace(yae,`
`).replace(vae,"")}function G1(h,g,S){if(g=bB(g),bB(h)!==g&&S)throw Error(n(425))}function K1(){}var Sk=null,Ck=null;function Tk(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ak=typeof setTimeout=="function"?setTimeout:void 0,bae=typeof clearTimeout=="function"?clearTimeout:void 0,wB=typeof Promise=="function"?Promise:void 0,wae=typeof queueMicrotask=="function"?queueMicrotask:typeof wB<"u"?function(h){return wB.resolve(null).then(h).catch(_ae)}:Ak;function _ae(h){setTimeout(function(){throw h})}function Rk(h,g){var S=g,N=0;do{var B=S.nextSibling;if(h.removeChild(S),B&&B.nodeType===8)if(S=B.data,S==="/$"){if(N===0){h.removeChild(B),ma(g);return}N--}else S!=="$"&&S!=="$?"&&S!=="$!"||N++;S=B}while(S);ma(g)}function md(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function _B(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var S=h.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return h;g--}else S==="/$"&&g++}h=h.previousSibling}return null}var Vg=Math.random().toString(36).slice(2),wl="__reactFiber$"+Vg,R0="__reactProps$"+Vg,Du="__reactContainer$"+Vg,kk="__reactEvents$"+Vg,xae="__reactListeners$"+Vg,Eae="__reactHandles$"+Vg;function Jf(h){var g=h[wl];if(g)return g;for(var S=h.parentNode;S;){if(g=S[Du]||S[wl]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(h=_B(h);h!==null;){if(S=h[wl])return S;h=_B(h)}return g}h=S,S=h.parentNode}return null}function k0(h){return h=h[wl]||h[Du],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Ug(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function Y1(h){return h[R0]||null}var Ik=[],Hg=-1;function yd(h){return{current:h}}function nr(h){0>Hg||(h.current=Ik[Hg],Ik[Hg]=null,Hg--)}function Xn(h,g){Hg++,Ik[Hg]=h.current,h.current=g}var vd={},Di=yd(vd),So=yd(!1),Qf=vd;function qg(h,g){var S=h.type.contextTypes;if(!S)return vd;var N=h.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var B={},H;for(H in S)B[H]=g[H];return N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=B),B}function Co(h){return h=h.childContextTypes,h!=null}function X1(){nr(So),nr(Di)}function xB(h,g,S){if(Di.current!==vd)throw Error(n(168));Xn(Di,g),Xn(So,S)}function EB(h,g,S){var N=h.stateNode;if(g=g.childContextTypes,typeof N.getChildContext!="function")return S;N=N.getChildContext();for(var B in N)if(!(B in g))throw Error(n(108,ge(h)||"Unknown",B));return G({},S,N)}function J1(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||vd,Qf=Di.current,Xn(Di,h),Xn(So,So.current),!0}function SB(h,g,S){var N=h.stateNode;if(!N)throw Error(n(169));S?(h=EB(h,g,Qf),N.__reactInternalMemoizedMergedChildContext=h,nr(So),nr(Di),Xn(Di,h)):nr(So),Xn(So,S)}var Lu=null,Q1=!1,Pk=!1;function CB(h){Lu===null?Lu=[h]:Lu.push(h)}function Sae(h){Q1=!0,CB(h)}function bd(){if(!Pk&&Lu!==null){Pk=!0;var h=0,g=fn;try{var S=Lu;for(fn=1;h<S.length;h++){var N=S[h];do N=N(!0);while(N!==null)}Lu=null,Q1=!1}catch(B){throw Lu!==null&&(Lu=Lu.slice(h+1)),ad(Au,bd),B}finally{fn=g,Pk=!1}}return null}var jg=[],Wg=0,Z1=null,eE=0,Ls=[],Os=0,Zf=null,Ou=1,Fu="";function eh(h,g){jg[Wg++]=eE,jg[Wg++]=Z1,Z1=h,eE=g}function TB(h,g,S){Ls[Os++]=Ou,Ls[Os++]=Fu,Ls[Os++]=Zf,Zf=h;var N=Ou;h=Fu;var B=32-gi(N)-1;N&=~(1<<B),S+=1;var H=32-gi(g)+B;if(30<H){var ne=B-B%5;H=(N&(1<<ne)-1).toString(32),N>>=ne,B-=ne,Ou=1<<32-gi(g)+B|S<<B|N,Fu=H+h}else Ou=1<<H|S<<B|N,Fu=h}function Mk(h){h.return!==null&&(eh(h,1),TB(h,1,0))}function Nk(h){for(;h===Z1;)Z1=jg[--Wg],jg[Wg]=null,eE=jg[--Wg],jg[Wg]=null;for(;h===Zf;)Zf=Ls[--Os],Ls[Os]=null,Fu=Ls[--Os],Ls[Os]=null,Ou=Ls[--Os],Ls[Os]=null}var is=null,os=null,ar=!1,ba=null;function AB(h,g){var S=zs(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=h,g=h.deletions,g===null?(h.deletions=[S],h.flags|=16):g.push(S)}function RB(h,g){switch(h.tag){case 5:var S=h.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,is=h,os=md(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,is=h,os=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Zf!==null?{id:Ou,overflow:Fu}:null,h.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=zs(18,null,null,0),S.stateNode=g,S.return=h,h.child=S,is=h,os=null,!0):!1;default:return!1}}function Dk(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Lk(h){if(ar){var g=os;if(g){var S=g;if(!RB(h,g)){if(Dk(h))throw Error(n(418));g=md(S.nextSibling);var N=is;g&&RB(h,g)?AB(N,S):(h.flags=h.flags&-4097|2,ar=!1,is=h)}}else{if(Dk(h))throw Error(n(418));h.flags=h.flags&-4097|2,ar=!1,is=h}}}function kB(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;is=h}function tE(h){if(h!==is)return!1;if(!ar)return kB(h),ar=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!Tk(h.type,h.memoizedProps)),g&&(g=os)){if(Dk(h))throw IB(),Error(n(418));for(;g;)AB(h,g),g=md(g.nextSibling)}if(kB(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var S=h.data;if(S==="/$"){if(g===0){os=md(h.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}h=h.nextSibling}os=null}}else os=is?md(h.stateNode.nextSibling):null;return!0}function IB(){for(var h=os;h;)h=md(h.nextSibling)}function Gg(){os=is=null,ar=!1}function Ok(h){ba===null?ba=[h]:ba.push(h)}var Cae=C.ReactCurrentBatchConfig;function I0(h,g,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(n(309));var N=S.stateNode}if(!N)throw Error(n(147,h));var B=N,H=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===H?g.ref:(g=function(ne){var ye=B.refs;ne===null?delete ye[H]:ye[H]=ne},g._stringRef=H,g)}if(typeof h!="string")throw Error(n(284));if(!S._owner)throw Error(n(290,h))}return h}function nE(h,g){throw h=Object.prototype.toString.call(g),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function PB(h){var g=h._init;return g(h._payload)}function MB(h){function g(ke,Te){if(h){var Pe=ke.deletions;Pe===null?(ke.deletions=[Te],ke.flags|=16):Pe.push(Te)}}function S(ke,Te){if(!h)return null;for(;Te!==null;)g(ke,Te),Te=Te.sibling;return null}function N(ke,Te){for(ke=new Map;Te!==null;)Te.key!==null?ke.set(Te.key,Te):ke.set(Te.index,Te),Te=Te.sibling;return ke}function B(ke,Te){return ke=Ad(ke,Te),ke.index=0,ke.sibling=null,ke}function H(ke,Te,Pe){return ke.index=Pe,h?(Pe=ke.alternate,Pe!==null?(Pe=Pe.index,Pe<Te?(ke.flags|=2,Te):Pe):(ke.flags|=2,Te)):(ke.flags|=1048576,Te)}function ne(ke){return h&&ke.alternate===null&&(ke.flags|=2),ke}function ye(ke,Te,Pe,Xe){return Te===null||Te.tag!==6?(Te=AI(Pe,ke.mode,Xe),Te.return=ke,Te):(Te=B(Te,Pe),Te.return=ke,Te)}function Ee(ke,Te,Pe,Xe){var xt=Pe.type;return xt===A?We(ke,Te,Pe.props.children,Xe,Pe.key):Te!==null&&(Te.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===K&&PB(xt)===Te.type)?(Xe=B(Te,Pe.props),Xe.ref=I0(ke,Te,Pe),Xe.return=ke,Xe):(Xe=TE(Pe.type,Pe.key,Pe.props,null,ke.mode,Xe),Xe.ref=I0(ke,Te,Pe),Xe.return=ke,Xe)}function Ne(ke,Te,Pe,Xe){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Pe.containerInfo||Te.stateNode.implementation!==Pe.implementation?(Te=RI(Pe,ke.mode,Xe),Te.return=ke,Te):(Te=B(Te,Pe.children||[]),Te.return=ke,Te)}function We(ke,Te,Pe,Xe,xt){return Te===null||Te.tag!==7?(Te=lh(Pe,ke.mode,Xe,xt),Te.return=ke,Te):(Te=B(Te,Pe),Te.return=ke,Te)}function Ge(ke,Te,Pe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return Te=AI(""+Te,ke.mode,Pe),Te.return=ke,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case k:return Pe=TE(Te.type,Te.key,Te.props,null,ke.mode,Pe),Pe.ref=I0(ke,null,Te),Pe.return=ke,Pe;case D:return Te=RI(Te,ke.mode,Pe),Te.return=ke,Te;case K:var Xe=Te._init;return Ge(ke,Xe(Te._payload),Pe)}if(_e(Te)||J(Te))return Te=lh(Te,ke.mode,Pe,null),Te.return=ke,Te;nE(ke,Te)}return null}function je(ke,Te,Pe,Xe){var xt=Te!==null?Te.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return xt!==null?null:ye(ke,Te,""+Pe,Xe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case k:return Pe.key===xt?Ee(ke,Te,Pe,Xe):null;case D:return Pe.key===xt?Ne(ke,Te,Pe,Xe):null;case K:return xt=Pe._init,je(ke,Te,xt(Pe._payload),Xe)}if(_e(Pe)||J(Pe))return xt!==null?null:We(ke,Te,Pe,Xe,null);nE(ke,Pe)}return null}function ot(ke,Te,Pe,Xe,xt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ke=ke.get(Pe)||null,ye(Te,ke,""+Xe,xt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case k:return ke=ke.get(Xe.key===null?Pe:Xe.key)||null,Ee(Te,ke,Xe,xt);case D:return ke=ke.get(Xe.key===null?Pe:Xe.key)||null,Ne(Te,ke,Xe,xt);case K:var It=Xe._init;return ot(ke,Te,Pe,It(Xe._payload),xt)}if(_e(Xe)||J(Xe))return ke=ke.get(Pe)||null,We(Te,ke,Xe,xt,null);nE(Te,Xe)}return null}function ht(ke,Te,Pe,Xe){for(var xt=null,It=null,Pt=Te,Bt=Te=0,ci=null;Pt!==null&&Bt<Pe.length;Bt++){Pt.index>Bt?(ci=Pt,Pt=null):ci=Pt.sibling;var Cn=je(ke,Pt,Pe[Bt],Xe);if(Cn===null){Pt===null&&(Pt=ci);break}h&&Pt&&Cn.alternate===null&&g(ke,Pt),Te=H(Cn,Te,Bt),It===null?xt=Cn:It.sibling=Cn,It=Cn,Pt=ci}if(Bt===Pe.length)return S(ke,Pt),ar&&eh(ke,Bt),xt;if(Pt===null){for(;Bt<Pe.length;Bt++)Pt=Ge(ke,Pe[Bt],Xe),Pt!==null&&(Te=H(Pt,Te,Bt),It===null?xt=Pt:It.sibling=Pt,It=Pt);return ar&&eh(ke,Bt),xt}for(Pt=N(ke,Pt);Bt<Pe.length;Bt++)ci=ot(Pt,ke,Bt,Pe[Bt],Xe),ci!==null&&(h&&ci.alternate!==null&&Pt.delete(ci.key===null?Bt:ci.key),Te=H(ci,Te,Bt),It===null?xt=ci:It.sibling=ci,It=ci);return h&&Pt.forEach(function(Rd){return g(ke,Rd)}),ar&&eh(ke,Bt),xt}function bt(ke,Te,Pe,Xe){var xt=J(Pe);if(typeof xt!="function")throw Error(n(150));if(Pe=xt.call(Pe),Pe==null)throw Error(n(151));for(var It=xt=null,Pt=Te,Bt=Te=0,ci=null,Cn=Pe.next();Pt!==null&&!Cn.done;Bt++,Cn=Pe.next()){Pt.index>Bt?(ci=Pt,Pt=null):ci=Pt.sibling;var Rd=je(ke,Pt,Cn.value,Xe);if(Rd===null){Pt===null&&(Pt=ci);break}h&&Pt&&Rd.alternate===null&&g(ke,Pt),Te=H(Rd,Te,Bt),It===null?xt=Rd:It.sibling=Rd,It=Rd,Pt=ci}if(Cn.done)return S(ke,Pt),ar&&eh(ke,Bt),xt;if(Pt===null){for(;!Cn.done;Bt++,Cn=Pe.next())Cn=Ge(ke,Cn.value,Xe),Cn!==null&&(Te=H(Cn,Te,Bt),It===null?xt=Cn:It.sibling=Cn,It=Cn);return ar&&eh(ke,Bt),xt}for(Pt=N(ke,Pt);!Cn.done;Bt++,Cn=Pe.next())Cn=ot(Pt,ke,Bt,Cn.value,Xe),Cn!==null&&(h&&Cn.alternate!==null&&Pt.delete(Cn.key===null?Bt:Cn.key),Te=H(Cn,Te,Bt),It===null?xt=Cn:It.sibling=Cn,It=Cn);return h&&Pt.forEach(function(ile){return g(ke,ile)}),ar&&eh(ke,Bt),xt}function Rr(ke,Te,Pe,Xe){if(typeof Pe=="object"&&Pe!==null&&Pe.type===A&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case k:e:{for(var xt=Pe.key,It=Te;It!==null;){if(It.key===xt){if(xt=Pe.type,xt===A){if(It.tag===7){S(ke,It.sibling),Te=B(It,Pe.props.children),Te.return=ke,ke=Te;break e}}else if(It.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===K&&PB(xt)===It.type){S(ke,It.sibling),Te=B(It,Pe.props),Te.ref=I0(ke,It,Pe),Te.return=ke,ke=Te;break e}S(ke,It);break}else g(ke,It);It=It.sibling}Pe.type===A?(Te=lh(Pe.props.children,ke.mode,Xe,Pe.key),Te.return=ke,ke=Te):(Xe=TE(Pe.type,Pe.key,Pe.props,null,ke.mode,Xe),Xe.ref=I0(ke,Te,Pe),Xe.return=ke,ke=Xe)}return ne(ke);case D:e:{for(It=Pe.key;Te!==null;){if(Te.key===It)if(Te.tag===4&&Te.stateNode.containerInfo===Pe.containerInfo&&Te.stateNode.implementation===Pe.implementation){S(ke,Te.sibling),Te=B(Te,Pe.children||[]),Te.return=ke,ke=Te;break e}else{S(ke,Te);break}else g(ke,Te);Te=Te.sibling}Te=RI(Pe,ke.mode,Xe),Te.return=ke,ke=Te}return ne(ke);case K:return It=Pe._init,Rr(ke,Te,It(Pe._payload),Xe)}if(_e(Pe))return ht(ke,Te,Pe,Xe);if(J(Pe))return bt(ke,Te,Pe,Xe);nE(ke,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,Te!==null&&Te.tag===6?(S(ke,Te.sibling),Te=B(Te,Pe),Te.return=ke,ke=Te):(S(ke,Te),Te=AI(Pe,ke.mode,Xe),Te.return=ke,ke=Te),ne(ke)):S(ke,Te)}return Rr}var Kg=MB(!0),NB=MB(!1),rE=yd(null),iE=null,Yg=null,Fk=null;function $k(){Fk=Yg=iE=null}function Bk(h){var g=rE.current;nr(rE),h._currentValue=g}function zk(h,g,S){for(;h!==null;){var N=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),h===S)break;h=h.return}}function Xg(h,g){iE=h,Fk=Yg=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(To=!0),h.firstContext=null)}function Fs(h){var g=h._currentValue;if(Fk!==h)if(h={context:h,memoizedValue:g,next:null},Yg===null){if(iE===null)throw Error(n(308));Yg=h,iE.dependencies={lanes:0,firstContext:h}}else Yg=Yg.next=h;return g}var th=null;function Vk(h){th===null?th=[h]:th.push(h)}function DB(h,g,S,N){var B=g.interleaved;return B===null?(S.next=S,Vk(g)):(S.next=B.next,B.next=S),g.interleaved=S,$u(h,N)}function $u(h,g){h.lanes|=g;var S=h.alternate;for(S!==null&&(S.lanes|=g),S=h,h=h.return;h!==null;)h.childLanes|=g,S=h.alternate,S!==null&&(S.childLanes|=g),S=h,h=h.return;return S.tag===3?S.stateNode:null}var wd=!1;function Uk(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LB(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Bu(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function _d(h,g,S){var N=h.updateQueue;if(N===null)return null;if(N=N.shared,(En&2)!==0){var B=N.pending;return B===null?g.next=g:(g.next=B.next,B.next=g),N.pending=g,$u(h,S)}return B=N.interleaved,B===null?(g.next=g,Vk(N)):(g.next=B.next,B.next=g),N.interleaved=g,$u(h,S)}function oE(h,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var N=g.lanes;N&=h.pendingLanes,S|=N,g.lanes=S,cd(h,S)}}function OB(h,g){var S=h.updateQueue,N=h.alternate;if(N!==null&&(N=N.updateQueue,S===N)){var B=null,H=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};H===null?B=H=ne:H=H.next=ne,S=S.next}while(S!==null);H===null?B=H=g:H=H.next=g}else B=H=g;S={baseState:N.baseState,firstBaseUpdate:B,lastBaseUpdate:H,shared:N.shared,effects:N.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=g:h.next=g,S.lastBaseUpdate=g}function sE(h,g,S,N){var B=h.updateQueue;wd=!1;var H=B.firstBaseUpdate,ne=B.lastBaseUpdate,ye=B.shared.pending;if(ye!==null){B.shared.pending=null;var Ee=ye,Ne=Ee.next;Ee.next=null,ne===null?H=Ne:ne.next=Ne,ne=Ee;var We=h.alternate;We!==null&&(We=We.updateQueue,ye=We.lastBaseUpdate,ye!==ne&&(ye===null?We.firstBaseUpdate=Ne:ye.next=Ne,We.lastBaseUpdate=Ee))}if(H!==null){var Ge=B.baseState;ne=0,We=Ne=Ee=null,ye=H;do{var je=ye.lane,ot=ye.eventTime;if((N&je)===je){We!==null&&(We=We.next={eventTime:ot,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var ht=h,bt=ye;switch(je=g,ot=S,bt.tag){case 1:if(ht=bt.payload,typeof ht=="function"){Ge=ht.call(ot,Ge,je);break e}Ge=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=bt.payload,je=typeof ht=="function"?ht.call(ot,Ge,je):ht,je==null)break e;Ge=G({},Ge,je);break e;case 2:wd=!0}}ye.callback!==null&&ye.lane!==0&&(h.flags|=64,je=B.effects,je===null?B.effects=[ye]:je.push(ye))}else ot={eventTime:ot,lane:je,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},We===null?(Ne=We=ot,Ee=Ge):We=We.next=ot,ne|=je;if(ye=ye.next,ye===null){if(ye=B.shared.pending,ye===null)break;je=ye,ye=je.next,je.next=null,B.lastBaseUpdate=je,B.shared.pending=null}}while(!0);if(We===null&&(Ee=Ge),B.baseState=Ee,B.firstBaseUpdate=Ne,B.lastBaseUpdate=We,g=B.shared.interleaved,g!==null){B=g;do ne|=B.lane,B=B.next;while(B!==g)}else H===null&&(B.shared.lanes=0);ih|=ne,h.lanes=ne,h.memoizedState=Ge}}function FB(h,g,S){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var N=h[g],B=N.callback;if(B!==null){if(N.callback=null,N=S,typeof B!="function")throw Error(n(191,B));B.call(N)}}}var P0={},_l=yd(P0),M0=yd(P0),N0=yd(P0);function nh(h){if(h===P0)throw Error(n(174));return h}function Hk(h,g){switch(Xn(N0,g),Xn(M0,h),Xn(_l,P0),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Me(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=Me(g,h)}nr(_l),Xn(_l,g)}function Jg(){nr(_l),nr(M0),nr(N0)}function $B(h){nh(N0.current);var g=nh(_l.current),S=Me(g,h.type);g!==S&&(Xn(M0,h),Xn(_l,S))}function qk(h){M0.current===h&&(nr(_l),nr(M0))}var gr=yd(0);function aE(h){for(var g=h;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var jk=[];function Wk(){for(var h=0;h<jk.length;h++)jk[h]._workInProgressVersionPrimary=null;jk.length=0}var lE=C.ReactCurrentDispatcher,Gk=C.ReactCurrentBatchConfig,rh=0,mr=null,Xr=null,li=null,uE=!1,D0=!1,L0=0,Tae=0;function Li(){throw Error(n(321))}function Kk(h,g){if(g===null)return!1;for(var S=0;S<g.length&&S<h.length;S++)if(!va(h[S],g[S]))return!1;return!0}function Yk(h,g,S,N,B,H){if(rh=H,mr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,lE.current=h===null||h.memoizedState===null?Iae:Pae,h=S(N,B),D0){H=0;do{if(D0=!1,L0=0,25<=H)throw Error(n(301));H+=1,li=Xr=null,g.updateQueue=null,lE.current=Mae,h=S(N,B)}while(D0)}if(lE.current=fE,g=Xr!==null&&Xr.next!==null,rh=0,li=Xr=mr=null,uE=!1,g)throw Error(n(300));return h}function Xk(){var h=L0!==0;return L0=0,h}function xl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?mr.memoizedState=li=h:li=li.next=h,li}function $s(){if(Xr===null){var h=mr.alternate;h=h!==null?h.memoizedState:null}else h=Xr.next;var g=li===null?mr.memoizedState:li.next;if(g!==null)li=g,Xr=h;else{if(h===null)throw Error(n(310));Xr=h,h={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},li===null?mr.memoizedState=li=h:li=li.next=h}return li}function O0(h,g){return typeof g=="function"?g(h):g}function Jk(h){var g=$s(),S=g.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=h;var N=Xr,B=N.baseQueue,H=S.pending;if(H!==null){if(B!==null){var ne=B.next;B.next=H.next,H.next=ne}N.baseQueue=B=H,S.pending=null}if(B!==null){H=B.next,N=N.baseState;var ye=ne=null,Ee=null,Ne=H;do{var We=Ne.lane;if((rh&We)===We)Ee!==null&&(Ee=Ee.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),N=Ne.hasEagerState?Ne.eagerState:h(N,Ne.action);else{var Ge={lane:We,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};Ee===null?(ye=Ee=Ge,ne=N):Ee=Ee.next=Ge,mr.lanes|=We,ih|=We}Ne=Ne.next}while(Ne!==null&&Ne!==H);Ee===null?ne=N:Ee.next=ye,va(N,g.memoizedState)||(To=!0),g.memoizedState=N,g.baseState=ne,g.baseQueue=Ee,S.lastRenderedState=N}if(h=S.interleaved,h!==null){B=h;do H=B.lane,mr.lanes|=H,ih|=H,B=B.next;while(B!==h)}else B===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function Qk(h){var g=$s(),S=g.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=h;var N=S.dispatch,B=S.pending,H=g.memoizedState;if(B!==null){S.pending=null;var ne=B=B.next;do H=h(H,ne.action),ne=ne.next;while(ne!==B);va(H,g.memoizedState)||(To=!0),g.memoizedState=H,g.baseQueue===null&&(g.baseState=H),S.lastRenderedState=H}return[H,N]}function BB(){}function zB(h,g){var S=mr,N=$s(),B=g(),H=!va(N.memoizedState,B);if(H&&(N.memoizedState=B,To=!0),N=N.queue,Zk(HB.bind(null,S,N,h),[h]),N.getSnapshot!==g||H||li!==null&&li.memoizedState.tag&1){if(S.flags|=2048,F0(9,UB.bind(null,S,N,B,g),void 0,null),ui===null)throw Error(n(349));(rh&30)!==0||VB(S,g,B)}return B}function VB(h,g,S){h.flags|=16384,h={getSnapshot:g,value:S},g=mr.updateQueue,g===null?(g={lastEffect:null,stores:null},mr.updateQueue=g,g.stores=[h]):(S=g.stores,S===null?g.stores=[h]:S.push(h))}function UB(h,g,S,N){g.value=S,g.getSnapshot=N,qB(g)&&jB(h)}function HB(h,g,S){return S(function(){qB(g)&&jB(h)})}function qB(h){var g=h.getSnapshot;h=h.value;try{var S=g();return!va(h,S)}catch{return!0}}function jB(h){var g=$u(h,1);g!==null&&Ea(g,h,1,-1)}function WB(h){var g=xl();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:h},g.queue=h,h=h.dispatch=kae.bind(null,mr,h),[g.memoizedState,h]}function F0(h,g,S,N){return h={tag:h,create:g,destroy:S,deps:N,next:null},g=mr.updateQueue,g===null?(g={lastEffect:null,stores:null},mr.updateQueue=g,g.lastEffect=h.next=h):(S=g.lastEffect,S===null?g.lastEffect=h.next=h:(N=S.next,S.next=h,h.next=N,g.lastEffect=h)),h}function GB(){return $s().memoizedState}function cE(h,g,S,N){var B=xl();mr.flags|=h,B.memoizedState=F0(1|g,S,void 0,N===void 0?null:N)}function dE(h,g,S,N){var B=$s();N=N===void 0?null:N;var H=void 0;if(Xr!==null){var ne=Xr.memoizedState;if(H=ne.destroy,N!==null&&Kk(N,ne.deps)){B.memoizedState=F0(g,S,H,N);return}}mr.flags|=h,B.memoizedState=F0(1|g,S,H,N)}function KB(h,g){return cE(8390656,8,h,g)}function Zk(h,g){return dE(2048,8,h,g)}function YB(h,g){return dE(4,2,h,g)}function XB(h,g){return dE(4,4,h,g)}function JB(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function QB(h,g,S){return S=S!=null?S.concat([h]):null,dE(4,4,JB.bind(null,g,h),S)}function eI(){}function ZB(h,g){var S=$s();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&Kk(g,N[1])?N[0]:(S.memoizedState=[h,g],h)}function ez(h,g){var S=$s();g=g===void 0?null:g;var N=S.memoizedState;return N!==null&&g!==null&&Kk(g,N[1])?N[0]:(h=h(),S.memoizedState=[h,g],h)}function tz(h,g,S){return(rh&21)===0?(h.baseState&&(h.baseState=!1,To=!0),h.memoizedState=S):(va(S,g)||(S=ku(),mr.lanes|=S,ih|=S,h.baseState=!0),g)}function Aae(h,g){var S=fn;fn=S!==0&&4>S?S:4,h(!0);var N=Gk.transition;Gk.transition={};try{h(!1),g()}finally{fn=S,Gk.transition=N}}function nz(){return $s().memoizedState}function Rae(h,g,S){var N=Cd(h);if(S={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null},rz(h))iz(g,S);else if(S=DB(h,g,S,N),S!==null){var B=so();Ea(S,h,N,B),oz(S,g,N)}}function kae(h,g,S){var N=Cd(h),B={lane:N,action:S,hasEagerState:!1,eagerState:null,next:null};if(rz(h))iz(g,B);else{var H=h.alternate;if(h.lanes===0&&(H===null||H.lanes===0)&&(H=g.lastRenderedReducer,H!==null))try{var ne=g.lastRenderedState,ye=H(ne,S);if(B.hasEagerState=!0,B.eagerState=ye,va(ye,ne)){var Ee=g.interleaved;Ee===null?(B.next=B,Vk(g)):(B.next=Ee.next,Ee.next=B),g.interleaved=B;return}}catch{}finally{}S=DB(h,g,B,N),S!==null&&(B=so(),Ea(S,h,N,B),oz(S,g,N))}}function rz(h){var g=h.alternate;return h===mr||g!==null&&g===mr}function iz(h,g){D0=uE=!0;var S=h.pending;S===null?g.next=g:(g.next=S.next,S.next=g),h.pending=g}function oz(h,g,S){if((S&4194240)!==0){var N=g.lanes;N&=h.pendingLanes,S|=N,g.lanes=S,cd(h,S)}}var fE={readContext:Fs,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},Iae={readContext:Fs,useCallback:function(h,g){return xl().memoizedState=[h,g===void 0?null:g],h},useContext:Fs,useEffect:KB,useImperativeHandle:function(h,g,S){return S=S!=null?S.concat([h]):null,cE(4194308,4,JB.bind(null,g,h),S)},useLayoutEffect:function(h,g){return cE(4194308,4,h,g)},useInsertionEffect:function(h,g){return cE(4,2,h,g)},useMemo:function(h,g){var S=xl();return g=g===void 0?null:g,h=h(),S.memoizedState=[h,g],h},useReducer:function(h,g,S){var N=xl();return g=S!==void 0?S(g):g,N.memoizedState=N.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},N.queue=h,h=h.dispatch=Rae.bind(null,mr,h),[N.memoizedState,h]},useRef:function(h){var g=xl();return h={current:h},g.memoizedState=h},useState:WB,useDebugValue:eI,useDeferredValue:function(h){return xl().memoizedState=h},useTransition:function(){var h=WB(!1),g=h[0];return h=Aae.bind(null,h[1]),xl().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,S){var N=mr,B=xl();if(ar){if(S===void 0)throw Error(n(407));S=S()}else{if(S=g(),ui===null)throw Error(n(349));(rh&30)!==0||VB(N,g,S)}B.memoizedState=S;var H={value:S,getSnapshot:g};return B.queue=H,KB(HB.bind(null,N,H,h),[h]),N.flags|=2048,F0(9,UB.bind(null,N,H,S,g),void 0,null),S},useId:function(){var h=xl(),g=ui.identifierPrefix;if(ar){var S=Fu,N=Ou;S=(N&~(1<<32-gi(N)-1)).toString(32)+S,g=":"+g+"R"+S,S=L0++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=Tae++,g=":"+g+"r"+S.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},Pae={readContext:Fs,useCallback:ZB,useContext:Fs,useEffect:Zk,useImperativeHandle:QB,useInsertionEffect:YB,useLayoutEffect:XB,useMemo:ez,useReducer:Jk,useRef:GB,useState:function(){return Jk(O0)},useDebugValue:eI,useDeferredValue:function(h){var g=$s();return tz(g,Xr.memoizedState,h)},useTransition:function(){var h=Jk(O0)[0],g=$s().memoizedState;return[h,g]},useMutableSource:BB,useSyncExternalStore:zB,useId:nz,unstable_isNewReconciler:!1},Mae={readContext:Fs,useCallback:ZB,useContext:Fs,useEffect:Zk,useImperativeHandle:QB,useInsertionEffect:YB,useLayoutEffect:XB,useMemo:ez,useReducer:Qk,useRef:GB,useState:function(){return Qk(O0)},useDebugValue:eI,useDeferredValue:function(h){var g=$s();return Xr===null?g.memoizedState=h:tz(g,Xr.memoizedState,h)},useTransition:function(){var h=Qk(O0)[0],g=$s().memoizedState;return[h,g]},useMutableSource:BB,useSyncExternalStore:zB,useId:nz,unstable_isNewReconciler:!1};function wa(h,g){if(h&&h.defaultProps){g=G({},g),h=h.defaultProps;for(var S in h)g[S]===void 0&&(g[S]=h[S]);return g}return g}function tI(h,g,S,N){g=h.memoizedState,S=S(N,g),S=S==null?g:G({},g,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var hE={isMounted:function(h){return(h=h._reactInternals)?bo(h)===h:!1},enqueueSetState:function(h,g,S){h=h._reactInternals;var N=so(),B=Cd(h),H=Bu(N,B);H.payload=g,S!=null&&(H.callback=S),g=_d(h,H,B),g!==null&&(Ea(g,h,B,N),oE(g,h,B))},enqueueReplaceState:function(h,g,S){h=h._reactInternals;var N=so(),B=Cd(h),H=Bu(N,B);H.tag=1,H.payload=g,S!=null&&(H.callback=S),g=_d(h,H,B),g!==null&&(Ea(g,h,B,N),oE(g,h,B))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var S=so(),N=Cd(h),B=Bu(S,N);B.tag=2,g!=null&&(B.callback=g),g=_d(h,B,N),g!==null&&(Ea(g,h,N,S),oE(g,h,N))}};function sz(h,g,S,N,B,H,ne){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(N,H,ne):g.prototype&&g.prototype.isPureReactComponent?!E0(S,N)||!E0(B,H):!0}function az(h,g,S){var N=!1,B=vd,H=g.contextType;return typeof H=="object"&&H!==null?H=Fs(H):(B=Co(g)?Qf:Di.current,N=g.contextTypes,H=(N=N!=null)?qg(h,B):vd),g=new g(S,H),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hE,h.stateNode=g,g._reactInternals=h,N&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=B,h.__reactInternalMemoizedMaskedChildContext=H),g}function lz(h,g,S,N){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,N),g.state!==h&&hE.enqueueReplaceState(g,g.state,null)}function nI(h,g,S,N){var B=h.stateNode;B.props=S,B.state=h.memoizedState,B.refs={},Uk(h);var H=g.contextType;typeof H=="object"&&H!==null?B.context=Fs(H):(H=Co(g)?Qf:Di.current,B.context=qg(h,H)),B.state=h.memoizedState,H=g.getDerivedStateFromProps,typeof H=="function"&&(tI(h,g,H,S),B.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&hE.enqueueReplaceState(B,B.state,null),sE(h,S,B,N),B.state=h.memoizedState),typeof B.componentDidMount=="function"&&(h.flags|=4194308)}function Qg(h,g){try{var S="",N=g;do S+=re(N),N=N.return;while(N);var B=S}catch(H){B=`
Error generating stack: `+H.message+`
`+H.stack}return{value:h,source:g,stack:B,digest:null}}function rI(h,g,S){return{value:h,source:null,stack:S??null,digest:g??null}}function iI(h,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var Nae=typeof WeakMap=="function"?WeakMap:Map;function uz(h,g,S){S=Bu(-1,S),S.tag=3,S.payload={element:null};var N=g.value;return S.callback=function(){wE||(wE=!0,bI=N),iI(h,g)},S}function cz(h,g,S){S=Bu(-1,S),S.tag=3;var N=h.type.getDerivedStateFromError;if(typeof N=="function"){var B=g.value;S.payload=function(){return N(B)},S.callback=function(){iI(h,g)}}var H=h.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(S.callback=function(){iI(h,g),typeof N!="function"&&(Ed===null?Ed=new Set([this]):Ed.add(this));var ne=g.stack;this.componentDidCatch(g.value,{componentStack:ne!==null?ne:""})}),S}function dz(h,g,S){var N=h.pingCache;if(N===null){N=h.pingCache=new Nae;var B=new Set;N.set(g,B)}else B=N.get(g),B===void 0&&(B=new Set,N.set(g,B));B.has(S)||(B.add(S),h=Gae.bind(null,h,g,S),g.then(h,h))}function fz(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function hz(h,g,S,N,B){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Bu(-1,1),g.tag=2,_d(S,g,1))),S.lanes|=1),h):(h.flags|=65536,h.lanes=B,h)}var Dae=C.ReactCurrentOwner,To=!1;function oo(h,g,S,N){g.child=h===null?NB(g,null,S,N):Kg(g,h.child,S,N)}function pz(h,g,S,N,B){S=S.render;var H=g.ref;return Xg(g,B),N=Yk(h,g,S,N,H,B),S=Xk(),h!==null&&!To?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~B,zu(h,g,B)):(ar&&S&&Mk(g),g.flags|=1,oo(h,g,N,B),g.child)}function gz(h,g,S,N,B){if(h===null){var H=S.type;return typeof H=="function"&&!TI(H)&&H.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=H,mz(h,g,H,N,B)):(h=TE(S.type,null,N,g,g.mode,B),h.ref=g.ref,h.return=g,g.child=h)}if(H=h.child,(h.lanes&B)===0){var ne=H.memoizedProps;if(S=S.compare,S=S!==null?S:E0,S(ne,N)&&h.ref===g.ref)return zu(h,g,B)}return g.flags|=1,h=Ad(H,N),h.ref=g.ref,h.return=g,g.child=h}function mz(h,g,S,N,B){if(h!==null){var H=h.memoizedProps;if(E0(H,N)&&h.ref===g.ref)if(To=!1,g.pendingProps=N=H,(h.lanes&B)!==0)(h.flags&131072)!==0&&(To=!0);else return g.lanes=h.lanes,zu(h,g,B)}return oI(h,g,S,N,B)}function yz(h,g,S){var N=g.pendingProps,B=N.children,H=h!==null?h.memoizedState:null;if(N.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn(em,ss),ss|=S;else{if((S&1073741824)===0)return h=H!==null?H.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Xn(em,ss),ss|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=H!==null?H.baseLanes:S,Xn(em,ss),ss|=N}else H!==null?(N=H.baseLanes|S,g.memoizedState=null):N=S,Xn(em,ss),ss|=N;return oo(h,g,B,S),g.child}function vz(h,g){var S=g.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function oI(h,g,S,N,B){var H=Co(S)?Qf:Di.current;return H=qg(g,H),Xg(g,B),S=Yk(h,g,S,N,H,B),N=Xk(),h!==null&&!To?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~B,zu(h,g,B)):(ar&&N&&Mk(g),g.flags|=1,oo(h,g,S,B),g.child)}function bz(h,g,S,N,B){if(Co(S)){var H=!0;J1(g)}else H=!1;if(Xg(g,B),g.stateNode===null)gE(h,g),az(g,S,N),nI(g,S,N,B),N=!0;else if(h===null){var ne=g.stateNode,ye=g.memoizedProps;ne.props=ye;var Ee=ne.context,Ne=S.contextType;typeof Ne=="object"&&Ne!==null?Ne=Fs(Ne):(Ne=Co(S)?Qf:Di.current,Ne=qg(g,Ne));var We=S.getDerivedStateFromProps,Ge=typeof We=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Ge||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ye!==N||Ee!==Ne)&&lz(g,ne,N,Ne),wd=!1;var je=g.memoizedState;ne.state=je,sE(g,N,ne,B),Ee=g.memoizedState,ye!==N||je!==Ee||So.current||wd?(typeof We=="function"&&(tI(g,S,We,N),Ee=g.memoizedState),(ye=wd||sz(g,S,ye,N,je,Ee,Ne))?(Ge||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=Ee),ne.props=N,ne.state=Ee,ne.context=Ne,N=ye):(typeof ne.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{ne=g.stateNode,LB(h,g),ye=g.memoizedProps,Ne=g.type===g.elementType?ye:wa(g.type,ye),ne.props=Ne,Ge=g.pendingProps,je=ne.context,Ee=S.contextType,typeof Ee=="object"&&Ee!==null?Ee=Fs(Ee):(Ee=Co(S)?Qf:Di.current,Ee=qg(g,Ee));var ot=S.getDerivedStateFromProps;(We=typeof ot=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ye!==Ge||je!==Ee)&&lz(g,ne,N,Ee),wd=!1,je=g.memoizedState,ne.state=je,sE(g,N,ne,B);var ht=g.memoizedState;ye!==Ge||je!==ht||So.current||wd?(typeof ot=="function"&&(tI(g,S,ot,N),ht=g.memoizedState),(Ne=wd||sz(g,S,Ne,N,je,ht,Ee)||!1)?(We||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(N,ht,Ee),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(N,ht,Ee)),typeof ne.componentDidUpdate=="function"&&(g.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ne.componentDidUpdate!="function"||ye===h.memoizedProps&&je===h.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ye===h.memoizedProps&&je===h.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=ht),ne.props=N,ne.state=ht,ne.context=Ee,N=Ne):(typeof ne.componentDidUpdate!="function"||ye===h.memoizedProps&&je===h.memoizedState||(g.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ye===h.memoizedProps&&je===h.memoizedState||(g.flags|=1024),N=!1)}return sI(h,g,S,N,H,B)}function sI(h,g,S,N,B,H){vz(h,g);var ne=(g.flags&128)!==0;if(!N&&!ne)return B&&SB(g,S,!1),zu(h,g,H);N=g.stateNode,Dae.current=g;var ye=ne&&typeof S.getDerivedStateFromError!="function"?null:N.render();return g.flags|=1,h!==null&&ne?(g.child=Kg(g,h.child,null,H),g.child=Kg(g,null,ye,H)):oo(h,g,ye,H),g.memoizedState=N.state,B&&SB(g,S,!0),g.child}function wz(h){var g=h.stateNode;g.pendingContext?xB(h,g.pendingContext,g.pendingContext!==g.context):g.context&&xB(h,g.context,!1),Hk(h,g.containerInfo)}function _z(h,g,S,N,B){return Gg(),Ok(B),g.flags|=256,oo(h,g,S,N),g.child}var aI={dehydrated:null,treeContext:null,retryLane:0};function lI(h){return{baseLanes:h,cachePool:null,transitions:null}}function xz(h,g,S){var N=g.pendingProps,B=gr.current,H=!1,ne=(g.flags&128)!==0,ye;if((ye=ne)||(ye=h!==null&&h.memoizedState===null?!1:(B&2)!==0),ye?(H=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(B|=1),Xn(gr,B&1),h===null)return Lk(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(ne=N.children,h=N.fallback,H?(N=g.mode,H=g.child,ne={mode:"hidden",children:ne},(N&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ne):H=AE(ne,N,0,null),h=lh(h,N,S,null),H.return=g,h.return=g,H.sibling=h,g.child=H,g.child.memoizedState=lI(S),g.memoizedState=aI,h):uI(g,ne));if(B=h.memoizedState,B!==null&&(ye=B.dehydrated,ye!==null))return Lae(h,g,ne,N,ye,B,S);if(H){H=N.fallback,ne=g.mode,B=h.child,ye=B.sibling;var Ee={mode:"hidden",children:N.children};return(ne&1)===0&&g.child!==B?(N=g.child,N.childLanes=0,N.pendingProps=Ee,g.deletions=null):(N=Ad(B,Ee),N.subtreeFlags=B.subtreeFlags&14680064),ye!==null?H=Ad(ye,H):(H=lh(H,ne,S,null),H.flags|=2),H.return=g,N.return=g,N.sibling=H,g.child=N,N=H,H=g.child,ne=h.child.memoizedState,ne=ne===null?lI(S):{baseLanes:ne.baseLanes|S,cachePool:null,transitions:ne.transitions},H.memoizedState=ne,H.childLanes=h.childLanes&~S,g.memoizedState=aI,N}return H=h.child,h=H.sibling,N=Ad(H,{mode:"visible",children:N.children}),(g.mode&1)===0&&(N.lanes=S),N.return=g,N.sibling=null,h!==null&&(S=g.deletions,S===null?(g.deletions=[h],g.flags|=16):S.push(h)),g.child=N,g.memoizedState=null,N}function uI(h,g){return g=AE({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function pE(h,g,S,N){return N!==null&&Ok(N),Kg(g,h.child,null,S),h=uI(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function Lae(h,g,S,N,B,H,ne){if(S)return g.flags&256?(g.flags&=-257,N=rI(Error(n(422))),pE(h,g,ne,N)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):(H=N.fallback,B=g.mode,N=AE({mode:"visible",children:N.children},B,0,null),H=lh(H,B,ne,null),H.flags|=2,N.return=g,H.return=g,N.sibling=H,g.child=N,(g.mode&1)!==0&&Kg(g,h.child,null,ne),g.child.memoizedState=lI(ne),g.memoizedState=aI,H);if((g.mode&1)===0)return pE(h,g,ne,null);if(B.data==="$!"){if(N=B.nextSibling&&B.nextSibling.dataset,N)var ye=N.dgst;return N=ye,H=Error(n(419)),N=rI(H,N,void 0),pE(h,g,ne,N)}if(ye=(ne&h.childLanes)!==0,To||ye){if(N=ui,N!==null){switch(ne&-ne){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(N.suspendedLanes|ne))!==0?0:B,B!==0&&B!==H.retryLane&&(H.retryLane=B,$u(h,B),Ea(N,h,B,-1))}return CI(),N=rI(Error(n(421))),pE(h,g,ne,N)}return B.data==="$?"?(g.flags|=128,g.child=h.child,g=Kae.bind(null,h),B._reactRetry=g,null):(h=H.treeContext,os=md(B.nextSibling),is=g,ar=!0,ba=null,h!==null&&(Ls[Os++]=Ou,Ls[Os++]=Fu,Ls[Os++]=Zf,Ou=h.id,Fu=h.overflow,Zf=g),g=uI(g,N.children),g.flags|=4096,g)}function Ez(h,g,S){h.lanes|=g;var N=h.alternate;N!==null&&(N.lanes|=g),zk(h.return,g,S)}function cI(h,g,S,N,B){var H=h.memoizedState;H===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:S,tailMode:B}:(H.isBackwards=g,H.rendering=null,H.renderingStartTime=0,H.last=N,H.tail=S,H.tailMode=B)}function Sz(h,g,S){var N=g.pendingProps,B=N.revealOrder,H=N.tail;if(oo(h,g,N.children,S),N=gr.current,(N&2)!==0)N=N&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Ez(h,S,g);else if(h.tag===19)Ez(h,S,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}N&=1}if(Xn(gr,N),(g.mode&1)===0)g.memoizedState=null;else switch(B){case"forwards":for(S=g.child,B=null;S!==null;)h=S.alternate,h!==null&&aE(h)===null&&(B=S),S=S.sibling;S=B,S===null?(B=g.child,g.child=null):(B=S.sibling,S.sibling=null),cI(g,!1,B,S,H);break;case"backwards":for(S=null,B=g.child,g.child=null;B!==null;){if(h=B.alternate,h!==null&&aE(h)===null){g.child=B;break}h=B.sibling,B.sibling=S,S=B,B=h}cI(g,!0,S,null,H);break;case"together":cI(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function gE(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function zu(h,g,S){if(h!==null&&(g.dependencies=h.dependencies),ih|=g.lanes,(S&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(n(153));if(g.child!==null){for(h=g.child,S=Ad(h,h.pendingProps),g.child=S,S.return=g;h.sibling!==null;)h=h.sibling,S=S.sibling=Ad(h,h.pendingProps),S.return=g;S.sibling=null}return g.child}function Oae(h,g,S){switch(g.tag){case 3:wz(g),Gg();break;case 5:$B(g);break;case 1:Co(g.type)&&J1(g);break;case 4:Hk(g,g.stateNode.containerInfo);break;case 10:var N=g.type._context,B=g.memoizedProps.value;Xn(rE,N._currentValue),N._currentValue=B;break;case 13:if(N=g.memoizedState,N!==null)return N.dehydrated!==null?(Xn(gr,gr.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?xz(h,g,S):(Xn(gr,gr.current&1),h=zu(h,g,S),h!==null?h.sibling:null);Xn(gr,gr.current&1);break;case 19:if(N=(S&g.childLanes)!==0,(h.flags&128)!==0){if(N)return Sz(h,g,S);g.flags|=128}if(B=g.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Xn(gr,gr.current),N)break;return null;case 22:case 23:return g.lanes=0,yz(h,g,S)}return zu(h,g,S)}var Cz,dI,Tz,Az;Cz=function(h,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},dI=function(){},Tz=function(h,g,S,N){var B=h.memoizedProps;if(B!==N){h=g.stateNode,nh(_l.current);var H=null;switch(S){case"input":B=j(h,B),N=j(h,N),H=[];break;case"select":B=G({},B,{value:void 0}),N=G({},N,{value:void 0}),H=[];break;case"textarea":B=we(h,B),N=we(h,N),H=[];break;default:typeof B.onClick!="function"&&typeof N.onClick=="function"&&(h.onclick=K1)}_t(S,N);var ne;S=null;for(Ne in B)if(!N.hasOwnProperty(Ne)&&B.hasOwnProperty(Ne)&&B[Ne]!=null)if(Ne==="style"){var ye=B[Ne];for(ne in ye)ye.hasOwnProperty(ne)&&(S||(S={}),S[ne]="")}else Ne!=="dangerouslySetInnerHTML"&&Ne!=="children"&&Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&Ne!=="autoFocus"&&(i.hasOwnProperty(Ne)?H||(H=[]):(H=H||[]).push(Ne,null));for(Ne in N){var Ee=N[Ne];if(ye=B!=null?B[Ne]:void 0,N.hasOwnProperty(Ne)&&Ee!==ye&&(Ee!=null||ye!=null))if(Ne==="style")if(ye){for(ne in ye)!ye.hasOwnProperty(ne)||Ee&&Ee.hasOwnProperty(ne)||(S||(S={}),S[ne]="");for(ne in Ee)Ee.hasOwnProperty(ne)&&ye[ne]!==Ee[ne]&&(S||(S={}),S[ne]=Ee[ne])}else S||(H||(H=[]),H.push(Ne,S)),S=Ee;else Ne==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,ye=ye?ye.__html:void 0,Ee!=null&&ye!==Ee&&(H=H||[]).push(Ne,Ee)):Ne==="children"?typeof Ee!="string"&&typeof Ee!="number"||(H=H||[]).push(Ne,""+Ee):Ne!=="suppressContentEditableWarning"&&Ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ne)?(Ee!=null&&Ne==="onScroll"&&tr("scroll",h),H||ye===Ee||(H=[])):(H=H||[]).push(Ne,Ee))}S&&(H=H||[]).push("style",S);var Ne=H;(g.updateQueue=Ne)&&(g.flags|=4)}},Az=function(h,g,S,N){S!==N&&(g.flags|=4)};function $0(h,g){if(!ar)switch(h.tailMode){case"hidden":g=h.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:N.sibling=null}}function Oi(h){var g=h.alternate!==null&&h.alternate.child===h.child,S=0,N=0;if(g)for(var B=h.child;B!==null;)S|=B.lanes|B.childLanes,N|=B.subtreeFlags&14680064,N|=B.flags&14680064,B.return=h,B=B.sibling;else for(B=h.child;B!==null;)S|=B.lanes|B.childLanes,N|=B.subtreeFlags,N|=B.flags,B.return=h,B=B.sibling;return h.subtreeFlags|=N,h.childLanes=S,g}function Fae(h,g,S){var N=g.pendingProps;switch(Nk(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(g),null;case 1:return Co(g.type)&&X1(),Oi(g),null;case 3:return N=g.stateNode,Jg(),nr(So),nr(Di),Wk(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(h===null||h.child===null)&&(tE(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,ba!==null&&(xI(ba),ba=null))),dI(h,g),Oi(g),null;case 5:qk(g);var B=nh(N0.current);if(S=g.type,h!==null&&g.stateNode!=null)Tz(h,g,S,N,B),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!N){if(g.stateNode===null)throw Error(n(166));return Oi(g),null}if(h=nh(_l.current),tE(g)){N=g.stateNode,S=g.type;var H=g.memoizedProps;switch(N[wl]=g,N[R0]=H,h=(g.mode&1)!==0,S){case"dialog":tr("cancel",N),tr("close",N);break;case"iframe":case"object":case"embed":tr("load",N);break;case"video":case"audio":for(B=0;B<C0.length;B++)tr(C0[B],N);break;case"source":tr("error",N);break;case"img":case"image":case"link":tr("error",N),tr("load",N);break;case"details":tr("toggle",N);break;case"input":pe(N,H),tr("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!H.multiple},tr("invalid",N);break;case"textarea":Le(N,H),tr("invalid",N)}_t(S,H),B=null;for(var ne in H)if(H.hasOwnProperty(ne)){var ye=H[ne];ne==="children"?typeof ye=="string"?N.textContent!==ye&&(H.suppressHydrationWarning!==!0&&G1(N.textContent,ye,h),B=["children",ye]):typeof ye=="number"&&N.textContent!==""+ye&&(H.suppressHydrationWarning!==!0&&G1(N.textContent,ye,h),B=["children",""+ye]):i.hasOwnProperty(ne)&&ye!=null&&ne==="onScroll"&&tr("scroll",N)}switch(S){case"input":Ce(N),te(N,H,!0);break;case"textarea":Ce(N),Be(N);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(N.onclick=K1)}N=B,g.updateQueue=N,N!==null&&(g.flags|=4)}else{ne=B.nodeType===9?B:B.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=xe(S)),h==="http://www.w3.org/1999/xhtml"?S==="script"?(h=ne.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof N.is=="string"?h=ne.createElement(S,{is:N.is}):(h=ne.createElement(S),S==="select"&&(ne=h,N.multiple?ne.multiple=!0:N.size&&(ne.size=N.size))):h=ne.createElementNS(h,S),h[wl]=g,h[R0]=N,Cz(h,g,!1,!1),g.stateNode=h;e:{switch(ne=on(S,N),S){case"dialog":tr("cancel",h),tr("close",h),B=N;break;case"iframe":case"object":case"embed":tr("load",h),B=N;break;case"video":case"audio":for(B=0;B<C0.length;B++)tr(C0[B],h);B=N;break;case"source":tr("error",h),B=N;break;case"img":case"image":case"link":tr("error",h),tr("load",h),B=N;break;case"details":tr("toggle",h),B=N;break;case"input":pe(h,N),B=j(h,N),tr("invalid",h);break;case"option":B=N;break;case"select":h._wrapperState={wasMultiple:!!N.multiple},B=G({},N,{value:void 0}),tr("invalid",h);break;case"textarea":Le(h,N),B=we(h,N),tr("invalid",h);break;default:B=N}_t(S,B),ye=B;for(H in ye)if(ye.hasOwnProperty(H)){var Ee=ye[H];H==="style"?Yt(h,Ee):H==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&nt(h,Ee)):H==="children"?typeof Ee=="string"?(S!=="textarea"||Ee!=="")&&wt(h,Ee):typeof Ee=="number"&&wt(h,""+Ee):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Ee!=null&&H==="onScroll"&&tr("scroll",h):Ee!=null&&x(h,H,Ee,ne))}switch(S){case"input":Ce(h),te(h,N,!1);break;case"textarea":Ce(h),Be(h);break;case"option":N.value!=null&&h.setAttribute("value",""+ce(N.value));break;case"select":h.multiple=!!N.multiple,H=N.value,H!=null?Ie(h,!!N.multiple,H,!1):N.defaultValue!=null&&Ie(h,!!N.multiple,N.defaultValue,!0);break;default:typeof B.onClick=="function"&&(h.onclick=K1)}switch(S){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Oi(g),null;case 6:if(h&&g.stateNode!=null)Az(h,g,h.memoizedProps,N);else{if(typeof N!="string"&&g.stateNode===null)throw Error(n(166));if(S=nh(N0.current),nh(_l.current),tE(g)){if(N=g.stateNode,S=g.memoizedProps,N[wl]=g,(H=N.nodeValue!==S)&&(h=is,h!==null))switch(h.tag){case 3:G1(N.nodeValue,S,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&G1(N.nodeValue,S,(h.mode&1)!==0)}H&&(g.flags|=4)}else N=(S.nodeType===9?S:S.ownerDocument).createTextNode(N),N[wl]=g,g.stateNode=N}return Oi(g),null;case 13:if(nr(gr),N=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(ar&&os!==null&&(g.mode&1)!==0&&(g.flags&128)===0)IB(),Gg(),g.flags|=98560,H=!1;else if(H=tE(g),N!==null&&N.dehydrated!==null){if(h===null){if(!H)throw Error(n(318));if(H=g.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[wl]=g}else Gg(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Oi(g),H=!1}else ba!==null&&(xI(ba),ba=null),H=!0;if(!H)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):(N=N!==null,N!==(h!==null&&h.memoizedState!==null)&&N&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(gr.current&1)!==0?Jr===0&&(Jr=3):CI())),g.updateQueue!==null&&(g.flags|=4),Oi(g),null);case 4:return Jg(),dI(h,g),h===null&&T0(g.stateNode.containerInfo),Oi(g),null;case 10:return Bk(g.type._context),Oi(g),null;case 17:return Co(g.type)&&X1(),Oi(g),null;case 19:if(nr(gr),H=g.memoizedState,H===null)return Oi(g),null;if(N=(g.flags&128)!==0,ne=H.rendering,ne===null)if(N)$0(H,!1);else{if(Jr!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(ne=aE(h),ne!==null){for(g.flags|=128,$0(H,!1),N=ne.updateQueue,N!==null&&(g.updateQueue=N,g.flags|=4),g.subtreeFlags=0,N=S,S=g.child;S!==null;)H=S,h=N,H.flags&=14680066,ne=H.alternate,ne===null?(H.childLanes=0,H.lanes=h,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ne.childLanes,H.lanes=ne.lanes,H.child=ne.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ne.memoizedProps,H.memoizedState=ne.memoizedState,H.updateQueue=ne.updateQueue,H.type=ne.type,h=ne.dependencies,H.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),S=S.sibling;return Xn(gr,gr.current&1|2),g.child}h=h.sibling}H.tail!==null&&zn()>tm&&(g.flags|=128,N=!0,$0(H,!1),g.lanes=4194304)}else{if(!N)if(h=aE(ne),h!==null){if(g.flags|=128,N=!0,S=h.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),$0(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ne.alternate&&!ar)return Oi(g),null}else 2*zn()-H.renderingStartTime>tm&&S!==1073741824&&(g.flags|=128,N=!0,$0(H,!1),g.lanes=4194304);H.isBackwards?(ne.sibling=g.child,g.child=ne):(S=H.last,S!==null?S.sibling=ne:g.child=ne,H.last=ne)}return H.tail!==null?(g=H.tail,H.rendering=g,H.tail=g.sibling,H.renderingStartTime=zn(),g.sibling=null,S=gr.current,Xn(gr,N?S&1|2:S&1),g):(Oi(g),null);case 22:case 23:return SI(),N=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==N&&(g.flags|=8192),N&&(g.mode&1)!==0?(ss&1073741824)!==0&&(Oi(g),g.subtreeFlags&6&&(g.flags|=8192)):Oi(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function $ae(h,g){switch(Nk(g),g.tag){case 1:return Co(g.type)&&X1(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return Jg(),nr(So),nr(Di),Wk(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return qk(g),null;case 13:if(nr(gr),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(n(340));Gg()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return nr(gr),null;case 4:return Jg(),null;case 10:return Bk(g.type._context),null;case 22:case 23:return SI(),null;case 24:return null;default:return null}}var mE=!1,Fi=!1,Bae=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Zg(h,g){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(N){_r(h,g,N)}else S.current=null}function fI(h,g,S){try{S()}catch(N){_r(h,g,N)}}var Rz=!1;function zae(h,g){if(Sk=hd,h=sB(),mk(h)){if("selectionStart"in h)var S={start:h.selectionStart,end:h.selectionEnd};else e:{S=(S=h.ownerDocument)&&S.defaultView||window;var N=S.getSelection&&S.getSelection();if(N&&N.rangeCount!==0){S=N.anchorNode;var B=N.anchorOffset,H=N.focusNode;N=N.focusOffset;try{S.nodeType,H.nodeType}catch{S=null;break e}var ne=0,ye=-1,Ee=-1,Ne=0,We=0,Ge=h,je=null;t:for(;;){for(var ot;Ge!==S||B!==0&&Ge.nodeType!==3||(ye=ne+B),Ge!==H||N!==0&&Ge.nodeType!==3||(Ee=ne+N),Ge.nodeType===3&&(ne+=Ge.nodeValue.length),(ot=Ge.firstChild)!==null;)je=Ge,Ge=ot;for(;;){if(Ge===h)break t;if(je===S&&++Ne===B&&(ye=ne),je===H&&++We===N&&(Ee=ne),(ot=Ge.nextSibling)!==null)break;Ge=je,je=Ge.parentNode}Ge=ot}S=ye===-1||Ee===-1?null:{start:ye,end:Ee}}else S=null}S=S||{start:0,end:0}}else S=null;for(Ck={focusedElem:h,selectionRange:S},hd=!1,ct=g;ct!==null;)if(g=ct,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,ct=h;else for(;ct!==null;){g=ct;try{var ht=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var bt=ht.memoizedProps,Rr=ht.memoizedState,ke=g.stateNode,Te=ke.getSnapshotBeforeUpdate(g.elementType===g.type?bt:wa(g.type,bt),Rr);ke.__reactInternalSnapshotBeforeUpdate=Te}break;case 3:var Pe=g.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Xe){_r(g,g.return,Xe)}if(h=g.sibling,h!==null){h.return=g.return,ct=h;break}ct=g.return}return ht=Rz,Rz=!1,ht}function B0(h,g,S){var N=g.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var B=N=N.next;do{if((B.tag&h)===h){var H=B.destroy;B.destroy=void 0,H!==void 0&&fI(g,S,H)}B=B.next}while(B!==N)}}function yE(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&h)===h){var N=S.create;S.destroy=N()}S=S.next}while(S!==g)}}function hI(h){var g=h.ref;if(g!==null){var S=h.stateNode;switch(h.tag){case 5:h=S;break;default:h=S}typeof g=="function"?g(h):g.current=h}}function kz(h){var g=h.alternate;g!==null&&(h.alternate=null,kz(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[wl],delete g[R0],delete g[kk],delete g[xae],delete g[Eae])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Iz(h){return h.tag===5||h.tag===3||h.tag===4}function Pz(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Iz(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function pI(h,g,S){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(h,g):S.insertBefore(h,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(h,S)):(g=S,g.appendChild(h)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=K1));else if(N!==4&&(h=h.child,h!==null))for(pI(h,g,S),h=h.sibling;h!==null;)pI(h,g,S),h=h.sibling}function gI(h,g,S){var N=h.tag;if(N===5||N===6)h=h.stateNode,g?S.insertBefore(h,g):S.appendChild(h);else if(N!==4&&(h=h.child,h!==null))for(gI(h,g,S),h=h.sibling;h!==null;)gI(h,g,S),h=h.sibling}var vi=null,_a=!1;function xd(h,g,S){for(S=S.child;S!==null;)Mz(h,g,S),S=S.sibling}function Mz(h,g,S){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(hl,S)}catch{}switch(S.tag){case 5:Fi||Zg(S,g);case 6:var N=vi,B=_a;vi=null,xd(h,g,S),vi=N,_a=B,vi!==null&&(_a?(h=vi,S=S.stateNode,h.nodeType===8?h.parentNode.removeChild(S):h.removeChild(S)):vi.removeChild(S.stateNode));break;case 18:vi!==null&&(_a?(h=vi,S=S.stateNode,h.nodeType===8?Rk(h.parentNode,S):h.nodeType===1&&Rk(h,S),ma(h)):Rk(vi,S.stateNode));break;case 4:N=vi,B=_a,vi=S.stateNode.containerInfo,_a=!0,xd(h,g,S),vi=N,_a=B;break;case 0:case 11:case 14:case 15:if(!Fi&&(N=S.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){B=N=N.next;do{var H=B,ne=H.destroy;H=H.tag,ne!==void 0&&((H&2)!==0||(H&4)!==0)&&fI(S,g,ne),B=B.next}while(B!==N)}xd(h,g,S);break;case 1:if(!Fi&&(Zg(S,g),N=S.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=S.memoizedProps,N.state=S.memoizedState,N.componentWillUnmount()}catch(ye){_r(S,g,ye)}xd(h,g,S);break;case 21:xd(h,g,S);break;case 22:S.mode&1?(Fi=(N=Fi)||S.memoizedState!==null,xd(h,g,S),Fi=N):xd(h,g,S);break;default:xd(h,g,S)}}function Nz(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new Bae),g.forEach(function(N){var B=Yae.bind(null,h,N);S.has(N)||(S.add(N),N.then(B,B))})}}function xa(h,g){var S=g.deletions;if(S!==null)for(var N=0;N<S.length;N++){var B=S[N];try{var H=h,ne=g,ye=ne;e:for(;ye!==null;){switch(ye.tag){case 5:vi=ye.stateNode,_a=!1;break e;case 3:vi=ye.stateNode.containerInfo,_a=!0;break e;case 4:vi=ye.stateNode.containerInfo,_a=!0;break e}ye=ye.return}if(vi===null)throw Error(n(160));Mz(H,ne,B),vi=null,_a=!1;var Ee=B.alternate;Ee!==null&&(Ee.return=null),B.return=null}catch(Ne){_r(B,g,Ne)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)Dz(g,h),g=g.sibling}function Dz(h,g){var S=h.alternate,N=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(xa(g,h),El(h),N&4){try{B0(3,h,h.return),yE(3,h)}catch(bt){_r(h,h.return,bt)}try{B0(5,h,h.return)}catch(bt){_r(h,h.return,bt)}}break;case 1:xa(g,h),El(h),N&512&&S!==null&&Zg(S,S.return);break;case 5:if(xa(g,h),El(h),N&512&&S!==null&&Zg(S,S.return),h.flags&32){var B=h.stateNode;try{wt(B,"")}catch(bt){_r(h,h.return,bt)}}if(N&4&&(B=h.stateNode,B!=null)){var H=h.memoizedProps,ne=S!==null?S.memoizedProps:H,ye=h.type,Ee=h.updateQueue;if(h.updateQueue=null,Ee!==null)try{ye==="input"&&H.type==="radio"&&H.name!=null&&ve(B,H),on(ye,ne);var Ne=on(ye,H);for(ne=0;ne<Ee.length;ne+=2){var We=Ee[ne],Ge=Ee[ne+1];We==="style"?Yt(B,Ge):We==="dangerouslySetInnerHTML"?nt(B,Ge):We==="children"?wt(B,Ge):x(B,We,Ge,Ne)}switch(ye){case"input":se(B,H);break;case"textarea":He(B,H);break;case"select":var je=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!H.multiple;var ot=H.value;ot!=null?Ie(B,!!H.multiple,ot,!1):je!==!!H.multiple&&(H.defaultValue!=null?Ie(B,!!H.multiple,H.defaultValue,!0):Ie(B,!!H.multiple,H.multiple?[]:"",!1))}B[R0]=H}catch(bt){_r(h,h.return,bt)}}break;case 6:if(xa(g,h),El(h),N&4){if(h.stateNode===null)throw Error(n(162));B=h.stateNode,H=h.memoizedProps;try{B.nodeValue=H}catch(bt){_r(h,h.return,bt)}}break;case 3:if(xa(g,h),El(h),N&4&&S!==null&&S.memoizedState.isDehydrated)try{ma(g.containerInfo)}catch(bt){_r(h,h.return,bt)}break;case 4:xa(g,h),El(h);break;case 13:xa(g,h),El(h),B=h.child,B.flags&8192&&(H=B.memoizedState!==null,B.stateNode.isHidden=H,!H||B.alternate!==null&&B.alternate.memoizedState!==null||(vI=zn())),N&4&&Nz(h);break;case 22:if(We=S!==null&&S.memoizedState!==null,h.mode&1?(Fi=(Ne=Fi)||We,xa(g,h),Fi=Ne):xa(g,h),El(h),N&8192){if(Ne=h.memoizedState!==null,(h.stateNode.isHidden=Ne)&&!We&&(h.mode&1)!==0)for(ct=h,We=h.child;We!==null;){for(Ge=ct=We;ct!==null;){switch(je=ct,ot=je.child,je.tag){case 0:case 11:case 14:case 15:B0(4,je,je.return);break;case 1:Zg(je,je.return);var ht=je.stateNode;if(typeof ht.componentWillUnmount=="function"){N=je,S=je.return;try{g=N,ht.props=g.memoizedProps,ht.state=g.memoizedState,ht.componentWillUnmount()}catch(bt){_r(N,S,bt)}}break;case 5:Zg(je,je.return);break;case 22:if(je.memoizedState!==null){Fz(Ge);continue}}ot!==null?(ot.return=je,ct=ot):Fz(Ge)}We=We.sibling}e:for(We=null,Ge=h;;){if(Ge.tag===5){if(We===null){We=Ge;try{B=Ge.stateNode,Ne?(H=B.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(ye=Ge.stateNode,Ee=Ge.memoizedProps.style,ne=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null,ye.style.display=vt("display",ne))}catch(bt){_r(h,h.return,bt)}}}else if(Ge.tag===6){if(We===null)try{Ge.stateNode.nodeValue=Ne?"":Ge.memoizedProps}catch(bt){_r(h,h.return,bt)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===h)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===h)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===h)break e;We===Ge&&(We=null),Ge=Ge.return}We===Ge&&(We=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:xa(g,h),El(h),N&4&&Nz(h);break;case 21:break;default:xa(g,h),El(h)}}function El(h){var g=h.flags;if(g&2){try{e:{for(var S=h.return;S!==null;){if(Iz(S)){var N=S;break e}S=S.return}throw Error(n(160))}switch(N.tag){case 5:var B=N.stateNode;N.flags&32&&(wt(B,""),N.flags&=-33);var H=Pz(h);gI(h,H,B);break;case 3:case 4:var ne=N.stateNode.containerInfo,ye=Pz(h);pI(h,ye,ne);break;default:throw Error(n(161))}}catch(Ee){_r(h,h.return,Ee)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function Vae(h,g,S){ct=h,Lz(h)}function Lz(h,g,S){for(var N=(h.mode&1)!==0;ct!==null;){var B=ct,H=B.child;if(B.tag===22&&N){var ne=B.memoizedState!==null||mE;if(!ne){var ye=B.alternate,Ee=ye!==null&&ye.memoizedState!==null||Fi;ye=mE;var Ne=Fi;if(mE=ne,(Fi=Ee)&&!Ne)for(ct=B;ct!==null;)ne=ct,Ee=ne.child,ne.tag===22&&ne.memoizedState!==null?$z(B):Ee!==null?(Ee.return=ne,ct=Ee):$z(B);for(;H!==null;)ct=H,Lz(H),H=H.sibling;ct=B,mE=ye,Fi=Ne}Oz(h)}else(B.subtreeFlags&8772)!==0&&H!==null?(H.return=B,ct=H):Oz(h)}}function Oz(h){for(;ct!==null;){var g=ct;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Fi||yE(5,g);break;case 1:var N=g.stateNode;if(g.flags&4&&!Fi)if(S===null)N.componentDidMount();else{var B=g.elementType===g.type?S.memoizedProps:wa(g.type,S.memoizedProps);N.componentDidUpdate(B,S.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var H=g.updateQueue;H!==null&&FB(g,H,N);break;case 3:var ne=g.updateQueue;if(ne!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}FB(g,ne,S)}break;case 5:var ye=g.stateNode;if(S===null&&g.flags&4){S=ye;var Ee=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Ee.autoFocus&&S.focus();break;case"img":Ee.src&&(S.src=Ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ne=g.alternate;if(Ne!==null){var We=Ne.memoizedState;if(We!==null){var Ge=We.dehydrated;Ge!==null&&ma(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fi||g.flags&512&&hI(g)}catch(je){_r(g,g.return,je)}}if(g===h){ct=null;break}if(S=g.sibling,S!==null){S.return=g.return,ct=S;break}ct=g.return}}function Fz(h){for(;ct!==null;){var g=ct;if(g===h){ct=null;break}var S=g.sibling;if(S!==null){S.return=g.return,ct=S;break}ct=g.return}}function $z(h){for(;ct!==null;){var g=ct;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{yE(4,g)}catch(Ee){_r(g,S,Ee)}break;case 1:var N=g.stateNode;if(typeof N.componentDidMount=="function"){var B=g.return;try{N.componentDidMount()}catch(Ee){_r(g,B,Ee)}}var H=g.return;try{hI(g)}catch(Ee){_r(g,H,Ee)}break;case 5:var ne=g.return;try{hI(g)}catch(Ee){_r(g,ne,Ee)}}}catch(Ee){_r(g,g.return,Ee)}if(g===h){ct=null;break}var ye=g.sibling;if(ye!==null){ye.return=g.return,ct=ye;break}ct=g.return}}var Uae=Math.ceil,vE=C.ReactCurrentDispatcher,mI=C.ReactCurrentOwner,Bs=C.ReactCurrentBatchConfig,En=0,ui=null,Fr=null,bi=0,ss=0,em=yd(0),Jr=0,z0=null,ih=0,bE=0,yI=0,V0=null,Ao=null,vI=0,tm=1/0,Vu=null,wE=!1,bI=null,Ed=null,_E=!1,Sd=null,xE=0,U0=0,wI=null,EE=-1,SE=0;function so(){return(En&6)!==0?zn():EE!==-1?EE:EE=zn()}function Cd(h){return(h.mode&1)===0?1:(En&2)!==0&&bi!==0?bi&-bi:Cae.transition!==null?(SE===0&&(SE=ku()),SE):(h=fn,h!==0||(h=window.event,h=h===void 0?16:m0(h.type)),h)}function Ea(h,g,S,N){if(50<U0)throw U0=0,wI=null,Error(n(185));ud(h,S,N),((En&2)===0||h!==ui)&&(h===ui&&((En&2)===0&&(bE|=S),Jr===4&&Td(h,bi)),Ro(h,N),S===1&&En===0&&(g.mode&1)===0&&(tm=zn()+500,Q1&&bd()))}function Ro(h,g){var S=h.callbackNode;ts(h,g);var N=Ru(h,h===ui?bi:0);if(N===0)S!==null&&qf(S),h.callbackNode=null,h.callbackPriority=0;else if(g=N&-N,h.callbackPriority!==g){if(S!=null&&qf(S),g===1)h.tag===0?Sae(zz.bind(null,h)):CB(zz.bind(null,h)),wae(function(){(En&6)===0&&bd()}),S=null;else{switch(dd(N)){case 1:S=Au;break;case 4:S=fl;break;case 16:S=_o;break;case 536870912:S=xg;break;default:S=_o}S=Kz(S,Bz.bind(null,h))}h.callbackPriority=g,h.callbackNode=S}}function Bz(h,g){if(EE=-1,SE=0,(En&6)!==0)throw Error(n(327));var S=h.callbackNode;if(nm()&&h.callbackNode!==S)return null;var N=Ru(h,h===ui?bi:0);if(N===0)return null;if((N&30)!==0||(N&h.expiredLanes)!==0||g)g=CE(h,N);else{g=N;var B=En;En|=2;var H=Uz();(ui!==h||bi!==g)&&(Vu=null,tm=zn()+500,sh(h,g));do try{jae();break}catch(ye){Vz(h,ye)}while(!0);$k(),vE.current=H,En=B,Fr!==null?g=0:(ui=null,bi=0,g=Jr)}if(g!==0){if(g===2&&(B=ro(h),B!==0&&(N=B,g=_I(h,B))),g===1)throw S=z0,sh(h,0),Td(h,N),Ro(h,zn()),S;if(g===6)Td(h,N);else{if(B=h.current.alternate,(N&30)===0&&!Hae(B)&&(g=CE(h,N),g===2&&(H=ro(h),H!==0&&(N=H,g=_I(h,H))),g===1))throw S=z0,sh(h,0),Td(h,N),Ro(h,zn()),S;switch(h.finishedWork=B,h.finishedLanes=N,g){case 0:case 1:throw Error(n(345));case 2:ah(h,Ao,Vu);break;case 3:if(Td(h,N),(N&130023424)===N&&(g=vI+500-zn(),10<g)){if(Ru(h,0)!==0)break;if(B=h.suspendedLanes,(B&N)!==N){so(),h.pingedLanes|=h.suspendedLanes&B;break}h.timeoutHandle=Ak(ah.bind(null,h,Ao,Vu),g);break}ah(h,Ao,Vu);break;case 4:if(Td(h,N),(N&4194240)===N)break;for(g=h.eventTimes,B=-1;0<N;){var ne=31-gi(N);H=1<<ne,ne=g[ne],ne>B&&(B=ne),N&=~H}if(N=B,N=zn()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*Uae(N/1960))-N,10<N){h.timeoutHandle=Ak(ah.bind(null,h,Ao,Vu),N);break}ah(h,Ao,Vu);break;case 5:ah(h,Ao,Vu);break;default:throw Error(n(329))}}}return Ro(h,zn()),h.callbackNode===S?Bz.bind(null,h):null}function _I(h,g){var S=V0;return h.current.memoizedState.isDehydrated&&(sh(h,g).flags|=256),h=CE(h,g),h!==2&&(g=Ao,Ao=S,g!==null&&xI(g)),h}function xI(h){Ao===null?Ao=h:Ao.push.apply(Ao,h)}function Hae(h){for(var g=h;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var N=0;N<S.length;N++){var B=S[N],H=B.getSnapshot;B=B.value;try{if(!va(H(),B))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Td(h,g){for(g&=~yI,g&=~bE,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var S=31-gi(g),N=1<<S;h[S]=-1,g&=~N}}function zz(h){if((En&6)!==0)throw Error(n(327));nm();var g=Ru(h,0);if((g&1)===0)return Ro(h,zn()),null;var S=CE(h,g);if(h.tag!==0&&S===2){var N=ro(h);N!==0&&(g=N,S=_I(h,N))}if(S===1)throw S=z0,sh(h,0),Td(h,g),Ro(h,zn()),S;if(S===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,ah(h,Ao,Vu),Ro(h,zn()),null}function EI(h,g){var S=En;En|=1;try{return h(g)}finally{En=S,En===0&&(tm=zn()+500,Q1&&bd())}}function oh(h){Sd!==null&&Sd.tag===0&&(En&6)===0&&nm();var g=En;En|=1;var S=Bs.transition,N=fn;try{if(Bs.transition=null,fn=1,h)return h()}finally{fn=N,Bs.transition=S,En=g,(En&6)===0&&bd()}}function SI(){ss=em.current,nr(em)}function sh(h,g){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==-1&&(h.timeoutHandle=-1,bae(S)),Fr!==null)for(S=Fr.return;S!==null;){var N=S;switch(Nk(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&X1();break;case 3:Jg(),nr(So),nr(Di),Wk();break;case 5:qk(N);break;case 4:Jg();break;case 13:nr(gr);break;case 19:nr(gr);break;case 10:Bk(N.type._context);break;case 22:case 23:SI()}S=S.return}if(ui=h,Fr=h=Ad(h.current,null),bi=ss=g,Jr=0,z0=null,yI=bE=ih=0,Ao=V0=null,th!==null){for(g=0;g<th.length;g++)if(S=th[g],N=S.interleaved,N!==null){S.interleaved=null;var B=N.next,H=S.pending;if(H!==null){var ne=H.next;H.next=B,N.next=ne}S.pending=N}th=null}return h}function Vz(h,g){do{var S=Fr;try{if($k(),lE.current=fE,uE){for(var N=mr.memoizedState;N!==null;){var B=N.queue;B!==null&&(B.pending=null),N=N.next}uE=!1}if(rh=0,li=Xr=mr=null,D0=!1,L0=0,mI.current=null,S===null||S.return===null){Jr=1,z0=g,Fr=null;break}e:{var H=h,ne=S.return,ye=S,Ee=g;if(g=bi,ye.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ne=Ee,We=ye,Ge=We.tag;if((We.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var je=We.alternate;je?(We.updateQueue=je.updateQueue,We.memoizedState=je.memoizedState,We.lanes=je.lanes):(We.updateQueue=null,We.memoizedState=null)}var ot=fz(ne);if(ot!==null){ot.flags&=-257,hz(ot,ne,ye,H,g),ot.mode&1&&dz(H,Ne,g),g=ot,Ee=Ne;var ht=g.updateQueue;if(ht===null){var bt=new Set;bt.add(Ee),g.updateQueue=bt}else ht.add(Ee);break e}else{if((g&1)===0){dz(H,Ne,g),CI();break e}Ee=Error(n(426))}}else if(ar&&ye.mode&1){var Rr=fz(ne);if(Rr!==null){(Rr.flags&65536)===0&&(Rr.flags|=256),hz(Rr,ne,ye,H,g),Ok(Qg(Ee,ye));break e}}H=Ee=Qg(Ee,ye),Jr!==4&&(Jr=2),V0===null?V0=[H]:V0.push(H),H=ne;do{switch(H.tag){case 3:H.flags|=65536,g&=-g,H.lanes|=g;var ke=uz(H,Ee,g);OB(H,ke);break e;case 1:ye=Ee;var Te=H.type,Pe=H.stateNode;if((H.flags&128)===0&&(typeof Te.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(Ed===null||!Ed.has(Pe)))){H.flags|=65536,g&=-g,H.lanes|=g;var Xe=cz(H,ye,g);OB(H,Xe);break e}}H=H.return}while(H!==null)}qz(S)}catch(xt){g=xt,Fr===S&&S!==null&&(Fr=S=S.return);continue}break}while(!0)}function Uz(){var h=vE.current;return vE.current=fE,h===null?fE:h}function CI(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),ui===null||(ih&268435455)===0&&(bE&268435455)===0||Td(ui,bi)}function CE(h,g){var S=En;En|=2;var N=Uz();(ui!==h||bi!==g)&&(Vu=null,sh(h,g));do try{qae();break}catch(B){Vz(h,B)}while(!0);if($k(),En=S,vE.current=N,Fr!==null)throw Error(n(261));return ui=null,bi=0,Jr}function qae(){for(;Fr!==null;)Hz(Fr)}function jae(){for(;Fr!==null&&!bg();)Hz(Fr)}function Hz(h){var g=Gz(h.alternate,h,ss);h.memoizedProps=h.pendingProps,g===null?qz(h):Fr=g,mI.current=null}function qz(h){var g=h;do{var S=g.alternate;if(h=g.return,(g.flags&32768)===0){if(S=Fae(S,g,ss),S!==null){Fr=S;return}}else{if(S=$ae(S,g),S!==null){S.flags&=32767,Fr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Jr=6,Fr=null;return}}if(g=g.sibling,g!==null){Fr=g;return}Fr=g=h}while(g!==null);Jr===0&&(Jr=5)}function ah(h,g,S){var N=fn,B=Bs.transition;try{Bs.transition=null,fn=1,Wae(h,g,S,N)}finally{Bs.transition=B,fn=N}return null}function Wae(h,g,S,N){do nm();while(Sd!==null);if((En&6)!==0)throw Error(n(327));S=h.finishedWork;var B=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var H=S.lanes|S.childLanes;if(jn(h,H),h===ui&&(Fr=ui=null,bi=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||_E||(_E=!0,Kz(_o,function(){return nm(),null})),H=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||H){H=Bs.transition,Bs.transition=null;var ne=fn;fn=1;var ye=En;En|=4,mI.current=null,zae(h,S),Dz(S,h),fae(Ck),hd=!!Sk,Ck=Sk=null,h.current=S,Vae(S),wg(),En=ye,fn=ne,Bs.transition=H}else h.current=S;if(_E&&(_E=!1,Sd=h,xE=B),H=h.pendingLanes,H===0&&(Ed=null),Eg(S.stateNode),Ro(h,zn()),g!==null)for(N=h.onRecoverableError,S=0;S<g.length;S++)B=g[S],N(B.value,{componentStack:B.stack,digest:B.digest});if(wE)throw wE=!1,h=bI,bI=null,h;return(xE&1)!==0&&h.tag!==0&&nm(),H=h.pendingLanes,(H&1)!==0?h===wI?U0++:(U0=0,wI=h):U0=0,bd(),null}function nm(){if(Sd!==null){var h=dd(xE),g=Bs.transition,S=fn;try{if(Bs.transition=null,fn=16>h?16:h,Sd===null)var N=!1;else{if(h=Sd,Sd=null,xE=0,(En&6)!==0)throw Error(n(331));var B=En;for(En|=4,ct=h.current;ct!==null;){var H=ct,ne=H.child;if((ct.flags&16)!==0){var ye=H.deletions;if(ye!==null){for(var Ee=0;Ee<ye.length;Ee++){var Ne=ye[Ee];for(ct=Ne;ct!==null;){var We=ct;switch(We.tag){case 0:case 11:case 15:B0(8,We,H)}var Ge=We.child;if(Ge!==null)Ge.return=We,ct=Ge;else for(;ct!==null;){We=ct;var je=We.sibling,ot=We.return;if(kz(We),We===Ne){ct=null;break}if(je!==null){je.return=ot,ct=je;break}ct=ot}}}var ht=H.alternate;if(ht!==null){var bt=ht.child;if(bt!==null){ht.child=null;do{var Rr=bt.sibling;bt.sibling=null,bt=Rr}while(bt!==null)}}ct=H}}if((H.subtreeFlags&2064)!==0&&ne!==null)ne.return=H,ct=ne;else e:for(;ct!==null;){if(H=ct,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:B0(9,H,H.return)}var ke=H.sibling;if(ke!==null){ke.return=H.return,ct=ke;break e}ct=H.return}}var Te=h.current;for(ct=Te;ct!==null;){ne=ct;var Pe=ne.child;if((ne.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=ne,ct=Pe;else e:for(ne=Te;ct!==null;){if(ye=ct,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:yE(9,ye)}}catch(xt){_r(ye,ye.return,xt)}if(ye===ne){ct=null;break e}var Xe=ye.sibling;if(Xe!==null){Xe.return=ye.return,ct=Xe;break e}ct=ye.return}}if(En=B,bd(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(hl,h)}catch{}N=!0}return N}finally{fn=S,Bs.transition=g}}return!1}function jz(h,g,S){g=Qg(S,g),g=uz(h,g,1),h=_d(h,g,1),g=so(),h!==null&&(ud(h,1,g),Ro(h,g))}function _r(h,g,S){if(h.tag===3)jz(h,h,S);else for(;g!==null;){if(g.tag===3){jz(g,h,S);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ed===null||!Ed.has(N))){h=Qg(S,h),h=cz(g,h,1),g=_d(g,h,1),h=so(),g!==null&&(ud(g,1,h),Ro(g,h));break}}g=g.return}}function Gae(h,g,S){var N=h.pingCache;N!==null&&N.delete(g),g=so(),h.pingedLanes|=h.suspendedLanes&S,ui===h&&(bi&S)===S&&(Jr===4||Jr===3&&(bi&130023424)===bi&&500>zn()-vI?sh(h,0):yI|=S),Ro(h,g)}function Wz(h,g){g===0&&((h.mode&1)===0?g=1:(g=da,da<<=1,(da&130023424)===0&&(da=4194304)));var S=so();h=$u(h,g),h!==null&&(ud(h,g,S),Ro(h,S))}function Kae(h){var g=h.memoizedState,S=0;g!==null&&(S=g.retryLane),Wz(h,S)}function Yae(h,g){var S=0;switch(h.tag){case 13:var N=h.stateNode,B=h.memoizedState;B!==null&&(S=B.retryLane);break;case 19:N=h.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(g),Wz(h,S)}var Gz;Gz=function(h,g,S){if(h!==null)if(h.memoizedProps!==g.pendingProps||So.current)To=!0;else{if((h.lanes&S)===0&&(g.flags&128)===0)return To=!1,Oae(h,g,S);To=(h.flags&131072)!==0}else To=!1,ar&&(g.flags&1048576)!==0&&TB(g,eE,g.index);switch(g.lanes=0,g.tag){case 2:var N=g.type;gE(h,g),h=g.pendingProps;var B=qg(g,Di.current);Xg(g,S),B=Yk(null,g,N,h,B,S);var H=Xk();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Co(N)?(H=!0,J1(g)):H=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,Uk(g),B.updater=hE,g.stateNode=B,B._reactInternals=g,nI(g,N,h,S),g=sI(null,g,N,!0,H,S)):(g.tag=0,ar&&H&&Mk(g),oo(null,g,B,S),g=g.child),g;case 16:N=g.elementType;e:{switch(gE(h,g),h=g.pendingProps,B=N._init,N=B(N._payload),g.type=N,B=g.tag=Jae(N),h=wa(N,h),B){case 0:g=oI(null,g,N,h,S);break e;case 1:g=bz(null,g,N,h,S);break e;case 11:g=pz(null,g,N,h,S);break e;case 14:g=gz(null,g,N,wa(N.type,h),S);break e}throw Error(n(306,N,""))}return g;case 0:return N=g.type,B=g.pendingProps,B=g.elementType===N?B:wa(N,B),oI(h,g,N,B,S);case 1:return N=g.type,B=g.pendingProps,B=g.elementType===N?B:wa(N,B),bz(h,g,N,B,S);case 3:e:{if(wz(g),h===null)throw Error(n(387));N=g.pendingProps,H=g.memoizedState,B=H.element,LB(h,g),sE(g,N,null,S);var ne=g.memoizedState;if(N=ne.element,H.isDehydrated)if(H={element:N,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},g.updateQueue.baseState=H,g.memoizedState=H,g.flags&256){B=Qg(Error(n(423)),g),g=_z(h,g,N,S,B);break e}else if(N!==B){B=Qg(Error(n(424)),g),g=_z(h,g,N,S,B);break e}else for(os=md(g.stateNode.containerInfo.firstChild),is=g,ar=!0,ba=null,S=NB(g,null,N,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Gg(),N===B){g=zu(h,g,S);break e}oo(h,g,N,S)}g=g.child}return g;case 5:return $B(g),h===null&&Lk(g),N=g.type,B=g.pendingProps,H=h!==null?h.memoizedProps:null,ne=B.children,Tk(N,B)?ne=null:H!==null&&Tk(N,H)&&(g.flags|=32),vz(h,g),oo(h,g,ne,S),g.child;case 6:return h===null&&Lk(g),null;case 13:return xz(h,g,S);case 4:return Hk(g,g.stateNode.containerInfo),N=g.pendingProps,h===null?g.child=Kg(g,null,N,S):oo(h,g,N,S),g.child;case 11:return N=g.type,B=g.pendingProps,B=g.elementType===N?B:wa(N,B),pz(h,g,N,B,S);case 7:return oo(h,g,g.pendingProps,S),g.child;case 8:return oo(h,g,g.pendingProps.children,S),g.child;case 12:return oo(h,g,g.pendingProps.children,S),g.child;case 10:e:{if(N=g.type._context,B=g.pendingProps,H=g.memoizedProps,ne=B.value,Xn(rE,N._currentValue),N._currentValue=ne,H!==null)if(va(H.value,ne)){if(H.children===B.children&&!So.current){g=zu(h,g,S);break e}}else for(H=g.child,H!==null&&(H.return=g);H!==null;){var ye=H.dependencies;if(ye!==null){ne=H.child;for(var Ee=ye.firstContext;Ee!==null;){if(Ee.context===N){if(H.tag===1){Ee=Bu(-1,S&-S),Ee.tag=2;var Ne=H.updateQueue;if(Ne!==null){Ne=Ne.shared;var We=Ne.pending;We===null?Ee.next=Ee:(Ee.next=We.next,We.next=Ee),Ne.pending=Ee}}H.lanes|=S,Ee=H.alternate,Ee!==null&&(Ee.lanes|=S),zk(H.return,S,g),ye.lanes|=S;break}Ee=Ee.next}}else if(H.tag===10)ne=H.type===g.type?null:H.child;else if(H.tag===18){if(ne=H.return,ne===null)throw Error(n(341));ne.lanes|=S,ye=ne.alternate,ye!==null&&(ye.lanes|=S),zk(ne,S,g),ne=H.sibling}else ne=H.child;if(ne!==null)ne.return=H;else for(ne=H;ne!==null;){if(ne===g){ne=null;break}if(H=ne.sibling,H!==null){H.return=ne.return,ne=H;break}ne=ne.return}H=ne}oo(h,g,B.children,S),g=g.child}return g;case 9:return B=g.type,N=g.pendingProps.children,Xg(g,S),B=Fs(B),N=N(B),g.flags|=1,oo(h,g,N,S),g.child;case 14:return N=g.type,B=wa(N,g.pendingProps),B=wa(N.type,B),gz(h,g,N,B,S);case 15:return mz(h,g,g.type,g.pendingProps,S);case 17:return N=g.type,B=g.pendingProps,B=g.elementType===N?B:wa(N,B),gE(h,g),g.tag=1,Co(N)?(h=!0,J1(g)):h=!1,Xg(g,S),az(g,N,B),nI(g,N,B,S),sI(null,g,N,!0,h,S);case 19:return Sz(h,g,S);case 22:return yz(h,g,S)}throw Error(n(156,g.tag))};function Kz(h,g){return ad(h,g)}function Xae(h,g,S,N){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(h,g,S,N){return new Xae(h,g,S,N)}function TI(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Jae(h){if(typeof h=="function")return TI(h)?1:0;if(h!=null){if(h=h.$$typeof,h===F)return 11;if(h===q)return 14}return 2}function Ad(h,g){var S=h.alternate;return S===null?(S=zs(h.tag,g,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=g,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,g=h.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function TE(h,g,S,N,B,H){var ne=2;if(N=h,typeof h=="function")TI(h)&&(ne=1);else if(typeof h=="string")ne=5;else e:switch(h){case A:return lh(S.children,B,H,g);case P:ne=8,B|=8;break;case M:return h=zs(12,S,g,B|2),h.elementType=M,h.lanes=H,h;case $:return h=zs(13,S,g,B),h.elementType=$,h.lanes=H,h;case L:return h=zs(19,S,g,B),h.elementType=L,h.lanes=H,h;case X:return AE(S,B,H,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:ne=10;break e;case O:ne=9;break e;case F:ne=11;break e;case q:ne=14;break e;case K:ne=16,N=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return g=zs(ne,S,g,B),g.elementType=h,g.type=N,g.lanes=H,g}function lh(h,g,S,N){return h=zs(7,h,N,g),h.lanes=S,h}function AE(h,g,S,N){return h=zs(22,h,N,g),h.elementType=X,h.lanes=S,h.stateNode={isHidden:!1},h}function AI(h,g,S){return h=zs(6,h,null,g),h.lanes=S,h}function RI(h,g,S){return g=zs(4,h.children!==null?h.children:[],h.key,g),g.lanes=S,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function Qae(h,g,S,N,B){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=N,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function kI(h,g,S,N,B,H,ne,ye,Ee){return h=new Qae(h,g,S,ye,Ee),g===1?(g=1,H===!0&&(g|=8)):g=0,H=zs(3,null,null,g),h.current=H,H.stateNode=h,H.memoizedState={element:N,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uk(H),h}function Zae(h,g,S){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:N==null?null:""+N,children:h,containerInfo:g,implementation:S}}function Yz(h){if(!h)return vd;h=h._reactInternals;e:{if(bo(h)!==h||h.tag!==1)throw Error(n(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Co(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(h.tag===1){var S=h.type;if(Co(S))return EB(h,S,g)}return g}function Xz(h,g,S,N,B,H,ne,ye,Ee){return h=kI(S,N,!0,h,B,H,ne,ye,Ee),h.context=Yz(null),S=h.current,N=so(),B=Cd(S),H=Bu(N,B),H.callback=g??null,_d(S,H,B),h.current.lanes=B,ud(h,B,N),Ro(h,N),h}function RE(h,g,S,N){var B=g.current,H=so(),ne=Cd(B);return S=Yz(S),g.context===null?g.context=S:g.pendingContext=S,g=Bu(H,ne),g.payload={element:h},N=N===void 0?null:N,N!==null&&(g.callback=N),h=_d(B,g,ne),h!==null&&(Ea(h,B,ne,H),oE(h,B,ne)),ne}function kE(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function Jz(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<g?S:g}}function II(h,g){Jz(h,g),(h=h.alternate)&&Jz(h,g)}function ele(){return null}var Qz=typeof reportError=="function"?reportError:function(h){console.error(h)};function PI(h){this._internalRoot=h}IE.prototype.render=PI.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(n(409));RE(h,g,null,null)},IE.prototype.unmount=PI.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;oh(function(){RE(null,h,null,null)}),g[Du]=null}};function IE(h){this._internalRoot=h}IE.prototype.unstable_scheduleHydration=function(h){if(h){var g=I1();h={blockedOn:null,target:h,priority:g};for(var S=0;S<ml.length&&g!==0&&g<ml[S].priority;S++);ml.splice(S,0,h),S===0&&N1(h)}};function MI(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function PE(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function Zz(){}function tle(h,g,S,N,B){if(B){if(typeof N=="function"){var H=N;N=function(){var Ne=kE(ne);H.call(Ne)}}var ne=Xz(g,N,h,0,null,!1,!1,"",Zz);return h._reactRootContainer=ne,h[Du]=ne.current,T0(h.nodeType===8?h.parentNode:h),oh(),ne}for(;B=h.lastChild;)h.removeChild(B);if(typeof N=="function"){var ye=N;N=function(){var Ne=kE(Ee);ye.call(Ne)}}var Ee=kI(h,0,!1,null,null,!1,!1,"",Zz);return h._reactRootContainer=Ee,h[Du]=Ee.current,T0(h.nodeType===8?h.parentNode:h),oh(function(){RE(g,Ee,S,N)}),Ee}function ME(h,g,S,N,B){var H=S._reactRootContainer;if(H){var ne=H;if(typeof B=="function"){var ye=B;B=function(){var Ee=kE(ne);ye.call(Ee)}}RE(g,ne,h,B)}else ne=tle(S,g,h,B,N);return kE(ne)}R1=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var S=pl(g.pendingLanes);S!==0&&(cd(g,S|1),Ro(g,zn()),(En&6)===0&&(tm=zn()+500,bd()))}break;case 13:oh(function(){var N=$u(h,1);if(N!==null){var B=so();Ea(N,h,1,B)}}),II(h,1)}},Tg=function(h){if(h.tag===13){var g=$u(h,134217728);if(g!==null){var S=so();Ea(g,h,134217728,S)}II(h,134217728)}},k1=function(h){if(h.tag===13){var g=Cd(h),S=$u(h,g);if(S!==null){var N=so();Ea(S,h,g,N)}II(h,g)}},I1=function(){return fn},P1=function(h,g){var S=fn;try{return fn=h,g()}finally{fn=S}},Ms=function(h,g,S){switch(g){case"input":if(se(h,S),g=S.name,S.type==="radio"&&g!=null){for(S=h;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var N=S[g];if(N!==h&&N.form===h.form){var B=Y1(N);if(!B)throw Error(n(90));Ae(N),se(N,B)}}}break;case"textarea":He(h,S);break;case"select":g=S.value,g!=null&&Ie(h,!!S.multiple,g,!1)}},ca=EI,$t=oh;var nle={usingClientEntryPoint:!1,Events:[k0,Ug,Y1,vo,ul,EI]},H0={findFiberByHostInstance:Jf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rle={bundleType:H0.bundleType,version:H0.version,rendererPackageName:H0.rendererPackageName,rendererConfig:H0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Hf(h),h===null?null:h.stateNode},findFiberByHostInstance:H0.findFiberByHostInstance||ele,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NE.isDisabled&&NE.supportsFiber)try{hl=NE.inject(rle),no=NE}catch{}}return ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nle,ko.createPortal=function(h,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MI(g))throw Error(n(200));return Zae(h,g,null,S)},ko.createRoot=function(h,g){if(!MI(h))throw Error(n(299));var S=!1,N="",B=Qz;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(N=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),g=kI(h,1,!1,null,null,S,!1,N,B),h[Du]=g.current,T0(h.nodeType===8?h.parentNode:h),new PI(g)},ko.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=Hf(g),h=h===null?null:h.stateNode,h},ko.flushSync=function(h){return oh(h)},ko.hydrate=function(h,g,S){if(!PE(g))throw Error(n(200));return ME(null,h,g,!0,S)},ko.hydrateRoot=function(h,g,S){if(!MI(h))throw Error(n(405));var N=S!=null&&S.hydratedSources||null,B=!1,H="",ne=Qz;if(S!=null&&(S.unstable_strictMode===!0&&(B=!0),S.identifierPrefix!==void 0&&(H=S.identifierPrefix),S.onRecoverableError!==void 0&&(ne=S.onRecoverableError)),g=Xz(g,null,h,1,S??null,B,!1,H,ne),h[Du]=g.current,T0(h),N)for(h=0;h<N.length;h++)S=N[h],B=S._getVersion,B=B(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,B]:g.mutableSourceEagerHydrationData.push(S,B);return new IE(g)},ko.render=function(h,g,S){if(!PE(g))throw Error(n(200));return ME(null,h,g,!1,S)},ko.unmountComponentAtNode=function(h){if(!PE(h))throw Error(n(40));return h._reactRootContainer?(oh(function(){ME(null,null,h,!1,function(){h._reactRootContainer=null,h[Du]=null})}),!0):!1},ko.unstable_batchedUpdates=EI,ko.unstable_renderSubtreeIntoContainer=function(h,g,S,N){if(!PE(S))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return ME(h,g,S,!1,N)},ko.version="18.3.1-next-f1338f8080-20240426",ko}var lV;function EA(){if(lV)return OI.exports;lV=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),OI.exports=gle(),OI.exports}var uV;function mle(){if(uV)return DE;uV=1;var t=EA();return DE.createRoot=t.createRoot,DE.hydrateRoot=t.hydrateRoot,DE}var KY=mle();function Gr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Gr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var yle={value:()=>{}};function SA(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new OS(n)}function OS(t){this._=t}function vle(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}OS.prototype=SA.prototype={constructor:OS,on:function(t,e){var n=this._,r=vle(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=ble(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=cV(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cV(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new OS(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ble(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function cV(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=yle,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var rL="http://www.w3.org/1999/xhtml";const dV={svg:"http://www.w3.org/2000/svg",xhtml:rL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function CA(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),dV.hasOwnProperty(e)?{space:dV[e],local:t}:t}function wle(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rL&&e.documentElement.namespaceURI===rL?e.createElement(t):e.createElementNS(n,t)}}function _le(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function YY(t){var e=CA(t);return(e.local?_le:wle)(e)}function xle(){}function E5(t){return t==null?xle:function(){return this.querySelector(t)}}function Ele(t){typeof t!="function"&&(t=E5(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Rs(r,this._parents)}function Sle(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Cle(){return[]}function XY(t){return t==null?Cle:function(){return this.querySelectorAll(t)}}function Tle(t){return function(){return Sle(t.apply(this,arguments))}}function Ale(t){typeof t=="function"?t=Tle(t):t=XY(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new Rs(r,i)}function JY(t){return function(){return this.matches(t)}}function QY(t){return function(e){return e.matches(t)}}var Rle=Array.prototype.find;function kle(t){return function(){return Rle.call(this.children,t)}}function Ile(){return this.firstElementChild}function Ple(t){return this.select(t==null?Ile:kle(typeof t=="function"?t:QY(t)))}var Mle=Array.prototype.filter;function Nle(){return Array.from(this.children)}function Dle(t){return function(){return Mle.call(this.children,t)}}function Lle(t){return this.selectAll(t==null?Nle:Dle(typeof t=="function"?t:QY(t)))}function Ole(t){typeof t!="function"&&(t=JY(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Rs(r,this._parents)}function ZY(t){return new Array(t.length)}function Fle(){return new Rs(this._enter||this._groups.map(ZY),this._parents)}function HC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}HC.prototype={constructor:HC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $le(t){return function(){return t}}function Ble(t,e,n,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new HC(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function zle(t,e,n,r,i,o,s){var a,l,u=new Map,c=e.length,d=o.length,f=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(f[a]=p=s.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=s.call(t,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new HC(t,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function Vle(t){return t.__data__}function Ule(t,e){if(!arguments.length)return Array.from(this,Vle);var n=e?zle:Ble,r=this._parents,i=this._groups;typeof t!="function"&&(t=$le(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,p=Hle(t.call(c,c&&c.__data__,u,r)),m=p.length,y=a[u]=new Array(m),b=s[u]=new Array(m),v=l[u]=new Array(f);n(c,d,y,b,v,p,e);for(var E=0,x=0,C,k;E<m;++E)if(C=y[E]){for(E>=x&&(x=E+1);!(k=b[x])&&++x<m;);C._next=k||null}}return s=new Rs(s,r),s._enter=a,s._exit=l,s}function Hle(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qle(){return new Rs(this._exit||this._groups.map(ZY),this._parents)}function jle(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Wle(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(f[m]=p);for(;l<i;++l)a[l]=n[l];return new Rs(a,this._parents)}function Gle(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Kle(t){t||(t=Yle);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new Rs(i,this._parents).order()}function Yle(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xle(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Jle(){return Array.from(this)}function Qle(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Zle(){let t=0;for(const e of this)++t;return t}function eue(){return!this.node()}function tue(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function nue(t){return function(){this.removeAttribute(t)}}function rue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iue(t,e){return function(){this.setAttribute(t,e)}}function oue(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function aue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function lue(t,e){var n=CA(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?rue:nue:typeof e=="function"?n.local?aue:sue:n.local?oue:iue)(n,e))}function eX(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uue(t){return function(){this.style.removeProperty(t)}}function cue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function due(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function fue(t,e,n){return arguments.length>1?this.each((e==null?uue:typeof e=="function"?due:cue)(t,e,n??"")):cv(this.node(),t)}function cv(t,e){return t.style.getPropertyValue(e)||eX(t).getComputedStyle(t,null).getPropertyValue(e)}function hue(t){return function(){delete this[t]}}function pue(t,e){return function(){this[t]=e}}function gue(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mue(t,e){return arguments.length>1?this.each((e==null?hue:typeof e=="function"?gue:pue)(t,e)):this.node()[t]}function tX(t){return t.trim().split(/^|\s+/)}function S5(t){return t.classList||new nX(t)}function nX(t){this._node=t,this._names=tX(t.getAttribute("class")||"")}nX.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function rX(t,e){for(var n=S5(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function iX(t,e){for(var n=S5(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function yue(t){return function(){rX(this,t)}}function vue(t){return function(){iX(this,t)}}function bue(t,e){return function(){(e.apply(this,arguments)?rX:iX)(this,t)}}function wue(t,e){var n=tX(t+"");if(arguments.length<2){for(var r=S5(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?bue:e?yue:vue)(n,e))}function _ue(){this.textContent=""}function xue(t){return function(){this.textContent=t}}function Eue(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Sue(t){return arguments.length?this.each(t==null?_ue:(typeof t=="function"?Eue:xue)(t)):this.node().textContent}function Cue(){this.innerHTML=""}function Tue(t){return function(){this.innerHTML=t}}function Aue(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Rue(t){return arguments.length?this.each(t==null?Cue:(typeof t=="function"?Aue:Tue)(t)):this.node().innerHTML}function kue(){this.nextSibling&&this.parentNode.appendChild(this)}function Iue(){return this.each(kue)}function Pue(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mue(){return this.each(Pue)}function Nue(t){var e=typeof t=="function"?t:YY(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Due(){return null}function Lue(t,e){var n=typeof t=="function"?t:YY(t),r=e==null?Due:typeof e=="function"?e:E5(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Oue(){var t=this.parentNode;t&&t.removeChild(this)}function Fue(){return this.each(Oue)}function $ue(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bue(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zue(t){return this.select(t?Bue:$ue)}function Vue(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Uue(t){return function(e){t.call(this,e,this.__data__)}}function Hue(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function que(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function jue(t,e,n){return function(){var r=this.__on,i,o=Uue(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Wue(t,e,n){var r=Hue(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?jue:que,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function oX(t,e,n){var r=eX(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Gue(t,e){return function(){return oX(this,t,e)}}function Kue(t,e){return function(){return oX(this,t,e.apply(this,arguments))}}function Yue(t,e){return this.each((typeof e=="function"?Kue:Gue)(t,e))}function*Xue(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var sX=[null];function Rs(t,e){this._groups=t,this._parents=e}function Ux(){return new Rs([[document.documentElement]],sX)}function Jue(){return this}Rs.prototype=Ux.prototype={constructor:Rs,select:Ele,selectAll:Ale,selectChild:Ple,selectChildren:Lle,filter:Ole,data:Ule,enter:Fle,exit:qle,join:jle,merge:Wle,selection:Jue,order:Gle,sort:Kle,call:Xle,nodes:Jle,node:Qle,size:Zle,empty:eue,each:tue,attr:lue,style:fue,property:mue,classed:wue,text:Sue,html:Rue,raise:Iue,lower:Mue,append:Nue,insert:Lue,remove:Fue,clone:zue,datum:Vue,on:Wue,dispatch:Yue,[Symbol.iterator]:Xue};function Fo(t){return typeof t=="string"?new Rs([[document.querySelector(t)]],[document.documentElement]):new Rs([[t]],sX)}function Que(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ja(t,e){if(t=Que(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Zue={passive:!1},Aw={capture:!0,passive:!1};function BI(t){t.stopImmediatePropagation()}function ry(t){t.preventDefault(),t.stopImmediatePropagation()}function aX(t){var e=t.document.documentElement,n=Fo(t).on("dragstart.drag",ry,Aw);"onselectstart"in e?n.on("selectstart.drag",ry,Aw):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function lX(t,e){var n=t.document.documentElement,r=Fo(t).on("dragstart.drag",null);e&&(r.on("click.drag",ry,Aw),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const LE=t=>()=>t;function iL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}iL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ece(t){return!t.ctrlKey&&!t.button}function tce(){return this.parentNode}function nce(t,e){return e??{x:t.x,y:t.y}}function rce(){return navigator.maxTouchPoints||"ontouchstart"in this}function uX(){var t=ece,e=tce,n=nce,r=rce,i={},o=SA("start","drag","end"),s=0,a,l,u,c,d=0;function f(C){C.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",v,Zue).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(C,k){if(!(c||!t.call(this,C,k))){var D=x(this,e.call(this,C,k),C,k,"mouse");D&&(Fo(C.view).on("mousemove.drag",m,Aw).on("mouseup.drag",y,Aw),aX(C.view),BI(C),u=!1,a=C.clientX,l=C.clientY,D("start",C))}}function m(C){if(ry(C),!u){var k=C.clientX-a,D=C.clientY-l;u=k*k+D*D>d}i.mouse("drag",C)}function y(C){Fo(C.view).on("mousemove.drag mouseup.drag",null),lX(C.view,u),ry(C),i.mouse("end",C)}function b(C,k){if(t.call(this,C,k)){var D=C.changedTouches,A=e.call(this,C,k),P=D.length,M,I;for(M=0;M<P;++M)(I=x(this,A,C,k,D[M].identifier,D[M]))&&(BI(C),I("start",C,D[M]))}}function v(C){var k=C.changedTouches,D=k.length,A,P;for(A=0;A<D;++A)(P=i[k[A].identifier])&&(ry(C),P("drag",C,k[A]))}function E(C){var k=C.changedTouches,D=k.length,A,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),A=0;A<D;++A)(P=i[k[A].identifier])&&(BI(C),P("end",C,k[A]))}function x(C,k,D,A,P,M){var I=o.copy(),O=ja(M||D,k),F,$,L;if((L=n.call(C,new iL("beforestart",{sourceEvent:D,target:f,identifier:P,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),A))!=null)return F=L.x-O[0]||0,$=L.y-O[1]||0,function q(K,X,ee){var J=O,G;switch(K){case"start":i[P]=q,G=s++;break;case"end":delete i[P],--s;case"drag":O=ja(ee||X,k),G=s;break}I.call(K,C,new iL(K,{sourceEvent:X,subject:L,target:f,identifier:P,active:G,x:O[0]+F,y:O[1]+$,dx:O[0]-J[0],dy:O[1]-J[1],dispatch:I}),A)}}return f.filter=function(C){return arguments.length?(t=typeof C=="function"?C:LE(!!C),f):t},f.container=function(C){return arguments.length?(e=typeof C=="function"?C:LE(C),f):e},f.subject=function(C){return arguments.length?(n=typeof C=="function"?C:LE(C),f):n},f.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:LE(!!C),f):r},f.on=function(){var C=o.on.apply(o,arguments);return C===o?f:C},f.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,f):Math.sqrt(d)},f}function C5(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hx(){}var Rw=.7,qC=1/Rw,iy="\\s*([+-]?\\d+)\\s*",kw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ice=/^#([0-9a-f]{3,8})$/,oce=new RegExp(`^rgb\\(${iy},${iy},${iy}\\)$`),sce=new RegExp(`^rgb\\(${iu},${iu},${iu}\\)$`),ace=new RegExp(`^rgba\\(${iy},${iy},${iy},${kw}\\)$`),lce=new RegExp(`^rgba\\(${iu},${iu},${iu},${kw}\\)$`),uce=new RegExp(`^hsl\\(${kw},${iu},${iu}\\)$`),cce=new RegExp(`^hsla\\(${kw},${iu},${iu},${kw}\\)$`),fV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};C5(Hx,Ap,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hV,formatHex:hV,formatHex8:dce,formatHsl:fce,formatRgb:pV,toString:pV});function hV(){return this.rgb().formatHex()}function dce(){return this.rgb().formatHex8()}function fce(){return dX(this).formatHsl()}function pV(){return this.rgb().formatRgb()}function Ap(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ice.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gV(e):n===3?new $o(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?OE(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?OE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oce.exec(t))?new $o(e[1],e[2],e[3],1):(e=sce.exec(t))?new $o(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ace.exec(t))?OE(e[1],e[2],e[3],e[4]):(e=lce.exec(t))?OE(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uce.exec(t))?vV(e[1],e[2]/100,e[3]/100,1):(e=cce.exec(t))?vV(e[1],e[2]/100,e[3]/100,e[4]):fV.hasOwnProperty(t)?gV(fV[t]):t==="transparent"?new $o(NaN,NaN,NaN,0):null}function gV(t){return new $o(t>>16&255,t>>8&255,t&255,1)}function OE(t,e,n,r){return r<=0&&(t=e=n=NaN),new $o(t,e,n,r)}function hce(t){return t instanceof Hx||(t=Ap(t)),t?(t=t.rgb(),new $o(t.r,t.g,t.b,t.opacity)):new $o}function oL(t,e,n,r){return arguments.length===1?hce(t):new $o(t,e,n,r??1)}function $o(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}C5($o,oL,cX(Hx,{brighter(t){return t=t==null?qC:Math.pow(qC,t),new $o(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rw:Math.pow(Rw,t),new $o(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $o(xp(this.r),xp(this.g),xp(this.b),jC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mV,formatHex:mV,formatHex8:pce,formatRgb:yV,toString:yV}));function mV(){return`#${xh(this.r)}${xh(this.g)}${xh(this.b)}`}function pce(){return`#${xh(this.r)}${xh(this.g)}${xh(this.b)}${xh((isNaN(this.opacity)?1:this.opacity)*255)}`}function yV(){const t=jC(this.opacity);return`${t===1?"rgb(":"rgba("}${xp(this.r)}, ${xp(this.g)}, ${xp(this.b)}${t===1?")":`, ${t})`}`}function jC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xh(t){return t=xp(t),(t<16?"0":"")+t.toString(16)}function vV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ga(t,e,n,r)}function dX(t){if(t instanceof Ga)return new Ga(t.h,t.s,t.l,t.opacity);if(t instanceof Hx||(t=Ap(t)),!t)return new Ga;if(t instanceof Ga)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ga(s,a,l,t.opacity)}function gce(t,e,n,r){return arguments.length===1?dX(t):new Ga(t,e,n,r??1)}function Ga(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}C5(Ga,gce,cX(Hx,{brighter(t){return t=t==null?qC:Math.pow(qC,t),new Ga(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rw:Math.pow(Rw,t),new Ga(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $o(zI(t>=240?t-240:t+120,i,r),zI(t,i,r),zI(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ga(bV(this.h),FE(this.s),FE(this.l),jC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jC(this.opacity);return`${t===1?"hsl(":"hsla("}${bV(this.h)}, ${FE(this.s)*100}%, ${FE(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bV(t){return t=(t||0)%360,t<0?t+360:t}function FE(t){return Math.max(0,Math.min(1,t||0))}function zI(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const T5=t=>()=>t;function mce(t,e){return function(n){return t+n*e}}function yce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vce(t){return(t=+t)==1?fX:function(e,n){return n-e?yce(e,n,t):T5(isNaN(e)?n:e)}}function fX(t,e){var n=e-t;return n?mce(t,n):T5(isNaN(t)?e:t)}const WC=function t(e){var n=vce(e);function r(i,o){var s=n((i=oL(i)).r,(o=oL(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=fX(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function bce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function wce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=oy(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function xce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Wa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ece(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=oy(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var sL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VI=new RegExp(sL.source,"g");function Sce(t){return function(){return t}}function Cce(t){return function(e){return t(e)+""}}function hX(t,e){var n=sL.lastIndex=VI.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=sL.exec(t))&&(i=VI.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Wa(r,i)})),n=VI.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Cce(l[0].x):Sce(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function oy(t,e){var n=typeof e,r;return e==null||n==="boolean"?T5(e):(n==="number"?Wa:n==="string"?(r=Ap(e))?(e=r,WC):hX:e instanceof Ap?WC:e instanceof Date?xce:wce(e)?bce:Array.isArray(e)?_ce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ece:Wa)(t,e)}function Tce(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var wV=180/Math.PI,aL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pX(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*wV,skewX:Math.atan(l)*wV,scaleX:s,scaleY:a}}var $E;function Ace(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?aL:pX(e.a,e.b,e.c,e.d,e.e,e.f)}function Rce(t){return t==null||($E||($E=document.createElementNS("http://www.w3.org/2000/svg","g")),$E.setAttribute("transform",t),!(t=$E.transform.baseVal.consolidate()))?aL:(t=t.matrix,pX(t.a,t.b,t.c,t.d,t.e,t.f))}function gX(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,p,m){if(u!==d||c!==f){var y=p.push("translate(",null,e,null,n);m.push({i:y-4,x:Wa(u,d)},{i:y-2,x:Wa(c,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Wa(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Wa(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,p,m){if(u!==d||c!==f){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:Wa(u,d)},{i:y-2,x:Wa(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(p){for(var m=-1,y=f.length,b;++m<y;)d[(b=f[m]).i]=b.x(p);return d.join("")}}}var kce=gX(Ace,"px, ","px)","deg)"),Ice=gX(Rce,", ",")",")"),Pce=1e-12;function _V(t){return((t=Math.exp(t))+1/t)/2}function Mce(t){return((t=Math.exp(t))-1/t)/2}function Nce(t){return((t=Math.exp(2*t))-1)/(t+1)}const FS=function t(e,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],f=s[2],p=c-a,m=d-l,y=p*p+m*m,b,v;if(y<Pce)v=Math.log(f/u)/e,b=function(A){return[a+A*p,l+A*m,u*Math.exp(e*A*v)]};else{var E=Math.sqrt(y),x=(f*f-u*u+r*y)/(2*u*n*E),C=(f*f-u*u-r*y)/(2*f*n*E),k=Math.log(Math.sqrt(x*x+1)-x),D=Math.log(Math.sqrt(C*C+1)-C);v=(D-k)/e,b=function(A){var P=A*v,M=_V(k),I=u/(n*E)*(M*Nce(e*P+k)-Mce(k));return[a+I*p,l+I*m,u*M/_V(e*P+k)]}}return b.duration=v*1e3*e/Math.SQRT2,b}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return t(s,a,l)},i}(Math.SQRT2,2,4);var dv=0,Cb=0,j0=0,mX=1e3,GC,Tb,KC=0,Rp=0,TA=0,Iw=typeof performance=="object"&&performance.now?performance:Date,yX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function A5(){return Rp||(yX(Dce),Rp=Iw.now()+TA)}function Dce(){Rp=0}function YC(){this._call=this._time=this._next=null}YC.prototype=vX.prototype={constructor:YC,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?A5():+n)+(e==null?0:+e),!this._next&&Tb!==this&&(Tb?Tb._next=this:GC=this,Tb=this),this._call=t,this._time=n,lL()},stop:function(){this._call&&(this._call=null,this._time=1/0,lL())}};function vX(t,e,n){var r=new YC;return r.restart(t,e,n),r}function Lce(){A5(),++dv;for(var t=GC,e;t;)(e=Rp-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dv}function xV(){Rp=(KC=Iw.now())+TA,dv=Cb=0;try{Lce()}finally{dv=0,Fce(),Rp=0}}function Oce(){var t=Iw.now(),e=t-KC;e>mX&&(TA-=e,KC=t)}function Fce(){for(var t,e=GC,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:GC=n);Tb=t,lL(r)}function lL(t){if(!dv){Cb&&(Cb=clearTimeout(Cb));var e=t-Rp;e>24?(t<1/0&&(Cb=setTimeout(xV,t-Iw.now()-TA)),j0&&(j0=clearInterval(j0))):(j0||(KC=Iw.now(),j0=setInterval(Oce,mX)),dv=1,yX(xV))}}function EV(t,e,n){var r=new YC;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var $ce=SA("start","end","cancel","interrupt"),Bce=[],bX=0,SV=1,uL=2,$S=3,CV=4,cL=5,BS=6;function AA(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;zce(t,n,{name:e,index:r,group:i,on:$ce,tween:Bce,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:bX})}function R5(t,e){var n=rl(t,e);if(n.state>bX)throw new Error("too late; already scheduled");return n}function _u(t,e){var n=rl(t,e);if(n.state>$S)throw new Error("too late; already running");return n}function rl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function zce(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=vX(o,0,n.time);function o(u){n.state=SV,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,p;if(n.state!==SV)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===$S)return EV(s);p.state===CV?(p.state=BS,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=BS,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(EV(function(){n.state===$S&&(n.state=CV,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=uL,n.on.call("start",t,t.__data__,n.index,n.group),n.state===uL){for(n.state=$S,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=cL,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===cL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=BS,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function zS(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>uL&&r.state<cL,r.state=BS,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Vce(t){return this.each(function(){zS(this,t)})}function Uce(t,e){var n,r;return function(){var i=_u(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Hce(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=_u(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function qce(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=rl(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Uce:Hce)(n,t,e))}function k5(t,e,n){var r=t._id;return t.each(function(){var i=_u(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return rl(i,r).value[e]}}function wX(t,e){var n;return(typeof e=="number"?Wa:e instanceof Ap?WC:(n=Ap(e))?(e=n,WC):hX)(t,e)}function jce(t){return function(){this.removeAttribute(t)}}function Wce(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gce(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Kce(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Yce(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Xce(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function Jce(t,e){var n=CA(t),r=n==="transform"?Ice:wX;return this.attrTween(t,typeof e=="function"?(n.local?Xce:Yce)(n,r,k5(this,"attr."+t,e)):e==null?(n.local?Wce:jce)(n):(n.local?Kce:Gce)(n,r,e))}function Qce(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Zce(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ede(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Zce(t,o)),n}return i._value=e,i}function tde(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Qce(t,o)),n}return i._value=e,i}function nde(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=CA(t);return this.tween(n,(r.local?ede:tde)(r,e))}function rde(t,e){return function(){R5(this,t).delay=+e.apply(this,arguments)}}function ide(t,e){return e=+e,function(){R5(this,t).delay=e}}function ode(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rde:ide)(e,t)):rl(this.node(),e).delay}function sde(t,e){return function(){_u(this,t).duration=+e.apply(this,arguments)}}function ade(t,e){return e=+e,function(){_u(this,t).duration=e}}function lde(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sde:ade)(e,t)):rl(this.node(),e).duration}function ude(t,e){if(typeof e!="function")throw new Error;return function(){_u(this,t).ease=e}}function cde(t){var e=this._id;return arguments.length?this.each(ude(e,t)):rl(this.node(),e).ease}function dde(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_u(this,t).ease=n}}function fde(t){if(typeof t!="function")throw new Error;return this.each(dde(this._id,t))}function hde(t){typeof t!="function"&&(t=JY(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Bc(r,this._parents,this._name,this._id)}function pde(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=n[a],c=l.length,d=s[a]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(d[p]=f);for(;a<r;++a)s[a]=e[a];return new Bc(s,this._parents,this._name,this._id)}function gde(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function mde(t,e,n){var r,i,o=gde(e)?R5:_u;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function yde(t,e){var n=this._id;return arguments.length<2?rl(this.node(),n).on.on(t):this.each(mde(n,t,e))}function vde(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function bde(){return this.on("end.remove",vde(this._id))}function wde(t){var e=this._name,n=this._id;typeof t!="function"&&(t=E5(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=t.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,AA(u[f],e,n,f,u,rl(c,n)));return new Bc(o,this._parents,e,n)}function _de(t){var e=this._name,n=this._id;typeof t!="function"&&(t=XY(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=t.call(c,c.__data__,d,l),p,m=rl(c,n),y=0,b=f.length;y<b;++y)(p=f[y])&&AA(p,e,n,y,f,m);o.push(f),s.push(c)}return new Bc(o,s,e,n)}var xde=Ux.prototype.constructor;function Ede(){return new xde(this._groups,this._parents)}function Sde(t,e){var n,r,i;return function(){var o=cv(this,t),s=(this.style.removeProperty(t),cv(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function _X(t){return function(){this.style.removeProperty(t)}}function Cde(t,e,n){var r,i=n+"",o;return function(){var s=cv(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Tde(t,e,n){var r,i,o;return function(){var s=cv(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),cv(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function Ade(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=_u(this,t),u=l.on,c=l.value[o]==null?a||(a=_X(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function Rde(t,e,n){var r=(t+="")=="transform"?kce:wX;return e==null?this.styleTween(t,Sde(t,r)).on("end.style."+t,_X(t)):typeof e=="function"?this.styleTween(t,Tde(t,r,k5(this,"style."+t,e))).each(Ade(this._id,t)):this.styleTween(t,Cde(t,r,e),n).on("end.style."+t,null)}function kde(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ide(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&kde(t,s,n)),r}return o._value=e,o}function Pde(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ide(t,e,n??""))}function Mde(t){return function(){this.textContent=t}}function Nde(t){return function(){var e=t(this);this.textContent=e??""}}function Dde(t){return this.tween("text",typeof t=="function"?Nde(k5(this,"text",t)):Mde(t==null?"":t+""))}function Lde(t){return function(e){this.textContent=t.call(this,e)}}function Ode(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Lde(i)),e}return r._value=t,r}function Fde(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ode(t))}function $de(){for(var t=this._name,e=this._id,n=xX(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=rl(l,e);AA(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bc(r,this._parents,t,n)}function Bde(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=_u(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var zde=0;function Bc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xX(){return++zde}var Uu=Ux.prototype;Bc.prototype={constructor:Bc,select:wde,selectAll:_de,selectChild:Uu.selectChild,selectChildren:Uu.selectChildren,filter:hde,merge:pde,selection:Ede,transition:$de,call:Uu.call,nodes:Uu.nodes,node:Uu.node,size:Uu.size,empty:Uu.empty,each:Uu.each,on:yde,attr:Jce,attrTween:nde,style:Rde,styleTween:Pde,text:Dde,textTween:Fde,remove:bde,tween:qce,delay:ode,duration:lde,ease:cde,easeVarying:fde,end:Bde,[Symbol.iterator]:Uu[Symbol.iterator]};function Vde(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ude={time:null,delay:0,duration:250,ease:Vde};function Hde(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function qde(t){var e,n;t instanceof Bc?(e=t._id,t=t._name):(e=xX(),(n=Ude).time=A5(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&AA(l,t,e,u,s,n||Hde(l,e));return new Bc(r,this._parents,t,e)}Ux.prototype.interrupt=Vce;Ux.prototype.transition=qde;const BE=t=>()=>t;function jde(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ac(t,e,n){this.k=t,this.x=e,this.y=n}Ac.prototype={constructor:Ac,scale:function(t){return t===1?this:new Ac(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ac(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var RA=new Ac(1,0,0);EX.prototype=Ac.prototype;function EX(t){for(;!t.__zoom;)if(!(t=t.parentNode))return RA;return t.__zoom}function UI(t){t.stopImmediatePropagation()}function W0(t){t.preventDefault(),t.stopImmediatePropagation()}function Wde(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Gde(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function TV(){return this.__zoom||RA}function Kde(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Yde(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xde(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function SX(){var t=Wde,e=Gde,n=Xde,r=Kde,i=Yde,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=FS,u=SA("start","zoom","end"),c,d,f,p=500,m=150,y=0,b=10;function v(L){L.property("__zoom",TV).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(L,q,K,X){var ee=L.selection?L.selection():L;ee.property("__zoom",TV),L!==ee?k(L,q,K,X):ee.interrupt().each(function(){D(this,arguments).event(X).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},v.scaleBy=function(L,q,K,X){v.scaleTo(L,function(){var ee=this.__zoom.k,J=typeof q=="function"?q.apply(this,arguments):q;return ee*J},K,X)},v.scaleTo=function(L,q,K,X){v.transform(L,function(){var ee=e.apply(this,arguments),J=this.__zoom,G=K==null?C(ee):typeof K=="function"?K.apply(this,arguments):K,Y=J.invert(G),Z=typeof q=="function"?q.apply(this,arguments):q;return n(x(E(J,Z),G,Y),ee,s)},K,X)},v.translateBy=function(L,q,K,X){v.transform(L,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),s)},null,X)},v.translateTo=function(L,q,K,X,ee){v.transform(L,function(){var J=e.apply(this,arguments),G=this.__zoom,Y=X==null?C(J):typeof X=="function"?X.apply(this,arguments):X;return n(RA.translate(Y[0],Y[1]).scale(G.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof K=="function"?-K.apply(this,arguments):-K),J,s)},X,ee)};function E(L,q){return q=Math.max(o[0],Math.min(o[1],q)),q===L.k?L:new Ac(q,L.x,L.y)}function x(L,q,K){var X=q[0]-K[0]*L.k,ee=q[1]-K[1]*L.k;return X===L.x&&ee===L.y?L:new Ac(L.k,X,ee)}function C(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function k(L,q,K,X){L.on("start.zoom",function(){D(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(X).end()}).tween("zoom",function(){var ee=this,J=arguments,G=D(ee,J).event(X),Y=e.apply(ee,J),Z=K==null?C(Y):typeof K=="function"?K.apply(ee,J):K,W=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),oe=ee.__zoom,re=typeof q=="function"?q.apply(ee,J):q,me=l(oe.invert(Z).concat(W/oe.k),re.invert(Z).concat(W/re.k));return function(ge){if(ge===1)ge=re;else{var ce=me(ge),he=W/ce[2];ge=new Ac(he,Z[0]-ce[0]*he,Z[1]-ce[1]*he)}G.zoom(null,ge)}})}function D(L,q,K){return!K&&L.__zooming||new A(L,q)}function A(L,q){this.that=L,this.args=q,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,q),this.taps=0}A.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,q){return this.mouse&&L!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var q=Fo(this.that).datum();u.call(L,this.that,new jde(L,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),q)}};function P(L,...q){if(!t.apply(this,arguments))return;var K=D(this,q).event(L),X=this.__zoom,ee=Math.max(o[0],Math.min(o[1],X.k*Math.pow(2,r.apply(this,arguments)))),J=ja(L);if(K.wheel)(K.mouse[0][0]!==J[0]||K.mouse[0][1]!==J[1])&&(K.mouse[1]=X.invert(K.mouse[0]=J)),clearTimeout(K.wheel);else{if(X.k===ee)return;K.mouse=[J,X.invert(J)],zS(this),K.start()}W0(L),K.wheel=setTimeout(G,m),K.zoom("mouse",n(x(E(X,ee),K.mouse[0],K.mouse[1]),K.extent,s));function G(){K.wheel=null,K.end()}}function M(L,...q){if(f||!t.apply(this,arguments))return;var K=L.currentTarget,X=D(this,q,!0).event(L),ee=Fo(L.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",W,!0),J=ja(L,K),G=L.clientX,Y=L.clientY;aX(L.view),UI(L),X.mouse=[J,this.__zoom.invert(J)],zS(this),X.start();function Z(oe){if(W0(oe),!X.moved){var re=oe.clientX-G,me=oe.clientY-Y;X.moved=re*re+me*me>y}X.event(oe).zoom("mouse",n(x(X.that.__zoom,X.mouse[0]=ja(oe,K),X.mouse[1]),X.extent,s))}function W(oe){ee.on("mousemove.zoom mouseup.zoom",null),lX(oe.view,X.moved),W0(oe),X.event(oe).end()}}function I(L,...q){if(t.apply(this,arguments)){var K=this.__zoom,X=ja(L.changedTouches?L.changedTouches[0]:L,this),ee=K.invert(X),J=K.k*(L.shiftKey?.5:2),G=n(x(E(K,J),X,ee),e.apply(this,q),s);W0(L),a>0?Fo(this).transition().duration(a).call(k,G,X,L):Fo(this).call(v.transform,G,X,L)}}function O(L,...q){if(t.apply(this,arguments)){var K=L.touches,X=K.length,ee=D(this,q,L.changedTouches.length===X).event(L),J,G,Y,Z;for(UI(L),G=0;G<X;++G)Y=K[G],Z=ja(Y,this),Z=[Z,this.__zoom.invert(Z),Y.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==Z[2]&&(ee.touch1=Z,ee.taps=0):(ee.touch0=Z,J=!0,ee.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(ee.taps<2&&(d=Z[0],c=setTimeout(function(){c=null},p)),zS(this),ee.start())}}function F(L,...q){if(this.__zooming){var K=D(this,q).event(L),X=L.changedTouches,ee=X.length,J,G,Y,Z;for(W0(L),J=0;J<ee;++J)G=X[J],Y=ja(G,this),K.touch0&&K.touch0[2]===G.identifier?K.touch0[0]=Y:K.touch1&&K.touch1[2]===G.identifier&&(K.touch1[0]=Y);if(G=K.that.__zoom,K.touch1){var W=K.touch0[0],oe=K.touch0[1],re=K.touch1[0],me=K.touch1[1],ge=(ge=re[0]-W[0])*ge+(ge=re[1]-W[1])*ge,ce=(ce=me[0]-oe[0])*ce+(ce=me[1]-oe[1])*ce;G=E(G,Math.sqrt(ge/ce)),Y=[(W[0]+re[0])/2,(W[1]+re[1])/2],Z=[(oe[0]+me[0])/2,(oe[1]+me[1])/2]}else if(K.touch0)Y=K.touch0[0],Z=K.touch0[1];else return;K.zoom("touch",n(x(G,Y,Z),K.extent,s))}}function $(L,...q){if(this.__zooming){var K=D(this,q).event(L),X=L.changedTouches,ee=X.length,J,G;for(UI(L),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),J=0;J<ee;++J)G=X[J],K.touch0&&K.touch0[2]===G.identifier?delete K.touch0:K.touch1&&K.touch1[2]===G.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(G=ja(G,this),Math.hypot(d[0]-G[0],d[1]-G[1])<b)){var Y=Fo(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return v.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:BE(+L),v):r},v.filter=function(L){return arguments.length?(t=typeof L=="function"?L:BE(!!L),v):t},v.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:BE(!!L),v):i},v.extent=function(L){return arguments.length?(e=typeof L=="function"?L:BE([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),v):e},v.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],v):[o[0],o[1]]},v.translateExtent=function(L){return arguments.length?(s[0][0]=+L[0][0],s[1][0]=+L[1][0],s[0][1]=+L[0][1],s[1][1]=+L[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(L){return arguments.length?(n=L,v):n},v.duration=function(L){return arguments.length?(a=+L,v):a},v.interpolate=function(L){return arguments.length?(l=L,v):l},v.on=function(){var L=u.on.apply(u,arguments);return L===u?v:L},v.clickDistance=function(L){return arguments.length?(y=(L=+L)*L,v):Math.sqrt(y)},v.tapDistance=function(L){return arguments.length?(b=+L,v):b},v}const hu={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Pw=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],CX=["Enter"," ","Escape"],TX={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var fv;(function(t){t.Strict="strict",t.Loose="loose"})(fv||(fv={}));var Ep;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Ep||(Ep={}));var Mw;(function(t){t.Partial="partial",t.Full="full"})(Mw||(Mw={}));const AX={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Vd;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Vd||(Vd={}));var Sp;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Sp||(Sp={}));var ut;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ut||(ut={}));const AV={[ut.Left]:ut.Right,[ut.Right]:ut.Left,[ut.Top]:ut.Bottom,[ut.Bottom]:ut.Top};function RX(t){return t===null?null:t?"valid":"invalid"}const kX=t=>"id"in t&&"source"in t&&"target"in t,Jde=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),I5=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),qx=(t,e=[0,0])=>{const{width:n,height:r}=Xc(t),i=t.origin??e,o=n*i[0],s=r*i[1];return{x:t.position.x-o,y:t.position.y-s}},Qde=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let s=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(s=o?e.nodeLookup.get(i):I5(i)?i:e.nodeLookup.get(i.id));const a=s?XC(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return kA(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return IA(n)},jx=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=XC(r);n=kA(n,i)}}),IA(n)},P5=(t,e,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...Wx(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:f=!1}=u;if(s&&!d||f)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,y=Nw(a,pv(u)),b=(p??0)*(m??0),v=o&&y>0;(!u.internals.handleBounds||v||y>=b||u.dragging)&&l.push(u)}return l},Zde=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function efe(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function tfe({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(t.size===0)return Promise.resolve(!0);const a=efe(t,s),l=jx(a),u=M5(l,e,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function IX({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(t),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let d=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",hu.error005());else{const p=a.measured.width,m=a.measured.height;p&&m&&(d=[[l,u],[l+p,u+m]])}else a&&gv(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const f=gv(d)?kp(e,d,s.measured):e;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",hu.error015())),{position:{x:f.x-l+(s.measured.width??0)*c[0],y:f.y-u+(s.measured.height??0)*c[1]},positionAbsolute:f}}async function nfe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(f=>f.id)),s=[];for(const f of n){if(f.deletable===!1)continue;const p=o.has(f.id),m=!p&&f.parentId&&s.find(y=>y.id===f.parentId);(p||m)&&s.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),c=Zde(s,l);for(const f of l)a.has(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!i)return{edges:c,nodes:s};const d=await i({nodes:s,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}const hv=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),kp=(t={x:0,y:0},e,n)=>({x:hv(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:hv(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function PX(t,e,n){const{width:r,height:i}=Xc(n),{x:o,y:s}=n.internals.positionAbsolute;return kp(t,[[o,s],[o+r,s+i]],e)}const RV=(t,e,n)=>t<e?hv(Math.abs(t-e),1,e)/e:t>n?-hv(Math.abs(t-n),1,e)/e:0,MX=(t,e,n=15,r=40)=>{const i=RV(t.x,r,e.width-r)*n,o=RV(t.y,r,e.height-r)*n;return[i,o]},kA=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),dL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),IA=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),pv=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=I5(t)?t.internals.positionAbsolute:qx(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0}},XC=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=I5(t)?t.internals.positionAbsolute:qx(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0)}},NX=(t,e)=>IA(kA(dL(t),dL(e))),Nw=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},kV=t=>Ka(t.width)&&Ka(t.height)&&Ka(t.x)&&Ka(t.y),Ka=t=>!isNaN(t)&&isFinite(t),rfe=(t,e)=>{},PA=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Wx=({x:t,y:e},[n,r,i],o=!1,s=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return o?PA(a,s):a},JC=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function rm(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function ife(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=rm(t,n),i=rm(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=rm(t.top??t.y??0,n),i=rm(t.bottom??t.y??0,n),o=rm(t.left??t.x??0,e),s=rm(t.right??t.x??0,e);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function ofe(t,e,n,r,i,o){const{x:s,y:a}=JC(t,[e,n,r]),{x:l,y:u}=JC({x:t.x+t.width,y:t.y+t.height},[e,n,r]),c=i-l,d=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const M5=(t,e,n,r,i,o)=>{const s=ife(o,e,n),a=(e-s.x)/t.width,l=(n-s.y)/t.height,u=Math.min(a,l),c=hv(u,r,i),d=t.x+t.width/2,f=t.y+t.height/2,p=e/2-d*c,m=n/2-f*c,y=ofe(t,p,m,c,e,n),b={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:p-b.left+b.right,y:m-b.top+b.bottom,zoom:c}},QC=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function gv(t){return t!==void 0&&t!=="parent"}function Xc(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function DX(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function LX(t,e={width:0,height:0},n,r,i){const o={...t},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(e.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(e.height??0)*a[1]}return o}function IV(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function sfe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function afe(t){return{...TX,...t||{}}}function sw(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=kc(t),a=Wx({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?PA(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const N5=t=>({width:t.offsetWidth,height:t.offsetHeight}),OX=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},lfe=["INPUT","SELECT","TEXTAREA"];function FX(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:lfe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const $X=t=>"clientX"in t,kc=(t,e)=>{var o,s;const n=$X(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},PV=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...N5(s)}})};function BX({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=t*.125+i*.375+s*.375+n*.125,u=e*.125+o*.375+a*.375+r*.125,c=Math.abs(l-t),d=Math.abs(u-e);return[l,u,c,d]}function zE(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function MV({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case ut.Left:return[e-zE(e-r,o),n];case ut.Right:return[e+zE(r-e,o),n];case ut.Top:return[e,n-zE(n-i,o)];case ut.Bottom:return[e,n+zE(i-n,o)]}}function MA({sourceX:t,sourceY:e,sourcePosition:n=ut.Bottom,targetX:r,targetY:i,targetPosition:o=ut.Top,curvature:s=.25}){const[a,l]=MV({pos:n,x1:t,y1:e,x2:r,y2:i,c:s}),[u,c]=MV({pos:o,x1:r,y1:i,x2:t,y2:e,c:s}),[d,f,p,m]=BX({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${a},${l} ${u},${c} ${r},${i}`,d,f,p,m]}function zX({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,s=Math.abs(r-e)/2,a=r<e?r+s:r-s;return[o,a,i,s]}function ufe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(o?s:0)}function cfe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=kA(XC(t),XC(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Nw(s,IA(o))>0}const dfe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,ffe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),VX=(t,e)=>{if(!t.source||!t.target)return e;let n;return kX(t)?n={...t}:n={...t,id:dfe(t)},ffe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function UX({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,s,a]=zX({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,s,a]}const NV={[ut.Left]:{x:-1,y:0},[ut.Right]:{x:1,y:0},[ut.Top]:{x:0,y:-1},[ut.Bottom]:{x:0,y:1}},hfe=({source:t,sourcePosition:e=ut.Bottom,target:n})=>e===ut.Left||e===ut.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},DV=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function pfe({source:t,sourcePosition:e=ut.Bottom,target:n,targetPosition:r=ut.Top,center:i,offset:o}){const s=NV[e],a=NV[r],l={x:t.x+s.x*o,y:t.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=hfe({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",f=c[d];let p=[],m,y;const b={x:0,y:0},v={x:0,y:0},[E,x,C,k]=zX({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){m=i.x??E,y=i.y??x;const A=[{x:m,y:l.y},{x:m,y:u.y}],P=[{x:l.x,y},{x:u.x,y}];s[d]===f?p=d==="x"?A:P:p=d==="x"?P:A}else{const A=[{x:l.x,y:u.y}],P=[{x:u.x,y:l.y}];if(d==="x"?p=s.x===f?P:A:p=s.y===f?A:P,e===r){const $=Math.abs(t[d]-n[d]);if($<=o){const L=Math.min(o-1,o-$);s[d]===f?b[d]=(l[d]>t[d]?-1:1)*L:v[d]=(u[d]>n[d]?-1:1)*L}}if(e!==r){const $=d==="x"?"y":"x",L=s[d]===a[$],q=l[$]>u[$],K=l[$]<u[$];(s[d]===1&&(!L&&q||L&&K)||s[d]!==1&&(!L&&K||L&&q))&&(p=d==="x"?A:P)}const M={x:l.x+b.x,y:l.y+b.y},I={x:u.x+v.x,y:u.y+v.y},O=Math.max(Math.abs(M.x-p[0].x),Math.abs(I.x-p[0].x)),F=Math.max(Math.abs(M.y-p[0].y),Math.abs(I.y-p[0].y));O>=F?(m=(M.x+I.x)/2,y=p[0].y):(m=p[0].x,y=(M.y+I.y)/2)}return[[t,{x:l.x+b.x,y:l.y+b.y},...p,{x:u.x+v.x,y:u.y+v.y},n],m,y,C,k]}function gfe(t,e,n,r){const i=Math.min(DV(t,e)/2,DV(e,n)/2,r),{x:o,y:s}=e;if(t.x===o&&o===n.x||t.y===s&&s===n.y)return`L${o} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function fL({sourceX:t,sourceY:e,sourcePosition:n=ut.Bottom,targetX:r,targetY:i,targetPosition:o=ut.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,d,f,p,m]=pfe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((b,v,E)=>{let x="";return E>0&&E<c.length-1?x=gfe(c[E-1],v,c[E+1],s):x=`${E===0?"M":"L"}${v.x} ${v.y}`,b+=x,b},""),d,f,p,m]}function LV(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function mfe(t){var d;const{sourceNode:e,targetNode:n}=t;if(!LV(e)||!LV(n))return null;const r=e.internals.handleBounds||OV(e.handles),i=n.internals.handleBounds||OV(n.handles),o=FV((r==null?void 0:r.source)??[],t.sourceHandle),s=FV(t.connectionMode===fv.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!o||!s)return(d=t.onError)==null||d.call(t,"008",hu.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(o==null?void 0:o.position)||ut.Bottom,l=(s==null?void 0:s.position)||ut.Top,u=Dw(e,o,a),c=Dw(n,s,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function OV(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Dw(t,e,n=ut.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:a}=e??Xc(t);if(r)return{x:i+s/2,y:o+a/2};switch((e==null?void 0:e.position)??n){case ut.Top:return{x:i+s/2,y:o};case ut.Right:return{x:i+s,y:o+a/2};case ut.Bottom:return{x:i+s/2,y:o+a};case ut.Left:return{x:i,y:o+a/2}}}function FV(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function hL(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function yfe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=hL(l,e);o.has(u)||(s.push({id:u,color:l.color||n,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const D5={nodeOrigin:[0,0],nodeExtent:Pw,elevateNodesOnSelect:!0,defaults:{}},vfe={...D5,checkEquality:!0};function L5(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function bfe(t,e,n){const r=L5(D5,n);for(const i of t.values())if(i.parentId)O5(i,t,e,r);else{const o=qx(i,r.nodeOrigin),s=gv(i.extent)?i.extent:r.nodeExtent,a=kp(o,s,Xc(i));i.internals.positionAbsolute=a}}function pL(t,e,n,r){var l,u;const i=L5(vfe,r);let o=t.length>0;const s=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let d=s.get(c.id);if(i.checkEquality&&c===(d==null?void 0:d.internals.userNode))e.set(c.id,d);else{const f=qx(c,i.nodeOrigin),p=gv(c.extent)?c.extent:i.nodeExtent,m=kp(f,p,Xc(c));d={...i.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:c.measured?d==null?void 0:d.internals.handleBounds:void 0,z:HX(c,a),userNode:c}},e.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&O5(d,e,n,r)}return o}function wfe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function O5(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=L5(D5,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}wfe(t,n);const u=i?1e3:0,{x:c,y:d,z:f}=_fe(t,l,o,s,u),{positionAbsolute:p}=t.internals,m=c!==p.x||d!==p.y;(m||f!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:d}:p,z:f}})}function HX(t,e){return(Ka(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function _fe(t,e,n,r,i){const{x:o,y:s}=e.internals.positionAbsolute,a=Xc(t),l=qx(t,n),u=gv(t.extent)?kp(l,t.extent,a):l;let c=kp({x:o+u.x,y:s+u.y},r,a);t.extent==="parent"&&(c=PX(c,a,e));const d=HX(t,i),f=e.internals.z??0;return{x:c.x,y:c.y,z:f>d?f:d}}function F5(t,e,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??pv(l),c=NX(u,a.rect);o.set(a.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},u)=>{var x;const c=l.internals.positionAbsolute,d=Xc(l),f=l.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,m=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,y=Math.max(d.width,Math.round(a.width)),b=Math.max(d.height,Math.round(a.height)),v=(y-d.width)*f[0],E=(b-d.height)*f[1];(p>0||m>0||v||E)&&(i.push({id:u,type:"position",position:{x:l.position.x-p+v,y:l.position.y-m+E}}),(x=n.get(u))==null||x.forEach(C=>{t.some(k=>k.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+p,y:C.position.y+m}})})),(d.width<a.width||d.height<a.height||p||m)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(p?f[0]*p-v:0),height:b+(m?f[1]*m-E:0)}})}),i}function xfe(t,e,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const f of t.values()){const p=e.get(f.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const m=N5(f.nodeElement),y=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!p.internals.handleBounds||f.force))){const v=f.nodeElement.getBoundingClientRect(),E=gv(p.extent)?p.extent:o;let{positionAbsolute:x}=p.internals;p.parentId&&p.extent==="parent"?x=PX(x,m,e.get(p.parentId)):E&&(x=kp(x,E,m));const C={...p,measured:m,internals:{...p.internals,positionAbsolute:x,handleBounds:{source:PV("source",f.nodeElement,v,c,p.id),target:PV("target",f.nodeElement,v,c,p.id)}}};e.set(p.id,C),p.parentId&&O5(C,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:pv(C,i)}))}}if(d.length>0){const f=F5(d,e,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function Efe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function $V(t,e,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,e)),s=`${i}-${t}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,e)),o){s=`${i}-${t}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,e))}}function qX(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;$V("source",l,c,t,i,s),$V("target",l,u,t,o,a),e.set(r.id,r)}}function jX(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:jX(n,e):!1}function BV(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Sfe(t,e,n,r){const i=new Map;for(const[o,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!jX(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const a=t.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function HI({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[u,c]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&i.push({...d,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=(a=n.get(t))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=e.get(t))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Cfe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},c=null,d=!1,f=null,p=!1;function m({noDragClassName:b,handleSelector:v,domNode:E,isSelectable:x,nodeId:C,nodeClickDistance:k=0}){f=Fo(E);function D({x:I,y:O},F){const{nodeLookup:$,nodeExtent:L,snapGrid:q,snapToGrid:K,nodeOrigin:X,onNodeDrag:ee,onSelectionDrag:J,onError:G,updateNodePositions:Y}=e();o={x:I,y:O};let Z=!1,W={x:0,y:0,x2:0,y2:0};if(a.size>1&&L){const oe=jx(a);W=dL(oe)}for(const[oe,re]of a){if(!$.has(oe))continue;let me={x:I-re.distance.x,y:O-re.distance.y};K&&(me=PA(me,q));let ge=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];if(a.size>1&&L&&!re.extent){const{positionAbsolute:be}=re.internals,Ce=be.x-W.x+L[0][0],Ae=be.x+re.measured.width-W.x2+L[1][0],Oe=be.y-W.y+L[0][1],j=be.y+re.measured.height-W.y2+L[1][1];ge=[[Ce,Oe],[Ae,j]]}const{position:ce,positionAbsolute:he}=IX({nodeId:oe,nextPosition:me,nodeLookup:$,nodeExtent:ge,nodeOrigin:X,onError:G});Z=Z||re.position.x!==ce.x||re.position.y!==ce.y,re.position=ce,re.internals.positionAbsolute=he}if(Z&&(Y(a,!0),F&&(r||ee||!C&&J))){const[oe,re]=HI({nodeId:C,dragItems:a,nodeLookup:$});r==null||r(F,a,oe,re),ee==null||ee(F,oe,re),C||J==null||J(F,re)}}async function A(){if(!c)return;const{transform:I,panBy:O,autoPanSpeed:F,autoPanOnNodeDrag:$}=e();if(!$){l=!1,cancelAnimationFrame(s);return}const[L,q]=MX(u,c,F);(L!==0||q!==0)&&(o.x=(o.x??0)-L/I[2],o.y=(o.y??0)-q/I[2],await O({x:L,y:q})&&D(o,null)),s=requestAnimationFrame(A)}function P(I){var Z;const{nodeLookup:O,multiSelectionActive:F,nodesDraggable:$,transform:L,snapGrid:q,snapToGrid:K,selectNodesOnDrag:X,onNodeDragStart:ee,onSelectionDragStart:J,unselectNodesAndEdges:G}=e();d=!0,(!X||!x)&&!F&&C&&((Z=O.get(C))!=null&&Z.selected||G()),x&&X&&C&&(t==null||t(C));const Y=sw(I.sourceEvent,{transform:L,snapGrid:q,snapToGrid:K,containerBounds:c});if(o=Y,a=Sfe(O,$,Y,C),a.size>0&&(n||ee||!C&&J)){const[W,oe]=HI({nodeId:C,dragItems:a,nodeLookup:O});n==null||n(I.sourceEvent,a,W,oe),ee==null||ee(I.sourceEvent,W,oe),C||J==null||J(I.sourceEvent,oe)}}const M=uX().clickDistance(k).on("start",I=>{const{domNode:O,nodeDragThreshold:F,transform:$,snapGrid:L,snapToGrid:q}=e();c=(O==null?void 0:O.getBoundingClientRect())||null,p=!1,F===0&&P(I),o=sw(I.sourceEvent,{transform:$,snapGrid:L,snapToGrid:q,containerBounds:c}),u=kc(I.sourceEvent,c)}).on("drag",I=>{const{autoPanOnNodeDrag:O,transform:F,snapGrid:$,snapToGrid:L,nodeDragThreshold:q,nodeLookup:K}=e(),X=sw(I.sourceEvent,{transform:F,snapGrid:$,snapToGrid:L,containerBounds:c});if((I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1||C&&!K.has(C))&&(p=!0),!p){if(!l&&O&&d&&(l=!0,A()),!d){const ee=X.xSnapped-(o.x??0),J=X.ySnapped-(o.y??0);Math.sqrt(ee*ee+J*J)>q&&P(I)}(o.x!==X.xSnapped||o.y!==X.ySnapped)&&a&&d&&(u=kc(I.sourceEvent,c),D(X,I.sourceEvent))}}).on("end",I=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:O,updateNodePositions:F,onNodeDragStop:$,onSelectionDragStop:L}=e();if(F(a,!1),i||$||!C&&L){const[q,K]=HI({nodeId:C,dragItems:a,nodeLookup:O,dragging:!1});i==null||i(I.sourceEvent,a,q,K),$==null||$(I.sourceEvent,q,K),C||L==null||L(I.sourceEvent,K)}}}).filter(I=>{const O=I.target;return!I.button&&(!b||!BV(O,`.${b}`,E))&&(!v||BV(O,v,E))});f.call(M)}function y(){f==null||f.on(".drag",null)}return{update:m,destroy:y}}function Tfe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())Nw(i,pv(o))>0&&r.push(o);return r}const Afe=250;function Rfe(t,e,n,r){var a,l;let i=[],o=1/0;const s=Tfe(t,n,e+Afe);for(const u of s){const c=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:p}=Dw(u,d,d.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...d,x:f,y:p}],o=m):m===o&&i.push({...d,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function WX(t,e,n,r,i,o=!1){var u,c,d;const s=r.get(t);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...Dw(s,l,l.position,!0)}:l}function GX(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function kfe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const KX=()=>!0;function Ife(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:p,onConnectStart:m,onConnect:y,onConnectEnd:b,isValidConnection:v=KX,onReconnectEnd:E,updateConnection:x,getTransform:C,getFromHandle:k,autoPanSpeed:D}){const A=OX(t.target);let P=0,M;const{x:I,y:O}=kc(t),F=A==null?void 0:A.elementFromPoint(I,O),$=GX(o,F),L=a==null?void 0:a.getBoundingClientRect();if(!L||!$)return;const q=WX(i,$,r,l,e);if(!q)return;let K=kc(t,L),X=!1,ee=null,J=!1,G=null;function Y(){if(!c||!L)return;const[he,be]=MX(K,L,D);f({x:he,y:be}),P=requestAnimationFrame(Y)}const Z={...q,nodeId:i,type:$,position:q.position},W=l.get(i),re={inProgress:!0,isValid:null,from:Dw(W,Z,ut.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:W,to:K,toHandle:null,toPosition:AV[Z.position],toNode:null};x(re);let me=re;m==null||m(t,{nodeId:i,handleId:r,handleType:$});function ge(he){if(!k()||!Z){ce(he);return}const be=C();K=kc(he,L),M=Rfe(Wx(K,be,!1,[1,1]),n,l,Z),X||(Y(),X=!0);const Ce=YX(he,{handle:M,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:v,doc:A,lib:u,flowId:d,nodeLookup:l});G=Ce.handleDomNode,ee=Ce.connection,J=kfe(!!M,Ce.isValid);const Ae={...me,isValid:J,to:Ce.toHandle&&J?JC({x:Ce.toHandle.x,y:Ce.toHandle.y},be):K,toHandle:Ce.toHandle,toPosition:J&&Ce.toHandle?Ce.toHandle.position:AV[Z.position],toNode:Ce.toHandle?l.get(Ce.toHandle.nodeId):null};J&&M&&me.toHandle&&Ae.toHandle&&me.toHandle.type===Ae.toHandle.type&&me.toHandle.nodeId===Ae.toHandle.nodeId&&me.toHandle.id===Ae.toHandle.id&&me.to.x===Ae.to.x&&me.to.y===Ae.to.y||(x(Ae),me=Ae)}function ce(he){(M||G)&&ee&&J&&(y==null||y(ee));const{inProgress:be,...Ce}=me,Ae={...Ce,toPosition:me.toHandle?me.toPosition:null};b==null||b(he,Ae),o&&(E==null||E(he,Ae)),p(),cancelAnimationFrame(P),X=!1,J=!1,ee=null,G=null,A.removeEventListener("mousemove",ge),A.removeEventListener("mouseup",ce),A.removeEventListener("touchmove",ge),A.removeEventListener("touchend",ce)}A.addEventListener("mousemove",ge),A.addEventListener("mouseup",ce),A.addEventListener("touchmove",ge),A.addEventListener("touchend",ce)}function YX(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=KX,nodeLookup:c}){const d=o==="target",f=e?s.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=kc(t),y=s.elementFromPoint(p,m),b=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:f,v={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const E=GX(void 0,b),x=b.getAttribute("data-nodeid"),C=b.getAttribute("data-handleid"),k=b.classList.contains("connectable"),D=b.classList.contains("connectableend");if(!x||!E)return v;const A={source:d?x:r,sourceHandle:d?C:i,target:d?r:x,targetHandle:d?i:C};v.connection=A;const M=k&&D&&(n===fv.Strict?d&&E==="source"||!d&&E==="target":x!==r||C!==i);v.isValid=M&&u(A),v.toHandle=WX(x,E,C,c,n,!0)}return v}const gL={onPointerDown:Ife,isValid:YX};function Pfe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Fo(t);function o({translateExtent:a,width:l,height:u,zoomStep:c=10,pannable:d=!0,zoomable:f=!0,inversePan:p=!1}){const m=x=>{const C=n();if(x.sourceEvent.type!=="wheel"||!e)return;const k=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*c,D=C[2]*Math.pow(2,k);e.scaleTo(D)};let y=[0,0];const b=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(y=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},v=x=>{const C=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!e)return;const k=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],D=[k[0]-y[0],k[1]-y[1]];y=k;const A=r()*Math.max(C[2],Math.log(C[2]))*(p?-1:1),P={x:C[0]-D[0]*A,y:C[1]-D[1]*A},M=[[0,0],[l,u]];e.setViewportConstrained({x:P.x,y:P.y,zoom:C[2]},M,a)},E=SX().on("start",b).on("zoom",d?v:null).on("zoom.wheel",f?m:null);i.call(E,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:ja}}const Mfe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,NA=t=>({x:t.x,y:t.y,zoom:t.k}),qI=({x:t,y:e,zoom:n})=>RA.translate(t,e).scale(n),Jm=(t,e)=>t.target.closest(`.${e}`),XX=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Nfe=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,jI=(t,e=0,n=Nfe,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},JX=t=>{const e=t.ctrlKey&&QC()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Dfe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(Jm(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&s){const b=ja(c),v=JX(c),E=d*Math.pow(2,v);r.scaleTo(n,E,b,c);return}const f=c.deltaMode===1?20:1;let p=i===Ep.Vertical?0:c.deltaX*f,m=i===Ep.Horizontal?0:c.deltaY*f;!QC()&&c.shiftKey&&i!==Ep.Vertical&&(p=c.deltaY*f,m=0),r.translateBy(n,-(p/d)*o,-(m/d)*o,{internal:!0});const y=NA(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(c,y)),t.isPanScrolling&&(l==null||l(c,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),t.isPanScrolling=!1},150))}}function Lfe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!e&&o&&!r.ctrlKey,a=Jm(r,t);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function Ofe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=NA(r.transform);t.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function Ffe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;t.usedRightMouseButton=!!(n&&XX(e,t.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,NA(o.transform)))}}function $fe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,o&&XX(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&Mfe(t.prevViewport,s.transform))){const l=NA(s.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function Bfe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u}){return c=>{var m;const d=t||e,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(Jm(c,`${u}-flow__node`)||Jm(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||Jm(c,a)&&c.type==="wheel"||Jm(c,l)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!d&&!i&&!f&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function zfe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=SX().clickDistance(!Ka(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=Fo(t).call(f);x({x:o.x,y:o.y,zoom:hv(o.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=p.on("wheel.zoom"),y=p.on("dblclick.zoom");f.wheelDelta(JX);function b(F,$){return p?new Promise(L=>{f==null||f.interpolate(($==null?void 0:$.interpolate)==="linear"?oy:FS).transform(jI(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>L(!0)),F)}):Promise.resolve(!1)}function v({noWheelClassName:F,noPanClassName:$,onPaneContextMenu:L,userSelectionActive:q,panOnScroll:K,panOnDrag:X,panOnScrollMode:ee,panOnScrollSpeed:J,preventScrolling:G,zoomOnPinch:Y,zoomOnScroll:Z,zoomOnDoubleClick:W,zoomActivationKeyPressed:oe,lib:re,onTransformChange:me}){q&&!c.isZoomingOrPanning&&E();const ce=K&&!oe&&!q?Dfe({zoomPanValues:c,noWheelClassName:F,d3Selection:p,d3Zoom:f,panOnScrollMode:ee,panOnScrollSpeed:J,zoomOnPinch:Y,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):Lfe({noWheelClassName:F,preventScrolling:G,d3ZoomHandler:m});if(p.on("wheel.zoom",ce,{passive:!1}),!q){const be=Ofe({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:a});f.on("start",be);const Ce=Ffe({zoomPanValues:c,panOnDrag:X,onPaneContextMenu:!!L,onPanZoom:s,onTransformChange:me});f.on("zoom",Ce);const Ae=$fe({zoomPanValues:c,panOnDrag:X,panOnScroll:K,onPaneContextMenu:L,onPanZoomEnd:l,onDraggingChange:u});f.on("end",Ae)}const he=Bfe({zoomActivationKeyPressed:oe,panOnDrag:X,zoomOnScroll:Z,panOnScroll:K,zoomOnDoubleClick:W,zoomOnPinch:Y,userSelectionActive:q,noPanClassName:$,noWheelClassName:F,lib:re});f.filter(he),W?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function E(){f.on("zoom",null)}async function x(F,$,L){const q=qI(F),K=f==null?void 0:f.constrain()(q,$,L);return K&&await b(K),new Promise(X=>X(K))}async function C(F,$){const L=qI(F);return await b(L,$),new Promise(q=>q(L))}function k(F){if(p){const $=qI(F),L=p.property("__zoom");(L.k!==F.zoom||L.x!==F.x||L.y!==F.y)&&(f==null||f.transform(p,$,null,{sync:!0}))}}function D(){const F=p?EX(p.node()):{x:0,y:0,k:1};return{x:F.x,y:F.y,zoom:F.k}}function A(F,$){return p?new Promise(L=>{f==null||f.interpolate(($==null?void 0:$.interpolate)==="linear"?oy:FS).scaleTo(jI(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>L(!0)),F)}):Promise.resolve(!1)}function P(F,$){return p?new Promise(L=>{f==null||f.interpolate(($==null?void 0:$.interpolate)==="linear"?oy:FS).scaleBy(jI(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>L(!0)),F)}):Promise.resolve(!1)}function M(F){f==null||f.scaleExtent(F)}function I(F){f==null||f.translateExtent(F)}function O(F){const $=!Ka(F)||F<0?0:F;f==null||f.clickDistance($)}return{update:v,destroy:E,setViewport:C,setViewportConstrained:x,getViewport:D,scaleTo:A,scaleBy:P,setScaleExtent:M,setTranslateExtent:I,syncViewport:k,setClickDistance:O}}var mv;(function(t){t.Line="line",t.Handle="handle"})(mv||(mv={}));function Vfe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=t-e,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function Ufe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function kd(t,e){return Math.max(0,e-t)}function Id(t,e){return Math.max(0,t-e)}function VE(t,e,n){return Math.max(0,e-t,t-n)}function zV(t,e){return t?!e:e}function Hfe(t,e,n,r,i,o,s,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:d}=e,f=c&&d,{xSnapped:p,ySnapped:m}=n,{minWidth:y,maxWidth:b,minHeight:v,maxHeight:E}=r,{x,y:C,width:k,height:D,aspectRatio:A}=t;let P=Math.floor(c?p-t.pointerX:0),M=Math.floor(d?m-t.pointerY:0);const I=k+(l?-P:P),O=D+(u?-M:M),F=-o[0]*k,$=-o[1]*D;let L=VE(I,y,b),q=VE(O,v,E);if(s){let ee=0,J=0;l&&P<0?ee=kd(x+P+F,s[0][0]):!l&&P>0&&(ee=Id(x+I+F,s[1][0])),u&&M<0?J=kd(C+M+$,s[0][1]):!u&&M>0&&(J=Id(C+O+$,s[1][1])),L=Math.max(L,ee),q=Math.max(q,J)}if(a){let ee=0,J=0;l&&P>0?ee=Id(x+P,a[0][0]):!l&&P<0&&(ee=kd(x+I,a[1][0])),u&&M>0?J=Id(C+M,a[0][1]):!u&&M<0&&(J=kd(C+O,a[1][1])),L=Math.max(L,ee),q=Math.max(q,J)}if(i){if(c){const ee=VE(I/A,v,E)*A;if(L=Math.max(L,ee),s){let J=0;!l&&!u||l&&!u&&f?J=Id(C+$+I/A,s[1][1])*A:J=kd(C+$+(l?P:-P)/A,s[0][1])*A,L=Math.max(L,J)}if(a){let J=0;!l&&!u||l&&!u&&f?J=kd(C+I/A,a[1][1])*A:J=Id(C+(l?P:-P)/A,a[0][1])*A,L=Math.max(L,J)}}if(d){const ee=VE(O*A,y,b)/A;if(q=Math.max(q,ee),s){let J=0;!l&&!u||u&&!l&&f?J=Id(x+O*A+F,s[1][0])/A:J=kd(x+(u?M:-M)*A+F,s[0][0])/A,q=Math.max(q,J)}if(a){let J=0;!l&&!u||u&&!l&&f?J=kd(x+O*A,a[1][0])/A:J=Id(x+(u?M:-M)*A,a[0][0])/A,q=Math.max(q,J)}}}M=M+(M<0?q:-q),P=P+(P<0?L:-L),i&&(f?I>O*A?M=(zV(l,u)?-P:P)/A:P=(zV(l,u)?-M:M)*A:c?(M=P/A,u=l):(P=M*A,l=u));const K=l?x+P:x,X=u?C+M:C;return{width:k+(l?-P:P),height:D+(u?-M:M),x:o[0]*P*(l?-1:1)+K,y:o[1]*M*(u?-1:1)+X}}const QX={width:0,height:0,x:0,y:0},qfe={...QX,pointerX:0,pointerY:0,aspectRatio:1};function jfe(t){return[[0,0],[t.measured.width,t.measured.height]]}function Wfe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,s=t.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function Gfe({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Fo(t);function s({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:d,onResizeStart:f,onResize:p,onResizeEnd:m,shouldResize:y}){let b={...QX},v={...qfe};const E=Ufe(l);let x,C=null,k=[],D,A,P;const M=uX().on("start",I=>{const{nodeLookup:O,transform:F,snapGrid:$,snapToGrid:L,nodeOrigin:q,paneDomNode:K}=n();if(x=O.get(e),!x)return;C=(K==null?void 0:K.getBoundingClientRect())??null;const{xSnapped:X,ySnapped:ee}=sw(I.sourceEvent,{transform:F,snapGrid:$,snapToGrid:L,containerBounds:C});b={width:x.measured.width??0,height:x.measured.height??0,x:x.position.x??0,y:x.position.y??0},v={...b,pointerX:X,pointerY:ee,aspectRatio:b.width/b.height},D=void 0,x.parentId&&(x.extent==="parent"||x.expandParent)&&(D=O.get(x.parentId),A=D&&x.extent==="parent"?jfe(D):void 0),k=[],P=void 0;for(const[J,G]of O)if(G.parentId===e&&(k.push({id:J,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const Y=Wfe(G,x,G.origin??q);P?P=[[Math.min(Y[0][0],P[0][0]),Math.min(Y[0][1],P[0][1])],[Math.max(Y[1][0],P[1][0]),Math.max(Y[1][1],P[1][1])]]:P=Y}f==null||f(I,{...b})}).on("drag",I=>{const{transform:O,snapGrid:F,snapToGrid:$,nodeOrigin:L}=n(),q=sw(I.sourceEvent,{transform:O,snapGrid:F,snapToGrid:$,containerBounds:C}),K=[];if(!x)return;const{x:X,y:ee,width:J,height:G}=b,Y={},Z=x.origin??L,{width:W,height:oe,x:re,y:me}=Hfe(v,E,q,u,c,Z,A,P),ge=W!==J,ce=oe!==G,he=re!==X&&ge,be=me!==ee&&ce;if(!he&&!be&&!ge&&!ce)return;if((he||be||Z[0]===1||Z[1]===1)&&(Y.x=he?re:b.x,Y.y=be?me:b.y,b.x=Y.x,b.y=Y.y,k.length>0)){const j=re-X,pe=me-ee;for(const ve of k)ve.position={x:ve.position.x-j+Z[0]*(W-J),y:ve.position.y-pe+Z[1]*(oe-G)},K.push(ve)}if((ge||ce)&&(Y.width=ge&&(!d||d==="horizontal")?W:b.width,Y.height=ce&&(!d||d==="vertical")?oe:b.height,b.width=Y.width,b.height=Y.height),D&&x.expandParent){const j=Z[0]*(Y.width??0);Y.x&&Y.x<j&&(b.x=j,v.x=v.x-(Y.x-j));const pe=Z[1]*(Y.height??0);Y.y&&Y.y<pe&&(b.y=pe,v.y=v.y-(Y.y-pe))}const Ce=Vfe({width:b.width,prevWidth:J,height:b.height,prevHeight:G,affectsX:E.affectsX,affectsY:E.affectsY}),Ae={...b,direction:Ce};(y==null?void 0:y(I,Ae))!==!1&&(p==null||p(I,Ae),r(Y,K))}).on("end",I=>{m==null||m(I,{...b}),i==null||i({...b})});o.call(M)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var WI={exports:{}},GI={},KI={exports:{}},YI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV;function Kfe(){if(VV)return YI;VV=1;var t=nl();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(d,f){var p=f(),m=r({inst:{value:p,getSnapshot:f}}),y=m[0].inst,b=m[1];return o(function(){y.value=p,y.getSnapshot=f,l(y)&&b({inst:y})},[d,p,f]),i(function(){return l(y)&&b({inst:y}),d(function(){l(y)&&b({inst:y})})},[d]),s(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return YI.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,YI}var UV;function Yfe(){return UV||(UV=1,KI.exports=Kfe()),KI.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HV;function Xfe(){if(HV)return GI;HV=1;var t=nl(),e=Yfe();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return GI.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var m=o(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function v(D){if(!E){if(E=!0,x=D,D=f(D),p!==void 0&&y.hasValue){var A=y.value;if(p(A,D))return C=A}return C=D}if(A=C,r(x,D))return A;var P=f(D);return p!==void 0&&p(A,P)?(x=D,A):(x=D,C=P)}var E=!1,x,C,k=d===void 0?null:d;return[function(){return v(c())},k===null?void 0:function(){return v(k())}]},[c,d,f,p]);var b=i(u,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=b},[b]),l(b),b},GI}var qV;function Jfe(){return qV||(qV=1,WI.exports=Xfe()),WI.exports}var Qfe=Jfe();const Zfe=Ni(Qfe),ehe={},jV=t=>{let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(ehe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},the=t=>t?jV(t):jV,{useDebugValue:nhe}=ue,{useSyncExternalStoreWithSelector:rhe}=Zfe,ihe=t=>t;function ZX(t,e=ihe,n){const r=rhe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return nhe(r),r}const WV=(t,e)=>{const n=the(t),r=(i,o=e)=>ZX(n,i,o);return Object.assign(r,n),r},ohe=(t,e)=>t?WV(t,e):WV;function dr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Ic=EA();const hf=Ni(Ic),DA=z.createContext(null),she=DA.Provider,eJ=hu.error001();function un(t,e){const n=z.useContext(DA);if(n===null)throw new Error(eJ);return ZX(n,t,e)}function fr(){const t=z.useContext(DA);if(t===null)throw new Error(eJ);return z.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const GV={display:"none"},ahe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tJ="react-flow__node-desc",nJ="react-flow__edge-desc",lhe="react-flow__aria-live",uhe=t=>t.ariaLiveMessage,che=t=>t.ariaLabelConfig;function dhe({rfId:t}){const e=un(uhe);return V.jsx("div",{id:`${lhe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:ahe,children:e})}function fhe({rfId:t,disableKeyboardA11y:e}){const n=un(che);return V.jsxs(V.Fragment,{children:[V.jsx("div",{id:`${tJ}-${t}`,style:GV,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),V.jsx("div",{id:`${nJ}-${t}`,style:GV,children:n["edge.a11yDescription.default"]}),!e&&V.jsx(dhe,{rfId:t})]})}const hhe=t=>t.userSelectionActive?"none":"all",yv=z.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const s=un(hhe),a=`${t}`.split("-");return V.jsx("div",{className:Gr(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:e})});yv.displayName="Panel";function phe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:V.jsx(yv,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:V.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ghe=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},UE=t=>t.id;function mhe(t,e){return dr(t.selectedNodes.map(UE),e.selectedNodes.map(UE))&&dr(t.selectedEdges.map(UE),e.selectedEdges.map(UE))}function yhe({onSelectionChange:t}){const e=fr(),{selectedNodes:n,selectedEdges:r}=un(ghe,mhe);return z.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const vhe=t=>!!t.onSelectionChangeHandlers;function bhe({onSelectionChange:t}){const e=un(vhe);return t||e?V.jsx(yhe,{onSelectionChange:t}):null}const rJ=[0,0],whe={x:0,y:0,zoom:1},_he=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],KV=[..._he,"rfId"],xhe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),YV={translateExtent:Pw,nodeOrigin:rJ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Ehe(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=un(xhe,dr),c=fr();z.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=YV,a()}),[]);const d=z.useRef(YV);return z.useEffect(()=>{for(const f of KV){const p=t[f],m=d.current[f];p!==m&&(typeof t[f]>"u"||(f==="nodes"?e(p):f==="edges"?n(p):f==="minZoom"?r(p):f==="maxZoom"?i(p):f==="translateExtent"?o(p):f==="nodeExtent"?s(p):f==="paneClickDistance"?u(p):f==="fitView"?c.setState({fitViewQueued:p}):f==="fitViewOptions"&&c.setState({fitViewOptions:p}),f==="ariaLabelConfig"?c.setState({ariaLabelConfig:afe(p)}):c.setState({[f]:p})))}d.current=t},KV.map(f=>t[f])),null}function XV(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function She(t){var r;const[e,n]=z.useState(t==="system"?null:t);return z.useEffect(()=>{if(t!=="system"){n(t);return}const i=XV(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[t]),e!==null?e:(r=XV())!=null&&r.matches?"dark":"light"}const JV=typeof document<"u"?document:null;function Lw(t=null,e={target:JV,actInsideInputWithModifier:!0}){const[n,r]=z.useState(!1),i=z.useRef(!1),o=z.useRef(new Set([])),[s,a]=z.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[t]);return z.useEffect(()=>{const l=(e==null?void 0:e.target)??JV,u=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const c=p=>{var b,v;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&FX(p))return!1;const y=ZV(p.code,a);if(o.current.add(p[y]),QV(s,o.current,!1)){const E=((v=(b=p.composedPath)==null?void 0:b.call(p))==null?void 0:v[0])||p.target,x=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";e.preventDefault!==!1&&(i.current||!x)&&p.preventDefault(),r(!0)}},d=p=>{const m=ZV(p.code,a);QV(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[m]),p.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function QV(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function ZV(t,e){return e.includes(t)?"code":"key"}const Che=()=>{const t=fr();return z.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=t.getState(),l=M5(e,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=t.getState();if(!s)return e;const{x:a,y:l}=s.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},c=n.snapGrid??i,d=n.snapToGrid??o;return Wx(u,r,d,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),s=JC(e,n);return{x:s.x+i,y:s.y+o}}}),[])};function iJ(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of e){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)The(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function The(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function oJ(t,e){return iJ(t,e)}function sJ(t,e){return iJ(t,e)}function fh(t,e){return{id:t,type:"select",selected:e}}function Qm(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const s=e.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(fh(o.id,s)))}return r}function e6({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(o=>[o.id,o]));for(const[o,s]of t.entries()){const a=e.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of e)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function t6(t){return{id:t.id,type:"remove"}}const n6=t=>Jde(t),Ahe=t=>kX(t);function aJ(t){return z.forwardRef(t)}const Rhe=typeof window<"u"?z.useLayoutEffect:z.useEffect;function r6(t){const[e,n]=z.useState(BigInt(0)),[r]=z.useState(()=>khe(()=>n(i=>i+BigInt(1))));return Rhe(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function khe(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const lJ=z.createContext(null);function Ihe({children:t}){const e=fr(),n=z.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:d,nodeLookup:f,fitViewQueued:p}=e.getState();let m=l;for(const b of a)m=typeof b=="function"?b(m):b;const y=e6({items:m,lookup:f});c&&u(m),y.length>0?d==null||d(y):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:v,setNodes:E}=e.getState();b&&E(v)})},[]),r=r6(n),i=z.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:f}=e.getState();let p=l;for(const m of a)p=typeof m=="function"?m(p):m;c?u(p):d&&d(e6({items:p,lookup:f}))},[]),o=r6(i),s=z.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return V.jsx(lJ.Provider,{value:s,children:t})}function Phe(){const t=z.useContext(lJ);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Mhe=t=>!!t.panZoom;function LA(){const t=Che(),e=fr(),n=Phe(),r=un(Mhe),i=z.useMemo(()=>{const o=d=>e.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var v,E;const{nodeLookup:f,nodeOrigin:p}=e.getState(),m=n6(d)?d:f.get(d.id),y=m.parentId?LX(m.position,m.measured,m.parentId,f,p):m.position,b={...m,position:y,width:((v=m.measured)==null?void 0:v.width)??m.width,height:((E=m.measured)==null?void 0:E.height)??m.height};return pv(b)},u=(d,f,p={replace:!1})=>{s(m=>m.map(y=>{if(y.id===d){const b=typeof f=="function"?f(y):f;return p.replace&&n6(b)?b:{...y,...b}}return y}))},c=(d,f,p={replace:!1})=>{a(m=>m.map(y=>{if(y.id===d){const b=typeof f=="function"?f(y):f;return p.replace&&Ahe(b)?b:{...y,...b}}return y}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=o(d))==null?void 0:f.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(f=>({...f}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:p}=e.getState(),[m,y,b]=p;return{nodes:d.map(v=>({...v})),edges:f.map(v=>({...v})),viewport:{x:m,y,zoom:b}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:p,edges:m,onNodesDelete:y,onEdgesDelete:b,triggerNodeChanges:v,triggerEdgeChanges:E,onDelete:x,onBeforeDelete:C}=e.getState(),{nodes:k,edges:D}=await nfe({nodesToRemove:d,edgesToRemove:f,nodes:p,edges:m,onBeforeDelete:C}),A=D.length>0,P=k.length>0;if(A){const M=D.map(t6);b==null||b(D),E(M)}if(P){const M=k.map(t6);y==null||y(k),v(M)}return(P||A)&&(x==null||x({nodes:k,edges:D})),{deletedNodes:k,deletedEdges:D}},getIntersectingNodes:(d,f=!0,p)=>{const m=kV(d),y=m?d:l(d),b=p!==void 0;return y?(p||e.getState().nodes).filter(v=>{const E=e.getState().nodeLookup.get(v.id);if(E&&!m&&(v.id===d.id||!E.internals.positionAbsolute))return!1;const x=pv(b?v:E),C=Nw(x,y);return f&&C>0||C>=y.width*y.height}):[]},isNodeIntersecting:(d,f,p=!0)=>{const y=kV(d)?d:l(d);if(!y)return!1;const b=Nw(y,f);return p&&b>0||b>=y.width*y.height},updateNode:u,updateNodeData:(d,f,p={replace:!1})=>{u(d,m=>{const y=typeof f=="function"?f(m):f;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},updateEdge:c,updateEdgeData:(d,f,p={replace:!1})=>{c(d,m=>{const y=typeof f=="function"?f(m):f;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:p}=e.getState();return Qde(d,{nodeLookup:f,nodeOrigin:p})},getHandleConnections:({type:d,id:f,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${d}${f?`-${f}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:f,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${d?f?`-${d}-${f}`:`-${d}`:""}`))==null?void 0:m.values())??[])},fitView:async d=>{const f=e.getState().fitViewResolver??sfe();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(p=>[...p]),f.promise}}},[]);return z.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const i6=t=>t.selected,Nhe=typeof window<"u"?window:void 0;function Dhe({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=fr(),{deleteElements:r}=LA(),i=Lw(t,{actInsideInputWithModifier:!1}),o=Lw(e,{target:Nhe});z.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(i6),edges:s.filter(i6)}),n.setState({nodesSelectionActive:!1})}},[i]),z.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Lhe(t){const e=fr();z.useEffect(()=>{const n=()=>{var i,o;if(!t.current)return!1;const r=N5(t.current);(r.height===0||r.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",hu.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const OA={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ohe=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function Fhe({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Ep.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:b,onViewportChange:v,isControlledViewport:E,paneClickDistance:x}){const C=fr(),k=z.useRef(null),{userSelectionActive:D,lib:A}=un(Ohe,dr),P=Lw(f),M=z.useRef();Lhe(k);const I=z.useCallback(O=>{v==null||v({x:O[0],y:O[1],zoom:O[2]}),E||C.setState({transform:O})},[v,E]);return z.useEffect(()=>{if(k.current){M.current=zfe({domNode:k.current,minZoom:c,maxZoom:d,translateExtent:u,viewport:l,paneClickDistance:x,onDraggingChange:L=>C.setState({paneDragging:L}),onPanZoomStart:(L,q)=>{const{onViewportChangeStart:K,onMoveStart:X}=C.getState();X==null||X(L,q),K==null||K(q)},onPanZoom:(L,q)=>{const{onViewportChange:K,onMove:X}=C.getState();X==null||X(L,q),K==null||K(q)},onPanZoomEnd:(L,q)=>{const{onViewportChangeEnd:K,onMoveEnd:X}=C.getState();X==null||X(L,q),K==null||K(q)}});const{x:O,y:F,zoom:$}=M.current.getViewport();return C.setState({panZoom:M.current,transform:[O,F,$],domNode:k.current.closest(".react-flow")}),()=>{var L;(L=M.current)==null||L.destroy()}}},[]),z.useEffect(()=>{var O;(O=M.current)==null||O.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:P,preventScrolling:p,noPanClassName:b,userSelectionActive:D,noWheelClassName:y,lib:A,onTransformChange:I})},[t,e,n,r,i,o,s,a,P,p,b,D,y,A,I]),V.jsx("div",{className:"react-flow__renderer",ref:k,style:OA,children:m})}const $he=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Bhe(){const{userSelectionActive:t,userSelectionRect:e}=un($he,dr);return t&&e?V.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const XI=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},zhe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function Vhe({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Mw.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:f,children:p}){const m=fr(),{userSelectionActive:y,elementsSelectable:b,dragging:v,connectionInProgress:E}=un(zhe,dr),x=b&&(t||y),C=z.useRef(null),k=z.useRef(),D=z.useRef(new Set),A=z.useRef(new Set),P=z.useRef(!1),M=z.useRef(!1),I=X=>{if(P.current||E){P.current=!1;return}a==null||a(X),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},O=X=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){X.preventDefault();return}l==null||l(X)},F=u?X=>u(X):void 0,$=X=>{var Z,W;const{resetSelectedElements:ee,domNode:J}=m.getState();if(k.current=J==null?void 0:J.getBoundingClientRect(),!b||!t||X.button!==0||X.target!==C.current||!k.current)return;(W=(Z=X.target)==null?void 0:Z.setPointerCapture)==null||W.call(Z,X.pointerId),M.current=!0,P.current=!1;const{x:G,y:Y}=kc(X.nativeEvent,k.current);ee(),m.setState({userSelectionRect:{width:0,height:0,startX:G,startY:Y,x:G,y:Y}}),o==null||o(X)},L=X=>{const{userSelectionRect:ee,transform:J,nodeLookup:G,edgeLookup:Y,connectionLookup:Z,triggerNodeChanges:W,triggerEdgeChanges:oe,defaultEdgeOptions:re}=m.getState();if(!k.current||!ee)return;P.current=!0;const{x:me,y:ge}=kc(X.nativeEvent,k.current),{startX:ce,startY:he}=ee,be={startX:ce,startY:he,x:me<ce?me:ce,y:ge<he?ge:he,width:Math.abs(me-ce),height:Math.abs(ge-he)},Ce=D.current,Ae=A.current;D.current=new Set(P5(G,be,J,n===Mw.Partial,!0).map(j=>j.id)),A.current=new Set;const Oe=(re==null?void 0:re.selectable)??!0;for(const j of D.current){const pe=Z.get(j);if(pe)for(const{edgeId:ve}of pe.values()){const se=Y.get(ve);se&&(se.selectable??Oe)&&A.current.add(ve)}}if(!IV(Ce,D.current)){const j=Qm(G,D.current,!0);W(j)}if(!IV(Ae,A.current)){const j=Qm(Y,A.current);oe(j)}m.setState({userSelectionRect:be,userSelectionActive:!0,nodesSelectionActive:!1})},q=X=>{var J,G;if(X.button!==0||!M.current)return;(G=(J=X.target)==null?void 0:J.releasePointerCapture)==null||G.call(J,X.pointerId);const{userSelectionRect:ee}=m.getState();!y&&ee&&X.target===C.current&&(I==null||I(X)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),s==null||s(X),(e||i)&&(P.current=!1),M.current=!1},K=r===!0||Array.isArray(r)&&r.includes(0);return V.jsxs("div",{className:Gr(["react-flow__pane",{draggable:K,dragging:v,selection:t}]),onClick:x?void 0:XI(I,C),onContextMenu:XI(O,C),onWheel:XI(F,C),onPointerEnter:x?void 0:c,onPointerDown:x?$:d,onPointerMove:x?L:d,onPointerUp:x?q:void 0,onPointerLeave:f,ref:C,style:OA,children:[p,V.jsx(Bhe,{})]})}function mL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",hu.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function uJ({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=fr(),[l,u]=z.useState(!1),c=z.useRef();return z.useEffect(()=>{c.current=Cfe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{mL({id:d,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),z.useEffect(()=>{var d,f;if(e)(d=c.current)==null||d.destroy();else if(t.current)return(f=c.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,o,t,i]),l}const Uhe=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function cJ(){const t=fr();return z.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),d=new Map,f=Uhe(s),p=i?o[0]:5,m=i?o[1]:5,y=n.direction.x*p*n.factor,b=n.direction.y*m*n.factor;for(const[,v]of u){if(!f(v))continue;let E={x:v.internals.positionAbsolute.x+y,y:v.internals.positionAbsolute.y+b};i&&(E=PA(E,o));const{position:x,positionAbsolute:C}=IX({nodeId:v.id,nextPosition:E,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});v.position=x,v.internals.positionAbsolute=C,d.set(v.id,v)}l(d)},[])}const $5=z.createContext(null),Hhe=$5.Provider;$5.Consumer;const dJ=()=>z.useContext($5),qhe=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),jhe=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:u}=s,c=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===fv.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function Whe({type:t="source",position:e=ut.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...f},p){var q,K;const m=s||null,y=t==="target",b=fr(),v=dJ(),{connectOnClick:E,noPanClassName:x,rfId:C}=un(qhe,dr),{connectingFrom:k,connectingTo:D,clickConnecting:A,isPossibleEndHandle:P,connectionInProcess:M,clickConnectionInProcess:I,valid:O}=un(jhe(v,m,t),dr);v||(K=(q=b.getState()).onError)==null||K.call(q,"010",hu.error010());const F=X=>{const{defaultEdgeOptions:ee,onConnect:J,hasDefaultEdges:G}=b.getState(),Y={...ee,...X};if(G){const{edges:Z,setEdges:W}=b.getState();W(VX(Y,Z))}J==null||J(Y),a==null||a(Y)},$=X=>{if(!v)return;const ee=$X(X.nativeEvent);if(i&&(ee&&X.button===0||!ee)){const J=b.getState();gL.onPointerDown(X.nativeEvent,{autoPanOnConnect:J.autoPanOnConnect,connectionMode:J.connectionMode,connectionRadius:J.connectionRadius,domNode:J.domNode,nodeLookup:J.nodeLookup,lib:J.lib,isTarget:y,handleId:m,nodeId:v,flowId:J.rfId,panBy:J.panBy,cancelConnection:J.cancelConnection,onConnectStart:J.onConnectStart,onConnectEnd:J.onConnectEnd,updateConnection:J.updateConnection,onConnect:F,isValidConnection:n||J.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:J.autoPanSpeed})}ee?c==null||c(X):d==null||d(X)},L=X=>{const{onClickConnectStart:ee,onClickConnectEnd:J,connectionClickStartHandle:G,connectionMode:Y,isValidConnection:Z,lib:W,rfId:oe,nodeLookup:re,connection:me}=b.getState();if(!v||!G&&!i)return;if(!G){ee==null||ee(X.nativeEvent,{nodeId:v,handleId:m,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:v,type:t,id:m}});return}const ge=OX(X.target),ce=n||Z,{connection:he,isValid:be}=gL.isValid(X.nativeEvent,{handle:{nodeId:v,id:m,type:t},connectionMode:Y,fromNodeId:G.nodeId,fromHandleId:G.id||null,fromType:G.type,isValidConnection:ce,flowId:oe,doc:ge,lib:W,nodeLookup:re});be&&he&&F(he);const Ce=structuredClone(me);delete Ce.inProgress,Ce.toPosition=Ce.toHandle?Ce.toHandle.position:null,J==null||J(X,Ce),b.setState({connectionClickStartHandle:null})};return V.jsx("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":e,"data-id":`${C}-${v}-${m}-${t}`,className:Gr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",x,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,clickconnecting:A,connectingfrom:k,connectingto:D,valid:O,connectionindicator:r&&(!M||P)&&(M||I?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:E?L:void 0,ref:p,...f,children:l})}const Bo=z.memo(aJ(Whe));function Ghe({data:t,isConnectable:e,sourcePosition:n=ut.Bottom}){return V.jsxs(V.Fragment,{children:[t==null?void 0:t.label,V.jsx(Bo,{type:"source",position:n,isConnectable:e})]})}function Khe({data:t,isConnectable:e,targetPosition:n=ut.Top,sourcePosition:r=ut.Bottom}){return V.jsxs(V.Fragment,{children:[V.jsx(Bo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,V.jsx(Bo,{type:"source",position:r,isConnectable:e})]})}function Yhe(){return null}function Xhe({data:t,isConnectable:e,targetPosition:n=ut.Top}){return V.jsxs(V.Fragment,{children:[V.jsx(Bo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const ZC={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},o6={input:Ghe,default:Khe,output:Xhe,group:Yhe};function Jhe(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const Qhe=t=>{const{width:e,height:n,x:r,y:i}=jx(t.nodeLookup,{filter:o=>!!o.selected});return{width:Ka(e)?e:null,height:Ka(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Zhe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=fr(),{width:i,height:o,transformString:s,userSelectionActive:a}=un(Qhe,dr),l=cJ(),u=z.useRef(null);if(z.useEffect(()=>{var f;n||(f=u.current)==null||f.focus({preventScroll:!0})},[n]),uJ({nodeRef:u}),a||!i||!o)return null;const c=t?f=>{const p=r.getState().nodes.filter(m=>m.selected);t(f,p)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(ZC,f.key)&&(f.preventDefault(),l({direction:ZC[f.key],factor:f.shiftKey?4:1}))};return V.jsx("div",{className:Gr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:s},children:V.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const s6=typeof window<"u"?window:void 0,epe=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function fJ({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:v,zoomOnScroll:E,zoomOnPinch:x,panOnScroll:C,panOnScrollSpeed:k,panOnScrollMode:D,zoomOnDoubleClick:A,panOnDrag:P,defaultViewport:M,translateExtent:I,minZoom:O,maxZoom:F,preventScrolling:$,onSelectionContextMenu:L,noWheelClassName:q,noPanClassName:K,disableKeyboardA11y:X,onViewportChange:ee,isControlledViewport:J}){const{nodesSelectionActive:G,userSelectionActive:Y}=un(epe),Z=Lw(u,{target:s6}),W=Lw(y,{target:s6}),oe=W||P,re=W||C,me=c&&oe!==!0,ge=Z||Y||me;return Dhe({deleteKeyCode:l,multiSelectionKeyCode:m}),V.jsx(Fhe,{onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:E,zoomOnPinch:x,panOnScroll:re,panOnScrollSpeed:k,panOnScrollMode:D,zoomOnDoubleClick:A,panOnDrag:!Z&&oe,defaultViewport:M,translateExtent:I,minZoom:O,maxZoom:F,zoomActivationKeyCode:b,preventScrolling:$,noWheelClassName:q,noPanClassName:K,onViewportChange:ee,isControlledViewport:J,paneClickDistance:a,children:V.jsxs(Vhe,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:oe,isSelecting:!!ge,selectionMode:d,selectionKeyPressed:Z,selectionOnDrag:me,children:[t,G&&V.jsx(Zhe,{onSelectionContextMenu:L,noPanClassName:K,disableKeyboardA11y:X})]})})}fJ.displayName="FlowRenderer";const tpe=z.memo(fJ),npe=t=>e=>t?P5(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function rpe(t){return un(z.useCallback(npe(t),[t]),dr)}const ipe=t=>t.updateNodeInternals;function ope(){const t=un(ipe),[e]=z.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return z.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function spe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=fr(),o=z.useRef(null),s=z.useRef(null),a=z.useRef(t.sourcePosition),l=z.useRef(t.targetPosition),u=z.useRef(e),c=n&&!!t.internals.handleBounds;return z.useEffect(()=>{o.current&&!t.hidden&&(!c||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[c,t.hidden]),z.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),z.useEffect(()=>{if(o.current){const d=u.current!==e,f=a.current!==t.sourcePosition,p=l.current!==t.targetPosition;(d||f||p)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function ape({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:f,noPanClassName:p,disableKeyboardA11y:m,rfId:y,nodeTypes:b,nodeClickDistance:v,onError:E}){const{node:x,internals:C,isParent:k}=un(ce=>{const he=ce.nodeLookup.get(t),be=ce.parentLookup.has(t);return{node:he,internals:he.internals,isParent:be}},dr);let D=x.type||"default",A=(b==null?void 0:b[D])||o6[D];A===void 0&&(E==null||E("003",hu.error003(D)),D="default",A=o6.default);const P=!!(x.draggable||a&&typeof x.draggable>"u"),M=!!(x.selectable||l&&typeof x.selectable>"u"),I=!!(x.connectable||u&&typeof x.connectable>"u"),O=!!(x.focusable||c&&typeof x.focusable>"u"),F=fr(),$=DX(x),L=spe({node:x,nodeType:D,hasDimensions:$,resizeObserver:d}),q=uJ({nodeRef:L,disabled:x.hidden||!P,noDragClassName:f,handleSelector:x.dragHandle,nodeId:t,isSelectable:M,nodeClickDistance:v}),K=cJ();if(x.hidden)return null;const X=Xc(x),ee=Jhe(x),J=M||P||e||n||r||i,G=n?ce=>n(ce,{...C.userNode}):void 0,Y=r?ce=>r(ce,{...C.userNode}):void 0,Z=i?ce=>i(ce,{...C.userNode}):void 0,W=o?ce=>o(ce,{...C.userNode}):void 0,oe=s?ce=>s(ce,{...C.userNode}):void 0,re=ce=>{const{selectNodesOnDrag:he,nodeDragThreshold:be}=F.getState();M&&(!he||!P||be>0)&&mL({id:t,store:F,nodeRef:L}),e&&e(ce,{...C.userNode})},me=ce=>{if(!(FX(ce.nativeEvent)||m)){if(CX.includes(ce.key)&&M){const he=ce.key==="Escape";mL({id:t,store:F,unselect:he,nodeRef:L})}else if(P&&x.selected&&Object.prototype.hasOwnProperty.call(ZC,ce.key)){ce.preventDefault();const{ariaLabelConfig:he}=F.getState();F.setState({ariaLiveMessage:he["node.a11yDescription.ariaLiveMessage"]({direction:ce.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),K({direction:ZC[ce.key],factor:ce.shiftKey?4:1})}}},ge=()=>{var j;if(m||!((j=L.current)!=null&&j.matches(":focus-visible")))return;const{transform:ce,width:he,height:be,autoPanOnNodeFocus:Ce,setCenter:Ae}=F.getState();if(!Ce)return;P5(new Map([[t,x]]),{x:0,y:0,width:he,height:be},ce,!0).length>0||Ae(x.position.x+X.width/2,x.position.y+X.height/2,{zoom:ce[2]})};return V.jsx("div",{className:Gr(["react-flow__node",`react-flow__node-${D}`,{[p]:P},x.className,{selected:x.selected,selectable:M,parent:k,draggable:P,dragging:q}]),ref:L,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:J?"all":"none",visibility:$?"visible":"hidden",...x.style,...ee},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:G,onMouseMove:Y,onMouseLeave:Z,onContextMenu:W,onClick:re,onDoubleClick:oe,onKeyDown:O?me:void 0,tabIndex:O?0:void 0,onFocus:O?ge:void 0,role:x.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${tJ}-${y}`,"aria-label":x.ariaLabel,...x.domAttributes,children:V.jsx(Hhe,{value:t,children:V.jsx(A,{id:t,data:x.data,type:D,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:x.selected??!1,selectable:M,draggable:P,deletable:x.deletable??!0,isConnectable:I,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:q,dragHandle:x.dragHandle,zIndex:C.z,parentId:x.parentId,...X})})})}const lpe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function hJ(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=un(lpe,dr),s=rpe(t.onlyRenderVisibleElements),a=ope();return V.jsx("div",{className:"react-flow__nodes",style:OA,children:s.map(l=>V.jsx(ape,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},l))})}hJ.displayName="NodeRenderer";const upe=z.memo(hJ);function cpe(t){return un(z.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&cfe({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),dr)}const dpe=({color:t="none",strokeWidth:e=1})=>V.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),fpe=({color:t="none",strokeWidth:e=1})=>V.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),a6={[Sp.Arrow]:dpe,[Sp.ArrowClosed]:fpe};function hpe(t){const e=fr();return z.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(a6,t)?a6[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",hu.error009(t)),null)},[t])}const ppe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=hpe(e);return l?V.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:V.jsx(l,{color:n,strokeWidth:s})}):null},pJ=({defaultColor:t,rfId:e})=>{const n=un(o=>o.edges),r=un(o=>o.defaultEdgeOptions),i=z.useMemo(()=>yfe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?V.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:V.jsx("defs",{children:i.map(o=>V.jsx(ppe,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};pJ.displayName="MarkerDefinitions";var gpe=z.memo(pJ);function gJ({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[d,f]=z.useState({x:1,y:0,width:0,height:0}),p=Gr(["react-flow__edge-textwrapper",u]),m=z.useRef(null);return z.useEffect(()=>{if(m.current){const y=m.current.getBBox();f({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?V.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&V.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),V.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}gJ.displayName="EdgeText";const mpe=z.memo(gJ);function jv({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return V.jsxs(V.Fragment,{children:[V.jsx("path",{...c,d:t,fill:"none",className:Gr(["react-flow__edge-path",c.className])}),u&&V.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&Ka(e)&&Ka(n)?V.jsx(mpe,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function l6({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===ut.Left||t===ut.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function mJ({sourceX:t,sourceY:e,sourcePosition:n=ut.Bottom,targetX:r,targetY:i,targetPosition:o=ut.Top}){const[s,a]=l6({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=l6({pos:o,x1:r,y1:i,x2:t,y2:e}),[c,d,f,p]=BX({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${a} ${l},${u} ${r},${i}`,c,d,f,p]}function yJ(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:v})=>{const[E,x,C]=mJ({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),k=t.isInternal?void 0:e;return V.jsx(jv,{id:k,path:E,labelX:x,labelY:C,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:v})})}const ype=yJ({isInternal:!1}),vJ=yJ({isInternal:!0});ype.displayName="SimpleBezierEdge";vJ.displayName="SimpleBezierEdgeInternal";function bJ(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,sourcePosition:p=ut.Bottom,targetPosition:m=ut.Top,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:E})=>{const[x,C,k]=fL({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset}),D=t.isInternal?void 0:e;return V.jsx(jv,{id:D,path:x,labelX:C,labelY:k,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:y,markerStart:b,interactionWidth:E})})}const wJ=bJ({isInternal:!1}),_J=bJ({isInternal:!0});wJ.displayName="SmoothStepEdge";_J.displayName="SmoothStepEdgeInternal";function xJ(t){return z.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return V.jsx(wJ,{...n,id:r,pathOptions:z.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const vpe=xJ({isInternal:!1}),EJ=xJ({isInternal:!0});vpe.displayName="StepEdge";EJ.displayName="StepEdgeInternal";function SJ(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:m,interactionWidth:y})=>{const[b,v,E]=UX({sourceX:n,sourceY:r,targetX:i,targetY:o}),x=t.isInternal?void 0:e;return V.jsx(jv,{id:x,path:b,labelX:v,labelY:E,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:m,interactionWidth:y})})}const bpe=SJ({isInternal:!1}),CJ=SJ({isInternal:!0});bpe.displayName="StraightEdge";CJ.displayName="StraightEdgeInternal";function TJ(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=ut.Bottom,targetPosition:a=ut.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:E})=>{const[x,C,k]=MA({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:v==null?void 0:v.curvature}),D=t.isInternal?void 0:e;return V.jsx(jv,{id:D,path:x,labelX:C,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:E})})}const wpe=TJ({isInternal:!1}),AJ=TJ({isInternal:!0});wpe.displayName="BezierEdge";AJ.displayName="BezierEdgeInternal";const u6={default:AJ,straight:CJ,step:EJ,smoothstep:_J,simplebezier:vJ},c6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},_pe=(t,e,n)=>n===ut.Left?t-e:n===ut.Right?t+e:t,xpe=(t,e,n)=>n===ut.Top?t-e:n===ut.Bottom?t+e:t,d6="react-flow__edgeupdater";function f6({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return V.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Gr([d6,`${d6}-${a}`]),cx:_pe(e,r,t),cy:xpe(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Epe({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:f,setUpdateHover:p}){const m=fr(),y=(C,k)=>{if(C.button!==0)return;const{autoPanOnConnect:D,domNode:A,isValidConnection:P,connectionMode:M,connectionRadius:I,lib:O,onConnectStart:F,onConnectEnd:$,cancelConnection:L,nodeLookup:q,rfId:K,panBy:X,updateConnection:ee}=m.getState(),J=k.type==="target";f(!0),c==null||c(C,n,k.type);const G=(Z,W)=>{f(!1),d==null||d(Z,n,k.type,W)},Y=Z=>u==null?void 0:u(n,Z);gL.onPointerDown(C.nativeEvent,{autoPanOnConnect:D,connectionMode:M,connectionRadius:I,domNode:A,handleId:k.id,nodeId:k.nodeId,nodeLookup:q,isTarget:J,edgeUpdaterType:k.type,lib:O,flowId:K,cancelConnection:L,panBy:X,isValidConnection:P,onConnect:Y,onConnectStart:F,onConnectEnd:$,onReconnectEnd:G,updateConnection:ee,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},b=C=>y(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=C=>y(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>p(!0),x=()=>p(!1);return V.jsxs(V.Fragment,{children:[(t===!0||t==="source")&&V.jsx(f6,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:b,onMouseEnter:E,onMouseOut:x,type:"source"}),(t===!0||t==="target")&&V.jsx(f6,{position:l,centerX:o,centerY:s,radius:e,onMouseDown:v,onMouseEnter:E,onMouseOut:x,type:"target"})]})}function Spe({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,rfId:m,edgeTypes:y,noPanClassName:b,onError:v,disableKeyboardA11y:E}){let x=un(Ae=>Ae.edgeLookup.get(t));const C=un(Ae=>Ae.defaultEdgeOptions);x=C?{...C,...x}:x;let k=x.type||"default",D=(y==null?void 0:y[k])||u6[k];D===void 0&&(v==null||v("011",hu.error011(k)),k="default",D=u6.default);const A=!!(x.focusable||e&&typeof x.focusable>"u"),P=typeof d<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),M=!!(x.selectable||r&&typeof x.selectable>"u"),I=z.useRef(null),[O,F]=z.useState(!1),[$,L]=z.useState(!1),q=fr(),{zIndex:K,sourceX:X,sourceY:ee,targetX:J,targetY:G,sourcePosition:Y,targetPosition:Z}=un(z.useCallback(Ae=>{const Oe=Ae.nodeLookup.get(x.source),j=Ae.nodeLookup.get(x.target);if(!Oe||!j)return{zIndex:x.zIndex,...c6};const pe=mfe({id:t,sourceNode:Oe,targetNode:j,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:Ae.connectionMode,onError:v});return{zIndex:ufe({selected:x.selected,zIndex:x.zIndex,sourceNode:Oe,targetNode:j,elevateOnSelect:Ae.elevateEdgesOnSelect}),...pe||c6}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),dr),W=z.useMemo(()=>x.markerStart?`url('#${hL(x.markerStart,m)}')`:void 0,[x.markerStart,m]),oe=z.useMemo(()=>x.markerEnd?`url('#${hL(x.markerEnd,m)}')`:void 0,[x.markerEnd,m]);if(x.hidden||X===null||ee===null||J===null||G===null)return null;const re=Ae=>{var ve;const{addSelectedEdges:Oe,unselectNodesAndEdges:j,multiSelectionActive:pe}=q.getState();M&&(q.setState({nodesSelectionActive:!1}),x.selected&&pe?(j({nodes:[],edges:[x]}),(ve=I.current)==null||ve.blur()):Oe([t])),i&&i(Ae,x)},me=o?Ae=>{o(Ae,{...x})}:void 0,ge=s?Ae=>{s(Ae,{...x})}:void 0,ce=a?Ae=>{a(Ae,{...x})}:void 0,he=l?Ae=>{l(Ae,{...x})}:void 0,be=u?Ae=>{u(Ae,{...x})}:void 0,Ce=Ae=>{var Oe;if(!E&&CX.includes(Ae.key)&&M){const{unselectNodesAndEdges:j,addSelectedEdges:pe}=q.getState();Ae.key==="Escape"?((Oe=I.current)==null||Oe.blur(),j({edges:[x]})):pe([t])}};return V.jsx("svg",{style:{zIndex:K},children:V.jsxs("g",{className:Gr(["react-flow__edge",`react-flow__edge-${k}`,x.className,b,{selected:x.selected,animated:x.animated,inactive:!M&&!i,updating:O,selectable:M}]),onClick:re,onDoubleClick:me,onContextMenu:ge,onMouseEnter:ce,onMouseMove:he,onMouseLeave:be,onKeyDown:A?Ce:void 0,tabIndex:A?0:void 0,role:x.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":A?`${nJ}-${m}`:void 0,ref:I,...x.domAttributes,children:[!$&&V.jsx(D,{id:t,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:M,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:X,sourceY:ee,targetX:J,targetY:G,sourcePosition:Y,targetPosition:Z,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:W,markerEnd:oe,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),P&&V.jsx(Epe,{edge:x,isReconnectable:P,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,sourceX:X,sourceY:ee,targetX:J,targetY:G,sourcePosition:Y,targetPosition:Z,setUpdateHover:F,setReconnecting:L})]})})}const Cpe=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function RJ({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:y}){const{edgesFocusable:b,edgesReconnectable:v,elementsSelectable:E,onError:x}=un(Cpe,dr),C=cpe(e);return V.jsxs("div",{className:"react-flow__edges",children:[V.jsx(gpe,{defaultColor:t,rfId:n}),C.map(k=>V.jsx(Spe,{id:k,edgesFocusable:b,edgesReconnectable:v,elementsSelectable:E,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:f,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:x,edgeTypes:r,disableKeyboardA11y:y},k))]})}RJ.displayName="EdgeRenderer";const Tpe=z.memo(RJ),Ape=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Rpe({children:t}){const e=un(Ape);return V.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function kpe(t){const e=LA(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Ipe=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function Ppe(t){const e=un(Ipe),n=fr();return z.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Mpe(t){return t.connection.inProgress?{...t.connection,to:Wx(t.connection.to,t.transform)}:{...t.connection}}function Npe(t){return Mpe}function B5(t){const e=Npe();return un(e,dr)}const Dpe=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Lpe({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=un(Dpe,dr);return!(o&&i&&l)?null:V.jsx("svg",{style:t,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:V.jsx("g",{className:Gr(["react-flow__connection",RX(a)]),children:V.jsx(kJ,{style:e,type:n,CustomComponent:r,isValid:a})})})}const kJ=({style:t,type:e=Vd.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:d,toPosition:f}=B5();if(!i)return;if(n)return V.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:f,connectionStatus:RX(r),toNode:c,toHandle:d});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:f};switch(e){case Vd.Bezier:[p]=MA(m);break;case Vd.SimpleBezier:[p]=mJ(m);break;case Vd.Step:[p]=fL({...m,borderRadius:0});break;case Vd.SmoothStep:[p]=fL(m);break;default:[p]=UX(m)}return V.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};kJ.displayName="ConnectionLine";const Ope={};function h6(t=Ope){z.useRef(t),fr(),z.useEffect(()=>{},[t])}function Fpe(){fr(),z.useRef(!1),z.useEffect(()=>{},[])}function IJ({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:v,selectionKeyCode:E,selectionOnDrag:x,selectionMode:C,multiSelectionKeyCode:k,panActivationKeyCode:D,zoomActivationKeyCode:A,deleteKeyCode:P,onlyRenderVisibleElements:M,elementsSelectable:I,defaultViewport:O,translateExtent:F,minZoom:$,maxZoom:L,preventScrolling:q,defaultMarkerColor:K,zoomOnScroll:X,zoomOnPinch:ee,panOnScroll:J,panOnScrollSpeed:G,panOnScrollMode:Y,zoomOnDoubleClick:Z,panOnDrag:W,onPaneClick:oe,onPaneMouseEnter:re,onPaneMouseMove:me,onPaneMouseLeave:ge,onPaneScroll:ce,onPaneContextMenu:he,paneClickDistance:be,nodeClickDistance:Ce,onEdgeContextMenu:Ae,onEdgeMouseEnter:Oe,onEdgeMouseMove:j,onEdgeMouseLeave:pe,reconnectRadius:ve,onReconnect:se,onReconnectStart:te,onReconnectEnd:fe,noDragClassName:_e,noWheelClassName:Ie,noPanClassName:we,disableKeyboardA11y:Le,nodeExtent:He,rfId:Be,viewport:xe,onViewportChange:Me}){return h6(t),h6(e),Fpe(),kpe(n),Ppe(xe),V.jsx(tpe,{onPaneClick:oe,onPaneMouseEnter:re,onPaneMouseMove:me,onPaneMouseLeave:ge,onPaneContextMenu:he,onPaneScroll:ce,paneClickDistance:be,deleteKeyCode:P,selectionKeyCode:E,selectionOnDrag:x,selectionMode:C,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:k,panActivationKeyCode:D,zoomActivationKeyCode:A,elementsSelectable:I,zoomOnScroll:X,zoomOnPinch:ee,zoomOnDoubleClick:Z,panOnScroll:J,panOnScrollSpeed:G,panOnScrollMode:Y,panOnDrag:W,defaultViewport:O,translateExtent:F,minZoom:$,maxZoom:L,onSelectionContextMenu:d,preventScrolling:q,noDragClassName:_e,noWheelClassName:Ie,noPanClassName:we,disableKeyboardA11y:Le,onViewportChange:Me,isControlledViewport:!!xe,children:V.jsxs(Rpe,{children:[V.jsx(Tpe,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:se,onReconnectStart:te,onReconnectEnd:fe,onlyRenderVisibleElements:M,onEdgeContextMenu:Ae,onEdgeMouseEnter:Oe,onEdgeMouseMove:j,onEdgeMouseLeave:pe,reconnectRadius:ve,defaultMarkerColor:K,noPanClassName:we,disableKeyboardA11y:Le,rfId:Be}),V.jsx(Lpe,{style:y,type:m,component:b,containerStyle:v}),V.jsx("div",{className:"react-flow__edgelabel-renderer"}),V.jsx(upe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:Ce,onlyRenderVisibleElements:M,noPanClassName:we,noDragClassName:_e,disableKeyboardA11y:Le,nodeExtent:He,rfId:Be}),V.jsx("div",{className:"react-flow__viewport-portal"})]})})}IJ.displayName="GraphView";const $pe=z.memo(IJ),p6=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:d}={})=>{const f=new Map,p=new Map,m=new Map,y=new Map,b=r??e??[],v=n??t??[],E=c??[0,0],x=d??Pw;qX(m,y,b);const C=pL(v,f,p,{nodeOrigin:E,nodeExtent:x,elevateNodesOnSelect:!1});let k=[0,0,1];if(s&&i&&o){const D=jx(f,{filter:I=>!!((I.width||I.initialWidth)&&(I.height||I.initialHeight))}),{x:A,y:P,zoom:M}=M5(D,i,o,l,u,(a==null?void 0:a.padding)??.1);k=[A,P,M]}return{rfId:"1",width:0,height:0,transform:k,nodes:v,nodesInitialized:C,nodeLookup:f,parentLookup:p,edges:b,edgeLookup:y,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Pw,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:fv.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...AX},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:rfe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:TX}},Bpe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d})=>ohe((f,p)=>{async function m(){const{nodeLookup:y,panZoom:b,fitViewOptions:v,fitViewResolver:E,width:x,height:C,minZoom:k,maxZoom:D}=p();b&&(await tfe({nodes:y,width:x,height:C,panZoom:b,minZoom:k,maxZoom:D},v),E==null||E.resolve(!0),f({fitViewResolver:null}))}return{...p6({nodes:t,edges:e,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:b,parentLookup:v,nodeOrigin:E,elevateNodesOnSelect:x,fitViewQueued:C}=p(),k=pL(y,b,v,{nodeOrigin:E,nodeExtent:d,elevateNodesOnSelect:x,checkEquality:!0});C&&k?(m(),f({nodes:y,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:y,nodesInitialized:k})},setEdges:y=>{const{connectionLookup:b,edgeLookup:v}=p();qX(b,v,y),f({edges:y})},setDefaultNodesAndEdges:(y,b)=>{if(y){const{setNodes:v}=p();v(y),f({hasDefaultNodes:!0})}if(b){const{setEdges:v}=p();v(b),f({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:b,nodeLookup:v,parentLookup:E,domNode:x,nodeOrigin:C,nodeExtent:k,debug:D,fitViewQueued:A}=p(),{changes:P,updatedInternals:M}=xfe(y,v,E,x,C,k);M&&(bfe(v,E,{nodeOrigin:C,nodeExtent:k}),A?(m(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(P==null?void 0:P.length)>0&&(D&&console.log("React Flow: trigger node changes",P),b==null||b(P)))},updateNodePositions:(y,b=!1)=>{const v=[],E=[],{nodeLookup:x,triggerNodeChanges:C}=p();for(const[k,D]of y){const A=x.get(k),P=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(D!=null&&D.position)),M={id:k,type:"position",position:P?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:b};P&&A.parentId&&v.push({id:k,parentId:A.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),E.push(M)}if(v.length>0){const{parentLookup:k,nodeOrigin:D}=p(),A=F5(v,x,k,D);E.push(...A)}C(E)},triggerNodeChanges:y=>{const{onNodesChange:b,setNodes:v,nodes:E,hasDefaultNodes:x,debug:C}=p();if(y!=null&&y.length){if(x){const k=oJ(y,E);v(k)}C&&console.log("React Flow: trigger node changes",y),b==null||b(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:b,setEdges:v,edges:E,hasDefaultEdges:x,debug:C}=p();if(y!=null&&y.length){if(x){const k=sJ(y,E);v(k)}C&&console.log("React Flow: trigger edge changes",y),b==null||b(y)}},addSelectedNodes:y=>{const{multiSelectionActive:b,edgeLookup:v,nodeLookup:E,triggerNodeChanges:x,triggerEdgeChanges:C}=p();if(b){const k=y.map(D=>fh(D,!0));x(k);return}x(Qm(E,new Set([...y]),!0)),C(Qm(v))},addSelectedEdges:y=>{const{multiSelectionActive:b,edgeLookup:v,nodeLookup:E,triggerNodeChanges:x,triggerEdgeChanges:C}=p();if(b){const k=y.map(D=>fh(D,!0));C(k);return}C(Qm(v,new Set([...y]))),x(Qm(E,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:b}={})=>{const{edges:v,nodes:E,nodeLookup:x,triggerNodeChanges:C,triggerEdgeChanges:k}=p(),D=y||E,A=b||v,P=D.map(I=>{const O=x.get(I.id);return O&&(O.selected=!1),fh(I.id,!1)}),M=A.map(I=>fh(I.id,!1));C(P),k(M)},setMinZoom:y=>{const{panZoom:b,maxZoom:v}=p();b==null||b.setScaleExtent([y,v]),f({minZoom:y})},setMaxZoom:y=>{const{panZoom:b,minZoom:v}=p();b==null||b.setScaleExtent([v,y]),f({maxZoom:y})},setTranslateExtent:y=>{var b;(b=p().panZoom)==null||b.setTranslateExtent(y),f({translateExtent:y})},setPaneClickDistance:y=>{var b;(b=p().panZoom)==null||b.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:b,triggerNodeChanges:v,triggerEdgeChanges:E,elementsSelectable:x}=p();if(!x)return;const C=b.reduce((D,A)=>A.selected?[...D,fh(A.id,!1)]:D,[]),k=y.reduce((D,A)=>A.selected?[...D,fh(A.id,!1)]:D,[]);v(C),E(k)},setNodeExtent:y=>{const{nodes:b,nodeLookup:v,parentLookup:E,nodeOrigin:x,elevateNodesOnSelect:C,nodeExtent:k}=p();y[0][0]===k[0][0]&&y[0][1]===k[0][1]&&y[1][0]===k[1][0]&&y[1][1]===k[1][1]||(pL(b,v,E,{nodeOrigin:x,nodeExtent:y,elevateNodesOnSelect:C,checkEquality:!1}),f({nodeExtent:y}))},panBy:y=>{const{transform:b,width:v,height:E,panZoom:x,translateExtent:C}=p();return Efe({delta:y,panZoom:x,transform:b,translateExtent:C,width:v,height:E})},setCenter:async(y,b,v)=>{const{width:E,height:x,maxZoom:C,panZoom:k}=p();if(!k)return Promise.resolve(!1);const D=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:C;return await k.setViewport({x:E/2-y*D,y:x/2-b*D,zoom:D},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...AX}})},updateConnection:y=>{f({connection:y})},reset:()=>f({...p6()})}},Object.is);function PJ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:d,children:f}){const[p]=z.useState(()=>Bpe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:d}));return V.jsx(she,{value:p,children:V.jsx(Ihe,{children:f})})}function zpe({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f}){return z.useContext(DA)?V.jsx(V.Fragment,{children:t}):V.jsx(PJ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:d,nodeExtent:f,children:t})}const Vpe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Upe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,onNodeMouseEnter:E,onNodeMouseMove:x,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:D,onNodeDragStart:A,onNodeDrag:P,onNodeDragStop:M,onNodesDelete:I,onEdgesDelete:O,onDelete:F,onSelectionChange:$,onSelectionDragStart:L,onSelectionDrag:q,onSelectionDragStop:K,onSelectionContextMenu:X,onSelectionStart:ee,onSelectionEnd:J,onBeforeDelete:G,connectionMode:Y,connectionLineType:Z=Vd.Bezier,connectionLineStyle:W,connectionLineComponent:oe,connectionLineContainerStyle:re,deleteKeyCode:me="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:ce=!1,selectionMode:he=Mw.Full,panActivationKeyCode:be="Space",multiSelectionKeyCode:Ce=QC()?"Meta":"Control",zoomActivationKeyCode:Ae=QC()?"Meta":"Control",snapToGrid:Oe,snapGrid:j,onlyRenderVisibleElements:pe=!1,selectNodesOnDrag:ve,nodesDraggable:se,autoPanOnNodeFocus:te,nodesConnectable:fe,nodesFocusable:_e,nodeOrigin:Ie=rJ,edgesFocusable:we,edgesReconnectable:Le,elementsSelectable:He=!0,defaultViewport:Be=whe,minZoom:xe=.5,maxZoom:Me=2,translateExtent:Ve=Pw,preventScrolling:nt=!0,nodeExtent:wt,defaultMarkerColor:rt="#b1b1b7",zoomOnScroll:Qt=!0,zoomOnPinch:vt=!0,panOnScroll:Yt=!1,panOnScrollSpeed:st=.5,panOnScrollMode:_t=Ep.Free,zoomOnDoubleClick:on=!0,panOnDrag:xn=!0,onPaneClick:eo,onPaneMouseEnter:Ms,onPaneMouseMove:Kr,onPaneMouseLeave:Lr,onPaneScroll:to,onPaneContextMenu:vo,paneClickDistance:ul=0,nodeClickDistance:ca=0,children:$t,onReconnect:hr,onReconnectStart:cl,onReconnectEnd:pr,onEdgeContextMenu:rd,onEdgeDoubleClick:Zo,onEdgeMouseEnter:Cu,onEdgeMouseMove:Tu,onEdgeMouseLeave:id,reconnectRadius:es=10,onNodesChange:Uf,onEdgesChange:f0,noDragClassName:od="nodrag",noWheelClassName:yg="nowheel",noPanClassName:bo="nopan",fitView:dl,fitViewOptions:wo,connectOnClick:vg,attributionPosition:Hf,proOptions:sd,defaultEdgeOptions:ad,elevateNodesOnSelect:qf,elevateEdgesOnSelect:bg,disableKeyboardA11y:wg=!1,autoPanOnConnect:zn,autoPanOnNodeDrag:_g,autoPanSpeed:Au,connectionRadius:fl,isValidConnection:_o,onError:jf,style:xg,id:hl,nodeDragThreshold:no,viewport:Eg,onViewportChange:gi,width:Wf,height:Sg,colorMode:Cg="light",debug:ld,onScroll:da,ariaLabelConfig:pl,...Ru},h0){const ts=hl||"1",ro=She(Cg),ku=z.useCallback(fa=>{fa.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),da==null||da(fa)},[da]);return V.jsx("div",{"data-testid":"rf__wrapper",...Ru,onScroll:ku,style:{...xg,...Vpe},ref:h0,className:Gr(["react-flow",i,ro]),id:hl,role:"application",children:V.jsxs(zpe,{nodes:t,edges:e,width:Wf,height:Sg,fitView:dl,fitViewOptions:wo,minZoom:xe,maxZoom:Me,nodeOrigin:Ie,nodeExtent:wt,children:[V.jsx($pe,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:x,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:D,nodeTypes:o,edgeTypes:s,connectionLineType:Z,connectionLineStyle:W,connectionLineComponent:oe,connectionLineContainerStyle:re,selectionKeyCode:ge,selectionOnDrag:ce,selectionMode:he,deleteKeyCode:me,multiSelectionKeyCode:Ce,panActivationKeyCode:be,zoomActivationKeyCode:Ae,onlyRenderVisibleElements:pe,defaultViewport:Be,translateExtent:Ve,minZoom:xe,maxZoom:Me,preventScrolling:nt,zoomOnScroll:Qt,zoomOnPinch:vt,zoomOnDoubleClick:on,panOnScroll:Yt,panOnScrollSpeed:st,panOnScrollMode:_t,panOnDrag:xn,onPaneClick:eo,onPaneMouseEnter:Ms,onPaneMouseMove:Kr,onPaneMouseLeave:Lr,onPaneScroll:to,onPaneContextMenu:vo,paneClickDistance:ul,nodeClickDistance:ca,onSelectionContextMenu:X,onSelectionStart:ee,onSelectionEnd:J,onReconnect:hr,onReconnectStart:cl,onReconnectEnd:pr,onEdgeContextMenu:rd,onEdgeDoubleClick:Zo,onEdgeMouseEnter:Cu,onEdgeMouseMove:Tu,onEdgeMouseLeave:id,reconnectRadius:es,defaultMarkerColor:rt,noDragClassName:od,noWheelClassName:yg,noPanClassName:bo,rfId:ts,disableKeyboardA11y:wg,nodeExtent:wt,viewport:Eg,onViewportChange:gi}),V.jsx(Ehe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,nodesDraggable:se,autoPanOnNodeFocus:te,nodesConnectable:fe,nodesFocusable:_e,edgesFocusable:we,edgesReconnectable:Le,elementsSelectable:He,elevateNodesOnSelect:qf,elevateEdgesOnSelect:bg,minZoom:xe,maxZoom:Me,nodeExtent:wt,onNodesChange:Uf,onEdgesChange:f0,snapToGrid:Oe,snapGrid:j,connectionMode:Y,translateExtent:Ve,connectOnClick:vg,defaultEdgeOptions:ad,fitView:dl,fitViewOptions:wo,onNodesDelete:I,onEdgesDelete:O,onDelete:F,onNodeDragStart:A,onNodeDrag:P,onNodeDragStop:M,onSelectionDrag:q,onSelectionDragStart:L,onSelectionDragStop:K,onMove:c,onMoveStart:d,onMoveEnd:f,noPanClassName:bo,nodeOrigin:Ie,rfId:ts,autoPanOnConnect:zn,autoPanOnNodeDrag:_g,autoPanSpeed:Au,onError:jf,connectionRadius:fl,isValidConnection:_o,selectNodesOnDrag:ve,nodeDragThreshold:no,onBeforeDelete:G,paneClickDistance:ul,debug:ld,ariaLabelConfig:pl}),V.jsx(bhe,{onSelectionChange:$}),$t,V.jsx(phe,{proOptions:sd,position:Hf}),V.jsx(fhe,{rfId:ts,disableKeyboardA11y:wg})]})})}var Hpe=aJ(Upe);const qpe=t=>{var e;return(e=t.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function MJ({children:t}){const e=un(qpe);return e?Ic.createPortal(t,e):null}function jpe(t){const[e,n]=z.useState(t),r=z.useCallback(i=>n(o=>oJ(i,o)),[]);return[e,n,r]}function Wpe(t){const[e,n]=z.useState(t),r=z.useCallback(i=>n(o=>sJ(i,o)),[]);return[e,n,r]}function g6(t){return un(z.useCallback(n=>n.nodeLookup.get(t),[t]),dr)}function Gpe({dimensions:t,lineWidth:e,variant:n,className:r}){return V.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Gr(["react-flow__background-pattern",n,r])})}function Kpe({radius:t,className:e}){return V.jsx("circle",{cx:t,cy:t,r:t,className:Gr(["react-flow__background-pattern","dots",e])})}var gf;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(gf||(gf={}));const Ype={[gf.Dots]:1,[gf.Lines]:1,[gf.Cross]:6},Xpe=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function NJ({id:t,variant:e=gf.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:u,patternClassName:c}){const d=z.useRef(null),{transform:f,patternId:p}=un(Xpe,dr),m=r||Ype[e],y=e===gf.Dots,b=e===gf.Cross,v=Array.isArray(n)?n:[n,n],E=[v[0]*f[2]||1,v[1]*f[2]||1],x=m*f[2],C=Array.isArray(o)?o:[o,o],k=b?[x,x]:E,D=[C[0]*f[2]||1+k[0]/2,C[1]*f[2]||1+k[1]/2],A=`${p}${t||""}`;return V.jsxs("svg",{className:Gr(["react-flow__background",u]),style:{...l,...OA,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[V.jsx("pattern",{id:A,x:f[0]%E[0],y:f[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:y?V.jsx(Kpe,{radius:x/2,className:c}):V.jsx(Gpe,{dimensions:k,lineWidth:i,variant:e,className:c})}),V.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}NJ.displayName="Background";const Jpe=z.memo(NJ);function Qpe(){return V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:V.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Zpe(){return V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:V.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ege(){return V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:V.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tge(){return V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:V.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function nge(){return V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:V.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function HE({children:t,className:e,...n}){return V.jsx("button",{type:"button",className:Gr(["react-flow__controls-button",e]),...n,children:t})}const rge=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function DJ({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:f="vertical","aria-label":p}){const m=fr(),{isInteractive:y,minZoomReached:b,maxZoomReached:v,ariaLabelConfig:E}=un(rge,dr),{zoomIn:x,zoomOut:C,fitView:k}=LA(),D=()=>{x(),o==null||o()},A=()=>{C(),s==null||s()},P=()=>{k(i),a==null||a()},M=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},I=f==="horizontal"?"horizontal":"vertical";return V.jsxs(yv,{className:Gr(["react-flow__controls",I,u]),position:d,style:t,"data-testid":"rf__controls","aria-label":p??E["controls.ariaLabel"],children:[e&&V.jsxs(V.Fragment,{children:[V.jsx(HE,{onClick:D,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:v,children:V.jsx(Qpe,{})}),V.jsx(HE,{onClick:A,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:b,children:V.jsx(Zpe,{})})]}),n&&V.jsx(HE,{className:"react-flow__controls-fitview",onClick:P,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:V.jsx(ege,{})}),r&&V.jsx(HE,{className:"react-flow__controls-interactive",onClick:M,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:y?V.jsx(nge,{}):V.jsx(tge,{})}),c]})}DJ.displayName="Controls";const ige=z.memo(DJ);function oge({id:t,x:e,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,selected:f,onClick:p}){const{background:m,backgroundColor:y}=o||{},b=s||m||y;return V.jsx("rect",{className:Gr(["react-flow__minimap-node",{selected:f},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:b,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?v=>p(v,t):void 0})}const sge=z.memo(oge),age=t=>t.nodes.map(e=>e.id),JI=t=>t instanceof Function?t:()=>t;function lge({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=sge,onClick:s}){const a=un(age,dr),l=JI(e),u=JI(t),c=JI(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return V.jsx(V.Fragment,{children:a.map(f=>V.jsx(cge,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},f))})}function uge({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:u,x:c,y:d,width:f,height:p}=un(m=>{const{internals:y}=m.nodeLookup.get(t),b=y.userNode,{x:v,y:E}=y.positionAbsolute,{width:x,height:C}=Xc(b);return{node:b,x:v,y:E,width:x,height:C}},dr);return!u||u.hidden||!DX(u)?null:V.jsx(a,{x:c,y:d,width:f,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:l,id:u.id})}const cge=z.memo(uge);var dge=z.memo(lge);const fge=200,hge=150,pge=t=>!t.hidden,gge=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?NX(jx(t.nodeLookup,{filter:pge}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},mge="react-flow__minimap-desc";function LJ({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:d,position:f="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:b=!1,ariaLabel:v,inversePan:E,zoomStep:x=10,offsetScale:C=5}){const k=fr(),D=z.useRef(null),{boundingRect:A,viewBB:P,rfId:M,panZoom:I,translateExtent:O,flowWidth:F,flowHeight:$,ariaLabelConfig:L}=un(gge,dr),q=(t==null?void 0:t.width)??fge,K=(t==null?void 0:t.height)??hge,X=A.width/q,ee=A.height/K,J=Math.max(X,ee),G=J*q,Y=J*K,Z=C*J,W=A.x-(G-A.width)/2-Z,oe=A.y-(Y-A.height)/2-Z,re=G+Z*2,me=Y+Z*2,ge=`${mge}-${M}`,ce=z.useRef(0),he=z.useRef();ce.current=J,z.useEffect(()=>{if(D.current&&I)return he.current=Pfe({domNode:D.current,panZoom:I,getTransform:()=>k.getState().transform,getViewScale:()=>ce.current}),()=>{var Oe;(Oe=he.current)==null||Oe.destroy()}},[I]),z.useEffect(()=>{var Oe;(Oe=he.current)==null||Oe.update({translateExtent:O,width:F,height:$,inversePan:E,pannable:y,zoomStep:x,zoomable:b})},[y,b,E,x,O,F,$]);const be=p?Oe=>{var ve;const[j,pe]=((ve=he.current)==null?void 0:ve.pointer(Oe))||[0,0];p(Oe,{x:j,y:pe})}:void 0,Ce=m?z.useCallback((Oe,j)=>{const pe=k.getState().nodeLookup.get(j).internals.userNode;m(Oe,pe)},[]):void 0,Ae=v??L["minimap.ariaLabel"];return V.jsx(yv,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*J:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Gr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:V.jsxs("svg",{width:q,height:K,viewBox:`${W} ${oe} ${re} ${me}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ge,ref:D,onClick:be,children:[Ae&&V.jsx("title",{id:ge,children:Ae}),V.jsx(dge,{onClick:Ce,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),V.jsx("path",{className:"react-flow__minimap-mask",d:`M${W-Z},${oe-Z}h${re+Z*2}v${me+Z*2}h${-re-Z*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}LJ.displayName="MiniMap";const yge=z.memo(LJ),vge=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,bge={[mv.Line]:"right",[mv.Handle]:"bottom-right"};function wge({nodeId:t,position:e,variant:n=mv.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:p=!0,shouldResize:m,onResizeStart:y,onResize:b,onResizeEnd:v}){const E=dJ(),x=typeof t=="string"?t:E,C=fr(),k=z.useRef(null),D=n===mv.Handle,A=un(z.useCallback(vge(D&&p),[D,p]),dr),P=z.useRef(null),M=e??bge[n];z.useEffect(()=>{if(!(!k.current||!x))return P.current||(P.current=Gfe({domNode:k.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:O,transform:F,snapGrid:$,snapToGrid:L,nodeOrigin:q,domNode:K}=C.getState();return{nodeLookup:O,transform:F,snapGrid:$,snapToGrid:L,nodeOrigin:q,paneDomNode:K}},onChange:(O,F)=>{const{triggerNodeChanges:$,nodeLookup:L,parentLookup:q,nodeOrigin:K}=C.getState(),X=[],ee={x:O.x,y:O.y},J=L.get(x);if(J&&J.expandParent&&J.parentId){const G=J.origin??K,Y=O.width??J.measured.width??0,Z=O.height??J.measured.height??0,W={id:J.id,parentId:J.parentId,rect:{width:Y,height:Z,...LX({x:O.x??J.position.x,y:O.y??J.position.y},{width:Y,height:Z},J.parentId,L,G)}},oe=F5([W],L,q,K);X.push(...oe),ee.x=O.x?Math.max(G[0]*Y,O.x):void 0,ee.y=O.y?Math.max(G[1]*Z,O.y):void 0}if(ee.x!==void 0&&ee.y!==void 0){const G={id:x,type:"position",position:{...ee}};X.push(G)}if(O.width!==void 0&&O.height!==void 0){const Y={id:x,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};X.push(Y)}for(const G of F){const Y={...G,type:"position"};X.push(Y)}$(X)},onEnd:({width:O,height:F})=>{const $={id:x,type:"dimensions",resizing:!1,dimensions:{width:O,height:F}};C.getState().triggerNodeChanges([$])}})),P.current.update({controlPosition:M,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:d,resizeDirection:f,onResizeStart:y,onResize:b,onResizeEnd:v,shouldResize:m}),()=>{var O;(O=P.current)==null||O.destroy()}},[M,a,l,u,c,d,y,b,v,m]);const I=M.split("-");return V.jsx("div",{className:Gr(["react-flow__resize-control","nodrag",...I,n,r]),ref:k,style:{...i,scale:A,...s&&{[D?"backgroundColor":"borderColor"]:s}},children:o})}z.memo(wge);const _ge=[{target:".upload-pdf",content:"Get started by uploading your first PDF!",placement:"bottom",data:{pause:!0}},{target:".add-new-read-btn",content:"Get started with setting up your first read here! Different reads should be mapped to different intentions.",placement:"bottom",data:{pause:!0}},{target:".active-read",content:"You can see what read you are currently on. Any highlight will be associated with the selected read. Use this to also toggle between your reads.",placement:"left-end"},{target:".pdf-container",content:"Get started by highlighting your first highlight! You can also hold option and take a screenshot as a highlight",placement:"right"},{target:".pdf-container",content:"Each highlight you make will create a node corresponding to that node and the current read you are on. With this node, you are able to link them to other nodes, generate summaries & definitions, as well as take your own notes.",placement:"right"}],Gx=z.createContext(null),xge=({children:t})=>{const[e,n]=z.useState(!1),[r,i]=z.useState(_ge),[o,s]=z.useState(0);return V.jsx(Gx.Provider,{value:{runTour:e,setRunTour:n,steps:r,setSteps:i,stepIndex:o,setStepIndex:s},children:t})},wi=[];for(let t=0;t<256;++t)wi.push((t+256).toString(16).slice(1));function Ege(t,e=0){return(wi[t[e+0]]+wi[t[e+1]]+wi[t[e+2]]+wi[t[e+3]]+"-"+wi[t[e+4]]+wi[t[e+5]]+"-"+wi[t[e+6]]+wi[t[e+7]]+"-"+wi[t[e+8]]+wi[t[e+9]]+"-"+wi[t[e+10]]+wi[t[e+11]]+wi[t[e+12]]+wi[t[e+13]]+wi[t[e+14]]+wi[t[e+15]]).toLowerCase()}let QI;const Sge=new Uint8Array(16);function Cge(){if(!QI){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");QI=crypto.getRandomValues.bind(crypto)}return QI(Sge)}const Tge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),m6={randomUUID:Tge};function eT(t,e,n){var i;if(m6.randomUUID&&!t)return m6.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Cge();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ege(r)}const Age=()=>{};var y6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rge=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},FJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OJ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rge(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new kge;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ige=function(t){const e=OJ(t);return FJ.encodeByteArray(e,!0)},tT=function(t){return Ige(t).replace(/\./g,"")},Pge=function(t){try{return FJ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nge=()=>Mge().__FIREBASE_DEFAULTS__,Dge=()=>{if(typeof process>"u"||typeof y6>"u")return;const t=y6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lge=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pge(t[1]);return e&&JSON.parse(e)},z5=()=>{try{return Age()||Nge()||Dge()||Lge()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Oge=t=>{var e,n;return(n=(e=z5())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$J=t=>{const e=Oge(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BJ=()=>{var t;return(t=z5())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return t.endsWith(".cloudworkstations.dev")}async function zJ(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tT(JSON.stringify(n)),tT(JSON.stringify(s)),""].join(".")}const aw={};function $ge(){const t={prod:[],emulator:[]};for(const e of Object.keys(aw))aw[e]?t.emulator.push(e):t.prod.push(e);return t}function Bge(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let v6=!1;function UJ(t,e){if(typeof window>"u"||typeof document>"u"||!Kx(window.location.host)||aw[t]===e||aw[t]||v6)return;aw[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",o=$ge().prod.length>0;function s(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{v6=!0,s()},f}function c(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Bge(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),E=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),c(b,y);const C=u();l(E,v),x.append(E,m,b,C),document.body.appendChild(x)}o?(m.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vge(){var t;const e=(t=z5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uge(){return!Vge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hge(){try{return typeof indexedDB=="object"}catch{return!1}}function qge(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge="FirebaseError";class Yp extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jge,Object.setPrototypeOf(this,Yp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HJ.prototype.create)}}class HJ{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Wge(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yp(i,a,r)}}function Wge(t,e){return t.replace(Gge,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gge=/\{\$([^}]+)}/g;function nT(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(b6(o)&&b6(s)){if(!nT(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){return t&&t._delegate?t._delegate:t}class vv{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kge{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fge;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xge(e))try{this.getOrInitializeService({instanceIdentifier:hh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hh){return this.instances.has(e)}getOptions(e=hh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yge(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hh){return this.component?this.component.multipleInstances?e:hh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yge(t){return t===hh?void 0:t}function Xge(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kge(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wn||(wn={}));const Qge={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},Zge=wn.INFO,eme={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},tme=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eme[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qJ{constructor(e){this.name=e,this._logLevel=Zge,this._logHandler=tme,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qge[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}const nme=(t,e)=>e.some(n=>t instanceof n);let w6,_6;function rme(){return w6||(w6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ime(){return _6||(_6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jJ=new WeakMap,yL=new WeakMap,WJ=new WeakMap,ZI=new WeakMap,V5=new WeakMap;function ome(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(mf(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jJ.set(n,t)}).catch(()=>{}),V5.set(e,t),e}function sme(t){if(yL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yL.set(t,e)}let vL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WJ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ame(t){vL=t(vL)}function lme(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eP(this),e,...n);return WJ.set(r,e.sort?e.sort():[e]),mf(r)}:ime().includes(t)?function(...e){return t.apply(eP(this),e),mf(jJ.get(this))}:function(...e){return mf(t.apply(eP(this),e))}}function ume(t){return typeof t=="function"?lme(t):(t instanceof IDBTransaction&&sme(t),nme(t,rme())?new Proxy(t,vL):t)}function mf(t){if(t instanceof IDBRequest)return ome(t);if(ZI.has(t))return ZI.get(t);const e=ume(t);return e!==t&&(ZI.set(t,e),V5.set(e,t)),e}const eP=t=>V5.get(t);function cme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=mf(s);return r&&s.addEventListener("upgradeneeded",l=>{r(mf(s.result),l.oldVersion,l.newVersion,mf(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dme=["get","getKey","getAll","getAllKeys","count"],fme=["put","add","delete","clear"],tP=new Map;function x6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tP.get(e))return tP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dme.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tP.set(e,o),o}ame(t=>({...t,get:(e,n,r)=>x6(e,n)||t.get(e,n,r),has:(e,n)=>!!x6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pme(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bL="@firebase/app",E6="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new qJ("@firebase/app"),gme="@firebase/app-compat",mme="@firebase/analytics-compat",yme="@firebase/analytics",vme="@firebase/app-check-compat",bme="@firebase/app-check",wme="@firebase/auth",_me="@firebase/auth-compat",xme="@firebase/database",Eme="@firebase/data-connect",Sme="@firebase/database-compat",Cme="@firebase/functions",Tme="@firebase/functions-compat",Ame="@firebase/installations",Rme="@firebase/installations-compat",kme="@firebase/messaging",Ime="@firebase/messaging-compat",Pme="@firebase/performance",Mme="@firebase/performance-compat",Nme="@firebase/remote-config",Dme="@firebase/remote-config-compat",Lme="@firebase/storage",Ome="@firebase/storage-compat",Fme="@firebase/firestore",$me="@firebase/ai",Bme="@firebase/firestore-compat",zme="firebase",Vme="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="[DEFAULT]",Ume={[bL]:"fire-core",[gme]:"fire-core-compat",[yme]:"fire-analytics",[mme]:"fire-analytics-compat",[bme]:"fire-app-check",[vme]:"fire-app-check-compat",[wme]:"fire-auth",[_me]:"fire-auth-compat",[xme]:"fire-rtdb",[Eme]:"fire-data-connect",[Sme]:"fire-rtdb-compat",[Cme]:"fire-fn",[Tme]:"fire-fn-compat",[Ame]:"fire-iid",[Rme]:"fire-iid-compat",[kme]:"fire-fcm",[Ime]:"fire-fcm-compat",[Pme]:"fire-perf",[Mme]:"fire-perf-compat",[Nme]:"fire-rc",[Dme]:"fire-rc-compat",[Lme]:"fire-gcs",[Ome]:"fire-gcs-compat",[Fme]:"fire-fst",[Bme]:"fire-fst-compat",[$me]:"fire-vertex","fire-js":"fire-js",[zme]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map,Hme=new Map,_L=new Map;function S6(t,e){try{t.container.addComponent(e)}catch(n){zc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ow(t){const e=t.name;if(_L.has(e))return zc.debug(`There were multiple attempts to register component ${e}.`),!1;_L.set(e,t);for(const n of rT.values())S6(n,t);for(const n of Hme.values())S6(n,t);return!0}function GJ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KJ(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yf=new HJ("app","Firebase",qme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jme{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=Vme;function XJ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wL,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw yf.create("bad-app-name",{appName:String(i)});if(n||(n=BJ()),!n)throw yf.create("no-options");const o=rT.get(i);if(o){if(nT(n,o.options)&&nT(r,o.config))return o;throw yf.create("duplicate-app",{appName:i})}const s=new Jge(i);for(const l of _L.values())s.addComponent(l);const a=new jme(n,r,s);return rT.set(i,a),a}function JJ(t=wL){const e=rT.get(t);if(!e&&t===wL&&BJ())return XJ();if(!e)throw yf.create("no-app",{appName:t});return e}function vf(t,e,n){var r;let i=(r=Ume[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zc.warn(a.join(" "));return}Ow(new vv(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wme="firebase-heartbeat-database",Gme=1,Fw="firebase-heartbeat-store";let nP=null;function QJ(){return nP||(nP=cme(Wme,Gme,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fw)}catch(n){console.warn(n)}}}}).catch(t=>{throw yf.create("idb-open",{originalErrorMessage:t.message})})),nP}async function Kme(t){try{const n=(await QJ()).transaction(Fw),r=await n.objectStore(Fw).get(ZJ(t));return await n.done,r}catch(e){if(e instanceof Yp)zc.warn(e.message);else{const n=yf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zc.warn(n.message)}}}async function C6(t,e){try{const r=(await QJ()).transaction(Fw,"readwrite");await r.objectStore(Fw).put(e,ZJ(t)),await r.done}catch(n){if(n instanceof Yp)zc.warn(n.message);else{const r=yf.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zc.warn(r.message)}}}function ZJ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yme=1024,Xme=30;class Jme{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zme(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=T6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xme){const s=eye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T6(),{heartbeatsToSend:r,unsentEntries:i}=Qme(this._heartbeatsCache.heartbeats),o=tT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zc.warn(n),""}}}function T6(){return new Date().toISOString().substring(0,10)}function Qme(t,e=Yme){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),A6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hge()?qge().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kme(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return C6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return C6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A6(t){return tT(JSON.stringify({version:2,heartbeats:t})).length}function eye(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tye(t){Ow(new vv("platform-logger",e=>new hme(e),"PRIVATE")),Ow(new vv("heartbeat",e=>new Jme(e),"PRIVATE")),vf(bL,E6,t),vf(bL,E6,"esm2017"),vf("fire-js","")}tye("");var nye="firebase",rye="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vf(nye,rye,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="firebasestorage.googleapis.com",tQ="storageBucket",iye=2*60*1e3,oye=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Yp{constructor(e,n,r=0){super(rP(e),`Firebase Storage: ${n} (${rP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function rP(t){return"storage/"+t}function U5(){const t="An unknown error occurred, please check the error payload for server response.";return new Ar(Tr.UNKNOWN,t)}function sye(t){return new Ar(Tr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aye(t){return new Ar(Tr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lye(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ar(Tr.UNAUTHENTICATED,t)}function uye(){return new Ar(Tr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cye(t){return new Ar(Tr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dye(){return new Ar(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fye(){return new Ar(Tr.CANCELED,"User canceled the upload/download.")}function hye(t){return new Ar(Tr.INVALID_URL,"Invalid URL '"+t+"'.")}function pye(t){return new Ar(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gye(){return new Ar(Tr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tQ+"' property when initializing the app?")}function mye(){return new Ar(Tr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yye(){return new Ar(Tr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vye(t){return new Ar(Tr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xL(t){return new Ar(Tr.INVALID_ARGUMENT,t)}function nQ(){return new Ar(Tr.APP_DELETED,"The Firebase app was deleted.")}function bye(t){return new Ar(Tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lw(t,e){return new Ar(Tr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function G0(t){throw new Ar(Tr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Es.makeFromUrl(e,n)}catch{return new Es(e,"")}if(r.path==="")return r;throw pye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},y=n===eQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${b}`,"i"),x=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<x.length;C++){const k=x[C],D=k.regex.exec(e);if(D){const A=D[k.indices.bucket];let P=D[k.indices.path];P||(P=""),r=new Es(A,P),k.postModify(r);break}}if(r==null)throw hye(e);return r}}class wye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ye(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function f(){o&&clearTimeout(o)}function p(b,...v){if(u){f();return}if(b){f(),c.call(null,b,...v);return}if(l()||s){f(),c.call(null,b,...v);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}let m=!1;function y(b){m||(m=!0,f(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function xye(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eye(t){return t!==void 0}function Sye(t){return typeof t=="object"&&!Array.isArray(t)}function H5(t){return typeof t=="string"||t instanceof String}function R6(t){return q5()&&t instanceof Blob}function q5(){return typeof Blob<"u"}function k6(t,e,n,r){if(r<e)throw xL(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xL(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Cp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cp||(Cp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cye(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tye{constructor(e,n,r,i,o,s,a,l,u,c,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qE(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Cp.NO_ERROR,l=o.getStatus();if(!a||Cye(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Cp.ABORT;r(!1,new qE(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qE(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Eye(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=U5();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?nQ():fye();s(l)}else{const l=dye();s(l)}};this.canceled_?n(!1,new qE(!1,null,!0)):this.backoffId_=_ye(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Aye(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Rye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kye(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Iye(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pye(t,e,n,r,i,o,s=!0,a=!1){const l=rQ(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return kye(c,e),Aye(c,n),Rye(c,o),Iye(c,r),new Tye(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Nye(...t){const e=Mye();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(q5())return new Blob(t);throw new Ar(Tr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Dye(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lye(t){if(typeof atob>"u")throw vye("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iP{constructor(e,n){this.data=e,this.contentType=n||null}}function Oye(t,e){switch(t){case eu.RAW:return new iP(iQ(e));case eu.BASE64:case eu.BASE64URL:return new iP(oQ(t,e));case eu.DATA_URL:return new iP($ye(e),Bye(e))}throw U5()}function iQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Fye(t){let e;try{e=decodeURIComponent(t)}catch{throw lw(eu.DATA_URL,"Malformed data URL.")}return iQ(e)}function oQ(t,e){switch(t){case eu.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw lw(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case eu.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw lw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Lye(e)}catch(i){throw i.message.includes("polyfill")?i:lw(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class sQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lw(eu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zye(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $ye(t){const e=new sQ(t);return e.base64?oQ(eu.BASE64,e.rest):Fye(e.rest)}function Bye(t){return new sQ(t).contentType}function zye(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){let r=0,i="";R6(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(R6(this.data_)){const r=this.data_,i=Dye(r,e,n);return i===null?null:new Ud(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ud(r,!0)}}static getBlob(...e){if(q5()){const n=e.map(r=>r instanceof Ud?r.data_:r);return new Ud(Nye.apply(null,n))}else{const n=e.map(s=>H5(s)?Oye(eu.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ud(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t){let e;try{e=JSON.parse(t)}catch{return null}return Sye(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vye(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Uye(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hye(t,e){return e}class ao{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Hye}}let jE=null;function qye(t){return!H5(t)||t.length<2?t:lQ(t)}function uQ(){if(jE)return jE;const t=[];t.push(new ao("bucket")),t.push(new ao("generation")),t.push(new ao("metageneration")),t.push(new ao("name","fullPath",!0));function e(o,s){return qye(s)}const n=new ao("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new ao("size");return i.xform=r,t.push(i),t.push(new ao("timeCreated")),t.push(new ao("updated")),t.push(new ao("md5Hash",null,!0)),t.push(new ao("cacheControl",null,!0)),t.push(new ao("contentDisposition",null,!0)),t.push(new ao("contentEncoding",null,!0)),t.push(new ao("contentLanguage",null,!0)),t.push(new ao("contentType",null,!0)),t.push(new ao("metadata","customMetadata",!0)),jE=t,jE}function jye(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Es(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Wye(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return jye(r,t),r}function cQ(t,e,n){const r=aQ(e);return r===null?null:Wye(t,r,n)}function Gye(t,e,n,r){const i=aQ(e);if(i===null||!H5(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+s(c)+"/o/"+s(d),p=j5(f,n,r),m=rQ({alt:"media",token:u});return p+m})[0]}function Kye(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class dQ{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t){if(!t)throw U5()}function Yye(t,e){function n(r,i){const o=cQ(t,i,e);return fQ(o!==null),o}return n}function Xye(t,e){function n(r,i){const o=cQ(t,i,e);return fQ(o!==null),Gye(o,i,t.host,t._protocol)}return n}function hQ(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uye():i=lye():n.getStatus()===402?i=aye(t.bucket):n.getStatus()===403?i=cye(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Jye(t){const e=hQ(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=sye(t.path)),o.serverResponse=i.serverResponse,o}return n}function Qye(t,e,n){const r=e.fullServerUrl(),i=j5(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new dQ(i,o,Xye(t,n),s);return a.errorHandler=Jye(e),a}function Zye(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function eve(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Zye(null,e)),r}function tve(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let C=0;C<2;C++)x=x+Math.random().toString().slice(2);return x}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=eve(e,r,i),c=Kye(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ud.getBlob(d,r,f);if(p===null)throw mye();const m={name:u.fullPath},y=j5(o,t.host,t._protocol),b="POST",v=t.maxUploadRetryTime,E=new dQ(y,b,Yye(t,n),v);return E.urlParams=m,E.headers=s,E.body=p.uploadData(),E.errorHandler=hQ(e),E}class nve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Cp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Cp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Cp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw G0("cannot .send() more than once");if(Kx(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw G0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw G0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw G0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw G0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rve extends nve{initXhr(){this.xhr_.responseType="text"}}function pQ(){return new rve}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this._service=e,n instanceof Es?this._location=n:this._location=Es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ip(e,n)}get root(){const e=new Es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lQ(this._location.path)}get storage(){return this._service}get parent(){const e=Vye(this._location.path);if(e===null)return null;const n=new Es(this._location.bucket,e);return new Ip(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bye(e)}}function ive(t,e,n){t._throwIfRoot("uploadBytes");const r=tve(t.storage,t._location,uQ(),new Ud(e,!0),n);return t.storage.makeRequestWithTokens(r,pQ).then(i=>({metadata:i,ref:t}))}function ove(t){t._throwIfRoot("getDownloadURL");const e=Qye(t.storage,t._location,uQ());return t.storage.makeRequestWithTokens(e,pQ).then(n=>{if(n===null)throw yye();return n})}function sve(t,e){const n=Uye(t._location.path,e),r=new Es(t._location.bucket,n);return new Ip(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ave(t){return/^[A-Za-z]+:\/\//.test(t)}function lve(t,e){return new Ip(t,e)}function gQ(t,e){if(t instanceof W5){const n=t;if(n._bucket==null)throw gye();const r=new Ip(n,n._bucket);return e!=null?gQ(r,e):r}else return e!==void 0?sve(t,e):t}function uve(t,e){if(e&&ave(e)){if(t instanceof W5)return lve(t,e);throw xL("To use ref(service, url), the first argument must be a Storage instance.")}else return gQ(t,e)}function I6(t,e){const n=e==null?void 0:e[tQ];return n==null?null:Es.makeFromBucketSpec(n,t)}function cve(t,e,n,r={}){t.host=`${e}:${n}`;const i=Kx(e);i&&(zJ(`https://${t.host}/b`),UJ("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:VJ(o,t.app.options.projectId))}class W5{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=eQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iye,this._maxUploadRetryTime=oye,this._requests=new Set,i!=null?this._bucket=Es.makeFromBucketSpec(i,this._host):this._bucket=I6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Es.makeFromBucketSpec(this._url,e):this._bucket=I6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){k6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){k6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(KJ(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ip(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new wye(nQ());{const s=Pye(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const P6="@firebase/storage",M6="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mQ="storage";function dve(t,e,n){return t=pu(t),ive(t,e,n)}function fve(t){return t=pu(t),ove(t)}function N6(t,e){return t=pu(t),uve(t,e)}function hve(t=JJ(),e){t=pu(t);const r=GJ(t,mQ).getImmediate({identifier:e}),i=$J("storage");return i&&pve(r,...i),r}function pve(t,e,n,r={}){cve(t,e,n,r)}function gve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new W5(n,r,i,e,YJ)}function mve(){Ow(new vv(mQ,gve,"PUBLIC").setMultipleInstances(!0)),vf(P6,M6,""),vf(P6,M6,"esm2017")}mve();var D6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bf,yQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function M(){}M.prototype=P.prototype,A.D=P.prototype,A.prototype=new M,A.prototype.constructor=A,A.C=function(I,O,F){for(var $=Array(arguments.length-2),L=2;L<arguments.length;L++)$[L-2]=arguments[L];return P.prototype[O].apply(I,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,M){M||(M=0);var I=Array(16);if(typeof P=="string")for(var O=0;16>O;++O)I[O]=P.charCodeAt(M++)|P.charCodeAt(M++)<<8|P.charCodeAt(M++)<<16|P.charCodeAt(M++)<<24;else for(O=0;16>O;++O)I[O]=P[M++]|P[M++]<<8|P[M++]<<16|P[M++]<<24;P=A.g[0],M=A.g[1],O=A.g[2];var F=A.g[3],$=P+(F^M&(O^F))+I[0]+3614090360&4294967295;P=M+($<<7&4294967295|$>>>25),$=F+(O^P&(M^O))+I[1]+3905402710&4294967295,F=P+($<<12&4294967295|$>>>20),$=O+(M^F&(P^M))+I[2]+606105819&4294967295,O=F+($<<17&4294967295|$>>>15),$=M+(P^O&(F^P))+I[3]+3250441966&4294967295,M=O+($<<22&4294967295|$>>>10),$=P+(F^M&(O^F))+I[4]+4118548399&4294967295,P=M+($<<7&4294967295|$>>>25),$=F+(O^P&(M^O))+I[5]+1200080426&4294967295,F=P+($<<12&4294967295|$>>>20),$=O+(M^F&(P^M))+I[6]+2821735955&4294967295,O=F+($<<17&4294967295|$>>>15),$=M+(P^O&(F^P))+I[7]+4249261313&4294967295,M=O+($<<22&4294967295|$>>>10),$=P+(F^M&(O^F))+I[8]+1770035416&4294967295,P=M+($<<7&4294967295|$>>>25),$=F+(O^P&(M^O))+I[9]+2336552879&4294967295,F=P+($<<12&4294967295|$>>>20),$=O+(M^F&(P^M))+I[10]+4294925233&4294967295,O=F+($<<17&4294967295|$>>>15),$=M+(P^O&(F^P))+I[11]+2304563134&4294967295,M=O+($<<22&4294967295|$>>>10),$=P+(F^M&(O^F))+I[12]+1804603682&4294967295,P=M+($<<7&4294967295|$>>>25),$=F+(O^P&(M^O))+I[13]+4254626195&4294967295,F=P+($<<12&4294967295|$>>>20),$=O+(M^F&(P^M))+I[14]+2792965006&4294967295,O=F+($<<17&4294967295|$>>>15),$=M+(P^O&(F^P))+I[15]+1236535329&4294967295,M=O+($<<22&4294967295|$>>>10),$=P+(O^F&(M^O))+I[1]+4129170786&4294967295,P=M+($<<5&4294967295|$>>>27),$=F+(M^O&(P^M))+I[6]+3225465664&4294967295,F=P+($<<9&4294967295|$>>>23),$=O+(P^M&(F^P))+I[11]+643717713&4294967295,O=F+($<<14&4294967295|$>>>18),$=M+(F^P&(O^F))+I[0]+3921069994&4294967295,M=O+($<<20&4294967295|$>>>12),$=P+(O^F&(M^O))+I[5]+3593408605&4294967295,P=M+($<<5&4294967295|$>>>27),$=F+(M^O&(P^M))+I[10]+38016083&4294967295,F=P+($<<9&4294967295|$>>>23),$=O+(P^M&(F^P))+I[15]+3634488961&4294967295,O=F+($<<14&4294967295|$>>>18),$=M+(F^P&(O^F))+I[4]+3889429448&4294967295,M=O+($<<20&4294967295|$>>>12),$=P+(O^F&(M^O))+I[9]+568446438&4294967295,P=M+($<<5&4294967295|$>>>27),$=F+(M^O&(P^M))+I[14]+3275163606&4294967295,F=P+($<<9&4294967295|$>>>23),$=O+(P^M&(F^P))+I[3]+4107603335&4294967295,O=F+($<<14&4294967295|$>>>18),$=M+(F^P&(O^F))+I[8]+1163531501&4294967295,M=O+($<<20&4294967295|$>>>12),$=P+(O^F&(M^O))+I[13]+2850285829&4294967295,P=M+($<<5&4294967295|$>>>27),$=F+(M^O&(P^M))+I[2]+4243563512&4294967295,F=P+($<<9&4294967295|$>>>23),$=O+(P^M&(F^P))+I[7]+1735328473&4294967295,O=F+($<<14&4294967295|$>>>18),$=M+(F^P&(O^F))+I[12]+2368359562&4294967295,M=O+($<<20&4294967295|$>>>12),$=P+(M^O^F)+I[5]+4294588738&4294967295,P=M+($<<4&4294967295|$>>>28),$=F+(P^M^O)+I[8]+2272392833&4294967295,F=P+($<<11&4294967295|$>>>21),$=O+(F^P^M)+I[11]+1839030562&4294967295,O=F+($<<16&4294967295|$>>>16),$=M+(O^F^P)+I[14]+4259657740&4294967295,M=O+($<<23&4294967295|$>>>9),$=P+(M^O^F)+I[1]+2763975236&4294967295,P=M+($<<4&4294967295|$>>>28),$=F+(P^M^O)+I[4]+1272893353&4294967295,F=P+($<<11&4294967295|$>>>21),$=O+(F^P^M)+I[7]+4139469664&4294967295,O=F+($<<16&4294967295|$>>>16),$=M+(O^F^P)+I[10]+3200236656&4294967295,M=O+($<<23&4294967295|$>>>9),$=P+(M^O^F)+I[13]+681279174&4294967295,P=M+($<<4&4294967295|$>>>28),$=F+(P^M^O)+I[0]+3936430074&4294967295,F=P+($<<11&4294967295|$>>>21),$=O+(F^P^M)+I[3]+3572445317&4294967295,O=F+($<<16&4294967295|$>>>16),$=M+(O^F^P)+I[6]+76029189&4294967295,M=O+($<<23&4294967295|$>>>9),$=P+(M^O^F)+I[9]+3654602809&4294967295,P=M+($<<4&4294967295|$>>>28),$=F+(P^M^O)+I[12]+3873151461&4294967295,F=P+($<<11&4294967295|$>>>21),$=O+(F^P^M)+I[15]+530742520&4294967295,O=F+($<<16&4294967295|$>>>16),$=M+(O^F^P)+I[2]+3299628645&4294967295,M=O+($<<23&4294967295|$>>>9),$=P+(O^(M|~F))+I[0]+4096336452&4294967295,P=M+($<<6&4294967295|$>>>26),$=F+(M^(P|~O))+I[7]+1126891415&4294967295,F=P+($<<10&4294967295|$>>>22),$=O+(P^(F|~M))+I[14]+2878612391&4294967295,O=F+($<<15&4294967295|$>>>17),$=M+(F^(O|~P))+I[5]+4237533241&4294967295,M=O+($<<21&4294967295|$>>>11),$=P+(O^(M|~F))+I[12]+1700485571&4294967295,P=M+($<<6&4294967295|$>>>26),$=F+(M^(P|~O))+I[3]+2399980690&4294967295,F=P+($<<10&4294967295|$>>>22),$=O+(P^(F|~M))+I[10]+4293915773&4294967295,O=F+($<<15&4294967295|$>>>17),$=M+(F^(O|~P))+I[1]+2240044497&4294967295,M=O+($<<21&4294967295|$>>>11),$=P+(O^(M|~F))+I[8]+1873313359&4294967295,P=M+($<<6&4294967295|$>>>26),$=F+(M^(P|~O))+I[15]+4264355552&4294967295,F=P+($<<10&4294967295|$>>>22),$=O+(P^(F|~M))+I[6]+2734768916&4294967295,O=F+($<<15&4294967295|$>>>17),$=M+(F^(O|~P))+I[13]+1309151649&4294967295,M=O+($<<21&4294967295|$>>>11),$=P+(O^(M|~F))+I[4]+4149444226&4294967295,P=M+($<<6&4294967295|$>>>26),$=F+(M^(P|~O))+I[11]+3174756917&4294967295,F=P+($<<10&4294967295|$>>>22),$=O+(P^(F|~M))+I[2]+718787259&4294967295,O=F+($<<15&4294967295|$>>>17),$=M+(F^(O|~P))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(O+($<<21&4294967295|$>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+F&4294967295}r.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var M=P-this.blockSize,I=this.B,O=this.h,F=0;F<P;){if(O==0)for(;F<=M;)i(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<P;)if(I[O++]=A.charCodeAt(F++),O==this.blockSize){i(this,I),O=0;break}}else for(;F<P;)if(I[O++]=A[F++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=P},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var M=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=M&255,M/=256;for(this.u(A),A=Array(16),P=M=0;4>P;++P)for(var I=0;32>I;I+=8)A[M++]=this.g[P]>>>I&255;return A};function o(A,P){var M=a;return Object.prototype.hasOwnProperty.call(M,A)?M[A]:M[A]=P(A)}function s(A,P){this.h=P;for(var M=[],I=!0,O=A.length-1;0<=O;O--){var F=A[O]|0;I&&F==P||(M[O]=F,I=!1)}this.g=M}var a={};function l(A){return-128<=A&&128>A?o(A,function(P){return new s([P|0],0>P?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return b(u(-A));for(var P=[],M=1,I=0;A>=M;I++)P[I]=A/M|0,M*=4294967296;return new s(P,0)}function c(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return b(c(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(P,8)),I=d,O=0;O<A.length;O+=8){var F=Math.min(8,A.length-O),$=parseInt(A.substring(O,O+F),P);8>F?(F=u(Math.pow(P,F)),I=I.j(F).add(u($))):(I=I.j(M),I=I.add(u($)))}return I}var d=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-b(this).m();for(var A=0,P=1,M=0;M<this.g.length;M++){var I=this.i(M);A+=(0<=I?I:4294967296+I)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(y(this))return"-"+b(this).toString(A);for(var P=u(Math.pow(A,6)),M=this,I="";;){var O=C(M,P).g;M=v(M,O.j(P));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(A);if(M=O,m(M))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=v(this,A),y(A)?-1:m(A)?0:1};function b(A){for(var P=A.g.length,M=[],I=0;I<P;I++)M[I]=~A.g[I];return new s(M,~A.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),M=[],I=0,O=0;O<=P;O++){var F=I+(this.i(O)&65535)+(A.i(O)&65535),$=(F>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);I=$>>>16,F&=65535,$&=65535,M[O]=$<<16|F}return new s(M,M[M.length-1]&-2147483648?-1:0)};function v(A,P){return A.add(b(P))}t.j=function(A){if(m(this)||m(A))return d;if(y(this))return y(A)?b(this).j(b(A)):b(b(this).j(A));if(y(A))return b(this.j(b(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var P=this.g.length+A.g.length,M=[],I=0;I<2*P;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<A.g.length;O++){var F=this.i(I)>>>16,$=this.i(I)&65535,L=A.i(O)>>>16,q=A.i(O)&65535;M[2*I+2*O]+=$*q,E(M,2*I+2*O),M[2*I+2*O+1]+=F*q,E(M,2*I+2*O+1),M[2*I+2*O+1]+=$*L,E(M,2*I+2*O+1),M[2*I+2*O+2]+=F*L,E(M,2*I+2*O+2)}for(I=0;I<P;I++)M[I]=M[2*I+1]<<16|M[2*I];for(I=P;I<2*P;I++)M[I]=0;return new s(M,0)};function E(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function x(A,P){this.g=A,this.h=P}function C(A,P){if(m(P))throw Error("division by zero");if(m(A))return new x(d,d);if(y(A))return P=C(b(A),P),new x(b(P.g),b(P.h));if(y(P))return P=C(A,b(P)),new x(b(P.g),P.h);if(30<A.g.length){if(y(A)||y(P))throw Error("slowDivide_ only works with positive integers.");for(var M=f,I=P;0>=I.l(A);)M=k(M),I=k(I);var O=D(M,1),F=D(I,1);for(I=D(I,2),M=D(M,2);!m(I);){var $=F.add(I);0>=$.l(A)&&(O=O.add(M),F=$),I=D(I,1),M=D(M,1)}return P=v(A,O.j(P)),new x(O,P)}for(O=d;0<=A.l(P);){for(M=Math.max(1,Math.floor(A.m()/P.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=u(M),$=F.j(P);y($)||0<$.l(A);)M-=I,F=u(M),$=F.j(P);m(F)&&(F=f),O=O.add(F),A=v(A,$)}return new x(O,A)}t.A=function(A){return C(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),M=[],I=0;I<P;I++)M[I]=this.i(I)&A.i(I);return new s(M,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),M=[],I=0;I<P;I++)M[I]=this.i(I)|A.i(I);return new s(M,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),M=[],I=0;I<P;I++)M[I]=this.i(I)^A.i(I);return new s(M,this.h^A.h)};function k(A){for(var P=A.g.length+1,M=[],I=0;I<P;I++)M[I]=A.i(I)<<1|A.i(I-1)>>>31;return new s(M,A.h)}function D(A,P){var M=P>>5;P%=32;for(var I=A.g.length-M,O=[],F=0;F<I;F++)O[F]=0<P?A.i(F+M)>>>P|A.i(F+M+1)<<32-P:A.i(F+M);return new s(O,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yQ=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,bf=s}).apply(typeof D6<"u"?D6:typeof self<"u"?self:typeof window<"u"?window:{});var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vQ,Ab,bQ,VS,EL,wQ,_Q,xQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(R,U,Q){return R==Array.prototype||R==Object.prototype||(R[U]=Q.value),R};function n(R){R=[typeof globalThis=="object"&&globalThis,R,typeof window=="object"&&window,typeof self=="object"&&self,typeof WE=="object"&&WE];for(var U=0;U<R.length;++U){var Q=R[U];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=n(this);function i(R,U){if(U)e:{var Q=r;R=R.split(".");for(var de=0;de<R.length-1;de++){var Re=R[de];if(!(Re in Q))break e;Q=Q[Re]}R=R[R.length-1],de=Q[R],U=U(de),U!=de&&U!=null&&e(Q,R,{configurable:!0,writable:!0,value:U})}}function o(R,U){R instanceof String&&(R+="");var Q=0,de=!1,Re={next:function(){if(!de&&Q<R.length){var De=Q++;return{value:U(De,R[De]),done:!1}}return de=!0,{done:!0,value:void 0}}};return Re[Symbol.iterator]=function(){return Re},Re}i("Array.prototype.values",function(R){return R||function(){return o(this,function(U,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(R){var U=typeof R;return U=U!="object"?U:R?Array.isArray(R)?"array":U:"null",U=="array"||U=="object"&&typeof R.length=="number"}function u(R){var U=typeof R;return U=="object"&&R!=null||U=="function"}function c(R,U,Q){return R.call.apply(R.bind,arguments)}function d(R,U,Q){if(!R)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,de),R.apply(U,Re)}}return function(){return R.apply(U,arguments)}}function f(R,U,Q){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function p(R,U){var Q=Array.prototype.slice.call(arguments,1);return function(){var de=Q.slice();return de.push.apply(de,arguments),R.apply(this,de)}}function m(R,U){function Q(){}Q.prototype=U.prototype,R.aa=U.prototype,R.prototype=new Q,R.prototype.constructor=R,R.Qb=function(de,Re,De){for(var Qe=Array(arguments.length-2),On=2;On<arguments.length;On++)Qe[On-2]=arguments[On];return U.prototype[Re].apply(de,Qe)}}function y(R){const U=R.length;if(0<U){const Q=Array(U);for(let de=0;de<U;de++)Q[de]=R[de];return Q}return[]}function b(R,U){for(let Q=1;Q<arguments.length;Q++){const de=arguments[Q];if(l(de)){const Re=R.length||0,De=de.length||0;R.length=Re+De;for(let Qe=0;Qe<De;Qe++)R[Re+Qe]=de[Qe]}else R.push(de)}}class v{constructor(U,Q){this.i=U,this.j=Q,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function E(R){return/^[\s\xa0]*$/.test(R)}function x(){var R=a.navigator;return R&&(R=R.userAgent)?R:""}function C(R){return C[" "](R),R}C[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function D(R,U,Q){for(const de in R)U.call(Q,R[de],de,R)}function A(R,U){for(const Q in R)U.call(void 0,R[Q],Q,R)}function P(R){const U={};for(const Q in R)U[Q]=R[Q];return U}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(R,U){let Q,de;for(let Re=1;Re<arguments.length;Re++){de=arguments[Re];for(Q in de)R[Q]=de[Q];for(let De=0;De<M.length;De++)Q=M[De],Object.prototype.hasOwnProperty.call(de,Q)&&(R[Q]=de[Q])}}function O(R){var U=1;R=R.split(":");const Q=[];for(;0<U&&R.length;)Q.push(R.shift()),U--;return R.length&&Q.push(R.join(":")),Q}function F(R){a.setTimeout(()=>{throw R},0)}function $(){var R=J;let U=null;return R.g&&(U=R.g,R.g=R.g.next,R.g||(R.h=null),U.next=null),U}class L{constructor(){this.h=this.g=null}add(U,Q){const de=q.get();de.set(U,Q),this.h?this.h.next=de:this.g=de,this.h=de}}var q=new v(()=>new K,R=>R.reset());class K{constructor(){this.next=this.g=this.h=null}set(U,Q){this.h=U,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ee=!1,J=new L,G=()=>{const R=a.Promise.resolve(void 0);X=()=>{R.then(Y)}};var Y=()=>{for(var R;R=$();){try{R.h.call(R.g)}catch(Q){F(Q)}var U=q;U.j(R),100>U.h&&(U.h++,R.next=U.g,U.g=R)}ee=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(R,U){this.type=R,this.g=this.target=U,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var R=!1,U=Object.defineProperty({},"passive",{get:function(){R=!0}});try{const Q=()=>{};a.addEventListener("test",Q,U),a.removeEventListener("test",Q,U)}catch{}return R}();function re(R,U){if(W.call(this,R?R.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,R){var Q=this.type=R.type,de=R.changedTouches&&R.changedTouches.length?R.changedTouches[0]:null;if(this.target=R.target||R.srcElement,this.g=U,U=R.relatedTarget){if(k){e:{try{C(U.nodeName);var Re=!0;break e}catch{}Re=!1}Re||(U=null)}}else Q=="mouseover"?U=R.fromElement:Q=="mouseout"&&(U=R.toElement);this.relatedTarget=U,de?(this.clientX=de.clientX!==void 0?de.clientX:de.pageX,this.clientY=de.clientY!==void 0?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0),this.button=R.button,this.key=R.key||"",this.ctrlKey=R.ctrlKey,this.altKey=R.altKey,this.shiftKey=R.shiftKey,this.metaKey=R.metaKey,this.pointerId=R.pointerId||0,this.pointerType=typeof R.pointerType=="string"?R.pointerType:me[R.pointerType]||"",this.state=R.state,this.i=R,R.defaultPrevented&&re.aa.h.call(this)}}m(re,W);var me={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var R=this.i;R.preventDefault?R.preventDefault():R.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ce=0;function he(R,U,Q,de,Re){this.listener=R,this.proxy=null,this.src=U,this.type=Q,this.capture=!!de,this.ha=Re,this.key=++ce,this.da=this.fa=!1}function be(R){R.da=!0,R.listener=null,R.proxy=null,R.src=null,R.ha=null}function Ce(R){this.src=R,this.g={},this.h=0}Ce.prototype.add=function(R,U,Q,de,Re){var De=R.toString();R=this.g[De],R||(R=this.g[De]=[],this.h++);var Qe=Oe(R,U,de,Re);return-1<Qe?(U=R[Qe],Q||(U.fa=!1)):(U=new he(U,this.src,De,!!de,Re),U.fa=Q,R.push(U)),U};function Ae(R,U){var Q=U.type;if(Q in R.g){var de=R.g[Q],Re=Array.prototype.indexOf.call(de,U,void 0),De;(De=0<=Re)&&Array.prototype.splice.call(de,Re,1),De&&(be(U),R.g[Q].length==0&&(delete R.g[Q],R.h--))}}function Oe(R,U,Q,de){for(var Re=0;Re<R.length;++Re){var De=R[Re];if(!De.da&&De.listener==U&&De.capture==!!Q&&De.ha==de)return Re}return-1}var j="closure_lm_"+(1e6*Math.random()|0),pe={};function ve(R,U,Q,de,Re){if(Array.isArray(U)){for(var De=0;De<U.length;De++)ve(R,U[De],Q,de,Re);return null}return Q=Be(Q),R&&R[ge]?R.K(U,Q,u(de)?!!de.capture:!1,Re):se(R,U,Q,!1,de,Re)}function se(R,U,Q,de,Re,De){if(!U)throw Error("Invalid event type");var Qe=u(Re)?!!Re.capture:!!Re,On=Le(R);if(On||(R[j]=On=new Ce(R)),Q=On.add(U,Q,de,Qe,De),Q.proxy)return Q;if(de=te(),Q.proxy=de,de.src=R,de.listener=Q,R.addEventListener)oe||(Re=Qe),Re===void 0&&(Re=!1),R.addEventListener(U.toString(),de,Re);else if(R.attachEvent)R.attachEvent(Ie(U.toString()),de);else if(R.addListener&&R.removeListener)R.addListener(de);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function te(){function R(Q){return U.call(R.src,R.listener,Q)}const U=we;return R}function fe(R,U,Q,de,Re){if(Array.isArray(U))for(var De=0;De<U.length;De++)fe(R,U[De],Q,de,Re);else de=u(de)?!!de.capture:!!de,Q=Be(Q),R&&R[ge]?(R=R.i,U=String(U).toString(),U in R.g&&(De=R.g[U],Q=Oe(De,Q,de,Re),-1<Q&&(be(De[Q]),Array.prototype.splice.call(De,Q,1),De.length==0&&(delete R.g[U],R.h--)))):R&&(R=Le(R))&&(U=R.g[U.toString()],R=-1,U&&(R=Oe(U,Q,de,Re)),(Q=-1<R?U[R]:null)&&_e(Q))}function _e(R){if(typeof R!="number"&&R&&!R.da){var U=R.src;if(U&&U[ge])Ae(U.i,R);else{var Q=R.type,de=R.proxy;U.removeEventListener?U.removeEventListener(Q,de,R.capture):U.detachEvent?U.detachEvent(Ie(Q),de):U.addListener&&U.removeListener&&U.removeListener(de),(Q=Le(U))?(Ae(Q,R),Q.h==0&&(Q.src=null,U[j]=null)):be(R)}}}function Ie(R){return R in pe?pe[R]:pe[R]="on"+R}function we(R,U){if(R.da)R=!0;else{U=new re(U,this);var Q=R.listener,de=R.ha||R.src;R.fa&&_e(R),R=Q.call(de,U)}return R}function Le(R){return R=R[j],R instanceof Ce?R:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(R){return typeof R=="function"?R:(R[He]||(R[He]=function(U){return R.handleEvent(U)}),R[He])}function xe(){Z.call(this),this.i=new Ce(this),this.M=this,this.F=null}m(xe,Z),xe.prototype[ge]=!0,xe.prototype.removeEventListener=function(R,U,Q,de){fe(this,R,U,Q,de)};function Me(R,U){var Q,de=R.F;if(de)for(Q=[];de;de=de.F)Q.push(de);if(R=R.M,de=U.type||U,typeof U=="string")U=new W(U,R);else if(U instanceof W)U.target=U.target||R;else{var Re=U;U=new W(de,R),I(U,Re)}if(Re=!0,Q)for(var De=Q.length-1;0<=De;De--){var Qe=U.g=Q[De];Re=Ve(Qe,de,!0,U)&&Re}if(Qe=U.g=R,Re=Ve(Qe,de,!0,U)&&Re,Re=Ve(Qe,de,!1,U)&&Re,Q)for(De=0;De<Q.length;De++)Qe=U.g=Q[De],Re=Ve(Qe,de,!1,U)&&Re}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var R=this.i,U;for(U in R.g){for(var Q=R.g[U],de=0;de<Q.length;de++)be(Q[de]);delete R.g[U],R.h--}}this.F=null},xe.prototype.K=function(R,U,Q,de){return this.i.add(String(R),U,!1,Q,de)},xe.prototype.L=function(R,U,Q,de){return this.i.add(String(R),U,!0,Q,de)};function Ve(R,U,Q,de){if(U=R.i.g[String(U)],!U)return!0;U=U.concat();for(var Re=!0,De=0;De<U.length;++De){var Qe=U[De];if(Qe&&!Qe.da&&Qe.capture==Q){var On=Qe.listener,Yr=Qe.ha||Qe.src;Qe.fa&&Ae(R.i,Qe),Re=On.call(Yr,de)!==!1&&Re}}return Re&&!de.defaultPrevented}function nt(R,U,Q){if(typeof R=="function")Q&&(R=f(R,Q));else if(R&&typeof R.handleEvent=="function")R=f(R.handleEvent,R);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(R,U||0)}function wt(R){R.g=nt(()=>{R.g=null,R.i&&(R.i=!1,wt(R))},R.l);const U=R.h;R.h=null,R.m.apply(null,U)}class rt extends Z{constructor(U,Q){super(),this.m=U,this.l=Q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(R){Z.call(this),this.h=R,this.g={}}m(Qt,Z);var vt=[];function Yt(R){D(R.g,function(U,Q){this.g.hasOwnProperty(Q)&&_e(U)},R),R.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),Yt(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=a.JSON.stringify,_t=a.JSON.parse,on=class{stringify(R){return a.JSON.stringify(R,void 0)}parse(R){return a.JSON.parse(R,void 0)}};function xn(){}xn.prototype.h=null;function eo(R){return R.h||(R.h=R.i())}function Ms(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){W.call(this,"d")}m(Lr,W);function to(){W.call(this,"c")}m(to,W);var vo={},ul=null;function ca(){return ul=ul||new xe}vo.La="serverreachability";function $t(R){W.call(this,vo.La,R)}m($t,W);function hr(R){const U=ca();Me(U,new $t(U))}vo.STAT_EVENT="statevent";function cl(R,U){W.call(this,vo.STAT_EVENT,R),this.stat=U}m(cl,W);function pr(R){const U=ca();Me(U,new cl(U,R))}vo.Ma="timingevent";function rd(R,U){W.call(this,vo.Ma,R),this.size=U}m(rd,W);function Zo(R,U){if(typeof R!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){R()},U)}function Cu(){this.g=!0}Cu.prototype.xa=function(){this.g=!1};function Tu(R,U,Q,de,Re,De){R.info(function(){if(R.g)if(De)for(var Qe="",On=De.split("&"),Yr=0;Yr<On.length;Yr++){var mn=On[Yr].split("=");if(1<mn.length){var ai=mn[0];mn=mn[1];var Or=ai.split("_");Qe=2<=Or.length&&Or[1]=="type"?Qe+(ai+"="+mn+"&"):Qe+(ai+"=redacted&")}}else Qe=null;else Qe=De;return"XMLHTTP REQ ("+de+") [attempt "+Re+"]: "+U+`
`+Q+`
`+Qe})}function id(R,U,Q,de,Re,De,Qe){R.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+Re+"]: "+U+`
`+Q+`
`+De+" "+Qe})}function es(R,U,Q,de){R.info(function(){return"XMLHTTP TEXT ("+U+"): "+f0(R,Q)+(de?" "+de:"")})}function Uf(R,U){R.info(function(){return"TIMEOUT: "+U})}Cu.prototype.info=function(){};function f0(R,U){if(!R.g)return U;if(!U)return null;try{var Q=JSON.parse(U);if(Q){for(R=0;R<Q.length;R++)if(Array.isArray(Q[R])){var de=Q[R];if(!(2>de.length)){var Re=de[1];if(Array.isArray(Re)&&!(1>Re.length)){var De=Re[0];if(De!="noop"&&De!="stop"&&De!="close")for(var Qe=1;Qe<Re.length;Qe++)Re[Qe]=""}}}}return st(Q)}catch{return U}}var od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bo;function dl(){}m(dl,xn),dl.prototype.g=function(){return new XMLHttpRequest},dl.prototype.i=function(){return{}},bo=new dl;function wo(R,U,Q,de){this.j=R,this.i=U,this.l=Q,this.R=de||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vg}function vg(){this.i=null,this.g="",this.h=!1}var Hf={},sd={};function ad(R,U,Q){R.L=1,R.v=cd(ro(U)),R.m=Q,R.P=!0,qf(R,null)}function qf(R,U){R.F=Date.now(),zn(R),R.A=ro(R.v);var Q=R.A,de=R.R;Array.isArray(de)||(de=[String(de)]),fd(Q.i,"t",de),R.C=0,Q=R.j.J,R.h=new vg,R.g=B1(R.j,Q?U:null,!R.m),0<R.O&&(R.M=new rt(f(R.Y,R,R.g),R.O)),U=R.U,Q=R.g,de=R.ca;var Re="readystatechange";Array.isArray(Re)||(Re&&(vt[0]=Re.toString()),Re=vt);for(var De=0;De<Re.length;De++){var Qe=ve(Q,Re[De],de||U.handleEvent,!1,U.h||U);if(!Qe)break;U.g[Qe.key]=Qe}U=R.H?P(R.H):{},R.m?(R.u||(R.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",R.g.ea(R.A,R.u,R.m,U)):(R.u="GET",R.g.ea(R.A,R.u,null,U)),hr(),Tu(R.i,R.u,R.A,R.l,R.R,R.m)}wo.prototype.ca=function(R){R=R.target;const U=this.M;U&&Eo(R)==3?U.j():this.Y(R)},wo.prototype.Y=function(R){try{if(R==this.g)e:{const Or=Eo(this.g);var U=this.g.Ba();const Ds=this.g.Z();if(!(3>Or)&&(Or!=3||this.g&&(this.h.h||this.g.oa()||y0(this.g)))){this.J||Or!=4||U==7||(U==8||0>=Ds?hr(3):hr(2)),Au(this);var Q=this.g.Z();this.X=Q;t:if(bg(this)){var de=y0(this.g);R="";var Re=de.length,De=Eo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),fl(this);var Qe="";break t}this.h.i=new a.TextDecoder}for(U=0;U<Re;U++)this.h.h=!0,R+=this.h.i.decode(de[U],{stream:!(De&&U==Re-1)});de.length=0,this.h.g+=R,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=Q==200,id(this.i,this.u,this.A,this.l,this.R,Or,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var On,Yr=this.g;if((On=Yr.g?Yr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(On)){var mn=On;break t}}mn=null}if(Q=mn)es(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jf(this,Q);else{this.o=!1,this.s=3,pr(12),_o(this),fl(this);break e}}if(this.P){Q=!0;let rs;for(;!this.J&&this.C<Qe.length;)if(rs=wg(this,Qe),rs==sd){Or==4&&(this.s=4,pr(14),Q=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==Hf){this.s=4,pr(15),es(this.i,this.l,Qe,"[Invalid Chunk]"),Q=!1;break}else es(this.i,this.l,rs,null),jf(this,rs);if(bg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Or!=4||Qe.length!=0||this.h.h||(this.s=1,pr(16),Q=!1),this.o=this.o&&Q,!Q)es(this.i,this.l,Qe,"[Invalid Chunked Response]"),_o(this),fl(this);else if(0<Qe.length&&!this.W){this.W=!0;var ai=this.j;ai.g==this&&ai.ba&&!ai.M&&(ai.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),b0(ai),ai.M=!0,pr(11))}}else es(this.i,this.l,Qe,null),jf(this,Qe);Or==4&&_o(this),this.o&&!this.J&&(Or==4?Dg(this.j,this):(this.o=!1,zn(this)))}else kg(this.g),Q==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,pr(12)):(this.s=0,pr(13)),_o(this),fl(this)}}}catch{}finally{}};function bg(R){return R.g?R.u=="GET"&&R.L!=2&&R.j.Ca:!1}function wg(R,U){var Q=R.C,de=U.indexOf(`
`,Q);return de==-1?sd:(Q=Number(U.substring(Q,de)),isNaN(Q)?Hf:(de+=1,de+Q>U.length?sd:(U=U.slice(de,de+Q),R.C=de+Q,U)))}wo.prototype.cancel=function(){this.J=!0,_o(this)};function zn(R){R.S=Date.now()+R.I,_g(R,R.I)}function _g(R,U){if(R.B!=null)throw Error("WatchDog timer not null");R.B=Zo(f(R.ba,R),U)}function Au(R){R.B&&(a.clearTimeout(R.B),R.B=null)}wo.prototype.ba=function(){this.B=null;const R=Date.now();0<=R-this.S?(Uf(this.i,this.A),this.L!=2&&(hr(),pr(17)),_o(this),this.s=2,fl(this)):_g(this,this.S-R)};function fl(R){R.j.G==0||R.J||Dg(R.j,R)}function _o(R){Au(R);var U=R.M;U&&typeof U.ma=="function"&&U.ma(),R.M=null,Yt(R.U),R.g&&(U=R.g,R.g=null,U.abort(),U.ma())}function jf(R,U){try{var Q=R.j;if(Q.G!=0&&(Q.g==R||gi(Q.h,R))){if(!R.K&&gi(Q.h,R)&&Q.G==3){try{var de=Q.Da.g.parse(U)}catch{de=null}if(Array.isArray(de)&&de.length==3){var Re=de;if(Re[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<R.F)Ng(Q),ya(Q);else break e;Mg(Q),pr(18)}}else Q.za=Re[1],0<Q.za-Q.T&&37500>Re[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Zo(f(Q.Za,Q),6e3));if(1>=Eg(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else Nu(Q,11)}else if((R.K||Q.g==R)&&Ng(Q),!E(U))for(Re=Q.Da.g.parse(U),U=0;U<Re.length;U++){let mn=Re[U];if(Q.T=mn[0],mn=mn[1],Q.G==2)if(mn[0]=="c"){Q.K=mn[1],Q.ia=mn[2];const ai=mn[3];ai!=null&&(Q.la=ai,Q.j.info("VER="+Q.la));const Or=mn[4];Or!=null&&(Q.Aa=Or,Q.j.info("SVER="+Q.Aa));const Ds=mn[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(de=1.5*Ds,Q.L=de,Q.j.info("backChannelRequestTimeoutMs_="+de)),de=Q;const rs=R.g;if(rs){const Xf=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xf){var De=de.h;De.g||Xf.indexOf("spdy")==-1&&Xf.indexOf("quic")==-1&&Xf.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Wf(De,De.h),De.h=null))}if(de.D){const Og=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Og&&(de.ya=Og,jn(de.I,de.D,Og))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-R.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),de=Q;var Qe=R;if(de.qa=$1(de,de.J?de.ia:null,de.W),Qe.K){Sg(de.h,Qe);var On=Qe,Yr=de.L;Yr&&(On.I=Yr),On.B&&(Au(On),zn(On)),de.g=Qe}else Yf(de);0<Q.i.length&&vl(Q)}else mn[0]!="stop"&&mn[0]!="close"||Nu(Q,7);else Q.G==3&&(mn[0]=="stop"||mn[0]=="close"?mn[0]=="stop"?Nu(Q,7):yi(Q):mn[0]!="noop"&&Q.l&&Q.l.ta(mn),Q.v=0)}}hr(4)}catch{}}var xg=class{constructor(R,U){this.g=R,this.map=U}};function hl(R){this.l=R||10,a.PerformanceNavigationTiming?(R=a.performance.getEntriesByType("navigation"),R=0<R.length&&(R[0].nextHopProtocol=="hq"||R[0].nextHopProtocol=="h2")):R=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=R?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function no(R){return R.h?!0:R.g?R.g.size>=R.j:!1}function Eg(R){return R.h?1:R.g?R.g.size:0}function gi(R,U){return R.h?R.h==U:R.g?R.g.has(U):!1}function Wf(R,U){R.g?R.g.add(U):R.h=U}function Sg(R,U){R.h&&R.h==U?R.h=null:R.g&&R.g.has(U)&&R.g.delete(U)}hl.prototype.cancel=function(){if(this.i=Cg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const R of this.g.values())R.cancel();this.g.clear()}};function Cg(R){if(R.h!=null)return R.i.concat(R.h.D);if(R.g!=null&&R.g.size!==0){let U=R.i;for(const Q of R.g.values())U=U.concat(Q.D);return U}return y(R.i)}function ld(R){if(R.V&&typeof R.V=="function")return R.V();if(typeof Map<"u"&&R instanceof Map||typeof Set<"u"&&R instanceof Set)return Array.from(R.values());if(typeof R=="string")return R.split("");if(l(R)){for(var U=[],Q=R.length,de=0;de<Q;de++)U.push(R[de]);return U}U=[],Q=0;for(de in R)U[Q++]=R[de];return U}function da(R){if(R.na&&typeof R.na=="function")return R.na();if(!R.V||typeof R.V!="function"){if(typeof Map<"u"&&R instanceof Map)return Array.from(R.keys());if(!(typeof Set<"u"&&R instanceof Set)){if(l(R)||typeof R=="string"){var U=[];R=R.length;for(var Q=0;Q<R;Q++)U.push(Q);return U}U=[],Q=0;for(const de in R)U[Q++]=de;return U}}}function pl(R,U){if(R.forEach&&typeof R.forEach=="function")R.forEach(U,void 0);else if(l(R)||typeof R=="string")Array.prototype.forEach.call(R,U,void 0);else for(var Q=da(R),de=ld(R),Re=de.length,De=0;De<Re;De++)U.call(void 0,de[De],Q&&Q[De],R)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h0(R,U){if(R){R=R.split("&");for(var Q=0;Q<R.length;Q++){var de=R[Q].indexOf("="),Re=null;if(0<=de){var De=R[Q].substring(0,de);Re=R[Q].substring(de+1)}else De=R[Q];U(De,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function ts(R){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,R instanceof ts){this.h=R.h,ku(this,R.j),this.o=R.o,this.g=R.g,fa(this,R.s),this.l=R.l;var U=R.i,Q=new gl;Q.i=U.i,U.g&&(Q.g=new Map(U.g),Q.h=U.h),ud(this,Q),this.m=R.m}else R&&(U=String(R).match(Ru))?(this.h=!1,ku(this,U[1]||"",!0),this.o=fn(U[2]||""),this.g=fn(U[3]||"",!0),fa(this,U[4]),this.l=fn(U[5]||"",!0),ud(this,U[6]||"",!0),this.m=fn(U[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}ts.prototype.toString=function(){var R=[],U=this.j;U&&R.push(dd(U,Tg,!0),":");var Q=this.g;return(Q||U=="file")&&(R.push("//"),(U=this.o)&&R.push(dd(U,Tg,!0),"@"),R.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&R.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&R.push("/"),R.push(dd(Q,Q.charAt(0)=="/"?I1:k1,!0))),(Q=this.i.toString())&&R.push("?",Q),(Q=this.m)&&R.push("#",dd(Q,p0)),R.join("")};function ro(R){return new ts(R)}function ku(R,U,Q){R.j=Q?fn(U,!0):U,R.j&&(R.j=R.j.replace(/:$/,""))}function fa(R,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);R.s=U}else R.s=null}function ud(R,U,Q){U instanceof gl?(R.i=U,ml(R.i,R.h)):(Q||(U=dd(U,P1)),R.i=new gl(U,R.h))}function jn(R,U,Q){R.i.set(U,Q)}function cd(R){return jn(R,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),R}function fn(R,U){return R?U?decodeURI(R.replace(/%25/g,"%2525")):decodeURIComponent(R):""}function dd(R,U,Q){return typeof R=="string"?(R=encodeURI(R).replace(U,R1),Q&&(R=R.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R):null}function R1(R){return R=R.charCodeAt(0),"%"+(R>>4&15).toString(16)+(R&15).toString(16)}var Tg=/[#\/\?@]/g,k1=/[#\?:]/g,I1=/[#\?]/g,P1=/[#\?@]/g,p0=/#/g;function gl(R,U){this.h=this.g=null,this.i=R||null,this.j=!!U}function mi(R){R.g||(R.g=new Map,R.h=0,R.i&&h0(R.i,function(U,Q){R.add(decodeURIComponent(U.replace(/\+/g," ")),Q)}))}t=gl.prototype,t.add=function(R,U){mi(this),this.i=null,R=Ns(this,R);var Q=this.g.get(R);return Q||this.g.set(R,Q=[]),Q.push(U),this.h+=1,this};function ha(R,U){mi(R),U=Ns(R,U),R.g.has(U)&&(R.i=null,R.h-=R.g.get(U).length,R.g.delete(U))}function pa(R,U){return mi(R),U=Ns(R,U),R.g.has(U)}t.forEach=function(R,U){mi(this),this.g.forEach(function(Q,de){Q.forEach(function(Re){R.call(U,Re,de,this)},this)},this)},t.na=function(){mi(this);const R=Array.from(this.g.values()),U=Array.from(this.g.keys()),Q=[];for(let de=0;de<U.length;de++){const Re=R[de];for(let De=0;De<Re.length;De++)Q.push(U[de])}return Q},t.V=function(R){mi(this);let U=[];if(typeof R=="string")pa(this,R)&&(U=U.concat(this.g.get(Ns(this,R))));else{R=Array.from(this.g.values());for(let Q=0;Q<R.length;Q++)U=U.concat(R[Q])}return U},t.set=function(R,U){return mi(this),this.i=null,R=Ns(this,R),pa(this,R)&&(this.h-=this.g.get(R).length),this.g.set(R,[U]),this.h+=1,this},t.get=function(R,U){return R?(R=this.V(R),0<R.length?String(R[0]):U):U};function fd(R,U,Q){ha(R,U),0<Q.length&&(R.i=null,R.g.set(Ns(R,U),y(Q)),R.h+=Q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const R=[],U=Array.from(this.g.keys());for(var Q=0;Q<U.length;Q++){var de=U[Q];const De=encodeURIComponent(String(de)),Qe=this.V(de);for(de=0;de<Qe.length;de++){var Re=De;Qe[de]!==""&&(Re+="="+encodeURIComponent(String(Qe[de]))),R.push(Re)}}return this.i=R.join("&")};function Ns(R,U){return U=String(U),R.j&&(U=U.toLowerCase()),U}function ml(R,U){U&&!R.j&&(mi(R),R.i=null,R.g.forEach(function(Q,de){var Re=de.toLowerCase();de!=Re&&(ha(this,de),fd(this,Re,Q))},R)),R.j=U}function ck(R,U){const Q=new Cu;if(a.Image){const de=new Image;de.onload=p(xo,Q,"TestLoadImage: loaded",!0,U,de),de.onerror=p(xo,Q,"TestLoadImage: error",!1,U,de),de.onabort=p(xo,Q,"TestLoadImage: abort",!1,U,de),de.ontimeout=p(xo,Q,"TestLoadImage: timeout",!1,U,de),a.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=R}else U(!1)}function M1(R,U){const Q=new Cu,de=new AbortController,Re=setTimeout(()=>{de.abort(),xo(Q,"TestPingServer: timeout",!1,U)},1e4);fetch(R,{signal:de.signal}).then(De=>{clearTimeout(Re),De.ok?xo(Q,"TestPingServer: ok",!0,U):xo(Q,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Re),xo(Q,"TestPingServer: error",!1,U)})}function xo(R,U,Q,de,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),de(Q)}catch{}}function dk(){this.g=new on}function N1(R,U,Q){const de=Q||"";try{pl(R,function(Re,De){let Qe=Re;u(Re)&&(Qe=st(Re)),U.push(de+De+"="+encodeURIComponent(Qe))})}catch(Re){throw U.push(de+"type="+encodeURIComponent("_badmap")),Re}}function Iu(R){this.l=R.Ub||null,this.j=R.eb||!1}m(Iu,xn),Iu.prototype.g=function(){return new Gf(this.l,this.j)},Iu.prototype.i=function(R){return function(){return R}}({});function Gf(R,U){xe.call(this),this.D=R,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Gf,xe),t=Gf.prototype,t.open=function(R,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=R,this.A=U,this.readyState=1,ma(this)},t.send=function(R){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};R&&(U.body=R),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(R){if(this.g&&(this.l=R,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=R.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")R.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in R){if(this.j=R.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;D1(this)}else R.text().then(this.Ra.bind(this),this.ga.bind(this))};function D1(R){R.j.read().then(R.Pa.bind(R)).catch(R.ga.bind(R))}t.Pa=function(R){if(this.g){if(this.o&&R.value)this.response.push(R.value);else if(!this.o){var U=R.value?R.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!R.done}))&&(this.response=this.responseText+=U)}R.done?ga(this):ma(this),this.readyState==3&&D1(this)}},t.Ra=function(R){this.g&&(this.response=this.responseText=R,ga(this))},t.Qa=function(R){this.g&&(this.response=R,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(R){R.readyState=4,R.l=null,R.j=null,R.v=null,ma(R)}t.setRequestHeader=function(R,U){this.u.append(R,U)},t.getResponseHeader=function(R){return this.h&&this.h.get(R.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const R=[],U=this.h.entries();for(var Q=U.next();!Q.done;)Q=Q.value,R.push(Q[0]+": "+Q[1]),Q=U.next();return R.join(`\r
`)};function ma(R){R.onreadystatechange&&R.onreadystatechange.call(R)}Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(R){this.m=R?"include":"same-origin"}});function Pu(R){let U="";return D(R,function(Q,de){U+=de,U+=":",U+=Q,U+=`\r
`}),U}function hd(R,U,Q){e:{for(de in Q){var de=!1;break e}de=!0}de||(Q=Pu(Q),typeof R=="string"?Q!=null&&encodeURIComponent(String(Q)):jn(R,U,Q))}function sr(R){xe.call(this),this.headers=new Map,this.o=R||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(sr,xe);var fk=/^https?$/i,g0=["POST","PUT"];t=sr.prototype,t.Ha=function(R){this.J=R},t.ea=function(R,U,Q,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+R);U=U?U.toUpperCase():"GET",this.D=R,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bo.g(),this.v=this.o?eo(this.o):eo(bo),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(U,String(R),!0),this.B=!1}catch(De){Kf(this,De);return}if(R=Q||"",Q=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var Re in de)Q.set(Re,de[Re]);else if(typeof de.keys=="function"&&typeof de.get=="function")for(const De of de.keys())Q.set(De,de.get(De));else throw Error("Unknown input type for opt_headers: "+String(de));de=Array.from(Q.keys()).find(De=>De.toLowerCase()=="content-type"),Re=a.FormData&&R instanceof a.FormData,!(0<=Array.prototype.indexOf.call(g0,U,void 0))||de||Re||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Qe]of Q)this.g.setRequestHeader(De,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rg(this),this.u=!0,this.g.send(R),this.u=!1}catch(De){Kf(this,De)}};function Kf(R,U){R.h=!1,R.g&&(R.j=!0,R.g.abort(),R.j=!1),R.l=U,R.m=5,Ag(R),ns(R)}function Ag(R){R.A||(R.A=!0,Me(R,"complete"),Me(R,"error"))}t.abort=function(R){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=R||7,Me(this,"complete"),Me(this,"abort"),ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),sr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?m0(this):this.bb())},t.bb=function(){m0(this)};function m0(R){if(R.h&&typeof s<"u"&&(!R.v[1]||Eo(R)!=4||R.Z()!=2)){if(R.u&&Eo(R)==4)nt(R.Ea,0,R);else if(Me(R,"readystatechange"),Eo(R)==4){R.h=!1;try{const Qe=R.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var Q;if(!(Q=U)){var de;if(de=Qe===0){var Re=String(R.D).match(Ru)[1]||null;!Re&&a.self&&a.self.location&&(Re=a.self.location.protocol.slice(0,-1)),de=!fk.test(Re?Re.toLowerCase():"")}Q=de}if(Q)Me(R,"complete"),Me(R,"success");else{R.m=6;try{var De=2<Eo(R)?R.g.statusText:""}catch{De=""}R.l=De+" ["+R.Z()+"]",Ag(R)}}finally{ns(R)}}}}function ns(R,U){if(R.g){Rg(R);const Q=R.g,de=R.v[0]?()=>{}:null;R.g=null,R.v=null,U||Me(R,"ready");try{Q.onreadystatechange=de}catch{}}}function Rg(R){R.I&&(a.clearTimeout(R.I),R.I=null)}t.isActive=function(){return!!this.g};function Eo(R){return R.g?R.g.readyState:0}t.Z=function(){try{return 2<Eo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(R){if(this.g){var U=this.g.responseText;return R&&U.indexOf(R)==0&&(U=U.substring(R.length)),_t(U)}};function y0(R){try{if(!R.g)return null;if("response"in R.g)return R.g.response;switch(R.H){case"":case"text":return R.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in R.g)return R.g.mozResponseArrayBuffer}return null}catch{return null}}function kg(R){const U={};R=(R.g&&2<=Eo(R)&&R.g.getAllResponseHeaders()||"").split(`\r
`);for(let de=0;de<R.length;de++){if(E(R[de]))continue;var Q=O(R[de]);const Re=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const De=U[Re]||[];U[Re]=De,De.push(Q)}A(U,function(de){return de.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yl(R,U,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[R]||U}function v0(R){this.Aa=0,this.i=[],this.j=new Cu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yl("failFast",!1,R),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yl("baseRetryDelayMs",5e3,R),this.cb=yl("retryDelaySeedMs",1e4,R),this.Wa=yl("forwardChannelMaxRetries",2,R),this.wa=yl("forwardChannelRequestTimeoutMs",2e4,R),this.pa=R&&R.xmlHttpFactory||void 0,this.Xa=R&&R.Tb||void 0,this.Ca=R&&R.useFetchStreams||!1,this.L=void 0,this.J=R&&R.supportsCrossDomainXhr||!1,this.K="",this.h=new hl(R&&R.concurrentRequestLimit),this.Da=new dk,this.P=R&&R.fastHandshake||!1,this.O=R&&R.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=R&&R.Rb||!1,R&&R.xa&&this.j.xa(),R&&R.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&R&&R.detectBufferingProxy||!1,this.ja=void 0,R&&R.longPollingTimeout&&0<R.longPollingTimeout&&(this.ja=R.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=v0.prototype,t.la=8,t.G=1,t.connect=function(R,U,Q,de){pr(0),this.W=R,this.H=U||{},Q&&de!==void 0&&(this.H.OSID=Q,this.H.OAID=de),this.F=this.X,this.I=$1(this,null,this.W),vl(this)};function yi(R){if(Ig(R),R.G==3){var U=R.U++,Q=ro(R.I);if(jn(Q,"SID",R.K),jn(Q,"RID",U),jn(Q,"TYPE","terminate"),Mu(R,Q),U=new wo(R,R.j,U),U.L=2,U.v=cd(ro(Q)),Q=!1,a.navigator&&a.navigator.sendBeacon)try{Q=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!Q&&a.Image&&(new Image().src=U.v,Q=!0),Q||(U.g=B1(U.j,null),U.g.ea(U.v)),U.F=Date.now(),zn(U)}F1(R)}function ya(R){R.g&&(b0(R),R.g.cancel(),R.g=null)}function Ig(R){ya(R),R.u&&(a.clearTimeout(R.u),R.u=null),Ng(R),R.h.cancel(),R.s&&(typeof R.s=="number"&&a.clearTimeout(R.s),R.s=null)}function vl(R){if(!no(R.h)&&!R.s){R.s=!0;var U=R.Ga;X||G(),ee||(X(),ee=!0),J.add(U,R),R.B=0}}function hk(R,U){return Eg(R.h)>=R.h.j-(R.s?1:0)?!1:R.s?(R.i=U.D.concat(R.i),!0):R.G==1||R.G==2||R.B>=(R.Va?0:R.Wa)?!1:(R.s=Zo(f(R.Ga,R,U),O1(R,R.B)),R.B++,!0)}t.Ga=function(R){if(this.s)if(this.s=null,this.G==1){if(!R){this.U=Math.floor(1e5*Math.random()),R=this.U++;const Re=new wo(this,this.j,R);let De=this.o;if(this.S&&(De?(De=P(De),I(De,this.S)):De=this.S),this.m!==null||this.O||(Re.H=De,De=null),this.P)e:{for(var U=0,Q=0;Q<this.i.length;Q++){t:{var de=this.i[Q];if("__data__"in de.map&&(de=de.map.__data__,typeof de=="string")){de=de.length;break t}de=void 0}if(de===void 0)break;if(U+=de,4096<U){U=Q;break e}if(U===4096||Q===this.i.length-1){U=Q+1;break e}}U=1e3}else U=1e3;U=pd(this,Re,U),Q=ro(this.I),jn(Q,"RID",R),jn(Q,"CVER",22),this.D&&jn(Q,"X-HTTP-Session-Id",this.D),Mu(this,Q),De&&(this.O?U="headers="+encodeURIComponent(String(Pu(De)))+"&"+U:this.m&&hd(Q,this.m,De)),Wf(this.h,Re),this.Ua&&jn(Q,"TYPE","init"),this.P?(jn(Q,"$req",U),jn(Q,"SID","null"),Re.T=!0,ad(Re,Q,null)):ad(Re,Q,U),this.G=2}}else this.G==3&&(R?Pg(this,R):this.i.length==0||no(this.h)||Pg(this))};function Pg(R,U){var Q;U?Q=U.l:Q=R.U++;const de=ro(R.I);jn(de,"SID",R.K),jn(de,"RID",Q),jn(de,"AID",R.T),Mu(R,de),R.m&&R.o&&hd(de,R.m,R.o),Q=new wo(R,R.j,Q,R.B+1),R.m===null&&(Q.H=R.o),U&&(R.i=U.D.concat(R.i)),U=pd(R,Q,1e3),Q.I=Math.round(.5*R.wa)+Math.round(.5*R.wa*Math.random()),Wf(R.h,Q),ad(Q,de,U)}function Mu(R,U){R.H&&D(R.H,function(Q,de){jn(U,de,Q)}),R.l&&pl({},function(Q,de){jn(U,de,Q)})}function pd(R,U,Q){Q=Math.min(R.i.length,Q);var de=R.l?f(R.l.Na,R.l,R):null;e:{var Re=R.i;let De=-1;for(;;){const Qe=["count="+Q];De==-1?0<Q?(De=Re[0].g,Qe.push("ofs="+De)):De=0:Qe.push("ofs="+De);let On=!0;for(let Yr=0;Yr<Q;Yr++){let mn=Re[Yr].g;const ai=Re[Yr].map;if(mn-=De,0>mn)De=Math.max(0,Re[Yr].g-100),On=!1;else try{N1(ai,Qe,"req"+mn+"_")}catch{de&&de(ai)}}if(On){de=Qe.join("&");break e}}}return R=R.i.splice(0,Q),U.D=R,de}function Yf(R){if(!R.g&&!R.u){R.Y=1;var U=R.Fa;X||G(),ee||(X(),ee=!0),J.add(U,R),R.v=0}}function Mg(R){return R.g||R.u||3<=R.v?!1:(R.Y++,R.u=Zo(f(R.Fa,R),O1(R,R.v)),R.v++,!0)}t.Fa=function(){if(this.u=null,L1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var R=2*this.R;this.j.info("BP detection timer enabled: "+R),this.A=Zo(f(this.ab,this),R)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pr(10),ya(this),L1(this))};function b0(R){R.A!=null&&(a.clearTimeout(R.A),R.A=null)}function L1(R){R.g=new wo(R,R.j,"rpc",R.Y),R.m===null&&(R.g.H=R.o),R.g.O=0;var U=ro(R.qa);jn(U,"RID","rpc"),jn(U,"SID",R.K),jn(U,"AID",R.T),jn(U,"CI",R.F?"0":"1"),!R.F&&R.ja&&jn(U,"TO",R.ja),jn(U,"TYPE","xmlhttp"),Mu(R,U),R.m&&R.o&&hd(U,R.m,R.o),R.L&&(R.g.I=R.L);var Q=R.g;R=R.ia,Q.L=1,Q.v=cd(ro(U)),Q.m=null,Q.P=!0,qf(Q,R)}t.Za=function(){this.C!=null&&(this.C=null,ya(this),Mg(this),pr(19))};function Ng(R){R.C!=null&&(a.clearTimeout(R.C),R.C=null)}function Dg(R,U){var Q=null;if(R.g==U){Ng(R),b0(R),R.g=null;var de=2}else if(gi(R.h,U))Q=U.D,Sg(R.h,U),de=1;else return;if(R.G!=0){if(U.o)if(de==1){Q=U.m?U.m.length:0,U=Date.now()-U.F;var Re=R.B;de=ca(),Me(de,new rd(de,Q)),vl(R)}else Yf(R);else if(Re=U.s,Re==3||Re==0&&0<U.X||!(de==1&&hk(R,U)||de==2&&Mg(R)))switch(Q&&0<Q.length&&(U=R.h,U.i=U.i.concat(Q)),Re){case 1:Nu(R,5);break;case 4:Nu(R,10);break;case 3:Nu(R,6);break;default:Nu(R,2)}}}function O1(R,U){let Q=R.Ta+Math.floor(Math.random()*R.cb);return R.isActive()||(Q*=2),Q*U}function Nu(R,U){if(R.j.info("Error code "+U),U==2){var Q=f(R.fb,R),de=R.Xa;const Re=!de;de=new ts(de||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ku(de,"https"),cd(de),Re?ck(de.toString(),Q):M1(de.toString(),Q)}else pr(2);R.G=0,R.l&&R.l.sa(U),F1(R),Ig(R)}t.fb=function(R){R?(this.j.info("Successfully pinged google.com"),pr(2)):(this.j.info("Failed to ping google.com"),pr(1))};function F1(R){if(R.G=0,R.ka=[],R.l){const U=Cg(R.h);(U.length!=0||R.i.length!=0)&&(b(R.ka,U),b(R.ka,R.i),R.h.i.length=0,y(R.i),R.i.length=0),R.l.ra()}}function $1(R,U,Q){var de=Q instanceof ts?ro(Q):new ts(Q);if(de.g!="")U&&(de.g=U+"."+de.g),fa(de,de.s);else{var Re=a.location;de=Re.protocol,U=U?U+"."+Re.hostname:Re.hostname,Re=+Re.port;var De=new ts(null);de&&ku(De,de),U&&(De.g=U),Re&&fa(De,Re),Q&&(De.l=Q),de=De}return Q=R.D,U=R.ya,Q&&U&&jn(de,Q,U),jn(de,"VER",R.la),Mu(R,de),de}function B1(R,U,Q){if(U&&!R.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=R.Ca&&!R.pa?new sr(new Iu({eb:Q})):new sr(R.pa),U.Ha(R.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w0(){}t=w0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Lg(){}Lg.prototype.g=function(R,U){return new io(R,U)};function io(R,U){xe.call(this),this.g=new v0(U),this.l=R,this.h=U&&U.messageUrlParams||null,R=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(R?R["X-Client-Protocol"]="webchannel":R={"X-Client-Protocol":"webchannel"}),this.g.o=R,R=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(R?R["X-WebChannel-Content-Type"]=U.messageContentType:R={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(R?R["X-WebChannel-Client-Profile"]=U.va:R={"X-WebChannel-Client-Profile":U.va}),this.g.S=R,(R=U&&U.Sb)&&!E(R)&&(this.g.m=R),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!E(U)&&(this.g.D=U,R=this.h,R!==null&&U in R&&(R=this.h,U in R&&delete R[U])),this.j=new bl(this)}m(io,xe),io.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},io.prototype.close=function(){yi(this.g)},io.prototype.o=function(R){var U=this.g;if(typeof R=="string"){var Q={};Q.__data__=R,R=Q}else this.u&&(Q={},Q.__data__=st(R),R=Q);U.i.push(new xg(U.Ya++,R)),U.G==3&&vl(U)},io.prototype.N=function(){this.g.l=null,delete this.j,yi(this.g),delete this.g,io.aa.N.call(this)};function z1(R){Lr.call(this),R.__headers__&&(this.headers=R.__headers__,this.statusCode=R.__status__,delete R.__headers__,delete R.__status__);var U=R.__sm__;if(U){e:{for(const Q in U){R=Q;break e}R=void 0}(this.i=R)&&(R=this.i,U=U!==null&&R in U?U[R]:void 0),this.data=U}else this.data=R}m(z1,Lr);function V1(){to.call(this),this.status=1}m(V1,to);function bl(R){this.g=R}m(bl,w0),bl.prototype.ua=function(){Me(this.g,"a")},bl.prototype.ta=function(R){Me(this.g,new z1(R))},bl.prototype.sa=function(R){Me(this.g,new V1)},bl.prototype.ra=function(){Me(this.g,"b")},Lg.prototype.createWebChannel=Lg.prototype.g,io.prototype.send=io.prototype.o,io.prototype.open=io.prototype.m,io.prototype.close=io.prototype.close,xQ=function(){return new Lg},_Q=function(){return ca()},wQ=vo,EL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,VS=od,yg.COMPLETE="complete",bQ=yg,Ms.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",xe.prototype.listen=xe.prototype.K,Ab=Ms,sr.prototype.listenOnce=sr.prototype.L,sr.prototype.getLastError=sr.prototype.Ka,sr.prototype.getLastErrorCode=sr.prototype.Ba,sr.prototype.getStatus=sr.prototype.Z,sr.prototype.getResponseJson=sr.prototype.Oa,sr.prototype.getResponseText=sr.prototype.oa,sr.prototype.send=sr.prototype.ea,sr.prototype.setWithCredentials=sr.prototype.Ha,vQ=sr}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});const L6="@firebase/firestore",O6="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new qJ("@firebase/firestore");function xm(){return Pp.logLevel}function at(t,...e){if(Pp.logLevel<=wn.DEBUG){const n=e.map(G5);Pp.debug(`Firestore (${Wv}): ${t}`,...n)}}function Vc(t,...e){if(Pp.logLevel<=wn.ERROR){const n=e.map(G5);Pp.error(`Firestore (${Wv}): ${t}`,...n)}}function bv(t,...e){if(Pp.logLevel<=wn.WARN){const n=e.map(G5);Pp.warn(`Firestore (${Wv}): ${t}`,...n)}}function G5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EQ(t,r,n)}function EQ(t,e,n){let r=`FIRESTORE (${Wv}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vc(r),new Error(r)}function Dn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||EQ(e,i,r)}function Gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Yp{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gi.UNAUTHENTICATED))}shutdown(){}}class vve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bve{constructor(e){this.t=e,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Dn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Pc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pc)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dn(typeof r.accessToken=="string",31837,{l:r}),new SQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dn(e===null||typeof e=="string",2055,{h:e}),new Gi(e)}}class wve{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Gi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _ve{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wve(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xve{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,KJ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Dn(this.o===void 0,3512);const r=o=>{o.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,at("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Dn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Eve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Zt(t,e){return t<e?-1:t>e?1:0}function SL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Zt(r,i);{const o=CQ(),s=Sve(o.encode($6(t,n)),o.encode($6(e,n)));return s!==0?s:Zt(r,i)}}n+=r>65535?2:1}return Zt(t.length,e.length)}function $6(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Sve(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Zt(t[n],e[n]);return Zt(t.length,e.length)}function wv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=-62135596800,z6=1e6;class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z6);return new oi(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ft(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<B6)throw new ft(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-B6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(e){return new jt(e)}static min(){return new jt(new oi(0,0))}static max(){return new jt(new oi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="__name__";class Il{constructor(e,n,r){n===void 0?n=0:n>e.length&&Lt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Lt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Il.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Zt(e.length,n.length)}static compareSegments(e,n){const r=Il.isNumericId(e),i=Il.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Il.extractNumericId(e).compare(Il.extractNumericId(n)):SL(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bf.fromString(e.substring(4,e.length-2))}}class or extends Il{construct(e,n,r){return new or(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new or(n)}static emptyPath(){return new or([])}}const Cve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends Il{construct(e,n,r){return new Ii(e,n,r)}static isValidIdentifier(e){return Cve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V6}static keyField(){return new Ii([V6])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ft(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ft(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ft(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ft(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(n)}static emptyPath(){return new Ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(or.fromString(e))}static fromName(e){return new Rt(or.fromString(e).popFirst(5))}static empty(){return new Rt(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new or(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=-1;function Tve(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=jt.fromTimestamp(r===1e9?new oi(n+1,0):new oi(n,r));return new xf(i,Rt.empty(),e)}function Ave(t){return new xf(t.readTime,t.key,$w)}class xf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xf(jt.min(),Rt.empty(),$w)}static max(){return new xf(jt.max(),Rt.empty(),$w)}}function Rve(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Rt.comparator(t.documentKey,e.documentKey),n!==0?n:Zt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ive{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==kve)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ze((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ze?n:ze.resolve(n)}catch(n){return ze.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ze.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ze.reject(n)}static resolve(e){return new ze((n,r)=>{n(e)})}static reject(e){return new ze((n,r)=>{r(e)})}static waitFor(e){return new ze((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ze.resolve(!1);for(const r of e)n=n.next(i=>i?ze.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ze((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ze((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Pve(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}FA.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=-1;function $A(t){return t==null}function iT(t){return t===0&&1/t==-1/0}function Mve(t){return typeof t=="number"&&Number.isInteger(t)&&!iT(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ="";function Nve(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U6(e)),e=Dve(t.get(n),e);return U6(e)}function Dve(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case AQ:n+="";break;default:n+=o}}return n}function U6(t){return t+AQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this.comparator=e,this.root=n||Ri.EMPTY}insert(e,n){return new wr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new GE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new GE(this.root,e,this.comparator,!1)}getReverseIterator(){return new GE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new GE(this.root,e,this.comparator,!0)}}class GE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ri.RED,this.left=i??Ri.EMPTY,this.right=o??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ri(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Lt(27949);return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1;Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q6(this.data.getIterator())}getIteratorFrom(e){return new q6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new si(this.comparator);return n.data=e,n}}class q6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new Ya([])}unionWith(e){let n=new si(Ii.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ya(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kQ("Invalid base64 string: "+o):o}}(e);return new Mi(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Mi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Lve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ef(t){if(Dn(!!t,39018),typeof t=="string"){let e=0;const n=Lve.exec(t);if(Dn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pr(t.seconds),nanos:Pr(t.nanos)}}function Pr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sf(t){return typeof t=="string"?Mi.fromBase64String(t):Mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="server_timestamp",PQ="__type__",MQ="__previous_value__",NQ="__local_write_time__";function Y5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PQ])===null||n===void 0?void 0:n.stringValue)===IQ}function BA(t){const e=t.mapValue.fields[MQ];return Y5(e)?BA(e):e}function Bw(t){const e=Ef(t.mapValue.fields[NQ].timestampValue);return new oi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ove{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const oT="(default)";class zw{constructor(e,n){this.projectId=e,this.database=n||oT}static empty(){return new zw("","")}get isDefaultDatabase(){return this.database===oT}isEqual(e){return e instanceof zw&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ="__type__",Fve="__max__",KE={mapValue:{}},LQ="__vector__",sT="value";function Cf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Y5(t)?4:Bve(t)?9007199254740991:$ve(t)?10:11:Lt(28295,{value:t})}function gu(t,e){if(t===e)return!0;const n=Cf(t);if(n!==Cf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bw(t).isEqual(Bw(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ef(i.timestampValue),a=Ef(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Sf(i.bytesValue).isEqual(Sf(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pr(i.geoPointValue.latitude)===Pr(o.geoPointValue.latitude)&&Pr(i.geoPointValue.longitude)===Pr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pr(i.integerValue)===Pr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pr(i.doubleValue),a=Pr(o.doubleValue);return s===a?iT(s)===iT(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return wv(t.arrayValue.values||[],e.arrayValue.values||[],gu);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(H6(s)!==H6(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!gu(s[l],a[l])))return!1;return!0}(t,e);default:return Lt(52216,{left:t})}}function Vw(t,e){return(t.values||[]).find(n=>gu(n,e))!==void 0}function _v(t,e){if(t===e)return 0;const n=Cf(t),r=Cf(e);if(n!==r)return Zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pr(o.integerValue||o.doubleValue),l=Pr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return j6(t.timestampValue,e.timestampValue);case 4:return j6(Bw(t),Bw(e));case 5:return SL(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Sf(o),l=Sf(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Zt(a[u],l[u]);if(c!==0)return c}return Zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Zt(Pr(o.latitude),Pr(s.latitude));return a!==0?a:Zt(Pr(o.longitude),Pr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W6(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},f=s.fields||{},p=(a=d[sT])===null||a===void 0?void 0:a.arrayValue,m=(l=f[sT])===null||l===void 0?void 0:l.arrayValue,y=Zt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:W6(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===KE.mapValue&&s===KE.mapValue)return 0;if(o===KE.mapValue)return 1;if(s===KE.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=SL(l[d],c[d]);if(f!==0)return f;const p=_v(a[l[d]],u[c[d]]);if(p!==0)return p}return Zt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Lt(23264,{Pe:n})}}function j6(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Zt(t,e);const n=Ef(t),r=Ef(e),i=Zt(n.seconds,r.seconds);return i!==0?i:Zt(n.nanos,r.nanos)}function W6(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=_v(n[i],r[i]);if(o)return o}return Zt(n.length,r.length)}function xv(t){return CL(t)}function CL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ef(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=CL(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${CL(n.fields[s])}`;return i+"}"}(t.mapValue):Lt(61005,{value:t})}function US(t){switch(Cf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=BA(t);return e?16+US(e):16;case 5:return 2*t.stringValue.length;case 6:return Sf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+US(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xp(r.fields,(o,s)=>{i+=o.length+US(s)}),i}(t.mapValue);default:throw Lt(13486,{value:t})}}function G6(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function TL(t){return!!t&&"integerValue"in t}function X5(t){return!!t&&"arrayValue"in t}function K6(t){return!!t&&"nullValue"in t}function Y6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function HS(t){return!!t&&"mapValue"in t}function $ve(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DQ])===null||n===void 0?void 0:n.stringValue)===LQ}function uw(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uw(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uw(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bve(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.value=e}static empty(){return new Js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!HS(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uw(n)}setAll(e){let n=Ii.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uw(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());HS(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];HS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xp(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Js(uw(this.value))}}function OQ(t){const e=[];return Xp(t.fields,(n,r)=>{const i=new Ii([n]);if(HS(r)){const o=OQ(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ya(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yi(e,0,jt.min(),jt.min(),jt.min(),Js.empty(),0)}static newFoundDocument(e,n,r,i){return new Yi(e,1,n,jt.min(),r,i,0)}static newNoDocument(e,n){return new Yi(e,2,n,jt.min(),jt.min(),Js.empty(),0)}static newUnknownDocument(e,n){return new Yi(e,3,n,jt.min(),jt.min(),Js.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n){this.position=e,this.inclusive=n}}function X6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Rt.comparator(Rt.fromName(s.referenceValue),n.key):r=_v(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function J6(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n="asc"){this.field=e,this.dir=n}}function zve(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{}class qr extends FQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Uve(e,n,r):n==="array-contains"?new jve(e,r):n==="in"?new Wve(e,r):n==="not-in"?new Gve(e,r):n==="array-contains-any"?new Kve(e,r):new qr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hve(e,r):new qve(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_v(n,this.value)):n!==null&&Cf(this.value)===Cf(n)&&this.matchesComparison(_v(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qa extends FQ{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Qa(e,n)}matches(e){return $Q(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $Q(t){return t.op==="and"}function BQ(t){return Vve(t)&&$Q(t)}function Vve(t){for(const e of t.filters)if(e instanceof Qa)return!1;return!0}function AL(t){if(t instanceof qr)return t.field.canonicalString()+t.op.toString()+xv(t.value);if(BQ(t))return t.filters.map(e=>AL(e)).join(",");{const e=t.filters.map(n=>AL(n)).join(",");return`${t.op}(${e})`}}function zQ(t,e){return t instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.field.isEqual(i.field)&&gu(r.value,i.value)}(t,e):t instanceof Qa?function(r,i){return i instanceof Qa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&zQ(s,i.filters[a]),!0):!1}(t,e):void Lt(19439)}function VQ(t){return t instanceof qr?function(n){return`${n.field.canonicalString()} ${n.op} ${xv(n.value)}`}(t):t instanceof Qa?function(n){return n.op.toString()+" {"+n.getFilters().map(VQ).join(" ,")+"}"}(t):"Filter"}class Uve extends qr{constructor(e,n,r){super(e,n,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const n=Rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hve extends qr{constructor(e,n){super(e,"in",n),this.keys=UQ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qve extends qr{constructor(e,n){super(e,"not-in",n),this.keys=UQ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UQ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Rt.fromName(r.referenceValue))}class jve extends qr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return X5(n)&&Vw(n.arrayValue,this.value)}}class Wve extends qr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vw(this.value.arrayValue,n)}}class Gve extends qr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vw(this.value.arrayValue,n)}}class Kve extends qr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!X5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vw(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yve{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function Q6(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Yve(t,e,n,r,i,o,s)}function J5(t){const e=Gt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>AL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$A(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xv(r)).join(",")),e.Ie=n}return e.Ie}function Q5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zve(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J6(t.startAt,e.startAt)&&J6(t.endAt,e.endAt)}function RL(t){return Rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Xve(t,e,n,r,i,o,s,a){return new Yx(t,e,n,r,i,o,s,a)}function Z5(t){return new Yx(t)}function Z6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HQ(t){return t.collectionGroup!==null}function cw(t){const e=Gt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new si(Ii.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new lT(o,r))}),n.has(Ii.keyField().canonicalString())||e.Ee.push(new lT(Ii.keyField(),r))}return e.Ee}function ou(t){const e=Gt(t);return e.de||(e.de=Jve(e,cw(t))),e.de}function Jve(t,e){if(t.limitType==="F")return Q6(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new lT(i.field,o)});const n=t.endAt?new aT(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new aT(t.startAt.position,t.startAt.inclusive):null;return Q6(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kL(t,e){const n=t.filters.concat([e]);return new Yx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function IL(t,e,n){return new Yx(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zA(t,e){return Q5(ou(t),ou(e))&&t.limitType===e.limitType}function qQ(t){return`${J5(ou(t))}|lt:${t.limitType}`}function Em(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VQ(i)).join(", ")}]`),$A(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xv(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xv(i)).join(",")),`Target(${r})`}(ou(t))}; limitType=${t.limitType})`}function VA(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Rt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of cw(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=X6(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,cw(r),i)||r.endAt&&!function(s,a,l){const u=X6(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,cw(r),i))}(t,e)}function Qve(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jQ(t){return(e,n)=>{let r=!1;for(const i of cw(t)){const o=Zve(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Zve(t,e,n){const r=t.field.isKeyField()?Rt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?_v(l,u):Lt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Lt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xp(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return RQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0e=new wr(Rt.comparator);function Uc(){return e0e}const WQ=new wr(Rt.comparator);function Rb(...t){let e=WQ;for(const n of t)e=e.insert(n.key,n);return e}function GQ(t){let e=WQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eh(){return dw()}function KQ(){return dw()}function dw(){return new Jp(t=>t.toString(),(t,e)=>t.isEqual(e))}const t0e=new wr(Rt.comparator),n0e=new si(Rt.comparator);function dn(...t){let e=n0e;for(const n of t)e=e.add(n);return e}const r0e=new si(Zt);function i0e(){return r0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iT(e)?"-0":e}}function YQ(t){return{integerValue:""+t}}function o0e(t,e){return Mve(e)?YQ(e):e3(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this._=void 0}}function s0e(t,e,n){return t instanceof uT?function(i,o){const s={fields:{[PQ]:{stringValue:IQ},[NQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Y5(o)&&(o=BA(o)),o&&(s.fields[MQ]=o),{mapValue:s}}(n,e):t instanceof Uw?JQ(t,e):t instanceof Hw?QQ(t,e):function(i,o){const s=XQ(i,o),a=eU(s)+eU(i.Re);return TL(s)&&TL(i.Re)?YQ(a):e3(i.serializer,a)}(t,e)}function a0e(t,e,n){return t instanceof Uw?JQ(t,e):t instanceof Hw?QQ(t,e):n}function XQ(t,e){return t instanceof cT?function(r){return TL(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class uT extends UA{}class Uw extends UA{constructor(e){super(),this.elements=e}}function JQ(t,e){const n=ZQ(e);for(const r of t.elements)n.some(i=>gu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hw extends UA{constructor(e){super(),this.elements=e}}function QQ(t,e){let n=ZQ(e);for(const r of t.elements)n=n.filter(i=>!gu(i,r));return{arrayValue:{values:n}}}class cT extends UA{constructor(e,n){super(),this.serializer=e,this.Re=n}}function eU(t){return Pr(t.integerValue||t.doubleValue)}function ZQ(t){return X5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function l0e(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uw&&i instanceof Uw||r instanceof Hw&&i instanceof Hw?wv(r.elements,i.elements,gu):r instanceof cT&&i instanceof cT?gu(r.Re,i.Re):r instanceof uT&&i instanceof uT}(t.transform,e.transform)}class u0e{constructor(e,n){this.version=e,this.transformResults=n}}class Mc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mc}static exists(e){return new Mc(void 0,e)}static updateTime(e){return new Mc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qS(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class HA{}function eZ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nZ(t.key,Mc.none()):new Xx(t.key,t.data,Mc.none());{const n=t.data,r=Js.empty();let i=new si(Ii.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qp(t.key,r,new Ya(i.toArray()),Mc.none())}}function c0e(t,e,n){t instanceof Xx?function(i,o,s){const a=i.value.clone(),l=nU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qp?function(i,o,s){if(!qS(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=nU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(tZ(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fw(t,e,n,r){return t instanceof Xx?function(o,s,a,l){if(!qS(o.precondition,s))return a;const u=o.value.clone(),c=rU(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qp?function(o,s,a,l){if(!qS(o.precondition,s))return a;const u=rU(o.fieldTransforms,l,s),c=s.data;return c.setAll(tZ(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return qS(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function d0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=XQ(r.transform,i||null);o!=null&&(n===null&&(n=Js.empty()),n.set(r.field,o))}return n||null}function tU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wv(r,i,(o,s)=>l0e(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xx extends HA{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qp extends HA{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tZ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nU(t,e,n){const r=new Map;Dn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,a0e(s,a,n[i]))}return r}function rU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,s0e(o,s,e))}return r}class nZ extends HA{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f0e extends HA{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&c0e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KQ();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=eZ(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(jt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dn())}isEqual(e){return this.batchId===e.batchId&&wv(this.mutations,e.mutations,(n,r)=>tU(n,r))&&wv(this.baseMutations,e.baseMutations,(n,r)=>tU(n,r))}}class t3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Dn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return t0e}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t3(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,yn;function m0e(t){switch(t){case Ue.OK:return Lt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return Lt(15467,{code:t})}}function rZ(t){if(t===void 0)return Vc("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Br.OK:return Ue.OK;case Br.CANCELLED:return Ue.CANCELLED;case Br.UNKNOWN:return Ue.UNKNOWN;case Br.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Br.INTERNAL:return Ue.INTERNAL;case Br.UNAVAILABLE:return Ue.UNAVAILABLE;case Br.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Br.NOT_FOUND:return Ue.NOT_FOUND;case Br.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Br.ABORTED:return Ue.ABORTED;case Br.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Br.DATA_LOSS:return Ue.DATA_LOSS;default:return Lt(39323,{code:t})}}(yn=Br||(Br={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0e=new bf([4294967295,4294967295],0);function iU(t){const e=CQ().encode(t),n=new yQ;return n.update(e),new Uint8Array(n.digest())}function oU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bf([n,r],0),new bf([i,o],0)]}class n3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kb(`Invalid padding: ${n}`);if(r<0)throw new kb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kb(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kb(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=bf.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(bf.fromNumber(r)));return i.compare(y0e)===1&&(i=new bf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=iU(e),[r,i]=oU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n3(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;const n=iU(e),[r,i]=oU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qA(jt.min(),i,new wr(Zt),Uc(),dn())}}class Jx{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jx(r,n,dn(),dn(),dn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class iZ{constructor(e,n){this.targetId=e,this.Ce=n}}class oZ{constructor(e,n,r=Mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sU{constructor(){this.Fe=0,this.Me=aU(),this.xe=Mi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=dn(),n=dn(),r=dn();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Lt(38017,{changeType:o})}}),new Jx(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=aU()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Dn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class v0e{constructor(e){this.ze=e,this.je=new Map,this.He=Uc(),this.Je=YE(),this.Ye=YE(),this.Ze=new wr(Zt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Lt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(RL(o))if(r===0){const s=new Rt(o.path);this.tt(n,s,Yi.newNoDocument(s,jt.min()))}else Dn(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Sf(r).toUint8Array()}catch(l){if(l instanceof kQ)return bv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new n3(s,i,o)}catch(l){return bv(l instanceof kb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&RL(a.target)){const l=new Rt(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Yi.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=dn();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new qA(e,n,this.Ze,this.He,r);return this.He=Uc(),this.Je=YE(),this.Ye=YE(),this.Ze=new wr(Zt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new sU,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new si(Zt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new si(Zt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new sU),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function YE(){return new wr(Rt.comparator)}function aU(){return new wr(Rt.comparator)}const b0e={asc:"ASCENDING",desc:"DESCENDING"},w0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_0e={and:"AND",or:"OR"};class x0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function PL(t,e){return t.useProto3Json||$A(e)?e:{value:e}}function dT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sZ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E0e(t,e){return dT(t,e.toTimestamp())}function su(t){return Dn(!!t,49232),jt.fromTimestamp(function(n){const r=Ef(n);return new oi(r.seconds,r.nanos)}(t))}function r3(t,e){return ML(t,e).canonicalString()}function ML(t,e){const n=function(i){return new or(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aZ(t){const e=or.fromString(t);return Dn(fZ(e),10190,{key:e.toString()}),e}function NL(t,e){return r3(t.databaseId,e.path)}function oP(t,e){const n=aZ(e);if(n.get(1)!==t.databaseId.projectId)throw new ft(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ft(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Rt(uZ(n))}function lZ(t,e){return r3(t.databaseId,e)}function S0e(t){const e=aZ(t);return e.length===4?or.emptyPath():uZ(e)}function DL(t){return new or(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uZ(t){return Dn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lU(t,e,n){return{name:NL(t,e),fields:n.value.mapValue.fields}}function C0e(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Lt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Dn(c===void 0||typeof c=="string",58123),Mi.fromBase64String(c||"")):(Dn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Mi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Ue.UNKNOWN:rZ(u.code);return new ft(c,u.message||"")}(s);n=new oZ(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oP(t,r.document.name),o=su(r.document.updateTime),s=r.document.createTime?su(r.document.createTime):jt.min(),a=new Js({mapValue:{fields:r.document.fields}}),l=Yi.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jS(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oP(t,r.document),o=r.readTime?su(r.readTime):jt.min(),s=Yi.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jS([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oP(t,r.document),o=r.removedTargetIds||[];n=new jS([],o,i,null)}else{if(!("filter"in e))return Lt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new g0e(i,o),a=r.targetId;n=new iZ(a,s)}}return n}function T0e(t,e){let n;if(e instanceof Xx)n={update:lU(t,e.key,e.value)};else if(e instanceof nZ)n={delete:NL(t,e.key)};else if(e instanceof Qp)n={update:lU(t,e.key,e.data),updateMask:L0e(e.fieldMask)};else{if(!(e instanceof f0e))return Lt(16599,{ft:e.type});n={verify:NL(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof uT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uw)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hw)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cT)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Lt(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:E0e(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Lt(27497)}(t,e.precondition)),n}function A0e(t,e){return t&&t.length>0?(Dn(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?su(i.updateTime):su(o);return s.isEqual(jt.min())&&(s=su(o)),new u0e(s,i.transformResults||[])}(n,e))):[]}function R0e(t,e){return{documents:[lZ(t,e.path)]}}function k0e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lZ(t,i);const o=function(u){if(u.length!==0)return dZ(Qa.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Sm(f.field),direction:M0e(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=PL(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function I0e(t){let e=S0e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=cZ(d);return f instanceof Qa&&BQ(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(m){return new lT(Cm(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,$A(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new aT(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new aT(p,f)}(n.endAt)),Xve(e,i,s,o,a,"F",l,u)}function P0e(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cZ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cm(n.unaryFilter.field);return qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cm(n.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cm(n.unaryFilter.field);return qr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cm(n.unaryFilter.field);return qr.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}}(t):t.fieldFilter!==void 0?function(n){return qr.create(Cm(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qa.create(n.compositeFilter.filters.map(r=>cZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}}(n.compositeFilter.op))}(t):Lt(30097,{filter:t})}function M0e(t){return b0e[t]}function N0e(t){return w0e[t]}function D0e(t){return _0e[t]}function Sm(t){return{fieldPath:t.canonicalString()}}function Cm(t){return Ii.fromServerFormat(t.fieldPath)}function dZ(t){return t instanceof qr?function(n){if(n.op==="=="){if(Y6(n.value))return{unaryFilter:{field:Sm(n.field),op:"IS_NAN"}};if(K6(n.value))return{unaryFilter:{field:Sm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y6(n.value))return{unaryFilter:{field:Sm(n.field),op:"IS_NOT_NAN"}};if(K6(n.value))return{unaryFilter:{field:Sm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sm(n.field),op:N0e(n.op),value:n.value}}}(t):t instanceof Qa?function(n){const r=n.getFilters().map(i=>dZ(i));return r.length===1?r[0]:{compositeFilter:{op:D0e(n.op),filters:r}}}(t):Lt(54877,{filter:t})}function L0e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fZ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,i,o=jt.min(),s=jt.min(),a=Mi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0e{constructor(e){this.wt=e}}function F0e(t){const e=I0e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0e{constructor(){this.Cn=new B0e}addToCollectionParentIndex(e,n){return this.Cn.add(n),ze.resolve()}getCollectionParents(e,n){return ze.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ze.resolve()}deleteFieldIndex(e,n){return ze.resolve()}deleteAllFieldIndexes(e){return ze.resolve()}createTargetIndexes(e,n){return ze.resolve()}getDocumentsMatchingTarget(e,n){return ze.resolve(null)}getIndexType(e,n){return ze.resolve(0)}getFieldIndexes(e,n){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,n){return ze.resolve(xf.min())}getMinOffsetFromCollectionGroup(e,n){return ze.resolve(xf.min())}updateCollectionGroup(e,n,r){return ze.resolve()}updateIndexEntries(e,n){return ze.resolve()}}class B0e{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new si(or.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new si(or.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hZ=41943040;class Oo{static withCacheSize(e){return new Oo(e,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(hZ,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ev(0)}static lr(){return new Ev(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="LruGarbageCollector",z0e=1048576;function dU([t,e],[n,r]){const i=Zt(t,n);return i===0?Zt(e,r):i}class V0e{constructor(e){this.Er=e,this.buffer=new si(dU),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U0e{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){at(cU,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kv(n)?at(cU,"Ignoring IndexedDB error during garbage collection: ",n):await Gv(n)}await this.mr(3e5)})}}class H0e{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ze.resolve(FA.le);const r=new V0e(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(uU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uU):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),xm()<=wn.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function q0e(t,e){return new H0e(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0e{constructor(){this.changes=new Jp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ze.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0e{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fw(r.mutation,i,Ya.empty(),oi.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,dn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=dn()){const i=Eh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Rb();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Eh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,dn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Uc();const s=dw(),a=function(){return dw()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qp)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),fw(c.mutation,u,c.mutation.getFieldMask(),oi.now())):s.set(u.key,Ya.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new W0e(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dw();let i=new wr((s,a)=>s-a),o=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ya.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||dn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=KQ();c.forEach(f=>{if(!o.has(f)){const p=eZ(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ze.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Rt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ze.resolve(Eh());let a=$w,l=o;return s.next(u=>ze.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ze.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,dn())).next(c=>({batchId:a,changes:GQ(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Rt(n)).next(r=>{let i=Rb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Rb();return this.indexManager.getCollectionParents(e,o).next(a=>ze.forEach(a,l=>{const u=function(d,f){return new Yx(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Yi.newInvalidDocument(c)))});let a=Rb();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&fw(c.mutation,u,Ya.empty(),oi.now()),VA(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0e{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ze.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:su(i.createTime)}}(n)),ze.resolve()}getNamedQuery(e,n){return ze.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:F0e(i.bundledQuery),readTime:su(i.readTime)}}(n)),ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0e{constructor(){this.overlays=new wr(Rt.comparator),this.Qr=new Map}getOverlay(e,n){return ze.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eh();return ze.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),ze.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),ze.resolve()}getOverlaysForCollection(e,n,r){const i=Eh(),o=n.length+1,s=new Rt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ze.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new wr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Eh(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Eh(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ze.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new p0e(n,r));let o=this.Qr.get(n);o===void 0&&(o=dn(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(e){return ze.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.$r=new si(hi.Ur),this.Kr=new si(hi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new hi(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new hi(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Rt(new or([])),r=new hi(n,e),i=new hi(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Rt(new or([])),r=new hi(n,e),i=new hi(n,e+1);let o=dn();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new hi(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hi{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Rt.comparator(e.key,n.key)||Zt(e.Zr,n.Zr)}static Wr(e,n){return Zt(e.Zr,n.Zr)||Rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new si(hi.Ur)}checkEmpty(e){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new h0e(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new hi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ze.resolve(s)}lookupMutationBatch(e,n){return ze.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return ze.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?K5:this.nr-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hi(n,0),i=new hi(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),ze.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new si(Zt);return n.forEach(i=>{const o=new hi(i,0),s=new hi(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),ze.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Rt.isDocumentKey(o)||(o=o.child(""));const s=new hi(new Rt(o),0);let a=new si(Zt);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),ze.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Dn(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ze.forEach(n.mutations,i=>{const o=new hi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new hi(n,0),i=this.Xr.firstAfterOrEqual(r);return ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ze.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0e{constructor(e){this.ii=e,this.docs=function(){return new wr(Rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ze.resolve(r?r.document.mutableCopy():Yi.newInvalidDocument(n))}getEntries(e,n){let r=Uc();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yi.newInvalidDocument(i))}),ze.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Uc();const s=n.path,a=new Rt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Rve(Ave(c),r)<=0||(i.has(c.key)||VA(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ze.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Lt(9500)}si(e,n){return ze.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z0e(this)}getSize(e){return ze.resolve(this.size)}}class Z0e extends j0e{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ze.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ebe{constructor(e){this.persistence=e,this.oi=new Jp(n=>J5(n),Q5),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this._i=0,this.ai=new i3,this.targetCount=0,this.ui=Ev.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ze.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ev(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ze.resolve()}updateTargetData(e,n){return this.Tr(n),ze.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ze.waitFor(o).next(()=>i)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ze.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ze.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ze.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ze.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ze.resolve(r)}containsKey(e,n){return ze.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e,n){this.ci={},this.overlays={},this.li=new FA(0),this.hi=!1,this.hi=!0,this.Pi=new X0e,this.referenceDelegate=e(this),this.Ti=new ebe(this),this.indexManager=new $0e,this.remoteDocumentCache=function(i){return new Q0e(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new O0e(n),this.Ei=new K0e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y0e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new J0e(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new tbe(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return ze.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class tbe extends Ive{constructor(e){super(),this.currentSequenceNumber=e}}class o3{constructor(e){this.persistence=e,this.Vi=new i3,this.mi=null}static fi(e){return new o3(e)}get gi(){if(this.mi)return this.mi;throw Lt(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ze.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ze.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.gi,r=>{const i=Rt.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,jt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ze.or([()=>ze.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fT{constructor(e,n){this.persistence=e,this.yi=new Jp(r=>Nve(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=q0e(this,n)}static fi(e,n){return new fT(e,n)}di(){}Ai(e){return ze.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ze.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?ze.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,jt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ze.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ze.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ze.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ze.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=US(e.data.value)),n}Dr(e,n,r){return ze.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return ze.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=dn(),i=dn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new s3(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nbe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rbe{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Uge()?8:Pve(zge())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new nbe;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(xm()<=wn.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Em(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ze.resolve()):(xm()<=wn.DEBUG&&at("QueryEngine","Query:",Em(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(xm()<=wn.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Em(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ou(n))):ze.resolve())}ws(e,n){if(Z6(n))return ze.resolve(null);let r=ou(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=IL(n,null,"F"),r=ou(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=dn(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,s,l.readTime)?this.ws(e,IL(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return Z6(n)||i.isEqual(jt.min())?ze.resolve(null):this.ys.getDocuments(e,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?ze.resolve(null):(xm()<=wn.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Em(n)),this.Fs(e,s,n,Tve(i,$w)).next(a=>a))})}vs(e,n){let r=new si(jQ(e));return n.forEach((i,o)=>{VA(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return xm()<=wn.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Em(n)),this.ys.getDocumentsMatchingQuery(e,n,xf.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="LocalStore",ibe=3e8;class obe{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new wr(Zt),this.Os=new Jp(o=>J5(o),Q5),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G0e(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function sbe(t,e,n,r){return new obe(t,e,n,r)}async function gZ(t,e){const n=Gt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=dn();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})}function abe(t,e){const n=Gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let p=ze.resolve();return f.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const b=u.docVersions.get(m);Dn(b!==null,48541),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=dn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mZ(t){const e=Gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function lbe(t,e){const n=Gt(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ti.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(o,c.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Mi.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=ibe?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,c)&&a.push(n.Ti.updateTargetData(o,p))});let l=Uc(),u=dn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(ube(o,s,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(jt.min())){const c=n.Ti.getLastRemoteSnapshotVersion(o).next(d=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ze.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.xs=i,o))}function ube(t,e,n){let r=dn(),i=dn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Uc();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(jt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):at(a3,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function cbe(t,e){const n=Gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=K5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dbe(t,e){const n=Gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,ze.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new pf(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function LL(t,e,n){const r=Gt(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Kv(s))throw s;at(a3,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function fU(t,e,n){const r=Gt(t);let i=jt.min(),o=dn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Gt(l),f=d.Os.get(c);return f!==void 0?ze.resolve(d.xs.get(f)):d.Ti.getTargetData(u,c)}(r,s,ou(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:jt.min(),n?o:dn())).next(a=>(fbe(r,Qve(e),a),{documents:a,$s:o})))}function fbe(t,e,n){let r=t.Ns.get(e)||jt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class hU{constructor(){this.activeTargetIds=i0e()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hbe{constructor(){this.xo=new hU,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new hU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pbe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="ConnectivityMonitor";class gU{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at(pU,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){at(pU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE=null;function OL(){return XE===null?XE=function(){return 268435456+Math.round(2147483648*Math.random())}():XE++,"0x"+XE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="RestConnection",gbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mbe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===oT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const s=OL(),a=this.jo(e,n.toUriEncodedString());at(sP,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:u}=new URL(a),c=Kx(u);return this.Jo(e,a,l,r,c).then(d=>(at(sP,`Received RPC '${e}' ${s}: `,d),d),d=>{throw bv(sP,`RPC '${e}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wv}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=gbe[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ybe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="WebChannelConnection";class vbe extends mbe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=OL();return new Promise((a,l)=>{const u=new vQ;u.setWithCredentials(!0),u.listenOnce(bQ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case VS.NO_ERROR:const d=u.getResponseJson();at($i,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case VS.TIMEOUT:at($i,`RPC '${e}' ${s} timed out`),l(new ft(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case VS.HTTP_ERROR:const f=u.getStatus();if(at($i,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(E)>=0?E:Ue.UNKNOWN}(m.status);l(new ft(y,m.message))}else l(new ft(Ue.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ft(Ue.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{at($i,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);at($i,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}I_(e,n,r){const i=OL(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xQ(),a=_Q(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");at($i,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.E_(d);let f=!1,p=!1;const m=new ybe({Zo:b=>{p?at($i,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(at($i,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),at($i,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Xo:()=>d.close()}),y=(b,v,E)=>{b.listen(v,x=>{try{E(x)}catch(C){setTimeout(()=>{throw C},0)}})};return y(d,Ab.EventType.OPEN,()=>{p||(at($i,`RPC '${e}' stream ${i} transport opened.`),m.__())}),y(d,Ab.EventType.CLOSE,()=>{p||(p=!0,at($i,`RPC '${e}' stream ${i} transport closed`),m.u_(),this.d_(d))}),y(d,Ab.EventType.ERROR,b=>{p||(p=!0,bv($i,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),m.u_(new ft(Ue.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ab.EventType.MESSAGE,b=>{var v;if(!p){const E=b.data[0];Dn(!!E,16349);const x=E,C=(x==null?void 0:x.error)||((v=x[0])===null||v===void 0?void 0:v.error);if(C){at($i,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let D=function(M){const I=Br[M];if(I!==void 0)return rZ(I)}(k),A=C.message;D===void 0&&(D=Ue.INTERNAL,A="Unknown error status: "+k+" with message "+C.message),p=!0,m.u_(new ft(D,A)),d.close()}else at($i,`RPC '${e}' stream ${i} received:`,E),m.c_(E)}}),y(a,wQ.STAT_EVENT,b=>{b.stat===EL.PROXY?at($i,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===EL.NOPROXY&&at($i,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function aP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){return new x0e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="PersistentStream";class vZ{constructor(e,n,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new yZ(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(Vc(n.toString()),Vc("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new ft(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return at(mU,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(at(mU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bbe extends vZ{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=C0e(this.serializer,e),r=function(o){if(!("targetChange"in o))return jt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?jt.min():s.readTime?su(s.readTime):jt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=DL(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=RL(l)?{documents:R0e(o,l)}:{query:k0e(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=sZ(o,s.resumeToken);const u=PL(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(jt.min())>0){a.readTime=dT(o,s.snapshotVersion.toTimestamp());const u=PL(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=P0e(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=DL(this.serializer),n.removeTarget=e,this.Q_(n)}}class wbe extends vZ{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=A0e(e.writeResults,e.commitTime),r=su(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=DL(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>T0e(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _be{}class xbe extends _be{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ft(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,ML(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(Ue.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,ML(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ft(Ue.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Ebe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Vc(n),this.ua=!1):at("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RemoteStore";class Sbe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(async()=>{Zp(this)&&(at(Mp,"Restarting streams for network reachability change."),await async function(l){const u=Gt(l);u.da.add(4),await Qx(u),u.Va.set("Unknown"),u.da.delete(4),await WA(u)}(this))})}),this.Va=new Ebe(r,i)}}async function WA(t){if(Zp(t))for(const e of t.Aa)await e(!0)}async function Qx(t){for(const e of t.Aa)await e(!1)}function bZ(t,e){const n=Gt(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),d3(n)?c3(n):Yv(n).N_()&&u3(n,e))}function l3(t,e){const n=Gt(t),r=Yv(n);n.Ea.delete(e),r.N_()&&wZ(n,e),n.Ea.size===0&&(r.N_()?r.k_():Zp(n)&&n.Va.set("Unknown"))}function u3(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yv(t).Z_(e)}function wZ(t,e){t.ma.Ke(e),Yv(t).X_(e)}function c3(t){t.ma=new v0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Yv(t).start(),t.Va.ca()}function d3(t){return Zp(t)&&!Yv(t).O_()&&t.Ea.size>0}function Zp(t){return Gt(t).da.size===0}function _Z(t){t.ma=void 0}async function Cbe(t){t.Va.set("Online")}async function Tbe(t){t.Ea.forEach((e,n)=>{u3(t,e)})}async function Abe(t,e){_Z(t),d3(t)?(t.Va.Pa(e),c3(t)):t.Va.set("Unknown")}async function Rbe(t,e,n){if(t.Va.set("Online"),e instanceof oZ&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){at(Mp,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hT(t,r)}else if(e instanceof jS?t.ma.Xe(e):e instanceof iZ?t.ma.ot(e):t.ma.nt(e),!n.isEqual(jt.min()))try{const r=await mZ(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ea.get(u);c&&o.Ea.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ea.get(l);if(!c)return;o.Ea.set(l,c.withResumeToken(Mi.EMPTY_BYTE_STRING,c.snapshotVersion)),wZ(o,l);const d=new pf(c.target,l,u,c.sequenceNumber);u3(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){at(Mp,"Failed to raise snapshot:",r),await hT(t,r)}}async function hT(t,e,n){if(!Kv(e))throw e;t.da.add(1),await Qx(t),t.Va.set("Offline"),n||(n=()=>mZ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{at(Mp,"Retrying IndexedDB access"),await n(),t.da.delete(1),await WA(t)})}function xZ(t,e){return e().catch(n=>hT(t,n,e))}async function GA(t){const e=Gt(t),n=Tf(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:K5;for(;kbe(e);)try{const i=await cbe(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,Ibe(e,i)}catch(i){await hT(e,i)}EZ(e)&&SZ(e)}function kbe(t){return Zp(t)&&t.Ia.length<10}function Ibe(t,e){t.Ia.push(e);const n=Tf(t);n.N_()&&n.ea&&n.ta(e.mutations)}function EZ(t){return Zp(t)&&!Tf(t).O_()&&t.Ia.length>0}function SZ(t){Tf(t).start()}async function Pbe(t){Tf(t).ia()}async function Mbe(t){const e=Tf(t);for(const n of t.Ia)e.ta(n.mutations)}async function Nbe(t,e,n){const r=t.Ia.shift(),i=t3.from(r,e,n);await xZ(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await GA(t)}async function Dbe(t,e){e&&Tf(t).ea&&await async function(r,i){if(function(s){return m0e(s)&&s!==Ue.ABORTED}(i.code)){const o=r.Ia.shift();Tf(r).L_(),await xZ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await GA(r)}}(t,e),EZ(t)&&SZ(t)}async function yU(t,e){const n=Gt(t);n.asyncQueue.verifyOperationInProgress(),at(Mp,"RemoteStore received new credentials");const r=Zp(n);n.da.add(3),await Qx(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await WA(n)}async function Lbe(t,e){const n=Gt(t);e?(n.da.delete(2),await WA(n)):e||(n.da.add(2),await Qx(n),n.Va.set("Unknown"))}function Yv(t){return t.fa||(t.fa=function(n,r,i){const o=Gt(n);return o.oa(),new bbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:Cbe.bind(null,t),n_:Tbe.bind(null,t),i_:Abe.bind(null,t),Y_:Rbe.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),d3(t)?c3(t):t.Va.set("Unknown")):(await t.fa.stop(),_Z(t))})),t.fa}function Tf(t){return t.ga||(t.ga=function(n,r,i){const o=Gt(n);return o.oa(),new wbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Pbe.bind(null,t),i_:Dbe.bind(null,t),na:Mbe.bind(null,t),ra:Nbe.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await GA(t)):(await t.ga.stop(),t.Ia.length>0&&(at(Mp,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new f3(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h3(t,e){if(Vc("AsyncQueue",`${e}: ${t}`),Kv(t))return new ft(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static emptySet(e){return new sy(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Rt.comparator(n.key,r.key):(n,r)=>Rt.comparator(n.key,r.key),this.keyedMap=Rb(),this.sortedSet=new wr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.pa=new wr(Rt.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Lt(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sv{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Sv(e,n,sy.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Obe{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Fbe{constructor(){this.queries=bU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Gt(n),o=i.queries;i.queries=bU(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ft(Ue.ABORTED,"Firestore shutting down"))}}function bU(){return new Jp(t=>qQ(t),zA)}async function CZ(t,e){const n=Gt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new Obe,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=h3(s,`Initialization of query '${Em(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&p3(n)}async function TZ(t,e){const n=Gt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $be(t,e){const n=Gt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&p3(n)}function Bbe(t,e,n){const r=Gt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function p3(t){t.Ca.forEach(e=>{e.next()})}var FL,wU;(wU=FL||(FL={})).xa="default",wU.Cache="cache";class AZ{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Sv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==FL.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(e){this.key=e}}class kZ{constructor(e){this.key=e}}class zbe{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dn(),this.mutatedKeys=dn(),this.Za=jQ(e),this.Xa=new sy(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new vU,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=VA(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),b=!0):this.ru(f,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(l||u)&&(a=!0)),b&&(p?(s=s.add(p),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((c,d)=>function(p,m){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Vt:b})}};return y(p)-y(m)}(c.type,d.type)||this.Za(c.doc,d.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new Sv(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new vU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=dn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new kZ(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new RZ(r))}),n}au(e){this.Ha=e.$s,this.Ya=dn();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Sv.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const g3="SyncEngine";class Vbe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ube{constructor(e){this.key=e,this.cu=!1}}class Hbe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new Jp(a=>qQ(a),zA),this.Pu=new Map,this.Tu=new Set,this.Iu=new wr(Rt.comparator),this.Eu=new Map,this.du=new i3,this.Au={},this.Ru=new Map,this.Vu=Ev.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function qbe(t,e,n=!0){const r=LZ(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await IZ(r,e,n,!0),i}async function jbe(t,e){const n=LZ(t);await IZ(n,e,!0,!1)}async function IZ(t,e,n,r){const i=await dbe(t.localStore,ou(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Wbe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&bZ(t.remoteStore,i),a}async function Wbe(t,e,n,r,i){t.fu=(d,f,p)=>async function(y,b,v,E){let x=b.view.tu(v);x.Cs&&(x=await fU(y.localStore,b.query,!1).then(({documents:A})=>b.view.tu(A,x)));const C=E&&E.targetChanges.get(b.targetId),k=E&&E.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(x,y.isPrimaryClient,C,k);return xU(y,b.targetId,D.ou),D.snapshot}(t,d,f,p);const o=await fU(t.localStore,e,!0),s=new zbe(e,o.$s),a=s.tu(o.documents),l=Jx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);xU(t,n,u.ou);const c=new Vbe(e,n,s);return t.hu.set(e,c),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function Gbe(t,e,n){const r=Gt(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!zA(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await LL(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&l3(r.remoteStore,i.targetId),$L(r,i.targetId)}).catch(Gv)):($L(r,i.targetId),await LL(r.localStore,i.targetId,!0))}async function Kbe(t,e){const n=Gt(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l3(n.remoteStore,r.targetId))}async function Ybe(t,e,n){const r=nwe(t);try{const i=await function(s,a){const l=Gt(s),u=oi.now(),c=a.reduce((p,m)=>p.add(m.key),dn());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Uc(),y=dn();return l.Bs.getEntries(p,c).next(b=>{m=b,m.forEach((v,E)=>{E.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{d=b;const v=[];for(const E of a){const x=d0e(E,d.get(E.key).overlayedDocument);x!=null&&v.push(new Qp(E.key,x,OQ(x.value.mapValue),Mc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(b=>{f=b;const v=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,v)})}).then(()=>({batchId:f.batchId,changes:GQ(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new wr(Zt)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await Zx(r,i.changes),await GA(r.remoteStore)}catch(i){const o=h3(i,"Failed to persist write");n.reject(o)}}async function PZ(t,e){const n=Gt(t);try{const r=await lbe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(Dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Dn(s.cu,14607):i.removedDocuments.size>0&&(Dn(s.cu,42227),s.cu=!1))}),await Zx(n,r,e)}catch(r){await Gv(r)}}function _U(t,e,n){const r=Gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,s)=>{const a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Gt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Sa)f.Fa(a)&&(u=!0)}),u&&p3(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xbe(t,e,n){const r=Gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new wr(Rt.comparator);s=s.insert(o,Yi.newNoDocument(o,jt.min()));const a=dn().add(o),l=new qA(jt.min(),new Map,new wr(Zt),s,a);await PZ(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),m3(r)}else await LL(r.localStore,e,!1).then(()=>$L(r,e,n)).catch(Gv)}async function Jbe(t,e){const n=Gt(t),r=e.batch.batchId;try{const i=await abe(n.localStore,e);NZ(n,r,null),MZ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zx(n,i)}catch(i){await Gv(i)}}async function Qbe(t,e,n){const r=Gt(t);try{const i=await function(s,a){const l=Gt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Dn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);NZ(r,e,n),MZ(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zx(r,i)}catch(i){await Gv(i)}}function MZ(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function NZ(t,e,n){const r=Gt(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function $L(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||DZ(t,r)})}function DZ(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(l3(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),m3(t))}function xU(t,e,n){for(const r of n)r instanceof RZ?(t.du.addReference(r.key,e),Zbe(t,r)):r instanceof kZ?(at(g3,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||DZ(t,r.key)):Lt(19791,{pu:r})}function Zbe(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(at(g3,"New document in limbo: "+n),t.Tu.add(r),m3(t))}function m3(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Rt(or.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Ube(n)),t.Iu=t.Iu.insert(n,r),bZ(t.remoteStore,new pf(ou(Z5(n.path)),r,"TargetPurposeLimboResolution",FA.le))}}async function Zx(t,e,n){const r=Gt(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=s3.Rs(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(l,u){const c=Gt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ze.forEach(u,f=>ze.forEach(f.ds,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>ze.forEach(f.As,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Kv(d))throw d;at(a3,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.xs.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.xs=c.xs.insert(f,y)}}}(r.localStore,o))}async function ewe(t,e){const n=Gt(t);if(!n.currentUser.isEqual(e)){at(g3,"User change. New user:",e.toKey());const r=await gZ(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new ft(Ue.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zx(n,r.ks)}}function twe(t,e){const n=Gt(t),r=n.Eu.get(e);if(r&&r.cu)return dn().add(r.key);{let i=dn();const o=n.Pu.get(e);if(!o)return i;for(const s of o){const a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function LZ(t){const e=Gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=twe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xbe.bind(null,e),e.lu.Y_=$be.bind(null,e.eventManager),e.lu.gu=Bbe.bind(null,e.eventManager),e}function nwe(t){const e=Gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jbe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qbe.bind(null,e),e}class pT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jA(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return sbe(this.persistence,new rbe,e.initialUser,this.serializer)}Su(e){return new pZ(o3.fi,this.serializer)}bu(e){return new hbe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pT.provider={build:()=>new pT};class rwe extends pT{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Dn(this.persistence.referenceDelegate instanceof fT,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U0e(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new pZ(r=>fT.fi(r,n),this.serializer)}}class BL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_U(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ewe.bind(null,this.syncEngine),await Lbe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Fbe}()}createDatastore(e){const n=jA(e.databaseInfo.databaseId),r=function(o){return new vbe(o)}(e.databaseInfo);return function(o,s,a,l){return new xbe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Sbe(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_U(this.syncEngine,n,0),function(){return gU.C()?new gU:new pbe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new Hbe(i,o,s,a,l,u);return c&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Gt(i);at(Mp,"RemoteStore shutting down."),o.da.add(5),await Qx(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}BL.provider={build:()=>new BL};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Vc("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="FirestoreClient";class iwe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gi.UNAUTHENTICATED,this.clientId=TQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{at(Af,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(at(Af,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h3(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lP(t,e){t.asyncQueue.verifyOperationInProgress(),at(Af,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gZ(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await owe(t);at(Af,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yU(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yU(e.remoteStore,i)),t._onlineComponents=e}async function owe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at(Af,"Using user provided OfflineComponentProvider");try{await lP(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bv("Error using user provided cache. Falling back to memory cache: "+n),await lP(t,new pT)}}else at(Af,"Using default OfflineComponentProvider"),await lP(t,new rwe(void 0));return t._offlineComponents}async function FZ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at(Af,"Using user provided OnlineComponentProvider"),await EU(t,t._uninitializedComponentsProvider._online)):(at(Af,"Using default OnlineComponentProvider"),await EU(t,new BL))),t._onlineComponents}function swe(t){return FZ(t).then(e=>e.syncEngine)}async function $Z(t){const e=await FZ(t),n=e.eventManager;return n.onListen=qbe.bind(null,e.syncEngine),n.onUnlisten=Gbe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jbe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kbe.bind(null,e.syncEngine),n}function awe(t,e,n={}){const r=new Pc;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new OZ({next:f=>{c.xu(),s.enqueueAndForget(()=>TZ(o,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ft(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ft(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new AZ(Z5(a.path),c,{includeMetadataChanges:!0,Qa:!0});return CZ(o,d)}(await $Z(t),t.asyncQueue,e,n,r)),r.promise}function lwe(t,e,n={}){const r=new Pc;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new OZ({next:f=>{c.xu(),s.enqueueAndForget(()=>TZ(o,d)),f.fromCache&&l.source==="server"?u.reject(new ft(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new AZ(a,c,{includeMetadataChanges:!0,Qa:!0});return CZ(o,d)}(await $Z(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(t,e,n){if(!n)throw new ft(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uwe(t,e,n,r){if(e===!0&&r===!0)throw new ft(Ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CU(t){if(!Rt.isDocumentKey(t))throw new ft(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TU(t){if(Rt.isDocumentKey(t))throw new ft(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Lt(12329,{type:typeof t})}function Np(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ft(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KA(t);throw new ft(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ="firestore.googleapis.com",AU=!0;class RU{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VZ,this.ssl=AU}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:AU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z0e)throw new ft(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uwe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BZ((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ft(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ft(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ft(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class YA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yve;switch(r.type){case"firstParty":return new _ve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SU.get(n);r&&(at("ComponentProvider","Removing Datastore"),SU.delete(n),r.terminate())}(this),Promise.resolve()}}function cwe(t,e,n,r={}){var i;t=Np(t,YA);const o=Kx(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o&&(zJ(`https://${l}`),UJ("Firestore",!0)),s.host!==VZ&&s.host!==l&&bv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!nT(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Gi.MOCK_USER;else{c=VJ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ft(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Gi(f)}t._authCredentials=new vve(new SQ(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xv(this.firestore,e,this._query)}}class qo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qo(this.firestore,e,this._key)}}class wf extends Xv{constructor(e,n,r){super(e,n,Z5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qo(this.firestore,null,new Rt(e))}withConverter(e){return new wf(this.firestore,e,this._path)}}function uP(t,e,...n){if(t=pu(t),zZ("collection","path",e),t instanceof YA){const r=or.fromString(e,...n);return TU(r),new wf(t,null,r)}{if(!(t instanceof qo||t instanceof wf))throw new ft(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(or.fromString(e,...n));return TU(r),new wf(t.firestore,null,r)}}function Hu(t,e,...n){if(t=pu(t),arguments.length===1&&(e=TQ.newId()),zZ("doc","path",e),t instanceof YA){const r=or.fromString(e,...n);return CU(r),new qo(t,null,new Rt(r))}{if(!(t instanceof qo||t instanceof wf))throw new ft(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(or.fromString(e,...n));return CU(r),new qo(t.firestore,t instanceof wf?t.converter:null,new Rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="AsyncQueue";class IU{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new yZ(this,"async_queue_retry"),this.rc=()=>{const r=aP();r&&at(kU,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=aP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=aP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Pc;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Kv(e))throw e;at(kU,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Vc("INTERNAL UNHANDLED ERROR: ",PU(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=f3.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Lt(47125,{cc:PU(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function PU(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class XA extends YA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IU(e),this._firestoreClient=void 0,await e}}}function dwe(t,e){const n=typeof t=="object"?t:JJ(),r=typeof t=="string"?t:oT,i=GJ(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$J("firestore");o&&cwe(i,...o)}return i}function y3(t){if(t._terminated)throw new ft(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fwe(t),t._firestoreClient}function fwe(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Ove(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,BZ(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iwe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cv(Mi.fromBase64String(e))}catch(n){throw new ft(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cv(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ft(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ft(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ft(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hwe=/^__.*__$/;class pwe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qp(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xx(e,this.data,n,this.fieldTransforms)}}function HZ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ic:t})}}class _3{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new _3(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return gT(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(HZ(this.Ic)&&hwe.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gwe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jA(e)}bc(e,n,r,i=!1){return new _3({Ic:e,methodName:n,wc:r,path:Ii.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qZ(t){const e=t._freezeSettings(),n=jA(t._databaseId);return new gwe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mwe(t,e,n,r,i,o={}){const s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);GZ("Data must be an object, but it was:",s,r);const a=jZ(r,s);let l,u;if(o.merge)l=new Ya(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=vwe(e,d,n);if(!s.contains(f))throw new ft(Ue.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wwe(c,f)||c.push(f)}l=new Ya(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new pwe(new Js(a),l,u)}function ywe(t,e,n,r=!1){return x3(n,t.bc(r?4:3,e))}function x3(t,e){if(WZ(t=pu(t)))return GZ("Unsupported field value:",e,t),jZ(t,e);if(t instanceof UZ)return function(r,i){if(!HZ(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=x3(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=pu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o0e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=oi.fromDate(r);return{timestampValue:dT(i.serializer,o)}}if(r instanceof oi){const o=new oi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dT(i.serializer,o)}}if(r instanceof b3)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cv)return{bytesValue:sZ(i.serializer,r._byteString)};if(r instanceof qo){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r3(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof w3)return function(s,a){return{mapValue:{fields:{[DQ]:{stringValue:LQ},[sT]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return e3(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${KA(r)}`)}(t,e)}function jZ(t,e){const n={};return RQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xp(t,(r,i)=>{const o=x3(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function WZ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof oi||t instanceof b3||t instanceof Cv||t instanceof qo||t instanceof UZ||t instanceof w3)}function GZ(t,e,n){if(!WZ(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=KA(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function vwe(t,e,n){if((e=pu(e))instanceof v3)return e._internalPath;if(typeof e=="string")return KZ(t,e);throw gT("Field path arguments must be of type string or ",t,!1,void 0,n)}const bwe=new RegExp("[~\\*/\\[\\]]");function KZ(t,e,n){if(e.search(bwe)>=0)throw gT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new v3(...e.split("."))._internalPath}catch{throw gT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gT(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ft(Ue.INVALID_ARGUMENT,a+t+l)}function wwe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _we(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _we extends YZ{data(){return super.data()}}function E3(t,e){return typeof e=="string"?KZ(t,e):e instanceof v3?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xwe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ft(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S3{}class Ewe extends S3{}function Swe(t,e,...n){let r=[];e instanceof S3&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof C3).length,a=o.filter(l=>l instanceof JA).length;if(s>1||s>0&&a>0)throw new ft(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class JA extends Ewe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new JA(e,n,r)}_apply(e){const n=this._parse(e);return XZ(e._query,n),new Xv(e.firestore,e.converter,kL(e._query,n))}_parse(e){const n=qZ(e.firestore);return function(o,s,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ft(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){NU(d,c);const m=[];for(const y of d)m.push(MU(l,o,y));f={arrayValue:{values:m}}}else f=MU(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||NU(d,c),f=ywe(a,s,d,c==="in"||c==="not-in");return qr.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cwe(t,e,n){const r=e,i=E3("where",t);return JA._create(i,r,n)}class C3 extends S3{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C3(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)XZ(s,l),s=kL(s,l)}(e._query,n),new Xv(e.firestore,e.converter,kL(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MU(t,e,n){if(typeof(n=pu(n))=="string"){if(n==="")throw new ft(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HQ(e)&&n.indexOf("/")!==-1)throw new ft(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(or.fromString(n));if(!Rt.isDocumentKey(r))throw new ft(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G6(t,new Rt(r))}if(n instanceof qo)return G6(t,n._key);throw new ft(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KA(n)}.`)}function NU(t,e){if(!Array.isArray(t)||t.length===0)throw new ft(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XZ(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ft(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ft(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Twe{convertValue(e,n="none"){switch(Cf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xp(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[sT].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pr(s.doubleValue));return new w3(o)}convertGeoPoint(e){return new b3(Pr(e.latitude),Pr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=BA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bw(e));default:return null}}convertTimestamp(e){const n=Ef(e);return new oi(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=or.fromString(e);Dn(fZ(r),9688,{name:e});const i=new zw(r.get(1),r.get(3)),o=new Rt(r.popFirst(5));return i.isEqual(n)||Vc(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Awe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JZ extends YZ{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new WS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class WS extends JZ{data(e={}){return super.data(e)}}class Rwe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ib(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new WS(this._firestore,this._userDataWriter,r.key,r,new Ib(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new WS(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ib(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new WS(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ib(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:kwe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kwe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){t=Np(t,qo);const e=Np(t.firestore,XA);return awe(y3(e),t._key).then(n=>Pwe(e,t,n))}class QZ extends Twe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cv(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,n)}}function cP(t){t=Np(t,Xv);const e=Np(t.firestore,XA),n=y3(e),r=new QZ(e);return xwe(t._query),lwe(n,t._query).then(i=>new Rwe(e,r,t,i))}function K0(t,e,n){t=Np(t,qo);const r=Np(t.firestore,XA),i=Awe(t.converter,e);return Iwe(r,[mwe(qZ(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mc.none())])}function Iwe(t,e){return function(r,i){const o=new Pc;return r.asyncQueue.enqueueAndForget(async()=>Ybe(await swe(r),i,o)),o.promise}(y3(t),e)}function Pwe(t,e,n){const r=n.docs.get(e._key),i=new QZ(t);return new JZ(t,i,e._key,r,new Ib(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Wv=i})(YJ),Ow(new vv("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new XA(new bve(r.getProvider("auth-internal")),new xve(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ft(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zw(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vf(L6,O6,e),vf(L6,O6,"esm2017")})();var ZZ=(t=>(t.ADMIN="admin",t.TEACHER="teacher",t.STUDENT="student",t))(ZZ||{});const Mwe={apiKey:"AIzaSyDd6jdeGNhVvB6IZ2M2hDC_Tp66uhC3TUo",authDomain:"read-9fc7d.firebaseapp.com",projectId:"read-9fc7d",storageBucket:"read-9fc7d.firebasestorage.app",messagingSenderId:"794793289582",appId:"1:794793289582:web:6e0afecc5aeeb10bed437f",measurementId:"G-FYESGK4NLB"},eee=z.createContext(void 0),Nwe=({children:t})=>{const e=XJ(Mwe),n=dwe(e),r=uP(n,"users"),i=uP(n,"papersData"),o=uP(n,"readingStates"),s=hve(e),[a,l]=z.useState(void 0);z.useEffect(()=>{const A=localStorage.getItem("userId");A&&u(A)},[]);const u=async A=>{const P=await d(A);l(P)},c=async()=>{const A=await cP(r);return console.log("userDocs",A.docs.map(P=>P.data())),A.docs.map(P=>P.data())},d=async A=>(await JE(Hu(r,A))).data(),f=async A=>{const P=Swe(r,Cwe("email","==",A)),M=await cP(P);return M.empty?null:M.docs[0].data()},p=async A=>{try{await K0(Hu(r,A.id),A),console.log("User added with ID:",A.id)}catch(P){console.error("Error adding user:",P)}},m=async A=>{try{await K0(Hu(r,A.id),A),console.log("User updated with ID:",A.id)}catch(P){console.error("Error updating user:",P)}},y=async(A,P)=>{try{const M=Hu(r,A),O=(await JE(M)).data();O.paperIds.includes(P)?console.log("Paper already exists in user with ID:",A):(O.paperIds.push(P),await K0(Hu(r,A),O),console.log("Paper added to user with ID:",A))}catch(M){console.error("Error adding paper to user:",M)}},b=async()=>{const A=await cP(i);return console.log("paperDocs",A.docs.map(P=>P.data())),A.docs.map(P=>P.data())},v=async A=>{const P=Hu(i,A);return(await JE(P)).data()},E=async A=>{try{await K0(Hu(i,A.id),A),console.log("Paper added with ID:",A.id)}catch(P){console.error("Error adding paper:",P)}},x=async(A,P)=>{try{const M=N6(s,A);await dve(M,P),console.log("Paper file uploaded to:",M.fullPath)}catch(M){console.error("Error adding paper file:",M)}},C=async A=>{const P=N6(s,A);return await fve(P)},k=async(A,P)=>{const M=`${A}-${P}`,I=Hu(o,M),F=(await JE(I)).data();if(!F)return null;const $={...F,state:JSON.parse(F==null?void 0:F.state)};return console.log("readingStateData",$),$},D=async A=>{try{await K0(Hu(o,A.id),{...A,state:JSON.stringify(A.state)}),console.log("Reading state added with ID:",A.id)}catch(P){console.error("Error adding reading state:",P)}};return V.jsx(eee.Provider,{value:{userData:a,setUserData:l,loadUserData:u,getAllUsers:c,getUserById:d,getUserByEmail:f,addUser:p,updateUser:m,addPaperToUser:y,getAllPapersData:b,getPaperData:v,addPaperData:E,getPaperFile:C,addPaperFile:x,getReadingStateData:k,updateReadingState:D},children:t})},QA=()=>{const t=z.useContext(eee);if(t===void 0)throw new Error("useStorageContext must be used within a StorageProvider");return t};var Tn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Tn||(Tn={}));var DU;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(DU||(DU={}));const pt=Tn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bd=t=>{switch(typeof t){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return Number.isNaN(t)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(t)?pt.array:t===null?pt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pt.promise:typeof Map<"u"&&t instanceof Map?pt.map:typeof Set<"u"&&t instanceof Set?pt.set:typeof Date<"u"&&t instanceof Date?pt.date:pt.object;default:return pt.unknown}},Je=Tn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Hc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Hc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Hc.create=t=>new Hc(t);const zL=(t,e)=>{let n;switch(t.code){case Je.invalid_type:t.received===pt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Je.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Tn.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:n=`Unrecognized key(s) in object: ${Tn.joinValues(t.keys,", ")}`;break;case Je.invalid_union:n="Invalid input";break;case Je.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Tn.joinValues(t.options)}`;break;case Je.invalid_enum_value:n=`Invalid enum value. Expected ${Tn.joinValues(t.options)}, received '${t.received}'`;break;case Je.invalid_arguments:n="Invalid function arguments";break;case Je.invalid_return_type:n="Invalid function return type";break;case Je.invalid_date:n="Invalid date";break;case Je.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Tn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Je.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Je.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Je.custom:n="Invalid input";break;case Je.invalid_intersection_types:n="Intersection results could not be merged";break;case Je.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Je.not_finite:n="Number must be finite";break;default:n=e.defaultError,Tn.assertNever(t)}return{message:n}};let Dwe=zL;function Lwe(){return Dwe}const Owe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}};function it(t,e){const n=Lwe(),r=Owe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===zL?void 0:zL].filter(i=>!!i)});t.common.issues.push(r)}class mo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Wt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return mo.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Wt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Wt=Object.freeze({status:"aborted"}),Pb=t=>({status:"dirty",value:t}),aa=t=>({status:"valid",value:t}),LU=t=>t.status==="aborted",OU=t=>t.status==="dirty",Tv=t=>t.status==="valid",mT=t=>typeof Promise<"u"&&t instanceof Promise;var Et;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Et||(Et={}));class mu{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FU=(t,e)=>{if(Tv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Hc(t.common.issues);return this._error=n,this._error}}};function Jt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class gn{get description(){return this._def.description}_getType(e){return Bd(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Bd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mo,ctx:{common:e.parent.common,data:e.data,parsedType:Bd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(mT(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bd(e)},i=this._parseSync({data:e,path:r.path,parent:r});return FU(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bd(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Tv(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Tv(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bd(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(mT(i)?i:Promise.resolve(i));return FU(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Je.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new kv({schema:this,typeName:Ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return _f.create(this,this._def)}nullable(){return Iv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return au.create(this)}promise(){return _T.create(this,this._def)}or(e){return vT.create([this,e],this._def)}and(e){return bT.create(this,e,this._def)}transform(e){return new kv({...Jt(this._def),schema:this,typeName:Ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new qL({...Jt(this._def),innerType:this,defaultValue:n,typeName:Ut.ZodDefault})}brand(){return new o_e({typeName:Ut.ZodBranded,type:this,...Jt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new jL({...Jt(this._def),innerType:this,catchValue:n,typeName:Ut.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return T3.create(this,e)}readonly(){return WL.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Fwe=/^c[^\s-]{8,}$/i,$we=/^[0-9a-z]+$/,Bwe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zwe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vwe=/^[a-z0-9_-]{21}$/i,Uwe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hwe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qwe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dP;const Wwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kwe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ywe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xwe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jwe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qwe=new RegExp(`^${tee}$`);function nee(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Zwe(t){return new RegExp(`^${nee(t)}$`)}function e_e(t){let e=`${tee}T${nee(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function t_e(t,e){return!!((e==="v4"||!e)&&Wwe.test(t)||(e==="v6"||!e)&&Kwe.test(t))}function n_e(t,e){if(!Uwe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function r_e(t,e){return!!((e==="v4"||!e)&&Gwe.test(t)||(e==="v6"||!e)&&Ywe.test(t))}class tu extends gn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pt.string){const o=this._getOrReturnCtx(e);return it(o,{code:Je.invalid_type,expected:pt.string,received:o.parsedType}),Wt}const r=new mo;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Je.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Je.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?it(i,{code:Je.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&it(i,{code:Je.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")qwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"email",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")dP||(dP=new RegExp(jwe,"u")),dP.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"emoji",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")zwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"uuid",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Vwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"nanoid",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Fwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"cuid",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")$we.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"cuid2",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Bwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"ulid",code:Je.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),it(i,{validation:"url",code:Je.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"regex",code:Je.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),it(i,{code:Je.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),it(i,{code:Je.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),it(i,{code:Je.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?e_e(o).test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{code:Je.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Qwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{code:Je.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Zwe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{code:Je.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Hwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"duration",code:Je.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?t_e(e.data,o.version)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"ip",code:Je.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?n_e(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"jwt",code:Je.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?r_e(e.data,o.version)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"cidr",code:Je.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Xwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"base64",code:Je.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Jwe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"base64url",code:Je.invalid_string,message:o.message}),r.dirty()):Tn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Je.invalid_string,...Et.errToObj(r)})}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Et.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Et.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Et.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Et.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Et.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Et.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Et.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Et.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Et.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Et.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Et.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Et.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Et.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Et.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Et.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Et.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Et.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Et.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Et.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Et.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Et.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Et.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Et.errToObj(n)})}nonempty(e){return this.min(1,Et.errToObj(e))}trim(){return new tu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tu.create=t=>new tu({checks:[],typeName:Ut.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Jt(t)});function i_e(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}class Dp extends gn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pt.number){const o=this._getOrReturnCtx(e);return it(o,{code:Je.invalid_type,expected:pt.number,received:o.parsedType}),Wt}let r;const i=new mo;for(const o of this._def.checks)o.kind==="int"?Tn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),it(r,{code:Je.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),it(r,{code:Je.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),it(r,{code:Je.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?i_e(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),it(r,{code:Je.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),it(r,{code:Je.not_finite,message:o.message}),i.dirty()):Tn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Et.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Et.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Et.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Et.toString(n))}setLimit(e,n,r,i){return new Dp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Et.toString(i)}]})}_addCheck(e){return new Dp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Et.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Et.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Et.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Et.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Et.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Et.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Dp.create=t=>new Dp({checks:[],typeName:Ut.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Jt(t)});class Lp extends gn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pt.bigint)return this._getInvalidInput(e);let r;const i=new mo;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),it(r,{code:Je.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),it(r,{code:Je.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),it(r,{code:Je.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Tn.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return it(n,{code:Je.invalid_type,expected:pt.bigint,received:n.parsedType}),Wt}gte(e,n){return this.setLimit("min",e,!0,Et.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Et.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Et.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Et.toString(n))}setLimit(e,n,r,i){return new Lp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Et.toString(i)}]})}_addCheck(e){return new Lp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Et.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Et.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Lp.create=t=>new Lp({checks:[],typeName:Ut.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Jt(t)});class yT extends gn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pt.boolean){const r=this._getOrReturnCtx(e);return it(r,{code:Je.invalid_type,expected:pt.boolean,received:r.parsedType}),Wt}return aa(e.data)}}yT.create=t=>new yT({typeName:Ut.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Jt(t)});class Av extends gn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pt.date){const o=this._getOrReturnCtx(e);return it(o,{code:Je.invalid_type,expected:pt.date,received:o.parsedType}),Wt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return it(o,{code:Je.invalid_date}),Wt}const r=new mo;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Je.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Je.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Tn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Av({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Et.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Et.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Av.create=t=>new Av({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ut.ZodDate,...Jt(t)});class $U extends gn{_parse(e){if(this._getType(e)!==pt.symbol){const r=this._getOrReturnCtx(e);return it(r,{code:Je.invalid_type,expected:pt.symbol,received:r.parsedType}),Wt}return aa(e.data)}}$U.create=t=>new $U({typeName:Ut.ZodSymbol,...Jt(t)});class BU extends gn{_parse(e){if(this._getType(e)!==pt.undefined){const r=this._getOrReturnCtx(e);return it(r,{code:Je.invalid_type,expected:pt.undefined,received:r.parsedType}),Wt}return aa(e.data)}}BU.create=t=>new BU({typeName:Ut.ZodUndefined,...Jt(t)});class zU extends gn{_parse(e){if(this._getType(e)!==pt.null){const r=this._getOrReturnCtx(e);return it(r,{code:Je.invalid_type,expected:pt.null,received:r.parsedType}),Wt}return aa(e.data)}}zU.create=t=>new zU({typeName:Ut.ZodNull,...Jt(t)});class VU extends gn{constructor(){super(...arguments),this._any=!0}_parse(e){return aa(e.data)}}VU.create=t=>new VU({typeName:Ut.ZodAny,...Jt(t)});class VL extends gn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return aa(e.data)}}VL.create=t=>new VL({typeName:Ut.ZodUnknown,...Jt(t)});class Rf extends gn{_parse(e){const n=this._getOrReturnCtx(e);return it(n,{code:Je.invalid_type,expected:pt.never,received:n.parsedType}),Wt}}Rf.create=t=>new Rf({typeName:Ut.ZodNever,...Jt(t)});class UU extends gn{_parse(e){if(this._getType(e)!==pt.undefined){const r=this._getOrReturnCtx(e);return it(r,{code:Je.invalid_type,expected:pt.void,received:r.parsedType}),Wt}return aa(e.data)}}UU.create=t=>new UU({typeName:Ut.ZodVoid,...Jt(t)});class au extends gn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==pt.array)return it(n,{code:Je.invalid_type,expected:pt.array,received:n.parsedType}),Wt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(it(n,{code:s?Je.too_big:Je.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(it(n,{code:Je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(it(n,{code:Je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new mu(n,s,n.path,a)))).then(s=>mo.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new mu(n,s,n.path,a)));return mo.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new au({...this._def,minLength:{value:e,message:Et.toString(n)}})}max(e,n){return new au({...this._def,maxLength:{value:e,message:Et.toString(n)}})}length(e,n){return new au({...this._def,exactLength:{value:e,message:Et.toString(n)}})}nonempty(e){return this.min(1,e)}}au.create=(t,e)=>new au({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ut.ZodArray,...Jt(e)});function Tm(t){if(t instanceof Ur){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=_f.create(Tm(r))}return new Ur({...t._def,shape:()=>e})}else return t instanceof au?new au({...t._def,type:Tm(t.element)}):t instanceof _f?_f.create(Tm(t.unwrap())):t instanceof Iv?Iv.create(Tm(t.unwrap())):t instanceof Op?Op.create(t.items.map(e=>Tm(e))):t}class Ur extends gn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Tn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==pt.object){const u=this._getOrReturnCtx(e);return it(u,{code:Je.invalid_type,expected:pt.object,received:u.parsedType}),Wt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Rf&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const c=o[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new mu(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Rf){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(it(i,{code:Je.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new mu(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,f=await c.value;u.push({key:d,value:f,alwaysSet:c.alwaysSet})}return u}).then(u=>mo.mergeObjectSync(r,u)):mo.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Et.errToObj,new Ur({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Et.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Ur({...this._def,unknownKeys:"strip"})}passthrough(){return new Ur({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ur({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ur({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ut.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ur({...this._def,catchall:e})}pick(e){const n={};for(const r of Tn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ur({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Tn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ur({...this._def,shape:()=>n})}deepPartial(){return Tm(this)}partial(e){const n={};for(const r of Tn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Ur({...this._def,shape:()=>n})}required(e){const n={};for(const r of Tn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof _f;)o=o._def.innerType;n[r]=o}return new Ur({...this._def,shape:()=>n})}keyof(){return ree(Tn.objectKeys(this.shape))}}Ur.create=(t,e)=>new Ur({shape:()=>t,unknownKeys:"strip",catchall:Rf.create(),typeName:Ut.ZodObject,...Jt(e)});Ur.strictCreate=(t,e)=>new Ur({shape:()=>t,unknownKeys:"strict",catchall:Rf.create(),typeName:Ut.ZodObject,...Jt(e)});Ur.lazycreate=(t,e)=>new Ur({shape:t,unknownKeys:"strip",catchall:Rf.create(),typeName:Ut.ZodObject,...Jt(e)});class vT extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Hc(a.ctx.common.issues));return it(n,{code:Je.invalid_union,unionErrors:s}),Wt}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Hc(l));return it(n,{code:Je.invalid_union,unionErrors:a}),Wt}}get options(){return this._def.options}}vT.create=(t,e)=>new vT({options:t,typeName:Ut.ZodUnion,...Jt(e)});function UL(t,e){const n=Bd(t),r=Bd(e);if(t===e)return{valid:!0,data:t};if(n===pt.object&&r===pt.object){const i=Tn.objectKeys(e),o=Tn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=UL(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===pt.array&&r===pt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=UL(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===pt.date&&r===pt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bT extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(LU(o)||LU(s))return Wt;const a=UL(o.value,s.value);return a.valid?((OU(o)||OU(s))&&n.dirty(),{status:n.value,value:a.data}):(it(r,{code:Je.invalid_intersection_types}),Wt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bT.create=(t,e,n)=>new bT({left:t,right:e,typeName:Ut.ZodIntersection,...Jt(n)});class Op extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pt.array)return it(r,{code:Je.invalid_type,expected:pt.array,received:r.parsedType}),Wt;if(r.data.length<this._def.items.length)return it(r,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&r.data.length>this._def.items.length&&(it(r,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new mu(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>mo.mergeArray(n,s)):mo.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Op({...this._def,rest:e})}}Op.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Op({items:t,typeName:Ut.ZodTuple,rest:null,...Jt(e)})};class wT extends gn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pt.object)return it(r,{code:Je.invalid_type,expected:pt.object,received:r.parsedType}),Wt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new mu(r,a,r.path,a)),value:s._parse(new mu(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?mo.mergeObjectAsync(n,i):mo.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof gn?new wT({keyType:e,valueType:n,typeName:Ut.ZodRecord,...Jt(r)}):new wT({keyType:tu.create(),valueType:e,typeName:Ut.ZodRecord,...Jt(n)})}}class HU extends gn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pt.map)return it(r,{code:Je.invalid_type,expected:pt.map,received:r.parsedType}),Wt;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new mu(r,a,r.path,[u,"key"])),value:o._parse(new mu(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Wt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Wt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}HU.create=(t,e,n)=>new HU({valueType:e,keyType:t,typeName:Ut.ZodMap,...Jt(n)});class qw extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==pt.set)return it(r,{code:Je.invalid_type,expected:pt.set,received:r.parsedType}),Wt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(it(r,{code:Je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(it(r,{code:Je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Wt;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new mu(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new qw({...this._def,minSize:{value:e,message:Et.toString(n)}})}max(e,n){return new qw({...this._def,maxSize:{value:e,message:Et.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}qw.create=(t,e)=>new qw({valueType:t,minSize:null,maxSize:null,typeName:Ut.ZodSet,...Jt(e)});class HL extends gn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}HL.create=(t,e)=>new HL({getter:t,typeName:Ut.ZodLazy,...Jt(e)});class qU extends gn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return it(n,{received:n.data,code:Je.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:e.data}}get value(){return this._def.value}}qU.create=(t,e)=>new qU({value:t,typeName:Ut.ZodLiteral,...Jt(e)});function ree(t,e){return new Rv({values:t,typeName:Ut.ZodEnum,...Jt(e)})}class Rv extends gn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return it(n,{expected:Tn.joinValues(r),received:n.parsedType,code:Je.invalid_type}),Wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return it(n,{received:n.data,code:Je.invalid_enum_value,options:r}),Wt}return aa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Rv.create(e,{...this._def,...n})}exclude(e,n=this._def){return Rv.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Rv.create=ree;class jU extends gn{_parse(e){const n=Tn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==pt.string&&r.parsedType!==pt.number){const i=Tn.objectValues(n);return it(r,{expected:Tn.joinValues(i),received:r.parsedType,code:Je.invalid_type}),Wt}if(this._cache||(this._cache=new Set(Tn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Tn.objectValues(n);return it(r,{received:r.data,code:Je.invalid_enum_value,options:i}),Wt}return aa(e.data)}get enum(){return this._def.values}}jU.create=(t,e)=>new jU({values:t,typeName:Ut.ZodNativeEnum,...Jt(e)});class _T extends gn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==pt.promise&&n.common.async===!1)return it(n,{code:Je.invalid_type,expected:pt.promise,received:n.parsedType}),Wt;const r=n.parsedType===pt.promise?n.data:Promise.resolve(n.data);return aa(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_T.create=(t,e)=>new _T({type:t,typeName:Ut.ZodPromise,...Jt(e)});class kv extends gn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{it(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Wt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Wt:l.status==="dirty"||n.value==="dirty"?Pb(l.value):l});{if(n.value==="aborted")return Wt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Wt:a.status==="dirty"||n.value==="dirty"?Pb(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Wt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Wt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Tv(s))return Wt;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Tv(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):Wt);Tn.assertNever(i)}}kv.create=(t,e,n)=>new kv({schema:t,typeName:Ut.ZodEffects,effect:e,...Jt(n)});kv.createWithPreprocess=(t,e,n)=>new kv({schema:e,effect:{type:"preprocess",transform:t},typeName:Ut.ZodEffects,...Jt(n)});class _f extends gn{_parse(e){return this._getType(e)===pt.undefined?aa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_f.create=(t,e)=>new _f({innerType:t,typeName:Ut.ZodOptional,...Jt(e)});class Iv extends gn{_parse(e){return this._getType(e)===pt.null?aa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Iv.create=(t,e)=>new Iv({innerType:t,typeName:Ut.ZodNullable,...Jt(e)});class qL extends gn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===pt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qL.create=(t,e)=>new qL({innerType:t,typeName:Ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Jt(e)});class jL extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mT(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Hc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}jL.create=(t,e)=>new jL({innerType:t,typeName:Ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Jt(e)});class WU extends gn{_parse(e){if(this._getType(e)!==pt.nan){const r=this._getOrReturnCtx(e);return it(r,{code:Je.invalid_type,expected:pt.nan,received:r.parsedType}),Wt}return{status:"valid",value:e.data}}}WU.create=t=>new WU({typeName:Ut.ZodNaN,...Jt(t)});class o_e extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class T3 extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Wt:o.status==="dirty"?(n.dirty(),Pb(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Wt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new T3({in:e,out:n,typeName:Ut.ZodPipeline})}}class WL extends gn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Tv(i)&&(i.value=Object.freeze(i.value)),i);return mT(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}WL.create=(t,e)=>new WL({innerType:t,typeName:Ut.ZodReadonly,...Jt(e)});var Ut;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ut||(Ut={}));const uh=tu.create,GU=Dp.create;Lp.create;const s_e=yT.create;Av.create;const KU=VL.create;Rf.create;const Mb=au.create,a_e=Ur.create,l_e=vT.create;bT.create;Op.create;const u_e=wT.create,c_e=HL.create,d_e=Rv.create;_T.create;_f.create;Iv.create;const im={string:t=>tu.create({...t,coerce:!0}),number:t=>Dp.create({...t,coerce:!0}),boolean:t=>yT.create({...t,coerce:!0}),bigint:t=>Lp.create({...t,coerce:!0}),date:t=>Av.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let f_e,h_e;function p_e(){return{geminiUrl:f_e,vertexUrl:h_e}}function g_e(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=p_e();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eg{}function Tt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function _(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];_(c,e.slice(o+1),n[u])}else for(const u of l)_(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];_(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function w(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>w(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var YU;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(YU||(YU={}));var XU;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(XU||(XU={}));var zo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(zo||(zo={}));var JU;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(JU||(JU={}));var QU;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(QU||(QU={}));var ZU;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ZU||(ZU={}));var e9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(e9||(e9={}));var t9;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(t9||(t9={}));var n9;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(n9||(n9={}));var r9;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(r9||(r9={}));var i9;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(i9||(i9={}));var o9;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(o9||(o9={}));var s9;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(s9||(s9={}));var xT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xT||(xT={}));var a9;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(a9||(a9={}));var GL;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(GL||(GL={}));var l9;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(l9||(l9={}));var u9;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(u9||(u9={}));var c9;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(c9||(c9={}));var d9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(d9||(d9={}));var f9;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(f9||(f9={}));var h9;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(h9||(h9={}));var p9;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(p9||(p9={}));var g9;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(g9||(g9={}));var m9;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(m9||(m9={}));var y9;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(y9||(y9={}));var v9;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(v9||(v9={}));var b9;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(b9||(b9={}));var w9;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(w9||(w9={}));var _9;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_9||(_9={}));var x9;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(x9||(x9={}));var E9;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(E9||(E9={}));var S9;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(S9||(S9={}));var C9;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(C9||(C9={}));var T9;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(T9||(T9={}));var A9;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(A9||(A9={}));var R9;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(R9||(R9={}));var k9;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(k9||(k9={}));var I9;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(I9||(I9={}));var Zm;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Zm||(Zm={}));class KL{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Y0{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,m]of Object.entries(f))p!=="text"&&p!=="thought"&&(m!==null||m!==void 0)&&d.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;c=!0,u+=f.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[f,p]of Object.entries(d))f!=="inlineData"&&(p!==null||p!==void 0)&&c.push(f);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class P9{}class M9{}class m_e{}class y_e{}class N9{}class D9{}class L9{}class v_e{}class O9{}class F9{}class $9{}class b_e{}class w_e{}class __e{}class B9{}class x_e{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class E_e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function iee(t,e){const n=Bn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function oee(t){return Array.isArray(t)?t.map(e=>ET(e)):[ET(t)]}function ET(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function S_e(t){const e=ET(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function C_e(t){const e=ET(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function z9(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function see(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>z9(e)):[z9(t)]}function YL(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function V9(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function U9(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Xi(t){if(t==null)throw new Error("ContentUnion is required");return YL(t)?t:{role:"user",parts:see(t)}}function aee(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Xi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Xi(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Xi(n)):[Xi(e)]}function na(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(V9(t)||U9(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xi(t)]}const e=[],n=[],r=YL(t[0]);for(const i of t){const o=YL(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(V9(i)||U9(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:see(n)}),e}const T_e=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),H9=d_e(["string","number","integer","object","array","boolean","null"]),A_e=l_e([H9,Mb(H9)]);function R_e(t=!0){const e=c_e(()=>{const n=a_e({type:A_e.optional(),format:uh().optional(),title:uh().optional(),description:uh().optional(),default:KU().optional(),items:e.optional(),minItems:im.string().optional(),maxItems:im.string().optional(),enum:Mb(KU()).optional(),properties:u_e(uh(),e).optional(),required:Mb(uh()).optional(),minProperties:im.string().optional(),maxProperties:im.string().optional(),propertyOrdering:Mb(uh()).optional(),minimum:GU().optional(),maximum:GU().optional(),minLength:im.string().optional(),maxLength:im.string().optional(),pattern:uh().optional(),anyOf:Mb(e).optional(),additionalProperties:s_e().optional()});return t?n.strict():n});return e}function k_e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(zo).includes(n[0].toUpperCase())?n[0].toUpperCase():zo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(zo).includes(r.toUpperCase())?r.toUpperCase():zo.TYPE_UNSPECIFIED})}}function ay(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&k_e(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(zo).includes(a.toUpperCase())?a.toUpperCase():zo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ay(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(ay(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=ay(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function jw(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=R_e().parse(t);return ay(e)}else return ay(t)}function A3(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function R3(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jv(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=jw(e.parameters)),e.response&&(e.response=jw(e.response));return t}function Qv(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function I_e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Jc(t,e){if(typeof e!="string")throw new Error("name must be a string");return I_e(t,e,"cachedContents")}function lee(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function P_e(t){return t!=null&&typeof t=="object"&&"name"in t}function M_e(t){return t!=null&&typeof t=="object"&&"video"in t}function N_e(t){return t!=null&&typeof t=="object"&&"uri"in t}function uee(t){var e;let n;if(P_e(t)&&(n=t.name),!(N_e(t)&&(n=t.uri,n===void 0))&&!(M_e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cee(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function dee(t){for(const e of["models","tunedModels","publisherModels"])if(D_e(t,e))return t[e];return[]}function D_e(t,e){return t!==null&&typeof t=="object"&&e in t}function L_e(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:ay(ZA(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function O_e(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=L_e(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function F_e(t){const e=[];for(const n of t)e.push(ZA(n));return e}function $_e(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=ZA(i)}return e}function ZA(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,s]of Object.entries(t))if(e.has(o))i[o]=ZA(s);else if(n.has(o))i[o]=F_e(s);else if(r.has(o))i[o]=$_e(s);else if(o==="type"){const a=s.toUpperCase();i[o]=Object.values(zo).includes(a)?a:zo.TYPE_UNSPECIFIED}else T_e.has(o)&&(i[o]=s);return i}function fee(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function B_e(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function eR(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hee(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_e(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function V_e(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function U_e(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function H_e(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],z_e(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],V_e(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],U_e(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function pee(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>H_e(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function q_e(t){const e={},n=w(t,["anyOf"]);n!=null&&_(e,["anyOf"],n);const r=w(t,["default"]);r!=null&&_(e,["default"],r);const i=w(t,["description"]);i!=null&&_(e,["description"],i);const o=w(t,["enum"]);o!=null&&_(e,["enum"],o);const s=w(t,["example"]);s!=null&&_(e,["example"],s);const a=w(t,["format"]);a!=null&&_(e,["format"],a);const l=w(t,["items"]);l!=null&&_(e,["items"],l);const u=w(t,["maxItems"]);u!=null&&_(e,["maxItems"],u);const c=w(t,["maxLength"]);c!=null&&_(e,["maxLength"],c);const d=w(t,["maxProperties"]);d!=null&&_(e,["maxProperties"],d);const f=w(t,["maximum"]);f!=null&&_(e,["maximum"],f);const p=w(t,["minItems"]);p!=null&&_(e,["minItems"],p);const m=w(t,["minLength"]);m!=null&&_(e,["minLength"],m);const y=w(t,["minProperties"]);y!=null&&_(e,["minProperties"],y);const b=w(t,["minimum"]);b!=null&&_(e,["minimum"],b);const v=w(t,["nullable"]);v!=null&&_(e,["nullable"],v);const E=w(t,["pattern"]);E!=null&&_(e,["pattern"],E);const x=w(t,["properties"]);x!=null&&_(e,["properties"],x);const C=w(t,["propertyOrdering"]);C!=null&&_(e,["propertyOrdering"],C);const k=w(t,["required"]);k!=null&&_(e,["required"],k);const D=w(t,["title"]);D!=null&&_(e,["title"],D);const A=w(t,["type"]);return A!=null&&_(e,["type"],A),e}function j_e(t){const e={};if(w(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=w(t,["category"]);n!=null&&_(e,["category"],n);const r=w(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function W_e(t){const e={},n=w(t,["behavior"]);n!=null&&_(e,["behavior"],n);const r=w(t,["description"]);r!=null&&_(e,["description"],r);const i=w(t,["name"]);i!=null&&_(e,["name"],i);const o=w(t,["parameters"]);o!=null&&_(e,["parameters"],o);const s=w(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const a=w(t,["response"]);a!=null&&_(e,["response"],a);const l=w(t,["responseJsonSchema"]);return l!=null&&_(e,["responseJsonSchema"],l),e}function G_e(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function K_e(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],G_e(n)),e}function Y_e(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function X_e(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],Y_e(n)),e}function J_e(){return{}}function Q_e(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>W_e(l))),_(e,["functionDeclarations"],a)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["googleSearch"]);r!=null&&_(e,["googleSearch"],K_e(r));const i=w(t,["googleSearchRetrieval"]);if(i!=null&&_(e,["googleSearchRetrieval"],X_e(i)),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");w(t,["urlContext"])!=null&&_(e,["urlContext"],J_e());const s=w(t,["codeExecution"]);return s!=null&&_(e,["codeExecution"],s),e}function Z_e(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["allowedFunctionNames"]);return r!=null&&_(e,["allowedFunctionNames"],r),e}function exe(t){const e={},n=w(t,["latitude"]);n!=null&&_(e,["latitude"],n);const r=w(t,["longitude"]);return r!=null&&_(e,["longitude"],r),e}function txe(t){const e={},n=w(t,["latLng"]);n!=null&&_(e,["latLng"],exe(n));const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function nxe(t){const e={},n=w(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],Z_e(n));const r=w(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],txe(r)),e}function rxe(t){const e={},n=w(t,["voiceName"]);return n!=null&&_(e,["voiceName"],n),e}function gee(t){const e={},n=w(t,["prebuiltVoiceConfig"]);return n!=null&&_(e,["prebuiltVoiceConfig"],rxe(n)),e}function ixe(t){const e={},n=w(t,["speaker"]);n!=null&&_(e,["speaker"],n);const r=w(t,["voiceConfig"]);return r!=null&&_(e,["voiceConfig"],gee(r)),e}function oxe(t){const e={},n=w(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ixe(i))),_(e,["speakerVoiceConfigs"],r)}return e}function sxe(t){const e={},n=w(t,["voiceConfig"]);n!=null&&_(e,["voiceConfig"],gee(n));const r=w(t,["multiSpeakerVoiceConfig"]);r!=null&&_(e,["multiSpeakerVoiceConfig"],oxe(r));const i=w(t,["languageCode"]);return i!=null&&_(e,["languageCode"],i),e}function axe(t){const e={},n=w(t,["includeThoughts"]);n!=null&&_(e,["includeThoughts"],n);const r=w(t,["thinkingBudget"]);return r!=null&&_(e,["thinkingBudget"],r),e}function lxe(t,e,n){const r={},i=w(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],pee(Xi(i)));const o=w(e,["temperature"]);o!=null&&_(r,["temperature"],o);const s=w(e,["topP"]);s!=null&&_(r,["topP"],s);const a=w(e,["topK"]);a!=null&&_(r,["topK"],a);const l=w(e,["candidateCount"]);l!=null&&_(r,["candidateCount"],l);const u=w(e,["maxOutputTokens"]);u!=null&&_(r,["maxOutputTokens"],u);const c=w(e,["stopSequences"]);c!=null&&_(r,["stopSequences"],c);const d=w(e,["responseLogprobs"]);d!=null&&_(r,["responseLogprobs"],d);const f=w(e,["logprobs"]);f!=null&&_(r,["logprobs"],f);const p=w(e,["presencePenalty"]);p!=null&&_(r,["presencePenalty"],p);const m=w(e,["frequencyPenalty"]);m!=null&&_(r,["frequencyPenalty"],m);const y=w(e,["seed"]);y!=null&&_(r,["seed"],y);const b=w(e,["responseMimeType"]);b!=null&&_(r,["responseMimeType"],b);const v=w(e,["responseSchema"]);v!=null&&_(r,["responseSchema"],q_e(jw(v)));const E=w(e,["responseJsonSchema"]);if(E!=null&&_(r,["responseJsonSchema"],E),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=w(e,["safetySettings"]);if(n!==void 0&&x!=null){let O=x;Array.isArray(O)&&(O=O.map(F=>j_e(F))),_(n,["safetySettings"],O)}const C=w(e,["tools"]);if(n!==void 0&&C!=null){let O=Qv(C);Array.isArray(O)&&(O=O.map(F=>Q_e(Jv(F)))),_(n,["tools"],O)}const k=w(e,["toolConfig"]);if(n!==void 0&&k!=null&&_(n,["toolConfig"],nxe(k)),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=w(e,["cachedContent"]);n!==void 0&&D!=null&&_(n,["cachedContent"],Jc(t,D));const A=w(e,["responseModalities"]);A!=null&&_(r,["responseModalities"],A);const P=w(e,["mediaResolution"]);P!=null&&_(r,["mediaResolution"],P);const M=w(e,["speechConfig"]);if(M!=null&&_(r,["speechConfig"],sxe(A3(M))),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=w(e,["thinkingConfig"]);return I!=null&&_(r,["thinkingConfig"],axe(I)),r}function uxe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["request","model"],Bn(t,r));const i=w(e,["contents"]);if(i!=null){let s=na(i);Array.isArray(s)&&(s=s.map(a=>pee(a))),_(n,["request","contents"],s)}const o=w(e,["config"]);return o!=null&&_(n,["request","generationConfig"],lxe(t,o,n)),n}function cxe(t,e){const n={};if(w(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=w(e,["fileName"]);r!=null&&_(n,["fileName"],r);const i=w(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>uxe(t,s))),_(n,["requests","requests"],o)}return n}function dxe(t,e){const n={},r=w(t,["displayName"]);if(e!==void 0&&r!=null&&_(e,["batch","displayName"],r),w(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function fxe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["src"]);i!=null&&_(n,["batch","inputConfig"],cxe(t,fee(t,i)));const o=w(e,["config"]);return o!=null&&_(n,["config"],dxe(o,n)),n}function hxe(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],eR(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function pxe(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],eR(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function gxe(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);if(e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),w(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function mxe(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],gxe(n,e)),e}function yxe(t){const e={},n=w(t,["format"]);n!=null&&_(e,["instancesFormat"],n);const r=w(t,["gcsUri"]);r!=null&&_(e,["gcsSource","uris"],r);const i=w(t,["bigqueryUri"]);if(i!=null&&_(e,["bigquerySource","inputUri"],i),w(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vxe(t){const e={},n=w(t,["format"]);n!=null&&_(e,["predictionsFormat"],n);const r=w(t,["gcsUri"]);r!=null&&_(e,["gcsDestination","outputUriPrefix"],r);const i=w(t,["bigqueryUri"]);if(i!=null&&_(e,["bigqueryDestination","outputUri"],i),w(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function bxe(t,e){const n={},r=w(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=w(t,["dest"]);return e!==void 0&&i!=null&&_(e,["outputConfig"],vxe(B_e(i))),n}function wxe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["model"],Bn(t,r));const i=w(e,["src"]);i!=null&&_(n,["inputConfig"],yxe(fee(t,i)));const o=w(e,["config"]);return o!=null&&_(n,["config"],bxe(o,n)),n}function _xe(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],eR(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function xxe(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],eR(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function Exe(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const o=w(t,["filter"]);return e!==void 0&&o!=null&&_(e,["_query","filter"],o),n}function Sxe(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],Exe(n,e)),e}function Cxe(){return{}}function Txe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function Axe(t){const e={},n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Rxe(t){const e={},n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function kxe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],Txe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],Axe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],Rxe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function Ixe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kxe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function Pxe(t){const e={},n=w(t,["citationSources"]);return n!=null&&_(e,["citations"],n),e}function Mxe(t){const e={},n=w(t,["retrievedUrl"]);n!=null&&_(e,["retrievedUrl"],n);const r=w(t,["urlRetrievalStatus"]);return r!=null&&_(e,["urlRetrievalStatus"],r),e}function Nxe(t){const e={},n=w(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mxe(i))),_(e,["urlMetadata"],r)}return e}function Dxe(t){const e={},n=w(t,["content"]);n!=null&&_(e,["content"],Ixe(n));const r=w(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],Pxe(r));const i=w(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const o=w(t,["finishReason"]);o!=null&&_(e,["finishReason"],o);const s=w(t,["urlContextMetadata"]);s!=null&&_(e,["urlContextMetadata"],Nxe(s));const a=w(t,["avgLogprobs"]);a!=null&&_(e,["avgLogprobs"],a);const l=w(t,["groundingMetadata"]);l!=null&&_(e,["groundingMetadata"],l);const u=w(t,["index"]);u!=null&&_(e,["index"],u);const c=w(t,["logprobsResult"]);c!=null&&_(e,["logprobsResult"],c);const d=w(t,["safetyRatings"]);return d!=null&&_(e,["safetyRatings"],d),e}function Lxe(t){const e={},n=w(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Dxe(a))),_(e,["candidates"],s)}const r=w(t,["modelVersion"]);r!=null&&_(e,["modelVersion"],r);const i=w(t,["promptFeedback"]);i!=null&&_(e,["promptFeedback"],i);const o=w(t,["usageMetadata"]);return o!=null&&_(e,["usageMetadata"],o),e}function Oxe(t){const e={},n=w(t,["response"]);return n!=null&&_(e,["response"],Lxe(n)),w(t,["error"])!=null&&_(e,["error"],Cxe()),e}function Fxe(t){const e={},n=w(t,["responsesFile"]);n!=null&&_(e,["fileName"],n);const r=w(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Oxe(o))),_(e,["inlinedResponses"],i)}return e}function XL(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["metadata","displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["metadata","state"]);i!=null&&_(e,["state"],hee(i));const o=w(t,["metadata","createTime"]);o!=null&&_(e,["createTime"],o);const s=w(t,["metadata","endTime"]);s!=null&&_(e,["endTime"],s);const a=w(t,["metadata","updateTime"]);a!=null&&_(e,["updateTime"],a);const l=w(t,["metadata","model"]);l!=null&&_(e,["model"],l);const u=w(t,["metadata","output"]);return u!=null&&_(e,["dest"],Fxe(u)),e}function $xe(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>XL(o))),_(e,["batchJobs"],i)}return e}function Bxe(t){const e={},n=w(t,["details"]);n!=null&&_(e,["details"],n);const r=w(t,["code"]);r!=null&&_(e,["code"],r);const i=w(t,["message"]);return i!=null&&_(e,["message"],i),e}function zxe(t){const e={},n=w(t,["instancesFormat"]);n!=null&&_(e,["format"],n);const r=w(t,["gcsSource","uris"]);r!=null&&_(e,["gcsUri"],r);const i=w(t,["bigquerySource","inputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function Vxe(t){const e={},n=w(t,["predictionsFormat"]);n!=null&&_(e,["format"],n);const r=w(t,["gcsDestination","outputUriPrefix"]);r!=null&&_(e,["gcsUri"],r);const i=w(t,["bigqueryDestination","outputUri"]);return i!=null&&_(e,["bigqueryUri"],i),e}function JL(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["state"]);i!=null&&_(e,["state"],hee(i));const o=w(t,["error"]);o!=null&&_(e,["error"],Bxe(o));const s=w(t,["createTime"]);s!=null&&_(e,["createTime"],s);const a=w(t,["startTime"]);a!=null&&_(e,["startTime"],a);const l=w(t,["endTime"]);l!=null&&_(e,["endTime"],l);const u=w(t,["updateTime"]);u!=null&&_(e,["updateTime"],u);const c=w(t,["model"]);c!=null&&_(e,["model"],c);const d=w(t,["inputConfig"]);d!=null&&_(e,["src"],zxe(d));const f=w(t,["outputConfig"]);return f!=null&&_(e,["dest"],Vxe(f)),e}function Uxe(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>JL(o))),_(e,["batchJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fp;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Fp||(Fp={}));class e1{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hxe extends eg{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new e1(Fp.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wxe(this.apiClient,e);return a=Tt("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>JL(c))}else{const u=fxe(this.apiClient,e);return a=Tt("{model}:batchGenerateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>XL(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_xe(this.apiClient,e);return a=Tt("batchPredictionJobs/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>JL(c))}else{const u=hxe(this.apiClient,e);return a=Tt("batches/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>XL(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=xxe(this.apiClient,e);s=Tt("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=pxe(this.apiClient,e);s=Tt("batches/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Sxe(e);return a=Tt("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Uxe(c),f=new B9;return Object.assign(f,d),f})}else{const u=mxe(e);return a=Tt("batches",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=$xe(c),f=new B9;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qxe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function jxe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Wxe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function Gxe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],qxe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],jxe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],Wxe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function q9(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gxe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function Kxe(t){const e={},n=w(t,["behavior"]);n!=null&&_(e,["behavior"],n);const r=w(t,["description"]);r!=null&&_(e,["description"],r);const i=w(t,["name"]);i!=null&&_(e,["name"],i);const o=w(t,["parameters"]);o!=null&&_(e,["parameters"],o);const s=w(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const a=w(t,["response"]);a!=null&&_(e,["response"],a);const l=w(t,["responseJsonSchema"]);return l!=null&&_(e,["responseJsonSchema"],l),e}function Yxe(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function Xxe(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],Yxe(n)),e}function Jxe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function Qxe(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],Jxe(n)),e}function Zxe(){return{}}function e1e(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Kxe(l))),_(e,["functionDeclarations"],a)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["googleSearch"]);r!=null&&_(e,["googleSearch"],Xxe(r));const i=w(t,["googleSearchRetrieval"]);if(i!=null&&_(e,["googleSearchRetrieval"],Qxe(i)),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");w(t,["urlContext"])!=null&&_(e,["urlContext"],Zxe());const s=w(t,["codeExecution"]);return s!=null&&_(e,["codeExecution"],s),e}function t1e(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["allowedFunctionNames"]);return r!=null&&_(e,["allowedFunctionNames"],r),e}function n1e(t){const e={},n=w(t,["latitude"]);n!=null&&_(e,["latitude"],n);const r=w(t,["longitude"]);return r!=null&&_(e,["longitude"],r),e}function r1e(t){const e={},n=w(t,["latLng"]);n!=null&&_(e,["latLng"],n1e(n));const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function i1e(t){const e={},n=w(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],t1e(n));const r=w(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],r1e(r)),e}function o1e(t,e){const n={},r=w(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=w(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const o=w(t,["displayName"]);e!==void 0&&o!=null&&_(e,["displayName"],o);const s=w(t,["contents"]);if(e!==void 0&&s!=null){let c=na(s);Array.isArray(c)&&(c=c.map(d=>q9(d))),_(e,["contents"],c)}const a=w(t,["systemInstruction"]);e!==void 0&&a!=null&&_(e,["systemInstruction"],q9(Xi(a)));const l=w(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>e1e(d))),_(e,["tools"],c)}const u=w(t,["toolConfig"]);if(e!==void 0&&u!=null&&_(e,["toolConfig"],i1e(u)),w(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function s1e(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["model"],iee(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],o1e(i,n)),n}function a1e(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],Jc(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function l1e(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],Jc(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function u1e(t,e){const n={},r=w(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=w(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function c1e(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],Jc(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],u1e(i,n)),n}function d1e(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function f1e(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],d1e(n,e)),e}function h1e(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function p1e(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["data"]);r!=null&&_(e,["data"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function g1e(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function m1e(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],h1e(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],p1e(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],g1e(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function j9(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>m1e(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function y1e(t){const e={};if(w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=w(t,["description"]);n!=null&&_(e,["description"],n);const r=w(t,["name"]);r!=null&&_(e,["name"],r);const i=w(t,["parameters"]);i!=null&&_(e,["parameters"],i);const o=w(t,["parametersJsonSchema"]);o!=null&&_(e,["parametersJsonSchema"],o);const s=w(t,["response"]);s!=null&&_(e,["response"],s);const a=w(t,["responseJsonSchema"]);return a!=null&&_(e,["responseJsonSchema"],a),e}function v1e(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function b1e(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],v1e(n)),e}function w1e(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function _1e(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],w1e(n)),e}function x1e(){return{}}function E1e(t){const e={},n=w(t,["apiKeyString"]);return n!=null&&_(e,["apiKeyString"],n),e}function S1e(t){const e={},n=w(t,["apiKeyConfig"]);n!=null&&_(e,["apiKeyConfig"],E1e(n));const r=w(t,["authType"]);r!=null&&_(e,["authType"],r);const i=w(t,["googleServiceAccountConfig"]);i!=null&&_(e,["googleServiceAccountConfig"],i);const o=w(t,["httpBasicAuthConfig"]);o!=null&&_(e,["httpBasicAuthConfig"],o);const s=w(t,["oauthConfig"]);s!=null&&_(e,["oauthConfig"],s);const a=w(t,["oidcConfig"]);return a!=null&&_(e,["oidcConfig"],a),e}function C1e(t){const e={},n=w(t,["authConfig"]);return n!=null&&_(e,["authConfig"],S1e(n)),e}function T1e(){return{}}function A1e(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>y1e(d))),_(e,["functionDeclarations"],c)}const r=w(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=w(t,["googleSearch"]);i!=null&&_(e,["googleSearch"],b1e(i));const o=w(t,["googleSearchRetrieval"]);o!=null&&_(e,["googleSearchRetrieval"],_1e(o)),w(t,["enterpriseWebSearch"])!=null&&_(e,["enterpriseWebSearch"],x1e());const a=w(t,["googleMaps"]);a!=null&&_(e,["googleMaps"],C1e(a)),w(t,["urlContext"])!=null&&_(e,["urlContext"],T1e());const u=w(t,["codeExecution"]);return u!=null&&_(e,["codeExecution"],u),e}function R1e(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["allowedFunctionNames"]);return r!=null&&_(e,["allowedFunctionNames"],r),e}function k1e(t){const e={},n=w(t,["latitude"]);n!=null&&_(e,["latitude"],n);const r=w(t,["longitude"]);return r!=null&&_(e,["longitude"],r),e}function I1e(t){const e={},n=w(t,["latLng"]);n!=null&&_(e,["latLng"],k1e(n));const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function P1e(t){const e={},n=w(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],R1e(n));const r=w(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],I1e(r)),e}function M1e(t,e){const n={},r=w(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=w(t,["expireTime"]);e!==void 0&&i!=null&&_(e,["expireTime"],i);const o=w(t,["displayName"]);e!==void 0&&o!=null&&_(e,["displayName"],o);const s=w(t,["contents"]);if(e!==void 0&&s!=null){let d=na(s);Array.isArray(d)&&(d=d.map(f=>j9(f))),_(e,["contents"],d)}const a=w(t,["systemInstruction"]);e!==void 0&&a!=null&&_(e,["systemInstruction"],j9(Xi(a)));const l=w(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>A1e(f))),_(e,["tools"],d)}const u=w(t,["toolConfig"]);e!==void 0&&u!=null&&_(e,["toolConfig"],P1e(u));const c=w(t,["kmsKeyName"]);return e!==void 0&&c!=null&&_(e,["encryption_spec","kmsKeyName"],c),n}function N1e(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["model"],iee(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],M1e(i,n)),n}function D1e(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],Jc(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function L1e(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],Jc(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function O1e(t,e){const n={},r=w(t,["ttl"]);e!==void 0&&r!=null&&_(e,["ttl"],r);const i=w(t,["expireTime"]);return e!==void 0&&i!=null&&_(e,["expireTime"],i),n}function F1e(t,e){const n={},r=w(e,["name"]);r!=null&&_(n,["_url","name"],Jc(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],O1e(i,n)),n}function $1e(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function B1e(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],$1e(n,e)),e}function GS(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["model"]);i!=null&&_(e,["model"],i);const o=w(t,["createTime"]);o!=null&&_(e,["createTime"],o);const s=w(t,["updateTime"]);s!=null&&_(e,["updateTime"],s);const a=w(t,["expireTime"]);a!=null&&_(e,["expireTime"],a);const l=w(t,["usageMetadata"]);return l!=null&&_(e,["usageMetadata"],l),e}function z1e(){return{}}function V1e(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>GS(o))),_(e,["cachedContents"],i)}return e}function KS(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["model"]);i!=null&&_(e,["model"],i);const o=w(t,["createTime"]);o!=null&&_(e,["createTime"],o);const s=w(t,["updateTime"]);s!=null&&_(e,["updateTime"],s);const a=w(t,["expireTime"]);a!=null&&_(e,["expireTime"],a);const l=w(t,["usageMetadata"]);return l!=null&&_(e,["usageMetadata"],l),e}function U1e(){return{}}function H1e(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>KS(o))),_(e,["cachedContents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q1e extends eg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new e1(Fp.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=N1e(this.apiClient,e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>KS(c))}else{const u=s1e(this.apiClient,e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>GS(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=D1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>KS(c))}else{const u=a1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>GS(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=L1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=U1e(),d=new F9;return Object.assign(d,c),d})}else{const u=l1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=z1e(),d=new F9;return Object.assign(d,c),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=F1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>KS(c))}else{const u=c1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>GS(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=B1e(e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=H1e(c),f=new $9;return Object.assign(f,d),f})}else{const u=f1e(e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=V1e(c),f=new $9;return Object.assign(f,d),f})}}}function W9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rr(t){return this instanceof rr?(this.v=t,this):new rr(t)}function ly(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(y){return new Promise(function(b,v){o.push([p,y,b,v])>1||l(p,y)})},m&&(i[p]=m(i[p])))}function l(p,m){try{u(r[p](m))}catch(y){f(o[0][3],y)}}function u(p){p.value instanceof rr?Promise.resolve(p.value.v).then(c,d):f(o[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function f(p,m){p(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function hw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof W9=="function"?W9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:mee(n)}function mee(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function W1e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function G9(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!mee(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class G1e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new K1e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class K1e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),W1e(o)}async sendMessage(e){var n;await this.sendPromise;const r=Xi(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let f=[];c!=null&&(f=(a=c.slice(d))!==null&&a!==void 0?a:[]);const p=u?[u]:[];this.recordHistory(r,p,f)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Xi(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?G9(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ly(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var d=!0,f=hw(e),p;p=yield rr(f.next()),s=p.done,!s;d=!0){u=p.value,d=!1;const m=u;if(j1e(m)){const y=(i=(r=m.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield rr(m)}}catch(m){a={error:m}}finally{try{!d&&!s&&(l=f.return)&&(yield rr(l.call(f)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...G9(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tR extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tR.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y1e(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);return e!==void 0&&i!=null&&_(e,["_query","pageToken"],i),n}function X1e(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],Y1e(n,e)),e}function J1e(t){const e={},n=w(t,["details"]);n!=null&&_(e,["details"],n);const r=w(t,["message"]);r!=null&&_(e,["message"],r);const i=w(t,["code"]);return i!=null&&_(e,["code"],i),e}function Q1e(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["mimeType"]);i!=null&&_(e,["mimeType"],i);const o=w(t,["sizeBytes"]);o!=null&&_(e,["sizeBytes"],o);const s=w(t,["createTime"]);s!=null&&_(e,["createTime"],s);const a=w(t,["expirationTime"]);a!=null&&_(e,["expirationTime"],a);const l=w(t,["updateTime"]);l!=null&&_(e,["updateTime"],l);const u=w(t,["sha256Hash"]);u!=null&&_(e,["sha256Hash"],u);const c=w(t,["uri"]);c!=null&&_(e,["uri"],c);const d=w(t,["downloadUri"]);d!=null&&_(e,["downloadUri"],d);const f=w(t,["state"]);f!=null&&_(e,["state"],f);const p=w(t,["source"]);p!=null&&_(e,["source"],p);const m=w(t,["videoMetadata"]);m!=null&&_(e,["videoMetadata"],m);const y=w(t,["error"]);return y!=null&&_(e,["error"],J1e(y)),e}function Z1e(t){const e={},n=w(t,["file"]);n!=null&&_(e,["file"],Q1e(n));const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function eEe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["_url","file"],uee(n));const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function tEe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["_url","file"],uee(n));const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function nEe(t){const e={},n=w(t,["details"]);n!=null&&_(e,["details"],n);const r=w(t,["message"]);r!=null&&_(e,["message"],r);const i=w(t,["code"]);return i!=null&&_(e,["code"],i),e}function QL(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["mimeType"]);i!=null&&_(e,["mimeType"],i);const o=w(t,["sizeBytes"]);o!=null&&_(e,["sizeBytes"],o);const s=w(t,["createTime"]);s!=null&&_(e,["createTime"],s);const a=w(t,["expirationTime"]);a!=null&&_(e,["expirationTime"],a);const l=w(t,["updateTime"]);l!=null&&_(e,["updateTime"],l);const u=w(t,["sha256Hash"]);u!=null&&_(e,["sha256Hash"],u);const c=w(t,["uri"]);c!=null&&_(e,["uri"],c);const d=w(t,["downloadUri"]);d!=null&&_(e,["downloadUri"],d);const f=w(t,["state"]);f!=null&&_(e,["state"],f);const p=w(t,["source"]);p!=null&&_(e,["source"],p);const m=w(t,["videoMetadata"]);m!=null&&_(e,["videoMetadata"],m);const y=w(t,["error"]);return y!=null&&_(e,["error"],nEe(y)),e}function rEe(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>QL(o))),_(e,["files"],i)}return e}function iEe(){return{}}function oEe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sEe extends eg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new e1(Fp.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>QL(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=X1e(e);return o=Tt("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=rEe(l),c=new b_e;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Z1e(e);return o=Tt("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=iEe(),u=new w_e;return Object.assign(u,l),u})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eEe(e);return o=Tt("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>QL(l))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=tEe(e);return o=Tt("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=oEe(),u=new __e;return Object.assign(u,l),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aEe(t){const e={},n=w(t,["voiceName"]);return n!=null&&_(e,["voiceName"],n),e}function lEe(t){const e={},n=w(t,["voiceName"]);return n!=null&&_(e,["voiceName"],n),e}function yee(t){const e={},n=w(t,["prebuiltVoiceConfig"]);return n!=null&&_(e,["prebuiltVoiceConfig"],aEe(n)),e}function uEe(t){const e={},n=w(t,["prebuiltVoiceConfig"]);return n!=null&&_(e,["prebuiltVoiceConfig"],lEe(n)),e}function cEe(t){const e={},n=w(t,["speaker"]);n!=null&&_(e,["speaker"],n);const r=w(t,["voiceConfig"]);return r!=null&&_(e,["voiceConfig"],yee(r)),e}function dEe(t){const e={},n=w(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cEe(i))),_(e,["speakerVoiceConfigs"],r)}return e}function fEe(t){const e={},n=w(t,["voiceConfig"]);n!=null&&_(e,["voiceConfig"],yee(n));const r=w(t,["multiSpeakerVoiceConfig"]);r!=null&&_(e,["multiSpeakerVoiceConfig"],dEe(r));const i=w(t,["languageCode"]);return i!=null&&_(e,["languageCode"],i),e}function hEe(t){const e={},n=w(t,["voiceConfig"]);if(n!=null&&_(e,["voiceConfig"],uEe(n)),w(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function pEe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function gEe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function mEe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function yEe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["data"]);r!=null&&_(e,["data"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function vEe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function bEe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function wEe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],pEe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],mEe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],vEe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function _Ee(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],gEe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],yEe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],bEe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function xEe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wEe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function EEe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_Ee(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function SEe(t){const e={},n=w(t,["behavior"]);n!=null&&_(e,["behavior"],n);const r=w(t,["description"]);r!=null&&_(e,["description"],r);const i=w(t,["name"]);i!=null&&_(e,["name"],i);const o=w(t,["parameters"]);o!=null&&_(e,["parameters"],o);const s=w(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const a=w(t,["response"]);a!=null&&_(e,["response"],a);const l=w(t,["responseJsonSchema"]);return l!=null&&_(e,["responseJsonSchema"],l),e}function CEe(t){const e={};if(w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=w(t,["description"]);n!=null&&_(e,["description"],n);const r=w(t,["name"]);r!=null&&_(e,["name"],r);const i=w(t,["parameters"]);i!=null&&_(e,["parameters"],i);const o=w(t,["parametersJsonSchema"]);o!=null&&_(e,["parametersJsonSchema"],o);const s=w(t,["response"]);s!=null&&_(e,["response"],s);const a=w(t,["responseJsonSchema"]);return a!=null&&_(e,["responseJsonSchema"],a),e}function TEe(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function AEe(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function REe(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],TEe(n)),e}function kEe(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],AEe(n)),e}function IEe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function PEe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function MEe(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],IEe(n)),e}function NEe(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],PEe(n)),e}function DEe(){return{}}function LEe(t){const e={},n=w(t,["apiKeyString"]);return n!=null&&_(e,["apiKeyString"],n),e}function OEe(t){const e={},n=w(t,["apiKeyConfig"]);n!=null&&_(e,["apiKeyConfig"],LEe(n));const r=w(t,["authType"]);r!=null&&_(e,["authType"],r);const i=w(t,["googleServiceAccountConfig"]);i!=null&&_(e,["googleServiceAccountConfig"],i);const o=w(t,["httpBasicAuthConfig"]);o!=null&&_(e,["httpBasicAuthConfig"],o);const s=w(t,["oauthConfig"]);s!=null&&_(e,["oauthConfig"],s);const a=w(t,["oidcConfig"]);return a!=null&&_(e,["oidcConfig"],a),e}function FEe(t){const e={},n=w(t,["authConfig"]);return n!=null&&_(e,["authConfig"],OEe(n)),e}function $Ee(){return{}}function BEe(){return{}}function zEe(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>SEe(l))),_(e,["functionDeclarations"],a)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["googleSearch"]);r!=null&&_(e,["googleSearch"],REe(r));const i=w(t,["googleSearchRetrieval"]);if(i!=null&&_(e,["googleSearchRetrieval"],MEe(i)),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");w(t,["urlContext"])!=null&&_(e,["urlContext"],$Ee());const s=w(t,["codeExecution"]);return s!=null&&_(e,["codeExecution"],s),e}function VEe(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>CEe(d))),_(e,["functionDeclarations"],c)}const r=w(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=w(t,["googleSearch"]);i!=null&&_(e,["googleSearch"],kEe(i));const o=w(t,["googleSearchRetrieval"]);o!=null&&_(e,["googleSearchRetrieval"],NEe(o)),w(t,["enterpriseWebSearch"])!=null&&_(e,["enterpriseWebSearch"],DEe());const a=w(t,["googleMaps"]);a!=null&&_(e,["googleMaps"],FEe(a)),w(t,["urlContext"])!=null&&_(e,["urlContext"],BEe());const u=w(t,["codeExecution"]);return u!=null&&_(e,["codeExecution"],u),e}function UEe(t){const e={},n=w(t,["handle"]);if(n!=null&&_(e,["handle"],n),w(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HEe(t){const e={},n=w(t,["handle"]);n!=null&&_(e,["handle"],n);const r=w(t,["transparent"]);return r!=null&&_(e,["transparent"],r),e}function K9(){return{}}function Y9(){return{}}function qEe(t){const e={},n=w(t,["disabled"]);n!=null&&_(e,["disabled"],n);const r=w(t,["startOfSpeechSensitivity"]);r!=null&&_(e,["startOfSpeechSensitivity"],r);const i=w(t,["endOfSpeechSensitivity"]);i!=null&&_(e,["endOfSpeechSensitivity"],i);const o=w(t,["prefixPaddingMs"]);o!=null&&_(e,["prefixPaddingMs"],o);const s=w(t,["silenceDurationMs"]);return s!=null&&_(e,["silenceDurationMs"],s),e}function jEe(t){const e={},n=w(t,["disabled"]);n!=null&&_(e,["disabled"],n);const r=w(t,["startOfSpeechSensitivity"]);r!=null&&_(e,["startOfSpeechSensitivity"],r);const i=w(t,["endOfSpeechSensitivity"]);i!=null&&_(e,["endOfSpeechSensitivity"],i);const o=w(t,["prefixPaddingMs"]);o!=null&&_(e,["prefixPaddingMs"],o);const s=w(t,["silenceDurationMs"]);return s!=null&&_(e,["silenceDurationMs"],s),e}function WEe(t){const e={},n=w(t,["automaticActivityDetection"]);n!=null&&_(e,["automaticActivityDetection"],qEe(n));const r=w(t,["activityHandling"]);r!=null&&_(e,["activityHandling"],r);const i=w(t,["turnCoverage"]);return i!=null&&_(e,["turnCoverage"],i),e}function GEe(t){const e={},n=w(t,["automaticActivityDetection"]);n!=null&&_(e,["automaticActivityDetection"],jEe(n));const r=w(t,["activityHandling"]);r!=null&&_(e,["activityHandling"],r);const i=w(t,["turnCoverage"]);return i!=null&&_(e,["turnCoverage"],i),e}function KEe(t){const e={},n=w(t,["targetTokens"]);return n!=null&&_(e,["targetTokens"],n),e}function YEe(t){const e={},n=w(t,["targetTokens"]);return n!=null&&_(e,["targetTokens"],n),e}function XEe(t){const e={},n=w(t,["triggerTokens"]);n!=null&&_(e,["triggerTokens"],n);const r=w(t,["slidingWindow"]);return r!=null&&_(e,["slidingWindow"],KEe(r)),e}function JEe(t){const e={},n=w(t,["triggerTokens"]);n!=null&&_(e,["triggerTokens"],n);const r=w(t,["slidingWindow"]);return r!=null&&_(e,["slidingWindow"],YEe(r)),e}function QEe(t){const e={},n=w(t,["proactiveAudio"]);return n!=null&&_(e,["proactiveAudio"],n),e}function ZEe(t){const e={},n=w(t,["proactiveAudio"]);return n!=null&&_(e,["proactiveAudio"],n),e}function eSe(t,e){const n={},r=w(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=w(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const o=w(t,["temperature"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","temperature"],o);const s=w(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const a=w(t,["topK"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","topK"],a);const l=w(t,["maxOutputTokens"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","maxOutputTokens"],l);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","mediaResolution"],u);const c=w(t,["seed"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","seed"],c);const d=w(t,["speechConfig"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","speechConfig"],fEe(R3(d)));const f=w(t,["enableAffectiveDialog"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],f);const p=w(t,["systemInstruction"]);e!==void 0&&p!=null&&_(e,["setup","systemInstruction"],xEe(Xi(p)));const m=w(t,["tools"]);if(e!==void 0&&m!=null){let k=Qv(m);Array.isArray(k)&&(k=k.map(D=>zEe(Jv(D)))),_(e,["setup","tools"],k)}const y=w(t,["sessionResumption"]);e!==void 0&&y!=null&&_(e,["setup","sessionResumption"],UEe(y));const b=w(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&_(e,["setup","inputAudioTranscription"],K9());const v=w(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&_(e,["setup","outputAudioTranscription"],K9());const E=w(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&_(e,["setup","realtimeInputConfig"],WEe(E));const x=w(t,["contextWindowCompression"]);e!==void 0&&x!=null&&_(e,["setup","contextWindowCompression"],XEe(x));const C=w(t,["proactivity"]);return e!==void 0&&C!=null&&_(e,["setup","proactivity"],QEe(C)),n}function tSe(t,e){const n={},r=w(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=w(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const o=w(t,["temperature"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","temperature"],o);const s=w(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const a=w(t,["topK"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","topK"],a);const l=w(t,["maxOutputTokens"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","maxOutputTokens"],l);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","mediaResolution"],u);const c=w(t,["seed"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","seed"],c);const d=w(t,["speechConfig"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","speechConfig"],hEe(R3(d)));const f=w(t,["enableAffectiveDialog"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],f);const p=w(t,["systemInstruction"]);e!==void 0&&p!=null&&_(e,["setup","systemInstruction"],EEe(Xi(p)));const m=w(t,["tools"]);if(e!==void 0&&m!=null){let k=Qv(m);Array.isArray(k)&&(k=k.map(D=>VEe(Jv(D)))),_(e,["setup","tools"],k)}const y=w(t,["sessionResumption"]);e!==void 0&&y!=null&&_(e,["setup","sessionResumption"],HEe(y));const b=w(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&_(e,["setup","inputAudioTranscription"],Y9());const v=w(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&_(e,["setup","outputAudioTranscription"],Y9());const E=w(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&_(e,["setup","realtimeInputConfig"],GEe(E));const x=w(t,["contextWindowCompression"]);e!==void 0&&x!=null&&_(e,["setup","contextWindowCompression"],JEe(x));const C=w(t,["proactivity"]);return e!==void 0&&C!=null&&_(e,["setup","proactivity"],ZEe(C)),n}function nSe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["setup","model"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],eSe(i,n)),n}function rSe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["setup","model"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],tSe(i,n)),n}function iSe(){return{}}function oSe(){return{}}function sSe(){return{}}function aSe(){return{}}function lSe(t){const e={},n=w(t,["media"]);n!=null&&_(e,["mediaChunks"],oee(n));const r=w(t,["audio"]);r!=null&&_(e,["audio"],C_e(r));const i=w(t,["audioStreamEnd"]);i!=null&&_(e,["audioStreamEnd"],i);const o=w(t,["video"]);o!=null&&_(e,["video"],S_e(o));const s=w(t,["text"]);return s!=null&&_(e,["text"],s),w(t,["activityStart"])!=null&&_(e,["activityStart"],iSe()),w(t,["activityEnd"])!=null&&_(e,["activityEnd"],sSe()),e}function uSe(t){const e={},n=w(t,["media"]);if(n!=null&&_(e,["mediaChunks"],oee(n)),w(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=w(t,["audioStreamEnd"]);if(r!=null&&_(e,["audioStreamEnd"],r),w(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(w(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return w(t,["activityStart"])!=null&&_(e,["activityStart"],oSe()),w(t,["activityEnd"])!=null&&_(e,["activityEnd"],aSe()),e}function vee(t){const e={},n=w(t,["text"]);n!=null&&_(e,["text"],n);const r=w(t,["weight"]);return r!=null&&_(e,["weight"],r),e}function cSe(t){const e={},n=w(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vee(i))),_(e,["weightedPrompts"],r)}return e}function bee(t){const e={},n=w(t,["temperature"]);n!=null&&_(e,["temperature"],n);const r=w(t,["topK"]);r!=null&&_(e,["topK"],r);const i=w(t,["seed"]);i!=null&&_(e,["seed"],i);const o=w(t,["guidance"]);o!=null&&_(e,["guidance"],o);const s=w(t,["bpm"]);s!=null&&_(e,["bpm"],s);const a=w(t,["density"]);a!=null&&_(e,["density"],a);const l=w(t,["brightness"]);l!=null&&_(e,["brightness"],l);const u=w(t,["scale"]);u!=null&&_(e,["scale"],u);const c=w(t,["muteBass"]);c!=null&&_(e,["muteBass"],c);const d=w(t,["muteDrums"]);d!=null&&_(e,["muteDrums"],d);const f=w(t,["onlyBassAndDrums"]);return f!=null&&_(e,["onlyBassAndDrums"],f),e}function dSe(t){const e={},n=w(t,["musicGenerationConfig"]);return n!=null&&_(e,["musicGenerationConfig"],bee(n)),e}function wee(t){const e={},n=w(t,["model"]);return n!=null&&_(e,["model"],n),e}function _ee(t){const e={},n=w(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vee(i))),_(e,["weightedPrompts"],r)}return e}function ZL(t){const e={},n=w(t,["setup"]);n!=null&&_(e,["setup"],wee(n));const r=w(t,["clientContent"]);r!=null&&_(e,["clientContent"],_ee(r));const i=w(t,["musicGenerationConfig"]);i!=null&&_(e,["musicGenerationConfig"],bee(i));const o=w(t,["playbackControl"]);return o!=null&&_(e,["playbackControl"],o),e}function fSe(){return{}}function hSe(){return{}}function pSe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function gSe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function mSe(t){const e={},n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function ySe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["data"]);r!=null&&_(e,["data"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function vSe(t){const e={},n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function bSe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function wSe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],pSe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],mSe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],vSe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function _Se(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],gSe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],ySe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],bSe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function xSe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wSe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function ESe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_Se(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function X9(t){const e={},n=w(t,["text"]);n!=null&&_(e,["text"],n);const r=w(t,["finished"]);return r!=null&&_(e,["finished"],r),e}function J9(t){const e={},n=w(t,["text"]);n!=null&&_(e,["text"],n);const r=w(t,["finished"]);return r!=null&&_(e,["finished"],r),e}function SSe(t){const e={},n=w(t,["retrievedUrl"]);n!=null&&_(e,["retrievedUrl"],n);const r=w(t,["urlRetrievalStatus"]);return r!=null&&_(e,["urlRetrievalStatus"],r),e}function CSe(t){const e={},n=w(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>SSe(i))),_(e,["urlMetadata"],r)}return e}function TSe(t){const e={},n=w(t,["modelTurn"]);n!=null&&_(e,["modelTurn"],xSe(n));const r=w(t,["turnComplete"]);r!=null&&_(e,["turnComplete"],r);const i=w(t,["interrupted"]);i!=null&&_(e,["interrupted"],i);const o=w(t,["groundingMetadata"]);o!=null&&_(e,["groundingMetadata"],o);const s=w(t,["generationComplete"]);s!=null&&_(e,["generationComplete"],s);const a=w(t,["inputTranscription"]);a!=null&&_(e,["inputTranscription"],X9(a));const l=w(t,["outputTranscription"]);l!=null&&_(e,["outputTranscription"],X9(l));const u=w(t,["urlContextMetadata"]);return u!=null&&_(e,["urlContextMetadata"],CSe(u)),e}function ASe(t){const e={},n=w(t,["modelTurn"]);n!=null&&_(e,["modelTurn"],ESe(n));const r=w(t,["turnComplete"]);r!=null&&_(e,["turnComplete"],r);const i=w(t,["interrupted"]);i!=null&&_(e,["interrupted"],i);const o=w(t,["groundingMetadata"]);o!=null&&_(e,["groundingMetadata"],o);const s=w(t,["generationComplete"]);s!=null&&_(e,["generationComplete"],s);const a=w(t,["inputTranscription"]);a!=null&&_(e,["inputTranscription"],J9(a));const l=w(t,["outputTranscription"]);return l!=null&&_(e,["outputTranscription"],J9(l)),e}function RSe(t){const e={},n=w(t,["id"]);n!=null&&_(e,["id"],n);const r=w(t,["args"]);r!=null&&_(e,["args"],r);const i=w(t,["name"]);return i!=null&&_(e,["name"],i),e}function kSe(t){const e={},n=w(t,["args"]);n!=null&&_(e,["args"],n);const r=w(t,["name"]);return r!=null&&_(e,["name"],r),e}function ISe(t){const e={},n=w(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>RSe(i))),_(e,["functionCalls"],r)}return e}function PSe(t){const e={},n=w(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kSe(i))),_(e,["functionCalls"],r)}return e}function MSe(t){const e={},n=w(t,["ids"]);return n!=null&&_(e,["ids"],n),e}function NSe(t){const e={},n=w(t,["ids"]);return n!=null&&_(e,["ids"],n),e}function QE(t){const e={},n=w(t,["modality"]);n!=null&&_(e,["modality"],n);const r=w(t,["tokenCount"]);return r!=null&&_(e,["tokenCount"],r),e}function ZE(t){const e={},n=w(t,["modality"]);n!=null&&_(e,["modality"],n);const r=w(t,["tokenCount"]);return r!=null&&_(e,["tokenCount"],r),e}function DSe(t){const e={},n=w(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=w(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=w(t,["responseTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const o=w(t,["toolUsePromptTokenCount"]);o!=null&&_(e,["toolUsePromptTokenCount"],o);const s=w(t,["thoughtsTokenCount"]);s!=null&&_(e,["thoughtsTokenCount"],s);const a=w(t,["totalTokenCount"]);a!=null&&_(e,["totalTokenCount"],a);const l=w(t,["promptTokensDetails"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>QE(p))),_(e,["promptTokensDetails"],f)}const u=w(t,["cacheTokensDetails"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>QE(p))),_(e,["cacheTokensDetails"],f)}const c=w(t,["responseTokensDetails"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>QE(p))),_(e,["responseTokensDetails"],f)}const d=w(t,["toolUsePromptTokensDetails"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>QE(p))),_(e,["toolUsePromptTokensDetails"],f)}return e}function LSe(t){const e={},n=w(t,["promptTokenCount"]);n!=null&&_(e,["promptTokenCount"],n);const r=w(t,["cachedContentTokenCount"]);r!=null&&_(e,["cachedContentTokenCount"],r);const i=w(t,["candidatesTokenCount"]);i!=null&&_(e,["responseTokenCount"],i);const o=w(t,["toolUsePromptTokenCount"]);o!=null&&_(e,["toolUsePromptTokenCount"],o);const s=w(t,["thoughtsTokenCount"]);s!=null&&_(e,["thoughtsTokenCount"],s);const a=w(t,["totalTokenCount"]);a!=null&&_(e,["totalTokenCount"],a);const l=w(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>ZE(m))),_(e,["promptTokensDetails"],p)}const u=w(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>ZE(m))),_(e,["cacheTokensDetails"],p)}const c=w(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>ZE(m))),_(e,["responseTokensDetails"],p)}const d=w(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>ZE(m))),_(e,["toolUsePromptTokensDetails"],p)}const f=w(t,["trafficType"]);return f!=null&&_(e,["trafficType"],f),e}function OSe(t){const e={},n=w(t,["timeLeft"]);return n!=null&&_(e,["timeLeft"],n),e}function FSe(t){const e={},n=w(t,["timeLeft"]);return n!=null&&_(e,["timeLeft"],n),e}function $Se(t){const e={},n=w(t,["newHandle"]);n!=null&&_(e,["newHandle"],n);const r=w(t,["resumable"]);r!=null&&_(e,["resumable"],r);const i=w(t,["lastConsumedClientMessageIndex"]);return i!=null&&_(e,["lastConsumedClientMessageIndex"],i),e}function BSe(t){const e={},n=w(t,["newHandle"]);n!=null&&_(e,["newHandle"],n);const r=w(t,["resumable"]);r!=null&&_(e,["resumable"],r);const i=w(t,["lastConsumedClientMessageIndex"]);return i!=null&&_(e,["lastConsumedClientMessageIndex"],i),e}function zSe(t){const e={};w(t,["setupComplete"])!=null&&_(e,["setupComplete"],fSe());const r=w(t,["serverContent"]);r!=null&&_(e,["serverContent"],TSe(r));const i=w(t,["toolCall"]);i!=null&&_(e,["toolCall"],ISe(i));const o=w(t,["toolCallCancellation"]);o!=null&&_(e,["toolCallCancellation"],MSe(o));const s=w(t,["usageMetadata"]);s!=null&&_(e,["usageMetadata"],DSe(s));const a=w(t,["goAway"]);a!=null&&_(e,["goAway"],OSe(a));const l=w(t,["sessionResumptionUpdate"]);return l!=null&&_(e,["sessionResumptionUpdate"],$Se(l)),e}function VSe(t){const e={};w(t,["setupComplete"])!=null&&_(e,["setupComplete"],hSe());const r=w(t,["serverContent"]);r!=null&&_(e,["serverContent"],ASe(r));const i=w(t,["toolCall"]);i!=null&&_(e,["toolCall"],PSe(i));const o=w(t,["toolCallCancellation"]);o!=null&&_(e,["toolCallCancellation"],NSe(o));const s=w(t,["usageMetadata"]);s!=null&&_(e,["usageMetadata"],LSe(s));const a=w(t,["goAway"]);a!=null&&_(e,["goAway"],FSe(a));const l=w(t,["sessionResumptionUpdate"]);return l!=null&&_(e,["sessionResumptionUpdate"],BSe(l)),e}function USe(){return{}}function HSe(t){const e={},n=w(t,["text"]);n!=null&&_(e,["text"],n);const r=w(t,["weight"]);return r!=null&&_(e,["weight"],r),e}function qSe(t){const e={},n=w(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HSe(i))),_(e,["weightedPrompts"],r)}return e}function jSe(t){const e={},n=w(t,["temperature"]);n!=null&&_(e,["temperature"],n);const r=w(t,["topK"]);r!=null&&_(e,["topK"],r);const i=w(t,["seed"]);i!=null&&_(e,["seed"],i);const o=w(t,["guidance"]);o!=null&&_(e,["guidance"],o);const s=w(t,["bpm"]);s!=null&&_(e,["bpm"],s);const a=w(t,["density"]);a!=null&&_(e,["density"],a);const l=w(t,["brightness"]);l!=null&&_(e,["brightness"],l);const u=w(t,["scale"]);u!=null&&_(e,["scale"],u);const c=w(t,["muteBass"]);c!=null&&_(e,["muteBass"],c);const d=w(t,["muteDrums"]);d!=null&&_(e,["muteDrums"],d);const f=w(t,["onlyBassAndDrums"]);return f!=null&&_(e,["onlyBassAndDrums"],f),e}function WSe(t){const e={},n=w(t,["clientContent"]);n!=null&&_(e,["clientContent"],qSe(n));const r=w(t,["musicGenerationConfig"]);return r!=null&&_(e,["musicGenerationConfig"],jSe(r)),e}function GSe(t){const e={},n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);r!=null&&_(e,["mimeType"],r);const i=w(t,["sourceMetadata"]);return i!=null&&_(e,["sourceMetadata"],WSe(i)),e}function KSe(t){const e={},n=w(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GSe(i))),_(e,["audioChunks"],r)}return e}function YSe(t){const e={},n=w(t,["text"]);n!=null&&_(e,["text"],n);const r=w(t,["filteredReason"]);return r!=null&&_(e,["filteredReason"],r),e}function XSe(t){const e={};w(t,["setupComplete"])!=null&&_(e,["setupComplete"],USe());const r=w(t,["serverContent"]);r!=null&&_(e,["serverContent"],KSe(r));const i=w(t,["filteredPrompt"]);return i!=null&&_(e,["filteredPrompt"],YSe(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JSe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function QSe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function ZSe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function eCe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],JSe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],QSe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],ZSe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function nR(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>eCe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function tCe(t){const e={},n=w(t,["anyOf"]);n!=null&&_(e,["anyOf"],n);const r=w(t,["default"]);r!=null&&_(e,["default"],r);const i=w(t,["description"]);i!=null&&_(e,["description"],i);const o=w(t,["enum"]);o!=null&&_(e,["enum"],o);const s=w(t,["example"]);s!=null&&_(e,["example"],s);const a=w(t,["format"]);a!=null&&_(e,["format"],a);const l=w(t,["items"]);l!=null&&_(e,["items"],l);const u=w(t,["maxItems"]);u!=null&&_(e,["maxItems"],u);const c=w(t,["maxLength"]);c!=null&&_(e,["maxLength"],c);const d=w(t,["maxProperties"]);d!=null&&_(e,["maxProperties"],d);const f=w(t,["maximum"]);f!=null&&_(e,["maximum"],f);const p=w(t,["minItems"]);p!=null&&_(e,["minItems"],p);const m=w(t,["minLength"]);m!=null&&_(e,["minLength"],m);const y=w(t,["minProperties"]);y!=null&&_(e,["minProperties"],y);const b=w(t,["minimum"]);b!=null&&_(e,["minimum"],b);const v=w(t,["nullable"]);v!=null&&_(e,["nullable"],v);const E=w(t,["pattern"]);E!=null&&_(e,["pattern"],E);const x=w(t,["properties"]);x!=null&&_(e,["properties"],x);const C=w(t,["propertyOrdering"]);C!=null&&_(e,["propertyOrdering"],C);const k=w(t,["required"]);k!=null&&_(e,["required"],k);const D=w(t,["title"]);D!=null&&_(e,["title"],D);const A=w(t,["type"]);return A!=null&&_(e,["type"],A),e}function nCe(t){const e={};if(w(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=w(t,["category"]);n!=null&&_(e,["category"],n);const r=w(t,["threshold"]);return r!=null&&_(e,["threshold"],r),e}function rCe(t){const e={},n=w(t,["behavior"]);n!=null&&_(e,["behavior"],n);const r=w(t,["description"]);r!=null&&_(e,["description"],r);const i=w(t,["name"]);i!=null&&_(e,["name"],i);const o=w(t,["parameters"]);o!=null&&_(e,["parameters"],o);const s=w(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const a=w(t,["response"]);a!=null&&_(e,["response"],a);const l=w(t,["responseJsonSchema"]);return l!=null&&_(e,["responseJsonSchema"],l),e}function iCe(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function oCe(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],iCe(n)),e}function sCe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function aCe(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],sCe(n)),e}function lCe(){return{}}function uCe(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>rCe(l))),_(e,["functionDeclarations"],a)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["googleSearch"]);r!=null&&_(e,["googleSearch"],oCe(r));const i=w(t,["googleSearchRetrieval"]);if(i!=null&&_(e,["googleSearchRetrieval"],aCe(i)),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");w(t,["urlContext"])!=null&&_(e,["urlContext"],lCe());const s=w(t,["codeExecution"]);return s!=null&&_(e,["codeExecution"],s),e}function cCe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["allowedFunctionNames"]);return r!=null&&_(e,["allowedFunctionNames"],r),e}function dCe(t){const e={},n=w(t,["latitude"]);n!=null&&_(e,["latitude"],n);const r=w(t,["longitude"]);return r!=null&&_(e,["longitude"],r),e}function fCe(t){const e={},n=w(t,["latLng"]);n!=null&&_(e,["latLng"],dCe(n));const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function hCe(t){const e={},n=w(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],cCe(n));const r=w(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],fCe(r)),e}function pCe(t){const e={},n=w(t,["voiceName"]);return n!=null&&_(e,["voiceName"],n),e}function xee(t){const e={},n=w(t,["prebuiltVoiceConfig"]);return n!=null&&_(e,["prebuiltVoiceConfig"],pCe(n)),e}function gCe(t){const e={},n=w(t,["speaker"]);n!=null&&_(e,["speaker"],n);const r=w(t,["voiceConfig"]);return r!=null&&_(e,["voiceConfig"],xee(r)),e}function mCe(t){const e={},n=w(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gCe(i))),_(e,["speakerVoiceConfigs"],r)}return e}function yCe(t){const e={},n=w(t,["voiceConfig"]);n!=null&&_(e,["voiceConfig"],xee(n));const r=w(t,["multiSpeakerVoiceConfig"]);r!=null&&_(e,["multiSpeakerVoiceConfig"],mCe(r));const i=w(t,["languageCode"]);return i!=null&&_(e,["languageCode"],i),e}function vCe(t){const e={},n=w(t,["includeThoughts"]);n!=null&&_(e,["includeThoughts"],n);const r=w(t,["thinkingBudget"]);return r!=null&&_(e,["thinkingBudget"],r),e}function bCe(t,e,n){const r={},i=w(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],nR(Xi(i)));const o=w(e,["temperature"]);o!=null&&_(r,["temperature"],o);const s=w(e,["topP"]);s!=null&&_(r,["topP"],s);const a=w(e,["topK"]);a!=null&&_(r,["topK"],a);const l=w(e,["candidateCount"]);l!=null&&_(r,["candidateCount"],l);const u=w(e,["maxOutputTokens"]);u!=null&&_(r,["maxOutputTokens"],u);const c=w(e,["stopSequences"]);c!=null&&_(r,["stopSequences"],c);const d=w(e,["responseLogprobs"]);d!=null&&_(r,["responseLogprobs"],d);const f=w(e,["logprobs"]);f!=null&&_(r,["logprobs"],f);const p=w(e,["presencePenalty"]);p!=null&&_(r,["presencePenalty"],p);const m=w(e,["frequencyPenalty"]);m!=null&&_(r,["frequencyPenalty"],m);const y=w(e,["seed"]);y!=null&&_(r,["seed"],y);const b=w(e,["responseMimeType"]);b!=null&&_(r,["responseMimeType"],b);const v=w(e,["responseSchema"]);v!=null&&_(r,["responseSchema"],tCe(jw(v)));const E=w(e,["responseJsonSchema"]);if(E!=null&&_(r,["responseJsonSchema"],E),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=w(e,["safetySettings"]);if(n!==void 0&&x!=null){let O=x;Array.isArray(O)&&(O=O.map(F=>nCe(F))),_(n,["safetySettings"],O)}const C=w(e,["tools"]);if(n!==void 0&&C!=null){let O=Qv(C);Array.isArray(O)&&(O=O.map(F=>uCe(Jv(F)))),_(n,["tools"],O)}const k=w(e,["toolConfig"]);if(n!==void 0&&k!=null&&_(n,["toolConfig"],hCe(k)),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=w(e,["cachedContent"]);n!==void 0&&D!=null&&_(n,["cachedContent"],Jc(t,D));const A=w(e,["responseModalities"]);A!=null&&_(r,["responseModalities"],A);const P=w(e,["mediaResolution"]);P!=null&&_(r,["mediaResolution"],P);const M=w(e,["speechConfig"]);if(M!=null&&_(r,["speechConfig"],yCe(A3(M))),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=w(e,["thinkingConfig"]);return I!=null&&_(r,["thinkingConfig"],vCe(I)),r}function Q9(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);if(i!=null){let s=na(i);Array.isArray(s)&&(s=s.map(a=>nR(a))),_(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&_(n,["generationConfig"],bCe(t,o,n)),n}function wCe(t,e){const n={},r=w(t,["taskType"]);e!==void 0&&r!=null&&_(e,["requests[]","taskType"],r);const i=w(t,["title"]);e!==void 0&&i!=null&&_(e,["requests[]","title"],i);const o=w(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&_(e,["requests[]","outputDimensionality"],o),w(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function _Ce(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);i!=null&&_(n,["requests[]","content"],aee(t,i));const o=w(e,["config"]);o!=null&&_(n,["config"],wCe(o,n));const s=w(e,["model"]);return s!==void 0&&_(n,["requests[]","model"],Bn(t,s)),n}function xCe(t,e){const n={};if(w(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=w(t,["numberOfImages"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=w(t,["aspectRatio"]);e!==void 0&&i!=null&&_(e,["parameters","aspectRatio"],i);const o=w(t,["guidanceScale"]);if(e!==void 0&&o!=null&&_(e,["parameters","guidanceScale"],o),w(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=w(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&_(e,["parameters","safetySetting"],s);const a=w(t,["personGeneration"]);e!==void 0&&a!=null&&_(e,["parameters","personGeneration"],a);const l=w(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&_(e,["parameters","includeSafetyAttributes"],l);const u=w(t,["includeRaiReason"]);e!==void 0&&u!=null&&_(e,["parameters","includeRaiReason"],u);const c=w(t,["language"]);e!==void 0&&c!=null&&_(e,["parameters","language"],c);const d=w(t,["outputMimeType"]);e!==void 0&&d!=null&&_(e,["parameters","outputOptions","mimeType"],d);const f=w(t,["outputCompressionQuality"]);if(e!==void 0&&f!=null&&_(e,["parameters","outputOptions","compressionQuality"],f),w(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(w(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function ECe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=w(e,["config"]);return o!=null&&_(n,["config"],xCe(o,n)),n}function SCe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","name"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function CCe(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const o=w(e,["pageToken"]);n!==void 0&&o!=null&&_(n,["_query","pageToken"],o);const s=w(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const a=w(e,["queryBase"]);return n!==void 0&&a!=null&&_(n,["_url","models_url"],cee(t,a)),r}function TCe(t,e){const n={},r=w(e,["config"]);return r!=null&&_(n,["config"],CCe(t,r,n)),n}function ACe(t,e){const n={},r=w(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=w(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const o=w(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&_(e,["defaultCheckpointId"],o),n}function RCe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","name"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],ACe(i,n)),n}function kCe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","name"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function ICe(t){const e={};if(w(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(w(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(w(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function PCe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);if(i!=null){let s=na(i);Array.isArray(s)&&(s=s.map(a=>nR(a))),_(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&_(n,["config"],ICe(o)),n}function MCe(t){const e={};if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=w(t,["imageBytes"]);n!=null&&_(e,["bytesBase64Encoded"],Qc(n));const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function NCe(t,e){const n={},r=w(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r),w(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=w(t,["durationSeconds"]);if(e!==void 0&&i!=null&&_(e,["parameters","durationSeconds"],i),w(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=w(t,["aspectRatio"]);if(e!==void 0&&o!=null&&_(e,["parameters","aspectRatio"],o),w(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=w(t,["personGeneration"]);if(e!==void 0&&s!=null&&_(e,["parameters","personGeneration"],s),w(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=w(t,["negativePrompt"]);e!==void 0&&a!=null&&_(e,["parameters","negativePrompt"],a);const l=w(t,["enhancePrompt"]);if(e!==void 0&&l!=null&&_(e,["parameters","enhancePrompt"],l),w(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(w(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(w(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function DCe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=w(e,["image"]);if(o!=null&&_(n,["instances[0]","image"],MCe(o)),w(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=w(e,["config"]);return s!=null&&_(n,["config"],NCe(s,n)),n}function LCe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function OCe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["data"]);r!=null&&_(e,["data"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function FCe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function $Ce(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],LCe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],OCe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],FCe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function Zv(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$Ce(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function BCe(t){const e={},n=w(t,["anyOf"]);n!=null&&_(e,["anyOf"],n);const r=w(t,["default"]);r!=null&&_(e,["default"],r);const i=w(t,["description"]);i!=null&&_(e,["description"],i);const o=w(t,["enum"]);o!=null&&_(e,["enum"],o);const s=w(t,["example"]);s!=null&&_(e,["example"],s);const a=w(t,["format"]);a!=null&&_(e,["format"],a);const l=w(t,["items"]);l!=null&&_(e,["items"],l);const u=w(t,["maxItems"]);u!=null&&_(e,["maxItems"],u);const c=w(t,["maxLength"]);c!=null&&_(e,["maxLength"],c);const d=w(t,["maxProperties"]);d!=null&&_(e,["maxProperties"],d);const f=w(t,["maximum"]);f!=null&&_(e,["maximum"],f);const p=w(t,["minItems"]);p!=null&&_(e,["minItems"],p);const m=w(t,["minLength"]);m!=null&&_(e,["minLength"],m);const y=w(t,["minProperties"]);y!=null&&_(e,["minProperties"],y);const b=w(t,["minimum"]);b!=null&&_(e,["minimum"],b);const v=w(t,["nullable"]);v!=null&&_(e,["nullable"],v);const E=w(t,["pattern"]);E!=null&&_(e,["pattern"],E);const x=w(t,["properties"]);x!=null&&_(e,["properties"],x);const C=w(t,["propertyOrdering"]);C!=null&&_(e,["propertyOrdering"],C);const k=w(t,["required"]);k!=null&&_(e,["required"],k);const D=w(t,["title"]);D!=null&&_(e,["title"],D);const A=w(t,["type"]);return A!=null&&_(e,["type"],A),e}function zCe(t){const e={},n=w(t,["featureSelectionPreference"]);return n!=null&&_(e,["featureSelectionPreference"],n),e}function VCe(t){const e={},n=w(t,["method"]);n!=null&&_(e,["method"],n);const r=w(t,["category"]);r!=null&&_(e,["category"],r);const i=w(t,["threshold"]);return i!=null&&_(e,["threshold"],i),e}function UCe(t){const e={};if(w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=w(t,["description"]);n!=null&&_(e,["description"],n);const r=w(t,["name"]);r!=null&&_(e,["name"],r);const i=w(t,["parameters"]);i!=null&&_(e,["parameters"],i);const o=w(t,["parametersJsonSchema"]);o!=null&&_(e,["parametersJsonSchema"],o);const s=w(t,["response"]);s!=null&&_(e,["response"],s);const a=w(t,["responseJsonSchema"]);return a!=null&&_(e,["responseJsonSchema"],a),e}function HCe(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function qCe(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],HCe(n)),e}function jCe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function WCe(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],jCe(n)),e}function GCe(){return{}}function KCe(t){const e={},n=w(t,["apiKeyString"]);return n!=null&&_(e,["apiKeyString"],n),e}function YCe(t){const e={},n=w(t,["apiKeyConfig"]);n!=null&&_(e,["apiKeyConfig"],KCe(n));const r=w(t,["authType"]);r!=null&&_(e,["authType"],r);const i=w(t,["googleServiceAccountConfig"]);i!=null&&_(e,["googleServiceAccountConfig"],i);const o=w(t,["httpBasicAuthConfig"]);o!=null&&_(e,["httpBasicAuthConfig"],o);const s=w(t,["oauthConfig"]);s!=null&&_(e,["oauthConfig"],s);const a=w(t,["oidcConfig"]);return a!=null&&_(e,["oidcConfig"],a),e}function XCe(t){const e={},n=w(t,["authConfig"]);return n!=null&&_(e,["authConfig"],YCe(n)),e}function JCe(){return{}}function Eee(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>UCe(d))),_(e,["functionDeclarations"],c)}const r=w(t,["retrieval"]);r!=null&&_(e,["retrieval"],r);const i=w(t,["googleSearch"]);i!=null&&_(e,["googleSearch"],qCe(i));const o=w(t,["googleSearchRetrieval"]);o!=null&&_(e,["googleSearchRetrieval"],WCe(o)),w(t,["enterpriseWebSearch"])!=null&&_(e,["enterpriseWebSearch"],GCe());const a=w(t,["googleMaps"]);a!=null&&_(e,["googleMaps"],XCe(a)),w(t,["urlContext"])!=null&&_(e,["urlContext"],JCe());const u=w(t,["codeExecution"]);return u!=null&&_(e,["codeExecution"],u),e}function QCe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["allowedFunctionNames"]);return r!=null&&_(e,["allowedFunctionNames"],r),e}function ZCe(t){const e={},n=w(t,["latitude"]);n!=null&&_(e,["latitude"],n);const r=w(t,["longitude"]);return r!=null&&_(e,["longitude"],r),e}function eTe(t){const e={},n=w(t,["latLng"]);n!=null&&_(e,["latLng"],ZCe(n));const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function tTe(t){const e={},n=w(t,["functionCallingConfig"]);n!=null&&_(e,["functionCallingConfig"],QCe(n));const r=w(t,["retrievalConfig"]);return r!=null&&_(e,["retrievalConfig"],eTe(r)),e}function nTe(t){const e={},n=w(t,["voiceName"]);return n!=null&&_(e,["voiceName"],n),e}function rTe(t){const e={},n=w(t,["prebuiltVoiceConfig"]);return n!=null&&_(e,["prebuiltVoiceConfig"],nTe(n)),e}function iTe(t){const e={},n=w(t,["voiceConfig"]);if(n!=null&&_(e,["voiceConfig"],rTe(n)),w(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=w(t,["languageCode"]);return r!=null&&_(e,["languageCode"],r),e}function oTe(t){const e={},n=w(t,["includeThoughts"]);n!=null&&_(e,["includeThoughts"],n);const r=w(t,["thinkingBudget"]);return r!=null&&_(e,["thinkingBudget"],r),e}function sTe(t,e,n){const r={},i=w(e,["systemInstruction"]);n!==void 0&&i!=null&&_(n,["systemInstruction"],Zv(Xi(i)));const o=w(e,["temperature"]);o!=null&&_(r,["temperature"],o);const s=w(e,["topP"]);s!=null&&_(r,["topP"],s);const a=w(e,["topK"]);a!=null&&_(r,["topK"],a);const l=w(e,["candidateCount"]);l!=null&&_(r,["candidateCount"],l);const u=w(e,["maxOutputTokens"]);u!=null&&_(r,["maxOutputTokens"],u);const c=w(e,["stopSequences"]);c!=null&&_(r,["stopSequences"],c);const d=w(e,["responseLogprobs"]);d!=null&&_(r,["responseLogprobs"],d);const f=w(e,["logprobs"]);f!=null&&_(r,["logprobs"],f);const p=w(e,["presencePenalty"]);p!=null&&_(r,["presencePenalty"],p);const m=w(e,["frequencyPenalty"]);m!=null&&_(r,["frequencyPenalty"],m);const y=w(e,["seed"]);y!=null&&_(r,["seed"],y);const b=w(e,["responseMimeType"]);b!=null&&_(r,["responseMimeType"],b);const v=w(e,["responseSchema"]);v!=null&&_(r,["responseSchema"],BCe(jw(v)));const E=w(e,["responseJsonSchema"]);E!=null&&_(r,["responseJsonSchema"],E);const x=w(e,["routingConfig"]);x!=null&&_(r,["routingConfig"],x);const C=w(e,["modelSelectionConfig"]);C!=null&&_(r,["modelConfig"],zCe(C));const k=w(e,["safetySettings"]);if(n!==void 0&&k!=null){let q=k;Array.isArray(q)&&(q=q.map(K=>VCe(K))),_(n,["safetySettings"],q)}const D=w(e,["tools"]);if(n!==void 0&&D!=null){let q=Qv(D);Array.isArray(q)&&(q=q.map(K=>Eee(Jv(K)))),_(n,["tools"],q)}const A=w(e,["toolConfig"]);n!==void 0&&A!=null&&_(n,["toolConfig"],tTe(A));const P=w(e,["labels"]);n!==void 0&&P!=null&&_(n,["labels"],P);const M=w(e,["cachedContent"]);n!==void 0&&M!=null&&_(n,["cachedContent"],Jc(t,M));const I=w(e,["responseModalities"]);I!=null&&_(r,["responseModalities"],I);const O=w(e,["mediaResolution"]);O!=null&&_(r,["mediaResolution"],O);const F=w(e,["speechConfig"]);F!=null&&_(r,["speechConfig"],iTe(A3(F)));const $=w(e,["audioTimestamp"]);$!=null&&_(r,["audioTimestamp"],$);const L=w(e,["thinkingConfig"]);return L!=null&&_(r,["thinkingConfig"],oTe(L)),r}function Z9(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);if(i!=null){let s=na(i);Array.isArray(s)&&(s=s.map(a=>Zv(a))),_(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&_(n,["generationConfig"],sTe(t,o,n)),n}function aTe(t,e){const n={},r=w(t,["taskType"]);e!==void 0&&r!=null&&_(e,["instances[]","task_type"],r);const i=w(t,["title"]);e!==void 0&&i!=null&&_(e,["instances[]","title"],i);const o=w(t,["outputDimensionality"]);e!==void 0&&o!=null&&_(e,["parameters","outputDimensionality"],o);const s=w(t,["mimeType"]);e!==void 0&&s!=null&&_(e,["instances[]","mimeType"],s);const a=w(t,["autoTruncate"]);return e!==void 0&&a!=null&&_(e,["parameters","autoTruncate"],a),n}function lTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);i!=null&&_(n,["instances[]","content"],aee(t,i));const o=w(e,["config"]);return o!=null&&_(n,["config"],aTe(o,n)),n}function uTe(t,e){const n={},r=w(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=w(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const o=w(t,["numberOfImages"]);e!==void 0&&o!=null&&_(e,["parameters","sampleCount"],o);const s=w(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const a=w(t,["guidanceScale"]);e!==void 0&&a!=null&&_(e,["parameters","guidanceScale"],a);const l=w(t,["seed"]);e!==void 0&&l!=null&&_(e,["parameters","seed"],l);const u=w(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&_(e,["parameters","safetySetting"],u);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const d=w(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&_(e,["parameters","includeSafetyAttributes"],d);const f=w(t,["includeRaiReason"]);e!==void 0&&f!=null&&_(e,["parameters","includeRaiReason"],f);const p=w(t,["language"]);e!==void 0&&p!=null&&_(e,["parameters","language"],p);const m=w(t,["outputMimeType"]);e!==void 0&&m!=null&&_(e,["parameters","outputOptions","mimeType"],m);const y=w(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&_(e,["parameters","outputOptions","compressionQuality"],y);const b=w(t,["addWatermark"]);e!==void 0&&b!=null&&_(e,["parameters","addWatermark"],b);const v=w(t,["enhancePrompt"]);return e!==void 0&&v!=null&&_(e,["parameters","enhancePrompt"],v),n}function cTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=w(e,["config"]);return o!=null&&_(n,["config"],uTe(o,n)),n}function rR(t){const e={},n=w(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=w(t,["imageBytes"]);r!=null&&_(e,["bytesBase64Encoded"],Qc(r));const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function dTe(t){const e={},n=w(t,["maskMode"]);n!=null&&_(e,["maskMode"],n);const r=w(t,["segmentationClasses"]);r!=null&&_(e,["maskClasses"],r);const i=w(t,["maskDilation"]);return i!=null&&_(e,["dilation"],i),e}function fTe(t){const e={},n=w(t,["controlType"]);n!=null&&_(e,["controlType"],n);const r=w(t,["enableControlImageComputation"]);return r!=null&&_(e,["computeControl"],r),e}function hTe(t){const e={},n=w(t,["styleDescription"]);return n!=null&&_(e,["styleDescription"],n),e}function pTe(t){const e={},n=w(t,["subjectType"]);n!=null&&_(e,["subjectType"],n);const r=w(t,["subjectDescription"]);return r!=null&&_(e,["subjectDescription"],r),e}function gTe(t){const e={},n=w(t,["referenceImage"]);n!=null&&_(e,["referenceImage"],rR(n));const r=w(t,["referenceId"]);r!=null&&_(e,["referenceId"],r);const i=w(t,["referenceType"]);i!=null&&_(e,["referenceType"],i);const o=w(t,["maskImageConfig"]);o!=null&&_(e,["maskImageConfig"],dTe(o));const s=w(t,["controlImageConfig"]);s!=null&&_(e,["controlImageConfig"],fTe(s));const a=w(t,["styleImageConfig"]);a!=null&&_(e,["styleImageConfig"],hTe(a));const l=w(t,["subjectImageConfig"]);return l!=null&&_(e,["subjectImageConfig"],pTe(l)),e}function mTe(t,e){const n={},r=w(t,["outputGcsUri"]);e!==void 0&&r!=null&&_(e,["parameters","storageUri"],r);const i=w(t,["negativePrompt"]);e!==void 0&&i!=null&&_(e,["parameters","negativePrompt"],i);const o=w(t,["numberOfImages"]);e!==void 0&&o!=null&&_(e,["parameters","sampleCount"],o);const s=w(t,["aspectRatio"]);e!==void 0&&s!=null&&_(e,["parameters","aspectRatio"],s);const a=w(t,["guidanceScale"]);e!==void 0&&a!=null&&_(e,["parameters","guidanceScale"],a);const l=w(t,["seed"]);e!==void 0&&l!=null&&_(e,["parameters","seed"],l);const u=w(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&_(e,["parameters","safetySetting"],u);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const d=w(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&_(e,["parameters","includeSafetyAttributes"],d);const f=w(t,["includeRaiReason"]);e!==void 0&&f!=null&&_(e,["parameters","includeRaiReason"],f);const p=w(t,["language"]);e!==void 0&&p!=null&&_(e,["parameters","language"],p);const m=w(t,["outputMimeType"]);e!==void 0&&m!=null&&_(e,["parameters","outputOptions","mimeType"],m);const y=w(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&_(e,["parameters","outputOptions","compressionQuality"],y);const b=w(t,["editMode"]);e!==void 0&&b!=null&&_(e,["parameters","editMode"],b);const v=w(t,["baseSteps"]);return e!==void 0&&v!=null&&_(e,["parameters","editConfig","baseSteps"],v),n}function yTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=w(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>gTe(l))),_(n,["instances[0]","referenceImages"],a)}const s=w(e,["config"]);return s!=null&&_(n,["config"],mTe(s,n)),n}function vTe(t,e){const n={},r=w(t,["includeRaiReason"]);e!==void 0&&r!=null&&_(e,["parameters","includeRaiReason"],r);const i=w(t,["outputMimeType"]);e!==void 0&&i!=null&&_(e,["parameters","outputOptions","mimeType"],i);const o=w(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&_(e,["parameters","outputOptions","compressionQuality"],o);const s=w(t,["enhanceInputImage"]);e!==void 0&&s!=null&&_(e,["parameters","upscaleConfig","enhanceInputImage"],s);const a=w(t,["imagePreservationFactor"]);e!==void 0&&a!=null&&_(e,["parameters","upscaleConfig","imagePreservationFactor"],a);const l=w(t,["numberOfImages"]);e!==void 0&&l!=null&&_(e,["parameters","sampleCount"],l);const u=w(t,["mode"]);return e!==void 0&&u!=null&&_(e,["parameters","mode"],u),n}function bTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["image"]);i!=null&&_(n,["instances[0]","image"],rR(i));const o=w(e,["upscaleFactor"]);o!=null&&_(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=w(e,["config"]);return s!=null&&_(n,["config"],vTe(s,n)),n}function wTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","name"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function _Te(t,e,n){const r={},i=w(e,["pageSize"]);n!==void 0&&i!=null&&_(n,["_query","pageSize"],i);const o=w(e,["pageToken"]);n!==void 0&&o!=null&&_(n,["_query","pageToken"],o);const s=w(e,["filter"]);n!==void 0&&s!=null&&_(n,["_query","filter"],s);const a=w(e,["queryBase"]);return n!==void 0&&a!=null&&_(n,["_url","models_url"],cee(t,a)),r}function xTe(t,e){const n={},r=w(e,["config"]);return r!=null&&_(n,["config"],_Te(t,r,n)),n}function ETe(t,e){const n={},r=w(t,["displayName"]);e!==void 0&&r!=null&&_(e,["displayName"],r);const i=w(t,["description"]);e!==void 0&&i!=null&&_(e,["description"],i);const o=w(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&_(e,["defaultCheckpointId"],o),n}function STe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],ETe(i,n)),n}function CTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","name"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],i),n}function TTe(t,e){const n={},r=w(t,["systemInstruction"]);e!==void 0&&r!=null&&_(e,["systemInstruction"],Zv(Xi(r)));const i=w(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Eee(a))),_(e,["tools"],s)}const o=w(t,["generationConfig"]);return e!==void 0&&o!=null&&_(e,["generationConfig"],o),n}function ATe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);if(i!=null){let s=na(i);Array.isArray(s)&&(s=s.map(a=>Zv(a))),_(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&_(n,["config"],TTe(o,n)),n}function RTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["contents"]);if(i!=null){let s=na(i);Array.isArray(s)&&(s=s.map(a=>Zv(a))),_(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&_(n,["config"],o),n}function kTe(t){const e={},n=w(t,["uri"]);n!=null&&_(e,["gcsUri"],n);const r=w(t,["videoBytes"]);r!=null&&_(e,["bytesBase64Encoded"],Qc(r));const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function ITe(t,e){const n={},r=w(t,["numberOfVideos"]);e!==void 0&&r!=null&&_(e,["parameters","sampleCount"],r);const i=w(t,["outputGcsUri"]);e!==void 0&&i!=null&&_(e,["parameters","storageUri"],i);const o=w(t,["fps"]);e!==void 0&&o!=null&&_(e,["parameters","fps"],o);const s=w(t,["durationSeconds"]);e!==void 0&&s!=null&&_(e,["parameters","durationSeconds"],s);const a=w(t,["seed"]);e!==void 0&&a!=null&&_(e,["parameters","seed"],a);const l=w(t,["aspectRatio"]);e!==void 0&&l!=null&&_(e,["parameters","aspectRatio"],l);const u=w(t,["resolution"]);e!==void 0&&u!=null&&_(e,["parameters","resolution"],u);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&_(e,["parameters","personGeneration"],c);const d=w(t,["pubsubTopic"]);e!==void 0&&d!=null&&_(e,["parameters","pubsubTopic"],d);const f=w(t,["negativePrompt"]);e!==void 0&&f!=null&&_(e,["parameters","negativePrompt"],f);const p=w(t,["enhancePrompt"]);e!==void 0&&p!=null&&_(e,["parameters","enhancePrompt"],p);const m=w(t,["generateAudio"]);e!==void 0&&m!=null&&_(e,["parameters","generateAudio"],m);const y=w(t,["lastFrame"]);e!==void 0&&y!=null&&_(e,["instances[0]","lastFrame"],rR(y));const b=w(t,["compressionQuality"]);return e!==void 0&&b!=null&&_(e,["parameters","compressionQuality"],b),n}function PTe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["_url","model"],Bn(t,r));const i=w(e,["prompt"]);i!=null&&_(n,["instances[0]","prompt"],i);const o=w(e,["image"]);o!=null&&_(n,["instances[0]","image"],rR(o));const s=w(e,["video"]);s!=null&&_(n,["instances[0]","video"],kTe(s));const a=w(e,["config"]);return a!=null&&_(n,["config"],ITe(a,n)),n}function MTe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function NTe(t){const e={},n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function DTe(t){const e={},n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function LTe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],MTe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],NTe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],DTe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function OTe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LTe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function FTe(t){const e={},n=w(t,["citationSources"]);return n!=null&&_(e,["citations"],n),e}function $Te(t){const e={},n=w(t,["retrievedUrl"]);n!=null&&_(e,["retrievedUrl"],n);const r=w(t,["urlRetrievalStatus"]);return r!=null&&_(e,["urlRetrievalStatus"],r),e}function BTe(t){const e={},n=w(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$Te(i))),_(e,["urlMetadata"],r)}return e}function zTe(t){const e={},n=w(t,["content"]);n!=null&&_(e,["content"],OTe(n));const r=w(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],FTe(r));const i=w(t,["tokenCount"]);i!=null&&_(e,["tokenCount"],i);const o=w(t,["finishReason"]);o!=null&&_(e,["finishReason"],o);const s=w(t,["urlContextMetadata"]);s!=null&&_(e,["urlContextMetadata"],BTe(s));const a=w(t,["avgLogprobs"]);a!=null&&_(e,["avgLogprobs"],a);const l=w(t,["groundingMetadata"]);l!=null&&_(e,["groundingMetadata"],l);const u=w(t,["index"]);u!=null&&_(e,["index"],u);const c=w(t,["logprobsResult"]);c!=null&&_(e,["logprobsResult"],c);const d=w(t,["safetyRatings"]);return d!=null&&_(e,["safetyRatings"],d),e}function eH(t){const e={},n=w(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zTe(a))),_(e,["candidates"],s)}const r=w(t,["modelVersion"]);r!=null&&_(e,["modelVersion"],r);const i=w(t,["promptFeedback"]);i!=null&&_(e,["promptFeedback"],i);const o=w(t,["usageMetadata"]);return o!=null&&_(e,["usageMetadata"],o),e}function VTe(t){const e={},n=w(t,["values"]);return n!=null&&_(e,["values"],n),e}function UTe(){return{}}function HTe(t){const e={},n=w(t,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>VTe(o))),_(e,["embeddings"],i)}return w(t,["metadata"])!=null&&_(e,["metadata"],UTe()),e}function qTe(t){const e={},n=w(t,["bytesBase64Encoded"]);n!=null&&_(e,["imageBytes"],Qc(n));const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function See(t){const e={},n=w(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=w(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=w(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function jTe(t){const e={},n=w(t,["_self"]);n!=null&&_(e,["image"],qTe(n));const r=w(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=w(t,["_self"]);return i!=null&&_(e,["safetyAttributes"],See(i)),e}function WTe(t){const e={},n=w(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jTe(o))),_(e,["generatedImages"],i)}const r=w(t,["positivePromptSafetyAttributes"]);return r!=null&&_(e,["positivePromptSafetyAttributes"],See(r)),e}function GTe(t){const e={},n=w(t,["baseModel"]);n!=null&&_(e,["baseModel"],n);const r=w(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=w(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function eO(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["description"]);i!=null&&_(e,["description"],i);const o=w(t,["version"]);o!=null&&_(e,["version"],o);const s=w(t,["_self"]);s!=null&&_(e,["tunedModelInfo"],GTe(s));const a=w(t,["inputTokenLimit"]);a!=null&&_(e,["inputTokenLimit"],a);const l=w(t,["outputTokenLimit"]);l!=null&&_(e,["outputTokenLimit"],l);const u=w(t,["supportedGenerationMethods"]);return u!=null&&_(e,["supportedActions"],u),e}function KTe(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&_(n,["nextPageToken"],r);const i=w(e,["_self"]);if(i!=null){let o=dee(i);Array.isArray(o)&&(o=o.map(s=>eO(s))),_(n,["models"],o)}return n}function YTe(){return{}}function XTe(t){const e={},n=w(t,["totalTokens"]);n!=null&&_(e,["totalTokens"],n);const r=w(t,["cachedContentTokenCount"]);return r!=null&&_(e,["cachedContentTokenCount"],r),e}function JTe(t){const e={},n=w(t,["video","uri"]);n!=null&&_(e,["uri"],n);const r=w(t,["video","encodedVideo"]);r!=null&&_(e,["videoBytes"],Qc(r));const i=w(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function QTe(t){const e={},n=w(t,["_self"]);return n!=null&&_(e,["video"],JTe(n)),e}function ZTe(t){const e={},n=w(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>QTe(s))),_(e,["generatedVideos"],o)}const r=w(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function eAe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=w(t,["done"]);i!=null&&_(e,["done"],i);const o=w(t,["error"]);o!=null&&_(e,["error"],o);const s=w(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],ZTe(s)),e}function tAe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function nAe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["data"]);r!=null&&_(e,["data"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function rAe(t){const e={},n=w(t,["displayName"]);n!=null&&_(e,["displayName"],n);const r=w(t,["fileUri"]);r!=null&&_(e,["fileUri"],r);const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function iAe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],tAe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],nAe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],rAe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function oAe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iAe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function sAe(t){const e={},n=w(t,["citations"]);return n!=null&&_(e,["citations"],n),e}function aAe(t){const e={},n=w(t,["retrievedUrl"]);n!=null&&_(e,["retrievedUrl"],n);const r=w(t,["urlRetrievalStatus"]);return r!=null&&_(e,["urlRetrievalStatus"],r),e}function lAe(t){const e={},n=w(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aAe(i))),_(e,["urlMetadata"],r)}return e}function uAe(t){const e={},n=w(t,["content"]);n!=null&&_(e,["content"],oAe(n));const r=w(t,["citationMetadata"]);r!=null&&_(e,["citationMetadata"],sAe(r));const i=w(t,["finishMessage"]);i!=null&&_(e,["finishMessage"],i);const o=w(t,["finishReason"]);o!=null&&_(e,["finishReason"],o);const s=w(t,["urlContextMetadata"]);s!=null&&_(e,["urlContextMetadata"],lAe(s));const a=w(t,["avgLogprobs"]);a!=null&&_(e,["avgLogprobs"],a);const l=w(t,["groundingMetadata"]);l!=null&&_(e,["groundingMetadata"],l);const u=w(t,["index"]);u!=null&&_(e,["index"],u);const c=w(t,["logprobsResult"]);c!=null&&_(e,["logprobsResult"],c);const d=w(t,["safetyRatings"]);return d!=null&&_(e,["safetyRatings"],d),e}function tH(t){const e={},n=w(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>uAe(u))),_(e,["candidates"],l)}const r=w(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=w(t,["responseId"]);i!=null&&_(e,["responseId"],i);const o=w(t,["modelVersion"]);o!=null&&_(e,["modelVersion"],o);const s=w(t,["promptFeedback"]);s!=null&&_(e,["promptFeedback"],s);const a=w(t,["usageMetadata"]);return a!=null&&_(e,["usageMetadata"],a),e}function cAe(t){const e={},n=w(t,["truncated"]);n!=null&&_(e,["truncated"],n);const r=w(t,["token_count"]);return r!=null&&_(e,["tokenCount"],r),e}function dAe(t){const e={},n=w(t,["values"]);n!=null&&_(e,["values"],n);const r=w(t,["statistics"]);return r!=null&&_(e,["statistics"],cAe(r)),e}function fAe(t){const e={},n=w(t,["billableCharacterCount"]);return n!=null&&_(e,["billableCharacterCount"],n),e}function hAe(t){const e={},n=w(t,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dAe(o))),_(e,["embeddings"],i)}const r=w(t,["metadata"]);return r!=null&&_(e,["metadata"],fAe(r)),e}function pAe(t){const e={},n=w(t,["gcsUri"]);n!=null&&_(e,["gcsUri"],n);const r=w(t,["bytesBase64Encoded"]);r!=null&&_(e,["imageBytes"],Qc(r));const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function Cee(t){const e={},n=w(t,["safetyAttributes","categories"]);n!=null&&_(e,["categories"],n);const r=w(t,["safetyAttributes","scores"]);r!=null&&_(e,["scores"],r);const i=w(t,["contentType"]);return i!=null&&_(e,["contentType"],i),e}function k3(t){const e={},n=w(t,["_self"]);n!=null&&_(e,["image"],pAe(n));const r=w(t,["raiFilteredReason"]);r!=null&&_(e,["raiFilteredReason"],r);const i=w(t,["_self"]);i!=null&&_(e,["safetyAttributes"],Cee(i));const o=w(t,["prompt"]);return o!=null&&_(e,["enhancedPrompt"],o),e}function gAe(t){const e={},n=w(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>k3(o))),_(e,["generatedImages"],i)}const r=w(t,["positivePromptSafetyAttributes"]);return r!=null&&_(e,["positivePromptSafetyAttributes"],Cee(r)),e}function mAe(t){const e={},n=w(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>k3(i))),_(e,["generatedImages"],r)}return e}function yAe(t){const e={},n=w(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>k3(i))),_(e,["generatedImages"],r)}return e}function vAe(t){const e={},n=w(t,["endpoint"]);n!=null&&_(e,["name"],n);const r=w(t,["deployedModelId"]);return r!=null&&_(e,["deployedModelId"],r),e}function bAe(t){const e={},n=w(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&_(e,["baseModel"],n);const r=w(t,["createTime"]);r!=null&&_(e,["createTime"],r);const i=w(t,["updateTime"]);return i!=null&&_(e,["updateTime"],i),e}function wAe(t){const e={},n=w(t,["checkpointId"]);n!=null&&_(e,["checkpointId"],n);const r=w(t,["epoch"]);r!=null&&_(e,["epoch"],r);const i=w(t,["step"]);return i!=null&&_(e,["step"],i),e}function tO(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["displayName"]);r!=null&&_(e,["displayName"],r);const i=w(t,["description"]);i!=null&&_(e,["description"],i);const o=w(t,["versionId"]);o!=null&&_(e,["version"],o);const s=w(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>vAe(f))),_(e,["endpoints"],d)}const a=w(t,["labels"]);a!=null&&_(e,["labels"],a);const l=w(t,["_self"]);l!=null&&_(e,["tunedModelInfo"],bAe(l));const u=w(t,["defaultCheckpointId"]);u!=null&&_(e,["defaultCheckpointId"],u);const c=w(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>wAe(f))),_(e,["checkpoints"],d)}return e}function _Ae(t,e){const n={},r=w(e,["nextPageToken"]);r!=null&&_(n,["nextPageToken"],r);const i=w(e,["_self"]);if(i!=null){let o=dee(i);Array.isArray(o)&&(o=o.map(s=>tO(s))),_(n,["models"],o)}return n}function xAe(){return{}}function EAe(t){const e={},n=w(t,["totalTokens"]);return n!=null&&_(e,["totalTokens"],n),e}function SAe(t){const e={},n=w(t,["tokensInfo"]);return n!=null&&_(e,["tokensInfo"],n),e}function CAe(t){const e={},n=w(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=w(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],Qc(r));const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function TAe(t){const e={},n=w(t,["_self"]);return n!=null&&_(e,["video"],CAe(n)),e}function AAe(t){const e={},n=w(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>TAe(s))),_(e,["generatedVideos"],o)}const r=w(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function RAe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=w(t,["done"]);i!=null&&_(e,["done"],i);const o=w(t,["error"]);o!=null&&_(e,["error"],o);const s=w(t,["response"]);return s!=null&&_(e,["response"],AAe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kAe="Content-Type",IAe="X-Server-Timeout",PAe="User-Agent",nO="x-goog-api-client",MAe="1.7.0",NAe=`google-genai-sdk/${MAe}`,DAe="v1beta1",LAe="v1beta",nH=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class OAe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:DAe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:LAe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&FAe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await rH(i),new KL(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await rH(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ly(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield rr(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l);try{const d=JSON.parse(u);if("error"in d){const f=JSON.parse(JSON.stringify(d.error)),p=f.status,m=f.code,y=`got status: ${p}. ${JSON.stringify(d)}`;if(m>=400&&m<600)throw new tR({message:y,status:m})}}catch(d){if(d.name==="ApiError")throw d}s+=u;let c=s.match(nH);for(;c;){const d=c[1];try{const f=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield rr(new KL(f)),s=s.slice(c[0].length),c=s.match(nH)}catch(f){throw new Error(`exception parsing stream chunk ${d}. ${f}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=NAe+" "+this.clientOptions.userAgentExtra;return e[PAe]=n,e[nO]=n,e[kAe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(IAe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l=await this.fetchUploadUrl(i,n);return o.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Tt("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function rH(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new tR({message:i,status:n}):new Error(i)}}function FAe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $Ae="mcp_used/unknown";function Tee(t){for(const e of t)if(I3(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Aee(t){var e;const n=(e=t[nO])!==null&&e!==void 0?e:"";t[nO]=(n+` ${$Ae}`).trimStart()}function BAe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>I3(i)))!==null&&r!==void 0?r:!1}function zAe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!I3(i)))!==null&&r!==void 0?r:!1}function I3(t){return t!==null&&typeof t=="object"&&t instanceof P3}function VAe(t,e=100){return ly(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield rr(t.listTools({cursor:r}));for(const s of o.tools)yield yield rr(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class P3{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new P3(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,hw(VAe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const f=d.name;if(o[f])throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o[f]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),O_e(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UAe(t,e,n){const r=new E_e;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=XSe(i);Object.assign(r,o),e(r)}class HAe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=WAe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(x=>{u=x}),d=e.callbacks,f=function(){u({})},p=this.apiClient,m={onopen:f,onmessage:x=>{UAe(p,d.onmessage,x)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(x){}},y=this.webSocketFactory.create(l,jAe(s),m);y.connect(),await c;const b=Bn(this.apiClient,e.model),v=wee({model:b}),E=ZL({setup:v});return y.send(JSON.stringify(E)),new qAe(y,this.apiClient)}}class qAe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=cSe(e),r=_ee(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=dSe(e),r=ZL(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=ZL({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zm.PLAY)}pause(){this.sendPlaybackControl(Zm.PAUSE)}stop(){this.sendPlaybackControl(Zm.STOP)}resetContext(){this.sendPlaybackControl(Zm.RESET_CONTEXT)}close(){this.conn.close()}}function jAe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function WAe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GAe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KAe(t,e,n){const r=new x_e;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=VSe(o);Object.assign(r,s)}else{const s=zSe(o);Object.assign(r,s)}e(r)}class YAe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new HAe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Tee(e.config.tools)&&Aee(d);const f=ZAe(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const M=this.apiClient.getApiKey();let I="BidiGenerateContent",O="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),I="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${O}=${M}`}let p=()=>{};const m=new Promise(M=>{p=M}),y=e.callbacks,b=function(){var M;(M=y==null?void 0:y.onopen)===null||M===void 0||M.call(y),p({})},v=this.apiClient,E={onopen:b,onmessage:M=>{KAe(v,y.onmessage,M)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(M){}},x=this.webSocketFactory.create(c,QAe(f),E);x.connect(),await m;let C=Bn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const M=this.apiClient.getProject(),I=this.apiClient.getLocation();C=`projects/${M}/locations/${I}/`+C}let k={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xT.AUDIO]}:e.config.responseModalities=[xT.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],A=[];for(const M of D)if(this.isCallableTool(M)){const I=M;A.push(await I.tool())}else A.push(M);A.length>0&&(e.config.tools=A);const P={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=rSe(this.apiClient,P):k=nSe(this.apiClient,P),delete k.config,x.send(JSON.stringify(k)),new JAe(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const XAe={turnComplete:!0};class JAe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=na(n.turns),e.isVertexAI()?r=r.map(i=>Zv(i)):r=r.map(i=>nR(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(GAe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},XAe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:uSe(e)}:n={realtimeInput:lSe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function QAe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function ZAe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iH=10;function oH(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(YS(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function YS(t){return"callTool"in t&&typeof t.callTool=="function"}function sH(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eRe extends eg{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsForMcpUsage(n);if(!BAe(n)||oH(n.config))return await this.generateContentInternal(l);if(zAe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const d=na(l.contents),f=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:iH;let p=0;for(;p<f&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const m=u.candidates[0].content,y=[];for(const b of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(YS(b)){const E=await b.callTool(u.functionCalls);y.push(...E)}p++,c={role:"user",parts:y},l.contents=na(l.contents),l.contents.push(m),l.contents.push(c),sH(l.config)&&(d.push(m),d.push(c))}return sH(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async n=>{if(oH(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o}:a={generatedImages:s},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new e1(Fp.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>YS(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&Tee(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Aee(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(YS(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:iH;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var f,p;return ly(this,arguments,function*(){for(var m,y,b,v;a<o;){s&&(a++,s=!1);const k=yield rr(u.processParamsForMcpUsage(d)),D=yield rr(u.generateContentStreamInternal(k)),A=[],P=[];try{for(var E=!0,x=(y=void 0,hw(D)),C;C=yield rr(x.next()),m=C.done,!m;E=!0){v=C.value,E=!1;const M=v;if(yield yield rr(M),M.candidates&&(!((f=M.candidates[0])===null||f===void 0)&&f.content)){P.push(M.candidates[0].content);for(const I of(p=M.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(a<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(I.functionCall.name)){const O=yield rr(c.get(I.functionCall.name).callTool([I.functionCall]));A.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(M){y={error:M}}finally{try{!E&&!m&&(b=x.return)&&(yield rr(b.call(x)))}finally{if(y)throw y.error}}if(A.length>0){s=!0;const M=new Y0;M.candidates=[{content:{role:"user",parts:A}}],yield yield rr(M);const I=[];I.push(...P),I.push({role:"user",parts:A});const O=na(d.contents).concat(I);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Z9(this.apiClient,e);return a=Tt("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=tH(c),f=new Y0;return Object.assign(f,d),f})}else{const u=Q9(this.apiClient,e);return a=Tt("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=eH(c),f=new Y0;return Object.assign(f,d),f})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Z9(this.apiClient,e);return a=Tt("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return ly(this,arguments,function*(){var f,p,m,y;try{for(var b=!0,v=hw(d),E;E=yield rr(v.next()),f=E.done,!f;b=!0){y=E.value,b=!1;const C=tH(yield rr(y.json())),k=new Y0;Object.assign(k,C),yield yield rr(k)}}catch(x){p={error:x}}finally{try{!b&&!f&&(m=v.return)&&(yield rr(m.call(v)))}finally{if(p)throw p.error}}})})}else{const u=Q9(this.apiClient,e);return a=Tt("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return ly(this,arguments,function*(){var f,p,m,y;try{for(var b=!0,v=hw(d),E;E=yield rr(v.next()),f=E.done,!f;b=!0){y=E.value,b=!1;const C=eH(yield rr(y.json())),k=new Y0;Object.assign(k,C),yield yield rr(k)}}catch(x){p={error:x}}finally{try{!b&&!f&&(m=v.return)&&(yield rr(m.call(v)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lTe(this.apiClient,e);return a=Tt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=hAe(c),f=new P9;return Object.assign(f,d),f})}else{const u=_Ce(this.apiClient,e);return a=Tt("{model}:batchEmbedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=HTe(c),f=new P9;return Object.assign(f,d),f})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cTe(this.apiClient,e);return a=Tt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=gAe(c),f=new M9;return Object.assign(f,d),f})}else{const u=ECe(this.apiClient,e);return a=Tt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=WTe(c),f=new M9;return Object.assign(f,d),f})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=yTe(this.apiClient,e);return o=Tt("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mAe(l),c=new m_e;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=bTe(this.apiClient,e);return o=Tt("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=yAe(l),c=new y_e;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wTe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>tO(c))}else{const u=SCe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>eO(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xTe(this.apiClient,e);return a=Tt("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=_Ae(this.apiClient,c),f=new N9;return Object.assign(f,d),f})}else{const u=TCe(this.apiClient,e);return a=Tt("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=KTe(this.apiClient,c),f=new N9;return Object.assign(f,d),f})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=STe(this.apiClient,e);return a=Tt("{model}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>tO(c))}else{const u=RCe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>eO(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=CTe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=xAe(),d=new D9;return Object.assign(d,c),d})}else{const u=kCe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=YTe(),d=new D9;return Object.assign(d,c),d})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ATe(this.apiClient,e);return a=Tt("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=EAe(c),f=new L9;return Object.assign(f,d),f})}else{const u=PCe(this.apiClient,e);return a=Tt("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=XTe(c),f=new L9;return Object.assign(f,d),f})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=RTe(this.apiClient,e);return o=Tt("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=SAe(l),c=new v_e;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=PTe(this.apiClient,e);return a=Tt("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>RAe(c))}else{const u=DCe(this.apiClient,e);return a=Tt("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>eAe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tRe(t){const e={},n=w(t,["operationName"]);n!=null&&_(e,["_url","operationName"],n);const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function nRe(t){const e={},n=w(t,["operationName"]);n!=null&&_(e,["_url","operationName"],n);const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function rRe(t){const e={},n=w(t,["operationName"]);n!=null&&_(e,["operationName"],n);const r=w(t,["resourceName"]);r!=null&&_(e,["_url","resourceName"],r);const i=w(t,["config"]);return i!=null&&_(e,["config"],i),e}function iRe(t){const e={},n=w(t,["video","uri"]);n!=null&&_(e,["uri"],n);const r=w(t,["video","encodedVideo"]);r!=null&&_(e,["videoBytes"],Qc(r));const i=w(t,["encoding"]);return i!=null&&_(e,["mimeType"],i),e}function oRe(t){const e={},n=w(t,["_self"]);return n!=null&&_(e,["video"],iRe(n)),e}function sRe(t){const e={},n=w(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>oRe(s))),_(e,["generatedVideos"],o)}const r=w(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function aRe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=w(t,["done"]);i!=null&&_(e,["done"],i);const o=w(t,["error"]);o!=null&&_(e,["error"],o);const s=w(t,["response","generateVideoResponse"]);return s!=null&&_(e,["response"],sRe(s)),e}function lRe(t){const e={},n=w(t,["gcsUri"]);n!=null&&_(e,["uri"],n);const r=w(t,["bytesBase64Encoded"]);r!=null&&_(e,["videoBytes"],Qc(r));const i=w(t,["mimeType"]);return i!=null&&_(e,["mimeType"],i),e}function uRe(t){const e={},n=w(t,["_self"]);return n!=null&&_(e,["video"],lRe(n)),e}function cRe(t){const e={},n=w(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>uRe(s))),_(e,["generatedVideos"],o)}const r=w(t,["raiMediaFilteredCount"]);r!=null&&_(e,["raiMediaFilteredCount"],r);const i=w(t,["raiMediaFilteredReasons"]);return i!=null&&_(e,["raiMediaFilteredReasons"],i),e}function aH(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=w(t,["done"]);i!=null&&_(e,["done"],i);const o=w(t,["error"]);o!=null&&_(e,["error"],o);const s=w(t,["response"]);return s!=null&&_(e,["response"],cRe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dRe extends eg{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nRe(e);return a=Tt("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>aH(c))}else{const u=tRe(e);return a=Tt("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>aRe(c))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=rRe(e);return o=Tt("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>aH(l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fRe(t){const e={},n=w(t,["voiceName"]);return n!=null&&_(e,["voiceName"],n),e}function Ree(t){const e={},n=w(t,["prebuiltVoiceConfig"]);return n!=null&&_(e,["prebuiltVoiceConfig"],fRe(n)),e}function hRe(t){const e={},n=w(t,["speaker"]);n!=null&&_(e,["speaker"],n);const r=w(t,["voiceConfig"]);return r!=null&&_(e,["voiceConfig"],Ree(r)),e}function pRe(t){const e={},n=w(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hRe(i))),_(e,["speakerVoiceConfigs"],r)}return e}function gRe(t){const e={},n=w(t,["voiceConfig"]);n!=null&&_(e,["voiceConfig"],Ree(n));const r=w(t,["multiSpeakerVoiceConfig"]);r!=null&&_(e,["multiSpeakerVoiceConfig"],pRe(r));const i=w(t,["languageCode"]);return i!=null&&_(e,["languageCode"],i),e}function mRe(t){const e={},n=w(t,["fps"]);n!=null&&_(e,["fps"],n);const r=w(t,["endOffset"]);r!=null&&_(e,["endOffset"],r);const i=w(t,["startOffset"]);return i!=null&&_(e,["startOffset"],i),e}function yRe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["data"]);n!=null&&_(e,["data"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function vRe(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&_(e,["fileUri"],n);const r=w(t,["mimeType"]);return r!=null&&_(e,["mimeType"],r),e}function bRe(t){const e={},n=w(t,["videoMetadata"]);n!=null&&_(e,["videoMetadata"],mRe(n));const r=w(t,["thought"]);r!=null&&_(e,["thought"],r);const i=w(t,["inlineData"]);i!=null&&_(e,["inlineData"],yRe(i));const o=w(t,["fileData"]);o!=null&&_(e,["fileData"],vRe(o));const s=w(t,["thoughtSignature"]);s!=null&&_(e,["thoughtSignature"],s);const a=w(t,["codeExecutionResult"]);a!=null&&_(e,["codeExecutionResult"],a);const l=w(t,["executableCode"]);l!=null&&_(e,["executableCode"],l);const u=w(t,["functionCall"]);u!=null&&_(e,["functionCall"],u);const c=w(t,["functionResponse"]);c!=null&&_(e,["functionResponse"],c);const d=w(t,["text"]);return d!=null&&_(e,["text"],d),e}function wRe(t){const e={},n=w(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>bRe(o))),_(e,["parts"],i)}const r=w(t,["role"]);return r!=null&&_(e,["role"],r),e}function _Re(t){const e={},n=w(t,["behavior"]);n!=null&&_(e,["behavior"],n);const r=w(t,["description"]);r!=null&&_(e,["description"],r);const i=w(t,["name"]);i!=null&&_(e,["name"],i);const o=w(t,["parameters"]);o!=null&&_(e,["parameters"],o);const s=w(t,["parametersJsonSchema"]);s!=null&&_(e,["parametersJsonSchema"],s);const a=w(t,["response"]);a!=null&&_(e,["response"],a);const l=w(t,["responseJsonSchema"]);return l!=null&&_(e,["responseJsonSchema"],l),e}function xRe(t){const e={},n=w(t,["startTime"]);n!=null&&_(e,["startTime"],n);const r=w(t,["endTime"]);return r!=null&&_(e,["endTime"],r),e}function ERe(t){const e={},n=w(t,["timeRangeFilter"]);return n!=null&&_(e,["timeRangeFilter"],xRe(n)),e}function SRe(t){const e={},n=w(t,["mode"]);n!=null&&_(e,["mode"],n);const r=w(t,["dynamicThreshold"]);return r!=null&&_(e,["dynamicThreshold"],r),e}function CRe(t){const e={},n=w(t,["dynamicRetrievalConfig"]);return n!=null&&_(e,["dynamicRetrievalConfig"],SRe(n)),e}function TRe(){return{}}function ARe(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>_Re(l))),_(e,["functionDeclarations"],a)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=w(t,["googleSearch"]);r!=null&&_(e,["googleSearch"],ERe(r));const i=w(t,["googleSearchRetrieval"]);if(i!=null&&_(e,["googleSearchRetrieval"],CRe(i)),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(w(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");w(t,["urlContext"])!=null&&_(e,["urlContext"],TRe());const s=w(t,["codeExecution"]);return s!=null&&_(e,["codeExecution"],s),e}function RRe(t){const e={},n=w(t,["handle"]);if(n!=null&&_(e,["handle"],n),w(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function lH(){return{}}function kRe(t){const e={},n=w(t,["disabled"]);n!=null&&_(e,["disabled"],n);const r=w(t,["startOfSpeechSensitivity"]);r!=null&&_(e,["startOfSpeechSensitivity"],r);const i=w(t,["endOfSpeechSensitivity"]);i!=null&&_(e,["endOfSpeechSensitivity"],i);const o=w(t,["prefixPaddingMs"]);o!=null&&_(e,["prefixPaddingMs"],o);const s=w(t,["silenceDurationMs"]);return s!=null&&_(e,["silenceDurationMs"],s),e}function IRe(t){const e={},n=w(t,["automaticActivityDetection"]);n!=null&&_(e,["automaticActivityDetection"],kRe(n));const r=w(t,["activityHandling"]);r!=null&&_(e,["activityHandling"],r);const i=w(t,["turnCoverage"]);return i!=null&&_(e,["turnCoverage"],i),e}function PRe(t){const e={},n=w(t,["targetTokens"]);return n!=null&&_(e,["targetTokens"],n),e}function MRe(t){const e={},n=w(t,["triggerTokens"]);n!=null&&_(e,["triggerTokens"],n);const r=w(t,["slidingWindow"]);return r!=null&&_(e,["slidingWindow"],PRe(r)),e}function NRe(t){const e={},n=w(t,["proactiveAudio"]);return n!=null&&_(e,["proactiveAudio"],n),e}function DRe(t,e){const n={},r=w(t,["generationConfig"]);e!==void 0&&r!=null&&_(e,["setup","generationConfig"],r);const i=w(t,["responseModalities"]);e!==void 0&&i!=null&&_(e,["setup","generationConfig","responseModalities"],i);const o=w(t,["temperature"]);e!==void 0&&o!=null&&_(e,["setup","generationConfig","temperature"],o);const s=w(t,["topP"]);e!==void 0&&s!=null&&_(e,["setup","generationConfig","topP"],s);const a=w(t,["topK"]);e!==void 0&&a!=null&&_(e,["setup","generationConfig","topK"],a);const l=w(t,["maxOutputTokens"]);e!==void 0&&l!=null&&_(e,["setup","generationConfig","maxOutputTokens"],l);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&_(e,["setup","generationConfig","mediaResolution"],u);const c=w(t,["seed"]);e!==void 0&&c!=null&&_(e,["setup","generationConfig","seed"],c);const d=w(t,["speechConfig"]);e!==void 0&&d!=null&&_(e,["setup","generationConfig","speechConfig"],gRe(R3(d)));const f=w(t,["enableAffectiveDialog"]);e!==void 0&&f!=null&&_(e,["setup","generationConfig","enableAffectiveDialog"],f);const p=w(t,["systemInstruction"]);e!==void 0&&p!=null&&_(e,["setup","systemInstruction"],wRe(Xi(p)));const m=w(t,["tools"]);if(e!==void 0&&m!=null){let k=Qv(m);Array.isArray(k)&&(k=k.map(D=>ARe(Jv(D)))),_(e,["setup","tools"],k)}const y=w(t,["sessionResumption"]);e!==void 0&&y!=null&&_(e,["setup","sessionResumption"],RRe(y));const b=w(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&_(e,["setup","inputAudioTranscription"],lH());const v=w(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&_(e,["setup","outputAudioTranscription"],lH());const E=w(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&_(e,["setup","realtimeInputConfig"],IRe(E));const x=w(t,["contextWindowCompression"]);e!==void 0&&x!=null&&_(e,["setup","contextWindowCompression"],MRe(x));const C=w(t,["proactivity"]);return e!==void 0&&C!=null&&_(e,["setup","proactivity"],NRe(C)),n}function LRe(t,e){const n={},r=w(e,["model"]);r!=null&&_(n,["setup","model"],Bn(t,r));const i=w(e,["config"]);return i!=null&&_(n,["config"],DRe(i,n)),n}function ORe(t,e,n){const r={},i=w(e,["expireTime"]);n!==void 0&&i!=null&&_(n,["expireTime"],i);const o=w(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&_(n,["newSessionExpireTime"],o);const s=w(e,["uses"]);n!==void 0&&s!=null&&_(n,["uses"],s);const a=w(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&_(n,["bidiGenerateContentSetup"],LRe(t,a));const l=w(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&_(n,["fieldMask"],l),r}function FRe(t,e){const n={},r=w(e,["config"]);return r!=null&&_(n,["config"],ORe(t,r,n)),n}function $Re(t){const e={},n=w(t,["name"]);return n!=null&&_(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BRe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function zRe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=BRe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class VRe extends eg{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=FRe(this.apiClient,e);o=Tt("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=zRe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>$Re(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function URe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function HRe(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const o=w(t,["filter"]);return e!==void 0&&o!=null&&_(e,["_query","filter"],o),n}function qRe(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],HRe(n,e)),e}function jRe(t){const e={},n=w(t,["textInput"]);n!=null&&_(e,["textInput"],n);const r=w(t,["output"]);return r!=null&&_(e,["output"],r),e}function WRe(t){const e={};if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=w(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jRe(i))),_(e,["examples","examples"],r)}return e}function GRe(t,e){const n={};if(w(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=w(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&_(e,["displayName"],r),w(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=w(t,["epochCount"]);e!==void 0&&i!=null&&_(e,["tuningTask","hyperparameters","epochCount"],i);const o=w(t,["learningRateMultiplier"]);if(o!=null&&_(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),w(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(w(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=w(t,["batchSize"]);e!==void 0&&s!=null&&_(e,["tuningTask","hyperparameters","batchSize"],s);const a=w(t,["learningRate"]);return e!==void 0&&a!=null&&_(e,["tuningTask","hyperparameters","learningRate"],a),n}function KRe(t){const e={},n=w(t,["baseModel"]);n!=null&&_(e,["baseModel"],n);const r=w(t,["trainingDataset"]);r!=null&&_(e,["tuningTask","trainingData"],WRe(r));const i=w(t,["config"]);return i!=null&&_(e,["config"],GRe(i,e)),e}function YRe(t){const e={},n=w(t,["name"]);n!=null&&_(e,["_url","name"],n);const r=w(t,["config"]);return r!=null&&_(e,["config"],r),e}function XRe(t,e){const n={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&_(e,["_query","pageSize"],r);const i=w(t,["pageToken"]);e!==void 0&&i!=null&&_(e,["_query","pageToken"],i);const o=w(t,["filter"]);return e!==void 0&&o!=null&&_(e,["_query","filter"],o),n}function JRe(t){const e={},n=w(t,["config"]);return n!=null&&_(e,["config"],XRe(n,e)),e}function QRe(t,e){const n={},r=w(t,["gcsUri"]);if(e!==void 0&&r!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],r),w(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function ZRe(t){const e={},n=w(t,["gcsUri"]);return n!=null&&_(e,["validationDatasetUri"],n),e}function eke(t,e){const n={},r=w(t,["validationDataset"]);e!==void 0&&r!=null&&_(e,["supervisedTuningSpec"],ZRe(r));const i=w(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&_(e,["tunedModelDisplayName"],i);const o=w(t,["description"]);e!==void 0&&o!=null&&_(e,["description"],o);const s=w(t,["epochCount"]);e!==void 0&&s!=null&&_(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=w(t,["learningRateMultiplier"]);e!==void 0&&a!=null&&_(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=w(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&_(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=w(t,["adapterSize"]);if(e!==void 0&&u!=null&&_(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),w(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(w(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function tke(t){const e={},n=w(t,["baseModel"]);n!=null&&_(e,["baseModel"],n);const r=w(t,["trainingDataset"]);r!=null&&_(e,["supervisedTuningSpec","trainingDatasetUri"],QRe(r,e));const i=w(t,["config"]);return i!=null&&_(e,["config"],eke(i,e)),e}function nke(t){const e={},n=w(t,["name"]);n!=null&&_(e,["model"],n);const r=w(t,["name"]);return r!=null&&_(e,["endpoint"],r),e}function kee(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["state"]);r!=null&&_(e,["state"],lee(r));const i=w(t,["createTime"]);i!=null&&_(e,["createTime"],i);const o=w(t,["tuningTask","startTime"]);o!=null&&_(e,["startTime"],o);const s=w(t,["tuningTask","completeTime"]);s!=null&&_(e,["endTime"],s);const a=w(t,["updateTime"]);a!=null&&_(e,["updateTime"],a);const l=w(t,["description"]);l!=null&&_(e,["description"],l);const u=w(t,["baseModel"]);u!=null&&_(e,["baseModel"],u);const c=w(t,["_self"]);c!=null&&_(e,["tunedModel"],nke(c));const d=w(t,["distillationSpec"]);d!=null&&_(e,["distillationSpec"],d);const f=w(t,["experiment"]);f!=null&&_(e,["experiment"],f);const p=w(t,["labels"]);p!=null&&_(e,["labels"],p);const m=w(t,["pipelineJob"]);m!=null&&_(e,["pipelineJob"],m);const y=w(t,["serviceAccount"]);y!=null&&_(e,["serviceAccount"],y);const b=w(t,["tunedModelDisplayName"]);return b!=null&&_(e,["tunedModelDisplayName"],b),e}function rke(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>kee(o))),_(e,["tuningJobs"],i)}return e}function ike(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["metadata"]);r!=null&&_(e,["metadata"],r);const i=w(t,["done"]);i!=null&&_(e,["done"],i);const o=w(t,["error"]);return o!=null&&_(e,["error"],o),e}function oke(t){const e={},n=w(t,["checkpointId"]);n!=null&&_(e,["checkpointId"],n);const r=w(t,["epoch"]);r!=null&&_(e,["epoch"],r);const i=w(t,["step"]);i!=null&&_(e,["step"],i);const o=w(t,["endpoint"]);return o!=null&&_(e,["endpoint"],o),e}function ske(t){const e={},n=w(t,["model"]);n!=null&&_(e,["model"],n);const r=w(t,["endpoint"]);r!=null&&_(e,["endpoint"],r);const i=w(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>oke(s))),_(e,["checkpoints"],o)}return e}function rO(t){const e={},n=w(t,["name"]);n!=null&&_(e,["name"],n);const r=w(t,["state"]);r!=null&&_(e,["state"],lee(r));const i=w(t,["createTime"]);i!=null&&_(e,["createTime"],i);const o=w(t,["startTime"]);o!=null&&_(e,["startTime"],o);const s=w(t,["endTime"]);s!=null&&_(e,["endTime"],s);const a=w(t,["updateTime"]);a!=null&&_(e,["updateTime"],a);const l=w(t,["error"]);l!=null&&_(e,["error"],l);const u=w(t,["description"]);u!=null&&_(e,["description"],u);const c=w(t,["baseModel"]);c!=null&&_(e,["baseModel"],c);const d=w(t,["tunedModel"]);d!=null&&_(e,["tunedModel"],ske(d));const f=w(t,["supervisedTuningSpec"]);f!=null&&_(e,["supervisedTuningSpec"],f);const p=w(t,["tuningDataStats"]);p!=null&&_(e,["tuningDataStats"],p);const m=w(t,["encryptionSpec"]);m!=null&&_(e,["encryptionSpec"],m);const y=w(t,["partnerModelTuningSpec"]);y!=null&&_(e,["partnerModelTuningSpec"],y);const b=w(t,["distillationSpec"]);b!=null&&_(e,["distillationSpec"],b);const v=w(t,["experiment"]);v!=null&&_(e,["experiment"],v);const E=w(t,["labels"]);E!=null&&_(e,["labels"],E);const x=w(t,["pipelineJob"]);x!=null&&_(e,["pipelineJob"],x);const C=w(t,["serviceAccount"]);C!=null&&_(e,["serviceAccount"],C);const k=w(t,["tunedModelDisplayName"]);return k!=null&&_(e,["tunedModelDisplayName"],k),e}function ake(t){const e={},n=w(t,["nextPageToken"]);n!=null&&_(e,["nextPageToken"],n);const r=w(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>rO(o))),_(e,["tuningJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lke extends eg{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new e1(Fp.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:GL.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=YRe(e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>rO(c))}else{const u=URe(e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>kee(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=JRe(e);return a=Tt("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=ake(c),f=new O9;return Object.assign(f,d),f})}else{const u=qRe(e);return a=Tt("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=rke(c),f=new O9;return Object.assign(f,d),f})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=tke(e);return o=Tt("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>rO(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KRe(e);return o=Tt("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>ike(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uke{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cke=1024*1024*8,dke=3,fke=1e3,hke=2,fP="x-goog-upload-status";async function pke(t,e,n){var r,i,o;let s=0,a=0,l=new KL(new Response),u="upload";for(s=t.size;a<s;){const d=Math.min(cke,s-a),f=t.slice(a,a+d);a+d>=s&&(u+=", finalize");let p=0,m=fke;for(;p<dke&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[fP]));)p++,await mke(m),m=m*hke;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[fP])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[fP])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function gke(t){return{size:t.size,type:t.type}}function mke(t){return new Promise(e=>setTimeout(e,t))}class yke{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pke(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gke(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vke{create(e,n,r){return new bke(e,n,r)}}class bke{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uH="x-goog-api-key";class wke{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(uH)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(uH,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _ke="gl-node/";class xke{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=g_e(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new wke(this.apiKey);this.apiClient=new OAe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:_ke+"web",uploader:new yke,downloader:new uke}),this.models=new eRe(this.apiClient),this.live=new YAe(this.apiClient,i,new vke),this.batches=new Hxe(this.apiClient),this.chats=new G1e(this.models,this.apiClient),this.caches=new q1e(this.apiClient),this.files=new sEe(this.apiClient),this.operations=new dRe(this.apiClient),this.authTokens=new VRe(this.apiClient),this.tunings=new lke(this.apiClient)}}const Eke=`
You are an expert research methodology advisor and academic mentor. 
Your purpose is to help researchers read academic papers more effectively by generating a set of specific, actionable reading goals.
`,Ske=`
You will be provided with (1) the full text of an academic paper and (2) a list of reading goals that the user has already completed.

Your task is to: 
(1) first understand the paper, 
(2) then assess the user's current reading progress using Keshav's "three-pass approach",
(3) finally generate three potential reading goals and their descriptions according to the following framework, the goals' levels should depends on the user's current reading progress on Keshav's three-pass approach.

Keshav's "three-pass approach":
- a quick first pass (i.e. skimming) to get a bird's-eye view, 
- a second pass to grasp content, and 
- a third for in-depth understanding.

Framework for Goal Generation:
- Level 1: Foundational Understanding (What does the paper say?)
-- To Learn / Self-Inform: [1-2 specific goals for this paper related to learning its core concepts and background.]
-- To Search / Answer Questions: [1-2 specific questions a reader might want to find the answer to in this paper.]
-- To Summarize: [a goal focused on summarizing the paper's central argument and conclusion.]

- Level 2: Critical Evaluation (How good is the paper's argument?)
-- For Critical Review: [1-2 goals focused on critically evaluating this paper's specific methodology, evidence, or logical structure.]
-- For Discussion: [a goal aimed at forming a critical opinion or a key question for discussing this paper with peers.]

- Level 3: Connection & Application (How can I use this paper?)
-- To Apply: [a goal related to extracting a specific method, theory, or finding from this paper for practical application.]
-- To Write and Revise: [a goal focused on how a researcher could use this paper to support their own writing or literature review.]
-- For Decision Making: [a goal about using the paper's findings to inform a specific research or practical decision.]

Ensure all generated goals are phrased as actionable tasks and are tailored directly to the content of the paper content.

The user has already completed the following reading goals:
`,Iee=z.createContext(void 0),cH={HIGHLIGHT:"highlight"},Wi={CHRONOLOGICAL:"chronological",RELATIONAL:"relational"},Cke="AIzaSyCI7AHHYDkgnfUco9GoTiYtX6-jrV3Nh8w",Tke=({children:t})=>{if(!z.useContext(Gx))throw new Error("TourContext not found");const{userData:n,getReadingStateData:r}=QA(),[i,o]=z.useState(null),[s,a]=z.useState(null),[l,u]=z.useState([]),[c,d]=z.useState(0),f=z.useRef(null),[p,m]=z.useState({}),[y,b]=z.useState(""),[v,E]=z.useState(""),[x,C]=z.useState(null),[k,D]=z.useState([]),[A,P,M]=jpe([]),[I,O,F]=Wpe([]),[$,L]=z.useState(!1),[q,K]=z.useState([Wi.CHRONOLOGICAL,Wi.RELATIONAL]),X=150,ee=150,J=new xke({apiKey:Cke});z.useEffect(()=>{Z()},[n,i]);const G=()=>{b(""),E(""),C(null),K([Wi.CHRONOLOGICAL,Wi.RELATIONAL])},Y=()=>{u([]),m({}),P([]),O([]),D([]),G()},Z=async()=>{if(n&&i){console.log("load paper context",n,i);const pe=await r(n.id,i);pe?(u(pe.state.highlights),m(pe.state.readRecords),P(pe.state.nodes),O(pe.state.edges),D(Object.keys(pe.state.readRecords)),G()):Y()}};z.useEffect(()=>{d(l.filter(pe=>pe.id.startsWith(y.toString())).length)},[y]),z.useEffect(()=>{O(I.map(pe=>({...pe,hidden:!q.includes(pe.type??"")})))},[q]);const W=async()=>{if(!f.current)return[];const pe=await f.current.getAllText(),ve=Object.values(p).map(fe=>fe.title+": "+fe.description).join(`
`),se=Ske+`

`+ve+`

Below is the full text of the paper:
`+pe,te=await j(se);return te?JSON.parse(te):[]},oe=pe=>{var ve;if(pe.type==="text"){const se=((ve=pe.content.text)==null?void 0:ve.trim())??"",te=se.split(/\s+/),fe=te.length>10?te.slice(0,10).join(" ")+"...":se;return{type:pe.type,label:fe,content:pe.content.text}}else if(pe.type==="area")return{type:pe.type,label:"Image",content:pe.content.image}},re=pe=>{console.log("Add highlight",pe,l);const ve=`${y}-${c}`;u(te=>[...te,{...pe,id:ve,readRecordId:y,sessionId:v,timestamp:Date.now()}]);const se=c===0;if(P(te=>[...te,{id:ve,type:cH.HIGHLIGHT,data:{id:ve,readRecordId:y,...oe(pe),summary:"",references:[],notes:""},position:{x:se?Object.keys(p).findIndex(fe=>fe===y)*X:A[A.length-1].position.x,y:se?ee:A[A.length-1].position.y+ee},style:{backgroundColor:p[y].color}}]),!se){const te=A[A.length-1].id;O(fe=>[...fe,{id:ve,source:te,sourceHandle:`chronological-handle-${te}-source`,target:ve,targetHandle:`chronological-handle-${ve}-target`,type:Wi.CHRONOLOGICAL,markerEnd:{type:Sp.Arrow},hidden:!q.includes(Wi.CHRONOLOGICAL)}])}C(ve),d(te=>te+1)},me=(pe,ve)=>{let se=[...A];se=se.map(te=>te.id===pe?{...te,data:{...te.data,...ve}}:te),P(se)},ge=z.useCallback(pe=>{console.log("Connect",pe);const ve={...pe,sourceHandle:`relational-handle-${pe.source}-source`,targetHandle:`relational-handle-${pe.target}-target`,type:Wi.RELATIONAL,markerEnd:{type:Sp.Arrow},hidden:!q.includes(Wi.RELATIONAL)};O(se=>VX(ve,se))},[]),ce=pe=>{if(pe.length===0)return;const ve=`${y}-${c}`,se={id:ve,type:cH.HIGHLIGHT,data:{id:ve,readRecordId:y,label:"Group",children:pe,notes:""},position:{x:A.filter(_e=>pe.includes(_e.id)).reduce((_e,Ie)=>_e+Ie.position.x,0)/pe.length+X,y:A.filter(_e=>pe.includes(_e.id)).reduce((_e,Ie)=>_e+Ie.position.y,0)/pe.length},style:{backgroundColor:p[y].color}};P(_e=>[..._e,se]),console.log("nodes",A);const te=A[A.length-1].id;O(_e=>[..._e,{id:ve,source:te,sourceHandle:`chronological-handle-${te}-source`,target:ve,targetHandle:`chronological-handle-${ve}-target`,type:Wi.CHRONOLOGICAL,markerEnd:{type:Sp.Arrow},hidden:!q.includes(Wi.CHRONOLOGICAL)}]);const fe=pe.map(_e=>({id:`${ve}-${_e}`,source:ve,sourceHandle:`relational-handle-${ve}-source`,target:_e,targetHandle:`relational-handle-${_e}-target`,type:Wi.RELATIONAL,hidden:!q.includes(Wi.RELATIONAL)}));O(_e=>[..._e,...fe]),d(_e=>_e+1)},he=pe=>{console.log("Delete highlight",pe),u(l.filter(ve=>ve.id!==pe)),P(A.filter(ve=>ve.id!==pe)),O(I.filter(ve=>ve.id!==pe&&ve.source!==pe&&ve.target!==pe)),C(null)},be=()=>{console.log("Reset highlights"),u([]),P([]),O([]),C(null),d(0)},Ce=(pe,ve)=>{const se=eT();m(te=>({...te,[se]:{id:se,title:pe,color:ve}})),b(se),Oe(se)},Ae=pe=>{D(ve=>ve.filter(se=>se!==pe))},Oe=pe=>{D(ve=>[...ve,pe])},j=async(pe,ve)=>(await J.models.generateContent({model:"gemini-2.5-flash",contents:pe+(ve?`
`+ve:""),config:{systemInstruction:Eke,responseMimeType:"application/json",responseSchema:{type:zo.ARRAY,items:{type:zo.OBJECT,properties:{goalName:{type:zo.STRING},goalDescription:{type:zo.STRING}}}}}})).text??"";return V.jsx(Iee.Provider,{value:{paperId:i,setPaperId:o,paperUrl:s,setPaperUrl:a,generateReadingGoals:W,highlights:l,setHighlights:u,addHighlight:re,updateNodeData:me,deleteHighlight:he,resetHighlights:be,pdfViewerRef:f,nodes:A,setNodes:P,onNodesChange:M,edges:I,setEdges:O,onEdgesChange:F,onConnect:ge,onSelectNode:$,setOnSelectNode:L,createGroupNode:ce,displayEdgeTypes:q,setDisplayEdgeTypes:K,readRecords:p,createRead:Ce,currentReadId:y,setCurrentReadId:b,currentSessionId:v,setCurrentSessionId:E,displayedReads:k,setReadRecords:m,hideRead:Ae,showRead:Oe,selectedHighlightId:x,setSelectedHighlightId:C,query_gemini:j},children:t})},la=()=>{const t=z.useContext(Iee);if(t===void 0)throw new Error("usePaperContext must be used within a PaperContextProvider");return t},Ww={black:"#000",white:"#fff"},om={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},sm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},am={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},um={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},X0={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ake={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function qc(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const iR="$$material";function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ST.apply(null,arguments)}function Rke(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kke(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ike=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kke(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Rke(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),zi="-ms-",CT="-moz-",Rn="-webkit-",Pee="comm",M3="rule",N3="decl",Pke="@import",Mee="@keyframes",Mke="@layer",Nke=Math.abs,oR=String.fromCharCode,Dke=Object.assign;function Lke(t,e){return ki(t,0)^45?(((e<<2^ki(t,0))<<2^ki(t,1))<<2^ki(t,2))<<2^ki(t,3):0}function Nee(t){return t.trim()}function Oke(t,e){return(t=e.exec(t))?t[0]:t}function In(t,e,n){return t.replace(e,n)}function iO(t,e){return t.indexOf(e)}function ki(t,e){return t.charCodeAt(e)|0}function Gw(t,e,n){return t.slice(e,n)}function Gl(t){return t.length}function D3(t){return t.length}function eS(t,e){return e.push(t),t}function Fke(t,e){return t.map(e).join("")}var sR=1,Pv=1,Dee=0,Yo=0,Hr=0,e0="";function aR(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:sR,column:Pv,length:s,return:""}}function J0(t,e){return Dke(aR("",null,null,"",null,null,0),t,{length:-t.length},e)}function $ke(){return Hr}function Bke(){return Hr=Yo>0?ki(e0,--Yo):0,Pv--,Hr===10&&(Pv=1,sR--),Hr}function As(){return Hr=Yo<Dee?ki(e0,Yo++):0,Pv++,Hr===10&&(Pv=1,sR++),Hr}function lu(){return ki(e0,Yo)}function XS(){return Yo}function t1(t,e){return Gw(e0,t,e)}function Kw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Lee(t){return sR=Pv=1,Dee=Gl(e0=t),Yo=0,[]}function Oee(t){return e0="",t}function JS(t){return Nee(t1(Yo-1,oO(t===91?t+2:t===40?t+1:t)))}function zke(t){for(;(Hr=lu())&&Hr<33;)As();return Kw(t)>2||Kw(Hr)>3?"":" "}function Vke(t,e){for(;--e&&As()&&!(Hr<48||Hr>102||Hr>57&&Hr<65||Hr>70&&Hr<97););return t1(t,XS()+(e<6&&lu()==32&&As()==32))}function oO(t){for(;As();)switch(Hr){case t:return Yo;case 34:case 39:t!==34&&t!==39&&oO(Hr);break;case 40:t===41&&oO(t);break;case 92:As();break}return Yo}function Uke(t,e){for(;As()&&t+Hr!==57;)if(t+Hr===84&&lu()===47)break;return"/*"+t1(e,Yo-1)+"*"+oR(t===47?t:As())}function Hke(t){for(;!Kw(lu());)As();return t1(t,Yo)}function qke(t){return Oee(QS("",null,null,null,[""],t=Lee(t),0,[0],t))}function QS(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,f=0,p=0,m=0,y=1,b=1,v=1,E=0,x="",C=i,k=o,D=r,A=x;b;)switch(m=E,E=As()){case 40:if(m!=108&&ki(A,d-1)==58){iO(A+=In(JS(E),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:A+=JS(E);break;case 9:case 10:case 13:case 32:A+=zke(m);break;case 92:A+=Vke(XS()-1,7);continue;case 47:switch(lu()){case 42:case 47:eS(jke(Uke(As(),XS()),e,n),l);break;default:A+="/"}break;case 123*y:a[u++]=Gl(A)*v;case 125*y:case 59:case 0:switch(E){case 0:case 125:b=0;case 59+c:v==-1&&(A=In(A,/\f/g,"")),p>0&&Gl(A)-d&&eS(p>32?fH(A+";",r,n,d-1):fH(In(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(eS(D=dH(A,e,n,u,c,i,a,x,C=[],k=[],d),o),E===123)if(c===0)QS(A,e,D,D,C,o,d,a,k);else switch(f===99&&ki(A,3)===110?100:f){case 100:case 108:case 109:case 115:QS(t,D,D,r&&eS(dH(t,D,D,0,0,i,a,x,i,C=[],d),k),i,k,d,a,r?C:k);break;default:QS(A,D,D,D,[""],k,0,a,k)}}u=c=p=0,y=v=1,x=A="",d=s;break;case 58:d=1+Gl(A),p=m;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&Bke()==125)continue}switch(A+=oR(E),E*y){case 38:v=c>0?1:(A+="\f",-1);break;case 44:a[u++]=(Gl(A)-1)*v,v=1;break;case 64:lu()===45&&(A+=JS(As())),f=lu(),c=d=Gl(x=A+=Hke(XS())),E++;break;case 45:m===45&&Gl(A)==2&&(y=0)}}return o}function dH(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,f=i===0?o:[""],p=D3(f),m=0,y=0,b=0;m<r;++m)for(var v=0,E=Gw(t,d+1,d=Nke(y=s[m])),x=t;v<p;++v)(x=Nee(y>0?f[v]+" "+E:In(E,/&\f/g,f[v])))&&(l[b++]=x);return aR(t,e,n,i===0?M3:a,l,u,c)}function jke(t,e,n){return aR(t,e,n,Pee,oR($ke()),Gw(t,2,-2),0)}function fH(t,e,n,r){return aR(t,e,n,N3,Gw(t,0,r),Gw(t,r+1,-1),r)}function uy(t,e){for(var n="",r=D3(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Wke(t,e,n,r){switch(t.type){case Mke:if(t.children.length)break;case Pke:case N3:return t.return=t.return||t.value;case Pee:return"";case Mee:return t.return=t.value+"{"+uy(t.children,r)+"}";case M3:t.value=t.props.join(",")}return Gl(n=uy(t.children,r))?t.return=t.value+"{"+n+"}":""}function Gke(t){var e=D3(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function Kke(t){return function(e){e.root||(e=e.return)&&t(e)}}function Fee(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Yke=function(e,n,r){for(var i=0,o=0;i=o,o=lu(),i===38&&o===12&&(n[r]=1),!Kw(o);)As();return t1(e,Yo)},Xke=function(e,n){var r=-1,i=44;do switch(Kw(i)){case 0:i===38&&lu()===12&&(n[r]=1),e[r]+=Yke(Yo-1,n,r);break;case 2:e[r]+=JS(i);break;case 4:if(i===44){e[++r]=lu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=oR(i)}while(i=As());return e},Jke=function(e,n){return Oee(Xke(Lee(e),n))},hH=new WeakMap,Qke=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!hH.get(r))&&!i){hH.set(e,!0);for(var o=[],s=Jke(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},Zke=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function $ee(t,e){switch(Lke(t,e)){case 5103:return Rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Rn+t+CT+t+zi+t+t;case 6828:case 4268:return Rn+t+zi+t+t;case 6165:return Rn+t+zi+"flex-"+t+t;case 5187:return Rn+t+In(t,/(\w+).+(:[^]+)/,Rn+"box-$1$2"+zi+"flex-$1$2")+t;case 5443:return Rn+t+zi+"flex-item-"+In(t,/flex-|-self/,"")+t;case 4675:return Rn+t+zi+"flex-line-pack"+In(t,/align-content|flex-|-self/,"")+t;case 5548:return Rn+t+zi+In(t,"shrink","negative")+t;case 5292:return Rn+t+zi+In(t,"basis","preferred-size")+t;case 6060:return Rn+"box-"+In(t,"-grow","")+Rn+t+zi+In(t,"grow","positive")+t;case 4554:return Rn+In(t,/([^-])(transform)/g,"$1"+Rn+"$2")+t;case 6187:return In(In(In(t,/(zoom-|grab)/,Rn+"$1"),/(image-set)/,Rn+"$1"),t,"")+t;case 5495:case 3959:return In(t,/(image-set\([^]*)/,Rn+"$1$`$1");case 4968:return In(In(t,/(.+:)(flex-)?(.*)/,Rn+"box-pack:$3"+zi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rn+t+t;case 4095:case 3583:case 4068:case 2532:return In(t,/(.+)-inline(.+)/,Rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gl(t)-1-e>6)switch(ki(t,e+1)){case 109:if(ki(t,e+4)!==45)break;case 102:return In(t,/(.+:)(.+)-([^]+)/,"$1"+Rn+"$2-$3$1"+CT+(ki(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~iO(t,"stretch")?$ee(In(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ki(t,e+1)!==115)break;case 6444:switch(ki(t,Gl(t)-3-(~iO(t,"!important")&&10))){case 107:return In(t,":",":"+Rn)+t;case 101:return In(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rn+(ki(t,14)===45?"inline-":"")+"box$3$1"+Rn+"$2$3$1"+zi+"$2box$3")+t}break;case 5936:switch(ki(t,e+11)){case 114:return Rn+t+zi+In(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Rn+t+zi+In(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Rn+t+zi+In(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Rn+t+zi+t+t}return t}var eIe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case N3:e.return=$ee(e.value,e.length);break;case Mee:return uy([J0(e,{value:In(e.value,"@","@"+Rn)})],i);case M3:if(e.length)return Fke(e.props,function(o){switch(Oke(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uy([J0(e,{props:[In(o,/:(read-\w+)/,":"+CT+"$1")]})],i);case"::placeholder":return uy([J0(e,{props:[In(o,/:(plac\w+)/,":"+Rn+"input-$1")]}),J0(e,{props:[In(o,/:(plac\w+)/,":"+CT+"$1")]}),J0(e,{props:[In(o,/:(plac\w+)/,zi+"input-$1")]})],i)}return""})}},tIe=[eIe],nIe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||tIe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),v=1;v<b.length;v++)o[b[v]]=!0;a.push(y)});var l,u=[Qke,Zke];{var c,d=[Wke,Kke(function(y){c.insert(y)})],f=Gke(u.concat(i,d)),p=function(b){return uy(qke(b),f)};l=function(b,v,E,x){c=E,p(b?b+"{"+v.styles+"}":v.styles),x&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new Ike({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},hP={exports:{}},Nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pH;function rIe(){if(pH)return Nn;pH=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function x(k){if(typeof k=="object"&&k!==null){var D=k.$$typeof;switch(D){case e:switch(k=k.type,k){case l:case u:case r:case o:case i:case d:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case m:case p:case s:return k;default:return D}}case n:return D}}}function C(k){return x(k)===u}return Nn.AsyncMode=l,Nn.ConcurrentMode=u,Nn.ContextConsumer=a,Nn.ContextProvider=s,Nn.Element=e,Nn.ForwardRef=c,Nn.Fragment=r,Nn.Lazy=m,Nn.Memo=p,Nn.Portal=n,Nn.Profiler=o,Nn.StrictMode=i,Nn.Suspense=d,Nn.isAsyncMode=function(k){return C(k)||x(k)===l},Nn.isConcurrentMode=C,Nn.isContextConsumer=function(k){return x(k)===a},Nn.isContextProvider=function(k){return x(k)===s},Nn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Nn.isForwardRef=function(k){return x(k)===c},Nn.isFragment=function(k){return x(k)===r},Nn.isLazy=function(k){return x(k)===m},Nn.isMemo=function(k){return x(k)===p},Nn.isPortal=function(k){return x(k)===n},Nn.isProfiler=function(k){return x(k)===o},Nn.isStrictMode=function(k){return x(k)===i},Nn.isSuspense=function(k){return x(k)===d},Nn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===o||k===i||k===d||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===p||k.$$typeof===s||k.$$typeof===a||k.$$typeof===c||k.$$typeof===b||k.$$typeof===v||k.$$typeof===E||k.$$typeof===y)},Nn.typeOf=x,Nn}var gH;function iIe(){return gH||(gH=1,hP.exports=rIe()),hP.exports}var pP,mH;function oIe(){if(mH)return pP;mH=1;var t=iIe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(m){return t.isMemo(m)?i:o[m.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(m,y,b){if(typeof y!="string"){if(f){var v=d(y);v&&v!==f&&p(m,v,b)}var E=l(y);u&&(E=E.concat(u(y)));for(var x=s(m),C=s(y),k=0;k<E.length;++k){var D=E[k];if(!n[D]&&!(b&&b[D])&&!(C&&C[D])&&!(x&&x[D])){var A=c(y,D);try{a(m,D,A)}catch{}}}}return m}return pP=p,pP}oIe();var sIe=!0;function Bee(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var L3=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},O3=function(e,n,r){L3(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function aIe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var lIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uIe=/[A-Z]|^ms/g,cIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zee=function(e){return e.charCodeAt(1)===45},yH=function(e){return e!=null&&typeof e!="boolean"},gP=Fee(function(t){return zee(t)?t:t.replace(uIe,"-$&").toLowerCase()}),vH=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(cIe,function(r,i,o){return Kl={name:i,styles:o,next:Kl},i})}return lIe[e]!==1&&!zee(e)&&typeof n=="number"&&n!==0?n+"px":n};function Yw(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Kl={name:i.name,styles:i.styles,next:Kl},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Kl={name:s.name,styles:s.styles,next:Kl},s=s.next;var a=o.styles+";";return a}return dIe(t,e,n)}case"function":{if(t!==void 0){var l=Kl,u=n(t);return Kl=l,Yw(t,e,u)}break}}var c=n;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function dIe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Yw(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":yH(a)&&(r+=gP(o)+":"+vH(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)yH(s[l])&&(r+=gP(o)+":"+vH(o,s[l])+";");else{var u=Yw(t,e,s);switch(o){case"animation":case"animationName":{r+=gP(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var bH=/label:\s*([^\s;{]+)\s*(;|$)/g,Kl;function n1(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Kl=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Yw(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Yw(n,e,t[a]),r){var l=o;i+=l[a]}bH.lastIndex=0;for(var u="",c;(c=bH.exec(i))!==null;)u+="-"+c[1];var d=aIe(i)+u;return{name:d,styles:i,next:Kl}}var fIe=function(e){return e()},Vee=nL.useInsertionEffect?nL.useInsertionEffect:!1,Uee=Vee||fIe,wH=Vee||z.useLayoutEffect,Hee=z.createContext(typeof HTMLElement<"u"?nIe({key:"css"}):null);Hee.Provider;var F3=function(e){return z.forwardRef(function(n,r){var i=z.useContext(Hee);return e(n,i,r)})},lR=z.createContext({}),$3={}.hasOwnProperty,sO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hIe=function(e,n){var r={};for(var i in n)$3.call(n,i)&&(r[i]=n[i]);return r[sO]=e,r},pIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return L3(n,r,i),Uee(function(){return O3(n,r,i)}),null},gIe=F3(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[sO],o=[r],s="";typeof t.className=="string"?s=Bee(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=n1(o,void 0,z.useContext(lR));s+=e.key+"-"+a.name;var l={};for(var u in t)$3.call(t,u)&&u!=="css"&&u!==sO&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),z.createElement(z.Fragment,null,z.createElement(pIe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),z.createElement(i,l))}),mIe=gIe,_H=function(e,n){var r=arguments;if(n==null||!$3.call(n,"css"))return z.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=mIe,o[1]=hIe(e,n);for(var s=2;s<i;s++)o[s]=r[s];return z.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_H||(_H={}));var yIe=F3(function(t,e){var n=t.styles,r=n1([n],void 0,z.useContext(lR)),i=z.useRef();return wH(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),wH(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&O3(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function r1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return n1(e)}function tg(){var t=r1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var vIe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bIe=Fee(function(t){return vIe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),wIe=bIe,_Ie=function(e){return e!=="theme"},xH=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wIe:_Ie},EH=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},xIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return L3(n,r,i),Uee(function(){return O3(n,r,i)}),null},EIe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=EH(e,n,r),l=a||xH(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{var f=c[0];d.push(f[0]);for(var p=c.length,m=1;m<p;m++)d.push(c[m],f[m])}var y=F3(function(b,v,E){var x=u&&b.as||i,C="",k=[],D=b;if(b.theme==null){D={};for(var A in b)D[A]=b[A];D.theme=z.useContext(lR)}typeof b.className=="string"?C=Bee(v.registered,k,b.className):b.className!=null&&(C=b.className+" ");var P=n1(d.concat(k),v.registered,D);C+=v.key+"-"+P.name,s!==void 0&&(C+=" "+s);var M=u&&a===void 0?xH(x):l,I={};for(var O in b)u&&O==="as"||M(O)&&(I[O]=b[O]);return I.className=C,E&&(I.ref=E),z.createElement(z.Fragment,null,z.createElement(xIe,{cache:v,serialized:P,isStringTag:typeof x=="string"}),z.createElement(x,I))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(b,v){var E=t(b,ST({},n,v,{shouldForwardProp:EH(y,v,!0)}));return E.apply(void 0,d)},y}},SIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],aO=EIe.bind(null);SIe.forEach(function(t){aO[t]=aO(t)});var mP={exports:{}},yP,SH;function CIe(){if(SH)return yP;SH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yP=t,yP}var vP,CH;function TIe(){if(CH)return vP;CH=1;var t=CIe();function e(){}function n(){}return n.resetWarningCache=e,vP=function(){function r(s,a,l,u,c,d){if(d!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},vP}var TH;function B3(){return TH||(TH=1,mP.exports=TIe()()),mP.exports}var AIe=B3();const Se=Ni(AIe);function RIe(t){return t==null||Object.keys(t).length===0}function kIe(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(RIe(i)?n:i):e;return V.jsx(yIe,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function qee(t,e){return aO(t,e)}function IIe(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const AH=[];function RH(t){return AH[0]=t,n1(AH)}var bP={exports:{}},Vn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kH;function PIe(){if(kH)return Vn;kH=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case t:switch(y=y.type,y){case n:case i:case r:case l:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case s:case a:case d:case c:return y;case o:return y;default:return b}}case e:return b}}}return Vn.ContextConsumer=o,Vn.ContextProvider=s,Vn.Element=t,Vn.ForwardRef=a,Vn.Fragment=n,Vn.Lazy=d,Vn.Memo=c,Vn.Portal=e,Vn.Profiler=i,Vn.StrictMode=r,Vn.Suspense=l,Vn.SuspenseList=u,Vn.isContextConsumer=function(y){return m(y)===o},Vn.isContextProvider=function(y){return m(y)===s},Vn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Vn.isForwardRef=function(y){return m(y)===a},Vn.isFragment=function(y){return m(y)===n},Vn.isLazy=function(y){return m(y)===d},Vn.isMemo=function(y){return m(y)===c},Vn.isPortal=function(y){return m(y)===e},Vn.isProfiler=function(y){return m(y)===i},Vn.isStrictMode=function(y){return m(y)===r},Vn.isSuspense=function(y){return m(y)===l},Vn.isSuspenseList=function(y){return m(y)===u},Vn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===c||y.$$typeof===s||y.$$typeof===o||y.$$typeof===a||y.$$typeof===p||y.getModuleId!==void 0)},Vn.typeOf=m,Vn}var IH;function MIe(){return IH||(IH=1,bP.exports=PIe()),bP.exports}var jee=MIe();function Jl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Wee(t){if(z.isValidElement(t)||jee.isValidElementType(t)||!Jl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Wee(t[n])}),e}function pi(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Jl(t)&&Jl(e)&&Object.keys(e).forEach(i=>{z.isValidElement(e[i])||jee.isValidElementType(e[i])?r[i]=e[i]:Jl(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Jl(t[i])?r[i]=pi(t[i],e[i],n):n.clone?r[i]=Jl(e[i])?Wee(e[i]):e[i]:r[i]=e[i]}),r}const NIe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function DIe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=NIe(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function c(f){return s.indexOf(f)+1<s.length?u(f,s[s.indexOf(f)+1]):a(f)}function d(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):u(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:u,only:c,not:d,unit:n,...i}}function LIe(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function OIe(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function FIe(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function $Ie(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const BIe={borderRadius:4};function pw(t,e){return e?pi(t,e,{clone:!1}):t}const uR={xs:0,sm:600,md:900,lg:1200,xl:1536},PH={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${uR[t]}px)`},zIe={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:uR[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Za(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||PH;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||PH;return Object.keys(e).reduce((s,a)=>{if(OIe(o.keys,a)){const l=FIe(r.containerQueries?r:zIe,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||uR).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function Gee(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function Kee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function VIe(t,...e){const n=Gee(t),r=[n,...e].reduce((i,o)=>pi(i,o),{});return Kee(Object.keys(n),r)}function UIe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function wP({values:t,breakpoints:e,base:n}){const r=n||UIe(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function qe(t){if(typeof t!="string")throw new Error(qc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function cR(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function TT(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=cR(t,n)||r,e&&(i=e(i,r,t)),i}function Dr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=cR(l,r)||{};return Za(s,a,d=>{let f=TT(u,i,d);return d===f&&typeof d=="string"&&(f=TT(u,i,`${e}${d==="default"?"":qe(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function HIe(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const qIe={m:"margin",p:"padding"},jIe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},MH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},WIe=HIe(t=>{if(t.length>2)if(MH[t])t=MH[t];else return[t];const[e,n]=t.split(""),r=qIe[e],i=jIe[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),z3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],V3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...z3,...V3];function i1(t,e,n,r){const i=cR(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function dR(t){return i1(t,"spacing",8)}function $p(t,e){return typeof e=="string"||e==null?e:t(e)}function GIe(t,e){return n=>t.reduce((r,i)=>(r[i]=$p(e,n),r),{})}function KIe(t,e,n,r){if(!e.includes(n))return null;const i=WIe(n),o=GIe(i,r),s=t[n];return Za(t,s,o)}function Yee(t,e){const n=dR(t.theme);return Object.keys(t).map(r=>KIe(t,e,r,n)).reduce(pw,{})}function xr(t){return Yee(t,z3)}xr.propTypes={};xr.filterProps=z3;function Er(t){return Yee(t,V3)}Er.propTypes={};Er.filterProps=V3;function Xee(t=8,e=dR({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function fR(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?pw(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ys(t){return typeof t!="number"?t:`${t}px solid`}function ua(t,e){return Dr({prop:t,themeKey:"borders",transform:e})}const YIe=ua("border",Ys),XIe=ua("borderTop",Ys),JIe=ua("borderRight",Ys),QIe=ua("borderBottom",Ys),ZIe=ua("borderLeft",Ys),ePe=ua("borderColor"),tPe=ua("borderTopColor"),nPe=ua("borderRightColor"),rPe=ua("borderBottomColor"),iPe=ua("borderLeftColor"),oPe=ua("outline",Ys),sPe=ua("outlineColor"),hR=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=i1(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:$p(e,r)});return Za(t,t.borderRadius,n)}return null};hR.propTypes={};hR.filterProps=["borderRadius"];fR(YIe,XIe,JIe,QIe,ZIe,ePe,tPe,nPe,rPe,iPe,hR,oPe,sPe);const pR=t=>{if(t.gap!==void 0&&t.gap!==null){const e=i1(t.theme,"spacing",8),n=r=>({gap:$p(e,r)});return Za(t,t.gap,n)}return null};pR.propTypes={};pR.filterProps=["gap"];const gR=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=i1(t.theme,"spacing",8),n=r=>({columnGap:$p(e,r)});return Za(t,t.columnGap,n)}return null};gR.propTypes={};gR.filterProps=["columnGap"];const mR=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=i1(t.theme,"spacing",8),n=r=>({rowGap:$p(e,r)});return Za(t,t.rowGap,n)}return null};mR.propTypes={};mR.filterProps=["rowGap"];const aPe=Dr({prop:"gridColumn"}),lPe=Dr({prop:"gridRow"}),uPe=Dr({prop:"gridAutoFlow"}),cPe=Dr({prop:"gridAutoColumns"}),dPe=Dr({prop:"gridAutoRows"}),fPe=Dr({prop:"gridTemplateColumns"}),hPe=Dr({prop:"gridTemplateRows"}),pPe=Dr({prop:"gridTemplateAreas"}),gPe=Dr({prop:"gridArea"});fR(pR,gR,mR,aPe,lPe,uPe,cPe,dPe,fPe,hPe,pPe,gPe);function cy(t,e){return e==="grey"?e:t}const mPe=Dr({prop:"color",themeKey:"palette",transform:cy}),yPe=Dr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:cy}),vPe=Dr({prop:"backgroundColor",themeKey:"palette",transform:cy});fR(mPe,yPe,vPe);function xs(t){return t<=1&&t!==0?`${t*100}%`:t}const bPe=Dr({prop:"width",transform:xs}),U3=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||uR[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:xs(n)}};return Za(t,t.maxWidth,e)}return null};U3.filterProps=["maxWidth"];const wPe=Dr({prop:"minWidth",transform:xs}),_Pe=Dr({prop:"height",transform:xs}),xPe=Dr({prop:"maxHeight",transform:xs}),EPe=Dr({prop:"minHeight",transform:xs});Dr({prop:"size",cssProperty:"width",transform:xs});Dr({prop:"size",cssProperty:"height",transform:xs});const SPe=Dr({prop:"boxSizing"});fR(bPe,U3,wPe,_Pe,xPe,EPe,SPe);const o1={border:{themeKey:"borders",transform:Ys},borderTop:{themeKey:"borders",transform:Ys},borderRight:{themeKey:"borders",transform:Ys},borderBottom:{themeKey:"borders",transform:Ys},borderLeft:{themeKey:"borders",transform:Ys},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ys},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hR},color:{themeKey:"palette",transform:cy},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:cy},backgroundColor:{themeKey:"palette",transform:cy},p:{style:Er},pt:{style:Er},pr:{style:Er},pb:{style:Er},pl:{style:Er},px:{style:Er},py:{style:Er},padding:{style:Er},paddingTop:{style:Er},paddingRight:{style:Er},paddingBottom:{style:Er},paddingLeft:{style:Er},paddingX:{style:Er},paddingY:{style:Er},paddingInline:{style:Er},paddingInlineStart:{style:Er},paddingInlineEnd:{style:Er},paddingBlock:{style:Er},paddingBlockStart:{style:Er},paddingBlockEnd:{style:Er},m:{style:xr},mt:{style:xr},mr:{style:xr},mb:{style:xr},ml:{style:xr},mx:{style:xr},my:{style:xr},margin:{style:xr},marginTop:{style:xr},marginRight:{style:xr},marginBottom:{style:xr},marginLeft:{style:xr},marginX:{style:xr},marginY:{style:xr},marginInline:{style:xr},marginInlineStart:{style:xr},marginInlineEnd:{style:xr},marginBlock:{style:xr},marginBlockStart:{style:xr},marginBlockEnd:{style:xr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:pR},rowGap:{style:mR},columnGap:{style:gR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xs},maxWidth:{style:U3},minWidth:{transform:xs},height:{transform:xs},maxHeight:{transform:xs},minHeight:{transform:xs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function CPe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function TPe(t,e){return typeof t=="function"?t(e):t}function APe(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=cR(i,u)||{};return d?d(s):Za(s,r,m=>{let y=TT(f,c,m);return m===y&&typeof m=="string"&&(y=TT(f,c,`${n}${m==="default"?"":qe(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??o1;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=Gee(i.breakpoints),c=Object.keys(u);let d=u;return Object.keys(l).forEach(f=>{const p=TPe(l[f],i);if(p!=null)if(typeof p=="object")if(o[f])d=pw(d,t(f,p,i,o));else{const m=Za({theme:i},p,y=>({[f]:y}));CPe(m,p)?d[f]=e({sx:p,theme:i}):d=pw(d,m)}else d=pw(d,t(f,p,i,o))}),LIe(i,Kee(c,d))}return Array.isArray(r)?r.map(s):s(r)}return e}const Bp=APe();Bp.filterProps=["sx"];function RPe(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function yR(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=DIe(n),l=Xee(i);let u=pi({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...BIe,...o}},s);return u=$Ie(u),u.applyStyles=RPe,u=e.reduce((c,d)=>pi(c,d),u),u.unstable_sxConfig={...o1,...s==null?void 0:s.unstable_sxConfig},u.unstable_sx=function(d){return Bp({sx:d,theme:this})},u}function kPe(t){return Object.keys(t).length===0}function IPe(t=null){const e=z.useContext(lR);return!e||kPe(e)?t:e}const PPe=yR();function vR(t=PPe){return IPe(t)}function MPe({styles:t,themeId:e,defaultTheme:n={}}){const r=vR(n),i=typeof t=="function"?t(e&&r[e]||r):t;return V.jsx(kIe,{styles:i})}const NPe=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??o1;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function H3(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=NPe(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Jl(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const NH=t=>t,DPe=()=>{let t=NH;return{configure(e){t=e},generate(e){return t(e)},reset(){t=NH}}},Jee=DPe();function Qee(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Qee(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Qee(t))&&(r&&(r+=" "),r+=e);return r}function LPe(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=qee("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Bp);return z.forwardRef(function(l,u){const c=vR(n),{className:d,component:f="div",...p}=H3(l);return V.jsx(o,{as:f,ref:u,className:Ze(d,i?i(r):r),theme:e&&c[e]||c,...p})})}const OPe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Mt(t,e,n="Mui"){const r=OPe[e];return r?`${n}-${r}`:`${Jee.generate(t)}-${e}`}function Nt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Mt(t,i,n)}),r}function Zee(t){const{variants:e,...n}=t,r={variants:e,style:RH(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=RH(i.style))}),r}const FPe=yR();function _P(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function $Pe(t){return t?(e,n)=>n[t]:null}function BPe(t,e,n){t.theme=VPe(t.theme)?n:t.theme[e]||t.theme}function ZS(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>ZS(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return ete(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function ete(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function tte(t={}){const{themeId:e,defaultTheme:n=FPe,rootShouldForwardProp:r=_P,slotShouldForwardProp:i=_P}=t;function o(a){BPe(a,e,n)}return(a,l={})=>{IIe(a,k=>k.filter(D=>D!==Bp));const{name:u,slot:c,skipVariantsResolver:d,skipSx:f,overridesResolver:p=$Pe(HPe(c)),...m}=l,y=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,b=f||!1;let v=_P;c==="Root"||c==="root"?v=r:c?v=i:UPe(a)&&(v=void 0);const E=qee(a,{shouldForwardProp:v,label:zPe(),...m}),x=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(A){return ZS(A,k)};if(Jl(k)){const D=Zee(k);return D.variants?function(P){return ZS(P,D)}:D.style}return k},C=(...k)=>{const D=[],A=k.map(x),P=[];if(D.push(o),u&&p&&P.push(function(F){var K,X;const L=(X=(K=F.theme.components)==null?void 0:K[u])==null?void 0:X.styleOverrides;if(!L)return null;const q={};for(const ee in L)q[ee]=ZS(F,L[ee]);return p(F,q)}),u&&!y&&P.push(function(F){var q,K;const $=F.theme,L=(K=(q=$==null?void 0:$.components)==null?void 0:q[u])==null?void 0:K.variants;return L?ete(F,L):null}),b||P.push(Bp),Array.isArray(A[0])){const O=A.shift(),F=new Array(D.length).fill(""),$=new Array(P.length).fill("");let L;L=[...F,...O,...$],L.raw=[...F,...O.raw,...$],D.unshift(L)}const M=[...D,...A,...P],I=E(...M);return a.muiName&&(I.muiName=a.muiName),I};return E.withConfig&&(C.withConfig=E.withConfig),C}}function zPe(t,e){return void 0}function VPe(t){for(const e in t)return!1;return!0}function UPe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function HPe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const qPe=tte();function Xw(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=Xw(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function jPe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Xw(e.components[n].defaultProps,r)}function WPe({props:t,name:e,defaultTheme:n,themeId:r}){let i=vR(n);return r&&(i=i[r]||i),jPe({theme:i,name:e,props:t})}const yu=typeof window<"u"?z.useLayoutEffect:z.useEffect;function nte(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function q3(t,e=0,n=1){return nte(t,e,n)}function GPe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kf(t){if(t.type)return t;if(t.charAt(0)==="#")return kf(GPe(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(qc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(qc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const KPe=t=>{const e=kf(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Nb=(t,e)=>{try{return KPe(t)}catch{return t}};function bR(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function rte(t){t=kf(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),bR({type:a,values:l})}function lO(t){t=kf(t);let e=t.type==="hsl"||t.type==="hsla"?kf(rte(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function YPe(t,e){const n=lO(t),r=lO(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function _n(t,e){return t=kf(t),e=q3(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,bR(t)}function tS(t,e,n){try{return _n(t,e)}catch{return t}}function wR(t,e){if(t=kf(t),e=q3(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return bR(t)}function Wn(t,e,n){try{return wR(t,e)}catch{return t}}function _R(t,e){if(t=kf(t),e=q3(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return bR(t)}function Gn(t,e,n){try{return _R(t,e)}catch{return t}}function ite(t,e=.15){return lO(t)>.5?wR(t,e):_R(t,e)}function nS(t,e,n){try{return ite(t,e)}catch{return t}}function DH(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function ote(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function eC(t,e){var n,r,i;return z.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function ks(t){return t&&t.ownerDocument||document}function jc(t){return ks(t).defaultView||window}function LH(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let OH=0;function XPe(t){const[e,n]=z.useState(t),r=t||e;return z.useEffect(()=>{e==null&&(OH+=1,n(`mui-${OH}`))},[e]),r}const JPe={...nL},FH=JPe.useId;function t0(t){if(FH!==void 0){const e=FH();return t??e}return XPe(t)}function Jw({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=z.useRef(t!==void 0),[o,s]=z.useState(e),a=i?t:o,l=z.useCallback(u=>{i||s(u)},[]);return[a,l]}function Nc(t){const e=z.useRef(t);return yu(()=>{e.current=t}),z.useRef((...n)=>(0,e.current)(...n)).current}function Mr(...t){const e=z.useRef(void 0),n=z.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},t);return z.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const $H={};function ste(t,e){const n=z.useRef($H);return n.current===$H&&(n.current=t(e)),n}const QPe=[];function ZPe(t){z.useEffect(t,QPe)}class xR{constructor(){dt(this,"currentId",null);dt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});dt(this,"disposeEffect",()=>this.clear)}static create(){return new xR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Sh(){const t=ste(xR.create).current;return ZPe(t.disposeEffect),t}function AT(t){try{return t.matches(":focus-visible")}catch{}return!1}function ate(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Dt(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const u=o[l];u&&(s+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[i]=s}return r}function e2e(t){return typeof t=="string"}function lte(t,e,n){return t===void 0||e2e(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function ute(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function BH(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cte(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Ze(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...n,...i,...r};return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const s=ute({...i,...r}),a=BH(r),l=BH(i),u=e(s),c=Ze(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...u,...n,...l,...a};return c.length>0&&(f.className=c),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:u.ref}}function dte(t,e,n){return typeof t=="function"?t(e,n):t}function fte(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:dte(n,r),{props:a,internalRef:l}=cte({...o,externalSlotProps:s}),u=Mr(l,s==null?void 0:s.ref,(d=t.additionalProps)==null?void 0:d.ref);return lte(e,{...a,ref:u},r)}function ng(t){var e;return parseInt(z.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const t2e=z.createContext(),j3=()=>z.useContext(t2e)??!1,n2e=z.createContext(void 0);function r2e(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Xw(i.defaultProps,r):!i.styleOverrides&&!i.variants?Xw(i,r):r}function i2e({props:t,name:e}){const n=z.useContext(n2e);return r2e({props:t,name:e,theme:{components:n}})}const zH={theme:void 0};function o2e(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(zH.theme=i.theme,o=Zee(t(zH)),e=o,n=i.theme),o}}function s2e(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const VH=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},a2e=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},l2e=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function xP(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return a2e(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`,d=l2e(a,l);Object.assign(i,{[c]:d}),VH(o,a,`var(${c})`,u),VH(s,a,`var(${c}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function u2e(t,e={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:u,css:c,varsWithDefaults:d}=xP(l,e);let f=d;const p={},{[a]:m,...y}=o;if(Object.entries(y||{}).forEach(([x,C])=>{const{vars:k,css:D,varsWithDefaults:A}=xP(C,e);f=pi(f,A),p[x]={css:D,vars:k}}),m){const{css:x,vars:C,varsWithDefaults:k}=xP(m,e);f=pi(f,k),p[a]={css:x,vars:C}}function b(x,C){var D,A;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),x){if(k==="media")return t.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((A=(D=o[x])==null?void 0:D.palette)==null?void 0:A.mode)||x})`]:{":root":C}};if(k)return t.defaultColorScheme===x?`:root, ${k.replace("%s",String(x))}`:k.replace("%s",String(x))}return":root"}return{vars:f,generateThemeVars:()=>{let x={...u};return Object.entries(p).forEach(([,{vars:C}])=>{x=pi(x,C)}),x},generateStyleSheets:()=>{var P,M;const x=[],C=t.defaultColorScheme||"light";function k(I,O){Object.keys(O).length&&x.push(typeof I=="string"?{[I]:{...O}}:I)}k(n(void 0,{...c}),c);const{[C]:D,...A}=p;if(D){const{css:I}=D,O=(M=(P=o[C])==null?void 0:P.palette)==null?void 0:M.mode,F=!r&&O?{colorScheme:O,...I}:{...I};k(n(C,{...F}),F)}return Object.entries(A).forEach(([I,{css:O}])=>{var L,q;const F=(q=(L=o[I])==null?void 0:L.palette)==null?void 0:q.mode,$=!r&&F?{colorScheme:F,...O}:{...O};k(n(I,{...$}),$)}),x}}}function c2e(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const d2e=yR(),f2e=qPe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function h2e(t){return WPe({props:t,name:"MuiStack",defaultTheme:d2e})}function p2e(t,e){const n=z.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(z.cloneElement(e,{key:`separator-${o}`})),r),[])}const g2e=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],m2e=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...Za({theme:e},wP({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=dR(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),o=wP({values:t.direction,base:i}),s=wP({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const f=u>0?o[c[u-1]]:"column";o[l]=f}}),n=pi(n,Za({theme:e},s,(l,u)=>t.useFlexGap?{gap:$p(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${g2e(u?o[u]:t.direction)}`]:$p(r,l)}}))}return n=VIe(e.breakpoints,n),n};function y2e(t={}){const{createStyledComponent:e=f2e,useThemeProps:n=h2e,componentName:r="MuiStack"}=t,i=()=>Dt({root:["root"]},l=>Mt(r,l),{}),o=e(m2e);return z.forwardRef(function(l,u){const c=n(l),d=H3(c),{component:f="div",direction:p="column",spacing:m=0,divider:y,children:b,className:v,useFlexGap:E=!1,...x}=d,C={direction:p,spacing:m,useFlexGap:E},k=i();return V.jsx(o,{as:f,ownerState:C,ref:u,className:Ze(k.root,v),...x,children:y?p2e(b,y):b})})}function hte(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ww.white,default:Ww.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const v2e=hte();function pte(){return{text:{primary:Ww.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ww.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const UH=pte();function HH(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=_R(t.main,i):e==="dark"&&(t.dark=wR(t.main,o)))}function b2e(t="light"){return t==="dark"?{main:am[200],light:am[50],dark:am[400]}:{main:am[700],light:am[400],dark:am[800]}}function w2e(t="light"){return t==="dark"?{main:sm[200],light:sm[50],dark:sm[400]}:{main:sm[500],light:sm[300],dark:sm[700]}}function _2e(t="light"){return t==="dark"?{main:om[500],light:om[300],dark:om[700]}:{main:om[700],light:om[400],dark:om[800]}}function x2e(t="light"){return t==="dark"?{main:lm[400],light:lm[300],dark:lm[700]}:{main:lm[700],light:lm[500],dark:lm[900]}}function E2e(t="light"){return t==="dark"?{main:um[400],light:um[300],dark:um[700]}:{main:um[800],light:um[500],dark:um[900]}}function S2e(t="light"){return t==="dark"?{main:X0[400],light:X0[300],dark:X0[700]}:{main:"#ed6c02",light:X0[500],dark:X0[900]}}function W3(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||b2e(e),s=t.secondary||w2e(e),a=t.error||_2e(e),l=t.info||x2e(e),u=t.success||E2e(e),c=t.warning||S2e(e);function d(y){return YPe(y,UH.text.primary)>=n?UH.text.primary:v2e.text.primary}const f=({color:y,name:b,mainShade:v=500,lightShade:E=300,darkShade:x=700})=>{if(y={...y},!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(qc(11,b?` (${b})`:"",v));if(typeof y.main!="string")throw new Error(qc(12,b?` (${b})`:"",JSON.stringify(y.main)));return HH(y,"light",E,r),HH(y,"dark",x,r),y.contrastText||(y.contrastText=d(y.main)),y};let p;return e==="light"?p=hte():e==="dark"&&(p=pte()),pi({common:{...Ww},mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:c,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:Ake,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r,...p},i)}function C2e(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function T2e(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function A2e(t){return Math.round(t*1e5)/1e5}const qH={textTransform:"uppercase"},jH='"Roboto", "Helvetica", "Arial", sans-serif';function R2e(t,e){const{fontFamily:n=jH,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...d}=typeof e=="function"?e(t):e,f=r/14,p=c||(b=>`${b/l*f}rem`),m=(b,v,E,x,C)=>({fontFamily:n,fontWeight:b,fontSize:p(v),lineHeight:E,...n===jH?{letterSpacing:`${A2e(x/v)}em`}:{},...C,...u}),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,qH),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,qH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pi({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...y},d,{clone:!1})}const k2e=.2,I2e=.14,P2e=.12;function lr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${k2e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${I2e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${P2e})`].join(",")}const M2e=["none",lr(0,2,1,-1,0,1,1,0,0,1,3,0),lr(0,3,1,-2,0,2,2,0,0,1,5,0),lr(0,3,3,-2,0,3,4,0,0,1,8,0),lr(0,2,4,-1,0,4,5,0,0,1,10,0),lr(0,3,5,-1,0,5,8,0,0,1,14,0),lr(0,3,5,-1,0,6,10,0,0,1,18,0),lr(0,4,5,-2,0,7,10,1,0,2,16,1),lr(0,5,5,-3,0,8,10,1,0,3,14,2),lr(0,5,6,-3,0,9,12,1,0,3,16,2),lr(0,6,6,-3,0,10,14,1,0,4,18,3),lr(0,6,7,-4,0,11,15,1,0,4,20,3),lr(0,7,8,-4,0,12,17,2,0,5,22,4),lr(0,7,8,-4,0,13,19,2,0,5,24,4),lr(0,7,9,-4,0,14,21,2,0,5,26,4),lr(0,8,9,-5,0,15,22,2,0,6,28,5),lr(0,8,10,-5,0,16,24,2,0,6,30,5),lr(0,8,11,-5,0,17,26,2,0,6,32,5),lr(0,9,11,-5,0,18,28,2,0,7,34,6),lr(0,9,12,-6,0,19,29,2,0,7,36,6),lr(0,10,13,-6,0,20,31,3,0,8,38,7),lr(0,10,13,-6,0,21,33,3,0,8,40,7),lr(0,10,14,-6,0,22,35,3,0,8,42,7),lr(0,11,14,-7,0,23,36,3,0,9,44,8),lr(0,11,15,-7,0,24,38,3,0,9,46,8)],N2e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D2e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WH(t){return`${Math.round(t)}ms`}function L2e(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function O2e(t){const e={...N2e,...t.easing},n={...D2e,...t.duration};return{getAutoHeightDuration:L2e,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=o;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:WH(s)} ${a} ${typeof l=="string"?l:WH(l)}`).join(",")},...t,easing:e,duration:n}}const F2e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function $2e(t){return Jl(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function gte(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!$2e(a)||s.startsWith("unstable_")?delete r[s]:Jl(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function uO(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(qc(20));const c=W3(o),d=yR(t);let f=pi(d,{mixins:T2e(d.breakpoints,r),palette:c,shadows:M2e.slice(),typography:R2e(c,a),transitions:O2e(s),zIndex:{...F2e}});return f=pi(f,u),f=e.reduce((p,m)=>pi(p,m),f),f.unstable_sxConfig={...o1,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(m){return Bp({sx:m,theme:this})},f.toRuntimeSource=gte,f}function cO(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const B2e=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=cO(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function mte(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function yte(t){return t==="dark"?B2e:[]}function z2e(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=W3(e);return{palette:o,opacity:{...mte(o.mode),...n},overlays:r||yte(o.mode),...i}}function V2e(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const U2e=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],H2e=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return U2e(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function q2e(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Fe(t,e,n){!t[e]&&n&&(t[e]=n)}function Db(t){return typeof t!="string"||!t.startsWith("hsl")?t:rte(t)}function qu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Nb(Db(t[e])))}function j2e(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Sl=t=>{try{return t()}catch{}},W2e=(t="mui")=>s2e(t);function EP(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=z2e({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=uO({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...mte(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||yte(i)},s}function G2e(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=V2e,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(n)[0],d=r||(n.light&&c!=="light"?"light":c),f=W2e(o),{[d]:p,light:m,dark:y,...b}=n,v={...b};let E=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(E=!0),!E)throw new Error(qc(21,d));const x=EP(v,E,u,d);m&&!v.light&&EP(v,m,void 0,"light"),y&&!v.dark&&EP(v,y,void 0,"dark");let C={defaultColorScheme:d,...x,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:v,font:{...C2e(x.typography),...x.font},spacing:j2e(u.spacing)};Object.keys(C.colorSchemes).forEach(M=>{const I=C.colorSchemes[M].palette,O=F=>{const $=F.split("-"),L=$[1],q=$[2];return f(F,I[L][q])};if(I.mode==="light"&&(Fe(I.common,"background","#fff"),Fe(I.common,"onBackground","#000")),I.mode==="dark"&&(Fe(I.common,"background","#000"),Fe(I.common,"onBackground","#fff")),q2e(I,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),I.mode==="light"){Fe(I.Alert,"errorColor",Wn(I.error.light,.6)),Fe(I.Alert,"infoColor",Wn(I.info.light,.6)),Fe(I.Alert,"successColor",Wn(I.success.light,.6)),Fe(I.Alert,"warningColor",Wn(I.warning.light,.6)),Fe(I.Alert,"errorFilledBg",O("palette-error-main")),Fe(I.Alert,"infoFilledBg",O("palette-info-main")),Fe(I.Alert,"successFilledBg",O("palette-success-main")),Fe(I.Alert,"warningFilledBg",O("palette-warning-main")),Fe(I.Alert,"errorFilledColor",Sl(()=>I.getContrastText(I.error.main))),Fe(I.Alert,"infoFilledColor",Sl(()=>I.getContrastText(I.info.main))),Fe(I.Alert,"successFilledColor",Sl(()=>I.getContrastText(I.success.main))),Fe(I.Alert,"warningFilledColor",Sl(()=>I.getContrastText(I.warning.main))),Fe(I.Alert,"errorStandardBg",Gn(I.error.light,.9)),Fe(I.Alert,"infoStandardBg",Gn(I.info.light,.9)),Fe(I.Alert,"successStandardBg",Gn(I.success.light,.9)),Fe(I.Alert,"warningStandardBg",Gn(I.warning.light,.9)),Fe(I.Alert,"errorIconColor",O("palette-error-main")),Fe(I.Alert,"infoIconColor",O("palette-info-main")),Fe(I.Alert,"successIconColor",O("palette-success-main")),Fe(I.Alert,"warningIconColor",O("palette-warning-main")),Fe(I.AppBar,"defaultBg",O("palette-grey-100")),Fe(I.Avatar,"defaultBg",O("palette-grey-400")),Fe(I.Button,"inheritContainedBg",O("palette-grey-300")),Fe(I.Button,"inheritContainedHoverBg",O("palette-grey-A100")),Fe(I.Chip,"defaultBorder",O("palette-grey-400")),Fe(I.Chip,"defaultAvatarColor",O("palette-grey-700")),Fe(I.Chip,"defaultIconColor",O("palette-grey-700")),Fe(I.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Fe(I.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Fe(I.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Fe(I.LinearProgress,"primaryBg",Gn(I.primary.main,.62)),Fe(I.LinearProgress,"secondaryBg",Gn(I.secondary.main,.62)),Fe(I.LinearProgress,"errorBg",Gn(I.error.main,.62)),Fe(I.LinearProgress,"infoBg",Gn(I.info.main,.62)),Fe(I.LinearProgress,"successBg",Gn(I.success.main,.62)),Fe(I.LinearProgress,"warningBg",Gn(I.warning.main,.62)),Fe(I.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),Fe(I.Slider,"primaryTrack",Gn(I.primary.main,.62)),Fe(I.Slider,"secondaryTrack",Gn(I.secondary.main,.62)),Fe(I.Slider,"errorTrack",Gn(I.error.main,.62)),Fe(I.Slider,"infoTrack",Gn(I.info.main,.62)),Fe(I.Slider,"successTrack",Gn(I.success.main,.62)),Fe(I.Slider,"warningTrack",Gn(I.warning.main,.62));const F=nS(I.background.default,.8);Fe(I.SnackbarContent,"bg",F),Fe(I.SnackbarContent,"color",Sl(()=>I.getContrastText(F))),Fe(I.SpeedDialAction,"fabHoverBg",nS(I.background.paper,.15)),Fe(I.StepConnector,"border",O("palette-grey-400")),Fe(I.StepContent,"border",O("palette-grey-400")),Fe(I.Switch,"defaultColor",O("palette-common-white")),Fe(I.Switch,"defaultDisabledColor",O("palette-grey-100")),Fe(I.Switch,"primaryDisabledColor",Gn(I.primary.main,.62)),Fe(I.Switch,"secondaryDisabledColor",Gn(I.secondary.main,.62)),Fe(I.Switch,"errorDisabledColor",Gn(I.error.main,.62)),Fe(I.Switch,"infoDisabledColor",Gn(I.info.main,.62)),Fe(I.Switch,"successDisabledColor",Gn(I.success.main,.62)),Fe(I.Switch,"warningDisabledColor",Gn(I.warning.main,.62)),Fe(I.TableCell,"border",Gn(tS(I.divider,1),.88)),Fe(I.Tooltip,"bg",tS(I.grey[700],.92))}if(I.mode==="dark"){Fe(I.Alert,"errorColor",Gn(I.error.light,.6)),Fe(I.Alert,"infoColor",Gn(I.info.light,.6)),Fe(I.Alert,"successColor",Gn(I.success.light,.6)),Fe(I.Alert,"warningColor",Gn(I.warning.light,.6)),Fe(I.Alert,"errorFilledBg",O("palette-error-dark")),Fe(I.Alert,"infoFilledBg",O("palette-info-dark")),Fe(I.Alert,"successFilledBg",O("palette-success-dark")),Fe(I.Alert,"warningFilledBg",O("palette-warning-dark")),Fe(I.Alert,"errorFilledColor",Sl(()=>I.getContrastText(I.error.dark))),Fe(I.Alert,"infoFilledColor",Sl(()=>I.getContrastText(I.info.dark))),Fe(I.Alert,"successFilledColor",Sl(()=>I.getContrastText(I.success.dark))),Fe(I.Alert,"warningFilledColor",Sl(()=>I.getContrastText(I.warning.dark))),Fe(I.Alert,"errorStandardBg",Wn(I.error.light,.9)),Fe(I.Alert,"infoStandardBg",Wn(I.info.light,.9)),Fe(I.Alert,"successStandardBg",Wn(I.success.light,.9)),Fe(I.Alert,"warningStandardBg",Wn(I.warning.light,.9)),Fe(I.Alert,"errorIconColor",O("palette-error-main")),Fe(I.Alert,"infoIconColor",O("palette-info-main")),Fe(I.Alert,"successIconColor",O("palette-success-main")),Fe(I.Alert,"warningIconColor",O("palette-warning-main")),Fe(I.AppBar,"defaultBg",O("palette-grey-900")),Fe(I.AppBar,"darkBg",O("palette-background-paper")),Fe(I.AppBar,"darkColor",O("palette-text-primary")),Fe(I.Avatar,"defaultBg",O("palette-grey-600")),Fe(I.Button,"inheritContainedBg",O("palette-grey-800")),Fe(I.Button,"inheritContainedHoverBg",O("palette-grey-700")),Fe(I.Chip,"defaultBorder",O("palette-grey-700")),Fe(I.Chip,"defaultAvatarColor",O("palette-grey-300")),Fe(I.Chip,"defaultIconColor",O("palette-grey-300")),Fe(I.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Fe(I.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Fe(I.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Fe(I.LinearProgress,"primaryBg",Wn(I.primary.main,.5)),Fe(I.LinearProgress,"secondaryBg",Wn(I.secondary.main,.5)),Fe(I.LinearProgress,"errorBg",Wn(I.error.main,.5)),Fe(I.LinearProgress,"infoBg",Wn(I.info.main,.5)),Fe(I.LinearProgress,"successBg",Wn(I.success.main,.5)),Fe(I.LinearProgress,"warningBg",Wn(I.warning.main,.5)),Fe(I.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),Fe(I.Slider,"primaryTrack",Wn(I.primary.main,.5)),Fe(I.Slider,"secondaryTrack",Wn(I.secondary.main,.5)),Fe(I.Slider,"errorTrack",Wn(I.error.main,.5)),Fe(I.Slider,"infoTrack",Wn(I.info.main,.5)),Fe(I.Slider,"successTrack",Wn(I.success.main,.5)),Fe(I.Slider,"warningTrack",Wn(I.warning.main,.5));const F=nS(I.background.default,.98);Fe(I.SnackbarContent,"bg",F),Fe(I.SnackbarContent,"color",Sl(()=>I.getContrastText(F))),Fe(I.SpeedDialAction,"fabHoverBg",nS(I.background.paper,.15)),Fe(I.StepConnector,"border",O("palette-grey-600")),Fe(I.StepContent,"border",O("palette-grey-600")),Fe(I.Switch,"defaultColor",O("palette-grey-300")),Fe(I.Switch,"defaultDisabledColor",O("palette-grey-600")),Fe(I.Switch,"primaryDisabledColor",Wn(I.primary.main,.55)),Fe(I.Switch,"secondaryDisabledColor",Wn(I.secondary.main,.55)),Fe(I.Switch,"errorDisabledColor",Wn(I.error.main,.55)),Fe(I.Switch,"infoDisabledColor",Wn(I.info.main,.55)),Fe(I.Switch,"successDisabledColor",Wn(I.success.main,.55)),Fe(I.Switch,"warningDisabledColor",Wn(I.warning.main,.55)),Fe(I.TableCell,"border",Wn(tS(I.divider,1),.68)),Fe(I.Tooltip,"bg",tS(I.grey[700],.92))}qu(I.background,"default"),qu(I.background,"paper"),qu(I.common,"background"),qu(I.common,"onBackground"),qu(I,"divider"),Object.keys(I).forEach(F=>{const $=I[F];F!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&Fe(I[F],"mainChannel",Nb(Db($.main))),$.light&&Fe(I[F],"lightChannel",Nb(Db($.light))),$.dark&&Fe(I[F],"darkChannel",Nb(Db($.dark))),$.contrastText&&Fe(I[F],"contrastTextChannel",Nb(Db($.contrastText))),F==="text"&&(qu(I[F],"primary"),qu(I[F],"secondary")),F==="action"&&($.active&&qu(I[F],"active"),$.selected&&qu(I[F],"selected")))})}),C=e.reduce((M,I)=>pi(M,I),C);const k={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:H2e(C)},{vars:D,generateThemeVars:A,generateStyleSheets:P}=u2e(C,k);return C.vars=D,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(([M,I])=>{C[M]=I}),C.generateThemeVars=A,C.generateStyleSheets=P,C.generateSpacing=function(){return Xee(u.spacing,dR(this))},C.getColorSchemeSelector=c2e(a),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=s,C.unstable_sxConfig={...o1,...u==null?void 0:u.unstable_sxConfig},C.unstable_sx=function(I){return Bp({sx:I,theme:this})},C.toRuntimeSource=gte,C}function GH(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:W3({...n===!0?{}:n.palette,mode:e})})}function vte(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return uO(t,...e);let c=n;"palette"in t||u[a]&&(u[a]!==!0?c=u[a].palette:a==="dark"&&(c={mode:"dark"}));const d=uO({...t,palette:c},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},GH(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},GH(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),G2e({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}function K2e(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Y2e(t){return parseFloat(t)}const G3=vte();function rg(){const t=vR(G3);return t[iR]||t}function bte(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const yo=t=>bte(t)&&t!=="classes",Ke=tte({themeId:iR,defaultTheme:G3,rootShouldForwardProp:yo});function X2e(t){return V.jsx(MPe,{...t,defaultTheme:G3,themeId:iR})}function J2e(t){return function(n){return V.jsx(X2e,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function Q2e(){return H3}const Ft=o2e;function Ot(t){return i2e(t)}function Z2e(t){return Mt("MuiSvgIcon",t)}Nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const eMe=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${qe(e)}`,`fontSize${qe(n)}`]};return Dt(i,Z2e,r)},tMe=Ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${qe(n.color)}`],e[`fontSize${qe(n.fontSize)}`]]}})(Ft(({theme:t})=>{var e,n,r,i,o,s,a,l,u,c,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var b,v;return{props:{color:y},style:{color:(v=(b=(t.vars??t).palette)==null?void 0:b[y])==null?void 0:v.main}}}),{props:{color:"action"},style:{color:(f=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),dO=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:f="0 0 24 24",...p}=r,m=z.isValidElement(i)&&i.type==="svg",y={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:f,hasSvgAsChild:m},b={};c||(b.viewBox=f);const v=eMe(y);return V.jsxs(tMe,{as:a,className:Ze(v.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...b,...p,...m&&i.props,ownerState:y,children:[m?i.props.children:i,d?V.jsx("title",{children:d}):null]})});dO.muiName="SvgIcon";function Ln(t,e){function n(r,i){return V.jsx(dO,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=dO.muiName,z.memo(z.forwardRef(n))}function K3(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const o=typeof e=="function"?e(i):e,s=typeof t=="function"?t({...i,...o}):t,a=Ze(i==null?void 0:i.className,o==null?void 0:o.className,s==null?void 0:s.className);return{...o,...s,...!!a&&{className:a},...(o==null?void 0:o.style)&&(s==null?void 0:s.style)&&{style:{...o.style,...s.style}},...(o==null?void 0:o.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const n=e,r=Ze(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!r&&{className:r},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function wte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fO(t,e)}function _te(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fO(t,e)}const KH={disabled:!1},RT=ue.createContext(null);var nMe=function(e){return e.scrollTop},Lb="unmounted",ph="exited",gh="entering",Am="entered",hO="exiting",il=function(t){_te(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=ph,o.appearStatus=gh):l=Am:r.unmountOnExit||r.mountOnEnter?l=Lb:l=ph,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Lb?{status:ph}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==gh&&s!==Am&&(o=gh):(s===gh||s===Am)&&(o=hO)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===gh){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:hf.findDOMNode(this);s&&nMe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ph&&this.setState({status:Lb})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[hf.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||KH.disabled){this.safeSetState({status:Am},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:gh},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:Am},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:hf.findDOMNode(this);if(!o||KH.disabled){this.safeSetState({status:ph},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:hO},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ph},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:hf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Lb)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=wte(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ue.createElement(RT.Provider,{value:null},typeof s=="function"?s(i,a):ue.cloneElement(ue.Children.only(s),a))},e}(ue.Component);il.contextType=RT;il.propTypes={};function cm(){}il.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cm,onEntering:cm,onEntered:cm,onExit:cm,onExiting:cm,onExited:cm};il.UNMOUNTED=Lb;il.EXITED=ph;il.ENTERING=gh;il.ENTERED=Am;il.EXITING=hO;function rMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y3(t,e){var n=function(o){return e&&z.isValidElement(o)?e(o):o},r=Object.create(null);return t&&z.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function iMe(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ch(t,e,n){return n[e]!=null?n[e]:t.props[e]}function oMe(t,e){return Y3(t.children,function(n){return z.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ch(n,"appear",t),enter:Ch(n,"enter",t),exit:Ch(n,"exit",t)})})}function sMe(t,e,n){var r=Y3(t.children),i=iMe(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(z.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=z.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=z.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ch(s,"exit",t),enter:Ch(s,"enter",t)}):!l&&a&&!c?i[o]=z.cloneElement(s,{in:!1}):l&&a&&z.isValidElement(u)&&(i[o]=z.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Ch(s,"exit",t),enter:Ch(s,"enter",t)}))}}),i}var aMe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},lMe={component:"div",childFactory:function(e){return e}},X3=function(t){_te(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(rMe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?oMe(i,a):sMe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Y3(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=ST({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=wte(i,["component","childFactory"]),l=this.state.contextValue,u=aMe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?ue.createElement(RT.Provider,{value:l},u):ue.createElement(RT.Provider,{value:l},ue.createElement(o,a,u))},e}(ue.Component);X3.propTypes={};X3.defaultProps=lMe;const J3=t=>t.scrollTop;function Mv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function uMe(t){return Mt("MuiPaper",t)}Nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const cMe=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Dt(o,uMe,i)},dMe=Ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Ft(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Nv=z.forwardRef(function(e,n){var p;const r=Ot({props:e,name:"MuiPaper"}),i=rg(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:u="elevation",...c}=r,d={...r,component:s,elevation:a,square:l,variant:u},f=cMe(d);return V.jsx(dMe,{as:s,ownerState:d,className:Ze(f.root,o),ref:n,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${_n("#fff",cO(a))}, ${_n("#fff",cO(a))})`}},...c.style}})});function en(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:c={[t]:void 0},slotProps:d={[t]:void 0},...f}=o,p=c[t]||r,m=dte(d[t],i),{props:{component:y,...b},internalRef:v}=cte({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:m}),E=Mr(v,m==null?void 0:m.ref,e.ref),x=t==="root"?y||u:y,C=lte(p,{...t==="root"&&!u&&!c[t]&&s,...t!=="root"&&!c[t]&&s,...b,...x&&!a&&{as:x},...x&&a&&{component:x},ref:E},i);return[p,C]}class kT{constructor(){dt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new kT}static use(){const e=ste(kT.create).current,[n,r]=z.useState(!1);return e.shouldMount=n,e.setShouldMount=r,z.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=hMe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function fMe(){return kT.use()}function hMe(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function pMe(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,d]=z.useState(!1),f=Ze(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=Ze(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),z.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,a,u]),V.jsx("span",{className:f,style:p,children:V.jsx("span",{className:m})})}const Ks=Nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),pO=550,gMe=80,mMe=tg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,yMe=tg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,vMe=tg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,bMe=Ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),wMe=Ke(pMe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ks.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${mMe};
    animation-duration: ${pO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${Ks.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${Ks.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ks.childLeaving} {
    opacity: 0;
    animation-name: ${yMe};
    animation-duration: ${pO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${Ks.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${vMe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,_Me=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,u]=z.useState([]),c=z.useRef(0),d=z.useRef(null);z.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=z.useRef(!1),p=Sh(),m=z.useRef(null),y=z.useRef(null),b=z.useCallback(C=>{const{pulsate:k,rippleX:D,rippleY:A,rippleSize:P,cb:M}=C;u(I=>[...I,V.jsx(wMe,{classes:{ripple:Ze(o.ripple,Ks.ripple),rippleVisible:Ze(o.rippleVisible,Ks.rippleVisible),ripplePulsate:Ze(o.ripplePulsate,Ks.ripplePulsate),child:Ze(o.child,Ks.child),childLeaving:Ze(o.childLeaving,Ks.childLeaving),childPulsate:Ze(o.childPulsate,Ks.childPulsate)},timeout:pO,pulsate:k,rippleX:D,rippleY:A,rippleSize:P},c.current)]),c.current+=1,d.current=M},[o]),v=z.useCallback((C={},k={},D=()=>{})=>{const{pulsate:A=!1,center:P=i||k.pulsate,fakeElement:M=!1}=k;if((C==null?void 0:C.type)==="mousedown"&&f.current){f.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(f.current=!0);const I=M?null:y.current,O=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,$,L;if(P||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)F=Math.round(O.width/2),$=Math.round(O.height/2);else{const{clientX:q,clientY:K}=C.touches&&C.touches.length>0?C.touches[0]:C;F=Math.round(q-O.left),$=Math.round(K-O.top)}if(P)L=Math.sqrt((2*O.width**2+O.height**2)/3),L%2===0&&(L+=1);else{const q=Math.max(Math.abs((I?I.clientWidth:0)-F),F)*2+2,K=Math.max(Math.abs((I?I.clientHeight:0)-$),$)*2+2;L=Math.sqrt(q**2+K**2)}C!=null&&C.touches?m.current===null&&(m.current=()=>{b({pulsate:A,rippleX:F,rippleY:$,rippleSize:L,cb:D})},p.start(gMe,()=>{m.current&&(m.current(),m.current=null)})):b({pulsate:A,rippleX:F,rippleY:$,rippleSize:L,cb:D})},[i,b,p]),E=z.useCallback(()=>{v({},{pulsate:!0})},[v]),x=z.useCallback((C,k)=>{if(p.clear(),(C==null?void 0:C.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{x(C,k)});return}m.current=null,u(D=>D.length>0?D.slice(1):D),d.current=k},[p]);return z.useImperativeHandle(n,()=>({pulsate:E,start:v,stop:x}),[E,v,x]),V.jsx(bMe,{className:Ze(Ks.root,o.root,s),ref:y,...a,children:V.jsx(X3,{component:null,exit:!0,children:l})})});function xMe(t){return Mt("MuiButtonBase",t)}const EMe=Nt("MuiButtonBase",["root","disabled","focusVisible"]),SMe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Dt({root:["root",e&&"disabled",n&&"focusVisible"]},xMe,i);return n&&r&&(s.root+=` ${r}`),s},CMe=Ke("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EMe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zp=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:f=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:y,onClick:b,onContextMenu:v,onDragLeave:E,onFocus:x,onFocusVisible:C,onKeyDown:k,onKeyUp:D,onMouseDown:A,onMouseLeave:P,onMouseUp:M,onTouchEnd:I,onTouchMove:O,onTouchStart:F,tabIndex:$=0,TouchRippleProps:L,touchRippleRef:q,type:K,...X}=r,ee=z.useRef(null),J=fMe(),G=Mr(J.ref,q),[Y,Z]=z.useState(!1);u&&Y&&Z(!1),z.useImperativeHandle(i,()=>({focusVisible:()=>{Z(!0),ee.current.focus()}}),[]);const W=J.shouldMount&&!c&&!u;z.useEffect(()=>{Y&&f&&!c&&J.pulsate()},[c,f,Y,J]);const oe=ju(J,"start",A,d),re=ju(J,"stop",v,d),me=ju(J,"stop",E,d),ge=ju(J,"stop",M,d),ce=ju(J,"stop",we=>{Y&&we.preventDefault(),P&&P(we)},d),he=ju(J,"start",F,d),be=ju(J,"stop",I,d),Ce=ju(J,"stop",O,d),Ae=ju(J,"stop",we=>{AT(we.target)||Z(!1),y&&y(we)},!1),Oe=Nc(we=>{ee.current||(ee.current=we.currentTarget),AT(we.target)&&(Z(!0),C&&C(we)),x&&x(we)}),j=()=>{const we=ee.current;return l&&l!=="button"&&!(we.tagName==="A"&&we.href)},pe=Nc(we=>{f&&!we.repeat&&Y&&we.key===" "&&J.stop(we,()=>{J.start(we)}),we.target===we.currentTarget&&j()&&we.key===" "&&we.preventDefault(),k&&k(we),we.target===we.currentTarget&&j()&&we.key==="Enter"&&!u&&(we.preventDefault(),b&&b(we))}),ve=Nc(we=>{f&&we.key===" "&&Y&&!we.defaultPrevented&&J.stop(we,()=>{J.pulsate(we)}),D&&D(we),b&&we.target===we.currentTarget&&j()&&we.key===" "&&!we.defaultPrevented&&b(we)});let se=l;se==="button"&&(X.href||X.to)&&(se=m);const te={};se==="button"?(te.type=K===void 0?"button":K,te.disabled=u):(!X.href&&!X.to&&(te.role="button"),u&&(te["aria-disabled"]=u));const fe=Mr(n,ee),_e={...r,centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:f,tabIndex:$,focusVisible:Y},Ie=SMe(_e);return V.jsxs(CMe,{as:se,className:Ze(Ie.root,a),ownerState:_e,onBlur:Ae,onClick:b,onContextMenu:re,onFocus:Oe,onKeyDown:pe,onKeyUp:ve,onMouseDown:oe,onMouseLeave:ce,onMouseUp:ge,onDragLeave:me,onTouchEnd:be,onTouchMove:Ce,onTouchStart:he,ref:fe,tabIndex:u?-1:$,type:K,...te,...X,children:[s,W?V.jsx(_Me,{ref:G,center:o,...L}):null]})});function ju(t,e,n,r=!1){return Nc(i=>(n&&n(i),r||t[e](i),!0))}function TMe(t){return typeof t.main=="string"}function AMe(t,e=[]){if(!TMe(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Ji(t=[]){return([,e])=>e&&AMe(e,t)}function RMe(t){return Mt("MuiCircularProgress",t)}Nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Pd=44,gO=tg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,mO=tg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,kMe=typeof gO!="string"?r1`
        animation: ${gO} 1.4s linear infinite;
      `:null,IMe=typeof mO!="string"?r1`
        animation: ${mO} 1.4s ease-in-out infinite;
      `:null,PMe=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${qe(r)}`],svg:["svg"],circle:["circle",`circle${qe(n)}`,i&&"circleDisableShrink"]};return Dt(o,RMe,e)},MMe=Ke("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${qe(n.color)}`]]}})(Ft(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:kMe||{animation:`${gO} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Ji()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),NMe=Ke("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),DMe=Ke("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${qe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Ft(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:IMe||{animation:`${mO} 1.4s ease-in-out infinite`}}]}))),xte=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate",...f}=r,p={...r,color:o,disableShrink:s,size:a,thickness:u,value:c,variant:d},m=PMe(p),y={},b={},v={};if(d==="determinate"){const E=2*Math.PI*((Pd-u)/2);y.strokeDasharray=E.toFixed(3),v["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*E).toFixed(3)}px`,b.transform="rotate(-90deg)"}return V.jsx(MMe,{className:Ze(m.root,i),style:{width:a,height:a,...b,...l},ownerState:p,ref:n,role:"progressbar",...v,...f,children:V.jsx(NMe,{className:m.svg,ownerState:p,viewBox:`${Pd/2} ${Pd/2} ${Pd} ${Pd}`,children:V.jsx(DMe,{className:m.circle,style:y,ownerState:p,cx:Pd,cy:Pd,r:(Pd-u)/2,fill:"none",strokeWidth:u})})})});function LMe(t){return Mt("MuiIconButton",t)}const YH=Nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),OMe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${qe(r)}`,i&&`edge${qe(i)}`,`size${qe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Dt(a,LMe,e)},FMe=Ke(zp,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${qe(n.color)}`],n.edge&&e[`edge${qe(n.edge)}`],e[`size${qe(n.size)}`]]}})(Ft(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ft(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Ji()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Ji()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_n((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${YH.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${YH.loading}`]:{color:"transparent"}}))),$Me=Ke("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),tc=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium",id:d,loading:f=null,loadingIndicator:p,...m}=r,y=t0(d),b=p??V.jsx(xte,{"aria-labelledby":y,color:"inherit",size:16}),v={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:f,loadingIndicator:b,size:c},E=OMe(v);return V.jsxs(FMe,{id:f?y:d,className:Ze(E.root,s),centerRipple:!0,focusRipple:!u,disabled:l||f,ref:n,...m,ownerState:v,children:[typeof f=="boolean"&&V.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:V.jsx($Me,{className:E.loadingIndicator,ownerState:v,children:f&&b})}),o]})});function BMe(t){return Mt("MuiTypography",t)}const XH=Nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),zMe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},VMe=Q2e(),UMe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${qe(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Dt(a,BMe,s)},HMe=Ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${qe(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Ft(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Ji()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${qe(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),JH={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},cn=z.forwardRef(function(e,n){const{color:r,...i}=Ot({props:e,name:"MuiTypography"}),o=!zMe[r],s=VMe({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:d=!1,paragraph:f=!1,variant:p="body1",variantMapping:m=JH,...y}=s,b={...s,align:a,color:r,className:l,component:u,gutterBottom:c,noWrap:d,paragraph:f,variant:p,variantMapping:m},v=u||(f?"p":m[p]||JH[p])||"span",E=UMe(b);return V.jsx(HMe,{as:v,ref:n,className:Ze(E.root,l),...y,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});var jo="top",ia="bottom",oa="right",Wo="left",Q3="auto",s1=[jo,ia,oa,Wo],Dv="start",Qw="end",qMe="clippingParents",Ete="viewport",Q0="popper",jMe="reference",QH=s1.reduce(function(t,e){return t.concat([e+"-"+Dv,e+"-"+Qw])},[]),Ste=[].concat(s1,[Q3]).reduce(function(t,e){return t.concat([e,e+"-"+Dv,e+"-"+Qw])},[]),WMe="beforeRead",GMe="read",KMe="afterRead",YMe="beforeMain",XMe="main",JMe="afterMain",QMe="beforeWrite",ZMe="write",eNe="afterWrite",tNe=[WMe,GMe,KMe,YMe,XMe,JMe,QMe,ZMe,eNe];function vu(t){return t?(t.nodeName||"").toLowerCase():null}function Is(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Vp(t){var e=Is(t).Element;return t instanceof e||t instanceof Element}function ra(t){var e=Is(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Z3(t){if(typeof ShadowRoot>"u")return!1;var e=Is(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function nNe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ra(o)||!vu(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function rNe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!ra(i)||!vu(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const iNe={name:"applyStyles",enabled:!0,phase:"write",fn:nNe,effect:rNe,requires:["computeStyles"]};function uu(t){return t.split("-")[0]}var Tp=Math.max,IT=Math.min,Lv=Math.round;function yO(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Cte(){return!/^((?!chrome|android).)*safari/i.test(yO())}function Ov(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ra(t)&&(i=t.offsetWidth>0&&Lv(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Lv(r.height)/t.offsetHeight||1);var s=Vp(t)?Is(t):window,a=s.visualViewport,l=!Cte()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function e4(t){var e=Ov(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Tte(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Z3(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wc(t){return Is(t).getComputedStyle(t)}function oNe(t){return["table","td","th"].indexOf(vu(t))>=0}function Of(t){return((Vp(t)?t.ownerDocument:t.document)||window.document).documentElement}function ER(t){return vu(t)==="html"?t:t.assignedSlot||t.parentNode||(Z3(t)?t.host:null)||Of(t)}function ZH(t){return!ra(t)||Wc(t).position==="fixed"?null:t.offsetParent}function sNe(t){var e=/firefox/i.test(yO()),n=/Trident/i.test(yO());if(n&&ra(t)){var r=Wc(t);if(r.position==="fixed")return null}var i=ER(t);for(Z3(i)&&(i=i.host);ra(i)&&["html","body"].indexOf(vu(i))<0;){var o=Wc(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function a1(t){for(var e=Is(t),n=ZH(t);n&&oNe(n)&&Wc(n).position==="static";)n=ZH(n);return n&&(vu(n)==="html"||vu(n)==="body"&&Wc(n).position==="static")?e:n||sNe(t)||e}function t4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gw(t,e,n){return Tp(t,IT(e,n))}function aNe(t,e,n){var r=gw(t,e,n);return r>n?n:r}function Ate(){return{top:0,right:0,bottom:0,left:0}}function Rte(t){return Object.assign({},Ate(),t)}function kte(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var lNe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Rte(typeof e!="number"?e:kte(e,s1))};function uNe(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=uu(n.placement),l=t4(a),u=[Wo,oa].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=lNe(i.padding,n),f=e4(o),p=l==="y"?jo:Wo,m=l==="y"?ia:oa,y=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],b=s[l]-n.rects.reference[l],v=a1(o),E=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,x=y/2-b/2,C=d[p],k=E-f[c]-d[m],D=E/2-f[c]/2+x,A=gw(C,D,k),P=l;n.modifiersData[r]=(e={},e[P]=A,e.centerOffset=A-D,e)}}function cNe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Tte(e.elements.popper,i)&&(e.elements.arrow=i))}const dNe={name:"arrow",enabled:!0,phase:"main",fn:uNe,effect:cNe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fv(t){return t.split("-")[1]}var fNe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hNe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Lv(n*i)/i||0,y:Lv(r*i)/i||0}}function e8(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=s.x,p=f===void 0?0:f,m=s.y,y=m===void 0?0:m,b=typeof c=="function"?c({x:p,y}):{x:p,y};p=b.x,y=b.y;var v=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),x=Wo,C=jo,k=window;if(u){var D=a1(n),A="clientHeight",P="clientWidth";if(D===Is(n)&&(D=Of(n),Wc(D).position!=="static"&&a==="absolute"&&(A="scrollHeight",P="scrollWidth")),D=D,i===jo||(i===Wo||i===oa)&&o===Qw){C=ia;var M=d&&D===k&&k.visualViewport?k.visualViewport.height:D[A];y-=M-r.height,y*=l?1:-1}if(i===Wo||(i===jo||i===ia)&&o===Qw){x=oa;var I=d&&D===k&&k.visualViewport?k.visualViewport.width:D[P];p-=I-r.width,p*=l?1:-1}}var O=Object.assign({position:a},u&&fNe),F=c===!0?hNe({x:p,y},Is(n)):{x:p,y};if(p=F.x,y=F.y,l){var $;return Object.assign({},O,($={},$[C]=E?"0":"",$[x]=v?"0":"",$.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},O,(e={},e[C]=E?y+"px":"",e[x]=v?p+"px":"",e.transform="",e))}function pNe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:uu(e.placement),variation:Fv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,e8(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,e8(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const gNe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pNe,data:{}};var rS={passive:!0};function mNe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Is(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,rS)}),a&&l.addEventListener("resize",n.update,rS),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,rS)}),a&&l.removeEventListener("resize",n.update,rS)}}const yNe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mNe,data:{}};var vNe={left:"right",right:"left",bottom:"top",top:"bottom"};function tC(t){return t.replace(/left|right|bottom|top/g,function(e){return vNe[e]})}var bNe={start:"end",end:"start"};function t8(t){return t.replace(/start|end/g,function(e){return bNe[e]})}function n4(t){var e=Is(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function r4(t){return Ov(Of(t)).left+n4(t).scrollLeft}function wNe(t,e){var n=Is(t),r=Of(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=Cte();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+r4(t),y:l}}function _Ne(t){var e,n=Of(t),r=n4(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Tp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Tp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+r4(t),l=-r.scrollTop;return Wc(i||n).direction==="rtl"&&(a+=Tp(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function i4(t){var e=Wc(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ite(t){return["html","body","#document"].indexOf(vu(t))>=0?t.ownerDocument.body:ra(t)&&i4(t)?t:Ite(ER(t))}function mw(t,e){var n;e===void 0&&(e=[]);var r=Ite(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Is(r),s=i?[o].concat(o.visualViewport||[],i4(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(mw(ER(s)))}function vO(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function xNe(t,e){var n=Ov(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function n8(t,e,n){return e===Ete?vO(wNe(t,n)):Vp(e)?xNe(e,n):vO(_Ne(Of(t)))}function ENe(t){var e=mw(ER(t)),n=["absolute","fixed"].indexOf(Wc(t).position)>=0,r=n&&ra(t)?a1(t):t;return Vp(r)?e.filter(function(i){return Vp(i)&&Tte(i,r)&&vu(i)!=="body"}):[]}function SNe(t,e,n,r){var i=e==="clippingParents"?ENe(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=n8(t,u,r);return l.top=Tp(c.top,l.top),l.right=IT(c.right,l.right),l.bottom=IT(c.bottom,l.bottom),l.left=Tp(c.left,l.left),l},n8(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Pte(t){var e=t.reference,n=t.element,r=t.placement,i=r?uu(r):null,o=r?Fv(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case jo:l={x:s,y:e.y-n.height};break;case ia:l={x:s,y:e.y+e.height};break;case oa:l={x:e.x+e.width,y:a};break;case Wo:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?t4(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Dv:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Qw:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Zw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?qMe:a,u=n.rootBoundary,c=u===void 0?Ete:u,d=n.elementContext,f=d===void 0?Q0:d,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,b=y===void 0?0:y,v=Rte(typeof b!="number"?b:kte(b,s1)),E=f===Q0?jMe:Q0,x=t.rects.popper,C=t.elements[m?E:f],k=SNe(Vp(C)?C:C.contextElement||Of(t.elements.popper),l,c,s),D=Ov(t.elements.reference),A=Pte({reference:D,element:x,placement:i}),P=vO(Object.assign({},x,A)),M=f===Q0?P:D,I={top:k.top-M.top+v.top,bottom:M.bottom-k.bottom+v.bottom,left:k.left-M.left+v.left,right:M.right-k.right+v.right},O=t.modifiersData.offset;if(f===Q0&&O){var F=O[i];Object.keys(I).forEach(function($){var L=[oa,ia].indexOf($)>=0?1:-1,q=[jo,ia].indexOf($)>=0?"y":"x";I[$]+=F[q]*L})}return I}function CNe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Ste:l,c=Fv(r),d=c?a?QH:QH.filter(function(m){return Fv(m)===c}):s1,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,y){return m[y]=Zw(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[uu(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function TNe(t){if(uu(t)===Q3)return[];var e=tC(t);return[t8(t),e,t8(e)]}function ANe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,b=e.options.placement,v=uu(b),E=v===b,x=l||(E||!m?[tC(b)]:TNe(b)),C=[b].concat(x).reduce(function(oe,re){return oe.concat(uu(re)===Q3?CNe(e,{placement:re,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:y}):re)},[]),k=e.rects.reference,D=e.rects.popper,A=new Map,P=!0,M=C[0],I=0;I<C.length;I++){var O=C[I],F=uu(O),$=Fv(O)===Dv,L=[jo,ia].indexOf(F)>=0,q=L?"width":"height",K=Zw(e,{placement:O,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),X=L?$?oa:Wo:$?ia:jo;k[q]>D[q]&&(X=tC(X));var ee=tC(X),J=[];if(o&&J.push(K[F]<=0),a&&J.push(K[X]<=0,K[ee]<=0),J.every(function(oe){return oe})){M=O,P=!1;break}A.set(O,J)}if(P)for(var G=m?3:1,Y=function(re){var me=C.find(function(ge){var ce=A.get(ge);if(ce)return ce.slice(0,re).every(function(he){return he})});if(me)return M=me,"break"},Z=G;Z>0;Z--){var W=Y(Z);if(W==="break")break}e.placement!==M&&(e.modifiersData[r]._skip=!0,e.placement=M,e.reset=!0)}}const RNe={name:"flip",enabled:!0,phase:"main",fn:ANe,requiresIfExists:["offset"],data:{_skip:!1}};function r8(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function i8(t){return[jo,oa,ia,Wo].some(function(e){return t[e]>=0})}function kNe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Zw(e,{elementContext:"reference"}),a=Zw(e,{altBoundary:!0}),l=r8(s,r),u=r8(a,i,o),c=i8(l),d=i8(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const INe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kNe};function PNe(t,e,n){var r=uu(t),i=[Wo,jo].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Wo,oa].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function MNe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Ste.reduce(function(c,d){return c[d]=PNe(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const NNe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MNe};function DNe(t){var e=t.state,n=t.name;e.modifiersData[n]=Pte({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const LNe={name:"popperOffsets",enabled:!0,phase:"read",fn:DNe,data:{}};function ONe(t){return t==="x"?"y":"x"}function FNe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,y=m===void 0?0:m,b=Zw(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=uu(e.placement),E=Fv(e.placement),x=!E,C=t4(v),k=ONe(C),D=e.modifiersData.popperOffsets,A=e.rects.reference,P=e.rects.popper,M=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,I=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(D){if(o){var $,L=C==="y"?jo:Wo,q=C==="y"?ia:oa,K=C==="y"?"height":"width",X=D[C],ee=X+b[L],J=X-b[q],G=p?-P[K]/2:0,Y=E===Dv?A[K]:P[K],Z=E===Dv?-P[K]:-A[K],W=e.elements.arrow,oe=p&&W?e4(W):{width:0,height:0},re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ate(),me=re[L],ge=re[q],ce=gw(0,A[K],oe[K]),he=x?A[K]/2-G-ce-me-I.mainAxis:Y-ce-me-I.mainAxis,be=x?-A[K]/2+G+ce+ge+I.mainAxis:Z+ce+ge+I.mainAxis,Ce=e.elements.arrow&&a1(e.elements.arrow),Ae=Ce?C==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,Oe=($=O==null?void 0:O[C])!=null?$:0,j=X+he-Oe-Ae,pe=X+be-Oe,ve=gw(p?IT(ee,j):ee,X,p?Tp(J,pe):J);D[C]=ve,F[C]=ve-X}if(a){var se,te=C==="x"?jo:Wo,fe=C==="x"?ia:oa,_e=D[k],Ie=k==="y"?"height":"width",we=_e+b[te],Le=_e-b[fe],He=[jo,Wo].indexOf(v)!==-1,Be=(se=O==null?void 0:O[k])!=null?se:0,xe=He?we:_e-A[Ie]-P[Ie]-Be+I.altAxis,Me=He?_e+A[Ie]+P[Ie]-Be-I.altAxis:Le,Ve=p&&He?aNe(xe,_e,Me):gw(p?xe:we,_e,p?Me:Le);D[k]=Ve,F[k]=Ve-_e}e.modifiersData[r]=F}}const $Ne={name:"preventOverflow",enabled:!0,phase:"main",fn:FNe,requiresIfExists:["offset"]};function BNe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function zNe(t){return t===Is(t)||!ra(t)?n4(t):BNe(t)}function VNe(t){var e=t.getBoundingClientRect(),n=Lv(e.width)/t.offsetWidth||1,r=Lv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function UNe(t,e,n){n===void 0&&(n=!1);var r=ra(e),i=ra(e)&&VNe(e),o=Of(e),s=Ov(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((vu(e)!=="body"||i4(o))&&(a=zNe(e)),ra(e)?(l=Ov(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=r4(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function HNe(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function qNe(t){var e=HNe(t);return tNe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function jNe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function WNe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var o8={placement:"bottom",modifiers:[],strategy:"absolute"};function s8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function GNe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?o8:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},o8,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:c,setOptions:function(v){var E=typeof v=="function"?v(c.options):v;y(),c.options=Object.assign({},o,c.options,E),c.scrollParents={reference:Vp(a)?mw(a):a.contextElement?mw(a.contextElement):[],popper:mw(l)};var x=qNe(WNe([].concat(r,c.options.modifiers)));return c.orderedModifiers=x.filter(function(C){return C.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=c.elements,E=v.reference,x=v.popper;if(s8(E,x)){c.rects={reference:UNe(E,a1(x),c.options.strategy==="fixed"),popper:e4(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var k=c.orderedModifiers[C],D=k.fn,A=k.options,P=A===void 0?{}:A,M=k.name;typeof D=="function"&&(c=D({state:c,options:P,name:M,instance:p})||c)}}}},update:jNe(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){y(),f=!0}};if(!s8(a,l))return p;p.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function m(){c.orderedModifiers.forEach(function(b){var v=b.name,E=b.options,x=E===void 0?{}:E,C=b.effect;if(typeof C=="function"){var k=C({state:c,name:v,instance:p,options:x}),D=function(){};d.push(k||D)}})}function y(){d.forEach(function(b){return b()}),d=[]}return p}}var KNe=[yNe,LNe,gNe,iNe,NNe,RNe,$Ne,dNe,INe],YNe=GNe({defaultModifiers:KNe});function XNe(t){return typeof t=="function"?t():t}const Mte=z.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=z.useState(null),l=Mr(z.isValidElement(r)?ng(r):null,n);if(yu(()=>{o||a(XNe(i)||document.body)},[i,o]),yu(()=>{if(s&&!o)return LH(n,s),()=>{LH(n,null)}},[n,s,o]),o){if(z.isValidElement(r)){const u={ref:l};return z.cloneElement(r,u)}return r}return s&&Ic.createPortal(r,s)});function JNe(t){return Mt("MuiPopper",t)}Nt("MuiPopper",["root"]);function QNe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function bO(t){return typeof t=="function"?t():t}function ZNe(t){return t.nodeType!==void 0}const eDe=t=>{const{classes:e}=t;return Dt({root:["root"]},JNe,e)},tDe={},nDe=z.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:f={},slots:p={},TransitionProps:m,ownerState:y,...b}=e,v=z.useRef(null),E=Mr(v,n),x=z.useRef(null),C=Mr(x,d),k=z.useRef(C);yu(()=>{k.current=C},[C]),z.useImperativeHandle(d,()=>x.current,[]);const D=QNe(u,o),[A,P]=z.useState(D),[M,I]=z.useState(bO(r));z.useEffect(()=>{x.current&&x.current.forceUpdate()}),z.useEffect(()=>{r&&I(bO(r))},[r]),yu(()=>{if(!M||!l)return;const q=ee=>{P(ee.placement)};let K=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{q(ee)}}];a!=null&&(K=K.concat(a)),c&&c.modifiers!=null&&(K=K.concat(c.modifiers));const X=YNe(M,v.current,{placement:D,...c,modifiers:K});return k.current(X),()=>{X.destroy(),k.current(null)}},[M,s,a,l,c,D]);const O={placement:A};m!==null&&(O.TransitionProps=m);const F=eDe(e),$=p.root??"div",L=fte({elementType:$,externalSlotProps:f.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:F.root});return V.jsx($,{...L,children:typeof i=="function"?i(O):i})}),rDe=z.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:f=tDe,popperRef:p,style:m,transition:y=!1,slotProps:b={},slots:v={},...E}=e,[x,C]=z.useState(!0),k=()=>{C(!1)},D=()=>{C(!0)};if(!l&&!c&&(!y||x))return null;let A;if(o)A=o;else if(r){const I=bO(r);A=I&&ZNe(I)?ks(I).body:ks(null).body}const P=!c&&l&&(!y||x)?"none":void 0,M=y?{in:c,onEnter:k,onExited:D}:void 0;return V.jsx(Mte,{disablePortal:a,container:A,children:V.jsx(nDe,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:y?!x:c,placement:d,popperOptions:f,popperRef:p,slotProps:b,slots:v,...E,style:{position:"fixed",top:0,left:0,display:P,...m},TransitionProps:M,children:i})})}),iDe=Ke(rDe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Nte=z.forwardRef(function(e,n){const r=j3(),i=Ot({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:f,open:p,placement:m,popperOptions:y,popperRef:b,transition:v,slots:E,slotProps:x,...C}=i,k=(E==null?void 0:E.root)??(a==null?void 0:a.Root),D={anchorEl:o,container:u,disablePortal:c,keepMounted:d,modifiers:f,open:p,placement:m,popperOptions:y,popperRef:b,transition:v,...C};return V.jsx(iDe,{as:s,direction:r?"rtl":"ltr",slots:{root:k},slotProps:x??l,...D,ref:n})}),oDe=Ln(V.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function sDe(t){return Mt("MuiChip",t)}const sn=Nt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),aDe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,u={root:["root",l,n&&"disabled",`size${qe(r)}`,`color${qe(i)}`,a&&"clickable",a&&`clickableColor${qe(i)}`,s&&"deletable",s&&`deletableColor${qe(i)}`,`${l}${qe(i)}`],label:["label",`label${qe(r)}`],avatar:["avatar",`avatar${qe(r)}`,`avatarColor${qe(i)}`],icon:["icon",`icon${qe(r)}`,`iconColor${qe(o)}`],deleteIcon:["deleteIcon",`deleteIcon${qe(r)}`,`deleteIconColor${qe(i)}`,`deleteIcon${qe(l)}Color${qe(i)}`]};return Dt(u,sDe,e)},lDe=Ke("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${sn.avatar}`]:e.avatar},{[`& .${sn.avatar}`]:e[`avatar${qe(a)}`]},{[`& .${sn.avatar}`]:e[`avatarColor${qe(r)}`]},{[`& .${sn.icon}`]:e.icon},{[`& .${sn.icon}`]:e[`icon${qe(a)}`]},{[`& .${sn.icon}`]:e[`iconColor${qe(i)}`]},{[`& .${sn.deleteIcon}`]:e.deleteIcon},{[`& .${sn.deleteIcon}`]:e[`deleteIcon${qe(a)}`]},{[`& .${sn.deleteIcon}`]:e[`deleteIconColor${qe(r)}`]},{[`& .${sn.deleteIcon}`]:e[`deleteIcon${qe(l)}Color${qe(r)}`]},e.root,e[`size${qe(a)}`],e[`color${qe(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${qe(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${qe(r)}`],e[l],e[`${l}${qe(r)}`]]}})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${sn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${sn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${sn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${sn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${sn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${sn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${sn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:_n(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:_n(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${sn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${sn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Ji(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${sn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:_n(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${sn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${sn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${sn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_n(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Ji(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${sn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_n(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${sn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_n(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Ji(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${sn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${sn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${sn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${sn.avatar}`]:{marginLeft:4},[`& .${sn.avatarSmall}`]:{marginLeft:2},[`& .${sn.icon}`]:{marginLeft:4},[`& .${sn.iconSmall}`]:{marginLeft:2},[`& .${sn.deleteIcon}`]:{marginRight:5},[`& .${sn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Ji()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:_n(t.palette[n].main,.7)}`,[`&.${sn.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${sn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:_n(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${sn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:_n(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),uDe=Ke("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${qe(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function a8(t){return t.key==="Backspace"||t.key==="Delete"}const cDe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:f,onClick:p,onDelete:m,onKeyDown:y,onKeyUp:b,size:v="medium",variant:E="filled",tabIndex:x,skipFocusWhenDisabled:C=!1,...k}=r,D=z.useRef(null),A=Mr(D,n),P=J=>{J.stopPropagation(),m&&m(J)},M=J=>{J.currentTarget===J.target&&a8(J)&&J.preventDefault(),y&&y(J)},I=J=>{J.currentTarget===J.target&&m&&a8(J)&&m(J),b&&b(J)},O=s!==!1&&p?!0:s,F=O||m?zp:l||"div",$={...r,component:F,disabled:c,size:v,color:a,iconColor:z.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:O,variant:E},L=aDe($),q=F===zp?{component:l||"div",focusVisibleClassName:L.focusVisible,...m&&{disableRipple:!0}}:{};let K=null;m&&(K=u&&z.isValidElement(u)?z.cloneElement(u,{className:Ze(u.props.className,L.deleteIcon),onClick:P}):V.jsx(oDe,{className:Ze(L.deleteIcon),onClick:P}));let X=null;i&&z.isValidElement(i)&&(X=z.cloneElement(i,{className:Ze(L.avatar,i.props.className)}));let ee=null;return d&&z.isValidElement(d)&&(ee=z.cloneElement(d,{className:Ze(L.icon,d.props.className)})),V.jsxs(lDe,{as:F,className:Ze(L.root,o),disabled:O&&c?!0:void 0,onClick:p,onKeyDown:M,onKeyUp:I,ref:A,tabIndex:C&&c?-1:x,ownerState:$,...q,...k,children:[X||ee,V.jsx(uDe,{className:Ze(L.label),ownerState:$,children:f}),K]})});function iS(t){return parseInt(t,10)||0}const dDe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function fDe(t){for(const e in t)return!1;return!0}function l8(t){return fDe(t)||t.outerHeightStyle===0&&!t.overflowing}const hDe=z.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:u}=z.useRef(a!=null),c=z.useRef(null),d=Mr(n,c),f=z.useRef(null),p=z.useRef(null),m=z.useCallback(()=>{const x=c.current,C=p.current;if(!x||!C)return;const D=jc(x).getComputedStyle(x);if(D.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=D.width,C.value=x.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const A=D.boxSizing,P=iS(D.paddingBottom)+iS(D.paddingTop),M=iS(D.borderBottomWidth)+iS(D.borderTopWidth),I=C.scrollHeight;C.value="x";const O=C.scrollHeight;let F=I;o&&(F=Math.max(Number(o)*O,F)),i&&(F=Math.min(Number(i)*O,F)),F=Math.max(F,O);const $=F+(A==="border-box"?P+M:0),L=Math.abs(F-I)<=1;return{outerHeightStyle:$,overflowing:L}},[i,o,e.placeholder]),y=Nc(()=>{const x=c.current,C=m();if(!x||!C||l8(C))return!1;const k=C.outerHeightStyle;return f.current!=null&&f.current!==k}),b=z.useCallback(()=>{const x=c.current,C=m();if(!x||!C||l8(C))return;const k=C.outerHeightStyle;f.current!==k&&(f.current=k,x.style.height=`${k}px`),x.style.overflow=C.overflowing?"hidden":""},[m]),v=z.useRef(-1);yu(()=>{const x=ote(b),C=c==null?void 0:c.current;if(!C)return;const k=jc(C);k.addEventListener("resize",x);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(()=>{y()&&(D.unobserve(C),cancelAnimationFrame(v.current),b(),v.current=requestAnimationFrame(()=>{D.observe(C)}))}),D.observe(C)),()=>{x.clear(),cancelAnimationFrame(v.current),k.removeEventListener("resize",x),D&&D.disconnect()}},[m,b,y]),yu(()=>{b()});const E=x=>{u||b(),r&&r(x)};return V.jsxs(z.Fragment,{children:[V.jsx("textarea",{value:a,onChange:E,ref:d,rows:o,style:s,...l}),V.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...dDe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function wO(t){return typeof t=="string"}function Ff({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const SR=z.createContext(void 0);function xu(){return z.useContext(SR)}function u8(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function PT(t,e=!1){return t&&(u8(t.value)&&t.value!==""||e&&u8(t.defaultValue)&&t.defaultValue!=="")}function pDe(t){return t.startAdornment}function gDe(t){return Mt("MuiInputBase",t)}const $v=Nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var c8;const CR=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${qe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},TR=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},mDe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:f,startAdornment:p,type:m}=t,y={root:["root",`color${qe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${qe(f)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Dt(y,gDe,e)},AR=Ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:CR})(Ft(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$v.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),RR=Ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:TR})(Ft(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$v.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${$v.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),d8=J2e({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),o4=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:u={},componentsProps:c={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,error:y,fullWidth:b=!1,id:v,inputComponent:E="input",inputProps:x={},inputRef:C,margin:k,maxRows:D,minRows:A,multiline:P=!1,name:M,onBlur:I,onChange:O,onClick:F,onFocus:$,onKeyDown:L,onKeyUp:q,placeholder:K,readOnly:X,renderSuffix:ee,rows:J,size:G,slotProps:Y={},slots:Z={},startAdornment:W,type:oe="text",value:re,...me}=r,ge=x.value!=null?x.value:re,{current:ce}=z.useRef(ge!=null),he=z.useRef(),be=z.useCallback(rt=>{},[]),Ce=Mr(he,C,x.ref,be),[Ae,Oe]=z.useState(!1),j=xu(),pe=Ff({props:r,muiFormControl:j,states:["color","disabled","error","hiddenLabel","size","required","filled"]});pe.focused=j?j.focused:Ae,z.useEffect(()=>{!j&&f&&Ae&&(Oe(!1),I&&I())},[j,f,Ae,I]);const ve=j&&j.onFilled,se=j&&j.onEmpty,te=z.useCallback(rt=>{PT(rt)?ve&&ve():se&&se()},[ve,se]);yu(()=>{ce&&te({value:ge})},[ge,te,ce]);const fe=rt=>{$&&$(rt),x.onFocus&&x.onFocus(rt),j&&j.onFocus?j.onFocus(rt):Oe(!0)},_e=rt=>{I&&I(rt),x.onBlur&&x.onBlur(rt),j&&j.onBlur?j.onBlur(rt):Oe(!1)},Ie=(rt,...Qt)=>{if(!ce){const vt=rt.target||he.current;if(vt==null)throw new Error(qc(1));te({value:vt.value})}x.onChange&&x.onChange(rt,...Qt),O&&O(rt,...Qt)};z.useEffect(()=>{te(he.current)},[]);const we=rt=>{he.current&&rt.currentTarget===rt.target&&he.current.focus(),F&&F(rt)};let Le=E,He=x;P&&Le==="input"&&(J?He={type:void 0,minRows:J,maxRows:J,...He}:He={type:void 0,maxRows:D,minRows:A,...He},Le=hDe);const Be=rt=>{te(rt.animationName==="mui-auto-fill-cancel"?he.current:{value:"x"})};z.useEffect(()=>{j&&j.setAdornedStart(!!W)},[j,W]);const xe={...r,color:pe.color||"primary",disabled:pe.disabled,endAdornment:m,error:pe.error,focused:pe.focused,formControl:j,fullWidth:b,hiddenLabel:pe.hiddenLabel,multiline:P,size:pe.size,startAdornment:W,type:oe},Me=mDe(xe),Ve=Z.root||u.Root||AR,nt=Y.root||c.root||{},wt=Z.input||u.Input||RR;return He={...He,...Y.input??c.input},V.jsxs(z.Fragment,{children:[!p&&typeof d8=="function"&&(c8||(c8=V.jsx(d8,{}))),V.jsxs(Ve,{...nt,ref:n,onClick:we,...me,...!wO(Ve)&&{ownerState:{...xe,...nt.ownerState}},className:Ze(Me.root,nt.className,a,X&&"MuiInputBase-readOnly"),children:[W,V.jsx(SR.Provider,{value:null,children:V.jsx(wt,{"aria-invalid":pe.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:pe.disabled,id:v,onAnimationStart:Be,name:M,placeholder:K,readOnly:X,required:pe.required,rows:J,value:ge,onKeyDown:L,onKeyUp:q,type:oe,...He,...!wO(wt)&&{as:Le,ownerState:{...xe,...He.ownerState}},ref:Ce,className:Ze(Me.input,He.className,X&&"MuiInputBase-readOnly"),onBlur:_e,onChange:Ie,onFocus:fe})}),m,ee?ee({...pe,startAdornment:W}):null]})]})});function yDe(t){return Mt("MuiInput",t)}const Z0={...$v,...Nt("MuiInput",["root","underline","input"])};function vDe(t){return Mt("MuiOutlinedInput",t)}const Cl={...$v,...Nt("MuiOutlinedInput",["root","notchedOutline","input"])};function bDe(t){return Mt("MuiFilledInput",t)}const ch={...$v,...Nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},wDe=Ln(V.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_De=Ln(V.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function xDe(t){return Mt("MuiAvatar",t)}Nt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const EDe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Dt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},xDe,e)},SDe=Ke("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Ft(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),CDe=Ke("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),TDe=Ke(_De,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function ADe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=z.useState(!1);return z.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const f8=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:f,srcSet:p,variant:m="circular",...y}=r;let b=null;const v={...r,component:a,variant:m},E=ADe({...c,...typeof u.img=="function"?u.img(v):u.img,src:f,srcSet:p}),x=f||p,C=x&&E!=="error";v.colorDefault=!C,delete v.ownerState;const k=EDe(v),[D,A]=en("img",{className:k.img,elementType:CDe,externalForwardedProps:{slots:l,slotProps:{img:{...c,...u.img}}},additionalProps:{alt:i,src:f,srcSet:p,sizes:d},ownerState:v});return C?b=V.jsx(D,{...A}):o||o===0?b=o:x&&i?b=i[0]:b=V.jsx(TDe,{ownerState:v,className:k.fallback}),V.jsx(SDe,{as:a,className:Ze(k.root,s),ref:n,...y,ownerState:v,children:b})}),RDe={entering:{opacity:1},entered:{opacity:1}},_O=z.forwardRef(function(e,n){const r=rg(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:b,timeout:v=i,TransitionComponent:E=il,...x}=e,C=z.useRef(null),k=Mr(C,ng(a),n),D=L=>q=>{if(L){const K=C.current;q===void 0?L(K):L(K,q)}},A=D(f),P=D((L,q)=>{J3(L);const K=Mv({style:b,timeout:v,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",K),L.style.transition=r.transitions.create("opacity",K),c&&c(L,q)}),M=D(d),I=D(y),O=D(L=>{const q=Mv({style:b,timeout:v,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",q),L.style.transition=r.transitions.create("opacity",q),p&&p(L)}),F=D(m),$=L=>{o&&o(C.current,L)};return V.jsx(E,{appear:s,in:u,nodeRef:C,onEnter:P,onEntered:M,onEntering:A,onExit:O,onExited:F,onExiting:I,addEndListener:$,timeout:v,...x,children:(L,{ownerState:q,...K})=>z.cloneElement(a,{style:{opacity:0,visibility:L==="exited"&&!u?"hidden":void 0,...RDe[L],...b,...a.props.style},ref:k,...K})})});function kDe(t){return Mt("MuiBackdrop",t)}Nt("MuiBackdrop",["root","invisible"]);const IDe=t=>{const{classes:e,invisible:n}=t;return Dt({root:["root",n&&"invisible"]},kDe,e)},PDe=Ke("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Dte=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:u={},componentsProps:c={},slotProps:d={},slots:f={},TransitionComponent:p,transitionDuration:m,...y}=r,b={...r,component:s,invisible:a},v=IDe(b),E={transition:p,root:u.Root,...f},x={...c,...d},C={slots:E,slotProps:x},[k,D]=en("root",{elementType:PDe,externalForwardedProps:C,className:Ze(v.root,o),ownerState:b}),[A,P]=en("transition",{elementType:_O,externalForwardedProps:C,ownerState:b});return V.jsx(A,{in:l,timeout:m,...y,...P,children:V.jsx(k,{"aria-hidden":!0,...D,classes:v,ref:n,children:i})})}),MDe=Nt("MuiBox",["root"]),NDe=vte(),kt=LPe({themeId:iR,defaultTheme:NDe,defaultClassName:MDe.root,generateClassName:Jee.generate});function DDe(t){return Mt("MuiButton",t)}const dh=Nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),LDe=z.createContext({}),ODe=z.createContext(void 0),FDe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,u={root:["root",s&&"loading",o,`${o}${qe(e)}`,`size${qe(i)}`,`${o}Size${qe(i)}`,`color${qe(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${qe(a)}`],startIcon:["icon","startIcon",`iconSize${qe(i)}`],endIcon:["icon","endIcon",`iconSize${qe(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=Dt(u,DDe,l);return{...l,...c}},Lte=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],$De=Ke(zp,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${qe(n.color)}`],e[`size${qe(n.size)}`],e[`${n.variant}Size${qe(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${dh.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${dh.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${dh.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${dh.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Ji()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:_n(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${dh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${dh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${dh.loading}`]:{color:"transparent"}}}]}})),BDe=Ke("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${qe(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Lte]})),zDe=Ke("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${qe(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Lte]})),VDe=Ke("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),h8=Ke("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Zn=z.forwardRef(function(e,n){const r=z.useContext(LDe),i=z.useContext(ODe),o=Xw(r,e),s=Ot({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:b=!1,id:v,loading:E=null,loadingIndicator:x,loadingPosition:C="center",size:k="medium",startIcon:D,type:A,variant:P="text",...M}=s,I=t0(v),O=x??V.jsx(xte,{"aria-labelledby":I,color:"inherit",size:16}),F={...s,color:l,component:u,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:b,loading:E,loadingIndicator:O,loadingPosition:C,size:k,type:A,variant:P},$=FDe(F),L=(D||E&&C==="start")&&V.jsx(BDe,{className:$.startIcon,ownerState:F,children:D||V.jsx(h8,{className:$.loadingIconPlaceholder,ownerState:F})}),q=(m||E&&C==="end")&&V.jsx(zDe,{className:$.endIcon,ownerState:F,children:m||V.jsx(h8,{className:$.loadingIconPlaceholder,ownerState:F})}),K=i||"",X=typeof E=="boolean"?V.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:E&&V.jsx(VDe,{className:$.loadingIndicator,ownerState:F,children:O})}):null;return V.jsxs($De,{ownerState:F,className:Ze(r.className,$.root,c,K),component:u,disabled:d||E,focusRipple:!p,focusVisibleClassName:Ze($.focusVisible,y),ref:n,type:A,id:E?I:v,...M,classes:$,children:[L,C!=="end"&&X,a,C==="end"&&X,q]})});function UDe(t){return Mt("PrivateSwitchBase",t)}Nt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const HDe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${qe(i)}`],input:["input"]};return Dt(o,UDe,e)},qDe=Ke(zp)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),jDe=Ke("input",{shouldForwardProp:yo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),WDe=z.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:f,inputRef:p,name:m,onBlur:y,onChange:b,onFocus:v,readOnly:E,required:x=!1,tabIndex:C,type:k,value:D,slots:A={},slotProps:P={},...M}=e,[I,O]=Jw({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),F=xu(),$=re=>{v&&v(re),F&&F.onFocus&&F.onFocus(re)},L=re=>{y&&y(re),F&&F.onBlur&&F.onBlur(re)},q=re=>{if(re.nativeEvent.defaultPrevented)return;const me=re.target.checked;O(me),b&&b(re,me)};let K=a;F&&typeof K>"u"&&(K=F.disabled);const X=k==="checkbox"||k==="radio",ee={...e,checked:I,disabled:K,disableFocusRipple:l,edge:u},J=HDe(ee),G={slots:A,slotProps:{input:f,...P}},[Y,Z]=en("root",{ref:n,elementType:qDe,className:J.root,shouldForwardComponentProp:!0,externalForwardedProps:{...G,component:"span",...M},getSlotProps:re=>({...re,onFocus:me=>{var ge;(ge=re.onFocus)==null||ge.call(re,me),$(me)},onBlur:me=>{var ge;(ge=re.onBlur)==null||ge.call(re,me),L(me)}}),ownerState:ee,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:K,role:void 0,tabIndex:null}}),[W,oe]=en("input",{ref:p,elementType:jDe,className:J.input,externalForwardedProps:G,getSlotProps:re=>({onChange:me=>{var ge;(ge=re.onChange)==null||ge.call(re,me),q(me)}}),ownerState:ee,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:K,id:X?d:void 0,name:m,readOnly:E,required:x,tabIndex:C,type:k,...k==="checkbox"&&D===void 0?{}:{value:D}}});return V.jsxs(Y,{...Z,children:[V.jsx(W,{...oe}),I?o:c]})}),GDe=Ln(V.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),KDe=Ln(V.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),YDe=Ln(V.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function XDe(t){return Mt("MuiCheckbox",t)}const SP=Nt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),JDe=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${qe(r)}`,`size${qe(i)}`]},s=Dt(o,XDe,e);return{...e,...s}},QDe=Ke(WDe,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${qe(n.size)}`],n.color!=="default"&&e[`color${qe(n.color)}`]]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Ji()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_n(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Ji()).map(([e])=>({props:{color:e},style:{[`&.${SP.checked}, &.${SP.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${SP.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ZDe=V.jsx(KDe,{}),eLe=V.jsx(GDe,{}),tLe=V.jsx(YDe,{}),xO=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiCheckbox"}),{checkedIcon:i=ZDe,color:o="primary",icon:s=eLe,indeterminate:a=!1,indeterminateIcon:l=tLe,inputProps:u,size:c="medium",disableRipple:d=!1,className:f,slots:p={},slotProps:m={},...y}=r,b=a?l:s,v=a?l:i,E={...r,disableRipple:d,color:o,indeterminate:a,size:c},x=JDe(E),C=m.input??u,[k,D]=en("root",{ref:n,elementType:QDe,className:Ze(x.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:m,...y},ownerState:E,additionalProps:{type:"checkbox",icon:z.cloneElement(b,{fontSize:b.props.fontSize??c}),checkedIcon:z.cloneElement(v,{fontSize:v.props.fontSize??c}),disableRipple:d,slots:p,slotProps:{input:K3(typeof C=="function"?C(E):C,{"data-indeterminate":a})}}});return V.jsx(k,{...D,classes:x})});function nLe(t){const e=ks(t);return e.body===t?jc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function yw(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function p8(t){return parseInt(jc(t).getComputedStyle(t).paddingRight,10)||0}function rLe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function g8(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!rLe(s);a&&l&&yw(s,i)})}function CP(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function iLe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(nLe(r)){const s=ate(jc(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${p8(r)+s}px`;const a=ks(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${p8(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=ks(r).body;else{const s=r.parentElement,a=jc(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function oLe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class sLe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&yw(e.modalRef,!1);const i=oLe(n);g8(n,e.mount,e.modalRef,i,!0);const o=CP(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=CP(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=iLe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=CP(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&yw(e.modalRef,n),g8(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&yw(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const aLe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lLe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function uLe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function cLe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||uLe(t))}function dLe(t){const e=[],n=[];return Array.from(t.querySelectorAll(aLe)).forEach((r,i)=>{const o=lLe(r);o===-1||!cLe(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function fLe(){return!0}function hLe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=dLe,isEnabled:s=fLe,open:a}=t,l=z.useRef(!1),u=z.useRef(null),c=z.useRef(null),d=z.useRef(null),f=z.useRef(null),p=z.useRef(!1),m=z.useRef(null),y=Mr(ng(e),m),b=z.useRef(null);z.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),z.useEffect(()=>{if(!a||!m.current)return;const x=ks(m.current);return m.current.contains(x.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),z.useEffect(()=>{if(!a||!m.current)return;const x=ks(m.current),C=A=>{b.current=A,!(r||!s()||A.key!=="Tab")&&x.activeElement===m.current&&A.shiftKey&&(l.current=!0,c.current&&c.current.focus())},k=()=>{var M,I;const A=m.current;if(A===null)return;if(!x.hasFocus()||!s()||l.current){l.current=!1;return}if(A.contains(x.activeElement)||r&&x.activeElement!==u.current&&x.activeElement!==c.current)return;if(x.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let P=[];if((x.activeElement===u.current||x.activeElement===c.current)&&(P=o(m.current)),P.length>0){const O=!!((M=b.current)!=null&&M.shiftKey&&((I=b.current)==null?void 0:I.key)==="Tab"),F=P[0],$=P[P.length-1];typeof F!="string"&&typeof $!="string"&&(O?$.focus():F.focus())}else A.focus()};x.addEventListener("focusin",k),x.addEventListener("keydown",C,!0);const D=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(D),x.removeEventListener("focusin",k),x.removeEventListener("keydown",C,!0)}},[n,r,i,s,a,o]);const v=x=>{d.current===null&&(d.current=x.relatedTarget),p.current=!0,f.current=x.target;const C=e.props.onFocus;C&&C(x)},E=x=>{d.current===null&&(d.current=x.relatedTarget),p.current=!0};return V.jsxs(z.Fragment,{children:[V.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),z.cloneElement(e,{ref:y,onFocus:v}),V.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:c,"data-testid":"sentinelEnd"})]})}function pLe(t){return typeof t=="function"?t():t}function gLe(t){return t?t.props.hasOwnProperty("in"):!1}const m8=()=>{},oS=new sLe;function mLe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:u,rootRef:c}=t,d=z.useRef({}),f=z.useRef(null),p=z.useRef(null),m=Mr(p,c),[y,b]=z.useState(!u),v=gLe(a);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const x=()=>ks(f.current),C=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),k=()=>{oS.mount(C(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},D=Nc(()=>{const q=pLe(e)||x().body;oS.add(C(),q),p.current&&k()}),A=()=>oS.isTopModal(C()),P=Nc(q=>{f.current=q,q&&(u&&A()?k():p.current&&yw(p.current,E))}),M=z.useCallback(()=>{oS.remove(C(),E)},[E]);z.useEffect(()=>()=>{M()},[M]),z.useEffect(()=>{u?D():(!v||!i)&&M()},[u,M,v,i,D]);const I=q=>K=>{var X;(X=q.onKeyDown)==null||X.call(q,K),!(K.key!=="Escape"||K.which===229||!A())&&(n||(K.stopPropagation(),l&&l(K,"escapeKeyDown")))},O=q=>K=>{var X;(X=q.onClick)==null||X.call(q,K),K.target===K.currentTarget&&l&&l(K,"backdropClick")};return{getRootProps:(q={})=>{const K=ute(t);delete K.onTransitionEnter,delete K.onTransitionExited;const X={...K,...q};return{role:"presentation",...X,onKeyDown:I(X),ref:m}},getBackdropProps:(q={})=>{const K=q;return{"aria-hidden":!0,...K,onClick:O(K),open:u}},getTransitionProps:()=>{const q=()=>{b(!1),o&&o()},K=()=>{b(!0),s&&s(),i&&M()};return{onEnter:DH(q,(a==null?void 0:a.props.onEnter)??m8),onExited:DH(K,(a==null?void 0:a.props.onExited)??m8)}},rootRef:m,portalRef:P,isTopModal:A,exited:y,hasTransition:v}}function yLe(t){return Mt("MuiModal",t)}Nt("MuiModal",["root","hidden","backdrop"]);const vLe=t=>{const{open:e,exited:n,classes:r}=t;return Dt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},yLe,r)},bLe=Ke("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Ft(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),wLe=Ke(Dte,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Ote=z.forwardRef(function(e,n){const r=Ot({name:"MuiModal",props:e}),{BackdropComponent:i=wLe,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:u,container:c,component:d,components:f={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:b=!1,disablePortal:v=!1,disableRestoreFocus:E=!1,disableScrollLock:x=!1,hideBackdrop:C=!1,keepMounted:k=!1,onBackdropClick:D,onClose:A,onTransitionEnter:P,onTransitionExited:M,open:I,slotProps:O={},slots:F={},theme:$,...L}=r,q={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:y,disableEscapeKeyDown:b,disablePortal:v,disableRestoreFocus:E,disableScrollLock:x,hideBackdrop:C,keepMounted:k},{getRootProps:K,getBackdropProps:X,getTransitionProps:ee,portalRef:J,isTopModal:G,exited:Y,hasTransition:Z}=mLe({...q,rootRef:n}),W={...q,exited:Y},oe=vLe(W),re={};if(u.props.tabIndex===void 0&&(re.tabIndex="-1"),Z){const{onEnter:Ce,onExited:Ae}=ee();re.onEnter=Ce,re.onExited=Ae}const me={slots:{root:f.Root,backdrop:f.Backdrop,...F},slotProps:{...p,...O}},[ge,ce]=en("root",{ref:n,elementType:bLe,externalForwardedProps:{...me,...L,component:d},getSlotProps:K,ownerState:W,className:Ze(a,oe==null?void 0:oe.root,!W.open&&W.exited&&(oe==null?void 0:oe.hidden))}),[he,be]=en("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:me,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:Ce=>X({...Ce,onClick:Ae=>{D&&D(Ae),Ce!=null&&Ce.onClick&&Ce.onClick(Ae)}}),className:Ze(o==null?void 0:o.className,oe==null?void 0:oe.backdrop),ownerState:W});return!k&&!I&&(!Z||Y)?null:V.jsx(Mte,{ref:J,container:c,disablePortal:v,children:V.jsxs(ge,{...ce,children:[!C&&i?V.jsx(he,{...be}):null,V.jsx(hLe,{disableEnforceFocus:y,disableAutoFocus:m,disableRestoreFocus:E,isEnabled:G,open:I,children:z.cloneElement(u,re)})]})})});function _Le(t){return Mt("MuiDialog",t)}const TP=Nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Fte=z.createContext({}),xLe=Ke(Dte,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),ELe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${qe(n)}`],paper:["paper",`paperScroll${qe(n)}`,`paperWidth${qe(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Dt(s,_Le,e)},SLe=Ke(Ote,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),CLe=Ke("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${qe(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),TLe=Ke(Nv,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${qe(n.scroll)}`],e[`paperWidth${qe(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Ft(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${TP.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${TP.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${TP.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),nC=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiDialog"}),i=rg(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:c,children:d,className:f,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:y=!1,maxWidth:b="sm",onBackdropClick:v,onClick:E,onClose:x,open:C,PaperComponent:k=Nv,PaperProps:D={},scroll:A="paper",slots:P={},slotProps:M={},TransitionComponent:I=_O,transitionDuration:O=o,TransitionProps:F,...$}=r,L={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:y,maxWidth:b,scroll:A},q=ELe(L),K=z.useRef(),X=j=>{K.current=j.target===j.currentTarget},ee=j=>{E&&E(j),K.current&&(K.current=null,v&&v(j),x&&x(j,"backdropClick"))},J=t0(a),G=z.useMemo(()=>({titleId:J}),[J]),Y={transition:I,...P},Z={transition:F,paper:D,backdrop:c,...M},W={slots:Y,slotProps:Z},[oe,re]=en("root",{elementType:SLe,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:L,className:Ze(q.root,f),ref:n}),[me,ge]=en("backdrop",{elementType:xLe,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:L}),[ce,he]=en("paper",{elementType:TLe,shouldForwardComponentProp:!0,externalForwardedProps:W,ownerState:L,className:Ze(q.paper,D.className)}),[be,Ce]=en("container",{elementType:CLe,externalForwardedProps:W,ownerState:L,className:Ze(q.container)}),[Ae,Oe]=en("transition",{elementType:_O,externalForwardedProps:W,ownerState:L,additionalProps:{appear:!0,in:C,timeout:O,role:"presentation"}});return V.jsx(oe,{closeAfterTransition:!0,slots:{backdrop:me},slotProps:{backdrop:{transitionDuration:O,as:u,...ge}},disableEscapeKeyDown:p,onClose:x,open:C,onClick:ee,...re,...$,children:V.jsx(Ae,{...Oe,children:V.jsx(be,{onMouseDown:X,...Ce,children:V.jsx(ce,{as:k,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":J,"aria-modal":l,...he,children:V.jsx(Fte.Provider,{value:G,children:d})})})})})});function ALe(t){return Mt("MuiDialogActions",t)}Nt("MuiDialogActions",["root","spacing"]);const RLe=t=>{const{classes:e,disableSpacing:n}=t;return Dt({root:["root",!n&&"spacing"]},ALe,e)},kLe=Ke("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),rC=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=RLe(a);return V.jsx(kLe,{className:Ze(l.root,i),ownerState:a,ref:n,...s})});function ILe(t){return Mt("MuiDialogContent",t)}Nt("MuiDialogContent",["root","dividers"]);function PLe(t){return Mt("MuiDialogTitle",t)}const MLe=Nt("MuiDialogTitle",["root"]),NLe=t=>{const{classes:e,dividers:n}=t;return Dt({root:["root",n&&"dividers"]},ILe,e)},DLe=Ke("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Ft(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${MLe.root} + &`]:{paddingTop:0}}}]}))),iC=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=NLe(a);return V.jsx(DLe,{className:Ze(l.root,i),ownerState:a,ref:n,...s})}),LLe=t=>{const{classes:e}=t;return Dt({root:["root"]},PLe,e)},OLe=Ke(cn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),oC=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=LLe(a),{titleId:u=o}=z.useContext(Fte);return V.jsx(OLe,{component:"h2",className:Ze(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??u,...s})});function FLe(t){return Mt("MuiDivider",t)}const y8=Nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),$Le=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return Dt({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},FLe,r)},BLe=Ke("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Ft(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:_n(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),zLe=Ke("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Ft(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),EO=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:l=o||a==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:d=l!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth",...m}=r,y={...r,absolute:i,component:l,flexItem:u,light:c,orientation:a,role:d,textAlign:f,variant:p},b=$Le(y);return V.jsx(BLe,{as:l,className:Ze(b.root,s),role:d,ref:n,ownerState:y,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...m,children:o?V.jsx(zLe,{className:b.wrapper,ownerState:y,children:o}):null})});EO&&(EO.muiSkipListHighlight=!0);function VLe(t){return Mt("MuiFab",t)}const v8=Nt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),ULe=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${qe(i)}`,e==="inherit"?"colorInherit":e]},s=Dt(o,VLe,r);return{...r,...s}},HLe=Ke(zp,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>yo(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${qe(n.size)}`],n.color==="inherit"&&e.colorInherit,e[qe(n.size)],e[n.color]]}})(Ft(({theme:t})=>{var e,n;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(e=t.palette).getContrastText)==null?void 0:n.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${v8.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),Ft(({theme:t})=>({variants:[...Object.entries(t.palette).filter(Ji(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),Ft(({theme:t})=>({[`&.${v8.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),$te=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:d="large",variant:f="circular",...p}=r,m={...r,color:s,component:a,disabled:l,disableFocusRipple:u,size:d,variant:f},y=ULe(m);return V.jsx(HLe,{className:Ze(y.root,o),component:a,disabled:l,focusRipple:!u,focusVisibleClassName:Ze(y.focusVisible,c),ownerState:m,ref:n,...p,classes:y,children:i})}),qLe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${qe(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Dt(l,bDe,e);return{...e,...u}},jLe=Ke(AR,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...CR(t,e),!n.disableUnderline&&e.underline]}})(Ft(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${ch.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${ch.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ch.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ch.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ch.disabled}, .${ch.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ch.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ji()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),WLe=Ke(RR,{name:"MuiFilledInput",slot:"Input",overridesResolver:TR})(Ft(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),s4=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:d,slots:f={},type:p="text",...m}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:c,type:p},b=qLe(r),v={root:{ownerState:y},input:{ownerState:y}},E=d??s?pi(v,d??s):v,x=f.root??o.Root??jLe,C=f.input??o.Input??WLe;return V.jsx(o4,{slots:{root:x,input:C},slotProps:E,fullWidth:a,inputComponent:u,multiline:c,ref:n,type:p,...m,classes:b})});s4.muiName="Input";function GLe(t){return Mt("MuiFormControl",t)}Nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KLe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${qe(n)}`,r&&"fullWidth"]};return Dt(i,GLe,e)},YLe=Ke("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${qe(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Bte=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:y="medium",variant:b="outlined",...v}=r,E={...r,color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:f,margin:p,required:m,size:y,variant:b},x=KLe(E),[C,k]=z.useState(()=>{let q=!1;return i&&z.Children.forEach(i,K=>{if(!eC(K,["Input","Select"]))return;const X=eC(K,["Select"])?K.props.input:K;X&&pDe(X.props)&&(q=!0)}),q}),[D,A]=z.useState(()=>{let q=!1;return i&&z.Children.forEach(i,K=>{eC(K,["Input","Select"])&&(PT(K.props,!0)||PT(K.props.inputProps,!0))&&(q=!0)}),q}),[P,M]=z.useState(!1);l&&P&&M(!1);const I=c!==void 0&&!l?c:P;let O;z.useRef(!1);const F=z.useCallback(()=>{A(!0)},[]),$=z.useCallback(()=>{A(!1)},[]),L=z.useMemo(()=>({adornedStart:C,setAdornedStart:k,color:s,disabled:l,error:u,filled:D,focused:I,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{M(!1)},onFocus:()=>{M(!0)},onEmpty:$,onFilled:F,registerEffect:O,required:m,variant:b}),[C,s,l,u,D,I,d,f,O,$,F,m,y,b]);return V.jsx(SR.Provider,{value:L,children:V.jsx(YLe,{as:a,ownerState:E,className:Ze(x.root,o),ref:n,...v,children:i})})});function XLe(t){return Mt("MuiFormControlLabel",t)}const Ob=Nt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),JLe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${qe(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Dt(s,XLe,e)},QLe=Ke("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ob.label}`]:e.label},e.root,e[`labelPlacement${qe(n.labelPlacement)}`]]}})(Ft(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ob.disabled}`]:{cursor:"default"},[`& .${Ob.label}`]:{[`&.${Ob.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),ZLe=Ke("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Ft(({theme:t})=>({[`&.${Ob.error}`]:{color:(t.vars||t).palette.error.main}}))),SO=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:u,inputRef:c,label:d,labelPlacement:f="end",name:p,onChange:m,required:y,slots:b={},slotProps:v={},value:E,...x}=r,C=xu(),k=l??a.props.disabled??(C==null?void 0:C.disabled),D=y??a.props.required,A={disabled:k,required:D};["checked","name","onChange","value","inputRef"].forEach(q=>{typeof a.props[q]>"u"&&typeof r[q]<"u"&&(A[q]=r[q])});const P=Ff({props:r,muiFormControl:C,states:["error"]}),M={...r,disabled:k,labelPlacement:f,required:D,error:P.error},I=JLe(M),O={slots:b,slotProps:{...s,...v}},[F,$]=en("typography",{elementType:cn,externalForwardedProps:O,ownerState:M});let L=d;return L!=null&&L.type!==cn&&!u&&(L=V.jsx(F,{component:"span",...$,className:Ze(I.label,$==null?void 0:$.className),children:L})),V.jsxs(QLe,{className:Ze(I.root,o),ownerState:M,ref:n,...x,children:[z.cloneElement(a,A),D?V.jsxs("div",{children:[L,V.jsxs(ZLe,{ownerState:M,"aria-hidden":!0,className:I.asterisk,children:["","*"]})]}):L]})});function eOe(t){return Mt("MuiFormGroup",t)}Nt("MuiFormGroup",["root","row","error"]);const tOe=t=>{const{classes:e,row:n,error:r}=t;return Dt({root:["root",n&&"row",r&&"error"]},eOe,e)},nOe=Ke("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),rOe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1,...s}=r,a=xu(),l=Ff({props:r,muiFormControl:a,states:["error"]}),u={...r,row:o,error:l.error},c=tOe(u);return V.jsx(nOe,{className:Ze(c.root,i),ownerState:u,ref:n,...s})});function iOe(t){return Mt("MuiFormHelperText",t)}const b8=Nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var w8;const oOe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${qe(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Dt(u,iOe,e)},sOe=Ke("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${qe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${b8.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${b8.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),aOe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:u,focused:c,margin:d,required:f,variant:p,...m}=r,y=xu(),b=Ff({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),v={...r,component:s,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete v.ownerState;const E=oOe(v);return V.jsx(sOe,{as:s,className:Ze(E.root,o),ref:n,...m,ownerState:v,children:i===" "?w8||(w8=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function lOe(t){return Mt("MuiFormLabel",t)}const vw=Nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uOe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${qe(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Dt(l,lOe,e)},cOe=Ke("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Ft(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Ji()).map(([e])=>({props:{color:e},style:{[`&.${vw.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${vw.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${vw.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),dOe=Ke("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Ft(({theme:t})=>({[`&.${vw.error}`]:{color:(t.vars||t).palette.error.main}}))),fOe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:u,filled:c,focused:d,required:f,...p}=r,m=xu(),y=Ff({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),b={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},v=uOe(b);return V.jsxs(cOe,{as:a,ownerState:b,className:Ze(v.root,o),ref:n,...p,children:[i,y.required&&V.jsxs(dOe,{ownerState:b,"aria-hidden":!0,className:v.asterisk,children:["","*"]})]})});function CO(t){return`scale(${t}, ${t**2})`}const hOe={entering:{opacity:1,transform:CO(1)},entered:{opacity:1,transform:"none"}},AP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),MT=z.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:f,onExiting:p,style:m,timeout:y="auto",TransitionComponent:b=il,...v}=e,E=Sh(),x=z.useRef(),C=rg(),k=z.useRef(null),D=Mr(k,ng(o),n),A=q=>K=>{if(q){const X=k.current;K===void 0?q(X):q(X,K)}},P=A(c),M=A((q,K)=>{J3(q);const{duration:X,delay:ee,easing:J}=Mv({style:m,timeout:y,easing:s},{mode:"enter"});let G;y==="auto"?(G=C.transitions.getAutoHeightDuration(q.clientHeight),x.current=G):G=X,q.style.transition=[C.transitions.create("opacity",{duration:G,delay:ee}),C.transitions.create("transform",{duration:AP?G:G*.666,delay:ee,easing:J})].join(","),l&&l(q,K)}),I=A(u),O=A(p),F=A(q=>{const{duration:K,delay:X,easing:ee}=Mv({style:m,timeout:y,easing:s},{mode:"exit"});let J;y==="auto"?(J=C.transitions.getAutoHeightDuration(q.clientHeight),x.current=J):J=K,q.style.transition=[C.transitions.create("opacity",{duration:J,delay:X}),C.transitions.create("transform",{duration:AP?J:J*.666,delay:AP?X:X||J*.333,easing:ee})].join(","),q.style.opacity=0,q.style.transform=CO(.75),d&&d(q)}),$=A(f),L=q=>{y==="auto"&&E.start(x.current||0,q),r&&r(k.current,q)};return V.jsx(b,{appear:i,in:a,nodeRef:k,onEnter:M,onEntered:I,onEntering:P,onExit:F,onExited:$,onExiting:O,addEndListener:L,timeout:y==="auto"?null:y,...v,children:(q,{ownerState:K,...X})=>z.cloneElement(o,{style:{opacity:0,transform:CO(.75),visibility:q==="exited"&&!a?"hidden":void 0,...hOe[q],...m,...o.props.style},ref:D,...X})})});MT&&(MT.muiSupportAuto=!0);const pOe=t=>{const{classes:e,disableUnderline:n}=t,i=Dt({root:["root",!n&&"underline"],input:["input"]},yDe,e);return{...e,...i}},gOe=Ke(AR,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...CR(t,e),!n.disableUnderline&&e.underline]}})(Ft(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Z0.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Z0.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Z0.disabled}, .${Z0.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Z0.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Ji()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),mOe=Ke(RR,{name:"MuiInput",slot:"Input",overridesResolver:TR})({}),a4=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:d={},type:f="text",...p}=r,m=pOe(r),b={root:{ownerState:{disableUnderline:i}}},v=c??s?pi(c??s,b):b,E=d.root??o.Root??gOe,x=d.input??o.Input??mOe;return V.jsx(o4,{slots:{root:E,input:x},slotProps:v,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:f,...p,classes:m})});a4.muiName="Input";function yOe(t){return Mt("MuiInputAdornment",t)}const _8=Nt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var x8;const vOe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${qe(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},bOe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${qe(i)}`,s,r&&"hiddenLabel",o&&`size${qe(o)}`]};return Dt(a,yOe,e)},wOe=Ke("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:vOe})(Ft(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${_8.positionStart}&:not(.${_8.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),_Oe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c,...d}=r,f=xu()||{};let p=c;c&&f.variant,f&&!p&&(p=f.variant);const m={...r,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:u,variant:p},y=bOe(m);return V.jsx(SR.Provider,{value:null,children:V.jsx(wOe,{as:s,ownerState:m,className:Ze(y.root,o),ref:n,...d,children:typeof i=="string"&&!l?V.jsx(cn,{color:"textSecondary",children:i}):V.jsxs(z.Fragment,{children:[u==="start"?x8||(x8=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function xOe(t){return Mt("MuiInputLabel",t)}Nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const EOe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${qe(r)}`,s],asterisk:[a&&"asterisk"]},u=Dt(l,xOe,e);return{...e,...u}},SOe=Ke(fOe,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${vw.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Ft(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),COe=z.forwardRef(function(e,n){const r=Ot({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...u}=r,c=xu();let d=s;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const f=Ff({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:c,shrink:d,size:f.size,variant:f.variant,required:f.required,focused:f.focused},m=EOe(p);return V.jsx(SOe,{"data-shrink":d,ref:n,className:Ze(m.root,l),...u,ownerState:p,classes:m})}),e_=z.createContext({});function TOe(t){return Mt("MuiList",t)}Nt("MuiList",["root","padding","dense","subheader"]);const AOe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Dt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},TOe,e)},ROe=Ke("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),kOe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...c}=r,d=z.useMemo(()=>({dense:a}),[a]),f={...r,component:s,dense:a,disablePadding:l},p=AOe(f);return V.jsx(e_.Provider,{value:d,children:V.jsxs(ROe,{as:s,className:Ze(p.root,o),ref:n,ownerState:f,...c,children:[u,i]})})});function IOe(t){return Mt("MuiListItemIcon",t)}const E8=Nt("MuiListItemIcon",["root","alignItemsFlexStart"]),POe=t=>{const{alignItems:e,classes:n}=t;return Dt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},IOe,n)},MOe=Ke("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Ft(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),S8=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiListItemIcon"}),{className:i,...o}=r,s=z.useContext(e_),a={...r,alignItems:s.alignItems},l=POe(a);return V.jsx(MOe,{className:Ze(l.root,i),ownerState:a,ref:n,...o})});function NOe(t){return Mt("MuiListItemText",t)}const ey=Nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),DOe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Dt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},NOe,e)},LOe=Ke("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ey.primary}`]:e.primary},{[`& .${ey.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${XH.root}:where(& .${ey.primary})`]:{display:"block"},[`.${XH.root}:where(& .${ey.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),C8=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d,slots:f={},slotProps:p={},...m}=r,{dense:y}=z.useContext(e_);let b=l??i,v=c;const E={...r,disableTypography:s,inset:a,primary:!!b,secondary:!!v,dense:y},x=DOe(E),C={slots:f,slotProps:{primary:u,secondary:d,...p}},[k,D]=en("root",{className:Ze(x.root,o),elementType:LOe,externalForwardedProps:{...C,...m},ownerState:E,ref:n}),[A,P]=en("primary",{className:x.primary,elementType:cn,externalForwardedProps:C,ownerState:E}),[M,I]=en("secondary",{className:x.secondary,elementType:cn,externalForwardedProps:C,ownerState:E});return b!=null&&b.type!==cn&&!s&&(b=V.jsx(A,{variant:y?"body2":"body1",component:P!=null&&P.variant?void 0:"span",...P,children:b})),v!=null&&v.type!==cn&&!s&&(v=V.jsx(M,{variant:"body2",color:"textSecondary",...I,children:v})),V.jsxs(k,{...D,children:[b,v]})});function RP(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function T8(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function zte(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function eb(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!zte(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const OOe=z.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu",...f}=e,p=z.useRef(null),m=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});yu(()=>{i&&p.current.focus()},[i]),z.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(x,{direction:C})=>{const k=!p.current.style.width;if(x.clientHeight<p.current.clientHeight&&k){const D=`${ate(jc(x))}px`;p.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=D,p.current.style.width=`calc(100% + ${D})`}return p.current}}),[]);const y=x=>{const C=p.current,k=x.key;if(x.ctrlKey||x.metaKey||x.altKey){c&&c(x);return}const A=ks(C).activeElement;if(k==="ArrowDown")x.preventDefault(),eb(C,A,u,l,RP);else if(k==="ArrowUp")x.preventDefault(),eb(C,A,u,l,T8);else if(k==="Home")x.preventDefault(),eb(C,null,u,l,RP);else if(k==="End")x.preventDefault(),eb(C,null,u,l,T8);else if(k.length===1){const P=m.current,M=k.toLowerCase(),I=performance.now();P.keys.length>0&&(I-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&M!==P.keys[0]&&(P.repeating=!1)),P.lastTime=I,P.keys.push(M);const O=A&&!P.repeating&&zte(A,P);P.previousKeyMatched&&(O||eb(C,A,!1,l,RP,P))?x.preventDefault():P.previousKeyMatched=!1}c&&c(x)},b=Mr(p,n);let v=-1;z.Children.forEach(s,(x,C)=>{if(!z.isValidElement(x)){v===C&&(v+=1,v>=s.length&&(v=-1));return}x.props.disabled||(d==="selectedMenu"&&x.props.selected||v===-1)&&(v=C),v===C&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(v+=1,v>=s.length&&(v=-1))});const E=z.Children.map(s,(x,C)=>{if(C===v){const k={};return o&&(k.autoFocus=!0),x.props.tabIndex===void 0&&d==="selectedMenu"&&(k.tabIndex=0),z.cloneElement(x,k)}return x});return V.jsx(kOe,{role:"menu",ref:b,className:a,onKeyDown:y,tabIndex:i?0:-1,...f,children:E})});function FOe(t){return Mt("MuiPopover",t)}Nt("MuiPopover",["root","paper"]);function A8(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function R8(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function k8(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function sS(t){return typeof t=="function"?t():t}const $Oe=t=>{const{classes:e}=t;return Dt({root:["root"],paper:["paper"]},FOe,e)},BOe=Ke(Ote,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vte=Ke(Nv,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),zOe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:f=8,marginThreshold:p=16,open:m,PaperProps:y={},slots:b={},slotProps:v={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:x,transitionDuration:C="auto",TransitionProps:k={},disableScrollLock:D=!1,...A}=r,P=z.useRef(),M={...r,anchorOrigin:s,anchorReference:l,elevation:f,marginThreshold:p,transformOrigin:E,TransitionComponent:x,transitionDuration:C,TransitionProps:k},I=$Oe(M),O=z.useCallback(()=>{if(l==="anchorPosition")return a;const be=sS(o),Ae=(be&&be.nodeType===1?be:ks(P.current).body).getBoundingClientRect();return{top:Ae.top+A8(Ae,s.vertical),left:Ae.left+R8(Ae,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),F=z.useCallback(be=>({vertical:A8(be,E.vertical),horizontal:R8(be,E.horizontal)}),[E.horizontal,E.vertical]),$=z.useCallback(be=>{const Ce={width:be.offsetWidth,height:be.offsetHeight},Ae=F(Ce);if(l==="none")return{top:null,left:null,transformOrigin:k8(Ae)};const Oe=O();let j=Oe.top-Ae.vertical,pe=Oe.left-Ae.horizontal;const ve=j+Ce.height,se=pe+Ce.width,te=jc(sS(o)),fe=te.innerHeight-p,_e=te.innerWidth-p;if(p!==null&&j<p){const Ie=j-p;j-=Ie,Ae.vertical+=Ie}else if(p!==null&&ve>fe){const Ie=ve-fe;j-=Ie,Ae.vertical+=Ie}if(p!==null&&pe<p){const Ie=pe-p;pe-=Ie,Ae.horizontal+=Ie}else if(se>_e){const Ie=se-_e;pe-=Ie,Ae.horizontal+=Ie}return{top:`${Math.round(j)}px`,left:`${Math.round(pe)}px`,transformOrigin:k8(Ae)}},[o,l,O,F,p]),[L,q]=z.useState(m),K=z.useCallback(()=>{const be=P.current;if(!be)return;const Ce=$(be);Ce.top!==null&&be.style.setProperty("top",Ce.top),Ce.left!==null&&(be.style.left=Ce.left),be.style.transformOrigin=Ce.transformOrigin,q(!0)},[$]);z.useEffect(()=>(D&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[o,D,K]);const X=()=>{K()},ee=()=>{q(!1)};z.useEffect(()=>{m&&K()}),z.useImperativeHandle(i,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),z.useEffect(()=>{if(!m)return;const be=ote(()=>{K()}),Ce=jc(sS(o));return Ce.addEventListener("resize",be),()=>{be.clear(),Ce.removeEventListener("resize",be)}},[o,m,K]);let J=C;const G={slots:{transition:x,...b},slotProps:{transition:k,paper:y,...v}},[Y,Z]=en("transition",{elementType:MT,externalForwardedProps:G,ownerState:M,getSlotProps:be=>({...be,onEntering:(Ce,Ae)=>{var Oe;(Oe=be.onEntering)==null||Oe.call(be,Ce,Ae),X()},onExited:Ce=>{var Ae;(Ae=be.onExited)==null||Ae.call(be,Ce),ee()}}),additionalProps:{appear:!0,in:m}});C==="auto"&&!Y.muiSupportAuto&&(J=void 0);const W=d||(o?ks(sS(o)).body:void 0),[oe,{slots:re,slotProps:me,...ge}]=en("root",{ref:n,elementType:BOe,externalForwardedProps:{...G,...A},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:K3(typeof v.backdrop=="function"?v.backdrop(M):v.backdrop,{invisible:!0})},container:W,open:m},ownerState:M,className:Ze(I.root,c)}),[ce,he]=en("paper",{ref:P,className:I.paper,elementType:Vte,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:L?void 0:{opacity:0}},ownerState:M});return V.jsx(oe,{...ge,...!wO(oe)&&{slots:re,slotProps:me,disableScrollLock:D},children:V.jsx(Y,{...Z,timeout:J,children:V.jsx(ce,{...he,children:u})})})});function VOe(t){return Mt("MuiMenu",t)}Nt("MuiMenu",["root","paper","list"]);const UOe={vertical:"top",horizontal:"right"},HOe={vertical:"top",horizontal:"left"},qOe=t=>{const{classes:e}=t;return Dt({root:["root"],paper:["paper"],list:["list"]},VOe,e)},jOe=Ke(zOe,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),WOe=Ke(Vte,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),GOe=Ke(OOe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Ute=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:d={},PopoverClasses:f,transitionDuration:p="auto",TransitionProps:{onEntering:m,...y}={},variant:b="selectedMenu",slots:v={},slotProps:E={},...x}=r,C=j3(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:b},D=qOe(k),A=i&&!a&&c,P=z.useRef(null),M=(J,G)=>{P.current&&P.current.adjustStyleForScrollbar(J,{direction:C?"rtl":"ltr"}),m&&m(J,G)},I=J=>{J.key==="Tab"&&(J.preventDefault(),u&&u(J,"tabKeyDown"))};let O=-1;z.Children.map(o,(J,G)=>{z.isValidElement(J)&&(J.props.disabled||(b==="selectedMenu"&&J.props.selected||O===-1)&&(O=G))});const F={slots:v,slotProps:{list:l,transition:y,paper:d,...E}},$=fte({elementType:v.root,externalSlotProps:E.root,ownerState:k,className:[D.root,s]}),[L,q]=en("paper",{className:D.paper,elementType:WOe,externalForwardedProps:F,shouldForwardComponentProp:!0,ownerState:k}),[K,X]=en("list",{className:Ze(D.list,l.className),elementType:GOe,shouldForwardComponentProp:!0,externalForwardedProps:F,getSlotProps:J=>({...J,onKeyDown:G=>{var Y;I(G),(Y=J.onKeyDown)==null||Y.call(J,G)}}),ownerState:k}),ee=typeof F.slotProps.transition=="function"?F.slotProps.transition(k):F.slotProps.transition;return V.jsx(jOe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?UOe:HOe,slots:{root:v.root,paper:L,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:$,paper:q,backdrop:typeof E.backdrop=="function"?E.backdrop(k):E.backdrop,transition:{...ee,onEntering:(...J)=>{var G;M(...J),(G=ee==null?void 0:ee.onEntering)==null||G.call(ee,...J)}}},open:c,ref:n,transitionDuration:p,ownerState:k,...x,classes:f,children:V.jsx(K,{actions:P,autoFocus:i&&(O===-1||a),autoFocusItem:A,variant:b,...X,children:o})})});function KOe(t){return Mt("MuiMenuItem",t)}const tb=Nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),YOe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},XOe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Dt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},KOe,s);return{...s,...l}},JOe=Ke(zp,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:YOe})(Ft(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tb.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_n(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${tb.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:_n(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${tb.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_n(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_n(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${tb.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${tb.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${y8.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${y8.inset}`]:{marginLeft:52},[`& .${ey.root}`]:{marginTop:0,marginBottom:0},[`& .${ey.inset}`]:{paddingLeft:36},[`& .${E8.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${E8.root} svg`]:{fontSize:"1.25rem"}}}]}))),TO=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:f,...p}=r,m=z.useContext(e_),y=z.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),b=z.useRef(null);yu(()=>{i&&b.current&&b.current.focus()},[i]);const v={...r,dense:y.dense,divider:a,disableGutters:l},E=XOe(r),x=Mr(b,n);let C;return r.disabled||(C=d!==void 0?d:-1),V.jsx(e_.Provider,{value:y,children:V.jsx(JOe,{ref:x,role:c,tabIndex:C,component:o,focusVisibleClassName:Ze(E.focusVisible,u),className:Ze(E.root,f),...p,ownerState:v,classes:E})})});function QOe(t){return Mt("MuiNativeSelect",t)}const l4=Nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ZOe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${qe(n)}`,o&&"iconOpen",r&&"disabled"]};return Dt(a,QOe,e)},Hte=Ke("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${l4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),eFe=Ke(Hte,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:yo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${l4.multiple}`]:e.multiple}]}})({}),qte=Ke("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${l4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),tFe=Ke(qte,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${qe(n.variant)}`],n.open&&e.iconOpen]}})({}),nFe=z.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:o},d=ZOe(c);return V.jsxs(z.Fragment,{children:[V.jsx(eFe,{ownerState:c,className:Ze(d.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:V.jsx(tFe,{as:s,ownerState:c,className:d.icon})]})});var I8;const rFe=Ke("fieldset",{shouldForwardProp:yo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),iFe=Ke("legend",{shouldForwardProp:yo})(Ft(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function oFe(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return V.jsx(rFe,{"aria-hidden":!0,className:r,ownerState:l,...s,children:V.jsx(iFe,{ownerState:l,children:a?V.jsx("span",{children:i}):I8||(I8=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const sFe=t=>{const{classes:e}=t,r=Dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},vDe,e);return{...e,...r}},aFe=Ke(AR,{shouldForwardProp:t=>yo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:CR})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Cl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Cl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Cl.focused} .${Cl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Ji()).map(([n])=>({props:{color:n},style:{[`&.${Cl.focused} .${Cl.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Cl.error} .${Cl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Cl.disabled} .${Cl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),lFe=Ke(oFe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Ft(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),uFe=Ke(RR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:TR})(Ft(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),u4=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:a,multiline:l=!1,notched:u,slots:c={},slotProps:d={},type:f="text",...p}=r,m=sFe(r),y=xu(),b=Ff({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:y,fullWidth:o,hiddenLabel:b.hiddenLabel,multiline:l,size:b.size,type:f},E=c.root??i.Root??aFe,x=c.input??i.Input??uFe,[C,k]=en("notchedOutline",{elementType:lFe,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:v,externalForwardedProps:{slots:c,slotProps:d},additionalProps:{label:a!=null&&a!==""&&b.required?V.jsxs(z.Fragment,{children:[a,"","*"]}):a}});return V.jsx(o4,{slots:{root:E,input:x},slotProps:d,renderSuffix:D=>V.jsx(C,{...k,notched:typeof u<"u"?u:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:o,inputComponent:s,multiline:l,ref:n,type:f,...p,classes:{...m,notchedOutline:null}})});u4.muiName="Input";function jte(t){return Mt("MuiSelect",t)}const nb=Nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var P8;const cFe=Ke(Hte,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${nb.select}`]:e.select},{[`&.${nb.select}`]:e[n.variant]},{[`&.${nb.error}`]:e.error},{[`&.${nb.multiple}`]:e.multiple}]}})({[`&.${nb.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),dFe=Ke(qte,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${qe(n.variant)}`],n.open&&e.iconOpen]}})({}),fFe=Ke("input",{shouldForwardProp:t=>bte(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function M8(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function hFe(t){return t==null||typeof t=="string"&&!t.trim()}const pFe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${qe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Dt(a,jte,e)},gFe=z.forwardRef(function(e,n){var Yt;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:y,labelId:b,MenuProps:v={},multiple:E,name:x,onBlur:C,onChange:k,onClose:D,onFocus:A,onOpen:P,open:M,readOnly:I,renderValue:O,required:F,SelectDisplayProps:$={},tabIndex:L,type:q,value:K,variant:X="standard",...ee}=e,[J,G]=Jw({controlled:K,default:c,name:"Select"}),[Y,Z]=Jw({controlled:M,default:u,name:"Select"}),W=z.useRef(null),oe=z.useRef(null),[re,me]=z.useState(null),{current:ge}=z.useRef(M!=null),[ce,he]=z.useState(),be=Mr(n,y),Ce=z.useCallback(st=>{oe.current=st,st&&me(st)},[]),Ae=re==null?void 0:re.parentNode;z.useImperativeHandle(be,()=>({focus:()=>{oe.current.focus()},node:W.current,value:J}),[J]),z.useEffect(()=>{u&&Y&&re&&!ge&&(he(s?null:Ae.clientWidth),oe.current.focus())},[re,s]),z.useEffect(()=>{o&&oe.current.focus()},[o]),z.useEffect(()=>{if(!b)return;const st=ks(oe.current).getElementById(b);if(st){const _t=()=>{getSelection().isCollapsed&&oe.current.focus()};return st.addEventListener("click",_t),()=>{st.removeEventListener("click",_t)}}},[b]);const Oe=(st,_t)=>{st?P&&P(_t):D&&D(_t),ge||(he(s?null:Ae.clientWidth),Z(st))},j=st=>{st.button===0&&(st.preventDefault(),oe.current.focus(),Oe(!0,st))},pe=st=>{Oe(!1,st)},ve=z.Children.toArray(a),se=st=>{const _t=ve.find(on=>on.props.value===st.target.value);_t!==void 0&&(G(_t.props.value),k&&k(st,_t))},te=st=>_t=>{let on;if(_t.currentTarget.hasAttribute("tabindex")){if(E){on=Array.isArray(J)?J.slice():[];const xn=J.indexOf(st.props.value);xn===-1?on.push(st.props.value):on.splice(xn,1)}else on=st.props.value;if(st.props.onClick&&st.props.onClick(_t),J!==on&&(G(on),k)){const xn=_t.nativeEvent||_t,eo=new xn.constructor(xn.type,xn);Object.defineProperty(eo,"target",{writable:!0,value:{value:on,name:x}}),k(eo,st)}E||Oe(!1,_t)}},fe=st=>{I||[" ","ArrowUp","ArrowDown","Enter"].includes(st.key)&&(st.preventDefault(),Oe(!0,st))},_e=re!==null&&Y,Ie=st=>{!_e&&C&&(Object.defineProperty(st,"target",{writable:!0,value:{value:J,name:x}}),C(st))};delete ee["aria-invalid"];let we,Le;const He=[];let Be=!1;(PT({value:J})||f)&&(O?we=O(J):Be=!0);const xe=ve.map(st=>{if(!z.isValidElement(st))return null;let _t;if(E){if(!Array.isArray(J))throw new Error(qc(2));_t=J.some(on=>M8(on,st.props.value)),_t&&Be&&He.push(st.props.children)}else _t=M8(J,st.props.value),_t&&Be&&(Le=st.props.children);return z.cloneElement(st,{"aria-selected":_t?"true":"false",onClick:te(st),onKeyUp:on=>{on.key===" "&&on.preventDefault(),st.props.onKeyUp&&st.props.onKeyUp(on)},role:"option",selected:_t,value:void 0,"data-value":st.props.value})});Be&&(E?He.length===0?we=null:we=He.reduce((st,_t,on)=>(st.push(_t),on<He.length-1&&st.push(", "),st),[]):we=Le);let Me=ce;!s&&ge&&re&&(Me=Ae.clientWidth);let Ve;typeof L<"u"?Ve=L:Ve=d?null:0;const nt=$.id||(x?`mui-component-select-${x}`:void 0),wt={...e,variant:X,value:J,open:_e,error:p},rt=pFe(wt),Qt={...v.PaperProps,...(Yt=v.slotProps)==null?void 0:Yt.paper},vt=t0();return V.jsxs(z.Fragment,{children:[V.jsx(cFe,{as:"div",ref:Ce,tabIndex:Ve,role:"combobox","aria-controls":_e?vt:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":_e?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,nt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":F?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:fe,onMouseDown:d||I?null:j,onBlur:Ie,onFocus:A,...$,ownerState:wt,className:Ze($.className,rt.select,l),id:nt,children:hFe(we)?P8||(P8=V.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):we}),V.jsx(fFe,{"aria-invalid":p,value:Array.isArray(J)?J.join(","):J,name:x,ref:W,"aria-hidden":!0,onChange:se,tabIndex:-1,disabled:d,className:rt.nativeInput,autoFocus:o,required:F,...ee,ownerState:wt}),V.jsx(dFe,{as:m,className:rt.icon,ownerState:wt}),V.jsx(Ute,{id:`menu-${x||""}`,anchorEl:Ae,open:_e,onClose:pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:vt,...v.MenuListProps},paper:{...Qt,style:{minWidth:Me,...Qt!=null?Qt.style:null}}},children:xe})]})}),mFe=t=>{const{classes:e}=t,r=Dt({root:["root"]},jte,e);return{...e,...r}},c4={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>yo(t)&&t!=="variant",slot:"Root"},yFe=Ke(a4,c4)(""),vFe=Ke(u4,c4)(""),bFe=Ke(s4,c4)(""),d4=z.forwardRef(function(e,n){const r=Ot({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=wDe,id:d,input:f,inputProps:p,label:m,labelId:y,MenuProps:b,multiple:v=!1,native:E=!1,onClose:x,onOpen:C,open:k,renderValue:D,SelectDisplayProps:A,variant:P="outlined",...M}=r,I=E?nFe:gFe,O=xu(),F=Ff({props:r,muiFormControl:O,states:["variant","error"]}),$=F.variant||P,L={...r,variant:$,classes:s},q=mFe(L),{root:K,...X}=q,ee=f||{standard:V.jsx(yFe,{ownerState:L}),outlined:V.jsx(vFe,{label:m,ownerState:L}),filled:V.jsx(bFe,{ownerState:L})}[$],J=Mr(n,ng(ee));return V.jsx(z.Fragment,{children:z.cloneElement(ee,{inputComponent:I,inputProps:{children:o,error:F.error,IconComponent:c,variant:$,type:void 0,multiple:v,...E?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:b,onClose:x,onOpen:C,open:k,renderValue:D,SelectDisplayProps:{id:d,...A}},...p,classes:p?pi(X,p.classes):X,...f?f.props.inputProps:{}},...(v&&E||u)&&$==="outlined"?{notched:!0}:{},ref:J,className:Ze(ee.props.className,a,q.root),...!f&&{variant:$},...M})})});d4.muiName="Select";function wFe(t){return Mt("MuiSkeleton",t)}Nt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _Fe=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:o,height:s}=t;return Dt({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},wFe,e)},AO=tg`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,RO=tg`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,xFe=typeof AO!="string"?r1`
        animation: ${AO} 2s ease-in-out 0.5s infinite;
      `:null,EFe=typeof RO!="string"?r1`
        &::after {
          animation: ${RO} 2s linear 0.5s infinite;
        }
      `:null,SFe=Ke("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(Ft(({theme:t})=>{const e=K2e(t.shape.borderRadius)||"px",n=Y2e(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:_n(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${e}/${Math.round(n/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:xFe||{animation:`${AO} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:EFe||{"&::after":{animation:`${RO} 2s linear 0.5s infinite`}}}]}})),N8=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:u="text",width:c,...d}=r,f={...r,animation:i,component:s,variant:u,hasChildren:!!d.children},p=_Fe(f);return V.jsx(SFe,{as:s,ref:n,className:Ze(p.root,o),ownerState:f,...d,style:{width:c,height:a,...l}})}),CFe={entering:{transform:"none"},entered:{transform:"none"}},TFe=z.forwardRef(function(e,n){const r=rg(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:b,timeout:v=i,TransitionComponent:E=il,...x}=e,C=z.useRef(null),k=Mr(C,ng(a),n),D=L=>q=>{if(L){const K=C.current;q===void 0?L(K):L(K,q)}},A=D(f),P=D((L,q)=>{J3(L);const K=Mv({style:b,timeout:v,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("transform",K),L.style.transition=r.transitions.create("transform",K),c&&c(L,q)}),M=D(d),I=D(y),O=D(L=>{const q=Mv({style:b,timeout:v,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("transform",q),L.style.transition=r.transitions.create("transform",q),p&&p(L)}),F=D(m),$=L=>{o&&o(C.current,L)};return V.jsx(E,{appear:s,in:u,nodeRef:C,onEnter:P,onEntered:M,onEntering:A,onExit:O,onExited:F,onExiting:I,addEndListener:$,timeout:v,...x,children:(L,{ownerState:q,...K})=>z.cloneElement(a,{style:{transform:"scale(0)",visibility:L==="exited"&&!u?"hidden":void 0,...CFe[L],...b,...a.props.style},ref:k,...K})})});function AFe(t){return Mt("MuiSpeedDial",t)}const aS=Nt("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),RFe=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${qe(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Dt(i,AFe,e)};function rb(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const Md=32,lS=16,kFe=Ke("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${qe(n.direction)}`]]}})(Ft(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${aS.actions}`]:{flexDirection:"column-reverse",marginBottom:-Md,paddingBottom:lS+Md}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${aS.actions}`]:{flexDirection:"column",marginTop:-Md,paddingTop:lS+Md}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${aS.actions}`]:{flexDirection:"row-reverse",marginRight:-Md,paddingRight:lS+Md}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${aS.actions}`]:{flexDirection:"row",marginLeft:-Md,paddingLeft:lS+Md}}}]}))),IFe=Ke($te,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})({pointerEvents:"auto"}),PFe=Ke("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),MFe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiSpeedDial"}),i=rg(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:s,FabProps:{ref:a,...l}={},children:u,className:c,direction:d="up",hidden:f=!1,icon:p,onBlur:m,onClose:y,onFocus:b,onKeyDown:v,onMouseEnter:E,onMouseLeave:x,onOpen:C,open:k,openIcon:D,slots:A={},slotProps:P={},TransitionComponent:M,TransitionProps:I,transitionDuration:O=o,...F}=r,[$,L]=Jw({controlled:k,default:!1,name:"SpeedDial",state:"open"}),q={...r,open:$,direction:d},K=RFe(q),X=Sh(),ee=z.useRef(0),J=z.useRef(),G=z.useRef([]);G.current=[G.current[0]];const Y=z.useCallback(te=>{G.current[0]=te},[]),Z=Mr(a,Y),W=(te,fe)=>_e=>{G.current[te+1]=_e,fe&&fe(_e)},oe=te=>{v&&v(te);const fe=te.key.replace("Arrow","").toLowerCase(),{current:_e=fe}=J;if(te.key==="Escape"){L(!1),G.current[0].focus(),y&&y(te,"escapeKeyDown");return}if(rb(fe)===rb(_e)&&rb(fe)!==void 0){te.preventDefault();const Ie=fe===_e?1:-1,we=nte(ee.current+Ie,0,G.current.length-1);G.current[we].focus(),ee.current=we,J.current=_e}};z.useEffect(()=>{$||(ee.current=0,J.current=void 0)},[$]);const re=te=>{te.type==="mouseleave"&&x&&x(te),te.type==="blur"&&m&&m(te),X.clear(),te.type==="blur"?X.start(0,()=>{L(!1),y&&y(te,"blur")}):(L(!1),y&&y(te,"mouseLeave"))},me=te=>{l.onClick&&l.onClick(te),X.clear(),$?(L(!1),y&&y(te,"toggle")):(L(!0),C&&C(te,"toggle"))},ge=te=>{te.type==="mouseenter"&&E&&E(te),te.type==="focus"&&b&&b(te),X.clear(),$||X.start(0,()=>{L(!0),C&&C(te,{focus:"focus",mouseenter:"mouseEnter"}[te.type])})},ce=s.replace(/^[^a-z]+|[^\w:.-]+/gi,""),he=z.Children.toArray(u).filter(te=>z.isValidElement(te)),be=he.map((te,fe)=>{const{FabProps:{ref:_e,...Ie}={},tooltipPlacement:we}=te.props,Le=we||(rb(d)==="vertical"?"left":"top");return z.cloneElement(te,{FabProps:{...Ie,ref:W(fe,_e)},delay:30*($?fe:he.length-fe),open:$,tooltipPlacement:Le,id:`${ce}-action-${fe}`})}),Ce={transition:M,...A},Ae={transition:I,...P},Oe={slots:Ce,slotProps:Ae},[j,pe]=en("root",{elementType:kFe,externalForwardedProps:{...Oe,...F},ownerState:q,ref:n,className:Ze(K.root,c),additionalProps:{role:"presentation"},getSlotProps:te=>({...te,onKeyDown:fe=>{var _e;(_e=te.onKeyDown)==null||_e.call(te,fe),oe(fe)},onBlur:fe=>{var _e;(_e=te.onBlur)==null||_e.call(te,fe),re(fe)},onFocus:fe=>{var _e;(_e=te.onFocus)==null||_e.call(te,fe),ge(fe)},onMouseEnter:fe=>{var _e;(_e=te.onMouseEnter)==null||_e.call(te,fe),ge(fe)},onMouseLeave:fe=>{var _e;(_e=te.onMouseLeave)==null||_e.call(te,fe),re(fe)}})}),[ve,se]=en("transition",{elementType:TFe,externalForwardedProps:Oe,ownerState:q});return V.jsxs(j,{...pe,children:[V.jsx(ve,{in:!f,timeout:O,unmountOnExit:!0,...se,children:V.jsx(IFe,{color:"primary","aria-label":s,"aria-haspopup":"true","aria-expanded":$,"aria-controls":`${ce}-actions`,...l,onClick:me,className:Ze(K.fab,l.className),ref:Z,ownerState:q,children:z.isValidElement(p)&&eC(p,["SpeedDialIcon"])?z.cloneElement(p,{open:$}):p})}),V.jsx(PFe,{id:`${ce}-actions`,role:"menu","aria-orientation":rb(d),className:Ze(K.actions,!$&&K.actionsClosed),ownerState:q,children:be})]})});function NFe(t){return Mt("MuiTooltip",t)}const Cr=Nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function DFe(t){return Math.round(t*1e5)/1e5}const LFe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${qe(o.split("-")[0])}`],arrow:["arrow"]};return Dt(s,NFe,e)},OFe=Ke(Nte,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Ft(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Cr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Cr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Cr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Cr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Cr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Cr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Cr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Cr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),FFe=Ke("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${qe(n.placement.split("-")[0])}`]]}})(Ft(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:_n(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Cr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Cr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Cr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Cr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${DFe(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Cr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Cr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Cr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Cr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Cr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Cr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Cr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Cr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Cr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Cr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),$Fe=Ke("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Ft(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:_n(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let uS=!1;const D8=new xR;let ib={x:0,y:0};function cS(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const sC=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:c=!1,disableHoverListener:d=!1,disableInteractive:f=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:y=0,enterTouchDelay:b=700,followCursor:v=!1,id:E,leaveDelay:x=0,leaveTouchDelay:C=1500,onClose:k,onOpen:D,open:A,placement:P="bottom",PopperComponent:M,PopperProps:I={},slotProps:O={},slots:F={},title:$,TransitionComponent:L,TransitionProps:q,...K}=r,X=z.isValidElement(o)?o:V.jsx("span",{children:o}),ee=rg(),J=j3(),[G,Y]=z.useState(),[Z,W]=z.useState(null),oe=z.useRef(!1),re=f||v,me=Sh(),ge=Sh(),ce=Sh(),he=Sh(),[be,Ce]=Jw({controlled:A,default:!1,name:"Tooltip",state:"open"});let Ae=be;const Oe=t0(E),j=z.useRef(),pe=Nc(()=>{j.current!==void 0&&(document.body.style.WebkitUserSelect=j.current,j.current=void 0),he.clear()});z.useEffect(()=>pe,[pe]);const ve=$t=>{D8.clear(),uS=!0,Ce(!0),D&&!Ae&&D($t)},se=Nc($t=>{D8.start(800+x,()=>{uS=!1}),Ce(!1),k&&Ae&&k($t),me.start(ee.transitions.duration.shortest,()=>{oe.current=!1})}),te=$t=>{oe.current&&$t.type!=="touchstart"||(G&&G.removeAttribute("title"),ge.clear(),ce.clear(),m||uS&&y?ge.start(uS?y:m,()=>{ve($t)}):ve($t))},fe=$t=>{ge.clear(),ce.start(x,()=>{se($t)})},[,_e]=z.useState(!1),Ie=$t=>{AT($t.target)||(_e(!1),fe($t))},we=$t=>{G||Y($t.currentTarget),AT($t.target)&&(_e(!0),te($t))},Le=$t=>{oe.current=!0;const hr=X.props;hr.onTouchStart&&hr.onTouchStart($t)},He=$t=>{Le($t),ce.clear(),me.clear(),pe(),j.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",he.start(b,()=>{document.body.style.WebkitUserSelect=j.current,te($t)})},Be=$t=>{X.props.onTouchEnd&&X.props.onTouchEnd($t),pe(),ce.start(C,()=>{se($t)})};z.useEffect(()=>{if(!Ae)return;function $t(hr){hr.key==="Escape"&&se(hr)}return document.addEventListener("keydown",$t),()=>{document.removeEventListener("keydown",$t)}},[se,Ae]);const xe=Mr(ng(X),Y,n);!$&&$!==0&&(Ae=!1);const Me=z.useRef(),Ve=$t=>{const hr=X.props;hr.onMouseMove&&hr.onMouseMove($t),ib={x:$t.clientX,y:$t.clientY},Me.current&&Me.current.update()},nt={},wt=typeof $=="string";u?(nt.title=!Ae&&wt&&!d?$:null,nt["aria-describedby"]=Ae?Oe:null):(nt["aria-label"]=wt?$:null,nt["aria-labelledby"]=Ae&&!wt?Oe:null);const rt={...nt,...K,...X.props,className:Ze(K.className,X.props.className),onTouchStart:Le,ref:xe,...v?{onMouseMove:Ve}:{}},Qt={};p||(rt.onTouchStart=He,rt.onTouchEnd=Be),d||(rt.onMouseOver=cS(te,rt.onMouseOver),rt.onMouseLeave=cS(fe,rt.onMouseLeave),re||(Qt.onMouseOver=te,Qt.onMouseLeave=fe)),c||(rt.onFocus=cS(we,rt.onFocus),rt.onBlur=cS(Ie,rt.onBlur),re||(Qt.onFocus=we,Qt.onBlur=Ie));const vt={...r,isRtl:J,arrow:i,disableInteractive:re,placement:P,PopperComponentProp:M,touch:oe.current},Yt=typeof O.popper=="function"?O.popper(vt):O.popper,st=z.useMemo(()=>{var hr,cl;let $t=[{name:"arrow",enabled:!!Z,options:{element:Z,padding:4}}];return(hr=I.popperOptions)!=null&&hr.modifiers&&($t=$t.concat(I.popperOptions.modifiers)),(cl=Yt==null?void 0:Yt.popperOptions)!=null&&cl.modifiers&&($t=$t.concat(Yt.popperOptions.modifiers)),{...I.popperOptions,...Yt==null?void 0:Yt.popperOptions,modifiers:$t}},[Z,I.popperOptions,Yt==null?void 0:Yt.popperOptions]),_t=LFe(vt),on=typeof O.transition=="function"?O.transition(vt):O.transition,xn={slots:{popper:a.Popper,transition:a.Transition??L,tooltip:a.Tooltip,arrow:a.Arrow,...F},slotProps:{arrow:O.arrow??l.arrow,popper:{...I,...Yt??l.popper},tooltip:O.tooltip??l.tooltip,transition:{...q,...on??l.transition}}},[eo,Ms]=en("popper",{elementType:OFe,externalForwardedProps:xn,ownerState:vt,className:Ze(_t.popper,I==null?void 0:I.className)}),[Kr,Lr]=en("transition",{elementType:MT,externalForwardedProps:xn,ownerState:vt}),[to,vo]=en("tooltip",{elementType:FFe,className:_t.tooltip,externalForwardedProps:xn,ownerState:vt}),[ul,ca]=en("arrow",{elementType:$Fe,className:_t.arrow,externalForwardedProps:xn,ownerState:vt,ref:W});return V.jsxs(z.Fragment,{children:[z.cloneElement(X,rt),V.jsx(eo,{as:M??Nte,placement:P,anchorEl:v?{getBoundingClientRect:()=>({top:ib.y,left:ib.x,right:ib.x,bottom:ib.y,width:0,height:0})}:G,popperRef:Me,open:G?Ae:!1,id:Oe,transition:!0,...Qt,...Ms,popperOptions:st,children:({TransitionProps:$t})=>V.jsx(Kr,{timeout:ee.transitions.duration.shorter,...$t,...Lr,children:V.jsxs(to,{...vo,children:[$,i?V.jsx(ul,{...ca}):null]})})})]})});function BFe(t){return Mt("MuiSpeedDialAction",t)}const dS=Nt("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),zFe=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${qe(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Dt(i,BFe,r)},VFe=Ke($te,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(Ft(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:ite(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]}))),UFe=Ke("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${qe(n.tooltipPlacement)}`]]}})(Ft(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${dS.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${dS.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${dS.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${dS.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),HFe=Ke("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(Ft(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),fS=z.forwardRef(function(e,n){var ee;const r=Ot({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:o=0,FabProps:s={},icon:a,id:l,open:u,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:f="left",tooltipTitle:p,slots:m={},slotProps:y={},...b}=r,v={...r,tooltipPlacement:f},E=zFe(v),x={slots:m,slotProps:{fab:s,...y,tooltip:K3(typeof y.tooltip=="function"?y.tooltip(v):y.tooltip,{title:p,open:d,placement:f,classes:c})}},[C,k]=z.useState((ee=x.slotProps.tooltip)==null?void 0:ee.open),D=()=>{k(!1)},A=()=>{k(!0)},P={transitionDelay:`${o}ms`},[M,I]=en("fab",{elementType:VFe,externalForwardedProps:x,ownerState:v,shouldForwardComponentProp:!0,className:Ze(E.fab,i),additionalProps:{style:P,tabIndex:-1,role:"menuitem",size:"small"}}),[O,F]=en("tooltip",{elementType:sC,externalForwardedProps:x,shouldForwardComponentProp:!0,ref:n,additionalProps:{id:l},ownerState:v,getSlotProps:J=>({...J,onClose:G=>{var Y;(Y=J.onClose)==null||Y.call(J,G),D()},onOpen:G=>{var Y;(Y=J.onOpen)==null||Y.call(J,G),A()}})}),[$,L]=en("staticTooltip",{elementType:UFe,externalForwardedProps:x,ownerState:v,ref:n,className:E.staticTooltip,additionalProps:{id:l}}),[q,K]=en("staticTooltipLabel",{elementType:HFe,externalForwardedProps:x,ownerState:v,className:E.staticTooltipLabel,additionalProps:{style:P,id:`${l}-label`}}),X=V.jsx(M,{...I,children:a});return F.open?V.jsxs($,{...L,...b,children:[V.jsx(q,{...K,children:F.title}),z.cloneElement(X,{"aria-labelledby":`${l}-label`})]}):(!u&&C&&k(!1),V.jsx(O,{...F,title:F.title,open:u&&C,placement:F.placement,classes:F.classes,...b,children:X}))}),aC=y2e({createStyledComponent:Ke("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Ot({props:t,name:"MuiStack"})}),Wte=z.createContext();function qFe(t){return Mt("MuiTable",t)}Nt("MuiTable",["root","stickyHeader"]);const jFe=t=>{const{classes:e,stickyHeader:n}=t;return Dt({root:["root",n&&"stickyHeader"]},qFe,e)},WFe=Ke("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Ft(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),L8="table",GFe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTable"}),{className:i,component:o=L8,padding:s="normal",size:a="medium",stickyHeader:l=!1,...u}=r,c={...r,component:o,padding:s,size:a,stickyHeader:l},d=jFe(c),f=z.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return V.jsx(Wte.Provider,{value:f,children:V.jsx(WFe,{as:o,role:o===L8?null:"table",ref:n,className:Ze(d.root,i),ownerState:c,...u})})}),kR=z.createContext();function KFe(t){return Mt("MuiTableBody",t)}Nt("MuiTableBody",["root"]);const YFe=t=>{const{classes:e}=t;return Dt({root:["root"]},KFe,e)},XFe=Ke("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),JFe={variant:"body"},O8="tbody",QFe=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTableBody"}),{className:i,component:o=O8,...s}=r,a={...r,component:o},l=YFe(a);return V.jsx(kR.Provider,{value:JFe,children:V.jsx(XFe,{className:Ze(l.root,i),as:o,ref:n,role:o===O8?null:"rowgroup",ownerState:a,...s})})});function ZFe(t){return Mt("MuiTableCell",t)}const e5e=Nt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),t5e=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${qe(r)}`,i!=="normal"&&`padding${qe(i)}`,`size${qe(o)}`]};return Dt(a,ZFe,e)},n5e=Ke("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${qe(n.size)}`],n.padding!=="normal"&&e[`padding${qe(n.padding)}`],n.align!=="inherit"&&e[`align${qe(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Ft(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?_R(_n(t.palette.divider,1),.88):wR(_n(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${e5e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),dm=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:u,sortDirection:c,variant:d,...f}=r,p=z.useContext(Wte),m=z.useContext(kR),y=m&&m.variant==="head";let b;s?b=s:b=y?"th":"td";let v=l;b==="td"?v=void 0:!v&&y&&(v="col");const E=d||m&&m.variant,x={...r,align:i,component:b,padding:a||(p&&p.padding?p.padding:"normal"),size:u||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:E==="head"&&p&&p.stickyHeader,variant:E},C=t5e(x);let k=null;return c&&(k=c==="asc"?"ascending":"descending"),V.jsx(n5e,{as:b,ref:n,className:Ze(C.root,o),"aria-sort":k,scope:v,ownerState:x,...f})});function r5e(t){return Mt("MuiTableHead",t)}Nt("MuiTableHead",["root"]);const i5e=t=>{const{classes:e}=t;return Dt({root:["root"]},r5e,e)},o5e=Ke("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),s5e={variant:"head"},F8="thead",a5e=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTableHead"}),{className:i,component:o=F8,...s}=r,a={...r,component:o},l=i5e(a);return V.jsx(kR.Provider,{value:s5e,children:V.jsx(o5e,{as:o,className:Ze(l.root,i),ref:n,role:o===F8?null:"rowgroup",ownerState:a,...s})})});function l5e(t){return Mt("MuiTableRow",t)}const $8=Nt("MuiTableRow",["root","selected","hover","head","footer"]),u5e=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return Dt({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},l5e,e)},c5e=Ke("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Ft(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${$8.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${$8.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_n(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_n(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),B8="tr",kP=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTableRow"}),{className:i,component:o=B8,hover:s=!1,selected:a=!1,...l}=r,u=z.useContext(kR),c={...r,component:o,hover:s,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},d=u5e(c);return V.jsx(c5e,{as:o,ref:n,className:Ze(d.root,i),role:o===B8?null:"row",ownerState:c,...l})});function d5e(t){return Mt("MuiTextField",t)}Nt("MuiTextField",["root"]);const f5e={standard:a4,filled:s4,outlined:u4},h5e=t=>{const{classes:e}=t;return Dt({root:["root"]},d5e,e)},p5e=Ke(Bte,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ia=z.forwardRef(function(e,n){const r=Ot({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:b,inputProps:v,InputProps:E,inputRef:x,label:C,maxRows:k,minRows:D,multiline:A=!1,name:P,onBlur:M,onChange:I,onFocus:O,placeholder:F,required:$=!1,rows:L,select:q=!1,SelectProps:K,slots:X={},slotProps:ee={},type:J,value:G,variant:Y="outlined",...Z}=r,W={...r,autoFocus:o,color:l,disabled:c,error:d,fullWidth:p,multiline:A,required:$,select:q,variant:Y},oe=h5e(W),re=t0(y),me=m&&re?`${re}-helper-text`:void 0,ge=C&&re?`${re}-label`:void 0,ce=f5e[Y],he={slots:X,slotProps:{input:E,inputLabel:b,htmlInput:v,formHelperText:f,select:K,...ee}},be={},Ce=he.slotProps.inputLabel;Y==="outlined"&&(Ce&&typeof Ce.shrink<"u"&&(be.notched=Ce.shrink),be.label=C),q&&((!K||!K.native)&&(be.id=void 0),be["aria-describedby"]=void 0);const[Ae,Oe]=en("root",{elementType:p5e,shouldForwardComponentProp:!0,externalForwardedProps:{...he,...Z},ownerState:W,className:Ze(oe.root,a),ref:n,additionalProps:{disabled:c,error:d,fullWidth:p,required:$,color:l,variant:Y}}),[j,pe]=en("input",{elementType:ce,externalForwardedProps:he,additionalProps:be,ownerState:W}),[ve,se]=en("inputLabel",{elementType:COe,externalForwardedProps:he,ownerState:W}),[te,fe]=en("htmlInput",{elementType:"input",externalForwardedProps:he,ownerState:W}),[_e,Ie]=en("formHelperText",{elementType:aOe,externalForwardedProps:he,ownerState:W}),[we,Le]=en("select",{elementType:d4,externalForwardedProps:he,ownerState:W}),He=V.jsx(j,{"aria-describedby":me,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:A,name:P,rows:L,maxRows:k,minRows:D,type:J,value:G,id:re,inputRef:x,onBlur:M,onChange:I,onFocus:O,placeholder:F,inputProps:fe,slots:{input:X.htmlInput?te:void 0},...pe});return V.jsxs(Ae,{...Oe,children:[C!=null&&C!==""&&V.jsx(ve,{htmlFor:re,id:ge,...se,children:C}),q?V.jsx(we,{"aria-describedby":me,id:re,labelId:ge,value:G,input:He,...Le,children:s}):He,m&&V.jsx(_e,{id:me,...Ie,children:m})]})}),lC=Ln(V.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),g5e=Ln(V.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),m5e=Ln(V.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),y5e=Ln(V.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),v5e=Ln(V.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),Gte=Ln(V.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),b5e=Ln(V.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),Kte=Ln(V.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),z8=Ln(V.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),Yte=Ln(V.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator"),w5e=Ln(V.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),_5e=Ln(V.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),x5e=Ln(V.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),E5e=Ln(V.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),S5e=Ln(V.jsx("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation"),C5e=Ln(V.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),T5e=Ln(V.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),A5e=Ln(V.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),R5e=Ln(V.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),k5e=Ln(V.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),I5e=Ln(V.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),P5e=Ln(V.jsx("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m-2-1h8v-2H5zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5m4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94z"}),"TipsAndUpdates"),M5e=Ln(V.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),V8=Ln(V.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube"),Xte="/re-ad/re-ad-logo.svg";var ob={},U8;function N5e(){if(U8)return ob;U8=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.parse=s,ob.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function s(f,p){const m=new o,y=f.length;if(y<2)return m;const b=(p==null?void 0:p.decode)||c;let v=0;do{const E=f.indexOf("=",v);if(E===-1)break;const x=f.indexOf(";",v),C=x===-1?y:x;if(E>C){v=f.lastIndexOf(";",E-1)+1;continue}const k=a(f,v,E),D=l(f,E,k),A=f.slice(k,D);if(m[A]===void 0){let P=a(f,E+1,C),M=l(f,C,P);const I=b(f.slice(P,M));m[A]=I}v=C+1}while(v<y);return m}function a(f,p,m){do{const y=f.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<m);return m}function l(f,p,m){for(;p>m;){const y=f.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return m}function u(f,p,m){const y=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(f))throw new TypeError(`argument name is invalid: ${f}`);const b=y(p);if(!e.test(b))throw new TypeError(`argument val is invalid: ${p}`);let v=f+"="+b;if(!m)return v;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);v+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);v+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);v+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);v+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(v+="; HttpOnly"),m.secure&&(v+="; Secure"),m.partitioned&&(v+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return v}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return ob}N5e();var H8="popstate";function D5e(t={}){function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=ig(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),kO("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:t_(o))}function r(i,o){el(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return O5e(e,n,r,t)}function br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function el(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L5e(){return Math.random().toString(36).substring(2,10)}function q8(t,e){return{usr:t.state,key:t.key,idx:e}}function kO(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ig(e):e,state:n,key:e&&e.key||r||L5e()}}function t_({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ig(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function O5e(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let b=c(),v=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:v})}function f(b,v){a="PUSH";let E=kO(y.location,b,v);n&&n(E,b),u=c()+1;let x=q8(E,u),C=y.createHref(E);try{s.pushState(x,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(C)}o&&l&&l({action:a,location:y.location,delta:1})}function p(b,v){a="REPLACE";let E=kO(y.location,b,v);n&&n(E,b),u=c();let x=q8(E,u),C=y.createHref(E);s.replaceState(x,"",C),o&&l&&l({action:a,location:y.location,delta:0})}function m(b){return F5e(b)}let y={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(H8,d),l=b,()=>{i.removeEventListener(H8,d),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return s.go(b)}};return y}function F5e(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),br(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:t_(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Jte(t,e,n="/"){return $5e(t,e,n,!1)}function $5e(t,e,n,r){let i=typeof e=="string"?ig(e):e,o=Gc(i.pathname||"/",n);if(o==null)return null;let s=Qte(t);B5e(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=X5e(o);a=K5e(s[l],u,r)}return a}function Qte(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(br(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Dc([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(br(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Qte(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:W5e(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Zte(o.path))i(o,s,l)}),e}function Zte(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Zte(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function B5e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G5e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var z5e=/^:[\w-]+$/,V5e=3,U5e=2,H5e=1,q5e=10,j5e=-2,j8=t=>t==="*";function W5e(t,e){let n=t.split("/"),r=n.length;return n.some(j8)&&(r+=j5e),e&&(r+=U5e),n.filter(i=>!j8(i)).reduce((i,o)=>i+(z5e.test(o)?V5e:o===""?H5e:q5e),r)}function G5e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function K5e(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=NT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=NT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Dc([o,d.pathname]),pathnameBase:e3e(Dc([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Dc([o,d.pathnameBase]))}return s}function NT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y5e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Y5e(t,e=!1,n=!0){el(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X5e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return el(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J5e(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ig(t):t;return{pathname:n?n.startsWith("/")?n:Q5e(n,e):e,search:t3e(r),hash:n3e(i)}}function Q5e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function IP(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z5e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ene(t){let e=Z5e(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tne(t,e,n,r=!1){let i;typeof t=="string"?i=ig(t):(i={...t},br(!i.pathname||!i.pathname.includes("?"),IP("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),IP("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),IP("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=J5e(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Dc=t=>t.join("/").replace(/\/\/+/g,"/"),e3e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t3e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n3e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r3e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var nne=["POST","PUT","PATCH","DELETE"];new Set(nne);var i3e=["GET",...nne];new Set(i3e);var n0=z.createContext(null);n0.displayName="DataRouter";var IR=z.createContext(null);IR.displayName="DataRouterState";var rne=z.createContext({isTransitioning:!1});rne.displayName="ViewTransition";var o3e=z.createContext(new Map);o3e.displayName="Fetchers";var s3e=z.createContext(null);s3e.displayName="Await";var Eu=z.createContext(null);Eu.displayName="Navigation";var l1=z.createContext(null);l1.displayName="Location";var Zc=z.createContext({outlet:null,matches:[],isDataRoute:!1});Zc.displayName="Route";var f4=z.createContext(null);f4.displayName="RouteError";function a3e(t,{relative:e}={}){br(u1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Eu),{hash:i,pathname:o,search:s}=c1(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Dc([n,o])),r.createHref({pathname:a,search:s,hash:i})}function u1(){return z.useContext(l1)!=null}function $f(){return br(u1(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(l1).location}var ine="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function one(t){z.useContext(Eu).static||z.useLayoutEffect(t)}function h4(){let{isDataRoute:t}=z.useContext(Zc);return t?w3e():l3e()}function l3e(){br(u1(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(n0),{basename:e,navigator:n}=z.useContext(Eu),{matches:r}=z.useContext(Zc),{pathname:i}=$f(),o=JSON.stringify(ene(r)),s=z.useRef(!1);return one(()=>{s.current=!0}),z.useCallback((l,u={})=>{if(el(s.current,ine),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=tne(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Dc([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}z.createContext(null);function c1(t,{relative:e}={}){let{matches:n}=z.useContext(Zc),{pathname:r}=$f(),i=JSON.stringify(ene(n));return z.useMemo(()=>tne(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function u3e(t,e){return sne(t,e)}function sne(t,e,n,r){var v;br(u1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=z.useContext(Eu),{matches:o}=z.useContext(Zc),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let E=c&&c.path||"";ane(l,!c||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=$f(),f;if(e){let E=typeof e=="string"?ig(e):e;br(u==="/"||((v=E.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),f=E}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Jte(t,{pathname:m});el(c||y!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),el(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=p3e(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Dc([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Dc([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&b?z.createElement(l1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function c3e(){let t=b3e(),e=r3e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,s)}var d3e=z.createElement(c3e,null),f3e=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(Zc.Provider,{value:this.props.routeContext},z.createElement(f4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h3e({routeContext:t,match:e,children:n}){let r=z.useContext(n0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Zc.Provider,{value:t},n)}function p3e(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);br(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,p=null,m=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||d3e,s&&(a<0&&c===0?(ane("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===c&&(f=!0,m=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),b=()=>{let v;return d?v=p:f?v=m:u.route.Component?v=z.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,z.createElement(h3e,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?z.createElement(f3e,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function p4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g3e(t){let e=z.useContext(n0);return br(e,p4(t)),e}function m3e(t){let e=z.useContext(IR);return br(e,p4(t)),e}function y3e(t){let e=z.useContext(Zc);return br(e,p4(t)),e}function g4(t){let e=y3e(t),n=e.matches[e.matches.length-1];return br(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v3e(){return g4("useRouteId")}function b3e(){var r;let t=z.useContext(f4),e=m3e("useRouteError"),n=g4("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function w3e(){let{router:t}=g3e("useNavigate"),e=g4("useNavigate"),n=z.useRef(!1);return one(()=>{n.current=!0}),z.useCallback(async(i,o={})=>{el(n.current,ine),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var W8={};function ane(t,e,n){!e&&!W8[t]&&(W8[t]=!0,el(!1,n))}z.memo(_3e);function _3e({routes:t,future:e,state:n}){return sne(t,void 0,n,e)}function uC(t){br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x3e({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){br(!u1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=z.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ig(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,p=z.useMemo(()=>{let m=Gc(l,s);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:f},navigationType:r}},[s,l,u,c,d,f,r]);return el(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:z.createElement(Eu.Provider,{value:a},z.createElement(l1.Provider,{children:e,value:p}))}function E3e({children:t,location:e}){return u3e(IO(t),e)}function IO(t,e=[]){let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let o=[...e,i];if(r.type===z.Fragment){n.push.apply(n,IO(r.props.children,o));return}br(r.type===uC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),br(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=IO(r.props.children,o)),n.push(s)}),n}var cC="get",dC="application/x-www-form-urlencoded";function PR(t){return t!=null&&typeof t.tagName=="string"}function S3e(t){return PR(t)&&t.tagName.toLowerCase()==="button"}function C3e(t){return PR(t)&&t.tagName.toLowerCase()==="form"}function T3e(t){return PR(t)&&t.tagName.toLowerCase()==="input"}function A3e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R3e(t,e){return t.button===0&&(!e||e==="_self")&&!A3e(t)}var hS=null;function k3e(){if(hS===null)try{new FormData(document.createElement("form"),0),hS=!1}catch{hS=!0}return hS}var I3e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function PP(t){return t!=null&&!I3e.has(t)?(el(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dC}"`),null):t}function P3e(t,e){let n,r,i,o,s;if(C3e(t)){let a=t.getAttribute("action");r=a?Gc(a,e):null,n=t.getAttribute("method")||cC,i=PP(t.getAttribute("enctype"))||dC,o=new FormData(t)}else if(S3e(t)||T3e(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Gc(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||cC,i=PP(t.getAttribute("formenctype"))||PP(a.getAttribute("enctype"))||dC,o=new FormData(a,t),!k3e()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(PR(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cC,r=null,i=dC,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function m4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function M3e(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N3e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D3e(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await M3e(o,n);return s.links?s.links():[]}return[]}));return $3e(r.flat(1).filter(N3e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G8(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function L3e(t,e,{includeHydrateFallback:n}={}){return O3e(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function O3e(t){return[...new Set(t)]}function F3e(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $3e(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(F3e(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B3e=new Set([100,101,204,205]);function z3e(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Gc(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lne(){let t=z.useContext(n0);return m4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V3e(){let t=z.useContext(IR);return m4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var y4=z.createContext(void 0);y4.displayName="FrameworkContext";function une(){let t=z.useContext(y4);return m4(t,"You must render this element inside a <HydratedRouter> element"),t}function U3e(t,e){let n=z.useContext(y4),[r,i]=z.useState(!1),[o,s]=z.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=z.useRef(null);z.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=v=>{v.forEach(E=>{s(E.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),z.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,f,{}]:[o,f,{onFocus:sb(a,p),onBlur:sb(l,m),onMouseEnter:sb(u,p),onMouseLeave:sb(c,m),onTouchStart:sb(d,p)}]:[!1,f,{}]}function sb(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H3e({page:t,...e}){let{router:n}=lne(),r=z.useMemo(()=>Jte(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(j3e,{page:t,matches:r,...e}):null}function q3e(t){let{manifest:e,routeModules:n}=une(),[r,i]=z.useState([]);return z.useEffect(()=>{let o=!1;return D3e(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function j3e({page:t,matches:e,...n}){let r=$f(),{manifest:i,routeModules:o}=une(),{basename:s}=lne(),{loaderData:a,matches:l}=V3e(),u=z.useMemo(()=>G8(t,e,l,i,r,"data"),[t,e,l,i,r]),c=z.useMemo(()=>G8(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(v=>{var x;let E=i.routes[v.route.id];!E||!E.hasLoader||(!u.some(C=>C.route.id===v.route.id)&&v.route.id in a&&((x=o[v.route.id])!=null&&x.shouldRevalidate)||E.hasClientLoader?y=!0:m.add(v.route.id))}),m.size===0)return[];let b=z3e(t,s);return y&&m.size>0&&b.searchParams.set("_routes",e.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[s,a,r,i,u,e,t,o]),f=z.useMemo(()=>L3e(c,i),[c,i]),p=q3e(c);return z.createElement(z.Fragment,null,d.map(m=>z.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>z.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>z.createElement("link",{key:m,...y})))}function W3e(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cne&&(window.__reactRouterVersion="7.6.2")}catch{}function G3e({basename:t,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=D5e({window:n,v5Compat:!0}));let i=r.current,[o,s]=z.useState({action:i.action,location:i.location}),a=z.useCallback(l=>{z.startTransition(()=>s(l))},[s]);return z.useLayoutEffect(()=>i.listen(a),[i,a]),z.createElement(x3e,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var dne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fne=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},p){let{basename:m}=z.useContext(Eu),y=typeof u=="string"&&dne.test(u),b,v=!1;if(typeof u=="string"&&y&&(b=u,cne))try{let M=new URL(window.location.href),I=u.startsWith("//")?new URL(M.protocol+u):new URL(u),O=Gc(I.pathname,m);I.origin===M.origin&&O!=null?u=O+I.search+I.hash:v=!0}catch{el(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=a3e(u,{relative:i}),[x,C,k]=U3e(r,f),D=J3e(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function A(M){e&&e(M),M.defaultPrevented||D(M)}let P=z.createElement("a",{...f,...k,href:b||E,onClick:v||o?e:A,ref:W3e(p,C),target:l,"data-discover":!y&&n==="render"?"true":void 0});return x&&!y?z.createElement(z.Fragment,null,P,z.createElement(H3e,{page:E})):P});fne.displayName="Link";var K3e=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=c1(s,{relative:u.relative}),f=$f(),p=z.useContext(IR),{navigator:m,basename:y}=z.useContext(Eu),b=p!=null&&n4e(d)&&a===!0,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,E=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(E=E.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&y&&(x=Gc(x,y)||x);const C=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=E===v||!i&&E.startsWith(v)&&E.charAt(C)==="/",D=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),A={isActive:k,isPending:D,isTransitioning:b},P=k?e:void 0,M;typeof r=="function"?M=r(A):M=[r,k?"active":null,D?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(A):o;return z.createElement(fne,{...u,"aria-current":P,className:M,ref:c,style:I,to:s,viewTransition:a},typeof l=="function"?l(A):l)});K3e.displayName="NavLink";var Y3e=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=cC,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},p)=>{let m=e4e(),y=t4e(a,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&dne.test(a),E=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let C=x.nativeEvent.submitter,k=(C==null?void 0:C.getAttribute("formmethod"))||s;m(C||x.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return z.createElement("form",{ref:p,method:b,action:y,onSubmit:r?l:E,...f,"data-discover":!v&&t==="render"?"true":void 0})});Y3e.displayName="Form";function X3e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hne(t){let e=z.useContext(n0);return br(e,X3e(t)),e}function J3e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=h4(),l=$f(),u=c1(t,{relative:o});return z.useCallback(c=>{if(R3e(c,e)){c.preventDefault();let d=n!==void 0?n:t_(l)===t_(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var Q3e=0,Z3e=()=>`__${String(++Q3e)}__`;function e4e(){let{router:t}=hne("useSubmit"),{basename:e}=z.useContext(Eu),n=v3e();return z.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=P3e(r,e);if(i.navigate===!1){let c=i.fetcherKey||Z3e();await t.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function t4e(t,{relative:e}={}){let{basename:n}=z.useContext(Eu),r=z.useContext(Zc);br(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...c1(t||".",{relative:e})},s=$f();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Dc([n,o.pathname])),t_(o)}function n4e(t,e={}){let n=z.useContext(rne);br(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hne("useViewTransitionState"),i=c1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Gc(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Gc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return NT(i.pathname,s)!=null||NT(i.pathname,o)!=null}[...B3e];var Io={},fm={},MP,K8;function pne(){if(K8)return MP;K8=1;var t=typeof ea=="object"&&ea&&ea.Object===Object&&ea;return MP=t,MP}var NP,Y8;function Su(){if(Y8)return NP;Y8=1;var t=pne(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return NP=n,NP}var DP,X8;function d1(){if(X8)return DP;X8=1;var t=Su(),e=t.Symbol;return DP=e,DP}var LP,J8;function r4e(){if(J8)return LP;J8=1;var t=d1(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return LP=o,LP}var OP,Q8;function i4e(){if(Q8)return OP;Q8=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return OP=n,OP}var FP,Z8;function og(){if(Z8)return FP;Z8=1;var t=d1(),e=r4e(),n=i4e(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return FP=s,FP}var $P,eq;function ol(){if(eq)return $P;eq=1;var t=Array.isArray;return $P=t,$P}var BP,tq;function ed(){if(tq)return BP;tq=1;function t(e){return e!=null&&typeof e=="object"}return BP=t,BP}var zP,nq;function o4e(){if(nq)return zP;nq=1;var t=og(),e=ol(),n=ed(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return zP=i,zP}var VP,rq;function s4e(){if(rq)return VP;rq=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++o];if(r(s[u],u,s)===!1)break}return n}}return VP=t,VP}var UP,iq;function a4e(){if(iq)return UP;iq=1;var t=s4e(),e=t();return UP=e,UP}var HP,oq;function l4e(){if(oq)return HP;oq=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return HP=t,HP}var qP,sq;function u4e(){if(sq)return qP;sq=1;var t=og(),e=ed(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return qP=r,qP}var jP,aq;function gne(){if(aq)return jP;aq=1;var t=u4e(),e=ed(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return jP=o,jP}var Fb={exports:{}},WP,lq;function c4e(){if(lq)return WP;lq=1;function t(){return!1}return WP=t,WP}Fb.exports;var uq;function v4(){return uq||(uq=1,function(t,e){var n=Su(),r=c4e(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(Fb,Fb.exports)),Fb.exports}var GP,cq;function mne(){if(cq)return GP;cq=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return GP=n,GP}var KP,dq;function b4(){if(dq)return KP;dq=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return KP=e,KP}var YP,fq;function d4e(){if(fq)return YP;fq=1;var t=og(),e=b4(),n=ed(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",v="[object DataView]",E="[object Float32Array]",x="[object Float64Array]",C="[object Int8Array]",k="[object Int16Array]",D="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]",O={};O[E]=O[x]=O[C]=O[k]=O[D]=O[A]=O[P]=O[M]=O[I]=!0,O[r]=O[i]=O[b]=O[o]=O[v]=O[s]=O[a]=O[l]=O[u]=O[c]=O[d]=O[f]=O[p]=O[m]=O[y]=!1;function F($){return n($)&&e($.length)&&!!O[t($)]}return YP=F,YP}var XP,hq;function w4(){if(hq)return XP;hq=1;function t(e){return function(n){return e(n)}}return XP=t,XP}var $b={exports:{}};$b.exports;var pq;function _4(){return pq||(pq=1,function(t,e){var n=pne(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}($b,$b.exports)),$b.exports}var JP,gq;function yne(){if(gq)return JP;gq=1;var t=d4e(),e=w4(),n=_4(),r=n&&n.isTypedArray,i=r?e(r):t;return JP=i,JP}var QP,mq;function vne(){if(mq)return QP;mq=1;var t=l4e(),e=gne(),n=ol(),r=v4(),i=mne(),o=yne(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var d=n(u),f=!d&&e(u),p=!d&&!f&&r(u),m=!d&&!f&&!p&&o(u),y=d||f||p||m,b=y?t(u.length,String):[],v=b.length;for(var E in u)(c||a.call(u,E))&&!(y&&(E=="length"||p&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,v)))&&b.push(E);return b}return QP=l,QP}var ZP,yq;function x4(){if(yq)return ZP;yq=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return ZP=e,ZP}var e2,vq;function bne(){if(vq)return e2;vq=1;function t(e,n){return function(r){return e(n(r))}}return e2=t,e2}var t2,bq;function f4e(){if(bq)return t2;bq=1;var t=bne(),e=t(Object.keys,Object);return t2=e,t2}var n2,wq;function h4e(){if(wq)return n2;wq=1;var t=x4(),e=f4e(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return n2=i,n2}var r2,_q;function r0(){if(_q)return r2;_q=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return r2=t,r2}var i2,xq;function wne(){if(xq)return i2;xq=1;var t=og(),e=r0(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==o}return i2=s,i2}var o2,Eq;function MR(){if(Eq)return o2;Eq=1;var t=wne(),e=b4();function n(r){return r!=null&&e(r.length)&&!t(r)}return o2=n,o2}var s2,Sq;function f1(){if(Sq)return s2;Sq=1;var t=vne(),e=h4e(),n=MR();function r(i){return n(i)?t(i):e(i)}return s2=r,s2}var a2,Cq;function _ne(){if(Cq)return a2;Cq=1;var t=a4e(),e=f1();function n(r,i){return r&&t(r,i,e)}return a2=n,a2}var l2,Tq;function xne(){if(Tq)return l2;Tq=1;function t(e){return e}return l2=t,l2}var u2,Aq;function p4e(){if(Aq)return u2;Aq=1;var t=xne();function e(n){return typeof n=="function"?n:t}return u2=e,u2}var c2,Rq;function E4(){if(Rq)return c2;Rq=1;var t=_ne(),e=p4e();function n(r,i){return r&&t(r,e(i))}return c2=n,c2}var d2,kq;function S4(){if(kq)return d2;kq=1;var t=bne(),e=t(Object.getPrototypeOf,Object);return d2=e,d2}var f2,Iq;function g4e(){if(Iq)return f2;Iq=1;var t=og(),e=S4(),n=ed(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||t(c)!=r)return!1;var d=e(c);if(d===null)return!0;var f=a.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return f2=u,f2}var h2,Pq;function Ene(){if(Pq)return h2;Pq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return h2=t,h2}var p2,Mq;function m4e(){if(Mq)return p2;Mq=1;function t(){this.__data__=[],this.size=0}return p2=t,p2}var g2,Nq;function C4(){if(Nq)return g2;Nq=1;function t(e,n){return e===n||e!==e&&n!==n}return g2=t,g2}var m2,Dq;function NR(){if(Dq)return m2;Dq=1;var t=C4();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return m2=e,m2}var y2,Lq;function y4e(){if(Lq)return y2;Lq=1;var t=NR(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return y2=r,y2}var v2,Oq;function v4e(){if(Oq)return v2;Oq=1;var t=NR();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return v2=e,v2}var b2,Fq;function b4e(){if(Fq)return b2;Fq=1;var t=NR();function e(n){return t(this.__data__,n)>-1}return b2=e,b2}var w2,$q;function w4e(){if($q)return w2;$q=1;var t=NR();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return w2=e,w2}var _2,Bq;function DR(){if(Bq)return _2;Bq=1;var t=m4e(),e=y4e(),n=v4e(),r=b4e(),i=w4e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,_2=o,_2}var x2,zq;function _4e(){if(zq)return x2;zq=1;var t=DR();function e(){this.__data__=new t,this.size=0}return x2=e,x2}var E2,Vq;function x4e(){if(Vq)return E2;Vq=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return E2=t,E2}var S2,Uq;function E4e(){if(Uq)return S2;Uq=1;function t(e){return this.__data__.get(e)}return S2=t,S2}var C2,Hq;function S4e(){if(Hq)return C2;Hq=1;function t(e){return this.__data__.has(e)}return C2=t,C2}var T2,qq;function C4e(){if(qq)return T2;qq=1;var t=Su(),e=t["__core-js_shared__"];return T2=e,T2}var A2,jq;function T4e(){if(jq)return A2;jq=1;var t=C4e(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return A2=n,A2}var R2,Wq;function Sne(){if(Wq)return R2;Wq=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return R2=n,R2}var k2,Gq;function A4e(){if(Gq)return k2;Gq=1;var t=wne(),e=T4e(),n=r0(),r=Sne(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||e(f))return!1;var p=t(f)?c:o;return p.test(r(f))}return k2=d,k2}var I2,Kq;function R4e(){if(Kq)return I2;Kq=1;function t(e,n){return e==null?void 0:e[n]}return I2=t,I2}var P2,Yq;function sg(){if(Yq)return P2;Yq=1;var t=A4e(),e=R4e();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return P2=n,P2}var M2,Xq;function T4(){if(Xq)return M2;Xq=1;var t=sg(),e=Su(),n=t(e,"Map");return M2=n,M2}var N2,Jq;function LR(){if(Jq)return N2;Jq=1;var t=sg(),e=t(Object,"create");return N2=e,N2}var D2,Qq;function k4e(){if(Qq)return D2;Qq=1;var t=LR();function e(){this.__data__=t?t(null):{},this.size=0}return D2=e,D2}var L2,Zq;function I4e(){if(Zq)return L2;Zq=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return L2=t,L2}var O2,ej;function P4e(){if(ej)return O2;ej=1;var t=LR(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return O2=i,O2}var F2,tj;function M4e(){if(tj)return F2;tj=1;var t=LR(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return F2=r,F2}var $2,nj;function N4e(){if(nj)return $2;nj=1;var t=LR(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return $2=n,$2}var B2,rj;function D4e(){if(rj)return B2;rj=1;var t=k4e(),e=I4e(),n=P4e(),r=M4e(),i=N4e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,B2=o,B2}var z2,ij;function L4e(){if(ij)return z2;ij=1;var t=D4e(),e=DR(),n=T4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return z2=r,z2}var V2,oj;function O4e(){if(oj)return V2;oj=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return V2=t,V2}var U2,sj;function OR(){if(sj)return U2;sj=1;var t=O4e();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return U2=e,U2}var H2,aj;function F4e(){if(aj)return H2;aj=1;var t=OR();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return H2=e,H2}var q2,lj;function $4e(){if(lj)return q2;lj=1;var t=OR();function e(n){return t(this,n).get(n)}return q2=e,q2}var j2,uj;function B4e(){if(uj)return j2;uj=1;var t=OR();function e(n){return t(this,n).has(n)}return j2=e,j2}var W2,cj;function z4e(){if(cj)return W2;cj=1;var t=OR();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return W2=e,W2}var G2,dj;function A4(){if(dj)return G2;dj=1;var t=L4e(),e=F4e(),n=$4e(),r=B4e(),i=z4e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,G2=o,G2}var K2,fj;function V4e(){if(fj)return K2;fj=1;var t=DR(),e=T4(),n=A4(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return K2=i,K2}var Y2,hj;function R4(){if(hj)return Y2;hj=1;var t=DR(),e=_4e(),n=x4e(),r=E4e(),i=S4e(),o=V4e();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,Y2=s,Y2}var X2,pj;function U4e(){if(pj)return X2;pj=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return X2=e,X2}var J2,gj;function H4e(){if(gj)return J2;gj=1;function t(e){return this.__data__.has(e)}return J2=t,J2}var Q2,mj;function q4e(){if(mj)return Q2;mj=1;var t=A4(),e=U4e(),n=H4e();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Q2=r,Q2}var Z2,yj;function j4e(){if(yj)return Z2;yj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Z2=t,Z2}var eM,vj;function W4e(){if(vj)return eM;vj=1;function t(e,n){return e.has(n)}return eM=t,eM}var tM,bj;function Cne(){if(bj)return tM;bj=1;var t=q4e(),e=j4e(),n=W4e(),r=1,i=2;function o(s,a,l,u,c,d){var f=l&r,p=s.length,m=a.length;if(p!=m&&!(f&&m>p))return!1;var y=d.get(s),b=d.get(a);if(y&&b)return y==a&&b==s;var v=-1,E=!0,x=l&i?new t:void 0;for(d.set(s,a),d.set(a,s);++v<p;){var C=s[v],k=a[v];if(u)var D=f?u(k,C,v,a,s,d):u(C,k,v,s,a,d);if(D!==void 0){if(D)continue;E=!1;break}if(x){if(!e(a,function(A,P){if(!n(x,P)&&(C===A||c(C,A,l,u,d)))return x.push(P)})){E=!1;break}}else if(!(C===k||c(C,k,l,u,d))){E=!1;break}}return d.delete(s),d.delete(a),E}return tM=o,tM}var nM,wj;function Tne(){if(wj)return nM;wj=1;var t=Su(),e=t.Uint8Array;return nM=e,nM}var rM,_j;function G4e(){if(_j)return rM;_j=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return rM=t,rM}var iM,xj;function K4e(){if(xj)return iM;xj=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return iM=t,iM}var oM,Ej;function Y4e(){if(Ej)return oM;Ej=1;var t=d1(),e=Tne(),n=C4(),r=Cne(),i=G4e(),o=K4e(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",f="[object Number]",p="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",v="[object ArrayBuffer]",E="[object DataView]",x=t?t.prototype:void 0,C=x?x.valueOf:void 0;function k(D,A,P,M,I,O,F){switch(P){case E:if(D.byteLength!=A.byteLength||D.byteOffset!=A.byteOffset)return!1;D=D.buffer,A=A.buffer;case v:return!(D.byteLength!=A.byteLength||!O(new e(D),new e(A)));case l:case u:case f:return n(+D,+A);case c:return D.name==A.name&&D.message==A.message;case p:case y:return D==A+"";case d:var $=i;case m:var L=M&s;if($||($=o),D.size!=A.size&&!L)return!1;var q=F.get(D);if(q)return q==A;M|=a,F.set(D,A);var K=r($(D),$(A),M,I,O,F);return F.delete(D),K;case b:if(C)return C.call(D)==C.call(A)}return!1}return oM=k,oM}var sM,Sj;function Ane(){if(Sj)return sM;Sj=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return sM=t,sM}var aM,Cj;function Rne(){if(Cj)return aM;Cj=1;var t=Ane(),e=ol();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return aM=n,aM}var lM,Tj;function X4e(){if(Tj)return lM;Tj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return lM=t,lM}var uM,Aj;function kne(){if(Aj)return uM;Aj=1;function t(){return[]}return uM=t,uM}var cM,Rj;function k4(){if(Rj)return cM;Rj=1;var t=X4e(),e=kne(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return cM=o,cM}var dM,kj;function Ine(){if(kj)return dM;kj=1;var t=Rne(),e=k4(),n=f1();function r(i){return t(i,n,e)}return dM=r,dM}var fM,Ij;function J4e(){if(Ij)return fM;Ij=1;var t=Ine(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var d=a&e,f=t(o),p=f.length,m=t(s),y=m.length;if(p!=y&&!d)return!1;for(var b=p;b--;){var v=f[b];if(!(d?v in s:r.call(s,v)))return!1}var E=c.get(o),x=c.get(s);if(E&&x)return E==s&&x==o;var C=!0;c.set(o,s),c.set(s,o);for(var k=d;++b<p;){v=f[b];var D=o[v],A=s[v];if(l)var P=d?l(A,D,v,s,o,c):l(D,A,v,o,s,c);if(!(P===void 0?D===A||u(D,A,a,l,c):P)){C=!1;break}k||(k=v=="constructor")}if(C&&!k){var M=o.constructor,I=s.constructor;M!=I&&"constructor"in o&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof I=="function"&&I instanceof I)&&(C=!1)}return c.delete(o),c.delete(s),C}return fM=i,fM}var hM,Pj;function Q4e(){if(Pj)return hM;Pj=1;var t=sg(),e=Su(),n=t(e,"DataView");return hM=n,hM}var pM,Mj;function Z4e(){if(Mj)return pM;Mj=1;var t=sg(),e=Su(),n=t(e,"Promise");return pM=n,pM}var gM,Nj;function e$e(){if(Nj)return gM;Nj=1;var t=sg(),e=Su(),n=t(e,"Set");return gM=n,gM}var mM,Dj;function t$e(){if(Dj)return mM;Dj=1;var t=sg(),e=Su(),n=t(e,"WeakMap");return mM=n,mM}var yM,Lj;function FR(){if(Lj)return yM;Lj=1;var t=Q4e(),e=T4(),n=Z4e(),r=e$e(),i=t$e(),o=og(),s=Sne(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",f="[object DataView]",p=s(t),m=s(e),y=s(n),b=s(r),v=s(i),E=o;return(t&&E(new t(new ArrayBuffer(1)))!=f||e&&E(new e)!=a||n&&E(n.resolve())!=u||r&&E(new r)!=c||i&&E(new i)!=d)&&(E=function(x){var C=o(x),k=C==l?x.constructor:void 0,D=k?s(k):"";if(D)switch(D){case p:return f;case m:return a;case y:return u;case b:return c;case v:return d}return C}),yM=E,yM}var vM,Oj;function n$e(){if(Oj)return vM;Oj=1;var t=R4(),e=Cne(),n=Y4e(),r=J4e(),i=FR(),o=ol(),s=v4(),a=yne(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function m(y,b,v,E,x,C){var k=o(y),D=o(b),A=k?c:i(y),P=D?c:i(b);A=A==u?d:A,P=P==u?d:P;var M=A==d,I=P==d,O=A==P;if(O&&s(y)){if(!s(b))return!1;k=!0,M=!1}if(O&&!M)return C||(C=new t),k||a(y)?e(y,b,v,E,x,C):n(y,b,A,v,E,x,C);if(!(v&l)){var F=M&&p.call(y,"__wrapped__"),$=I&&p.call(b,"__wrapped__");if(F||$){var L=F?y.value():y,q=$?b.value():b;return C||(C=new t),x(L,q,v,E,C)}}return O?(C||(C=new t),r(y,b,v,E,x,C)):!1}return vM=m,vM}var bM,Fj;function Pne(){if(Fj)return bM;Fj=1;var t=n$e(),e=ed();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return bM=n,bM}var wM,$j;function r$e(){if($j)return wM;$j=1;var t=R4(),e=Pne(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,d=!l;if(o==null)return!c;for(o=Object(o);u--;){var f=a[u];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++u<c;){f=a[u];var p=f[0],m=o[p],y=f[1];if(d&&f[2]){if(m===void 0&&!(p in o))return!1}else{var b=new t;if(l)var v=l(m,y,p,o,s,b);if(!(v===void 0?e(y,m,n|r,l,b):v))return!1}}return!0}return wM=i,wM}var _M,Bj;function Mne(){if(Bj)return _M;Bj=1;var t=r0();function e(n){return n===n&&!t(n)}return _M=e,_M}var xM,zj;function i$e(){if(zj)return xM;zj=1;var t=Mne(),e=f1();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return xM=n,xM}var EM,Vj;function Nne(){if(Vj)return EM;Vj=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return EM=t,EM}var SM,Uj;function o$e(){if(Uj)return SM;Uj=1;var t=r$e(),e=i$e(),n=Nne();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return SM=r,SM}var CM,Hj;function I4(){if(Hj)return CM;Hj=1;var t=og(),e=ed(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return CM=r,CM}var TM,qj;function P4(){if(qj)return TM;qj=1;var t=ol(),e=I4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return TM=i,TM}var AM,jj;function s$e(){if(jj)return AM;jj=1;var t=A4(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||t),o}return n.Cache=t,AM=n,AM}var RM,Wj;function a$e(){if(Wj)return RM;Wj=1;var t=s$e(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return RM=n,RM}var kM,Gj;function l$e(){if(Gj)return kM;Gj=1;var t=a$e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return kM=r,kM}var IM,Kj;function u$e(){if(Kj)return IM;Kj=1;var t=d1(),e=Ene(),n=ol(),r=I4(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return IM=s,IM}var PM,Yj;function c$e(){if(Yj)return PM;Yj=1;var t=u$e();function e(n){return n==null?"":t(n)}return PM=e,PM}var MM,Xj;function Dne(){if(Xj)return MM;Xj=1;var t=ol(),e=P4(),n=l$e(),r=c$e();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return MM=i,MM}var NM,Jj;function $R(){if(Jj)return NM;Jj=1;var t=I4();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return NM=e,NM}var DM,Qj;function Lne(){if(Qj)return DM;Qj=1;var t=Dne(),e=$R();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return DM=n,DM}var LM,Zj;function d$e(){if(Zj)return LM;Zj=1;var t=Lne();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return LM=e,LM}var OM,eW;function f$e(){if(eW)return OM;eW=1;function t(e,n){return e!=null&&n in Object(e)}return OM=t,OM}var FM,tW;function h$e(){if(tW)return FM;tW=1;var t=Dne(),e=gne(),n=ol(),r=mne(),i=b4(),o=$R();function s(a,l,u){l=t(l,a);for(var c=-1,d=l.length,f=!1;++c<d;){var p=o(l[c]);if(!(f=a!=null&&u(a,p)))break;a=a[p]}return f||++c!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(p,d)&&(n(a)||e(a)))}return FM=s,FM}var $M,nW;function p$e(){if(nW)return $M;nW=1;var t=f$e(),e=h$e();function n(r,i){return r!=null&&e(r,i,t)}return $M=n,$M}var BM,rW;function g$e(){if(rW)return BM;rW=1;var t=Pne(),e=d$e(),n=p$e(),r=P4(),i=Mne(),o=Nne(),s=$R(),a=1,l=2;function u(c,d){return r(c)&&i(d)?o(s(c),d):function(f){var p=e(f,c);return p===void 0&&p===d?n(f,c):t(d,p,a|l)}}return BM=u,BM}var zM,iW;function m$e(){if(iW)return zM;iW=1;function t(e){return function(n){return n==null?void 0:n[e]}}return zM=t,zM}var VM,oW;function y$e(){if(oW)return VM;oW=1;var t=Lne();function e(n){return function(r){return t(r,n)}}return VM=e,VM}var UM,sW;function v$e(){if(sW)return UM;sW=1;var t=m$e(),e=y$e(),n=P4(),r=$R();function i(o){return n(o)?t(r(o)):e(o)}return UM=i,UM}var HM,aW;function b$e(){if(aW)return HM;aW=1;var t=o$e(),e=g$e(),n=xne(),r=ol(),i=v$e();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return HM=o,HM}var qM,lW;function w$e(){if(lW)return qM;lW=1;var t=MR();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return qM=e,qM}var jM,uW;function _$e(){if(uW)return jM;uW=1;var t=_ne(),e=w$e(),n=e(t);return jM=n,jM}var WM,cW;function x$e(){if(cW)return WM;cW=1;var t=_$e(),e=MR();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return WM=n,WM}var GM,dW;function E$e(){if(dW)return GM;dW=1;var t=Ene(),e=b$e(),n=x$e(),r=ol();function i(o,s){var a=r(o)?t:n;return a(o,e(s,3))}return GM=i,GM}var fW;function S$e(){if(fW)return fm;fW=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.flattenNames=void 0;var t=o4e(),e=l(t),n=E4(),r=l(n),i=g4e(),o=l(i),s=E$e(),a=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=fm.flattenNames=function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=[];return(0,a.default)(d,function(p){Array.isArray(p)?c(p).map(function(m){return f.push(m)}):(0,o.default)(p)?(0,r.default)(p,function(m,y){m===!0&&f.push(y),f.push(y+"-"+m)}):(0,e.default)(p)&&f.push(p)}),f};return fm.default=u,fm}var hm={},KM,hW;function C$e(){if(hW)return KM;hW=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return KM=t,KM}var YM,pW;function T$e(){if(pW)return YM;pW=1;var t=sg(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return YM=e,YM}var XM,gW;function One(){if(gW)return XM;gW=1;var t=T$e();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return XM=e,XM}var JM,mW;function Fne(){if(mW)return JM;mW=1;var t=One(),e=C4(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&t(o,s,a)}return JM=i,JM}var QM,yW;function BR(){if(yW)return QM;yW=1;var t=Fne(),e=One();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=s?s(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),a?e(o,c,d):t(o,c,d)}return o}return QM=n,QM}var ZM,vW;function A$e(){if(vW)return ZM;vW=1;var t=BR(),e=f1();function n(r,i){return r&&t(i,e(i),r)}return ZM=n,ZM}var eN,bW;function R$e(){if(bW)return eN;bW=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return eN=t,eN}var tN,wW;function k$e(){if(wW)return tN;wW=1;var t=r0(),e=x4(),n=R$e(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!t(s))return n(s);var a=e(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return tN=o,tN}var nN,_W;function M4(){if(_W)return nN;_W=1;var t=vne(),e=k$e(),n=MR();function r(i){return n(i)?t(i,!0):e(i)}return nN=r,nN}var rN,xW;function I$e(){if(xW)return rN;xW=1;var t=BR(),e=M4();function n(r,i){return r&&t(i,e(i),r)}return rN=n,rN}var Bb={exports:{}};Bb.exports;var EW;function P$e(){return EW||(EW=1,function(t,e){var n=Su(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}t.exports=l}(Bb,Bb.exports)),Bb.exports}var iN,SW;function M$e(){if(SW)return iN;SW=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return iN=t,iN}var oN,CW;function N$e(){if(CW)return oN;CW=1;var t=BR(),e=k4();function n(r,i){return t(r,e(r),i)}return oN=n,oN}var sN,TW;function $ne(){if(TW)return sN;TW=1;var t=Ane(),e=S4(),n=k4(),r=kne(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)t(a,n(s)),s=e(s);return a}:r;return sN=o,sN}var aN,AW;function D$e(){if(AW)return aN;AW=1;var t=BR(),e=$ne();function n(r,i){return t(r,e(r),i)}return aN=n,aN}var lN,RW;function L$e(){if(RW)return lN;RW=1;var t=Rne(),e=$ne(),n=M4();function r(i){return t(i,n,e)}return lN=r,lN}var uN,kW;function O$e(){if(kW)return uN;kW=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return uN=n,uN}var cN,IW;function N4(){if(IW)return cN;IW=1;var t=Tne();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return cN=e,cN}var dN,PW;function F$e(){if(PW)return dN;PW=1;var t=N4();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return dN=e,dN}var fN,MW;function $$e(){if(MW)return fN;MW=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return fN=e,fN}var hN,NW;function B$e(){if(NW)return hN;NW=1;var t=d1(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return hN=r,hN}var pN,DW;function z$e(){if(DW)return pN;DW=1;var t=N4();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return pN=e,pN}var gN,LW;function V$e(){if(LW)return gN;LW=1;var t=N4(),e=F$e(),n=$$e(),r=B$e(),i=z$e(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",E="[object Int16Array]",x="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",A="[object Uint32Array]";function P(M,I,O){var F=M.constructor;switch(I){case p:return t(M);case o:case s:return new F(+M);case m:return e(M,O);case y:case b:case v:case E:case x:case C:case k:case D:case A:return i(M,O);case a:return new F;case l:case d:return new F(M);case u:return n(M);case c:return new F;case f:return r(M)}}return gN=P,gN}var mN,OW;function U$e(){if(OW)return mN;OW=1;var t=r0(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return mN=n,mN}var yN,FW;function H$e(){if(FW)return yN;FW=1;var t=U$e(),e=S4(),n=x4();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return yN=r,yN}var vN,$W;function q$e(){if($W)return vN;$W=1;var t=FR(),e=ed(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return vN=r,vN}var bN,BW;function j$e(){if(BW)return bN;BW=1;var t=q$e(),e=w4(),n=_4(),r=n&&n.isMap,i=r?e(r):t;return bN=i,bN}var wN,zW;function W$e(){if(zW)return wN;zW=1;var t=FR(),e=ed(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return wN=r,wN}var _N,VW;function G$e(){if(VW)return _N;VW=1;var t=W$e(),e=w4(),n=_4(),r=n&&n.isSet,i=r?e(r):t;return _N=i,_N}var xN,UW;function K$e(){if(UW)return xN;UW=1;var t=R4(),e=C$e(),n=Fne(),r=A$e(),i=I$e(),o=P$e(),s=M$e(),a=N$e(),l=D$e(),u=Ine(),c=L$e(),d=FR(),f=O$e(),p=V$e(),m=H$e(),y=ol(),b=v4(),v=j$e(),E=r0(),x=G$e(),C=f1(),k=M4(),D=1,A=2,P=4,M="[object Arguments]",I="[object Array]",O="[object Boolean]",F="[object Date]",$="[object Error]",L="[object Function]",q="[object GeneratorFunction]",K="[object Map]",X="[object Number]",ee="[object Object]",J="[object RegExp]",G="[object Set]",Y="[object String]",Z="[object Symbol]",W="[object WeakMap]",oe="[object ArrayBuffer]",re="[object DataView]",me="[object Float32Array]",ge="[object Float64Array]",ce="[object Int8Array]",he="[object Int16Array]",be="[object Int32Array]",Ce="[object Uint8Array]",Ae="[object Uint8ClampedArray]",Oe="[object Uint16Array]",j="[object Uint32Array]",pe={};pe[M]=pe[I]=pe[oe]=pe[re]=pe[O]=pe[F]=pe[me]=pe[ge]=pe[ce]=pe[he]=pe[be]=pe[K]=pe[X]=pe[ee]=pe[J]=pe[G]=pe[Y]=pe[Z]=pe[Ce]=pe[Ae]=pe[Oe]=pe[j]=!0,pe[$]=pe[L]=pe[W]=!1;function ve(se,te,fe,_e,Ie,we){var Le,He=te&D,Be=te&A,xe=te&P;if(fe&&(Le=Ie?fe(se,_e,Ie,we):fe(se)),Le!==void 0)return Le;if(!E(se))return se;var Me=y(se);if(Me){if(Le=f(se),!He)return s(se,Le)}else{var Ve=d(se),nt=Ve==L||Ve==q;if(b(se))return o(se,He);if(Ve==ee||Ve==M||nt&&!Ie){if(Le=Be||nt?{}:m(se),!He)return Be?l(se,i(Le,se)):a(se,r(Le,se))}else{if(!pe[Ve])return Ie?se:{};Le=p(se,Ve,He)}}we||(we=new t);var wt=we.get(se);if(wt)return wt;we.set(se,Le),x(se)?se.forEach(function(vt){Le.add(ve(vt,te,fe,vt,se,we))}):v(se)&&se.forEach(function(vt,Yt){Le.set(Yt,ve(vt,te,fe,Yt,se,we))});var rt=xe?Be?c:u:Be?k:C,Qt=Me?void 0:rt(se);return e(Qt||se,function(vt,Yt){Qt&&(Yt=vt,vt=se[Yt]),n(Le,Yt,ve(vt,te,fe,Yt,se,we))}),Le}return xN=ve,xN}var EN,HW;function Y$e(){if(HW)return EN;HW=1;var t=K$e(),e=1,n=4;function r(i){return t(i,e|n)}return EN=r,EN}var qW;function X$e(){if(qW)return hm;qW=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.mergeClasses=void 0;var t=E4(),e=o(t),n=Y$e(),r=o(n),i=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var s=hm.mergeClasses=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=l.default&&(0,r.default)(l.default)||{};return u.map(function(d){var f=l[d];return f&&(0,e.default)(f,function(p,m){c[m]||(c[m]={}),c[m]=i({},c[m],f[m])}),d}),c};return hm.default=s,hm}var pm={},jW;function J$e(){if(jW)return pm;jW=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.autoprefix=void 0;var t=E4(),e=r(t),n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s};function r(s){return s&&s.__esModule?s:{default:s}}var i={borderRadius:function(a){return{msBorderRadius:a,MozBorderRadius:a,OBorderRadius:a,WebkitBorderRadius:a,borderRadius:a}},boxShadow:function(a){return{msBoxShadow:a,MozBoxShadow:a,OBoxShadow:a,WebkitBoxShadow:a,boxShadow:a}},userSelect:function(a){return{WebkitTouchCallout:a,KhtmlUserSelect:a,MozUserSelect:a,msUserSelect:a,WebkitUserSelect:a,userSelect:a}},flex:function(a){return{WebkitBoxFlex:a,MozBoxFlex:a,WebkitFlex:a,msFlex:a,flex:a}},flexBasis:function(a){return{WebkitFlexBasis:a,flexBasis:a}},justifyContent:function(a){return{WebkitJustifyContent:a,justifyContent:a}},transition:function(a){return{msTransition:a,MozTransition:a,OTransition:a,WebkitTransition:a,transition:a}},transform:function(a){return{msTransform:a,MozTransform:a,OTransform:a,WebkitTransform:a,transform:a}},absolute:function(a){var l=a&&a.split(" ");return{position:"absolute",top:l&&l[0],right:l&&l[1],bottom:l&&l[2],left:l&&l[3]}},extend:function(a,l){var u=l[a];return u||{extend:a}}},o=pm.autoprefix=function(a){var l={};return(0,e.default)(a,function(u,c){var d={};(0,e.default)(u,function(f,p){var m=i[p];m?d=n({},d,m(f)):d[p]=f}),l[c]=d}),l};return pm.default=o,pm}var gm={},WW;function Q$e(){if(WW)return gm;WW=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.hover=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=nl(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=gm.hover=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(f,d);function f(){var p,m,y,b;i(this,f);for(var v=arguments.length,E=Array(v),x=0;x<v;x++)E[x]=arguments[x];return b=(m=(y=o(this,(p=f.__proto__||Object.getPrototypeOf(f)).call.apply(p,[this].concat(E))),y),y.state={hover:!1},y.handleMouseOver=function(){return y.setState({hover:!0})},y.handleMouseOut=function(){return y.setState({hover:!1})},y.render=function(){return n.default.createElement(c,{onMouseOver:y.handleMouseOver,onMouseOut:y.handleMouseOut},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,b)}return f}(n.default.Component)};return gm.default=a,gm}var mm={},GW;function Z$e(){if(GW)return mm;GW=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.active=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=nl(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=mm.active=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(f,d);function f(){var p,m,y,b;i(this,f);for(var v=arguments.length,E=Array(v),x=0;x<v;x++)E[x]=arguments[x];return b=(m=(y=o(this,(p=f.__proto__||Object.getPrototypeOf(f)).call.apply(p,[this].concat(E))),y),y.state={active:!1},y.handleMouseDown=function(){return y.setState({active:!0})},y.handleMouseUp=function(){return y.setState({active:!1})},y.render=function(){return n.default.createElement(c,{onMouseDown:y.handleMouseDown,onMouseUp:y.handleMouseUp},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,b)}return f}(n.default.Component)};return mm.default=a,mm}var pS={},KW;function eBe(){if(KW)return pS;KW=1,Object.defineProperty(pS,"__esModule",{value:!0});var t=function(n,r){var i={},o=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[a]=l};return n===0&&o("first-child"),n===r-1&&o("last-child"),(n===0||n%2===0)&&o("even"),Math.abs(n%2)===1&&o("odd"),o("nth-child",n),i};return pS.default=t,pS}var YW;function tBe(){if(YW)return Io;YW=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.ReactCSS=Io.loop=Io.handleActive=Io.handleHover=Io.hover=void 0;var t=S$e(),e=f(t),n=X$e(),r=f(n),i=J$e(),o=f(i),s=Q$e(),a=f(s),l=Z$e(),u=f(l),c=eBe(),d=f(c);function f(m){return m&&m.__esModule?m:{default:m}}Io.hover=a.default,Io.handleHover=a.default,Io.handleActive=u.default,Io.loop=d.default;var p=Io.ReactCSS=function(y){for(var b=arguments.length,v=Array(b>1?b-1:0),E=1;E<b;E++)v[E-1]=arguments[E];var x=(0,e.default)(v),C=(0,r.default)(y,x);return(0,o.default)(C)};return Io.default=p,Io}var D4=tBe();const Ht=Ni(D4);var nBe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(d<0?f=0:d>a?f=1:f=Math.round(d*100/a)/100,n.a!==f)return{h:n.h,s:n.s,l:n.l,a:f,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>s?p=1:p=Math.round(c*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},SN={},rBe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},iBe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(SN[o])return SN[o];var s=rBe(e,n,r,i);return SN[o]=s,s},XW=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,u=Ht({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+iBe(n,r,i,o.canvas)+") center left"}}});return z.isValidElement(l)?ue.cloneElement(l,XW({},l.props,{style:XW({},l.props.style,u.grid)})):ue.createElement("div",{style:u.grid})};i0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var oBe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sBe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L4=function(t){lBe(e,t);function e(){var n,r,i,o;aBe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=JW(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=nBe(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),JW(i,o)}return sBe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Ht({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:oBe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return ue.createElement("div",{style:o.alpha},ue.createElement("div",{style:o.checkboard},ue.createElement(i0,{renderers:this.props.renderers})),ue.createElement("div",{style:o.gradient}),ue.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ue.createElement("div",{style:o.pointer},this.props.pointer?ue.createElement(this.props.pointer,this.props):ue.createElement("div",{style:o.slider}))))}}]),e}(z.PureComponent||z.Component),uBe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cBe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fBe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pBe=1,Bne=38,gBe=40,mBe=[Bne,gBe],yBe=function(e){return mBe.indexOf(e)>-1},vBe=function(e){return Number(String(e).replace(/%/g,""))},bBe=1,pn=function(t){hBe(e,t);function e(n){dBe(this,e);var r=fBe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=vBe(i.target.value);if(!isNaN(o)&&yBe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===Bne?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+bBe++,r}return uBe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return cBe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||pBe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Ht({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return ue.createElement("div",{style:i.wrap},ue.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?ue.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(z.PureComponent||z.Component),wBe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(c<0)d=359;else if(c>s)d=0;else{var f=-(c*100/s)+100;d=360*f/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>o)p=359;else{var m=u*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},_Be=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function xBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QW(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o0=function(t){EBe(e,t);function e(){var n,r,i,o;xBe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=QW(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=wBe(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),QW(i,o)}return _Be(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Ht({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return ue.createElement("div",{style:s.hue},ue.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ue.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),ue.createElement("div",{style:s.pointer},this.props.pointer?ue.createElement(this.props.pointer,this.props):ue.createElement("div",{style:s.slider}))))}}]),e}(z.PureComponent||z.Component);function SBe(){this.__data__=[],this.size=0}function h1(t,e){return t===e||t!==t&&e!==e}function zR(t,e){for(var n=t.length;n--;)if(h1(t[n][0],e))return n;return-1}var CBe=Array.prototype,TBe=CBe.splice;function ABe(t){var e=this.__data__,n=zR(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TBe.call(e,n,1),--this.size,!0}function RBe(t){var e=this.__data__,n=zR(e,t);return n<0?void 0:e[n][1]}function kBe(t){return zR(this.__data__,t)>-1}function IBe(t,e){var n=this.__data__,r=zR(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function td(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}td.prototype.clear=SBe;td.prototype.delete=ABe;td.prototype.get=RBe;td.prototype.has=kBe;td.prototype.set=IBe;function PBe(){this.__data__=new td,this.size=0}function MBe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function NBe(t){return this.__data__.get(t)}function DBe(t){return this.__data__.has(t)}var zne=typeof global=="object"&&global&&global.Object===Object&&global,LBe=typeof self=="object"&&self&&self.Object===Object&&self,sl=zne||LBe||Function("return this")(),If=sl.Symbol,Vne=Object.prototype,OBe=Vne.hasOwnProperty,FBe=Vne.toString,ab=If?If.toStringTag:void 0;function $Be(t){var e=OBe.call(t,ab),n=t[ab];try{t[ab]=void 0;var r=!0}catch{}var i=FBe.call(t);return r&&(e?t[ab]=n:delete t[ab]),i}var BBe=Object.prototype,zBe=BBe.toString;function VBe(t){return zBe.call(t)}var UBe="[object Null]",HBe="[object Undefined]",ZW=If?If.toStringTag:void 0;function ag(t){return t==null?t===void 0?HBe:UBe:ZW&&ZW in Object(t)?$Be(t):VBe(t)}function sa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qBe="[object AsyncFunction]",jBe="[object Function]",WBe="[object GeneratorFunction]",GBe="[object Proxy]";function O4(t){if(!sa(t))return!1;var e=ag(t);return e==jBe||e==WBe||e==qBe||e==GBe}var CN=sl["__core-js_shared__"],e7=function(){var t=/[^.]+$/.exec(CN&&CN.keys&&CN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function KBe(t){return!!e7&&e7 in t}var YBe=Function.prototype,XBe=YBe.toString;function lg(t){if(t!=null){try{return XBe.call(t)}catch{}try{return t+""}catch{}}return""}var JBe=/[\\^$.*+?()[\]{}|]/g,QBe=/^\[object .+?Constructor\]$/,ZBe=Function.prototype,eze=Object.prototype,tze=ZBe.toString,nze=eze.hasOwnProperty,rze=RegExp("^"+tze.call(nze).replace(JBe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ize(t){if(!sa(t)||KBe(t))return!1;var e=O4(t)?rze:QBe;return e.test(lg(t))}function oze(t,e){return t==null?void 0:t[e]}function ug(t,e){var n=oze(t,e);return ize(n)?n:void 0}var n_=ug(sl,"Map"),r_=ug(Object,"create");function sze(){this.__data__=r_?r_(null):{},this.size=0}function aze(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lze="__lodash_hash_undefined__",uze=Object.prototype,cze=uze.hasOwnProperty;function dze(t){var e=this.__data__;if(r_){var n=e[t];return n===lze?void 0:n}return cze.call(e,t)?e[t]:void 0}var fze=Object.prototype,hze=fze.hasOwnProperty;function pze(t){var e=this.__data__;return r_?e[t]!==void 0:hze.call(e,t)}var gze="__lodash_hash_undefined__";function mze(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r_&&e===void 0?gze:e,this}function Up(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Up.prototype.clear=sze;Up.prototype.delete=aze;Up.prototype.get=dze;Up.prototype.has=pze;Up.prototype.set=mze;function yze(){this.size=0,this.__data__={hash:new Up,map:new(n_||td),string:new Up}}function vze(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function VR(t,e){var n=t.__data__;return vze(e)?n[typeof e=="string"?"string":"hash"]:n.map}function bze(t){var e=VR(this,t).delete(t);return this.size-=e?1:0,e}function wze(t){return VR(this,t).get(t)}function _ze(t){return VR(this,t).has(t)}function xze(t,e){var n=VR(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function nd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nd.prototype.clear=yze;nd.prototype.delete=bze;nd.prototype.get=wze;nd.prototype.has=_ze;nd.prototype.set=xze;var Eze=200;function Sze(t,e){var n=this.__data__;if(n instanceof td){var r=n.__data__;if(!n_||r.length<Eze-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new nd(r)}return n.set(t,e),this.size=n.size,this}function cu(t){var e=this.__data__=new td(t);this.size=e.size}cu.prototype.clear=PBe;cu.prototype.delete=MBe;cu.prototype.get=NBe;cu.prototype.has=DBe;cu.prototype.set=Sze;var DT=function(){try{var t=ug(Object,"defineProperty");return t({},"",{}),t}catch{}}();function F4(t,e,n){e=="__proto__"&&DT?DT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function PO(t,e,n){(n!==void 0&&!h1(t[e],n)||n===void 0&&!(e in t))&&F4(t,e,n)}function Cze(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var Une=Cze(),Hne=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,t7=Hne&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,Tze=t7&&t7.exports===Hne,n7=Tze?sl.Buffer:void 0;n7&&n7.allocUnsafe;function Aze(t,e){return t.slice()}var LT=sl.Uint8Array;function Rze(t){var e=new t.constructor(t.byteLength);return new LT(e).set(new LT(t)),e}function kze(t,e){var n=Rze(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Ize(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var r7=Object.create,Pze=function(){function t(){}return function(e){if(!sa(e))return{};if(r7)return r7(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function qne(t,e){return function(n){return t(e(n))}}var jne=qne(Object.getPrototypeOf,Object),Mze=Object.prototype;function $4(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Mze;return t===n}function Nze(t){return typeof t.constructor=="function"&&!$4(t)?Pze(jne(t)):{}}function Pf(t){return t!=null&&typeof t=="object"}var Dze="[object Arguments]";function i7(t){return Pf(t)&&ag(t)==Dze}var Wne=Object.prototype,Lze=Wne.hasOwnProperty,Oze=Wne.propertyIsEnumerable,OT=i7(function(){return arguments}())?i7:function(t){return Pf(t)&&Lze.call(t,"callee")&&!Oze.call(t,"callee")},Ps=Array.isArray,Fze=9007199254740991;function B4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fze}function s0(t){return t!=null&&B4(t.length)&&!O4(t)}function $ze(t){return Pf(t)&&s0(t)}function Bze(){return!1}var Gne=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,o7=Gne&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,zze=o7&&o7.exports===Gne,s7=zze?sl.Buffer:void 0,Vze=s7?s7.isBuffer:void 0,FT=Vze||Bze,Uze="[object Object]",Hze=Function.prototype,qze=Object.prototype,Kne=Hze.toString,jze=qze.hasOwnProperty,Wze=Kne.call(Object);function Gze(t){if(!Pf(t)||ag(t)!=Uze)return!1;var e=jne(t);if(e===null)return!0;var n=jze.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Kne.call(n)==Wze}var Kze="[object Arguments]",Yze="[object Array]",Xze="[object Boolean]",Jze="[object Date]",Qze="[object Error]",Zze="[object Function]",eVe="[object Map]",tVe="[object Number]",nVe="[object Object]",rVe="[object RegExp]",iVe="[object Set]",oVe="[object String]",sVe="[object WeakMap]",aVe="[object ArrayBuffer]",lVe="[object DataView]",uVe="[object Float32Array]",cVe="[object Float64Array]",dVe="[object Int8Array]",fVe="[object Int16Array]",hVe="[object Int32Array]",pVe="[object Uint8Array]",gVe="[object Uint8ClampedArray]",mVe="[object Uint16Array]",yVe="[object Uint32Array]",ir={};ir[uVe]=ir[cVe]=ir[dVe]=ir[fVe]=ir[hVe]=ir[pVe]=ir[gVe]=ir[mVe]=ir[yVe]=!0;ir[Kze]=ir[Yze]=ir[aVe]=ir[Xze]=ir[lVe]=ir[Jze]=ir[Qze]=ir[Zze]=ir[eVe]=ir[tVe]=ir[nVe]=ir[rVe]=ir[iVe]=ir[oVe]=ir[sVe]=!1;function vVe(t){return Pf(t)&&B4(t.length)&&!!ir[ag(t)]}function bVe(t){return function(e){return t(e)}}var Yne=typeof Cs=="object"&&Cs&&!Cs.nodeType&&Cs,bw=Yne&&typeof Ts=="object"&&Ts&&!Ts.nodeType&&Ts,wVe=bw&&bw.exports===Yne,TN=wVe&&zne.process,a7=function(){try{var t=bw&&bw.require&&bw.require("util").types;return t||TN&&TN.binding&&TN.binding("util")}catch{}}(),l7=a7&&a7.isTypedArray,z4=l7?bVe(l7):vVe;function MO(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var _Ve=Object.prototype,xVe=_Ve.hasOwnProperty;function EVe(t,e,n){var r=t[e];(!(xVe.call(t,e)&&h1(r,n))||n===void 0&&!(e in t))&&F4(t,e,n)}function SVe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?F4(n,a,l):EVe(n,a,l)}return n}function CVe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var TVe=9007199254740991,AVe=/^(?:0|[1-9]\d*)$/;function V4(t,e){var n=typeof t;return e=e??TVe,!!e&&(n=="number"||n!="symbol"&&AVe.test(t))&&t>-1&&t%1==0&&t<e}var RVe=Object.prototype,kVe=RVe.hasOwnProperty;function Xne(t,e){var n=Ps(t),r=!n&&OT(t),i=!n&&!r&&FT(t),o=!n&&!r&&!i&&z4(t),s=n||r||i||o,a=s?CVe(t.length,String):[],l=a.length;for(var u in t)(e||kVe.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||V4(u,l)))&&a.push(u);return a}function IVe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var PVe=Object.prototype,MVe=PVe.hasOwnProperty;function NVe(t){if(!sa(t))return IVe(t);var e=$4(t),n=[];for(var r in t)r=="constructor"&&(e||!MVe.call(t,r))||n.push(r);return n}function Jne(t){return s0(t)?Xne(t,!0):NVe(t)}function DVe(t){return SVe(t,Jne(t))}function LVe(t,e,n,r,i,o,s){var a=MO(t,n),l=MO(e,n),u=s.get(l);if(u){PO(t,n,u);return}var c=o?o(a,l,n+"",t,e,s):void 0,d=c===void 0;if(d){var f=Ps(l),p=!f&&FT(l),m=!f&&!p&&z4(l);c=l,f||p||m?Ps(a)?c=a:$ze(a)?c=Ize(a):p?(d=!1,c=Aze(l)):m?(d=!1,c=kze(l)):c=[]:Gze(l)||OT(l)?(c=a,OT(a)?c=DVe(a):(!sa(a)||O4(a))&&(c=Nze(l))):d=!1}d&&(s.set(l,c),i(c,l,r,o,s),s.delete(l)),PO(t,n,c)}function Qne(t,e,n,r,i){t!==e&&Une(e,function(o,s){if(i||(i=new cu),sa(o))LVe(t,e,s,n,Qne,r,i);else{var a=r?r(MO(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),PO(t,s,a)}},Jne)}function UR(t){return t}function OVe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var u7=Math.max;function FVe(t,e,n){return e=u7(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=u7(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),OVe(t,this,a)}}function $Ve(t){return function(){return t}}var BVe=DT?function(t,e){return DT(t,"toString",{configurable:!0,enumerable:!1,value:$Ve(e),writable:!0})}:UR,zVe=800,VVe=16,UVe=Date.now;function HVe(t){var e=0,n=0;return function(){var r=UVe(),i=VVe-(r-n);if(n=r,i>0){if(++e>=zVe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qVe=HVe(BVe);function jVe(t,e){return qVe(FVe(t,e,UR),t+"")}function WVe(t,e,n){if(!sa(n))return!1;var r=typeof e;return(r=="number"?s0(n)&&V4(e,n.length):r=="string"&&e in n)?h1(n[e],t):!1}function GVe(t){return jVe(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&WVe(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var Xo=GVe(function(t,e,n){Qne(t,e,n)}),p1=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Ht(Xo({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return ue.createElement("div",{style:l.wrap},ue.createElement("div",{style:l.bg}),ue.createElement("div",{style:l.content},o))};p1.propTypes={background:Se.string,zDepth:Se.oneOf([0,1,2,3,4,5]),radius:Se.number,styles:Se.object};p1.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var AN=function(){return sl.Date.now()},KVe=/\s/;function YVe(t){for(var e=t.length;e--&&KVe.test(t.charAt(e)););return e}var XVe=/^\s+/;function JVe(t){return t&&t.slice(0,YVe(t)+1).replace(XVe,"")}var QVe="[object Symbol]";function HR(t){return typeof t=="symbol"||Pf(t)&&ag(t)==QVe}var c7=NaN,ZVe=/^[-+]0x[0-9a-f]+$/i,e6e=/^0b[01]+$/i,t6e=/^0o[0-7]+$/i,n6e=parseInt;function d7(t){if(typeof t=="number")return t;if(HR(t))return c7;if(sa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=JVe(t);var n=e6e.test(t);return n||t6e.test(t)?n6e(t.slice(2),n?2:8):ZVe.test(t)?c7:+t}var r6e="Expected a function",i6e=Math.max,o6e=Math.min;function Zne(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(r6e);e=d7(e)||0,sa(n)&&(c=!!n.leading,d="maxWait"in n,o=d?i6e(d7(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function p(D){var A=r,P=i;return r=i=void 0,u=D,s=t.apply(P,A),s}function m(D){return u=D,a=setTimeout(v,e),c?p(D):s}function y(D){var A=D-l,P=D-u,M=e-A;return d?o6e(M,o-P):M}function b(D){var A=D-l,P=D-u;return l===void 0||A>=e||A<0||d&&P>=o}function v(){var D=AN();if(b(D))return E(D);a=setTimeout(v,y(D))}function E(D){return a=void 0,f&&r?p(D):(r=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:E(AN())}function k(){var D=AN(),A=b(D);if(r=arguments,i=this,l=D,A){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(v,e),p(l)}return a===void 0&&(a=setTimeout(v,e)),s}return k.cancel=x,k.flush=C,k}var s6e="Expected a function";function a6e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(s6e);return sa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Zne(t,e,{leading:r,maxWait:e,trailing:i})}var l6e=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),c<0?c=0:c>s&&(c=s);var d=u/o,f=1-c/s;return{h:n.h,s:d,v:f,a:n.a,source:"hsv"}},u6e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function c6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d6e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qR=function(t){f6e(e,t);function e(n){c6e(this,e);var r=d6e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,l6e(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=a6e(function(i,o,s){i(o,s)},50),r}return u6e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,u=i.circle,c=Ht({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return ue.createElement("div",{style:c.color,ref:function(f){return r.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},ue.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),ue.createElement("div",{style:c.white,className:"saturation-white"},ue.createElement("div",{style:c.black,className:"saturation-black"}),ue.createElement("div",{style:c.pointer},this.props.pointer?ue.createElement(this.props.pointer,this.props):ue.createElement("div",{style:c.circle}))))}}]),e}(z.PureComponent||z.Component);function h6e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var p6e=qne(Object.keys,Object),g6e=Object.prototype,m6e=g6e.hasOwnProperty;function y6e(t){if(!$4(t))return p6e(t);var e=[];for(var n in Object(t))m6e.call(t,n)&&n!="constructor"&&e.push(n);return e}function U4(t){return s0(t)?Xne(t):y6e(t)}function v6e(t,e){return t&&Une(t,e,U4)}function b6e(t,e){return function(n,r){if(n==null)return n;if(!s0(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var ere=b6e(v6e);function w6e(t){return typeof t=="function"?t:UR}function _6e(t,e){var n=Ps(t)?h6e:ere;return n(t,w6e(e))}function $T(t){"@babel/helpers - typeof";return $T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$T(t)}var x6e=/^\s+/,E6e=/\s+$/;function St(t,e){if(t=t||"",e=e||{},t instanceof St)return t;if(!(this instanceof St))return new St(t,e);var n=S6e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}St.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=tre(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=h7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=f7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return p7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return R6e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(cr(this._r,255)*100)+"%",g:Math.round(cr(this._g,255)*100)+"%",b:Math.round(cr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(cr(this._r,255)*100)+"%, "+Math.round(cr(this._g,255)*100)+"%, "+Math.round(cr(this._b,255)*100)+"%)":"rgba("+Math.round(cr(this._r,255)*100)+"%, "+Math.round(cr(this._g,255)*100)+"%, "+Math.round(cr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z6e[p7(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+g7(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=St(e);r="#"+g7(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return St(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(M6e,arguments)},brighten:function(){return this._applyModification(N6e,arguments)},darken:function(){return this._applyModification(D6e,arguments)},desaturate:function(){return this._applyModification(k6e,arguments)},saturate:function(){return this._applyModification(I6e,arguments)},greyscale:function(){return this._applyModification(P6e,arguments)},spin:function(){return this._applyModification(L6e,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination($6e,arguments)},complement:function(){return this._applyCombination(O6e,arguments)},monochromatic:function(){return this._applyCombination(B6e,arguments)},splitcomplement:function(){return this._applyCombination(F6e,arguments)},triad:function(){return this._applyCombination(m7,[3])},tetrad:function(){return this._applyCombination(m7,[4])}};St.fromRatio=function(t,e){if($T(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=zb(t[r]));t=n}return St(t,e)};function S6e(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=q6e(t)),$T(t)=="object"&&(Wu(t.r)&&Wu(t.g)&&Wu(t.b)?(e=C6e(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Wu(t.h)&&Wu(t.s)&&Wu(t.v)?(r=zb(t.s),i=zb(t.v),e=A6e(t.h,r,i),s=!0,a="hsv"):Wu(t.h)&&Wu(t.s)&&Wu(t.l)&&(r=zb(t.s),o=zb(t.l),e=T6e(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=tre(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function C6e(t,e,n){return{r:cr(t,255)*255,g:cr(e,255)*255,b:cr(n,255)*255}}function f7(t,e,n){t=cr(t,255),e=cr(e,255),n=cr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function T6e(t,e,n){var r,i,o;t=cr(t,360),e=cr(e,100),n=cr(n,100);function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function h7(t,e,n){t=cr(t,255),e=cr(e,255),n=cr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function A6e(t,e,n){t=cr(t,360)*6,e=cr(e,100),n=cr(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:d*255}}function p7(t,e,n,r){var i=[Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function R6e(t,e,n,r,i){var o=[Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(n).toString(16)),Xa(nre(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function g7(t,e,n,r){var i=[Xa(nre(r)),Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(n).toString(16))];return i.join("")}St.equals=function(t,e){return!t||!e?!1:St(t).toRgbString()==St(e).toRgbString()};St.random=function(){return St.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function k6e(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.s-=e/100,n.s=jR(n.s),St(n)}function I6e(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.s+=e/100,n.s=jR(n.s),St(n)}function P6e(t){return St(t).desaturate(100)}function M6e(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.l+=e/100,n.l=jR(n.l),St(n)}function N6e(t,e){e=e===0?0:e||10;var n=St(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),St(n)}function D6e(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.l-=e/100,n.l=jR(n.l),St(n)}function L6e(t,e){var n=St(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,St(n)}function O6e(t){var e=St(t).toHsl();return e.h=(e.h+180)%360,St(e)}function m7(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=St(t).toHsl(),r=[St(t)],i=360/e,o=1;o<e;o++)r.push(St({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function F6e(t){var e=St(t).toHsl(),n=e.h;return[St(t),St({h:(n+72)%360,s:e.s,l:e.l}),St({h:(n+216)%360,s:e.s,l:e.l})]}function $6e(t,e,n){e=e||6,n=n||30;var r=St(t).toHsl(),i=360/n,o=[St(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(St(r));return o}function B6e(t,e){e=e||6;for(var n=St(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(St({h:r,s:i,v:o})),o=(o+a)%1;return s}St.mix=function(t,e,n){n=n===0?0:n||50;var r=St(t).toRgb(),i=St(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return St(s)};St.readability=function(t,e){var n=St(t),r=St(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};St.isReadable=function(t,e,n){var r=St.readability(t,e),i,o;switch(o=!1,i=j6e(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};St.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)o=St.readability(t,e[u]),o>i&&(i=o,r=St(e[u]));return St.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,St.mostReadable(t,["#fff","#000"],n))};var NO=St.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z6e=St.hexNames=V6e(NO);function V6e(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function tre(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function cr(t,e){U6e(t)&&(t="100%");var n=H6e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function jR(t){return Math.min(1,Math.max(0,t))}function us(t){return parseInt(t,16)}function U6e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function H6e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Xa(t){return t.length==1?"0"+t:""+t}function zb(t){return t<=1&&(t=t*100+"%"),t}function nre(t){return Math.round(parseFloat(t)*255).toString(16)}function y7(t){return us(t)/255}var Ra=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Wu(t){return!!Ra.CSS_UNIT.exec(t)}function q6e(t){t=t.replace(x6e,"").replace(E6e,"").toLowerCase();var e=!1;if(NO[t])t=NO[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ra.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Ra.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ra.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Ra.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ra.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Ra.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ra.hex8.exec(t))?{r:us(n[1]),g:us(n[2]),b:us(n[3]),a:y7(n[4]),format:e?"name":"hex8"}:(n=Ra.hex6.exec(t))?{r:us(n[1]),g:us(n[2]),b:us(n[3]),format:e?"name":"hex"}:(n=Ra.hex4.exec(t))?{r:us(n[1]+""+n[1]),g:us(n[2]+""+n[2]),b:us(n[3]+""+n[3]),a:y7(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Ra.hex3.exec(t))?{r:us(n[1]+""+n[1]),g:us(n[2]+""+n[2]),b:us(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function j6e(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var v7=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return _6e(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},Vb=function(e,n){var r=e.hex?St(e.hex):St(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Bf=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&St(e).isValid()},H4=function(e){if(!e)return"#fff";var n=Vb(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},RN=function(e,n){var r=e.replace("","");return St(n+" ("+r+")")._ok},lb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W6e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function G6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K6e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jo=function(e){var n=function(r){Y6e(i,r);function i(o){G6e(this,i);var s=K6e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var u=v7(a);if(u){var c=Vb(a,a.h||s.state.oldHue);s.setState(c),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,c,l),s.props.onChange&&s.props.onChange(c,l)}},s.handleSwatchHover=function(a,l){var u=v7(a);if(u){var c=Vb(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(c,l)}},s.state=lb({},Vb(o.color,0)),s.debounce=Zne(function(a,l,u){a(l,u)},100),s}return W6e(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),ue.createElement(e,lb({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return lb({},Vb(s.color,a.oldHue))}}]),i}(z.PureComponent||z.Component);return n.propTypes=lb({},e.propTypes),n.defaultProps=lb({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},X6e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J6e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Z6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eUe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Z6e(i,r);function i(){var o,s,a,l;Q6e(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(s=(a=b7(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),b7(a,l)}return J6e(i,[{key:"render",value:function(){return ue.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},ue.createElement(e,X6e({},this.props,this.state)))}}]),i}(ue.Component)},w7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tUe=13,nUe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,d=e.focusStyle,f=d===void 0?{}:d,p=n==="transparent",m=Ht({default:{swatch:w7({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?f:{})}}),y=function(C){return o(n,C)},b=function(C){return C.keyCode===tUe&&o(n,C)},v=function(C){return s(n,C)},E={};return s&&(E.onMouseOver=v),ue.createElement("div",w7({style:m.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:b},E),u,p&&ue.createElement(i0,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const cg=eUe(nUe);var rUe=function(e){var n=e.direction,r=Ht({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return ue.createElement("div",{style:r.picker})},iUe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rre=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,f=d===void 0?"":d,p=Ht({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return ue.createElement("div",{style:p.picker,className:"alpha-picker "+f},ue.createElement(L4,iUe({},p.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:s,direction:a})))};rre.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:rUe};Jo(rre);function ire(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var oUe="__lodash_hash_undefined__";function sUe(t){return this.__data__.set(t,oUe),this}function aUe(t){return this.__data__.has(t)}function BT(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new nd;++e<n;)this.add(t[e])}BT.prototype.add=BT.prototype.push=sUe;BT.prototype.has=aUe;function lUe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function uUe(t,e){return t.has(e)}var cUe=1,dUe=2;function ore(t,e,n,r,i,o){var s=n&cUe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=n&dUe?new BT:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var b=s?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!lUe(e,function(v,E){if(!uUe(p,E)&&(m===v||i(m,v,n,r,o)))return p.push(E)})){f=!1;break}}else if(!(m===y||i(m,y,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function fUe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function hUe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var pUe=1,gUe=2,mUe="[object Boolean]",yUe="[object Date]",vUe="[object Error]",bUe="[object Map]",wUe="[object Number]",_Ue="[object RegExp]",xUe="[object Set]",EUe="[object String]",SUe="[object Symbol]",CUe="[object ArrayBuffer]",TUe="[object DataView]",_7=If?If.prototype:void 0,kN=_7?_7.valueOf:void 0;function AUe(t,e,n,r,i,o,s){switch(n){case TUe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case CUe:return!(t.byteLength!=e.byteLength||!o(new LT(t),new LT(e)));case mUe:case yUe:case wUe:return h1(+t,+e);case vUe:return t.name==e.name&&t.message==e.message;case _Ue:case EUe:return t==e+"";case bUe:var a=fUe;case xUe:var l=r&pUe;if(a||(a=hUe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=gUe,s.set(t,e);var c=ore(a(t),a(e),r,i,o,s);return s.delete(t),c;case SUe:if(kN)return kN.call(t)==kN.call(e)}return!1}function RUe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function kUe(t,e,n){var r=e(t);return Ps(t)?r:RUe(r,n(t))}function IUe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function PUe(){return[]}var MUe=Object.prototype,NUe=MUe.propertyIsEnumerable,x7=Object.getOwnPropertySymbols,DUe=x7?function(t){return t==null?[]:(t=Object(t),IUe(x7(t),function(e){return NUe.call(t,e)}))}:PUe;function E7(t){return kUe(t,U4,DUe)}var LUe=1,OUe=Object.prototype,FUe=OUe.hasOwnProperty;function $Ue(t,e,n,r,i,o){var s=n&LUe,a=E7(t),l=a.length,u=E7(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:FUe.call(e,f)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=s;++d<l;){f=a[d];var v=t[f],E=e[f];if(r)var x=s?r(E,v,f,e,t,o):r(v,E,f,t,e,o);if(!(x===void 0?v===E||i(v,E,n,r,o):x)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var C=t.constructor,k=e.constructor;C!=k&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof k=="function"&&k instanceof k)&&(y=!1)}return o.delete(t),o.delete(e),y}var DO=ug(sl,"DataView"),LO=ug(sl,"Promise"),OO=ug(sl,"Set"),FO=ug(sl,"WeakMap"),S7="[object Map]",BUe="[object Object]",C7="[object Promise]",T7="[object Set]",A7="[object WeakMap]",R7="[object DataView]",zUe=lg(DO),VUe=lg(n_),UUe=lg(LO),HUe=lg(OO),qUe=lg(FO),zd=ag;(DO&&zd(new DO(new ArrayBuffer(1)))!=R7||n_&&zd(new n_)!=S7||LO&&zd(LO.resolve())!=C7||OO&&zd(new OO)!=T7||FO&&zd(new FO)!=A7)&&(zd=function(t){var e=ag(t),n=e==BUe?t.constructor:void 0,r=n?lg(n):"";if(r)switch(r){case zUe:return R7;case VUe:return S7;case UUe:return C7;case HUe:return T7;case qUe:return A7}return e});var jUe=1,k7="[object Arguments]",I7="[object Array]",gS="[object Object]",WUe=Object.prototype,P7=WUe.hasOwnProperty;function GUe(t,e,n,r,i,o){var s=Ps(t),a=Ps(e),l=s?I7:zd(t),u=a?I7:zd(e);l=l==k7?gS:l,u=u==k7?gS:u;var c=l==gS,d=u==gS,f=l==u;if(f&&FT(t)){if(!FT(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new cu),s||z4(t)?ore(t,e,n,r,i,o):AUe(t,e,l,n,r,i,o);if(!(n&jUe)){var p=c&&P7.call(t,"__wrapped__"),m=d&&P7.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,b=m?e.value():e;return o||(o=new cu),i(y,b,n,r,o)}}return f?(o||(o=new cu),$Ue(t,e,n,r,i,o)):!1}function q4(t,e,n,r,i){return t===e?!0:t==null||e==null||!Pf(t)&&!Pf(e)?t!==t&&e!==e:GUe(t,e,n,r,q4,i)}var KUe=1,YUe=2;function XUe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],u=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var c=new cu,d;if(!(d===void 0?q4(u,l,KUe|YUe,r,c):d))return!1}}return!0}function sre(t){return t===t&&!sa(t)}function JUe(t){for(var e=U4(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sre(i)]}return e}function are(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function QUe(t){var e=JUe(t);return e.length==1&&e[0][2]?are(e[0][0],e[0][1]):function(n){return n===t||XUe(n,t,e)}}var ZUe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e9e=/^\w*$/;function j4(t,e){if(Ps(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||HR(t)?!0:e9e.test(t)||!ZUe.test(t)||e!=null&&t in Object(e)}var t9e="Expected a function";function W4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(t9e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(W4.Cache||nd),n}W4.Cache=nd;var n9e=500;function r9e(t){var e=W4(t,function(r){return n.size===n9e&&n.clear(),r}),n=e.cache;return e}var i9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o9e=/\\(\\)?/g,s9e=r9e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(i9e,function(n,r,i,o){e.push(i?o.replace(o9e,"$1"):r||n)}),e}),M7=If?If.prototype:void 0,N7=M7?M7.toString:void 0;function lre(t){if(typeof t=="string")return t;if(Ps(t))return ire(t,lre)+"";if(HR(t))return N7?N7.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function a9e(t){return t==null?"":lre(t)}function ure(t,e){return Ps(t)?t:j4(t,e)?[t]:s9e(a9e(t))}function WR(t){if(typeof t=="string"||HR(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function cre(t,e){e=ure(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[WR(e[n++])];return n&&n==r?t:void 0}function l9e(t,e,n){var r=t==null?void 0:cre(t,e);return r===void 0?n:r}function u9e(t,e){return t!=null&&e in Object(t)}function c9e(t,e,n){e=ure(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=WR(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&B4(i)&&V4(s,i)&&(Ps(t)||OT(t)))}function d9e(t,e){return t!=null&&c9e(t,e,u9e)}var f9e=1,h9e=2;function p9e(t,e){return j4(t)&&sre(e)?are(WR(t),e):function(n){var r=l9e(n,t);return r===void 0&&r===e?d9e(n,t):q4(e,r,f9e|h9e)}}function g9e(t){return function(e){return e==null?void 0:e[t]}}function m9e(t){return function(e){return cre(e,t)}}function y9e(t){return j4(t)?g9e(WR(t)):m9e(t)}function v9e(t){return typeof t=="function"?t:t==null?UR:typeof t=="object"?Ps(t)?p9e(t[0],t[1]):QUe(t):y9e(t)}function b9e(t,e){var n=-1,r=s0(t)?Array(t.length):[];return ere(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function dg(t,e){var n=Ps(t)?ire:b9e;return n(t,v9e(e))}var w9e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Ht({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return ue.createElement("div",{style:o.swatches},dg(n,function(s){return ue.createElement(cg,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),ue.createElement("div",{style:o.clear}))},G4=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=i==="transparent",p=function(b,v){Bf(b)&&n({hex:b,source:"hex"},v)},m=Ht(Xo({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:H4(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return ue.createElement("div",{style:m.card,className:"block-picker "+d},ue.createElement("div",{style:m.triangle}),ue.createElement("div",{style:m.head},f&&ue.createElement(i0,{borderRadius:"6px 6px 0 0"}),ue.createElement("div",{style:m.label},i)),ue.createElement("div",{style:m.body},ue.createElement(w9e,{colors:o,onClick:p,onSwatchHover:r}),ue.createElement(pn,{style:{input:m.input},value:i,onChange:p})))};G4.propTypes={width:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.string),triangle:Se.oneOf(["top","hide"]),styles:Se.object};G4.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Jo(G4);var Rm={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},km={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Im={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Pm={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Mm={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Nm={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Dm={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Lm={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Om={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},Ub={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Fm={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},$m={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Bm={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},zm={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Vm={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},Um={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},Hm={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},qm={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},dre=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,u=Ht({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return ue.createElement("div",{style:u.swatch},ue.createElement(cg,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};dre.defaultProps={circleSize:28,circleSpacing:14};const _9e=D4.handleHover(dre);var K4=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,f=d===void 0?"":d,p=Ht(Xo({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),m=function(b,v){return r({hex:b,source:"hex"},v)};return ue.createElement("div",{style:p.card,className:"circle-picker "+f},dg(o,function(y){return ue.createElement(_9e,{key:y,color:y,onClick:m,onSwatchHover:i,active:s===y.toLowerCase(),circleSize:a,circleSpacing:c})}))};K4.propTypes={width:Se.oneOfType([Se.string,Se.number]),circleSize:Se.number,circleSpacing:Se.number,styles:Se.object};K4.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Rm[500],km[500],Im[500],Pm[500],Mm[500],Nm[500],Dm[500],Lm[500],Om[500],Ub[500],Fm[500],$m[500],Bm[500],zm[500],Vm[500],Um[500],Hm[500],qm[500]],styles:{}};Jo(K4);function D7(t){return t===void 0}var mS={},L7;function x9e(){if(L7)return mS;L7=1,Object.defineProperty(mS,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=nl(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return mS.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,f=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:f},m)},y),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},mS}var E9e=x9e();const S9e=Ni(E9e);var C9e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function T9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A9e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fre=function(t){R9e(e,t);function e(n){T9e(this,e);var r=A9e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Bf(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(D7(i.s)?r.props.hsl.s:i.s),l:Number(D7(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return C9e(e,[{key:"render",value:function(){var r=this,i=Ht({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=ue.createElement("div",{style:i.fields,className:"flexbox-fix"},ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=ue.createElement("div",{style:i.fields,className:"flexbox-fix"},ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),ue.createElement("div",{style:i.alpha},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=ue.createElement("div",{style:i.fields,className:"flexbox-fix"},ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),ue.createElement("div",{style:i.field},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),ue.createElement("div",{style:i.alpha},ue.createElement(pn,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),ue.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,ue.createElement("div",{style:i.toggle},ue.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},ue.createElement(S9e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(ue.Component);fre.defaultProps={view:"hex"};var O7=function(){var e=Ht({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return ue.createElement("div",{style:e.picker})},k9e=function(){var e=Ht({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return ue.createElement("div",{style:e.picker})},Y4=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,f=e.className,p=f===void 0?"":f,m=e.defaultView,y=Ht(Xo({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return ue.createElement("div",{style:y.picker,className:"chrome-picker "+p},ue.createElement("div",{style:y.saturation},ue.createElement(qR,{style:y.Saturation,hsl:s,hsv:a,pointer:k9e,onChange:r})),ue.createElement("div",{style:y.body},ue.createElement("div",{style:y.controls,className:"flexbox-fix"},ue.createElement("div",{style:y.color},ue.createElement("div",{style:y.swatch},ue.createElement("div",{style:y.active}),ue.createElement(i0,{renderers:u}))),ue.createElement("div",{style:y.toggles},ue.createElement("div",{style:y.hue},ue.createElement(o0,{style:y.Hue,hsl:s,pointer:O7,onChange:r})),ue.createElement("div",{style:y.alpha},ue.createElement(L4,{style:y.Alpha,rgb:o,hsl:s,pointer:O7,renderers:u,onChange:r})))),ue.createElement(fre,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};Y4.propTypes={width:Se.oneOfType([Se.string,Se.number]),disableAlpha:Se.bool,styles:Se.object,defaultView:Se.oneOf(["hex","rgb","hsl"])};Y4.defaultProps={width:225,disableAlpha:!1,styles:{}};const I9e=Jo(Y4);var P9e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Ht({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:H4(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return ue.createElement(cg,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},ue.createElement("div",{style:a.dot}))},M9e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Ht({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return ue.createElement("div",{style:o.fields,className:"flexbox-fix"},ue.createElement("div",{style:o.active}),ue.createElement(pn,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),ue.createElement(pn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),ue.createElement(pn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),ue.createElement(pn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},X4=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=Ht(Xo({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),f=function(m,y){m.hex?Bf(m.hex)&&n({hex:m.hex,source:"hex"},y):n(m,y)};return ue.createElement(p1,{style:d.Compact,styles:l},ue.createElement("div",{style:d.compact,className:"compact-picker "+c},ue.createElement("div",null,dg(i,function(p){return ue.createElement(P9e,{key:p,color:p,active:p.toLowerCase()===o,onClick:f,onSwatchHover:r})}),ue.createElement("div",{style:d.clear})),ue.createElement(M9e,{hex:o,rgb:s,onChange:f})))};X4.propTypes={colors:Se.arrayOf(Se.string),styles:Se.object};X4.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Jo(X4);var N9e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Ht({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return ue.createElement("div",{style:a.swatch},ue.createElement(cg,{color:r,onClick:i,onHover:o,focusStyle:s}))};const D9e=D4.handleHover(N9e);var J4=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=Ht(Xo({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),f=function(m,y){return i({hex:m,source:"hex"},y)};return ue.createElement("div",{style:d.card,className:"github-picker "+c},ue.createElement("div",{style:d.triangleShadow}),ue.createElement("div",{style:d.triangle}),dg(r,function(p){return ue.createElement(D9e,{color:p,key:p,onClick:f,onSwatchHover:o})}))};J4.propTypes={width:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.string),triangle:Se.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Se.object};J4.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Jo(J4);var L9e=function(e){var n=e.direction,r=Ht({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return ue.createElement("div",{style:r.picker})},O9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q4=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=Ht(Xo({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),p=function(y){return i({a:1,h:y.h,l:.5,s:1})};return ue.createElement("div",{style:f.picker,className:"hue-picker "+d},ue.createElement(o0,O9e({},f.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};Q4.propTypes={styles:Se.object};Q4.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:L9e,styles:{}};Jo(Q4);var F9e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=Ht(Xo({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),c=function(f,p){f.hex?Bf(f.hex)&&n({hex:f.hex,source:"hex"},p):(f.r||f.g||f.b)&&n({r:f.r||i.r,g:f.g||i.g,b:f.b||i.b,source:"rgb"},p)};return ue.createElement(p1,{styles:s},ue.createElement("div",{style:u.material,className:"material-picker "+l},ue.createElement(pn,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),ue.createElement("div",{style:u.split,className:"flexbox-fix"},ue.createElement("div",{style:u.third},ue.createElement(pn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),ue.createElement("div",{style:u.third},ue.createElement(pn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),ue.createElement("div",{style:u.third},ue.createElement(pn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};Jo(F9e);var $9e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Ht({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Bf(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return ue.createElement("div",{style:s.fields},ue.createElement(pn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),ue.createElement(pn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),ue.createElement(pn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),ue.createElement("div",{style:s.divider}),ue.createElement(pn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),ue.createElement(pn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),ue.createElement(pn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),ue.createElement("div",{style:s.divider}),ue.createElement(pn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),ue.createElement("div",{style:s.fieldSymbols},ue.createElement("div",{style:s.symbol},""),ue.createElement("div",{style:s.symbol},"%"),ue.createElement("div",{style:s.symbol},"%")))},B9e=function(e){var n=e.hsl,r=Ht({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return ue.createElement("div",{style:r.picker})},z9e=function(){var e=Ht({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return ue.createElement("div",{style:e.pointer},ue.createElement("div",{style:e.left},ue.createElement("div",{style:e.leftInside})),ue.createElement("div",{style:e.right},ue.createElement("div",{style:e.rightInside})))},F7=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Ht({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return ue.createElement("div",{style:s.button,onClick:n},r||i)},V9e=function(e){var n=e.rgb,r=e.currentColor,i=Ht({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return ue.createElement("div",null,ue.createElement("div",{style:i.label},"new"),ue.createElement("div",{style:i.swatches},ue.createElement("div",{style:i.new}),ue.createElement("div",{style:i.current})),ue.createElement("div",{style:i.label},"current"))},U9e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function H9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function j9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Z4=function(t){j9e(e,t);function e(n){H9e(this,e);var r=q9e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return U9e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Ht(Xo({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return ue.createElement("div",{style:l.picker,className:"photoshop-picker "+a},ue.createElement("div",{style:l.head},this.props.header),ue.createElement("div",{style:l.body,className:"flexbox-fix"},ue.createElement("div",{style:l.saturation},ue.createElement(qR,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:B9e,onChange:this.props.onChange})),ue.createElement("div",{style:l.hue},ue.createElement(o0,{direction:"vertical",hsl:this.props.hsl,pointer:z9e,onChange:this.props.onChange})),ue.createElement("div",{style:l.controls},ue.createElement("div",{style:l.top,className:"flexbox-fix"},ue.createElement("div",{style:l.previews},ue.createElement(V9e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),ue.createElement("div",{style:l.actions},ue.createElement(F7,{label:"OK",onClick:this.props.onAccept,active:!0}),ue.createElement(F7,{label:"Cancel",onClick:this.props.onCancel}),ue.createElement($9e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(ue.Component);Z4.propTypes={header:Se.string,styles:Se.object};Z4.defaultProps={header:"Color Picker",styles:{}};Jo(Z4);var W9e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Ht({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(c,d){c.hex?Bf(c.hex)&&n({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return ue.createElement("div",{style:a.fields,className:"flexbox-fix"},ue.createElement("div",{style:a.double},ue.createElement(pn,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),ue.createElement("div",{style:a.single},ue.createElement(pn,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),ue.createElement("div",{style:a.single},ue.createElement(pn,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),ue.createElement("div",{style:a.single},ue.createElement(pn,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),ue.createElement("div",{style:a.alpha},ue.createElement(pn,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},G9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hre=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Ht({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return ue.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return ue.createElement("div",{key:c,style:s.swatchWrap},ue.createElement(cg,G9e({},u,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};hre.propTypes={colors:Se.arrayOf(Se.oneOfType([Se.string,Se.shape({color:Se.string,title:Se.string})])).isRequired};var K9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e$=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,f=e.styles,p=f===void 0?{}:f,m=e.className,y=m===void 0?"":m,b=Ht(Xo({default:K9e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return ue.createElement("div",{style:b.picker,className:"sketch-picker "+y},ue.createElement("div",{style:b.saturation},ue.createElement(qR,{style:b.Saturation,hsl:s,hsv:o,onChange:a})),ue.createElement("div",{style:b.controls,className:"flexbox-fix"},ue.createElement("div",{style:b.sliders},ue.createElement("div",{style:b.hue},ue.createElement(o0,{style:b.Hue,hsl:s,onChange:a})),ue.createElement("div",{style:b.alpha},ue.createElement(L4,{style:b.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),ue.createElement("div",{style:b.color},ue.createElement(i0,null),ue.createElement("div",{style:b.activeColor}))),ue.createElement(W9e,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:u}),ue.createElement(hre,{colors:c,onClick:a,onSwatchHover:l}))};e$.propTypes={disableAlpha:Se.bool,width:Se.oneOfType([Se.string,Se.number]),styles:Se.object};e$.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Jo(e$);var ub=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,u=Ht({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),c=function(f){return o({h:n.h,s:.5,l:r,source:"hsl"},f)};return ue.createElement("div",{style:u.swatch,onClick:c})},Y9e=function(e){var n=e.onClick,r=e.hsl,i=Ht({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return ue.createElement("div",{style:i.swatches},ue.createElement("div",{style:i.swatch},ue.createElement(ub,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),ue.createElement("div",{style:i.swatch},ue.createElement(ub,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),ue.createElement("div",{style:i.swatch},ue.createElement(ub,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),ue.createElement("div",{style:i.swatch},ue.createElement(ub,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),ue.createElement("div",{style:i.swatch},ue.createElement(ub,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),ue.createElement("div",{style:i.clear}))},X9e=function(){var e=Ht({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return ue.createElement("div",{style:e.picker})},t$=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=Ht(Xo({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return ue.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},ue.createElement("div",{style:u.hue},ue.createElement(o0,{style:u.Hue,hsl:n,pointer:i,onChange:r})),ue.createElement("div",{style:u.swatches},ue.createElement(Y9e,{hsl:n,onClick:r})))};t$.propTypes={styles:Se.object};t$.defaultProps={pointer:X9e,styles:{}};Jo(t$);var yS={},$7;function J9e(){if($7)return yS;$7=1,Object.defineProperty(yS,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=nl(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return yS.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,f=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:f},m)},y),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},yS}var Q9e=J9e();const Z9e=Ni(Q9e);var eHe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,u=Ht({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:H4(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return ue.createElement(cg,{color:n,style:u.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},ue.createElement("div",{style:u.check},ue.createElement(Z9e,null)))},tHe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Ht({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return ue.createElement("div",{style:s.group},dg(i,function(a,l){return ue.createElement(eHe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},n$=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=Ht(Xo({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(y,b){return i({hex:y,source:"hex"},b)};return ue.createElement("div",{style:f.picker,className:"swatches-picker "+d},ue.createElement(p1,null,ue.createElement("div",{style:f.overflow},ue.createElement("div",{style:f.body},dg(s,function(m){return ue.createElement(tHe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),ue.createElement("div",{style:f.clear})))))};n$.propTypes={width:Se.oneOfType([Se.string,Se.number]),height:Se.oneOfType([Se.string,Se.number]),colors:Se.arrayOf(Se.arrayOf(Se.string)),styles:Se.object};n$.defaultProps={width:320,height:240,colors:[[Rm[900],Rm[700],Rm[500],Rm[300],Rm[100]],[km[900],km[700],km[500],km[300],km[100]],[Im[900],Im[700],Im[500],Im[300],Im[100]],[Pm[900],Pm[700],Pm[500],Pm[300],Pm[100]],[Mm[900],Mm[700],Mm[500],Mm[300],Mm[100]],[Nm[900],Nm[700],Nm[500],Nm[300],Nm[100]],[Dm[900],Dm[700],Dm[500],Dm[300],Dm[100]],[Lm[900],Lm[700],Lm[500],Lm[300],Lm[100]],[Om[900],Om[700],Om[500],Om[300],Om[100]],["#194D33",Ub[700],Ub[500],Ub[300],Ub[100]],[Fm[900],Fm[700],Fm[500],Fm[300],Fm[100]],[$m[900],$m[700],$m[500],$m[300],$m[100]],[Bm[900],Bm[700],Bm[500],Bm[300],Bm[100]],[zm[900],zm[700],zm[500],zm[300],zm[100]],[Vm[900],Vm[700],Vm[500],Vm[300],Vm[100]],[Um[900],Um[700],Um[500],Um[300],Um[100]],[Hm[900],Hm[700],Hm[500],Hm[300],Hm[100]],[qm[900],qm[700],qm[500],qm[300],qm[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Jo(n$);var r$=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,f=Ht(Xo({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(y,b){Bf(y)&&n({hex:y,source:"hex"},b)};return ue.createElement("div",{style:f.card,className:"twitter-picker "+d},ue.createElement("div",{style:f.triangleShadow}),ue.createElement("div",{style:f.triangle}),ue.createElement("div",{style:f.body},dg(o,function(m,y){return ue.createElement(cg,{key:y,color:m,hex:m,style:f.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),ue.createElement("div",{style:f.hash},"#"),ue.createElement(pn,{label:null,style:{input:f.input},value:i.replace("#",""),onChange:p}),ue.createElement("div",{style:f.clear})))};r$.propTypes={width:Se.oneOfType([Se.string,Se.number]),triangle:Se.oneOf(["hide","top-left","top-right"]),colors:Se.arrayOf(Se.string),styles:Se.object};r$.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Jo(r$);var i$=function(e){var n=Ht({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return ue.createElement("div",{style:n.picker})};i$.propTypes={hsl:Se.shape({h:Se.number,s:Se.number,l:Se.number,a:Se.number})};i$.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var o$=function(e){var n=Ht({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return ue.createElement("div",{style:n.picker})};o$.propTypes={hsl:Se.shape({h:Se.number,s:Se.number,l:Se.number,a:Se.number})};o$.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var nHe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)Bf(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var y=p.rgb.split(",");RN(p.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},m)}else if(p.hsv){var b=p.hsv.split(",");RN(p.hsv,"hsv")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),b[1]==1?b[1]=.01:b[2]==1&&(b[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsv"},m))}else if(p.hsl){var v=p.hsl.split(",");RN(p.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},m))}},l=Ht({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(s.h)+", "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return ue.createElement("div",{style:l.wrap,className:"flexbox-fix"},ue.createElement("div",{style:l.fields},ue.createElement("div",{style:l.double},ue.createElement(pn,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),ue.createElement("div",{style:l.column},ue.createElement("div",{style:l.single},ue.createElement(pn,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),ue.createElement("div",{style:l.single},ue.createElement(pn,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),ue.createElement("div",{style:l.single},ue.createElement(pn,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},s$=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,f=d===void 0?"":d,p=Ht(Xo({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return ue.createElement("div",{style:p.picker,className:"google-picker "+f},ue.createElement("div",{style:p.head},l),ue.createElement("div",{style:p.swatch}),ue.createElement("div",{style:p.saturation},ue.createElement(qR,{hsl:o,hsv:s,pointer:i$,onChange:r})),ue.createElement("div",{style:p.body},ue.createElement("div",{style:p.controls,className:"flexbox-fix"},ue.createElement("div",{style:p.hue},ue.createElement(o0,{style:p.Hue,hsl:o,radius:"4px",pointer:o$,onChange:r}))),ue.createElement(nHe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};s$.propTypes={width:Se.oneOfType([Se.string,Se.number]),styles:Se.object,header:Se.string};s$.defaultProps={width:652,styles:{},header:"Color picker"};Jo(s$);const rHe=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];function iHe({onAnalyticsClick:t,onTimelineClick:e}){var $,L,q;const{readRecords:n,currentReadId:r,setCurrentReadId:i,displayedReads:o,hideRead:s,showRead:a,createRead:l,generateReadingGoals:u}=la(),c=h4(),d=z.useContext(Gx);if(!d)throw new Error("TourContext not found");const{setRunTour:f}=d,[p,m]=z.useState(""),[y,b]=z.useState(null),[v,E]=z.useState(!1),[x,C]=z.useState(!1),[k,D]=z.useState([]),[A,P]=z.useState(!1),M=async()=>{E(!0),C(!0);const K=await u();D(K),C(!1)},I=()=>{if(!p){alert("Please enter a title");return}if(!y){alert("Please select a color");return}l(p,y),O()},O=()=>{m(""),b(null),E(!1),P(!1)},F=()=>{f(!0)};return V.jsxs("div",{className:"NavBar",children:[V.jsxs("div",{className:"logo-text",children:[V.jsx("img",{src:Xte,height:40,alt:"re:ad",style:{cursor:"pointer"},onClick:()=>{c("/papers")}}),V.jsx(tc,{sx:{ml:3},className:"mui-button",size:"small",onClick:F,children:V.jsx(P5e,{})})]}),V.jsxs(kt,{className:"highlights",sx:{mx:2},children:[Object.values(n).length>0&&Object.values(n).map(K=>V.jsx(kt,{className:"read",sx:{borderBottom:r===K.id?`2px solid ${K.color}`:"none"},children:V.jsx(SO,{control:V.jsx(xO,{onChange:()=>{o.includes(K.id)?s(K.id):a(K.id)},sx:{color:K.color,"&.Mui-checked":{color:K.color}},checked:o.includes(K.id),disabled:r===K.id}),label:K.title})},K.id)),Object.values(n).length>0?V.jsx(tc,{onClick:M,children:V.jsx(lC,{})}):V.jsx(Zn,{className:"mui-button add-new-read-btn",size:"small",variant:"text",startIcon:V.jsx(lC,{}),onClick:M,children:V.jsx("span",{style:{lineHeight:0},children:"new read"})})]}),V.jsxs(kt,{className:"active-read",sx:{mx:3,display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[V.jsx("h4",{children:"active read:"}),Object.values(n).length>0?V.jsx("div",{children:V.jsx(Bte,{size:"small",fullWidth:!0,children:V.jsx(d4,{value:r,onChange:K=>i(K.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:($=n[r])==null?void 0:$.color},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:(L=n[r])==null?void 0:L.color},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:(q=n[r])==null?void 0:q.color}},children:Object.values(n).map(K=>V.jsx(TO,{value:K.id,children:K.title},K.id))})})}):V.jsx("div",{children:V.jsx("p",{children:"none"})})]}),V.jsxs(kt,{sx:{mx:2,display:"flex",gap:1},children:[V.jsx(sC,{title:"Reading Analytics",children:V.jsx(tc,{onClick:t,children:V.jsx(g5e,{})})}),V.jsx(sC,{title:"Highlight Timeline",children:V.jsx(tc,{onClick:e,children:V.jsx(I5e,{})})})]}),V.jsxs(nC,{open:v,children:[V.jsx(oC,{children:"Create New Read"}),V.jsxs(iC,{sx:{minWidth:"20vw",p:3,boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[V.jsx(Ia,{fullWidth:!0,multiline:!0,label:"Title",value:p,onChange:K=>m(K.target.value),sx:{my:1}}),x?V.jsxs(kt,{sx:{my:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[V.jsx("p",{style:{animation:"pulse 1.5s ease-in-out infinite",fontSize:"16px",color:"#666"},children:"Generating reading goals..."}),V.jsx("style",{children:`
                  @keyframes pulse {
                    0% { opacity: 0.4; }
                    50% { opacity: 1; }
                    100% { opacity: 0.4; }
                  }
                `})]}):V.jsxs(kt,{sx:{my:2,display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[V.jsx(cn,{variant:"body1",sx:{fontWeight:"bold"},children:"Suggested Reading Goals:"}),V.jsx(kt,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:k.map(K=>V.jsx(sC,{title:K.goalDescription,children:V.jsx(cDe,{label:K.goalName,variant:"outlined",onClick:()=>m(K.goalName)})},K.goalName))})]}),V.jsxs(kt,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:[V.jsx(cn,{variant:"body1",sx:{fontWeight:"bold"},children:"Color Palette:"}),V.jsxs(kt,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"flex-start",gap:1},children:[rHe.map(K=>V.jsx(kt,{sx:{width:20,height:20,backgroundColor:K,borderRadius:4,border:K===y?"2px solid black":"none"},onClick:()=>b(K)},K)),A?V.jsx(tc,{onClick:()=>{P(!1),b(null)},children:V.jsx(Gte,{})}):V.jsx(tc,{onClick:()=>P(!0),children:V.jsx(lC,{})})]}),A&&V.jsx(I9e,{disableAlpha:!0,color:y??"#000000",onChange:(K,X)=>{b(K.hex),X.preventDefault()}})]})]}),V.jsxs(rC,{sx:{p:2},children:[V.jsx(Zn,{variant:"text",color:"error",onClick:O,children:"Cancel"}),V.jsx(Zn,{variant:"text",onClick:I,children:"Create"})]})]})]})}const oHe="modulepreload",sHe=function(t){return"/re-ad/"+t},B7={},Hb=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(u=>{if(u=sHe(u),u in B7)return;B7[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":oHe,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var IN,z7;function aHe(){if(z7)return IN;z7=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof ea=="object"&&ea&&ea.Object===Object&&ea,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,p=Math.max,m=Math.min,y=function(){return c.Date.now()};function b(k,D,A){var P,M,I,O,F,$,L=0,q=!1,K=!1,X=!0;if(typeof k!="function")throw new TypeError(t);D=C(D)||0,v(A)&&(q=!!A.leading,K="maxWait"in A,I=K?p(C(A.maxWait)||0,D):I,X="trailing"in A?!!A.trailing:X);function ee(ge){var ce=P,he=M;return P=M=void 0,L=ge,O=k.apply(he,ce),O}function J(ge){return L=ge,F=setTimeout(Z,D),q?ee(ge):O}function G(ge){var ce=ge-$,he=ge-L,be=D-ce;return K?m(be,I-he):be}function Y(ge){var ce=ge-$,he=ge-L;return $===void 0||ce>=D||ce<0||K&&he>=I}function Z(){var ge=y();if(Y(ge))return W(ge);F=setTimeout(Z,G(ge))}function W(ge){return F=void 0,X&&P?ee(ge):(P=M=void 0,O)}function oe(){F!==void 0&&clearTimeout(F),L=0,P=$=M=F=void 0}function re(){return F===void 0?O:W(y())}function me(){var ge=y(),ce=Y(ge);if(P=arguments,M=this,$=ge,ce){if(F===void 0)return J($);if(K)return F=setTimeout(Z,D),ee($)}return F===void 0&&(F=setTimeout(Z,D)),O}return me.cancel=oe,me.flush=re,me}function v(k){var D=typeof k;return!!k&&(D=="object"||D=="function")}function E(k){return!!k&&typeof k=="object"}function x(k){return typeof k=="symbol"||E(k)&&f.call(k)==n}function C(k){if(typeof k=="number")return k;if(x(k))return e;if(v(k)){var D=typeof k.valueOf=="function"?k.valueOf():k;k=v(D)?D+"":D}if(typeof k!="string")return k===0?k:+k;k=k.replace(r,"");var A=o.test(k);return A||s.test(k)?a(k.slice(2),A?2:8):i.test(k)?e:+k}return IN=b,IN}var lHe=aHe();const uHe=Ni(lHe),$O=z.createContext(void 0),pre=()=>{const t=z.useContext($O);if(t===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return t},gre=(t,{width:e,height:n})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:e,height:n,pageNumber:t.pageNumber}),mre=({boundingRect:t,rects:e},n)=>{const r=t.pageNumber,i=n.getPageView(r-1).viewport,o=s=>gre(s,i);return{boundingRect:o(t),rects:(e||[]).map(o)}},cHe=(t,e)=>{const[n,r,i,o]=e.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(n,i),top:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(r-o),pageNumber:t.pageNumber}},yre=(t,e,n=!1)=>{const{width:r,height:i}=e;if(n)return cHe(t,e);if(t.x1===void 0)throw new Error("You are using old position format, please update");const o=r*t.x1/t.width,s=i*t.y1/t.height,a=r*t.x2/t.width,l=i*t.y2/t.height;return{left:o,top:s,width:a-o,height:l-s,pageNumber:t.pageNumber}},dHe=({boundingRect:t,rects:e,usePdfCoordinates:n},r)=>{const i=t.pageNumber,o=r.getPageView(i-1).viewport,s=a=>yre(a,o,n);return{boundingRect:s(t),rects:(e||[]).map(s)}},fHe=t=>{const e=Array.from(t).map(c=>{const{left:d,top:f,width:p,height:m,pageNumber:y}=c,b=d,v=d+p,E=f,x=f+m;return{X0:b,X1:v,Y0:E,Y1:x,pageNumber:y}});let n=Number.MAX_SAFE_INTEGER;e.forEach(c=>{n=Math.min(n,c.pageNumber??n)});const r=e.filter(c=>(c.X0>0||c.X1>0||c.Y0>0||c.Y1>0)&&c.pageNumber===n),i=r.reduce((c,d)=>({X0:Math.min(c.X0,d.X0),X1:Math.max(c.X1,d.X1),Y0:Math.min(c.Y0,d.Y0),Y1:Math.max(c.Y1,d.Y1),pageNumber:n}),r[0]),{X0:o,X1:s,Y0:a,Y1:l,pageNumber:u}=i;return{left:o,top:a,width:s-o,height:l-a,pageNumber:u}},hHe=t=>t.sort((e,n)=>{const r=(e.pageNumber||0)*e.top-(n.pageNumber||0)*n.top;return r===0?e.left-n.left:r}),pHe=(t,e)=>t.pageNumber===e.pageNumber&&t.left<=e.left&&e.left<=t.left+t.width,gHe=(t,e,n=5)=>t.pageNumber===e.pageNumber&&Math.abs(t.top-e.top)<n&&Math.abs(t.height-e.height)<n,mHe=(t,e)=>t.pageNumber===e.pageNumber&&t.top>e.top&&t.left>e.left&&t.top+t.height<e.top+e.height&&t.left+t.width<e.left+e.width,yHe=(t,e,n=10)=>{const r=t.left+t.width,i=e.left+e.width;return t.pageNumber===e.pageNumber&&t.left<=e.left&&r<=i&&e.left-r<=n},V7=(t,e)=>{t.width=Math.max(e.width-t.left+e.left,t.width)},vHe=t=>{const e=hHe(t),n=new Set,r=e.filter(o=>e.every(s=>!mHe(o,s)));let i=0;for(;i<=2;)r.forEach(o=>{r.forEach(s=>{o===s||n.has(o)||n.has(s)||gHe(o,s)&&(pHe(o,s)&&(V7(o,s),o.height=Math.max(o.height,s.height),n.add(s)),yHe(o,s)&&(V7(o,s),n.add(s)))})}),i+=1;return r.filter(o=>!n.has(o))},bHe=(t,e)=>!(t.top<e.top||t.bottom>e.bottom||t.right>e.right||t.left<e.left),wHe=(t,e,n=!0)=>{const r=Array.from(t.getClientRects()),i=[];for(const o of r)for(const s of e){const a=s.node.getBoundingClientRect();if(bHe(o,a)&&o.width>0&&o.height>0&&o.width<a.width&&o.left>a.left&&o.height<a.height){const l={top:o.top+s.node.scrollTop-a.top,left:o.left+s.node.scrollLeft-a.left,width:o.width,height:o.height,pageNumber:s.number};i.push(l)}}return n?vHe(i):i},_He=t=>t.reduce((e,n)=>(n&&[n.position.boundingRect.pageNumber,...n.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const o={...n,position:{...n.position,rects:n.position.rects.filter(s=>i===s.pageNumber)}};e[i].push(o)}),e),{}),vre=t=>(t||{}).ownerDocument||document,zT=t=>(vre(t)||{}).defaultView||window,i_=t=>t instanceof HTMLElement||t instanceof zT(t).HTMLElement,xHe=t=>t instanceof HTMLCanvasElement||t instanceof zT(t).HTMLCanvasElement,Ql=t=>t,ww=t=>{const e=Ql(t.closest(".page"));if(!e||!i_(e))return null;const n=Number(Ql(e).dataset.pageNumber);return{node:e,number:n}},EHe=t=>{const e=t.startContainer.parentElement,n=t.endContainer.parentElement;if(!i_(e)||!i_(n))return[];const r=ww(Ql(e)),i=ww(Ql(n));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const o=[];let s=r.number;const a=r.node.ownerDocument;for(;s<=i.number;){const l=ww(a.querySelector(`[data-page-number='${s}'`));l&&o.push(l),s++}return o},SHe=(t,e)=>{const n=vre(t);let r=t.querySelector(`.${e}`);return!r&&t.children.length&&(r=n.createElement("div"),r.className=e,t.appendChild(r)),r},bre=z.createContext(void 0),CHe=()=>{const t=z.useContext(bre);if(t===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return t},THe=(t,e)=>{const{left:n,top:r,width:i,height:o}=e,s=t?t.ownerDocument:null,a=s&&s.createElement("canvas");if(!a||!xHe(a))return"";a.width=i,a.height=o;const l=a.getContext("2d");if(!l||!t)return"";const u=window.devicePixelRatio;return l.drawImage(t,n*u,r*u,i*u,o*u,0,0,i,o),a.toDataURL("image/png")},wre=(t,e,n)=>THe(n.getPageView(e-1).canvas,t),AHe="empty-id",RHe=({highlightsByPage:t,pageNumber:e,scrolledToHighlightId:n,viewer:r,highlightBindings:i,children:o})=>{const s=t[e]||[];return ue.createElement("div",null,s.map((a,l)=>{const u={...a,id:"id"in a?a.id:AHe,position:dHe(a.position,r)},c=n===u.id,d={highlight:u,viewportToScaled:f=>{const p=r.getPageView((f.pageNumber||e)-1).viewport;return gre(f,p)},screenshot:f=>wre(f,e,r),isScrolledTo:c,highlightBindings:i};return ue.createElement(bre.Provider,{value:d,key:l},o)}))},U7=(t,e)=>({left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),H7=(t,e,n)=>{const r=t.getBoundingClientRect();return{x:e-r.left+t.scrollLeft,y:n-r.top+t.scrollTop-window.scrollY}},kHe=({viewer:t,onSelection:e,onReset:n,onDragStart:r,enableAreaSelection:i,onChange:o,style:s})=>{const[a,l]=z.useState(null),[u,c]=z.useState(null),[d,f]=z.useState(!1),p=z.useRef(null),m=z.useRef(null),y=()=>{n&&n(),l(null),c(null),f(!1)};return z.useEffect(()=>{if(o&&o(!!(a&&u)),!p.current)return;const b=Ql(p.current.parentElement),v=C=>{if(!a||!u||!m.current)return;const k=U7(a,u),D=k.width>=1&&k.height>=1;if(!b.contains(Ql(C.target))||!D){y();return}f(!0);const A=ww(m.current);if(!A)return;const P={...k,top:k.top-A.node.offsetTop,left:k.left-A.node.offsetLeft,pageNumber:A.number},M={boundingRect:P,rects:[]},I=mre(M,t),O=wre(P,P.pageNumber,t);e&&e(M,I,O,y,C)},E=C=>{!p.current||!a||d||c(H7(b,C.pageX,C.pageY))},x=C=>{const k=A=>i(A)&&i_(A.target)&&!!Ql(A.target).closest(".page"),D=A=>a&&!Ql(A.target).closest(".PdfHighlighter__tip-container");if(!k(C)){D(C)&&y();return}m.current=Ql(C.target),r&&r(C),l(H7(b,C.pageX,C.pageY)),c(null),f(!1)};return b.addEventListener("mousemove",E),b.addEventListener("mousedown",x),document.addEventListener("mouseup",v),()=>{b.removeEventListener("mousemove",E),b.removeEventListener("mousedown",x),document.removeEventListener("mouseup",v)}},[a,u]),ue.createElement("div",{className:"MouseSelection-container",ref:p},a&&u&&ue.createElement("div",{className:"MouseSelection",style:{...U7(a,u),...s}}))},IHe=(t,e,n)=>Math.min(Math.max(t,e),n),PN=5,PHe=({viewer:t,updateTipPositionRef:e})=>{const[n,r]=z.useState(0),[i,o]=z.useState(0),s=z.useRef(null),a=()=>{if(!s.current)return;const{offsetHeight:M,offsetWidth:I}=s.current;r(M),o(I)};e.current=a,z.useLayoutEffect(()=>{a()},[a]);const{getTip:l}=pre(),u=l();if(!u)return null;const{position:c,content:d}=u,{boundingRect:f}=c,p=f.pageNumber,m=t.getPageView(p-1).div,y=m.getBoundingClientRect(),{left:b,width:v}=y,E=t.container.scrollTop,x=m.offsetLeft+f.left+f.width/2,C=f.top+m.offsetTop,k=C+f.height,A=C-n-PN<E?k+PN:C-n-PN,P=IHe(x-i/2,0,b+v-i);return ue.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:A,left:P,height:"max-content",width:"max-content"},ref:s},d)};let _re,xre,Ere;(async()=>{const t=await Hb(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);_re=t.EventBus,xre=t.PDFLinkService,Ere=t.PDFViewer})();const MHe=10,NHe="auto",DHe="rgba(153,193,218,255)",LHe=t=>SHe(t,"PdfHighlighter__highlight-layer"),q7=(t,e)=>{var n;(n=t.viewer)==null||n.classList.toggle("PdfHighlighter--disable-selection",e)},OHe=({highlights:t,onScrollAway:e,pdfScaleValue:n=NHe,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:o,selectionTip:s,enableAreaSelection:a,mouseSelectionStyle:l,pdfDocument:u,children:c,textSelectionColor:d=DHe,utilsRef:f,style:p})=>{const[m,y]=z.useState(null),[b,v]=z.useState(!1),E=z.useRef(null),x=z.useRef({}),C=z.useRef(null),k=z.useRef(null),D=z.useRef(null),A=z.useRef(!1),P=z.useRef(!1),M=z.useRef(()=>{}),I=z.useRef(new _re),O=z.useRef(new xre({eventBus:I.current,externalLinkTarget:2})),F=z.useRef(null),$=z.useRef(null);z.useLayoutEffect(()=>{if(!E.current)return;const ge=uHe(()=>{$.current=$.current||new Ere({container:E.current,eventBus:I.current,textLayerMode:2,removePageBorders:!0,linkService:O.current}),$.current.setDocument(u),O.current.setDocument(u),O.current.setViewer($.current),v(!0)},100);return ge(),()=>{ge.cancel()}},[document]),z.useLayoutEffect(()=>{if(!E.current)return;F.current=new ResizeObserver(ee),F.current.observe(E.current);const ge=E.current.ownerDocument;return I.current.on("textlayerrendered",G),I.current.on("pagesinit",ee),ge.addEventListener("keydown",X),G(),()=>{var ce;I.current.off("pagesinit",ee),I.current.off("textlayerrendered",G),ge.removeEventListener("keydown",X),(ce=F.current)==null||ce.disconnect()}},[s,t,r]);const L=()=>{e&&e(),D.current=null,G()},q=()=>{const ge=E.current,ce=zT(ge).getSelection();if(!ge||!ce||ce.isCollapsed||!$.current)return;const he=ce.rangeCount>0?ce.getRangeAt(0):null;if(!he||!ge.contains(he.commonAncestorContainer))return;const be=EHe(he);if(!be||be.length===0)return;const Ce=wHe(he,be);if(Ce.length===0)return;const Ae={boundingRect:fHe(Ce),rects:Ce},Oe=mre(Ae,$.current),j={text:ce.toString().split(`
`).join(" ")};k.current={content:j,type:"text",position:Oe,makeGhostHighlight:()=>(C.current={content:j,type:"text",position:Oe},i&&i(C.current),oe(),G(),C.current)},r&&r(k.current),s&&y({position:Ae,content:s})},K=ge=>{!i_(ge.target)||Ql(ge.target).closest(".PdfHighlighter__tip-container")||(y(null),oe(),W(),Z(!1))},X=ge=>{ge.code==="Escape"&&(oe(),W(),y(null))},ee=()=>{$.current&&($.current.currentScaleValue=n.toString())},J=(ge,ce)=>{$.current&&ge.reactRoot.render(ue.createElement($O.Provider,{value:me},ue.createElement(RHe,{highlightsByPage:_He([...t,C.current]),pageNumber:ce,scrolledToHighlightId:D.current,viewer:$.current,highlightBindings:ge,children:c})))},G=()=>{var ge;if($.current)for(let ce=1;ce<=u.numPages;ce++){const he=x.current[ce];if((ge=he==null?void 0:he.container)!=null&&ge.isConnected)J(he,ce);else{const{textLayer:be}=$.current.getPageView(ce-1)||{};if(!be)continue;const Ce=LHe(be.div);if(Ce){const Ae=KY.createRoot(Ce);x.current[ce]={reactRoot:Ae,container:Ce,textLayer:be.div},J(x.current[ce],ce)}}}},Y=()=>!!k.current||!!C.current||A.current||P.current,Z=ge=>{var ce;ge!==void 0?P.current=ge:P.current=!P.current,$.current&&((ce=$.current.viewer)==null||ce.classList.toggle("PdfHighlighter--disable-selection",P.current))},W=()=>{o&&C.current&&o(C.current),C.current=null,G()},oe=()=>{k.current=null;const ge=E.current,ce=zT(ge).getSelection();!ge||!ce||ce.removeAllRanges()},me={isEditingOrHighlighting:Y,getCurrentSelection:()=>k.current,getGhostHighlight:()=>C.current,removeGhostHighlight:W,toggleEditInProgress:Z,isEditInProgress:()=>P.current,isSelectionInProgress:()=>!!k.current||A.current,scrollToHighlight:ge=>{const{boundingRect:ce,usePdfCoordinates:he}=ge.position,be=ce.pageNumber;$.current.container.removeEventListener("scroll",L);const Ce=$.current.getPageView(be-1).viewport;$.current.scrollPageIntoView({pageNumber:be,destArray:[null,{name:"XYZ"},...Ce.convertToPdfPoint(0,yre(ce,Ce,he).top-MHe),0]}),D.current=ge.id,G(),setTimeout(()=>{$.current.container.addEventListener("scroll",L,{once:!0})},100)},getViewer:()=>$.current,getTip:()=>m,setTip:y,updateTipPosition:M.current};return f(me),ue.createElement($O.Provider,{value:me},ue.createElement("div",{ref:E,className:"PdfHighlighter",onPointerDown:K,onPointerUp:q,style:p},ue.createElement("div",{className:"pdfViewer"}),ue.createElement("style",null,`
          .textLayer ::selection {
            background: ${d};
          }
        `),b&&ue.createElement(PHe,{viewer:$.current,updateTipPositionRef:M}),b&&a&&ue.createElement(kHe,{viewer:$.current,onChange:ge=>A.current=ge,enableAreaSelection:a,style:l,onDragStart:()=>q7($.current,!0),onReset:()=>{k.current=null,q7($.current,!1)},onSelection:(ge,ce,he,be)=>{k.current={content:{image:he},type:"area",position:ce,makeGhostHighlight:()=>(C.current={position:ce,type:"area",content:{image:he}},i&&i(C.current),be(),G(),C.current)},r&&r(k.current),s&&y({position:ge,content:s})}})))},FHe=({highlight:t,onClick:e,onMouseOver:n,onMouseOut:r,isScrolledTo:i,onContextMenu:o,style:s})=>{const a=i?"TextHighlight--scrolledTo":"",{rects:l}=t.position;return ue.createElement("div",{className:`TextHighlight ${a}`,onContextMenu:o},ue.createElement("div",{className:"TextHighlight__parts"},l.map((u,c)=>ue.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:e,key:c,style:{...u,...s},className:"TextHighlight__part"}))))};var cb={exports:{}},MN={};function Sre(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Sre(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function j7(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Sre(t))&&(r&&(r+=" "),r+=e);return r}const $He=Object.freeze(Object.defineProperty({__proto__:null,clsx:j7,default:j7},Symbol.toStringTag,{value:"Module"})),BHe=ule($He);var kr={},Nd={},W7;function GR(){if(W7)return Nd;W7=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.dontSetMe=i,Nd.findInArray=t,Nd.int=r,Nd.isFunction=e,Nd.isNum=n;function t(o,s){for(let a=0,l=o.length;a<l;a++)if(s.apply(s,[o[a],a,o]))return o[a]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function n(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,s,a){if(o[s])return new Error("Invalid prop ".concat(s," passed to ").concat(a," - do not set this, set it on the child."))}return Nd}var Dd={},G7;function zHe(){if(G7)return Dd;G7=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.browserPrefixToKey=n,Dd.browserPrefixToStyle=r,Dd.default=void 0,Dd.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var o;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!a||s in a)return"";for(let l=0;l<t.length;l++)if(n(s,t[l])in a)return t[l];return""}function n(o,s){return s?"".concat(s).concat(i(o)):o}function r(o,s){return s?"-".concat(s.toLowerCase(),"-").concat(o):o}function i(o){let s="",a=!0;for(let l=0;l<o.length;l++)a?(s+=o[l].toUpperCase(),a=!1):o[l]==="-"?a=!0:s+=o[l];return s}return Dd.default=e(),Dd}var K7;function a$(){if(K7)return kr;K7=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.addClassName=k,kr.addEvent=a,kr.addUserSelectStyles=x,kr.createCSSTransform=m,kr.createSVGTransform=y,kr.getTouch=v,kr.getTouchIdentifier=E,kr.getTranslation=b,kr.innerHeight=d,kr.innerWidth=f,kr.matchesSelector=o,kr.matchesSelectorAndParentsTo=s,kr.offsetXYFromParent=p,kr.outerHeight=u,kr.outerWidth=c,kr.removeClassName=D,kr.removeEvent=l,kr.removeUserSelectStyles=C;var t=GR(),e=r(zHe());function n(A){if(typeof WeakMap!="function")return null;var P=new WeakMap,M=new WeakMap;return(n=function(I){return I?M:P})(A)}function r(A,P){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var M=n(P);if(M&&M.has(A))return M.get(A);var I={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in A)if(F!=="default"&&Object.prototype.hasOwnProperty.call(A,F)){var $=O?Object.getOwnPropertyDescriptor(A,F):null;$&&($.get||$.set)?Object.defineProperty(I,F,$):I[F]=A[F]}return I.default=A,M&&M.set(A,I),I}let i="";function o(A,P){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(M){return(0,t.isFunction)(A[M])})),(0,t.isFunction)(A[i])?A[i](P):!1}function s(A,P,M){let I=A;do{if(o(I,P))return!0;if(I===M)return!1;I=I.parentNode}while(I);return!1}function a(A,P,M,I){if(!A)return;const O={capture:!0,...I};A.addEventListener?A.addEventListener(P,M,O):A.attachEvent?A.attachEvent("on"+P,M):A["on"+P]=M}function l(A,P,M,I){if(!A)return;const O={capture:!0,...I};A.removeEventListener?A.removeEventListener(P,M,O):A.detachEvent?A.detachEvent("on"+P,M):A["on"+P]=null}function u(A){let P=A.clientHeight;const M=A.ownerDocument.defaultView.getComputedStyle(A);return P+=(0,t.int)(M.borderTopWidth),P+=(0,t.int)(M.borderBottomWidth),P}function c(A){let P=A.clientWidth;const M=A.ownerDocument.defaultView.getComputedStyle(A);return P+=(0,t.int)(M.borderLeftWidth),P+=(0,t.int)(M.borderRightWidth),P}function d(A){let P=A.clientHeight;const M=A.ownerDocument.defaultView.getComputedStyle(A);return P-=(0,t.int)(M.paddingTop),P-=(0,t.int)(M.paddingBottom),P}function f(A){let P=A.clientWidth;const M=A.ownerDocument.defaultView.getComputedStyle(A);return P-=(0,t.int)(M.paddingLeft),P-=(0,t.int)(M.paddingRight),P}function p(A,P,M){const O=P===P.ownerDocument.body?{left:0,top:0}:P.getBoundingClientRect(),F=(A.clientX+P.scrollLeft-O.left)/M,$=(A.clientY+P.scrollTop-O.top)/M;return{x:F,y:$}}function m(A,P){const M=b(A,P,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:M}}function y(A,P){return b(A,P,"")}function b(A,P,M){let{x:I,y:O}=A,F="translate(".concat(I).concat(M,",").concat(O).concat(M,")");if(P){const $="".concat(typeof P.x=="string"?P.x:P.x+M),L="".concat(typeof P.y=="string"?P.y:P.y+M);F="translate(".concat($,", ").concat(L,")")+F}return F}function v(A,P){return A.targetTouches&&(0,t.findInArray)(A.targetTouches,M=>P===M.identifier)||A.changedTouches&&(0,t.findInArray)(A.changedTouches,M=>P===M.identifier)}function E(A){if(A.targetTouches&&A.targetTouches[0])return A.targetTouches[0].identifier;if(A.changedTouches&&A.changedTouches[0])return A.changedTouches[0].identifier}function x(A){if(!A)return;let P=A.getElementById("react-draggable-style-el");P||(P=A.createElement("style"),P.type="text/css",P.id="react-draggable-style-el",P.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,P.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,A.getElementsByTagName("head")[0].appendChild(P)),A.body&&k(A.body,"react-draggable-transparent-selection")}function C(A){if(A)try{if(A.body&&D(A.body,"react-draggable-transparent-selection"),A.selection)A.selection.empty();else{const P=(A.defaultView||window).getSelection();P&&P.type!=="Caret"&&P.removeAllRanges()}}catch{}}function k(A,P){A.classList?A.classList.add(P):A.className.match(new RegExp("(?:^|\\s)".concat(P,"(?!\\S)")))||(A.className+=" ".concat(P))}function D(A,P){A.classList?A.classList.remove(P):A.className=A.className.replace(new RegExp("(?:^|\\s)".concat(P,"(?!\\S)"),"g"),"")}return kr}var Tl={},Y7;function Cre(){if(Y7)return Tl;Y7=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.canDragX=i,Tl.canDragY=o,Tl.createCoreData=a,Tl.createDraggableData=l,Tl.getBoundPosition=n,Tl.getControlPosition=s,Tl.snapToGrid=r;var t=GR(),e=a$();function n(d,f,p){if(!d.props.bounds)return[f,p];let{bounds:m}=d.props;m=typeof m=="string"?m:u(m);const y=c(d);if(typeof m=="string"){const{ownerDocument:b}=y,v=b.defaultView;let E;if(m==="parent"?E=y.parentNode:E=b.querySelector(m),!(E instanceof v.HTMLElement))throw new Error('Bounds selector "'+m+'" could not find an element.');const x=E,C=v.getComputedStyle(y),k=v.getComputedStyle(x);m={left:-y.offsetLeft+(0,t.int)(k.paddingLeft)+(0,t.int)(C.marginLeft),top:-y.offsetTop+(0,t.int)(k.paddingTop)+(0,t.int)(C.marginTop),right:(0,e.innerWidth)(x)-(0,e.outerWidth)(y)-y.offsetLeft+(0,t.int)(k.paddingRight)-(0,t.int)(C.marginRight),bottom:(0,e.innerHeight)(x)-(0,e.outerHeight)(y)-y.offsetTop+(0,t.int)(k.paddingBottom)-(0,t.int)(C.marginBottom)}}return(0,t.isNum)(m.right)&&(f=Math.min(f,m.right)),(0,t.isNum)(m.bottom)&&(p=Math.min(p,m.bottom)),(0,t.isNum)(m.left)&&(f=Math.max(f,m.left)),(0,t.isNum)(m.top)&&(p=Math.max(p,m.top)),[f,p]}function r(d,f,p){const m=Math.round(f/d[0])*d[0],y=Math.round(p/d[1])*d[1];return[m,y]}function i(d){return d.props.axis==="both"||d.props.axis==="x"}function o(d){return d.props.axis==="both"||d.props.axis==="y"}function s(d,f,p){const m=typeof f=="number"?(0,e.getTouch)(d,f):null;if(typeof f=="number"&&!m)return null;const y=c(p),b=p.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,e.offsetXYFromParent)(m||d,b,p.props.scale)}function a(d,f,p){const m=!(0,t.isNum)(d.lastX),y=c(d);return m?{node:y,deltaX:0,deltaY:0,lastX:f,lastY:p,x:f,y:p}:{node:y,deltaX:f-d.lastX,deltaY:p-d.lastY,lastX:d.lastX,lastY:d.lastY,x:f,y:p}}function l(d,f){const p=d.props.scale;return{node:f.node,x:d.state.x+f.deltaX/p,y:d.state.y+f.deltaY/p,deltaX:f.deltaX/p,deltaY:f.deltaY/p,lastX:d.state.x,lastY:d.state.y}}function u(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}}function c(d){const f=d.findDOMNode();if(!f)throw new Error("<DraggableCore>: Unmounted during event!");return f}return Tl}var db={},vS={},X7;function Tre(){if(X7)return vS;X7=1,Object.defineProperty(vS,"__esModule",{value:!0}),vS.default=t;function t(){}return vS}var J7;function VHe(){if(J7)return db;J7=1,Object.defineProperty(db,"__esModule",{value:!0}),db.default=void 0;var t=u(nl()),e=a(B3()),n=a(EA()),r=a$(),i=Cre(),o=GR(),s=a(Tre());function a(b){return b&&b.__esModule?b:{default:b}}function l(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,E=new WeakMap;return(l=function(x){return x?E:v})(b)}function u(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=l(v);if(E&&E.has(b))return E.get(b);var x={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in b)if(k!=="default"&&Object.prototype.hasOwnProperty.call(b,k)){var D=C?Object.getOwnPropertyDescriptor(b,k):null;D&&(D.get||D.set)?Object.defineProperty(x,k,D):x[k]=b[k]}return x.default=b,E&&E.set(b,x),x}function c(b,v,E){return v=d(v),v in b?Object.defineProperty(b,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[v]=E,b}function d(b){var v=f(b,"string");return typeof v=="symbol"?v:String(v)}function f(b,v){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var x=E.call(b,v);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,y=class extends t.Component{constructor(){super(...arguments),c(this,"dragging",!1),c(this,"lastX",NaN),c(this,"lastY",NaN),c(this,"touchIdentifier",null),c(this,"mounted",!1),c(this,"handleDragStart",v=>{if(this.props.onMouseDown(v),!this.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;const E=this.findDOMNode();if(!E||!E.ownerDocument||!E.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:x}=E;if(this.props.disabled||!(v.target instanceof x.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(v.target,this.props.handle,E)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(v.target,this.props.cancel,E))return;v.type==="touchstart"&&v.preventDefault();const C=(0,r.getTouchIdentifier)(v);this.touchIdentifier=C;const k=(0,i.getControlPosition)(v,C,this);if(k==null)return;const{x:D,y:A}=k,P=(0,i.createCoreData)(this,D,A);(0,s.default)("DraggableCore: handleDragStart: %j",P),(0,s.default)("calling",this.props.onStart),!(this.props.onStart(v,P)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(x),this.dragging=!0,this.lastX=D,this.lastY=A,(0,r.addEvent)(x,m.move,this.handleDrag),(0,r.addEvent)(x,m.stop,this.handleDragStop))}),c(this,"handleDrag",v=>{const E=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(E==null)return;let{x,y:C}=E;if(Array.isArray(this.props.grid)){let A=x-this.lastX,P=C-this.lastY;if([A,P]=(0,i.snapToGrid)(this.props.grid,A,P),!A&&!P)return;x=this.lastX+A,C=this.lastY+P}const k=(0,i.createCoreData)(this,x,C);if((0,s.default)("DraggableCore: handleDrag: %j",k),this.props.onDrag(v,k)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const P=document.createEvent("MouseEvents");P.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(P)}return}this.lastX=x,this.lastY=C}),c(this,"handleDragStop",v=>{if(!this.dragging)return;const E=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(E==null)return;let{x,y:C}=E;if(Array.isArray(this.props.grid)){let P=x-this.lastX||0,M=C-this.lastY||0;[P,M]=(0,i.snapToGrid)(this.props.grid,P,M),x=this.lastX+P,C=this.lastY+M}const k=(0,i.createCoreData)(this,x,C);if(this.props.onStop(v,k)===!1||this.mounted===!1)return!1;const A=this.findDOMNode();A&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(A.ownerDocument),(0,s.default)("DraggableCore: handleDragStop: %j",k),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,A&&((0,s.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(A.ownerDocument,m.move,this.handleDrag),(0,r.removeEvent)(A.ownerDocument,m.stop,this.handleDragStop))}),c(this,"onMouseDown",v=>(m=p.mouse,this.handleDragStart(v))),c(this,"onMouseUp",v=>(m=p.mouse,this.handleDragStop(v))),c(this,"onTouchStart",v=>(m=p.touch,this.handleDragStart(v))),c(this,"onTouchEnd",v=>(m=p.touch,this.handleDragStop(v)))}componentDidMount(){this.mounted=!0;const v=this.findDOMNode();v&&(0,r.addEvent)(v,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const v=this.findDOMNode();if(v){const{ownerDocument:E}=v;(0,r.removeEvent)(E,p.mouse.move,this.handleDrag),(0,r.removeEvent)(E,p.touch.move,this.handleDrag),(0,r.removeEvent)(E,p.mouse.stop,this.handleDragStop),(0,r.removeEvent)(E,p.touch.stop,this.handleDragStop),(0,r.removeEvent)(v,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(E)}}findDOMNode(){var v,E;return(v=this.props)!==null&&v!==void 0&&v.nodeRef?(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return db.default=y,c(y,"displayName","DraggableCore"),c(y,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(b,v){if(b[v]&&b[v].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),c(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),db}var Q7;function UHe(){return Q7||(Q7=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(nl()),n=c(B3()),r=c(EA()),i=c(BHe),o=a$(),s=Cre(),a=GR(),l=c(VHe()),u=c(Tre());function c(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var x=new WeakMap,C=new WeakMap;return(d=function(k){return k?C:x})(E)}function f(E,x){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var C=d(x);if(C&&C.has(E))return C.get(E);var k={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in E)if(A!=="default"&&Object.prototype.hasOwnProperty.call(E,A)){var P=D?Object.getOwnPropertyDescriptor(E,A):null;P&&(P.get||P.set)?Object.defineProperty(k,A,P):k[A]=E[A]}return k.default=E,C&&C.set(E,k),k}function p(){return p=Object.assign?Object.assign.bind():function(E){for(var x=1;x<arguments.length;x++){var C=arguments[x];for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(E[k]=C[k])}return E},p.apply(this,arguments)}function m(E,x,C){return x=y(x),x in E?Object.defineProperty(E,x,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[x]=C,E}function y(E){var x=b(E,"string");return typeof x=="symbol"?x:String(x)}function b(E,x){if(typeof E!="object"||E===null)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var k=C.call(E,x);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(E)}class v extends e.Component{static getDerivedStateFromProps(x,C){let{position:k}=x,{prevPropsPosition:D}=C;return k&&(!D||k.x!==D.x||k.y!==D.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:D}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(x){super(x),m(this,"onDragStart",(C,k)=>{if((0,u.default)("Draggable: onDragStart: %j",k),this.props.onStart(C,(0,s.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(C,k)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",k);const D=(0,s.createDraggableData)(this,k),A={x:D.x,y:D.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:I}=A;A.x+=this.state.slackX,A.y+=this.state.slackY;const[O,F]=(0,s.getBoundPosition)(this,A.x,A.y);A.x=O,A.y=F,A.slackX=this.state.slackX+(M-A.x),A.slackY=this.state.slackY+(I-A.y),D.x=A.x,D.y=A.y,D.deltaX=A.x-this.state.x,D.deltaY=A.y-this.state.y}if(this.props.onDrag(C,D)===!1)return!1;this.setState(A)}),m(this,"onDragStop",(C,k)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,k))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",k);const A={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:I}=this.props.position;A.x=M,A.y=I}this.setState(A)}),this.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:{...x.position},slackX:0,slackY:0,isElementSVG:!1},x.position&&!(x.onDrag||x.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var x,C;return(x=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&x!==void 0?x:r.default.findDOMNode(this)}render(){const{axis:x,bounds:C,children:k,defaultPosition:D,defaultClassName:A,defaultClassNameDragging:P,defaultClassNameDragged:M,position:I,positionOffset:O,scale:F,...$}=this.props;let L={},q=null;const X=!!!I||this.state.dragging,ee=I||D,J={x:(0,s.canDragX)(this)&&X?this.state.x:ee.x,y:(0,s.canDragY)(this)&&X?this.state.y:ee.y};this.state.isElementSVG?q=(0,o.createSVGTransform)(J,O):L=(0,o.createCSSTransform)(J,O);const G=(0,i.default)(k.props.className||"",A,{[P]:this.state.dragging,[M]:this.state.dragged});return e.createElement(l.default,p({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:G,style:{...k.props.style,...L},transform:q}))}}t.default=v,m(v,"displayName","Draggable"),m(v,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(v,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(MN)),MN}var Z7;function HHe(){if(Z7)return cb.exports;Z7=1;const{default:t,DraggableCore:e}=UHe();return cb.exports=t,cb.exports.default=t,cb.exports.DraggableCore=e,cb.exports}var qHe=HHe();const jHe=Ni(qHe);var zr=function(){return zr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zr.apply(this,arguments)},eG={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},tG={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},bS={width:"20px",height:"20px",position:"absolute",zIndex:1},WHe={top:zr(zr({},eG),{top:"-5px"}),right:zr(zr({},tG),{left:void 0,right:"-5px"}),bottom:zr(zr({},eG),{top:void 0,bottom:"-5px"}),left:zr(zr({},tG),{left:"-5px"}),topRight:zr(zr({},bS),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:zr(zr({},bS),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:zr(zr({},bS),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:zr(zr({},bS),{left:"-10px",top:"-10px",cursor:"nw-resize"})},GHe=z.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,o=t.className,s=z.useCallback(function(u){e(u,n)},[e,n]),a=z.useCallback(function(u){e(u,n)},[e,n]),l=z.useMemo(function(){return zr(zr({position:"absolute",userSelect:"none"},WHe[n]),i??{})},[i,n]);return V.jsx("div",{className:o||void 0,style:l,onMouseDown:s,onTouchStart:a,children:r})}),KHe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rl=function(){return Rl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rl.apply(this,arguments)},YHe={width:"auto",height:"auto"},wS=function(t,e,n){return Math.max(Math.min(t,n),e)},nG=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},ym=function(t,e){return new RegExp(t,"i").test(e)},_S=function(t){return!!(t.touches&&t.touches.length)},XHe=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},rG=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,s,a){return Math.abs(s-t)<Math.abs(e[o]-t)?a:o},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},NN=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},xS=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},JHe=function(t,e,n,r,i,o,s){return r=xS(r,t.width,e,n),i=xS(i,t.height,e,n),o=xS(o,t.width,e,n),s=xS(s,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof s>"u"?void 0:Number(s)}},QHe=function(t){return Array.isArray(t)?t:[t,t]},ZHe=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],iG="__resizable_base__",e8e=function(t){KHe(e,t);function e(n){var r,i,o,s,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(iG):u.className+=iG,l.appendChild(u),u},a.removeBase=function(l){var u=a.parentNode;u&&u.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(s=(o=a.propsSize)===null||o===void 0?void 0:o.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||YHe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=s}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),c=Number(n.state[a].toString().replace("px","")),d=c/u[a]*100;return"".concat(d,"%")}return NN(n.state[a])},o=r&&typeof r.width<"u"&&!this.state.isResizing?NN(r.width):i("width"),s=r&&typeof r.height<"u"&&!this.state.isResizing?NN(r.height):i("height");return{width:o,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,o=this.state.direction,s=i&&ym("left",o),a=i&&ym("top",o),l,u;if(this.props.bounds==="parent"){var c=this.parentNode;c&&(l=s?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,o=QHe(this.props.resizeRatio||1),s=o[0],a=o[1],l=this.state,u=l.direction,c=l.original,d=this.props,f=d.lockAspectRatio,p=d.lockAspectRatioExtraHeight,m=d.lockAspectRatioExtraWidth,y=c.width,b=c.height,v=p||0,E=m||0;return ym("right",u)&&(y=c.width+(n-c.x)*s/i,f&&(b=(y-E)/this.ratio+v)),ym("left",u)&&(y=c.width-(n-c.x)*s/i,f&&(b=(y-E)/this.ratio+v)),ym("bottom",u)&&(b=c.height+(r-c.y)*a/i,f&&(y=(b-v)*this.ratio+E)),ym("top",u)&&(b=c.height-(r-c.y)*a/i,f&&(y=(b-v)*this.ratio+E)),{newWidth:y,newHeight:b}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,o){var s=this.props,a=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,c=typeof o.width>"u"?10:o.width,d=typeof i.width>"u"||i.width<0?n:i.width,f=typeof o.height>"u"?10:o.height,p=typeof i.height>"u"||i.height<0?r:i.height,m=l||0,y=u||0;if(a){var b=(f-m)*this.ratio+y,v=(p-m)*this.ratio+y,E=(c-y)/this.ratio+m,x=(d-y)/this.ratio+m,C=Math.max(c,b),k=Math.min(d,v),D=Math.max(f,E),A=Math.min(p,x);n=wS(n,C,k),r=wS(r,D,A)}else n=wS(n,c,d),r=wS(r,f,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,l=s.top,u=s.right,c=s.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=l*n,this.resizableBottom=c*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,o=0;if(n.nativeEvent&&XHe(n.nativeEvent)?(i=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&_S(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(n,r,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var u=this.parentNode;if(u){var c=this.window.getComputedStyle(u).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Rl(Rl({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&_S(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,s=i.maxHeight,a=i.minWidth,l=i.minHeight,u=_S(n)?n.touches[0].clientX:n.clientX,c=_S(n)?n.touches[0].clientY:n.clientY,d=this.state,f=d.direction,p=d.original,m=d.width,y=d.height,b=this.getParentSize(),v=JHe(b,this.window.innerWidth,this.window.innerHeight,o,s,a,l);o=v.maxWidth,s=v.maxHeight,a=v.minWidth,l=v.minHeight;var E=this.calculateNewSizeFromDirection(u,c),x=E.newHeight,C=E.newWidth,k=this.calculateNewMaxFromBoundary(o,s);this.props.snap&&this.props.snap.x&&(C=rG(C,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(x=rG(x,this.props.snap.y,this.props.snapGap));var D=this.calculateNewSizeFromAspectRatio(C,x,{width:k.maxWidth,height:k.maxHeight},{width:a,height:l});if(C=D.newWidth,x=D.newHeight,this.props.grid){var A=nG(C,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),P=nG(x,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),M=this.props.snapGap||0,I=M===0||Math.abs(A-C)<=M?A:C,O=M===0||Math.abs(P-x)<=M?P:x;C=I,x=O}var F={width:C-p.width,height:x-p.height};if(this.delta=F,m&&typeof m=="string"){if(m.endsWith("%")){var $=C/b.width*100;C="".concat($,"%")}else if(m.endsWith("vw")){var L=C/this.window.innerWidth*100;C="".concat(L,"vw")}else if(m.endsWith("vh")){var q=C/this.window.innerHeight*100;C="".concat(q,"vh")}}if(y&&typeof y=="string"){if(y.endsWith("%")){var $=x/b.height*100;x="".concat($,"%")}else if(y.endsWith("vw")){var L=x/this.window.innerWidth*100;x="".concat(L,"vw")}else if(y.endsWith("vh")){var q=x/this.window.innerHeight*100;x="".concat(q,"vh")}}var K={width:this.createSizeForCssProperty(C,"width"),height:this.createSizeForCssProperty(x,"height")};this.flexDir==="row"?K.flexBasis=K.width:this.flexDir==="column"&&(K.flexBasis=K.height);var X=this.state.width!==K.width,ee=this.state.height!==K.height,J=this.state.flexBasis!==K.flexBasis,G=X||ee||J;G&&Ic.flushSync(function(){r.setState(K)}),this.props.onResize&&G&&this.props.onResize(n,f,this.resizable,F)}},e.prototype.onMouseUp=function(n){var r,i,o=this.state,s=o.isResizing,a=o.direction;o.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Rl(Rl({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,o=r.handleStyles,s=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,u=r.handleComponent;if(!i)return null;var c=Object.keys(i).map(function(d){return i[d]!==!1?V.jsx(GHe,{direction:d,onResizeStart:n.onResizeStart,replaceStyles:o&&o[d],className:s&&s[d],children:u&&u[d]?u[d]:null},d):null});return V.jsx("div",{className:l,style:a,children:c})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(s,a){return ZHe.indexOf(a)!==-1||(s[a]=n.props[a]),s},{}),i=Rl(Rl(Rl({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return V.jsxs(o,Rl({style:i,className:this.props.className},r,{ref:function(s){s&&(n.resizable=s)},children:[this.state.isResizing&&V.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(z.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var BO=function(t,e){return BO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},BO(t,e)};function t8e(t,e){BO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Zr=function(){return Zr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zr.apply(this,arguments)};function n8e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var r8e={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},i8e=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},o8e=function(t){t8e(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,o=this.getDraggablePosition(),s=o.x,a=o.y;this.draggable.setState({x:s-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),s=this.props.scale,a;if(this.props.bounds==="parent")a=o;else if(this.props.bounds==="body"){var l=o.getBoundingClientRect(),u=l.left,c=l.top,d=document.body.getBoundingClientRect(),f=-(u-o.offsetLeft*s-d.left)/s,p=-(c-o.offsetTop*s-d.top)/s,m=(document.body.offsetWidth-this.resizable.size.width*s)/s+f,y=(document.body.offsetHeight-this.resizable.size.height*s)/s+p;return this.setState({bounds:{top:p,right:m,bottom:y,left:f}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var b=o.getBoundingClientRect(),v=b.left,E=b.top,x=-(v-o.offsetLeft*s)/s,C=-(E-o.offsetTop*s)/s,m=(window.innerWidth-this.resizable.size.width*s)/s+x,y=(window.innerHeight-this.resizable.size.height*s)/s+C;return this.setState({bounds:{top:C,right:m,bottom:y,left:x}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(o instanceof HTMLElement))){var k=a.getBoundingClientRect(),D=k.left,A=k.top,P=o.getBoundingClientRect(),M=P.left,I=P.top,O=(D-M)/s,F=A-I;if(this.resizable){this.updateOffsetFromParent();var $=this.offsetFromParent;this.setState({bounds:{top:F-$.top,right:O+(a.offsetWidth-this.resizable.size.width)-$.left/s,bottom:F+(a.offsetHeight-this.resizable.size.height)-$.top,left:O-$.left/s}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,Zr(Zr({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDrag(n,Zr(Zr({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,Zr(Zr({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,Zr(Zr({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,Zr(Zr({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,Zr(Zr({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,s=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+s.left,y:a.y+s.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),u=void 0;this.props.bounds==="parent"?u=l:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(u instanceof HTMLElement||u===window)&&l instanceof HTMLElement){var d=this.getMaxSizesFromProps(),f=d.maxWidth,p=d.maxHeight,m=this.getParentSize();if(f&&typeof f=="string")if(f.endsWith("%")){var y=Number(f.replace("%",""))/100;f=m.width*y}else f.endsWith("px")&&(f=Number(f.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var y=Number(p.replace("%",""))/100;p=m.height*y}else p.endsWith("px")&&(p=Number(p.replace("px","")));var b=c.getBoundingClientRect(),v=b.left,E=b.top,x=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),C=x.left,k=x.top,D=this.getOffsetWidth(u),A=this.getOffsetHeight(u),P=r.toLowerCase().endsWith("left"),M=r.toLowerCase().endsWith("right"),I=r.startsWith("top"),O=r.startsWith("bottom");if((P||I)&&this.resizable){var F=(v-C)/o+this.resizable.size.width;this.setState({maxWidth:F>Number(f)?f:F})}if(M||this.props.lockAspectRatio&&!P&&!I){var F=D+(C-v)/o;this.setState({maxWidth:F>Number(f)?f:F})}if((I||P)&&this.resizable){var F=(E-k)/o+this.resizable.size.height;this.setState({maxHeight:F>Number(p)?p:F})}if(O||this.props.lockAspectRatio&&!I&&!P){var F=A+(k-E)/o;this.setState({maxHeight:F>Number(p)?p:F})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,o){var s=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-o.width,u=-o.height,c=["top","left","topLeft","bottomLeft","topRight"];c.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=u));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&Ic.flushSync(function(){s.draggable.setState(a)}),this.updateOffsetFromParent();var f=this.offsetFromParent,p=this.getDraggablePosition().x+f.left,m=this.getDraggablePosition().y+f.top;this.resizingPosition={x:p,y:m},this.props.onResize&&this.props.onResize(n,r,i,o,{x:p,y:m})},e.prototype.onResizeStop=function(n,r,i,o){this.setState({resizing:!1});var s=this.getMaxSizesFromProps(),a=s.maxWidth,l=s.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var o=r.getBoundingClientRect(),s=o.left,a=o.top,l=i.getBoundingClientRect(),u=this.getDraggablePosition(),c=r.scrollLeft,d=r.scrollTop;this.offsetFromParent={left:l.left-s+c-u.x*n,top:l.top-a+d-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,o=r.style,s=r.dragHandleClassName,a=r.position,l=r.onMouseDown,u=r.onMouseUp,c=r.dragAxis,d=r.dragGrid,f=r.bounds,p=r.enableUserSelectHack,m=r.cancel,y=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var b=r.resizeHandleStyles,v=r.resizeHandleClasses,E=r.resizeHandleComponent,x=r.enableResizing,C=r.resizeGrid,k=r.resizeHandleWrapperClass,D=r.resizeHandleWrapperStyle,A=r.scale,P=r.allowAnyClick,M=r.dragPositionOffset,I=n8e(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),O=this.props.default?Zr({},this.props.default):void 0;delete I.default;var F=i||s?{cursor:"auto"}:{cursor:"move"},$=Zr(Zr(Zr({},r8e),F),o),L=this.offsetFromParent,q=L.left,K=L.top,X;a&&(X={x:a.x-q,y:a.y-K});var ee=this.state.resizing?void 0:X,J=this.state.resizing?"both":c;return z.createElement(jHe,{ref:function(G){G&&(n.draggable=G)},handle:s?".".concat(s):void 0,defaultPosition:O,onMouseDown:l,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:J,disabled:i,grid:d,bounds:f?this.state.bounds:void 0,position:ee,enableUserSelectHack:p,cancel:m,scale:A,allowAnyClick:P,nodeRef:this.resizableElement,positionOffset:M},z.createElement(e8e,Zr({},I,{ref:function(G){G&&(n.resizable=G,n.resizableElement.current=G.resizable)},defaultSize:O,size:this.props.size,enable:typeof x=="boolean"?i8e(x):x,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:$,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:C,handleWrapperClass:k,handleWrapperStyle:D,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:b,handleClasses:v,handleComponent:E,scale:this.props.scale}),y))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(z.PureComponent);const s8e=({highlight:t,onChange:e,isScrolledTo:n,bounds:r,onContextMenu:i,onEditStart:o,style:s})=>{const a=n?"AreaHighlight--scrolledTo":"",l=`${t.position.boundingRect.width}${t.position.boundingRect.height}${t.position.boundingRect.left}${t.position.boundingRect.top}`;return ue.createElement("div",{className:`AreaHighlight ${a}`,onContextMenu:i},ue.createElement(o8e,{className:"AreaHighlight__part",onDragStop:(u,c)=>{const d={...t.position.boundingRect,top:c.y,left:c.x};e&&e(d)},onResizeStop:(u,c,d,f,p)=>{var y;const m={top:p.y,left:p.x,width:d.offsetWidth,height:d.offsetHeight,pageNumber:((y=ww(d))==null?void 0:y.number)||-1};e&&e(m)},onDragStart:o,onResizeStart:o,default:{x:t.position.boundingRect.left,y:t.position.boundingRect.top,width:t.position.boundingRect.width,height:t.position.boundingRect.height},key:l,bounds:r,onClick:u=>{u.stopPropagation(),u.preventDefault()},style:s}))};var _w={};_w.d=(t,e)=>{for(var n in e)_w.o(e,n)&&!_w.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};_w.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Vt=globalThis.pdfjsLib={};_w.d(Vt,{AbortException:()=>hg,AnnotationEditorLayer:()=>YF,AnnotationEditorParamsType:()=>qt,AnnotationEditorType:()=>bn,AnnotationEditorUIManager:()=>qp,AnnotationLayer:()=>ije,AnnotationMode:()=>Hd,CMapCompressionType:()=>VO,ColorPicker:()=>WT,DOMSVGFactory:()=>c$,DrawLayer:()=>ZF,FeatureTest:()=>Vo,GlobalWorkerOptions:()=>Lc,ImageKind:()=>fC,InvalidPDFException:()=>Rre,MissingPDFException:()=>fg,OPS:()=>Pa,Outliner:()=>IF,PDFDataRangeTransport:()=>Eie,PDFDateString:()=>Lre,PDFWorker:()=>fy,PasswordResponses:()=>c8e,PermissionFlag:()=>u8e,PixelsPerInch:()=>Mf,RenderingCancelledException:()=>d$,TextLayer:()=>Bv,UnexpectedResponseException:()=>JR,Util:()=>Ct,VerbosityLevel:()=>KR,XfaLayer:()=>Cie,build:()=>$qe,createValidAbsoluteUrl:()=>p8e,fetchData:()=>nk,getDocument:()=>kqe,getFilenameFromUrl:()=>S8e,getPdfFilenameFromUrl:()=>C8e,getXfaPageViewport:()=>T8e,isDataScheme:()=>f$,isPdfFile:()=>h$,noContextMenu:()=>Go,normalizeUnicode:()=>w8e,renderTextLayer:()=>wqe,setLayerDimensions:()=>Hp,shadow:()=>Sn,updateTextLayer:()=>_qe,version:()=>Fqe});const Qi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Are=[1,0,0,1,0,0],zO=[.001,0,0,.001,0,0],a8e=1e7,DN=1.35,Gs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Hd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},l8e="pdfjs_internal_editor_",bn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},qt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},u8e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Vi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Qr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},fb={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},KR={ERRORS:0,WARNINGS:1,INFOS:5},VO={NONE:0,BINARY:1},Pa={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},c8e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let YR=KR.WARNINGS;function d8e(t){Number.isInteger(t)&&(YR=t)}function f8e(){return YR}function XR(t){YR>=KR.INFOS&&console.log(`Info: ${t}`)}function rn(t){YR>=KR.WARNINGS&&console.log(`Warning: ${t}`)}function Hn(t){throw new Error(t)}function ii(t,e){t||Hn(e)}function h8e(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function p8e(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=b8e(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(h8e(r))return r}catch{}return null}function Sn(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const zf=function(){function e(n,r){this.constructor===e&&Hn("Cannot initialize BaseException."),this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class UO extends zf{constructor(e,n){super(e,"PasswordException"),this.code=n}}class HO extends zf{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class Rre extends zf{constructor(e){super(e,"InvalidPDFException")}}class fg extends zf{constructor(e){super(e,"MissingPDFException")}}class JR extends zf{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class g8e extends zf{constructor(e){super(e,"FormatError")}}class hg extends zf{constructor(e){super(e,"AbortException")}}function kre(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Hn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),s=t.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function QR(t){typeof t!="string"&&Hn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function m8e(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function l$(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function y8e(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function v8e(){try{return new Function(""),!0}catch{return!1}}class Vo{static get isLittleEndian(){return Sn(this,"isLittleEndian",y8e())}static get isEvalSupported(){return Sn(this,"isEvalSupported",v8e())}static get isOffscreenCanvasSupported(){return Sn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Sn(this,"platform",{isMac:navigator.platform.includes("Mac")}):Sn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return Sn(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const LN=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Fc,hC,qO;class Ct{static makeHexColor(e,n,r){return`#${LN[e]}${LN[n]}${LN[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,o=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,o]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),o=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],o=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],a=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-o*i))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>s?null:[r,o,i,s]}static bezierBoundingBox(e,n,r,i,o,s,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],ae(this,Fc,qO).call(this,e,r,o,a,n,i,s,l,3*(-e+3*(r-o)+a),6*(e-2*r+o),3*(r-e),u),ae(this,Fc,qO).call(this,e,r,o,a,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}Fc=new WeakSet,hC=function(e,n,r,i,o,s,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,m=d*(d*(d*e+3*u*n)+3*f*r)+p*i,y=d*(d*(d*o+3*u*s)+3*f*a)+p*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],y),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],y)},qO=function(e,n,r,i,o,s,a,l,u,c,d,f){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&ae(this,Fc,hC).call(this,e,n,r,i,o,s,a,l,-d/c,f);return}const p=c**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;ae(this,Fc,hC).call(this,e,n,r,i,o,s,a,l,(-c+m)/y,f),ae(this,Fc,hC).call(this,e,n,r,i,o,s,a,l,(-c-m)/y,f)},le(Ct,Fc);function b8e(t){return decodeURIComponent(escape(t))}let ON=null,oG=null;function w8e(t){return ON||(ON=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oG=new Map([["","t"]])),t.replaceAll(ON,(e,n,r)=>n?n.normalize("NFKC"):oG.get(r))}function _8e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return kre(t)}const Ire="pdfjs_internal_id_",Gu={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class ZR{constructor(){this.constructor===ZR&&Hn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,o){return"none"}destroy(e=!1){}}var c_;const q$=class q${constructor({enableHWA:e=!1}={}){le(this,c_,!1);this.constructor===q$&&Hn("Cannot initialize BaseCanvasFactory."),ie(this,c_,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!T(this,c_)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Hn("Abstract method `_createCanvas` called.")}};c_=new WeakMap;let VT=q$;class ek{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===ek&&Hn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?VO.BINARY:VO.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){Hn("Abstract method `_fetchData` called.")}}class tk{constructor({baseUrl:e=null}){this.constructor===tk&&Hn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){Hn("Abstract method `_fetchData` called.")}}class u${constructor(){this.constructor===u$&&Hn("Cannot initialize BaseSVGFactory.")}create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Hn("Abstract method `_createSVG` called.")}}const Xu="http://www.w3.org/2000/svg",wh=class wh{};dt(wh,"CSS",96),dt(wh,"PDF",72),dt(wh,"PDF_TO_CSS_UNITS",wh.CSS/wh.PDF);let Mf=wh;var Ah,Pl,rc,No,iA,Rh,yt,Ui,jm,Wm,pC,Pre,jO,Gm,qb,jb,WO,Wb;class x8e extends ZR{constructor({docId:n,ownerDocument:r=globalThis.document}={}){super();le(this,yt);le(this,Ah);le(this,Pl);le(this,rc);le(this,No);le(this,iA);le(this,Rh,0);ie(this,rc,n),ie(this,No,r)}addFilter(n){if(!n)return"none";let r=T(this,yt,Ui).get(n);if(r)return r;const[i,o,s]=ae(this,yt,pC).call(this,n),a=n.length===1?i:`${i}${o}${s}`;if(r=T(this,yt,Ui).get(a),r)return T(this,yt,Ui).set(n,r),r;const l=`g_${T(this,rc)}_transfer_map_${as(this,Rh)._++}`,u=`url(#${l})`;T(this,yt,Ui).set(n,u),T(this,yt,Ui).set(a,u);const c=ae(this,yt,Gm).call(this,l);return ae(this,yt,jb).call(this,i,o,s,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,o="base";let s=T(this,yt,jm).get(o);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},T(this,yt,jm).set(o,s)),!n||!r))return s.url;const a=ae(this,yt,Wb).call(this,n);n=Ct.makeHexColor(...a);const l=ae(this,yt,Wb).call(this,r);if(r=Ct.makeHexColor(...l),T(this,yt,Wm).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const b=y/255;u[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const c=u.join(","),d=`g_${T(this,rc)}_hcm_filter`,f=s.filter=ae(this,yt,Gm).call(this,d);ae(this,yt,jb).call(this,c,c,c,f),ae(this,yt,jO).call(this,f);const p=(y,b)=>{const v=a[y]/255,E=l[y]/255,x=new Array(b+1);for(let C=0;C<=b;C++)x[C]=v+C/b*(E-v);return x.join(",")};return ae(this,yt,jb).call(this,p(0,5),p(1,5),p(2,5),f),s.url=`url(#${d})`,s.url}addAlphaFilter(n){let r=T(this,yt,Ui).get(n);if(r)return r;const[i]=ae(this,yt,pC).call(this,[n]),o=`alpha_${i}`;if(r=T(this,yt,Ui).get(o),r)return T(this,yt,Ui).set(n,r),r;const s=`g_${T(this,rc)}_alpha_map_${as(this,Rh)._++}`,a=`url(#${s})`;T(this,yt,Ui).set(n,a),T(this,yt,Ui).set(o,a);const l=ae(this,yt,Gm).call(this,s);return ae(this,yt,WO).call(this,i,l),a}addLuminosityFilter(n){let r=T(this,yt,Ui).get(n||"luminosity");if(r)return r;let i,o;if(n?([i]=ae(this,yt,pC).call(this,[n]),o=`luminosity_${i}`):o="luminosity",r=T(this,yt,Ui).get(o),r)return T(this,yt,Ui).set(n,r),r;const s=`g_${T(this,rc)}_luminosity_map_${as(this,Rh)._++}`,a=`url(#${s})`;T(this,yt,Ui).set(n,a),T(this,yt,Ui).set(o,a);const l=ae(this,yt,Gm).call(this,s);return ae(this,yt,Pre).call(this,l),n&&ae(this,yt,WO).call(this,i,l),a}addHighlightHCMFilter(n,r,i,o,s){var E;const a=`${r}-${i}-${o}-${s}`;let l=T(this,yt,jm).get(n);if((l==null?void 0:l.key)===a||(l?((E=l.filter)==null||E.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},T(this,yt,jm).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(ae(this,yt,Wb).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,m]=[o,s].map(ae(this,yt,Wb).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),T(this,yt,Wm).style.color="";const y=(x,C,k)=>{const D=new Array(256),A=(f-d)/k,P=x/255,M=(C-x)/(255*k);let I=0;for(let O=0;O<=k;O++){const F=Math.round(d+O*A),$=P+O*M;for(let L=I;L<=F;L++)D[L]=$;I=F+1}for(let O=I;O<256;O++)D[O]=D[I-1];return D.join(",")},b=`g_${T(this,rc)}_hcm_${n}_filter`,v=l.filter=ae(this,yt,Gm).call(this,b);return ae(this,yt,jO).call(this,v),ae(this,yt,jb).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),v),l.url=`url(#${b})`,l.url}destroy(n=!1){n&&T(this,yt,jm).size!==0||(T(this,Pl)&&(T(this,Pl).parentNode.parentNode.remove(),ie(this,Pl,null)),T(this,Ah)&&(T(this,Ah).clear(),ie(this,Ah,null)),ie(this,Rh,0))}}Ah=new WeakMap,Pl=new WeakMap,rc=new WeakMap,No=new WeakMap,iA=new WeakMap,Rh=new WeakMap,yt=new WeakSet,Ui=function(){return T(this,Ah)||ie(this,Ah,new Map)},jm=function(){return T(this,iA)||ie(this,iA,new Map)},Wm=function(){if(!T(this,Pl)){const n=T(this,No).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=T(this,No).createElementNS(Xu,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ie(this,Pl,T(this,No).createElementNS(Xu,"defs")),n.append(i),i.append(T(this,Pl)),T(this,No).body.append(n)}return T(this,Pl)},pC=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=u[f]/255;const d=c.join(",");return[d,d,d]}const[r,i,o]=n,s=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,a[u]=i[u]/255,l[u]=o[u]/255;return[s.join(","),a.join(","),l.join(",")]},Pre=function(n){const r=T(this,No).createElementNS(Xu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},jO=function(n){const r=T(this,No).createElementNS(Xu,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Gm=function(n){const r=T(this,No).createElementNS(Xu,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),T(this,yt,Wm).append(r),r},qb=function(n,r,i){const o=T(this,No).createElementNS(Xu,r);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)},jb=function(n,r,i,o){const s=T(this,No).createElementNS(Xu,"feComponentTransfer");o.append(s),ae(this,yt,qb).call(this,s,"feFuncR",n),ae(this,yt,qb).call(this,s,"feFuncG",r),ae(this,yt,qb).call(this,s,"feFuncB",i)},WO=function(n,r){const i=T(this,No).createElementNS(Xu,"feComponentTransfer");r.append(i),ae(this,yt,qb).call(this,i,"feFuncA",n)},Wb=function(n){return T(this,yt,Wm).style.color=n,p$(getComputedStyle(T(this,yt,Wm)).getPropertyValue("color"))};class E8e extends VT{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}async function nk(t,e="text"){if(Gb(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Mre extends ek{_fetchData(e,n){return nk(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):QR(r),compressionType:n}))}}class Nre extends tk{_fetchData(e){return nk(e,"arraybuffer").then(n=>new Uint8Array(n))}}class c$ extends u${_createSVG(e){return document.createElementNS(Xu,e)}}class g1{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,f=1;break;case 90:u=0,c=1,d=1,f=0;break;case 270:u=0,c=-1,d=-1,f=0;break;case 0:u=1,c=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,f=-f);let p,m,y,b;u===0?(p=Math.abs(l-e[1])*n+i,m=Math.abs(a-e[0])*n+o,y=(e[3]-e[1])*n,b=(e[2]-e[0])*n):(p=Math.abs(a-e[0])*n+i,m=Math.abs(l-e[1])*n+o,y=(e[2]-e[0])*n,b=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,f*n,p-u*n*a-d*n*l,m-c*n*a-f*n*l],this.width=y,this.height=b}get rawDims(){const{viewBox:e}=this;return Sn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new g1({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,n){return Ct.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Ct.applyTransform([e[0],e[1]],this.transform),r=Ct.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Ct.applyInverseTransform([e,n],this.transform)}}class d$ extends zf{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function f$(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function h$(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function S8e(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function C8e(t,e="document.pdf"){if(typeof t!="string")return e;if(f$(t))return rn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||e}class sG{constructor(){dt(this,"started",Object.create(null));dt(this,"times",[])}time(e){e in this.started&&rn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||rn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(n)} ${o-i}ms
`);return e.join("")}}function Gb(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Go(t){t.preventDefault()}function Dre(t){console.log("Deprecated API usage: "+t)}let aG;class Lre{static toDateObject(e){if(!e||typeof e!="string")return null;aG||(aG=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=aG.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(s+=c,a+=d):u==="+"&&(s-=c,a-=d),new Date(Date.UTC(r,i,o,s,a,l))}}function T8e(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new g1({viewBox:o,scale:e,rotation:n})}function p$(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(rn(`Not a valid color format: "${t}"`),[0,0,0])}function A8e(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,p$(r))}e.remove()}function vr(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform();return[e,n,r,i,o,s]}function Ku(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform().invertSelf();return[e,n,r,i,o,s]}function Hp(t,e,n=!1,r=!0){if(e instanceof g1){const{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=t,a=Vo.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${o}px`,c=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${u}, 1px)`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=d):(s.width=d,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}var kh,Ih,fs,Ph,oA,Ore,po,Fre,$re,gC,Bre,KO;const sA=class sA{constructor(e){le(this,po);le(this,kh,null);le(this,Ih,null);le(this,fs);le(this,Ph,null);ie(this,fs,e)}render(){const e=ie(this,kh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=T(this,fs)._uiManager._signal;e.addEventListener("contextmenu",Go,{signal:n}),e.addEventListener("pointerdown",ae(sA,oA,Ore),{signal:n});const r=ie(this,Ph,document.createElement("div"));r.className="buttons",e.append(r);const i=T(this,fs).toolbarPosition;if(i){const{style:o}=e,s=T(this,fs)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return ae(this,po,Bre).call(this),e}hide(){var e;T(this,kh).classList.add("hidden"),(e=T(this,Ih))==null||e.hideDropdown()}show(){T(this,kh).classList.remove("hidden")}addAltTextButton(e){ae(this,po,gC).call(this,e),T(this,Ph).prepend(e,T(this,po,KO))}addColorPicker(e){ie(this,Ih,e);const n=e.renderButton();ae(this,po,gC).call(this,n),T(this,Ph).prepend(n,T(this,po,KO))}remove(){var e;T(this,kh).remove(),(e=T(this,Ih))==null||e.destroy(),ie(this,Ih,null)}};kh=new WeakMap,Ih=new WeakMap,fs=new WeakMap,Ph=new WeakMap,oA=new WeakSet,Ore=function(e){e.stopPropagation()},po=new WeakSet,Fre=function(e){T(this,fs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},$re=function(e){T(this,fs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},gC=function(e){const n=T(this,fs)._uiManager._signal;e.addEventListener("focusin",ae(this,po,Fre).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",ae(this,po,$re).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Go,{signal:n})},Bre=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${T(this,fs).editorType}-button`),ae(this,po,gC).call(this,e),e.addEventListener("click",n=>{T(this,fs)._uiManager.delete()},{signal:T(this,fs)._uiManager._signal}),T(this,Ph).append(e)},KO=function(){const e=document.createElement("div");return e.className="divider",e},le(sA,oA);let GO=sA;var d_,Mh,Nh,Df,zre,Vre,Ure;class R8e{constructor(e){le(this,Df);le(this,d_,null);le(this,Mh,null);le(this,Nh);ie(this,Nh,e)}show(e,n,r){const[i,o]=ae(this,Df,Vre).call(this,n,r),{style:s}=T(this,Mh)||ie(this,Mh,ae(this,Df,zre).call(this));e.append(T(this,Mh)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){T(this,Mh).remove()}}d_=new WeakMap,Mh=new WeakMap,Nh=new WeakMap,Df=new WeakSet,zre=function(){const e=ie(this,Mh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Go,{signal:T(this,Nh)._signal});const n=ie(this,d_,document.createElement("div"));return n.className="buttons",e.append(n),ae(this,Df,Ure).call(this),e},Vre=function(e,n){let r=0,i=0;for(const o of e){const s=o.y+o.height;if(s<r)continue;const a=o.x+(n?o.width:0);if(s>r){i=a,r=s;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},Ure=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=T(this,Nh)._signal;e.addEventListener("contextmenu",Go,{signal:r}),e.addEventListener("click",()=>{T(this,Nh).highlightSelection("floating_button")},{signal:r}),T(this,d_).append(e)};function UT(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function k8e(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var aA;class I8e{constructor(){le(this,aA,0)}get id(){return`${l8e}${as(this,aA)._++}`}}aA=new WeakMap;var f_,lA,Hs,h_,XO;const j$=class j${constructor(){le(this,h_);le(this,f_,_8e());le(this,lA,0);le(this,Hs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Sn(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:o}=e;return ae(this,h_,XO).call(this,`${n}_${r}_${i}_${o}`,e)}async getFromUrl(e){return ae(this,h_,XO).call(this,e,e)}async getFromId(e){T(this,Hs)||ie(this,Hs,new Map);const n=T(this,Hs).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=T(this,Hs).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){T(this,Hs)||ie(this,Hs,new Map);const n=T(this,Hs).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${T(this,f_)}_`)}};f_=new WeakMap,lA=new WeakMap,Hs=new WeakMap,h_=new WeakSet,XO=async function(e,n){T(this,Hs)||ie(this,Hs,new Map);let r=T(this,Hs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${T(this,f_)}_${as(this,lA)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await nk(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const o=j$._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},s.onload=async()=>{const d=r.svgUrl=s.result;a.src=await o?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return T(this,Hs).set(e,r),r&&T(this,Hs).set(r.id,r),r};let YO=j$;var di,jd,p_,fi;class P8e{constructor(e=128){le(this,di,[]);le(this,jd,!1);le(this,p_);le(this,fi,-1);ie(this,p_,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),T(this,jd))return;const l={cmd:e,undo:n,post:r,type:o};if(T(this,fi)===-1){T(this,di).length>0&&(T(this,di).length=0),ie(this,fi,0),T(this,di).push(l);return}if(s&&T(this,di)[T(this,fi)].type===o){a&&(l.undo=T(this,di)[T(this,fi)].undo),T(this,di)[T(this,fi)]=l;return}const u=T(this,fi)+1;u===T(this,p_)?T(this,di).splice(0,1):(ie(this,fi,u),u<T(this,di).length&&T(this,di).splice(u)),T(this,di).push(l)}undo(){if(T(this,fi)===-1)return;ie(this,jd,!0);const{undo:e,post:n}=T(this,di)[T(this,fi)];e(),n==null||n(),ie(this,jd,!1),ie(this,fi,T(this,fi)-1)}redo(){if(T(this,fi)<T(this,di).length-1){ie(this,fi,T(this,fi)+1),ie(this,jd,!0);const{cmd:e,post:n}=T(this,di)[T(this,fi)];e(),n==null||n(),ie(this,jd,!1)}}hasSomethingToUndo(){return T(this,fi)!==-1}hasSomethingToRedo(){return T(this,fi)<T(this,di).length-1}destroy(){ie(this,di,null)}}di=new WeakMap,jd=new WeakMap,p_=new WeakMap,fi=new WeakMap;var uA,Hre;class m1{constructor(e){le(this,uA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Vo.platform;for(const[r,i,o={}]of e)for(const s of r){const a=s.startsWith("mac+");n&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!n&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(ae(this,uA,Hre).call(this,n));if(!r)return;const{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...s,n)(),o||(n.stopPropagation(),n.preventDefault()))}}uA=new WeakSet,Hre=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const cA=class cA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return A8e(e),Sn(this,"_colors",e)}convert(e){const n=p$(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((o,s)=>o===n[s]))return cA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Ct.makeHexColor(...n):e}};dt(cA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let JO=cA;var gy,hs,ei,xi,my,ic,yy,Ma,vy,Dh,Ml,Na,Lh,g_,m_,Nl,by,Wd,Dl,dA,Gd,y_,Oh,v_,wy,Ei,Fn,oc,Fh,b_,w_,__,x_,E_,S_,C_,T_,A_,R_,k_,I_,P_,Kd,Ll,sc,M_,et,mC,qre,jre,yC,Wre,Gre,Kre,QO,Yre,ZO,eF,Xre,lo,Od,Jre,Qre,tF,Zre,Kb,nF;const ny=class ny{constructor(e,n,r,i,o,s,a,l,u){le(this,et);le(this,gy,new AbortController);le(this,hs,null);le(this,ei,new Map);le(this,xi,new Map);le(this,my,null);le(this,ic,null);le(this,yy,null);le(this,Ma,new P8e);le(this,vy,0);le(this,Dh,new Set);le(this,Ml,null);le(this,Na,null);le(this,Lh,new Set);le(this,g_,!1);le(this,m_,null);le(this,Nl,null);le(this,by,null);le(this,Wd,!1);le(this,Dl,null);le(this,dA,new I8e);le(this,Gd,!1);le(this,y_,!1);le(this,Oh,null);le(this,v_,null);le(this,wy,null);le(this,Ei,bn.NONE);le(this,Fn,new Set);le(this,oc,null);le(this,Fh,null);le(this,b_,null);le(this,w_,this.blur.bind(this));le(this,__,this.focus.bind(this));le(this,x_,this.copy.bind(this));le(this,E_,this.cut.bind(this));le(this,S_,this.paste.bind(this));le(this,C_,this.keydown.bind(this));le(this,T_,this.keyup.bind(this));le(this,A_,this.onEditingAction.bind(this));le(this,R_,this.onPageChanging.bind(this));le(this,k_,this.onScaleChanging.bind(this));le(this,I_,this.onRotationChanging.bind(this));le(this,P_,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});le(this,Kd,[0,0]);le(this,Ll,null);le(this,sc,null);le(this,M_,null);this._signal=T(this,gy).signal,ie(this,sc,e),ie(this,M_,n),ie(this,my,r),this._eventBus=i,this._eventBus._on("editingaction",T(this,A_)),this._eventBus._on("pagechanging",T(this,R_)),this._eventBus._on("scalechanging",T(this,k_)),this._eventBus._on("rotationchanging",T(this,I_)),ae(this,et,Wre).call(this),ae(this,et,Xre).call(this),ae(this,et,QO).call(this),ie(this,ic,o.annotationStorage),ie(this,m_,o.filterFactory),ie(this,Fh,s),ie(this,by,a||null),ie(this,g_,l),ie(this,wy,u||null),this.viewParameters={realScale:Mf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=ny.prototype,n=s=>T(s,sc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Sn(this,"_keyboardManager",new m1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&T(s,sc).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&T(s,sc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,r;(e=T(this,gy))==null||e.abort(),ie(this,gy,null),this._signal=null,this._eventBus._off("editingaction",T(this,A_)),this._eventBus._off("pagechanging",T(this,R_)),this._eventBus._off("scalechanging",T(this,k_)),this._eventBus._off("rotationchanging",T(this,I_));for(const i of T(this,xi).values())i.destroy();T(this,xi).clear(),T(this,ei).clear(),T(this,Lh).clear(),ie(this,hs,null),T(this,Fn).clear(),T(this,Ma).destroy(),(n=T(this,my))==null||n.destroy(),(r=T(this,Dl))==null||r.hide(),ie(this,Dl,null),T(this,Nl)&&(clearTimeout(T(this,Nl)),ie(this,Nl,null)),T(this,Ll)&&(clearTimeout(T(this,Ll)),ie(this,Ll,null))}async mlGuess(e){var n;return((n=T(this,wy))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!T(this,wy)}get hcmFilter(){return Sn(this,"hcmFilter",T(this,Fh)?T(this,m_).addHCMFilter(T(this,Fh).foreground,T(this,Fh).background):"none")}get direction(){return Sn(this,"direction",getComputedStyle(T(this,sc)).direction)}get highlightColors(){return Sn(this,"highlightColors",T(this,by)?new Map(T(this,by).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Sn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){ie(this,v_,e)}editAltText(e){var n;(n=T(this,my))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){ie(this,vy,e-1)}focusMainContainer(){T(this,sc).focus()}findParent(e,n){for(const r of T(this,xi).values()){const{x:i,y:o,width:s,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=o&&n<=o+a)return r}return null}disableUserSelect(e=!1){T(this,M_).classList.toggle("noUserSelect",e)}addShouldRescale(e){T(this,Lh).add(e)}removeShouldRescale(e){T(this,Lh).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Mf.PDF_TO_CSS_UNITS;for(const n of T(this,Lh))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=n,a=n.toString(),u=ae(this,et,mC).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){n.empty(),T(this,Ei)===bn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:bn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of T(this,xi).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&T(this,ic)&&!T(this,ic).has(e.id)&&T(this,ic).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,T(this,Wd)&&(ie(this,Wd,!1),ae(this,et,yC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of T(this,Fn))if(n.div.contains(e)){ie(this,Oh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!T(this,Oh))return;const[e,n]=T(this,Oh);ie(this,Oh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){ae(this,et,QO).call(this),ae(this,et,ZO).call(this)}removeEditListeners(){ae(this,et,Yre).call(this),ae(this,et,eF).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of T(this,Na))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of T(this,Na))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=T(this,hs))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of T(this,Fn)){const o=i.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const s of T(this,Na))if(s.isHandlingMimeForPasting(o.type)){s.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){rn(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const l of r){const u=i.deserialize(l);if(!u)return;o.push(u)}const s=()=>{for(const l of o)ae(this,et,tF).call(this,l);ae(this,et,nF).call(this,o)},a=()=>{for(const l of o)l.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(o){rn(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),T(this,Ei)!==bn.NONE&&!this.isEditorHandlingKeyboard&&ny._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,T(this,Wd)&&(ie(this,Wd,!1),ae(this,et,yC).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ae(this,et,Gre).call(this),ae(this,et,ZO).call(this),ae(this,et,lo).call(this,{isEditing:T(this,Ei)!==bn.NONE,isEmpty:ae(this,et,Kb).call(this),hasSomethingToUndo:T(this,Ma).hasSomethingToUndo(),hasSomethingToRedo:T(this,Ma).hasSomethingToRedo(),hasSelectedEditor:!1})):(ae(this,et,Kre).call(this),ae(this,et,eF).call(this),ae(this,et,lo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!T(this,Na)){ie(this,Na,e);for(const n of T(this,Na))ae(this,et,Od).call(this,n.defaultPropertiesToUpdate)}}getId(){return T(this,dA).id}get currentLayer(){return T(this,xi).get(T(this,vy))}getLayer(e){return T(this,xi).get(e)}get currentPageIndex(){return T(this,vy)}addLayer(e){T(this,xi).set(e.pageIndex,e),T(this,Gd)?e.enable():e.disable()}removeLayer(e){T(this,xi).delete(e.pageIndex)}updateMode(e,n=null,r=!1){if(T(this,Ei)!==e){if(ie(this,Ei,e),e===bn.NONE){this.setEditingState(!1),ae(this,et,Qre).call(this);return}this.setEditingState(!0),ae(this,et,Jre).call(this),this.unselectAll();for(const i of T(this,xi).values())i.updateMode(e);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of T(this,ei).values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==T(this,Ei)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(T(this,Na)){switch(e){case qt.CREATE:this.currentLayer.addNewEditor();return;case qt.HIGHLIGHT_DEFAULT_COLOR:(r=T(this,v_))==null||r.updateColor(n);break;case qt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(T(this,b_)||ie(this,b_,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of T(this,Fn))i.updateParams(e,n);for(const i of T(this,Na))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var o;for(const s of T(this,ei).values())s.editorType===e&&s.show(n);(((o=T(this,b_))==null?void 0:o.get(qt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&ae(this,et,Od).call(this,[[qt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(T(this,y_)!==e){ie(this,y_,e);for(const n of T(this,xi).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of T(this,ei).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return T(this,ei).get(e)}addEditor(e){T(this,ei).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(T(this,Nl)&&clearTimeout(T(this,Nl)),ie(this,Nl,setTimeout(()=>{this.focusMainContainer(),ie(this,Nl,null)},0))),T(this,ei).delete(e.id),this.unselect(e),(!e.annotationElementId||!T(this,Dh).has(e.annotationElementId))&&((n=T(this,ic))==null||n.remove(e.id))}addDeletedAnnotationElement(e){T(this,Dh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return T(this,Dh).has(e)}removeDeletedAnnotationElement(e){T(this,Dh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){T(this,hs)!==e&&(ie(this,hs,e),e&&ae(this,et,Od).call(this,e.propertiesToUpdate))}updateUI(e){T(this,et,Zre)===e&&ae(this,et,Od).call(this,e.propertiesToUpdate)}toggleSelected(e){if(T(this,Fn).has(e)){T(this,Fn).delete(e),e.unselect(),ae(this,et,lo).call(this,{hasSelectedEditor:this.hasSelection});return}T(this,Fn).add(e),e.select(),ae(this,et,Od).call(this,e.propertiesToUpdate),ae(this,et,lo).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of T(this,Fn))n!==e&&n.unselect();T(this,Fn).clear(),T(this,Fn).add(e),e.select(),ae(this,et,Od).call(this,e.propertiesToUpdate),ae(this,et,lo).call(this,{hasSelectedEditor:!0})}isSelected(e){return T(this,Fn).has(e)}get firstSelectedEditor(){return T(this,Fn).values().next().value}unselect(e){e.unselect(),T(this,Fn).delete(e),ae(this,et,lo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return T(this,Fn).size!==0}get isEnterHandled(){return T(this,Fn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){T(this,Ma).undo(),ae(this,et,lo).call(this,{hasSomethingToUndo:T(this,Ma).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ae(this,et,Kb).call(this)})}redo(){T(this,Ma).redo(),ae(this,et,lo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:T(this,Ma).hasSomethingToRedo(),isEmpty:ae(this,et,Kb).call(this)})}addCommands(e){T(this,Ma).add(e),ae(this,et,lo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ae(this,et,Kb).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...T(this,Fn)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)ae(this,et,tF).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=T(this,hs))==null||e.commitOrRemove()}hasSomethingToControl(){return T(this,hs)||this.hasSelection}selectAll(){for(const e of T(this,Fn))e.commit();ae(this,et,nF).call(this,T(this,ei).values())}unselectAll(){if(!(T(this,hs)&&(T(this,hs).commitOrRemove(),T(this,Ei)!==bn.NONE))&&this.hasSelection){for(const e of T(this,Fn))e.unselect();T(this,Fn).clear(),ae(this,et,lo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;T(this,Kd)[0]+=e,T(this,Kd)[1]+=n;const[i,o]=T(this,Kd),s=[...T(this,Fn)],a=1e3;T(this,Ll)&&clearTimeout(T(this,Ll)),ie(this,Ll,setTimeout(()=>{ie(this,Ll,null),T(this,Kd)[0]=T(this,Kd)[1]=0,this.addCommands({cmd:()=>{for(const l of s)T(this,ei).has(l.id)&&l.translateInPage(i,o)},undo:()=>{for(const l of s)T(this,ei).has(l.id)&&l.translateInPage(-i,-o)},mustExec:!1})},a));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ie(this,Ml,new Map);for(const e of T(this,Fn))T(this,Ml).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!T(this,Ml))return!1;this.disableUserSelect(!1);const e=T(this,Ml);ie(this,Ml,null);let n=!1;for(const[{x:i,y:o,pageIndex:s},a]of e)a.newX=i,a.newY=o,a.newPageIndex=s,n||(n=i!==a.savedX||o!==a.savedY||s!==a.savedPageIndex);if(!n)return!1;const r=(i,o,s,a)=>{if(T(this,ei).has(i.id)){const l=T(this,xi).get(a);l?i._setParentAndPosition(l,o,s):(i.pageIndex=a,i.x=o,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:s,newPageIndex:a}]of e)r(i,o,s,a)},undo:()=>{for(const[i,{savedX:o,savedY:s,savedPageIndex:a}]of e)r(i,o,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(T(this,Ml))for(const r of T(this,Ml).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||T(this,Fn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return T(this,hs)===e}getActive(){return T(this,hs)}getMode(){return T(this,Ei)}get imageManager(){return Sn(this,"imageManager",new YO)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:o,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,d,f)=>({x:(c-i)/s,y:1-(u+d-r)/o,width:f/s,height:d/o});break;case"180":a=(u,c,d,f)=>({x:1-(u+d-r)/o,y:1-(c+f-i)/s,width:d/o,height:f/s});break;case"270":a=(u,c,d,f)=>({x:1-(c+f-i)/s,y:(u-r)/o,width:f/s,height:d/o});break;default:a=(u,c,d,f)=>({x:(u-r)/o,y:(c-i)/s,width:d/o,height:f/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:m,height:y}of d.getClientRects())m===0||y===0||l.push(a(f,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(T(this,yy)||ie(this,yy,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=T(this,yy))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=T(this,yy))==null?void 0:i.get(e.data.id);if(!n)return;const r=T(this,ic).getRawValue(n);r&&(T(this,Ei)===bn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};gy=new WeakMap,hs=new WeakMap,ei=new WeakMap,xi=new WeakMap,my=new WeakMap,ic=new WeakMap,yy=new WeakMap,Ma=new WeakMap,vy=new WeakMap,Dh=new WeakMap,Ml=new WeakMap,Na=new WeakMap,Lh=new WeakMap,g_=new WeakMap,m_=new WeakMap,Nl=new WeakMap,by=new WeakMap,Wd=new WeakMap,Dl=new WeakMap,dA=new WeakMap,Gd=new WeakMap,y_=new WeakMap,Oh=new WeakMap,v_=new WeakMap,wy=new WeakMap,Ei=new WeakMap,Fn=new WeakMap,oc=new WeakMap,Fh=new WeakMap,b_=new WeakMap,w_=new WeakMap,__=new WeakMap,x_=new WeakMap,E_=new WeakMap,S_=new WeakMap,C_=new WeakMap,T_=new WeakMap,A_=new WeakMap,R_=new WeakMap,k_=new WeakMap,I_=new WeakMap,P_=new WeakMap,Kd=new WeakMap,Ll=new WeakMap,sc=new WeakMap,M_=new WeakMap,et=new WeakSet,mC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},qre=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=ae(this,et,mC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(T(this,Dl)||ie(this,Dl,new R8e(this)),T(this,Dl).show(r,i,this.direction==="ltr"))},jre=function(){var o,s,a;const e=document.getSelection();if(!e||e.isCollapsed){T(this,oc)&&((o=T(this,Dl))==null||o.hide(),ie(this,oc,null),ae(this,et,lo).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===T(this,oc))return;if(!ae(this,et,mC).call(this,e).closest(".textLayer")){T(this,oc)&&((s=T(this,Dl))==null||s.hide(),ie(this,oc,null),ae(this,et,lo).call(this,{hasSelectedText:!1}));return}if((a=T(this,Dl))==null||a.hide(),ie(this,oc,n),ae(this,et,lo).call(this,{hasSelectedText:!0}),!(T(this,Ei)!==bn.HIGHLIGHT&&T(this,Ei)!==bn.NONE)&&(T(this,Ei)===bn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ie(this,Wd,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),c.type==="pointerup"&&ae(this,et,yC).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},yC=function(e=""){T(this,Ei)===bn.HIGHLIGHT?this.highlightSelection(e):T(this,g_)&&ae(this,et,qre).call(this)},Wre=function(){document.addEventListener("selectionchange",ae(this,et,jre).bind(this),{signal:this._signal})},Gre=function(){const e=this._signal;window.addEventListener("focus",T(this,__),{signal:e}),window.addEventListener("blur",T(this,w_),{signal:e})},Kre=function(){window.removeEventListener("focus",T(this,__)),window.removeEventListener("blur",T(this,w_))},QO=function(){const e=this._signal;window.addEventListener("keydown",T(this,C_),{signal:e}),window.addEventListener("keyup",T(this,T_),{signal:e})},Yre=function(){window.removeEventListener("keydown",T(this,C_)),window.removeEventListener("keyup",T(this,T_))},ZO=function(){const e=this._signal;document.addEventListener("copy",T(this,x_),{signal:e}),document.addEventListener("cut",T(this,E_),{signal:e}),document.addEventListener("paste",T(this,S_),{signal:e})},eF=function(){document.removeEventListener("copy",T(this,x_)),document.removeEventListener("cut",T(this,E_)),document.removeEventListener("paste",T(this,S_))},Xre=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},lo=function(e){Object.entries(e).some(([r,i])=>T(this,P_)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(T(this,P_),e)}),T(this,Ei)===bn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ae(this,et,Od).call(this,[[qt.HIGHLIGHT_FREE,!0]]))},Od=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Jre=function(){if(!T(this,Gd)){ie(this,Gd,!0);for(const e of T(this,xi).values())e.enable();for(const e of T(this,ei).values())e.enable()}},Qre=function(){if(this.unselectAll(),T(this,Gd)){ie(this,Gd,!1);for(const e of T(this,xi).values())e.disable();for(const e of T(this,ei).values())e.disable()}},tF=function(e){const n=T(this,xi).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Zre=function(){let e=null;for(e of T(this,Fn));return e},Kb=function(){if(T(this,ei).size===0)return!0;if(T(this,ei).size===1)for(const e of T(this,ei).values())return e.isEmpty();return!1},nF=function(e){for(const n of T(this,Fn))n.unselect();T(this,Fn).clear();for(const n of e)n.isEmpty()||(T(this,Fn).add(n),n.select());ae(this,et,lo).call(this,{hasSelectedEditor:this.hasSelection})},dt(ny,"TRANSLATE_SMALL",1),dt(ny,"TRANSLATE_BIG",10);let qp=ny;var ac,lc,Da,uc,ps,_y,La,N_,rF;const Qu=class Qu{constructor(e){le(this,N_);le(this,ac,"");le(this,lc,!1);le(this,Da,null);le(this,uc,null);le(this,ps,null);le(this,_y,!1);le(this,La,null);ie(this,La,e)}static initialize(e){Qu._l10nPromise||(Qu._l10nPromise=e)}async render(){const e=ie(this,Da,document.createElement("button"));e.className="altText";const n=await Qu._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const r=T(this,La)._uiManager._signal;e.addEventListener("contextmenu",Go,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),T(this,La)._uiManager.editAltText(T(this,La))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(ie(this,_y,!0),i(o))},{signal:r}),await ae(this,N_,rF).call(this),e}finish(){T(this,Da)&&(T(this,Da).focus({focusVisible:T(this,_y)}),ie(this,_y,!1))}isEmpty(){return!T(this,ac)&&!T(this,lc)}get data(){return{altText:T(this,ac),decorative:T(this,lc)}}set data({altText:e,decorative:n}){T(this,ac)===e&&T(this,lc)===n||(ie(this,ac,e),ie(this,lc,n),ae(this,N_,rF).call(this))}toggle(e=!1){T(this,Da)&&(!e&&T(this,ps)&&(clearTimeout(T(this,ps)),ie(this,ps,null)),T(this,Da).disabled=!e)}destroy(){var e;(e=T(this,Da))==null||e.remove(),ie(this,Da,null),ie(this,uc,null)}};ac=new WeakMap,lc=new WeakMap,Da=new WeakMap,uc=new WeakMap,ps=new WeakMap,_y=new WeakMap,La=new WeakMap,N_=new WeakSet,rF=async function(){var i;const e=T(this,Da);if(!e)return;if(!T(this,ac)&&!T(this,lc)){e.classList.remove("done"),(i=T(this,uc))==null||i.remove();return}e.classList.add("done"),Qu._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let n=T(this,uc);if(!n){ie(this,uc,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const o=n.id=`alt-text-tooltip-${T(this,La).id}`;e.setAttribute("aria-describedby",o);const s=100,a=T(this,La)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(T(this,ps)),ie(this,ps,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ie(this,ps,setTimeout(()=>{ie(this,ps,null),T(this,uc).classList.add("show"),T(this,La)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;T(this,ps)&&(clearTimeout(T(this,ps)),ie(this,ps,null)),(l=T(this,uc))==null||l.classList.remove("show")},{signal:a})}n.innerText=T(this,lc)?await Qu._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):T(this,ac),n.parentNode||e.append(n);const r=T(this,La).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},dt(Qu,"_l10nPromise",null);let HT=Qu;var $h,Oa,qi,xy,Bh,Si,zh,Ey,Sy,ji,D_,Vh,Yd,L_,Uh,cc,Ol,Cy,Ty,qs,O_,fA,an,iF,F_,oF,sF,eie,tie,aF,lF,uF,nie,rie,iie,oie,cF,Yb;const Kn=class Kn{constructor(e){le(this,an);le(this,$h,null);le(this,Oa,null);le(this,qi,null);le(this,xy,!1);le(this,Bh,!1);le(this,Si,null);le(this,zh,null);le(this,Ey,this.focusin.bind(this));le(this,Sy,this.focusout.bind(this));le(this,ji,null);le(this,D_,"");le(this,Vh,!1);le(this,Yd,null);le(this,L_,!1);le(this,Uh,!1);le(this,cc,!1);le(this,Ol,null);le(this,Cy,0);le(this,Ty,0);le(this,qs,null);dt(this,"_initialOptions",Object.create(null));dt(this,"_isVisible",!0);dt(this,"_uiManager",null);dt(this,"_focusEventsAllowed",!0);dt(this,"_l10nPromise",null);le(this,O_,!1);le(this,fA,Kn._zIndex++);this.constructor===Kn&&Hn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,s];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Kn.prototype._resizeWithKeyboard,n=qp.TRANSLATE_SMALL,r=qp.TRANSLATE_BIG;return Sn(this,"_resizerKeyboardManager",new m1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Kn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Sn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new M8e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,r){if(Kn._l10nPromise||(Kn._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,s=>`-${s.toLowerCase()}`))]))),r!=null&&r.strings)for(const o of r.strings)Kn._l10nPromise.set(o,e.get(o));if(Kn._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Kn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Hn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return T(this,O_)}set _isDraggable(e){var n;ie(this,O_,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=T(this,fA)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ae(this,an,Yb).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(T(this,Vh)?ie(this,Vh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[o,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){ae(this,an,iF).call(this,this.parentDimensions,e,n)}translateInPage(e,n){T(this,Yd)||ie(this,Yd,[this.x,this.y]),ae(this,an,iF).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){T(this,Yd)||ie(this,Yd,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[a,l]=this.getBaseTranslation();o+=a,s+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!T(this,Yd)&&(T(this,Yd)[0]!==this.x||T(this,Yd)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Kn,i=r/e,o=r/n;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:o,width:s,height:a}=this;if(s*=n,a*=r,i*=n,o*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),o=Math.max(0,Math.min(r-a,o));break;case 90:i=Math.max(0,Math.min(n-a,i)),o=Math.min(r,Math.max(s,o));break;case 180:i=Math.min(n,Math.max(s,i)),o=Math.min(r,Math.max(a,o));break;case 270:i=Math.min(n,Math.max(a,i)),o=Math.max(0,Math.min(r-s,o));break}this.x=i/=n,this.y=o/=r;const[l,u]=this.getBaseTranslation();i+=l,o+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return ae(r=Kn,F_,oF).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return ae(r=Kn,F_,oF).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this,i=n*e,o=r*e;return Vo.isCSSRoundSupported?[Math.round(i),Math.round(o)]:[i,o]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,T(this,Bh)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),o=!T(this,Bh)&&n.endsWith("%");if(i&&o)return;const[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!T(this,Bh)&&!o&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=T(this,qi))==null||e.finish()}async addEditToolbar(){return T(this,ji)||T(this,Uh)?T(this,ji):(ie(this,ji,new GO(this)),this.div.append(T(this,ji).render()),T(this,qi)&&T(this,ji).addAltTextButton(await T(this,qi).render()),T(this,ji))}removeEditToolbar(){var e;T(this,ji)&&(T(this,ji).remove(),ie(this,ji,null),(e=T(this,qi))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){T(this,qi)||(HT.initialize(Kn._l10nPromise),ie(this,qi,new HT(this)),T(this,$h)&&(T(this,qi).data=T(this,$h),ie(this,$h,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=T(this,qi))==null?void 0:e.data}set altTextData(e){T(this,qi)&&(T(this,qi).data=e)}hasAltText(){var e;return!((e=T(this,qi))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=T(this,xy)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",T(this,Ey),{signal:e}),this.div.addEventListener("focusout",T(this,Sy),{signal:e});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),UT(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=Vo.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(ie(this,Vh,!0),this._isDraggable){ae(this,an,nie).call(this,e);return}ae(this,an,uF).call(this,e)}moveInDOM(){T(this,Ol)&&clearTimeout(T(this,Ol)),ie(this,Ol,setTimeout(()=>{var e;ie(this,Ol,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*o,f=this.y*s,p=this.width*o,m=this.height*s;switch(r){case 0:return[d+u+a,s-f-c-m+l,d+u+p+a,s-f-c+l];case 90:return[d+c+a,s-f+u+l,d+c+m+a,s-f+u+p+l];case 180:return[d-u-p+a,s-f+c+l,d-u+a,s-f+c+m+l];case 270:return[d-c-m+a,s-f-u-p+l,d-c+a,s-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,o,s]=e,a=o-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,a,l];case 90:return[r,n-i,l,a];case 180:return[o,n-i,a,l];case 270:return[o,n-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ie(this,Uh,!0)}disableEditMode(){ie(this,Uh,!1)}isInEditMode(){return T(this,Uh)}shouldGetKeyboardEvents(){return T(this,cc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,r;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",T(this,Ey),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",T(this,Sy),{signal:e})}rotate(e){}serialize(e=!1,n=null){Hn("An editor must be serializable")}static deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,ie(i,$h,e.accessibilityData);const[o,s]=i.pageDimensions,[a,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=l/s,i.width=u/o,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",T(this,Ey)),this.div.removeEventListener("focusout",T(this,Sy)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),T(this,Ol)&&(clearTimeout(T(this,Ol)),ie(this,Ol,null)),ae(this,an,Yb).call(this),this.removeEditToolbar(),T(this,qs)){for(const e of T(this,qs).values())clearTimeout(e);ie(this,qs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(ae(this,an,eie).call(this),T(this,Si).classList.remove("hidden"),UT(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ie(this,zh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=T(this,Si).children;if(!T(this,Oa)){ie(this,Oa,Array.from(n));const s=ae(this,an,rie).bind(this),a=ae(this,an,iie).bind(this),l=this._uiManager._signal;for(const u of T(this,Oa)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",ae(this,an,oie).bind(this,c),{signal:l}),Kn._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(d=>u.setAttribute("aria-label",d))}}const r=T(this,Oa)[0];let i=0;for(const s of n){if(s===r)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(T(this,Oa).length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)T(this,Si).append(T(this,Si).firstChild);else if(o>i)for(let a=0;a<o-i;a++)T(this,Si).firstChild.before(T(this,Si).lastChild);let s=0;for(const a of n){const u=T(this,Oa)[s++].getAttribute("data-resizer-name");Kn._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(c=>a.setAttribute("aria-label",c))}}ae(this,an,cF).call(this,0),ie(this,cc,!0),T(this,Si).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){T(this,cc)&&ae(this,an,lF).call(this,T(this,D_),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){ae(this,an,Yb).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!T(this,ji)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=T(this,ji))==null||i.show())});return}(n=T(this,ji))==null||n.show()}unselect(){var e,n,r,i;(e=T(this,Si))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=T(this,ji))==null||i.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return T(this,L_)}set isEditing(e){ie(this,L_,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){ie(this,Bh,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){T(this,qs)||ie(this,qs,new Map);const{action:r}=e;let i=T(this,qs).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),T(this,qs).delete(r),T(this,qs).size===0&&ie(this,qs,null)},Kn._telemetryTimeout),T(this,qs).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ie(this,xy,!1)}disable(){this.div&&(this.div.tabIndex=-1),ie(this,xy,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};$h=new WeakMap,Oa=new WeakMap,qi=new WeakMap,xy=new WeakMap,Bh=new WeakMap,Si=new WeakMap,zh=new WeakMap,Ey=new WeakMap,Sy=new WeakMap,ji=new WeakMap,D_=new WeakMap,Vh=new WeakMap,Yd=new WeakMap,L_=new WeakMap,Uh=new WeakMap,cc=new WeakMap,Ol=new WeakMap,Cy=new WeakMap,Ty=new WeakMap,qs=new WeakMap,O_=new WeakMap,fA=new WeakMap,an=new WeakSet,iF=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},F_=new WeakSet,oF=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},sF=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},eie=function(){if(T(this,Si))return;ie(this,Si,document.createElement("div")),T(this,Si).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");T(this,Si).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",ae(this,an,tie).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Go,{signal:n}),i.tabIndex=-1}this.div.prepend(T(this,Si))},tie=function(e,n){var y;n.preventDefault();const{isMac:r}=Vo.platform;if(n.button!==0||n.ctrlKey&&r)return;(y=T(this,qi))==null||y.toggle(!1);const i=ae(this,an,lF).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const s=this._uiManager._signal,a={passive:!0,capture:!0,signal:s};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Go,{signal:s});const l=this.x,u=this.y,c=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const m=()=>{var b;this.parent.togglePointerEvents(!0),(b=T(this,qi))==null||b.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Go),this.parent.div.style.cursor=f,this.div.style.cursor=p,ae(this,an,aF).call(this,l,u,c,d)};window.addEventListener("pointerup",m,{signal:s}),window.addEventListener("blur",m,{signal:s})},aF=function(e,n,r,i){const o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===n&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=o,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*a,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},lF=function(e,n){const[r,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,u=Kn.MIN_SIZE/r,c=Kn.MIN_SIZE/i,d=X=>Math.round(X*1e4)/1e4,f=ae(this,an,sF).call(this,this.rotation),p=(X,ee)=>[f[0]*X+f[2]*ee,f[1]*X+f[3]*ee],m=ae(this,an,sF).call(this,360-this.rotation),y=(X,ee)=>[m[0]*X+m[2]*ee,m[1]*X+m[3]*ee];let b,v,E=!1,x=!1;switch(e){case"topLeft":E=!0,b=(X,ee)=>[0,0],v=(X,ee)=>[X,ee];break;case"topMiddle":b=(X,ee)=>[X/2,0],v=(X,ee)=>[X/2,ee];break;case"topRight":E=!0,b=(X,ee)=>[X,0],v=(X,ee)=>[0,ee];break;case"middleRight":x=!0,b=(X,ee)=>[X,ee/2],v=(X,ee)=>[0,ee/2];break;case"bottomRight":E=!0,b=(X,ee)=>[X,ee],v=(X,ee)=>[0,0];break;case"bottomMiddle":b=(X,ee)=>[X/2,ee],v=(X,ee)=>[X/2,0];break;case"bottomLeft":E=!0,b=(X,ee)=>[0,ee],v=(X,ee)=>[X,0];break;case"middleLeft":x=!0,b=(X,ee)=>[0,ee/2],v=(X,ee)=>[X,ee/2];break}const C=b(a,l),k=v(a,l);let D=p(...k);const A=d(o+D[0]),P=d(s+D[1]);let M=1,I=1,[O,F]=this.screenToPageTranslation(n.movementX,n.movementY);if([O,F]=y(O/r,F/i),E){const X=Math.hypot(a,l);M=I=Math.max(Math.min(Math.hypot(k[0]-C[0]-O,k[1]-C[1]-F)/X,1/a,1/l),u/a,c/l)}else x?M=Math.max(u,Math.min(1,Math.abs(k[0]-C[0]-O)))/a:I=Math.max(c,Math.min(1,Math.abs(k[1]-C[1]-F)))/l;const $=d(a*M),L=d(l*I);D=p(...v($,L));const q=A-D[0],K=P-D[1];this.width=$,this.height=L,this.x=q,this.y=K,this.setDims(r*$,i*L),this.fixAndSetPosition()},uF=function(e){const{isMac:n}=Vo.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},nie=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const o=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:o},ie(this,Cy,e.clientX),ie(this,Ty,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[c,d]=this.screenToPageTranslation(l-T(this,Cy),u-T(this,Ty));ie(this,Cy,l),ie(this,Ty,u),this._uiManager.dragSelectedEditors(c,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),ie(this,Vh,!1),this._uiManager.endDragSession()||ae(this,an,uF).call(this,e)};window.addEventListener("pointerup",s,{signal:o}),window.addEventListener("blur",s,{signal:o})},rie=function(e){Kn._resizerKeyboardManager.exec(this,e)},iie=function(e){var n;T(this,cc)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==T(this,Si)&&ae(this,an,Yb).call(this)},oie=function(e){ie(this,D_,T(this,cc)?e:"")},cF=function(e){if(T(this,Oa))for(const n of T(this,Oa))n.tabIndex=e},Yb=function(){if(ie(this,cc,!1),ae(this,an,cF).call(this,-1),T(this,zh)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=T(this,zh);ae(this,an,aF).call(this,e,n,r,i),ie(this,zh,null)}},le(Kn,F_),dt(Kn,"_borderLineWidth",-1),dt(Kn,"_colorManager",new JO),dt(Kn,"_zIndex",1),dt(Kn,"_telemetryTimeout",1e3);let $n=Kn;class M8e extends $n{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const lG=3285377520,Vs=4294901760,Al=65535;class sie{constructor(e){this.h1=e?e&4294967295:lG,this.h2=e?e&4294967295:lG}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const v=e.charCodeAt(y);v<=255?n[r++]=v:(n[r++]=v>>>8,n[r++]=v&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,o=r-i*4,s=new Uint32Array(n.buffer,0,i);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,f=461845907,p=d&Al,m=f&Al;for(let y=0;y<i;y++)y&1?(a=s[y],a=a*d&Vs|a*p&Al,a=a<<15|a>>>17,a=a*f&Vs|a*m&Al,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[y],l=l*d&Vs|l*p&Al,l=l<<15|l>>>17,l=l*f&Vs|l*m&Al,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,o){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*d&Vs|a*p&Al,a=a<<15|a>>>17,a=a*f&Vs|a*m&Al,i&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Vs|e*36045&Al,n=n*4283543511&Vs|((n<<16|e>>>16)*2950163797&Vs)>>>16,e^=n>>>1,e=e*444984403&Vs|e*60499&Al,n=n*3301882366&Vs|((n<<16|e>>>16)*3120437893&Vs)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const dF=Object.freeze({map:null,hash:"",transfer:void 0});var Hh,Ci,hA,aie;class g${constructor(){le(this,hA);le(this,Hh,!1);le(this,Ci,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=T(this,Ci).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return T(this,Ci).get(e)}remove(e){if(T(this,Ci).delete(e),T(this,Ci).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of T(this,Ci).values())if(n instanceof $n)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=T(this,Ci).get(e);let i=!1;if(r!==void 0)for(const[o,s]of Object.entries(n))r[o]!==s&&(i=!0,r[o]=s);else i=!0,T(this,Ci).set(e,n);i&&ae(this,hA,aie).call(this),n instanceof $n&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return T(this,Ci).has(e)}getAll(){return T(this,Ci).size>0?l$(T(this,Ci)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return T(this,Ci).size}resetModified(){T(this,Hh)&&(ie(this,Hh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new lie(this)}get serializable(){if(T(this,Ci).size===0)return dF;const e=new Map,n=new sie,r=[],i=Object.create(null);let o=!1;for(const[s,a]of T(this,Ci)){const l=a instanceof $n?a.serialize(!1,i):a;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:dF}get editorStats(){let e=null;const n=new Map;for(const r of T(this,Ci).values()){if(!(r instanceof $n))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:o}=i;n.has(o)||n.set(o,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[o]||(e[o]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=s.get(a);u||(u=new Map,s.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Hh=new WeakMap,Ci=new WeakMap,hA=new WeakSet,aie=function(){T(this,Hh)||(ie(this,Hh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var $_;class lie extends g${constructor(n){super();le(this,$_);const{map:r,hash:i,transfer:o}=n.serializable,s=structuredClone(r,o?{transfer:o}:null);ie(this,$_,{map:s,hash:i,transfer:o})}get print(){Hn("Should not call PrintAnnotationStorage.print")}get serializable(){return T(this,$_)}}$_=new WeakMap;var Ay;class N8e{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){le(this,Ay,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),T(this,Ay).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||T(this,Ay).has(e.loadedName))){if(ii(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,s=new FontFace(r,i,o);this.addNativeFontFace(s);try{await s.load(),T(this,Ay).add(r),n==null||n(e)}catch{rn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Hn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw rn(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Sn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Qi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Sn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(ii(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const o=r.shift();setTimeout(o.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Sn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(C,k){return C.charCodeAt(k)<<24|C.charCodeAt(k+1)<<16|C.charCodeAt(k+2)<<8|C.charCodeAt(k+3)&255}function i(C,k,D,A){const P=C.substring(0,k),M=C.substring(k+D);return P+A+M}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(C,k){if(++u>30){rn("Load test font never loaded."),k();return}if(l.font="30px "+C,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(c.bind(null,C,k))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const m=16,y=1482184792;let b=r(f,m);for(o=0,s=d.length-3;o<s;o+=4)b=b-y+r(d,o)|0;o<d.length&&(b=b-y+r(d+"XXX",o)|0),f=i(f,m,4,m8e(b));const v=`url(data:font/opentype;base64,${btoa(f)});`,E=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(E);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const C of[e.loadedName,d]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=C,x.append(k)}this._document.body.append(x),c(d,()=>{x.remove(),n.complete()})}}Ay=new WeakMap;class D8e{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=kre(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${n}}`}return(i=this._inspectFont)==null||i.call(this,this,n),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(o){rn(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(o,s){};const i=[];for(let o=0,s=r.length;o<s;)switch(r[o++]){case Gu.BEZIER_CURVE_TO:{const[a,l,u,c,d,f]=r.slice(o,o+6);i.push(p=>p.bezierCurveTo(a,l,u,c,d,f)),o+=6}break;case Gu.MOVE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.moveTo(a,l)),o+=2}break;case Gu.LINE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.lineTo(a,l)),o+=2}break;case Gu.QUADRATIC_CURVE_TO:{const[a,l,u,c]=r.slice(o,o+4);i.push(d=>d.quadraticCurveTo(a,l,u,c)),o+=4}break;case Gu.RESTORE:i.push(a=>a.restore());break;case Gu.SAVE:i.push(a=>a.save());break;case Gu.SCALE:ii(i.length===2,"Scale command is only valid at the third position.");break;case Gu.TRANSFORM:{const[a,l,u,c,d,f]=r.slice(o,o+6);i.push(p=>p.transform(a,l,u,c,d,f)),o+=6}break;case Gu.TRANSLATE:{const[a,l]=r.slice(o,o+2);i.push(u=>u.translate(a,l)),o+=2}break}return this.compiledGlyphs[n]=function(s,a){i[0](s),i[1](s),s.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}if(Qi){var fF=Promise.withResolvers(),xw=null;(async()=>{const e=await Hb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Hb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Hb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Hb(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:o,path2d:s}))})().then(e=>{xw=e,fF.resolve()},e=>{rn(`loadPackages: ${e}`),xw=new Map,fF.resolve()})}class bu{static get promise(){return fF.promise}static get(e){return xw==null?void 0:xw.get(e)}}const uie=function(t){return bu.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class L8e extends ZR{}class O8e extends VT{_createCanvas(e,n){return bu.get("canvas").createCanvas(e,n)}}class F8e extends ek{_fetchData(e,n){return uie(e).then(r=>({cMapData:r,compressionType:n}))}}class $8e extends tk{_fetchData(e){return uie(e)}}const fo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hF(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class y1{constructor(){this.constructor===y1&&Hn("Cannot initialize BaseShadingPattern.")}getPattern(){Hn("Abstract method `getPattern` called.")}}class B8e extends y1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let o;if(i===fo.STROKE||i===fo.FILL){const s=n.current.getClippedPathBoundingBox(i,vr(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",a,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=Ct.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),hF(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),o=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);o.setTransform(d)}else hF(e,this._bbox),o=this._createGradient(e);return o}}function FN(t,e,n,r,i,o,s,a){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=o,o=s,s=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=s,s=a,a=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=o,o=s,s=f);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY;if(m>=E)return;const x=u[o],C=u[o+1],k=u[o+2],D=u[s],A=u[s+1],P=u[s+2],M=u[a],I=u[a+1],O=u[a+2],F=Math.round(m),$=Math.round(E);let L,q,K,X,ee,J,G,Y;for(let Z=F;Z<=$;Z++){if(Z<b){const ge=Z<m?0:(m-Z)/(m-b);L=p-(p-y)*ge,q=x-(x-D)*ge,K=C-(C-A)*ge,X=k-(k-P)*ge}else{let ge;Z>E?ge=1:b===E?ge=0:ge=(b-Z)/(b-E),L=y-(y-v)*ge,q=D-(D-M)*ge,K=A-(A-I)*ge,X=P-(P-O)*ge}let W;Z<m?W=0:Z>E?W=1:W=(m-Z)/(m-E),ee=p-(p-v)*W,J=x-(x-M)*W,G=C-(C-I)*W,Y=k-(k-O)*W;const oe=Math.round(Math.min(L,ee)),re=Math.round(Math.max(L,ee));let me=d*Z+oe*4;for(let ge=oe;ge<=re;ge++)W=(L-ge)/(L-ee),W<0?W=0:W>1&&(W=1),c[me++]=q-(q-J)*W|0,c[me++]=K-(K-G)*W|0,c[me++]=X-(X-Y)*W|0,c[me++]=255}}function z8e(t,e,n){const r=e.coords,i=e.colors;let o,s;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(o=0;o<l;o++){let c=o*a;for(let d=0;d<u;d++,c++)FN(t,n,r[c],r[c+1],r[c+a],i[c],i[c+1],i[c+a]),FN(t,n,r[c+a+1],r[c+1],r[c+a],i[c+a+1],i[c+1],i[c+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)FN(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class V8e extends y1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=u/d,m=c/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},b=d+2*2,v=f+2*2,E=r.getCanvas("mesh",b,v,!1),x=E.context,C=x.createImageData(d,f);if(n){const D=C.data;for(let A=0,P=D.length;A<P;A+=4)D[A]=n[0],D[A+1]=n[1],D[A+2]=n[2],D[A+3]=255}for(const D of this._figures)z8e(C,D,y);return x.putImageData(C,2,2),{canvas:E.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,n,r,i){hF(e,this._bbox);let o;if(i===fo.SHADING)o=Ct.singularValueDecompose2dScale(vr(e));else if(o=Ct.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=Ct.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}const s=this._createMeshCanvas(o,i===fo.SHADING?null:this._background,n.cachedCanvases);return i!==fo.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class U8e extends y1{getPattern(){return"hotpink"}}function H8e(t){switch(t[0]){case"RadialAxial":return new B8e(t);case"Mesh":return new V8e(t);case"Dummy":return new U8e}throw new Error(`Unknown IR type: ${t[0]}`)}const uG={COLORED:1,UNCOLORED:2},pA=class pA{constructor(e,n,r,i,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}createPatternCanvas(e){const n=this.operatorList,r=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;XR("TilingType: "+a);const c=r[0],d=r[1],f=r[2],p=r[3],m=Ct.singularValueDecompose2dScale(this.matrix),y=Ct.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*y[0],m[1]*y[1]],v=this.getSizeAndScale(i,this.ctx.canvas.width,b[0]),E=this.getSizeAndScale(o,this.ctx.canvas.height,b[1]),x=e.cachedCanvases.getCanvas("pattern",v.size,E.size,!0),C=x.context,k=u.createCanvasGraphics(C);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,s,l);let D=c,A=d,P=f,M=p;return c<0&&(D=0,P+=Math.abs(c)),d<0&&(A=0,M+=Math.abs(d)),C.translate(-(v.scale*D),-(E.scale*A)),k.transform(v.scale,0,0,E.scale,0,0),C.save(),this.clipBbox(k,D,A,P,M),k.baseTransform=vr(k.ctx),k.executeOperatorList(n),k.endDrawing(),{canvas:x.canvas,scaleX:v.scale,scaleY:E.scale,offsetX:D,offsetY:A}}getSizeAndScale(e,n,r){e=Math.abs(e);const i=Math.max(pA.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,i,o){const s=i-n,a=o-r;e.ctx.rect(n,r,s,a),e.current.updateRectMinMax(vr(e.ctx),[n,r,i,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,o=e.current;switch(n){case uG.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case uG.UNCOLORED:const a=Ct.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new g8e(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let o=r;i!==fo.SHADING&&(o=Ct.transform(o,n.baseTransform),this.matrix&&(o=Ct.transform(o,this.matrix)));const s=this.createPatternCanvas(n);let a=new DOMMatrix(o);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(a),l}};dt(pA,"MAX_PATTERN_SIZE",3e3);let pF=pA;function q8e({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){const a=Vo.isLittleEndian?4278190080:255,[l,u]=s?[o,a]:[a,o],c=r>>3,d=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const b=e+c;e<b;e++){const v=e<f?t[e]:255;n[p++]=v&128?u:l,n[p++]=v&64?u:l,n[p++]=v&32?u:l,n[p++]=v&16?u:l,n[p++]=v&8?u:l,n[p++]=v&4?u:l,n[p++]=v&2?u:l,n[p++]=v&1?u:l}if(d===0)continue;const y=e<f?t[e++]:255;for(let b=0;b<d;b++)n[p++]=y&1<<7-b?u:l}return{srcPos:e,destPos:p}}const cG=16,dG=100,j8e=15,fG=10,hG=1e3,Lo=16;function W8e(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,o,s,a,l){e.transform(r,i,o,s,a,l),this.__originalTransform(r,i,o,s,a,l)},t.setTransform=function(r,i,o,s,a,l){e.setTransform(r,i,o,s,a,l),this.__originalSetTransform(r,i,o,s,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,o,s,a){e.bezierCurveTo(n,r,i,o,s,a),this.__originalBezierCurveTo(n,r,i,o,s,a)},t.rect=function(n,r,i,o){e.rect(n,r,i,o),this.__originalRect(n,r,i,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class G8e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function ES(t,e,n,r,i,o,s,a,l,u){const[c,d,f,p,m,y]=vr(t);if(d===0&&f===0){const E=s*c+m,x=Math.round(E),C=a*p+y,k=Math.round(C),D=(s+l)*c+m,A=Math.abs(Math.round(D)-x)||1,P=(a+u)*p+y,M=Math.abs(Math.round(P)-k)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(p),x,k),t.drawImage(e,n,r,i,o,0,0,A,M),t.setTransform(c,d,f,p,m,y),[A,M]}if(c===0&&p===0){const E=a*f+m,x=Math.round(E),C=s*d+y,k=Math.round(C),D=(a+u)*f+m,A=Math.abs(Math.round(D)-x)||1,P=(s+l)*d+y,M=Math.abs(Math.round(P)-k)||1;return t.setTransform(0,Math.sign(d),Math.sign(f),0,x,k),t.drawImage(e,n,r,i,o,0,0,M,A),t.setTransform(c,d,f,p,m,y),[M,A]}t.drawImage(e,n,r,i,o,s,a,l,u);const b=Math.hypot(c,d),v=Math.hypot(f,p);return[b*l,v*u]}function K8e(t){const{width:e,height:n}=t;if(e>hG||n>hG)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let s=new Uint8Array(o*(n+1)),a,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),f=0;for(const v of t.data){let E=128;for(;E>0;)d[f++]=v&E?0:255,E>>=1}let p=0;for(f=0,d[f]!==0&&(s[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(s[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(s[l]=2,++p),a=1;a<n;a++){f=a*c,u=a*o,d[f-c]!==d[f]&&(s[u]=d[f]?1:8,++p);let v=(d[f]?4:0)+(d[f-c]?8:0);for(l=1;l<e;l++)v=(v>>2)+(d[f+1]?4:0)+(d[f-c+1]?8:0),i[v]&&(s[u+l]=i[v],++p),f++;if(d[f-c]!==d[f]&&(s[u+l]=d[f]?2:4,++p),p>r)return null}for(f=c*(n-1),u=a*o,d[f]!==0&&(s[u]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(s[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(s[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=n;a++){let v=a*o;const E=v+e;for(;v<E&&!s[v];)v++;if(v===E)continue;y.moveTo(v%o,a);const x=v;let C=s[v];do{const k=m[C];do v+=k;while(!s[v]);const D=s[v];D!==5&&D!==10?(C=D,s[v]=0):(C=D&51*C>>4,s[v]&=C>>2|C<<2),y.lineTo(v%o,v/o|0),s[v]||--p}while(x!==v);--a}return d=null,s=null,function(v){v.save(),v.scale(1/e,-1/n),v.translate(0,-n),v.fill(y),v.beginPath(),v.restore()}}class pG{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Are,this.textMatrixScale=1,this.fontMatrix=zO,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Vi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Ct.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Ct.applyTransform(n,e),i=Ct.applyTransform(n.slice(2),e),o=Ct.applyTransform([n[0],n[3]],e),s=Ct.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,n){Ct.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,o,s,a,l,u,c){const d=Ct.bezierBoundingBox(n,r,i,o,s,a,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=fo.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===fo.STROKE){n||Hn("Stroke bounding box must include transform.");const i=Ct.singularValueDecompose2dScale(n),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}updateClipFromPath(){const e=Ct.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=fo.FILL,n=null){return Ct.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function gG(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Lo,o=(n-i)/Lo,s=i===0?o:o+1,a=t.createImageData(r,Lo);let l=0,u;const c=e.data,d=a.data;let f,p,m,y;if(e.kind===fC.GRAYSCALE_1BPP){const b=c.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),E=v.length,x=r+7>>3,C=4294967295,k=Vo.isLittleEndian?4278190080:255;for(f=0;f<s;f++){for(m=f<o?Lo:i,u=0,p=0;p<m;p++){const D=b-l;let A=0;const P=D>x?r:D*8-7,M=P&-8;let I=0,O=0;for(;A<M;A+=8)O=c[l++],v[u++]=O&128?C:k,v[u++]=O&64?C:k,v[u++]=O&32?C:k,v[u++]=O&16?C:k,v[u++]=O&8?C:k,v[u++]=O&4?C:k,v[u++]=O&2?C:k,v[u++]=O&1?C:k;for(;A<P;A++)I===0&&(O=c[l++],I=128),v[u++]=O&I?C:k,I>>=1}for(;u<E;)v[u++]=0;t.putImageData(a,0,f*Lo)}}else if(e.kind===fC.RGBA_32BPP){for(p=0,y=r*Lo*4,f=0;f<o;f++)d.set(c.subarray(l,l+y)),l+=y,t.putImageData(a,0,p),p+=Lo;f<s&&(y=r*i*4,d.set(c.subarray(l,l+y)),t.putImageData(a,0,p))}else if(e.kind===fC.RGB_24BPP)for(m=Lo,y=r*m,f=0;f<s;f++){for(f>=o&&(m=i,y=r*m),u=0,p=y;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(a,0,f*Lo)}else throw new Error(`bad image kind: ${e.kind}`)}function mG(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Lo,o=(n-i)/Lo,s=i===0?o:o+1,a=t.createImageData(r,Lo);let l=0;const u=e.data,c=a.data;for(let d=0;d<s;d++){const f=d<o?Lo:i;({srcPos:l}=q8e({src:u,srcPos:l,dest:c,width:r,height:f,nonBlackColor:0})),t.putImageData(a,0,d*Lo)}}function hb(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function SS(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Qi){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function yG(t,e){if(e)return!0;const n=Ct.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Mf.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const Y8e=["butt","round","square"],X8e=["miter","round","bevel"],J8e={},vG={};var Lf,gF,mF;const W$=class W${constructor(e,n,r,i,o,{optionalContentConfig:s,markedContentStack:a=null},l,u){le(this,Lf);this.ctx=e,this.current=new pG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new G8e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...vr(this.compositeCtx))}this.ctx.save(),SS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=vr(this.ctx)}executeOperatorList(e,n,r,i){const o=e.argsArray,s=e.fnArray;let a=n||0;const l=o.length;if(l===a)return a;const u=l-a>fG&&typeof r=="function",c=u?Date.now()+j8e:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=s[a],m!==Pa.dependency)this[m].apply(this,o[a]);else for(const y of o[a]){const b=y.startsWith("g_")?f:p;if(!b.has(y))return b.get(y,r),a}if(a++,a===l)return a;if(u&&++d>fG){if(Date.now()>c)return r(),a;d=0}}}endDrawing(){ae(this,Lf,gF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),ae(this,Lf,mF).call(this)}_scaleImage(e,n){const r=e.width,i=e.height;let o=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,u="prescale1",c,d;for(;o>2&&a>1||s>2&&l>1;){let f=a,p=l;o>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/f),s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/p),c=this.cachedCanvases.getCanvas(u,f,p),d=c.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=c.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,a=vr(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const P=e.bitmap||e.data.buffer;u=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(P),l||(l=new Map,this._cachedBitmapsMap.set(P,l));const M=l.get(u);if(M&&!s){const I=Math.round(Math.min(a[0],a[2])+a[4]),O=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:I,offsetY:O}}c=M}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),mG(d.context,e));let f=Ct.transform(a,[1/r,0,0,-1/i,0,0]);f=Ct.transform(f,[1,0,0,1,0,-i]);const[p,m,y,b]=Ct.getAxialAlignedBoundingBox([0,0,r,i],f),v=Math.round(y-p)||1,E=Math.round(b-m)||1,x=this.cachedCanvases.getCanvas("fillCanvas",v,E),C=x.context,k=p,D=m;C.translate(-k,-D),C.transform(...f),c||(c=this._scaleImage(d.canvas,Ku(C)),c=c.img,l&&s&&l.set(u,c)),C.imageSmoothingEnabled=yG(vr(C),e.interpolate),ES(C,c,0,0,c.width,c.height,0,0,r,i),C.globalCompositeOperation="source-in";const A=Ct.transform(Ku(C),[1,0,0,1,-k,-D]);return C.fillStyle=s?o.getPattern(n,this,A,fo.FILL):o,C.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(k),offsetY:Math.round(D)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Y8e[e]}setLineJoin(e){this.ctx.lineJoin=X8e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...vr(this.suspendedCtx)),hb(this.suspendedCtx,o),W8e(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),hb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const o=i[0],s=i[1],a=i[2]-o,l=i[3]-s;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,o,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,o,s,a,l,u,c,d){let f=e.canvas,p=l-c,m=u-d;if(s){if(p<0||m<0||p+r>f.width||m+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),v=b.context;v.drawImage(f,-p,-m),s.some(E=>E!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=Ct.makeHexColor(...s),v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over"),f=b.canvas,p=m=0}else if(s.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,m,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=Ct.makeHexColor(...s),e.fillRect(p,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(f,p,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(hb(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),hb(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,o,s){this.ctx.transform(e,n,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,o=this.current;let s=o.x,a=o.y,l,u;const c=vr(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,f=d?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case Pa.rectangle:s=n[m++],a=n[m++];const b=n[m++],v=n[m++],E=s+b,x=a+v;i.moveTo(s,a),b===0||v===0?i.lineTo(E,x):(i.lineTo(E,a),i.lineTo(E,x),i.lineTo(s,x)),d||o.updateRectMinMax(c,[s,a,E,x]),i.closePath();break;case Pa.moveTo:s=n[m++],a=n[m++],i.moveTo(s,a),d||o.updatePathMinMax(c,s,a);break;case Pa.lineTo:s=n[m++],a=n[m++],i.lineTo(s,a),d||o.updatePathMinMax(c,s,a);break;case Pa.curveTo:l=s,u=a,s=n[m+4],a=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],s,a,f),m+=6;break;case Pa.curveTo2:l=s,u=a,i.bezierCurveTo(s,a,n[m],n[m+1],n[m+2],n[m+3]),o.updateCurvePathMinMax(c,l,u,s,a,n[m],n[m+1],n[m+2],n[m+3],f),s=n[m+2],a=n[m+3],m+=4;break;case Pa.curveTo3:l=s,u=a,s=n[m+2],a=n[m+3],i.bezierCurveTo(n[m],n[m+1],s,a,s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],s,a,s,a,f),m+=4;break;case Pa.closePath:i.closePath();break}d&&o.updateScalingPathMinMax(c,f),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,Ku(n),fo.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let o=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,Ku(n),fo.FILL),o=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=J8e}eoClip(){this.pendingClip=vG}beginText(){this.current.textMatrix=Are,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||zO,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&rn("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${o}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=n;n<cG?u=cG:n>dG&&(u=dG),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${a} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,o,s){this.current.textMatrix=[e,n,r,i,o,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&Vi.FILL_STROKE_MASK,d=!!(l&Vi.ADD_TO_PATH_FLAG),f=s.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(o.save(),o.translate(n,r),o.beginPath(),p(o,u),i&&o.setTransform(...i),(c===Vi.FILL||c===Vi.FILL_STROKE)&&o.fill(),(c===Vi.STROKE||c===Vi.FILL_STROKE)&&o.stroke(),o.restore()):((c===Vi.FILL||c===Vi.FILL_STROKE)&&o.fillText(e,n,r),(c===Vi.STROKE||c===Vi.FILL_STROKE)&&o.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:vr(o),x:n,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Sn(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const o=this.ctx,s=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,y=i*n.fontMatrix[0],b=n.textRenderingMode===Vi.FILL&&!r.disableFontFace&&!n.patternFill;o.save(),o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),u>0?o.scale(c,-1):o.scale(c,1);let v;if(n.patternFill){o.save();const D=n.fillColor.getPattern(o,this,Ku(o),fo.FILL);v=vr(o),o.restore(),o.fillStyle=D}let E=n.lineWidth;const x=n.textMatrixScale;if(x===0||E===0){const D=n.textRenderingMode&Vi.FILL_STROKE_MASK;(D===Vi.STROKE||D===Vi.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=x;if(s!==1&&(o.scale(s,s),E/=s),o.lineWidth=E,r.isInvalidPDFjsFont){const D=[];let A=0;for(const P of e)D.push(P.unicode),A+=P.width;o.fillText(D.join(""),0,0),n.x+=A*y*c,o.restore(),this.compose();return}let C=0,k;for(k=0;k<d;++k){const D=e[k];if(typeof D=="number"){C+=p*D*i/1e3;continue}let A=!1;const P=(D.isSpace?l:0)+a,M=D.fontChar,I=D.accent;let O,F,$=D.width;if(f){const q=D.vmetric||m,K=-(D.vmetric?q[1]:$*.5)*y,X=q[2]*y;$=q?-q[0]:$,O=K/s,F=(C+X)/s}else O=C/s,F=0;if(r.remeasure&&$>0){const q=o.measureText(M).width*1e3/i*s;if($<q&&this.isFontSubpixelAAEnabled){const K=$/q;A=!0,o.save(),o.scale(K,1),O/=K}else $!==q&&(O+=($-q)/2e3*i/s)}if(this.contentVisible&&(D.isInFont||r.missingFile)){if(b&&!I)o.fillText(M,O,F);else if(this.paintChar(M,O,F,v),I){const q=O+i*I.offset.x/s,K=F-i*I.offset.y/s;this.paintChar(I.fontChar,q,K,v)}}const L=f?$*y-P*u:$*y+P*u;C+=L,A&&o.restore()}f?n.y-=C:n.x+=C*c,o.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,d=r.fontMatrix||zO,f=e.length,p=r.textRenderingMode===Vi.INVISIBLE;let m,y,b,v;if(!(p||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),m=0;m<f;++m){if(y=e[m],typeof y=="number"){v=a*y*o/1e3,this.ctx.translate(v,0),r.x+=v*c;continue}const E=(y.isSpace?u:0)+l,x=i.charProcOperatorList[y.operatorListId];if(!x){rn(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),n.scale(o,o),n.transform(...d),this.executeOperatorList(x),this.restore()),b=Ct.applyTransform([y.width,0],d)[0]*o+E,n.translate(b,0),r.x+=b*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,o,s){this.ctx.rect(r,i,o-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||vr(this.ctx),o={createCanvasGraphics:s=>new W$(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new pF(e,r,this.ctx,o,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){const i=Ct.makeHexColor(e,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,n,r){const i=Ct.makeHexColor(e,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=H8e(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,Ku(n),fo.SHADING);const i=Ku(n);if(i){const{width:o,height:s}=n.canvas,[a,l,u,c]=Ct.getAxialAlignedBoundingBox([0,0,o,s],i);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Hn("Should not call beginInlineImage")}beginImageData(){Hn("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=vr(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(vr(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||XR("TODO: Support non-isolated groups."),e.knockout&&rn("Knockout groups not supported.");const r=vr(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ct.getAxialAlignedBoundingBox(e.bbox,vr(n));const o=[0,0,n.canvas.width,n.canvas.height];i=Ct.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),f=d.context;f.translate(-s,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,a),n.save()),hb(n,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=vr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const o=Ct.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,o){if(ae(this,Lf,gF).call(this),SS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=a;const[l,u]=Ct.singularValueDecompose2dScale(vr(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),f=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),SS(this.ctx)}else SS(this.ctx),this.ctx.rect(n[0],n[1],s,a),this.ctx.clip(),this.endPath()}this.current=new pG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ae(this,Lf,mF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=K8e(e)),i.compiled)){i.compiled(r);return}const o=this._createMaskCanvas(e),s=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=vr(a);a.transform(n,r,i,o,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=s.length;c<d;c+=2){const f=Ct.transform(l,[n,r,i,o,s[c],s[c+1]]),[p,m]=Ct.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const o of e){const{data:s,width:a,height:l,transform:u}=o,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const f=this.getObject(s,o);mG(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Ku(n),fo.FILL):r,d.fillRect(0,0,a,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),ES(n,c.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){rn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){rn("Dependent image isn't ready yet");return}const s=o.width,a=o.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!Qi){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;gG(l,e),o=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(o,Ku(i));i.imageSmoothingEnabled=yG(vr(i),e.interpolate),ES(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;gG(l,e),i=this.applyTransferMapsToCanvas(l)}for(const o of n)r.save(),r.transform(...o.transform),r.scale(1,-1),ES(r,i,o.x,o.y,o.w,o.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===vG?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=vr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:o}=this.ctx.getTransform();let s,a;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(o);if(l===u)if(e===0)s=a=1/l;else{const c=l*e;s=a=c<1?1/c:1}else if(e===0)s=1/l,a=1/u;else{const c=l*e,d=u*e;s=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(n*o-r*i),u=Math.hypot(n,r),c=Math.hypot(i,o);if(e===0)s=c/l,a=u/l;else{const d=e*l;s=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,o]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&o===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,o),s.length>0){const a=Math.max(i,o);n.setLineDash(s.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Lf=new WeakSet,gF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let dy=W$;for(const t in Pa)dy.prototype[t]!==void 0&&(dy.prototype[Pa[t]]=dy.prototype[t]);var B_,z_;class Lc{static get workerPort(){return T(this,B_)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ie(this,B_,e)}static get workerSrc(){return T(this,z_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ie(this,z_,e)}}B_=new WeakMap,z_=new WeakMap,le(Lc,B_,null),le(Lc,z_,"");const CS={DATA:1,ERROR:2},$r={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ls(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Hn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new hg(t.message);case"MissingPDFException":return new fg(t.message);case"PasswordException":return new UO(t.message,t.code);case"UnexpectedResponseException":return new JR(t.message,t.status);case"UnknownErrorException":return new HO(t.message,t.details);default:return new HO(t.message,t.toString())}}var du,cie,die,vC;class Xb{constructor(e,n,r){le(this,du);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const o=i.data;if(o.targetName!==this.sourceName)return;if(o.stream){ae(this,du,die).call(this,o);return}if(o.callback){const a=o.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],o.callback===CS.DATA)l.resolve(o.data);else if(o.callback===CS.ERROR)l.reject(ls(o.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[o.action];if(!s)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const a=this.sourceName,l=o.sourceName;new Promise(function(u){u(s(o.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:CS.DATA,callbackId:o.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:CS.ERROR,callbackId:o.callbackId,reason:ls(u)})});return}if(o.streamId){ae(this,du,cie).call(this,o);return}s(o.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,n,r,i){const o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[o]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[o].pullCall=c,l.postMessage({sourceName:s,targetName:a,stream:$r.PULL,streamId:o,desiredSize:u.desiredSize}),c.promise},cancel:u=>{ii(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[o].cancelCall=c,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:$r.CANCEL,streamId:o,reason:ls(u)}),c.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}du=new WeakSet,cie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:$r.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:$r.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){ii(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:$r.ERROR,streamId:n,reason:ls(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:$r.START_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:r,targetName:i,stream:$r.START_COMPLETE,streamId:n,reason:ls(u)})})},die=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case $r.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ls(e.reason));break;case $r.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ls(e.reason));break;case $r.PULL:if(!a){o.postMessage({sourceName:r,targetName:i,stream:$r.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:$r.PULL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:$r.PULL_COMPLETE,streamId:n,reason:ls(l)})});break;case $r.ENQUEUE:if(ii(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case $r.CLOSE:if(ii(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),ae(this,du,vC).call(this,s,n);break;case $r.ERROR:ii(s,"error should have stream controller"),s.controller.error(ls(e.reason)),ae(this,du,vC).call(this,s,n);break;case $r.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ls(e.reason)),ae(this,du,vC).call(this,s,n);break;case $r.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,ls(e.reason)))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:$r.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:$r.CANCEL_COMPLETE,streamId:n,reason:ls(l)})}),a.sinkCapability.reject(ls(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},vC=async function(e,n){var r,i,o;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var qh,V_;class Q8e{constructor({parsedData:e,rawData:n}){le(this,qh);le(this,V_);ie(this,qh,e),ie(this,V_,n)}getRaw(){return T(this,V_)}get(e){return T(this,qh).get(e)??null}getAll(){return l$(T(this,qh))}has(e){return T(this,qh).has(e)}}qh=new WeakMap,V_=new WeakMap;const Fd=Symbol("INTERNAL");var U_,H_,q_,Ry;class Z8e{constructor(e,{name:n,intent:r,usage:i}){le(this,U_,!1);le(this,H_,!1);le(this,q_,!1);le(this,Ry,!0);ie(this,U_,!!(e&Gs.DISPLAY)),ie(this,H_,!!(e&Gs.PRINT)),this.name=n,this.intent=r,this.usage=i}get visible(){if(T(this,q_))return T(this,Ry);if(!T(this,Ry))return!1;const{print:e,view:n}=this.usage;return T(this,U_)?(n==null?void 0:n.viewState)!=="OFF":T(this,H_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Fd&&Hn("Internal method `_setVisible` called."),ie(this,q_,r),ie(this,Ry,n)}}U_=new WeakMap,H_=new WeakMap,q_=new WeakMap,Ry=new WeakMap;var Xd,Un,ky,Iy,j_,yF;class eqe{constructor(e,n=Gs.DISPLAY){le(this,j_);le(this,Xd,null);le(this,Un,new Map);le(this,ky,null);le(this,Iy,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ie(this,Iy,e.order);for(const r of e.groups)T(this,Un).set(r.id,new Z8e(n,r));if(e.baseState==="OFF")for(const r of T(this,Un).values())r._setVisible(Fd,!1);for(const r of e.on)T(this,Un).get(r)._setVisible(Fd,!0);for(const r of e.off)T(this,Un).get(r)._setVisible(Fd,!1);ie(this,ky,this.getHash())}}isVisible(e){if(T(this,Un).size===0)return!0;if(!e)return XR("Optional content group not defined."),!0;if(e.type==="OCG")return T(this,Un).has(e.id)?T(this,Un).get(e.id).visible:(rn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ae(this,j_,yF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!T(this,Un).has(n))return rn(`Optional content group not found: ${n}`),!0;if(T(this,Un).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!T(this,Un).has(n))return rn(`Optional content group not found: ${n}`),!0;if(!T(this,Un).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!T(this,Un).has(n))return rn(`Optional content group not found: ${n}`),!0;if(!T(this,Un).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!T(this,Un).has(n))return rn(`Optional content group not found: ${n}`),!0;if(T(this,Un).get(n).visible)return!1}return!0}return rn(`Unknown optional content policy ${e.policy}.`),!0}return rn(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const r=T(this,Un).get(e);if(!r){rn(`Optional content group not found: ${e}`);return}r._setVisible(Fd,!!n,!0),ie(this,Xd,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const o=T(this,Un).get(i);if(o)switch(r){case"ON":o._setVisible(Fd,!0);break;case"OFF":o._setVisible(Fd,!1);break;case"Toggle":o._setVisible(Fd,!o.visible);break}}ie(this,Xd,null)}get hasInitialVisibility(){return T(this,ky)===null||this.getHash()===T(this,ky)}getOrder(){return T(this,Un).size?T(this,Iy)?T(this,Iy).slice():[...T(this,Un).keys()]:null}getGroups(){return T(this,Un).size>0?l$(T(this,Un)):null}getGroup(e){return T(this,Un).get(e)||null}getHash(){if(T(this,Xd)!==null)return T(this,Xd);const e=new sie;for(const[n,r]of T(this,Un))e.update(`${n}:${r.visible}`);return ie(this,Xd,e.hexdigest())}}Xd=new WeakMap,Un=new WeakMap,ky=new WeakMap,Iy=new WeakMap,j_=new WeakSet,yF=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const o=e[i];let s;if(Array.isArray(o))s=ae(this,j_,yF).call(this,o);else if(T(this,Un).has(o))s=T(this,Un).get(o).visible;else return rn(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class tqe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){ii(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});ii(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,o;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){ii(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new nqe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new rqe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class nqe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=h$(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rqe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function iqe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=a(n);return c=unescape(c),c=l(c),c=u(c),o(c)}if(n=s(t),n){const c=u(n);return o(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=a(n);return c=u(c),o(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(c,{fatal:!0}),p=QR(d);d=f.decode(p),e=!1}catch{}}return d}function o(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(c))!==null;){let[,y,b,v]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[b,v]}const m=[];for(let y=0;y<d.length&&y in d;++y){let[b,v]=d[y];v=a(v),b&&(v=unescape(v),y===0&&(v=l(v))),m.push(v)}return m.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const f=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(f,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function m$({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*n)||r||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function y$(t){const e=t("Content-Disposition");if(e){let n=iqe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(h$(n))return n}return null}function rk(t,e){return t===404||t===0&&e.startsWith("file:")?new fg('Missing PDF "'+e+'".'):new JR(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function fie(t){return t===200||t===206}function hie(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function pie(t){const e=new Headers;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function gie(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(rn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class bG{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ii(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oqe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new sqe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class oqe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=pie(this._stream.httpHeaders);const r=n.url;fetch(r,hie(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!fie(i.status))throw rk(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=l=>i.headers.get(l),{allowRangeRequests:s,suggestedLength:a}=m$({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=y$(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:gie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class sqe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=pie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,hie(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!fie(s.status))throw rk(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:gie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const $N=200,BN=206;function aqe(t){const e=t.response;return typeof e!="string"?e:QR(e).buffer}class lqe{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const o in r)i[o]=r[o];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const s=this.httpHeaders[o];s!==void 0&&n.setRequestHeader(o,s)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=BN):i.expectedStatus=$N,n.responseType="arraybuffer",e.onError&&(n.onerror=function(o){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const o=i.status||$N;if(!(o===$N&&r.expectedStatus===BN)&&o!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=aqe(i);if(o===BN){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class uqe{constructor(e){this._source=e,this._manager=new lqe(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return ii(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cqe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new dqe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class cqe{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=s=>n.getResponseHeader(s),{allowRangeRequests:i,suggestedLength:o}=m$({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=y$(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=rk(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dqe{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=rk(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const mie=/^file:\/\/\/[a-zA-Z]:\//;function fqe(t){const e=bu.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class hqe{constructor(e){this.source=e,this.url=fqe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ii(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mqe(this):new pqe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new yqe(this,e,n):new gqe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class yie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class vie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function qT(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class pqe extends yie{constructor(e){super(e);const n=r=>{if(r.statusCode===404){const a=new fg(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=m$({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=y$(i)};if(this._request=null,this._url.protocol==="http:"){const r=bu.get("http");this._request=r.request(qT(this._url,e.httpHeaders),n)}else{const r=bu.get("https");this._request=r.request(qT(this._url,e.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class gqe extends vie{constructor(e,n,r){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const s=e.httpHeaders[o];s!==void 0&&(this._httpHeaders[o]=s)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=o=>{if(o.statusCode===404){const s=new fg(`Missing PDF "${this._url}".`);this._storedError=s;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=bu.get("http");this._request=o.request(qT(this._url,this._httpHeaders),i)}else{const o=bu.get("https");this._request=o.request(qT(this._url,this._httpHeaders),i)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class mqe extends yie{constructor(e){super(e);let n=decodeURIComponent(this._url.path);mie.test(this._url.href)&&(n=n.replace(/^\//,""));const r=bu.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new fg(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class yqe extends vie{constructor(e,n,r){super(e);let i=decodeURIComponent(this._url.path);mie.test(this._url.href)&&(i=i.replace(/^\//,""));const o=bu.get("fs");this._setReadableStream(o.createReadStream(i,{start:n,end:r-1}))}}const vqe=1e5,Po=30,bqe=.8;var GY,Jd,Do,W_,G_,jh,dc,K_,Y_,Wh,Py,My,Qd,Ny,X_,Dy,Gh,J_,Q_,Kh,Yh,Zd,Ly,Kc,bie,wie,vF,fu,bC,_ie,xie;const Hi=class Hi{constructor({textContentSource:e,container:n,viewport:r}){le(this,Kc);le(this,Jd,Promise.withResolvers());le(this,Do,null);le(this,W_,!1);le(this,G_,!!((GY=globalThis.FontInspector)!=null&&GY.enabled));le(this,jh,null);le(this,dc,null);le(this,K_,0);le(this,Y_,0);le(this,Wh,null);le(this,Py,null);le(this,My,0);le(this,Qd,0);le(this,Ny,Object.create(null));le(this,X_,[]);le(this,Dy,null);le(this,Gh,[]);le(this,J_,new WeakMap);le(this,Q_,null);var l;if(e instanceof ReadableStream)ie(this,Dy,e);else if(typeof e=="object")ie(this,Dy,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');ie(this,Do,ie(this,Py,n)),ie(this,Qd,r.scale*(globalThis.devicePixelRatio||1)),ie(this,My,r.rotation),ie(this,dc,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=r.rawDims;ie(this,Q_,[1,0,0,-1,-s,a+o]),ie(this,Y_,i),ie(this,K_,o),ae(l=Hi,fu,_ie).call(l),Hp(n,r),T(this,Jd).promise.catch(()=>{}).then(()=>{T(Hi,Ly).delete(this),ie(this,dc,null),ie(this,Ny,null)})}render(){const e=()=>{T(this,Wh).read().then(({value:n,done:r})=>{if(r){T(this,Jd).resolve();return}T(this,jh)??ie(this,jh,n.lang),Object.assign(T(this,Ny),n.styles),ae(this,Kc,bie).call(this,n.items),e()},T(this,Jd).reject)};return ie(this,Wh,T(this,Dy).getReader()),T(Hi,Ly).add(this),e(),T(this,Jd).promise}update({viewport:e,onBefore:n=null}){var o;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==T(this,My)&&(n==null||n(),ie(this,My,i),Hp(T(this,Py),{rotation:i})),r!==T(this,Qd)){n==null||n(),ie(this,Qd,r);const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:ae(o=Hi,fu,bC).call(o,T(this,jh))};for(const a of T(this,Gh))s.properties=T(this,J_).get(a),s.div=a,ae(this,Kc,vF).call(this,s)}}cancel(){var n;const e=new hg("TextLayer task cancelled.");(n=T(this,Wh))==null||n.cancel(e).catch(()=>{}),ie(this,Wh,null),T(this,Jd).reject(e)}get textDivs(){return T(this,Gh)}get textContentItemsStr(){return T(this,X_)}static cleanup(){if(!(T(this,Ly).size>0)){T(this,Kh).clear();for(const{canvas:e}of T(this,Yh).values())e.remove();T(this,Yh).clear()}}};Jd=new WeakMap,Do=new WeakMap,W_=new WeakMap,G_=new WeakMap,jh=new WeakMap,dc=new WeakMap,K_=new WeakMap,Y_=new WeakMap,Wh=new WeakMap,Py=new WeakMap,My=new WeakMap,Qd=new WeakMap,Ny=new WeakMap,X_=new WeakMap,Dy=new WeakMap,Gh=new WeakMap,J_=new WeakMap,Q_=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,Zd=new WeakMap,Ly=new WeakMap,Kc=new WeakSet,bie=function(e){var i,o;if(T(this,W_))return;(o=T(this,dc)).ctx??(o.ctx=ae(i=Hi,fu,bC).call(i,T(this,jh)));const n=T(this,Gh),r=T(this,X_);for(const s of e){if(n.length>vqe){rn("Ignoring additional textDivs for performance reasons."),ie(this,W_,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=T(this,Do);ie(this,Do,document.createElement("span")),T(this,Do).classList.add("markedContent"),s.id!==null&&T(this,Do).setAttribute("id",`${s.id}`),a.append(T(this,Do))}else s.type==="endMarkedContent"&&ie(this,Do,T(this,Do).parentNode);continue}r.push(s.str),ae(this,Kc,wie).call(this,s)}},wie=function(e){var y;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};T(this,Gh).push(n);const i=Ct.transform(T(this,Q_),e.transform);let o=Math.atan2(i[1],i[0]);const s=T(this,Ny)[e.fontName];s.vertical&&(o+=Math.PI/2);const a=T(this,G_)&&s.fontSubstitution||s.fontFamily,l=Math.hypot(i[2],i[3]),u=l*ae(y=Hi,fu,xie).call(y,a,T(this,jh));let c,d;o===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(o),d=i[5]-u*Math.cos(o));const f="calc(var(--scale-factor)*",p=n.style;T(this,Do)===T(this,Py)?(p.left=`${(100*c/T(this,Y_)).toFixed(2)}%`,p.top=`${(100*d/T(this,K_)).toFixed(2)}%`):(p.left=`${f}${c.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(T(Hi,Zd)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,T(this,G_)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(m=!0)}if(m&&(r.canvasWidth=s.vertical?e.height:e.width),T(this,J_).set(n,r),T(this,dc).div=n,T(this,dc).properties=r,ae(this,Kc,vF).call(this,T(this,dc)),r.hasText&&T(this,Do).append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),T(this,Do).append(b)}},vF=function(e){const{div:n,properties:r,ctx:i,prevFontSize:o,prevFontFamily:s}=e,{style:a}=n;let l="";if(T(Hi,Zd)>1&&(l=`scale(${1/T(Hi,Zd)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:d}=r;(o!==d||s!==u)&&(i.font=`${d*T(this,Qd)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:f}=i.measureText(n.textContent);f>0&&(l=`scaleX(${c*T(this,Qd)/f}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},fu=new WeakSet,bC=function(e=null){let n=T(this,Yh).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),T(this,Yh).set(e,n)}return n},_ie=function(){if(T(this,Zd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),ie(this,Zd,e.getBoundingClientRect().height),e.remove()},xie=function(e,n){const r=T(this,Kh).get(e);if(r)return r;const i=ae(this,fu,bC).call(this,n),o=i.font;i.canvas.width=i.canvas.height=Po,i.font=`${Po}px ${e}`;const s=i.measureText("");let a=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(a){const d=a/(a+l);return T(this,Kh).set(e,d),i.canvas.width=i.canvas.height=0,i.font=o,d}i.strokeStyle="red",i.clearRect(0,0,Po,Po),i.strokeText("g",0,0);let u=i.getImageData(0,0,Po,Po).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/Po);break}i.clearRect(0,0,Po,Po),i.strokeText("A",0,Po),u=i.getImageData(0,0,Po,Po).data,a=0;for(let d=0,f=u.length;d<f;d+=4)if(u[d]>0){a=Po-Math.floor(d/4/Po);break}i.canvas.width=i.canvas.height=0,i.font=o;const c=a?a/(a+l):bqe;return T(this,Kh).set(e,c),c},le(Hi,fu),le(Hi,Kh,new Map),le(Hi,Yh,new Map),le(Hi,Zd,null),le(Hi,Ly,new Set);let Bv=Hi;function wqe(){Dre("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&rn("Ignoring `renderTextLayer` parameters: "+i.join(", "));const o=new Bv({textContentSource:t,container:e,viewport:n}),{textDivs:s,textContentItemsStr:a}=o;return{promise:o.render(),textDivs:s,textContentItemsStr:a}}function _qe(){Dre("`updateTextLayer`, please use `TextLayer` instead.")}class o_{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(o){var l;if(!o)return;let s=null;const a=o.name;if(a==="#text")s=o.value;else if(o_.shouldBuildText(a))(l=o==null?void 0:o.attributes)!=null&&l.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&n.push({str:s}),!!o.children)for(const u of o.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const xqe=65536,Eqe=100,Sqe=5e3,Cqe=Qi?O8e:E8e,Tqe=Qi?F8e:Mre,Aqe=Qi?L8e:x8e,Rqe=Qi?$8e:Nre;function kqe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new bF,{docId:n}=e,r=t.url?Iqe(t.url):null,i=t.data?Pqe(t.data):null,o=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,l=t.range instanceof Eie?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:xqe;let c=t.worker instanceof fy?t.worker:null;const d=t.verbosity,f=typeof t.docBaseUrl=="string"&&!f$(t.docBaseUrl)?t.docBaseUrl:null,p=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,y=t.CMapReaderFactory||Tqe,b=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,v=t.StandardFontDataFactory||Rqe,E=t.stopAtErrors!==!0,x=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,C=t.isEvalSupported!==!1,k=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Qi,D=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,A=typeof t.disableFontFace=="boolean"?t.disableFontFace:Qi,P=t.fontExtraProperties===!0,M=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,O=t.disableRange===!0,F=t.disableStream===!0,$=t.disableAutoFetch===!0,L=t.pdfBug===!0,q=t.enableHWA===!0,K=l?l.length:t.length??NaN,X=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Qi&&!A,ee=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:y===Mre&&v===Nre&&p&&b&&Gb(p,document.baseURI)&&Gb(b,document.baseURI),J=t.canvasFactory||new Cqe({ownerDocument:I,enableHWA:q}),G=t.filterFactory||new Aqe({docId:n,ownerDocument:I}),Y=null;d8e(d);const Z={canvasFactory:J,filterFactory:G};if(ee||(Z.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),Z.standardFontDataFactory=new v({baseUrl:b})),!c){const re={verbosity:d,port:Lc.workerPort};c=re.port?fy.fromPort(re):new fy(re),e._worker=c}const W={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:$,rangeChunkSize:u,length:K,docBaseUrl:f,enableXfa:M,evaluatorOptions:{maxImageSize:x,disableFontFace:A,ignoreErrors:E,isEvalSupported:C,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:D,fontExtraProperties:P,useSystemFonts:X,cMapUrl:ee?p:null,standardFontDataUrl:ee?b:null}},oe={disableFontFace:A,fontExtraProperties:P,ownerDocument:I,pdfBug:L,styleElement:Y,loadingParams:{disableAutoFetch:$,enableXfa:M}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const re=c.messageHandler.sendWithPromise("GetDocRequest",W,i?[i.buffer]:null);let me;if(l)me=new tqe(l,{disableRange:O,disableStream:F});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");me=(ce=>Qi?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Gb(ce.url)?new bG(ce):new hqe(ce):Gb(ce.url)?new bG(ce):new uqe(ce))({url:r,length:K,httpHeaders:o,withCredentials:s,rangeChunkSize:u,disableRange:O,disableStream:F})}return re.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ce=new Xb(n,ge,c.port),he=new Lqe(ce,e,me,oe,Z);e._transport=he,ce.send("Ready",null)})}).catch(e._capability.reject),e}function Iqe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Qi&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Pqe(t){if(Qi&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return QR(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function wG(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var gA;const mA=class mA{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${as(mA,gA)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};gA=new WeakMap,le(mA,gA,0);let bF=mA;class Eie{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Hn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Mqe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Sn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ef,fc,Qs,Km,wC;class Nqe{constructor(e,n,r,i=!1){le(this,Qs);le(this,ef,null);le(this,fc,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new sG:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new Sie,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new g1({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Sn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=Hd.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null}){var x,C;(x=this._stats)==null||x.time("Overall");const d=this._transport.getRenderingIntent(r,i,c),{renderingIntent:f,cacheKey:p}=d;ie(this,fc,!1),ae(this,Qs,wC).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(f&Gs.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(d));const b=k=>{var D;m.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&ie(this,fc,!0),ae(this,Qs,Km).call(this,!y),k?(v.capability.reject(k),this._abortOperatorList({intentState:m,reason:k instanceof Error?k:new Error(k)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new _F({callback:b,params:{canvasContext:e,viewport:n,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(v);const E=v.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([k,D])=>{var A;if(this.destroyed){b();return}if((A=this._stats)==null||A.time("Rendering"),!(D.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:k,optionalContentConfig:D}),v.operatorListChanged()}).catch(b),E}getOperatorList({intent:e="display",annotationMode:n=Hd.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))}const o=this._transport.getRenderingIntent(e,n,r,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let a;return s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>o_.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function o(){s.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},i)}const s=n.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),ie(this,fc,!1),ae(this,Qs,wC).call(this),Promise.all(e)}cleanup(e=!1){ie(this,fc,!0);const n=ae(this,Qs,Km).call(this,!1);return e&&n&&this._stats&&(this._stats=new sG),n}_startRenderPage(e,n){var i,o;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=r.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&ae(this,Qs,Km).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:o}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},o).getReader(),l=this._intentStates.get(n);l.streamReader=a;const u=()=>{a.read().then(({value:c,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,l),u())},c=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();ae(this,Qs,Km).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(c);else if(l.opListReadCapability)l.opListReadCapability.reject(c);else throw c}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof d$){let i=Eqe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new hg(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ef=new WeakMap,fc=new WeakMap,Qs=new WeakSet,Km=function(e=!1){if(ae(this,Qs,wC).call(this),!T(this,fc)||this.destroyed)return!1;if(e)return ie(this,ef,setTimeout(()=>{ie(this,ef,null),ae(this,Qs,Km).call(this,!1)},Sqe)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ie(this,fc,!1),!0},wC=function(){T(this,ef)&&(clearTimeout(T(this,ef)),ie(this,ef,null))};var Xh,yA;class Dqe{constructor(){le(this,Xh,new Set);le(this,yA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};T(this,yA).then(()=>{for(const i of T(this,Xh))i.call(this,r)})}addEventListener(e,n){T(this,Xh).add(n)}removeEventListener(e,n){T(this,Xh).delete(n)}terminate(){T(this,Xh).clear()}}Xh=new WeakMap,yA=new WeakMap;const nc={isWorkerDisabled:!1,fakeWorkerId:0};Qi&&(nc.isWorkerDisabled=!0,Lc.workerSrc||(Lc.workerSrc="./pdf.worker.mjs")),nc.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},nc.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Jh,Oy,_C,Fy,xC;const ds=class ds{constructor({name:e=null,port:n=null,verbosity:r=f8e()}={}){le(this,Oy);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=T(ds,Jh))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(T(ds,Jh)||ie(ds,Jh,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Qi?Promise.all([bu.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Xb("main","worker",e),this._messageHandler.on("ready",function(){}),ae(this,Oy,_C).call(this)}_initialize(){if(nc.isWorkerDisabled||T(ds,Fy,xC)){this._setupFakeWorker();return}let{workerSrc:e}=ds;try{nc.isSameOrigin(window.location.href,e)||(e=nc.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Xb("main","worker",n),i=()=>{o.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),r.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,ae(this,Oy,_C).call(this)}),r.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{XR("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){nc.isWorkerDisabled||(rn("Setting up fake worker."),nc.isWorkerDisabled=!0),ds._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new Dqe;this._port=n;const r=`fake${nc.fakeWorkerId++}`,i=new Xb(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new Xb(r,r+"_worker",n),ae(this,Oy,_C).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=T(ds,Jh))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=T(this,Jh))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ds(e)}static get workerSrc(){if(Lc.workerSrc)return Lc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Sn(this,"_setupFakeWorkerGlobal",(async()=>T(this,Fy,xC)?T(this,Fy,xC):(await import(this.workerSrc)).WorkerMessageHandler)())}};Jh=new WeakMap,Oy=new WeakSet,_C=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Fy=new WeakSet,xC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},le(ds,Fy),le(ds,Jh);let fy=ds;var hc,Fl,$y,By,$l,Qh,Jb;class Lqe{constructor(e,n,r,i,o){le(this,Qh);le(this,hc,new Map);le(this,Fl,new Map);le(this,$y,new Map);le(this,By,new Map);le(this,$l,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new Sie,this.fontLoader=new N8e({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Sn(this,"annotationStorage",new g$)}getRenderingIntent(e,n=Hd.ENABLE,r=null,i=!1){let o=Gs.DISPLAY,s=dF;switch(e){case"any":o=Gs.ANY;break;case"display":break;case"print":o=Gs.PRINT;break;default:rn(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case Hd.DISABLE:o+=Gs.ANNOTATIONS_DISABLE;break;case Hd.ENABLE:break;case Hd.ENABLE_FORMS:o+=Gs.ANNOTATIONS_FORMS;break;case Hd.ENABLE_STORAGE:o+=Gs.ANNOTATIONS_STORAGE,s=(o&Gs.PRINT&&r instanceof lie?r:this.annotationStorage).serializable;break;default:rn(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(o+=Gs.OPLIST),{renderingIntent:o,cacheKey:`${o}_${s.hash}`,annotationStorageSerializable:s}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=T(this,$l))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of T(this,Fl).values())e.push(i._destroy());T(this,Fl).clear(),T(this,$y).clear(),T(this,By).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),T(this,hc).clear(),this.filterFactory.destroy(),Bv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new hg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{ii(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}ii(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var s;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((s=n.onProgress)==null||s.call(n,this._lastProgress)),o.onProgress=a=>{var l;(l=n.onProgress)==null||l.call(n,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{ii(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}ii(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Mqe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new UO(r.message,r.code);break;case"InvalidPDFException":i=new Rre(r.message);break;case"MissingPDFException":i=new fg(r.message);break;case"UnexpectedResponseException":i=new JR(r.message,r.status);break;case"UnknownErrorException":i=new HO(r.message,r.details);break;default:Hn("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(ie(this,$l,Promise.withResolvers()),n.onPassword){const i=o=>{o instanceof Error?T(this,$l).reject(o):T(this,$l).resolve({password:o})};try{n.onPassword(i,r.code)}catch(o){T(this,$l).reject(o)}}else T(this,$l).reject(new UO(r.message,r.code));return T(this,$l).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;T(this,Fl).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in o){const p=o.error;rn(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new D8e(o,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=o;ii(f,"The imageRef must be defined.");for(const p of T(this,Fl).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,s])=>{var l;if(this.destroyed)return;const a=T(this,Fl).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(o){case"Image":a.objs.resolve(r,s),(s==null?void 0:s.dataLen)>a8e&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&rn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=T(this,$y).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&T(this,By).set(o.refStr,e);const s=new Nqe(n,o,this,this._params.pdfBug);return T(this,Fl).set(n,s),s});return T(this,$y).set(n,i),i}getPageIndex(e){return wG(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return ae(this,Qh,Jb).call(this,"GetFieldObjects")}hasJSActions(){return ae(this,Qh,Jb).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ae(this,Qh,Jb).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ae(this,Qh,Jb).call(this,"GetOptionalContentConfig").then(n=>new eqe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=T(this,hc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var o,s;return{info:i[0],metadata:i[1]?new Q8e(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return T(this,hc).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of T(this,Fl).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),T(this,hc).clear(),this.filterFactory.destroy(!0),Bv.cleanup()}}cachedPageNumber(e){if(!wG(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return T(this,By).get(n)??null}}hc=new WeakMap,Fl=new WeakMap,$y=new WeakMap,By=new WeakMap,$l=new WeakMap,Qh=new WeakSet,Jb=function(e,n=null){const r=T(this,hc).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return T(this,hc).set(e,i),i};const TS=Symbol("INITIAL_DATA");var Fa,Z_,wF;class Sie{constructor(){le(this,Z_);le(this,Fa,Object.create(null))}get(e,n=null){if(n){const i=ae(this,Z_,wF).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=T(this,Fa)[e];if(!r||r.data===TS)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=T(this,Fa)[e];return!!n&&n.data!==TS}resolve(e,n=null){const r=ae(this,Z_,wF).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in T(this,Fa)){const{data:r}=T(this,Fa)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}ie(this,Fa,Object.create(null))}*[Symbol.iterator](){for(const e in T(this,Fa)){const{data:n}=T(this,Fa)[e];n!==TS&&(yield[e,n])}}}Fa=new WeakMap,Z_=new WeakSet,wF=function(e){var n;return(n=T(this,Fa))[e]||(n[e]={...Promise.withResolvers(),data:TS})};var tf;class Oqe{constructor(e){le(this,tf,null);ie(this,tf,e),this.onContinue=null}get promise(){return T(this,tf).capability.promise}cancel(e=0){T(this,tf).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=T(this,tf).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=T(this,tf);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}tf=new WeakMap;var nf,Zh;const _h=class _h{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:f=null}){le(this,nf,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Oqe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(T(_h,Zh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");T(_h,Zh).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new dy(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),T(this,nf)&&(window.cancelAnimationFrame(T(this,nf)),ie(this,nf,null)),T(_h,Zh).delete(this._canvas),this.callback(e||new d$(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ie(this,nf,window.requestAnimationFrame(()=>{ie(this,nf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),T(_h,Zh).delete(this._canvas),this.callback())))}};nf=new WeakMap,Zh=new WeakMap,le(_h,Zh,new WeakSet);let _F=_h;const Fqe="4.4.168",$qe="19fbc8998";function _G(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function pb(t){return Math.max(0,Math.min(255,255*t))}class xG{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=pb(e),[e,e,e]}static G_HTML([e]){const n=_G(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(pb)}static RGB_HTML(e){return`#${e.map(_G).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[pb(1-Math.min(1,e+i)),pb(1-Math.min(1,r+i)),pb(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,o=1-n,s=1-r,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}}class Cie{static setupStorage(e,n,r,i,o){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:o}){const{attributes:s}=n,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&o.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var d,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});const a=o!=="richText",l=e.div;if(l.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),a&&o_.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[p,m,y]=c.at(-1);if(m+1===p.children.length){c.pop();continue}const b=p.children[++c.at(-1)[1]];if(b===null)continue;const{name:v}=b;if(v==="#text"){const x=document.createTextNode(b.value);u.push(x),y.append(x);continue}const E=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(y.append(E),b.attributes&&this.setAttributes({html:E,element:b,storage:n,intent:o,linkService:r}),((f=b.children)==null?void 0:f.length)>0)c.push([b,-1,E]);else if(b.value){const x=document.createTextNode(b.value);a&&o_.shouldBuildText(v)&&u.push(x),E.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const v1=1e3,Bqe=9,jp=new WeakSet;function Oc(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class zqe{static create(e){switch(e.data.annotationType){case Qr.LINK:return new Tie(e);case Qr.TEXT:return new Vqe(e);case Qr.WIDGET:switch(e.data.fieldType){case"Tx":return new Uqe(e);case"Btn":return e.data.radioButton?new kie(e):e.data.checkBox?new qqe(e):new jqe(e);case"Ch":return new Wqe(e);case"Sig":return new Hqe(e)}return new pg(e);case Qr.POPUP:return new EF(e);case Qr.FREETEXT:return new Die(e);case Qr.LINE:return new Kqe(e);case Qr.SQUARE:return new Yqe(e);case Qr.CIRCLE:return new Xqe(e);case Qr.POLYLINE:return new Lie(e);case Qr.CARET:return new Qqe(e);case Qr.INK:return new Oie(e);case Qr.POLYGON:return new Jqe(e);case Qr.HIGHLIGHT:return new Zqe(e);case Qr.UNDERLINE:return new eje(e);case Qr.SQUIGGLY:return new tje(e);case Qr.STRIKEOUT:return new nje(e);case Qr.STAMP:return new Fie(e);case Qr.FILEATTACHMENT:return new rje(e);default:return new Nr(e)}}}var ep,zy,Vy,ex,xF;const G$=class G${constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){le(this,ex);le(this,ep,null);le(this,zy,!1);le(this,Vy,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get hasPopupData(){return G$._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;T(this,ep)||ie(this,ep,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&ae(this,ex,xF).call(this,n),(r=T(this,Vy))==null||r.popup.updateEdited(e)}resetEdited(){var e;T(this,ep)&&(ae(this,ex,xF).call(this,T(this,ep).rect),(e=T(this,Vy))==null||e.popup.resetEdited(),ie(this,ep,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),this instanceof pg||(o.tabIndex=v1);const{style:s}=o;if(s.zIndex=this.parent.zIndex++,n.popupRef&&o.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof EF){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,o),o}const{width:a,height:l}=Oc(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(y>0||b>0){const E=`calc(${y}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;s.borderRadius=E}else if(this instanceof kie){const E=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=E}switch(n.borderStyle.style){case fb.SOLID:s.borderStyle="solid";break;case fb.DASHED:s.borderStyle="dashed";break;case fb.BEVELED:rn("Unimplemented border style: beveled");break;case fb.INSET:rn("Unimplemented border style: inset");break;case fb.UNDERLINE:s.borderBottomStyle="solid";break}const v=n.borderColor||null;v?(ie(this,zy,!0),s.borderColor=Ct.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):s.borderWidth=0}const u=Ct.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:f,pageY:p}=i.rawDims;s.left=`${100*(u[0]-f)/c}%`,s.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(s.width=`${100*a/c}%`,s.height=`${100*l/d}%`):this.setRotation(m,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=Oc(this.data.rect);let a,l;e%180===0?(a=100*o/r,l=100*s/i):(a=100*s/r,l=100*o/i),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const o=i.detail[n],s=o[0],a=o.slice(1);i.target.style[r]=xG[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:xG[`${s}_rgb`](a)})};return Sn(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const o=e[i]||r[i];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,o]of Object.entries(n)){const s=r[i];if(s){const a={detail:{[i]:o},target:e};s(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,o]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,v,E]=e.subarray(2,6);if(i===y&&o===b&&n===v&&r===E)return}const{style:s}=this.container;let a;if(T(this,zy)){const{borderColor:y,borderWidth:b}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,u=o-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=c.createElement("defs");d.append(f);const p=c.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,b=e.length;y<b;y+=8){const v=e[y],E=e[y+1],x=e[y+2],C=e[y+3],k=c.createElement("rect"),D=(x-n)/l,A=(o-E)/u,P=(v-x)/l,M=(E-C)/u;k.setAttribute("x",D),k.setAttribute("y",A),k.setAttribute("width",P),k.setAttribute("height",M),p.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${A}" width="${P}" height="${M}"/>`)}T(this,zy)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const r=ie(this,Vy,new EF({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Hn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:o,id:s,exportValues:a}of i){if(o===-1||s===n)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!jp.has(u)){rn(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==n&&jp.has(i)&&r.push({id:s,exportValue:o,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};ep=new WeakMap,zy=new WeakMap,Vy=new WeakMap,ex=new WeakSet,xF=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Oc(e);n.left=`${100*(e[0]-a)/o}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/o}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let Nr=G$;var _s,mh,Aie,Rie;class Tie extends Nr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});le(this,_s);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action),o=!0):n.attachment?(ae(this,_s,Aie).call(this,i,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(ae(this,_s,Rie).call(this,i,n.setOCGState),o=!0):n.dest?(this._bindLink(i,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&ae(this,_s,mh).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),ae(this,_s,mh).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(r.actions)){const s=i.get(o);s&&(n[s]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:o}}),!1})}n.onclick||(n.onclick=()=>!1),ae(this,_s,mh).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),ae(this,_s,mh).call(this),!this._fieldObjects){rn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:o,refs:s,include:a}=r,l=[];if(o.length!==0||s.length!==0){const f=new Set(s);for(const p of o){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,c=[];for(const f of l){const{id:p}=f;switch(c.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!jp.has(m)){rn(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}_s=new WeakSet,mh=function(){this.container.setAttribute("data-internal-link","")},Aie=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,i),!1},ae(this,_s,mh).call(this)},Rie=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),ae(this,_s,mh).call(this)};class Vqe extends Nr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class pg extends Nr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Vo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,o){r.includes("mouse")?e.addEventListener(r,s=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var a;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}o&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}}))})}_setEventListeners(e,n,r,i){var o,s,a;for(const[l,u]of r)(u==="Action"||(o=this.data.actions)!=null&&o[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ct.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Bqe,o=e.style;let s;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(DN*i))||1,d=u/c;s=Math.min(i,l(d/DN))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,l(u/DN))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=Ct.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Uqe extends pg{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const o=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),o.setValue(s.id,{[i]:r})}render(){var i,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let a=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),jp.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=v1,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(n,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=c.userValue=p,c.formattedValue=null});let d=f=>{const{formattedValue:p}=c;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(c.focused)return;const{target:m}=p;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){c.userValue=y.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),y.target.value=c.userValue},formattedValue(y){const{formattedValue:b}=y.detail;c.formattedValue=b,b!=null&&y.target!==document.activeElement&&(y.target.value=b),e.setValue(n,{formattedValue:b})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var x;const{charLimit:b}=y.detail,{target:v}=y;if(b===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",b);let E=c.userValue;!E||E.length<=b||(E=E.slice(0,b),v.value=c.userValue=E,e.setValue(n,{value:E}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var b;c.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:y}=p.target;c.lastCommittedValue!==y&&(c.lastCommittedValue=y,c.userValue=y,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var y,b;if(!c.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(c.focused=!1);const{value:m}=p.target;c.userValue=m,c.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(o=this.data.actions)!=null&&o.Keystroke&&r.addEventListener("beforeinput",p=>{var k;c.lastCommittedValue=null;const{data:m,target:y}=p,{value:b,selectionStart:v,selectionEnd:E}=y;let x=v,C=E;switch(p.inputType){case"deleteWordBackward":{const D=b.substring(0,v).match(/\w*[^\w]*$/);D&&(x-=D[0].length);break}case"deleteWordForward":{const D=b.substring(v).match(/^[^\w]*\w*/);D&&(C+=D[0].length);break}case"deleteContentBackward":v===E&&(x-=1);break;case"deleteContentForward":v===E&&(C+=1);break}p.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:x,selEnd:C}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Hqe extends pg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class qqe extends pg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return jp.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=v1,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue||"Off";s.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class kie extends pg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const o=document.createElement("input");if(jp.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=v1,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue;s.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;o.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=s===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=c&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class jqe extends Tie{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Wqe extends pg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");jp.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=v1;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),o=!1),i.append(d)}let s=null;if(o){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=c=>{const d=c?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(f){s==null||s();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:y}=f.detail.insert,b=i.children[p],v=document.createElement("option");v.textContent=m,v.value=y,b?b.before(v):i.append(v),e.setValue(n,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:b}=m,v=document.createElement("option");v.textContent=y,v.value=b,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var p;const d=a(!0),f=a(!1);e.setValue(n,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class EF extends Nr{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:Nr._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Gqe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Ire}${r}`).join(",")),this.container}}var Uy,vA,bA,Hy,tp,Sr,pc,np,tx,nx,qy,gc,$a,mc,rx,yc,ix,rp,ip,qn,EC,SF,Iie,Pie,Mie,Nie,SC,CC,CF;class Gqe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:u,parentRect:c,open:d}){le(this,qn);le(this,Uy,ae(this,qn,Mie).bind(this));le(this,vA,ae(this,qn,CF).bind(this));le(this,bA,ae(this,qn,CC).bind(this));le(this,Hy,ae(this,qn,SC).bind(this));le(this,tp,null);le(this,Sr,null);le(this,pc,null);le(this,np,null);le(this,tx,null);le(this,nx,null);le(this,qy,null);le(this,gc,!1);le(this,$a,null);le(this,mc,null);le(this,rx,null);le(this,yc,null);le(this,ix,null);le(this,rp,null);le(this,ip,!1);var f;ie(this,Sr,e),ie(this,ix,i),ie(this,pc,s),ie(this,yc,a),ie(this,nx,l),ie(this,tp,n),ie(this,rx,u),ie(this,qy,c),ie(this,tx,r),ie(this,np,Lre.toDateObject(o)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",T(this,Hy)),p.addEventListener("mouseenter",T(this,bA)),p.addEventListener("mouseleave",T(this,vA)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",T(this,Uy));T(this,Sr).hidden=!0,d&&ae(this,qn,SC).call(this)}render(){if(T(this,$a))return;const e=ie(this,$a,document.createElement("div"));if(e.className="popup",T(this,tp)){const o=e.style.outlineColor=Ct.makeHexColor(...T(this,tp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Ct.makeHexColor(...T(this,tp).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=T(this,ix),e.append(n),T(this,np)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:T(this,np).toLocaleDateString(),time:T(this,np).toLocaleTimeString()})),n.append(o)}const i=T(this,qn,EC);if(i)Cie.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(T(this,pc));e.append(o)}T(this,Sr).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){const a=i[o];r.append(document.createTextNode(a)),o<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;T(this,rp)||ie(this,rp,{contentsObj:T(this,pc),richText:T(this,yc)}),e&&ie(this,mc,null),n&&(ie(this,yc,ae(this,qn,Pie).call(this,n)),ie(this,pc,null)),(r=T(this,$a))==null||r.remove(),ie(this,$a,null)}resetEdited(){var e;T(this,rp)&&({contentsObj:as(this,pc)._,richText:as(this,yc)._}=T(this,rp),ie(this,rp,null),(e=T(this,$a))==null||e.remove(),ie(this,$a,null),ie(this,mc,null))}forceHide(){ie(this,ip,this.isVisible),T(this,ip)&&(T(this,Sr).hidden=!0)}maybeShow(){T(this,ip)&&(T(this,$a)||ae(this,qn,CC).call(this),ie(this,ip,!1),T(this,Sr).hidden=!1)}get isVisible(){return T(this,Sr).hidden===!1}}Uy=new WeakMap,vA=new WeakMap,bA=new WeakMap,Hy=new WeakMap,tp=new WeakMap,Sr=new WeakMap,pc=new WeakMap,np=new WeakMap,tx=new WeakMap,nx=new WeakMap,qy=new WeakMap,gc=new WeakMap,$a=new WeakMap,mc=new WeakMap,rx=new WeakMap,yc=new WeakMap,ix=new WeakMap,rp=new WeakMap,ip=new WeakMap,qn=new WeakSet,EC=function(){const e=T(this,yc),n=T(this,pc);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&T(this,yc).html||null},SF=function(){var e,n,r;return((r=(n=(e=T(this,qn,EC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},Iie=function(){var e,n,r;return((r=(n=(e=T(this,qn,EC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},Pie=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:T(this,qn,Iie),fontSize:T(this,qn,SF)?`calc(${T(this,qn,SF)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:i});return r},Mie=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&T(this,gc))&&ae(this,qn,SC).call(this)},Nie=function(){if(T(this,mc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}}=T(this,nx);let s=!!T(this,qy),a=s?T(this,qy):T(this,rx);for(const m of T(this,tx))if(!a||Ct.intersect(m.data.rect,a)!==null){a=m.data.rect,s=!0;break}const l=Ct.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=s?a[2]-a[0]+5:0,d=l[0]+c,f=l[1];ie(this,mc,[100*(d-i)/n,100*(f-o)/r]);const{style:p}=T(this,Sr);p.left=`${T(this,mc)[0]}%`,p.top=`${T(this,mc)[1]}%`},SC=function(){ie(this,gc,!T(this,gc)),T(this,gc)?(ae(this,qn,CC).call(this),T(this,Sr).addEventListener("click",T(this,Hy)),T(this,Sr).addEventListener("keydown",T(this,Uy))):(ae(this,qn,CF).call(this),T(this,Sr).removeEventListener("click",T(this,Hy)),T(this,Sr).removeEventListener("keydown",T(this,Uy)))},CC=function(){T(this,$a)||this.render(),this.isVisible?T(this,gc)&&T(this,Sr).classList.add("focused"):(ae(this,qn,Nie).call(this),T(this,Sr).hidden=!1,T(this,Sr).style.zIndex=parseInt(T(this,Sr).style.zIndex)+1e3)},CF=function(){T(this,Sr).classList.remove("focused"),!(T(this,gc)||!this.isVisible)&&(T(this,Sr).hidden=!0,T(this,Sr).style.zIndex=parseInt(T(this,Sr).style.zIndex)-1e3)};class Die extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=bn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var ox;class Kqe extends Nr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});le(this,ox,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Oc(n.rect),o=this.svgFactory.create(r,i,!0),s=ie(this,ox,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return T(this,ox)}addHighlightArea(){this.container.classList.add("highlightArea")}}ox=new WeakMap;var sx;class Yqe extends Nr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});le(this,sx,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Oc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ie(this,sx,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",r-s),a.setAttribute("height",i-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return T(this,sx)}addHighlightArea(){this.container.classList.add("highlightArea")}}sx=new WeakMap;var ax;class Xqe extends Nr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});le(this,ax,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Oc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ie(this,ax,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-s/2),a.setAttribute("ry",i/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return T(this,ax)}addHighlightArea(){this.container.classList.add("highlightArea")}}ax=new WeakMap;var lx;class Lie extends Nr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});le(this,lx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:o}}=this;if(!r)return this.container;const{width:s,height:a}=Oc(n),l=this.svgFactory.create(s,a,!0);let u=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-n[0],m=n[3]-r[d+1];u.push(`${p},${m}`)}u=u.join(" ");const c=ie(this,lx,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return T(this,lx)}addHighlightArea(){this.container.classList.add("highlightArea")}}lx=new WeakMap;class Jqe extends Lie{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qqe extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ux;class Oie extends Nr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});le(this,ux,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=bn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:o}}=this,{width:s,height:a}=Oc(n),l=this.svgFactory.create(s,a,!0);for(const u of r){let c=[];for(let f=0,p=u.length;f<p;f+=2){const m=u[f]-n[0],y=n[3]-u[f+1];c.push(`${m},${y}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);T(this,ux).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return T(this,ux)}addHighlightArea(){this.container.classList.add("highlightArea")}}ux=new WeakMap;class Zqe extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class eje extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class tje extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nje extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Fie extends Nr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var cx,dx,TF;class rje extends Nr{constructor(n){var i;super(n,{isRenderable:!0});le(this,dx);le(this,cx,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ae(this,dx,TF).bind(this)),ie(this,cx,i);const{isMac:o}=Vo.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(o?s.metaKey:s.ctrlKey)&&ae(this,dx,TF).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return T(this,cx)}addHighlightArea(){this.container.classList.add("highlightArea")}}cx=new WeakMap,dx=new WeakSet,TF=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var fx,op,jy,Gp,$ie,AF;class ije{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:s}){le(this,Gp);le(this,fx,null);le(this,op,null);le(this,jy,new Map);this.div=e,ie(this,fx,n),ie(this,op,r),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var s;const{annotations:n}=e,r=this.div;Hp(r,this.viewport);const i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new c$,annotationStorage:e.annotationStorage||new g$,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===Qr.POPUP;if(l){const d=i.get(a.id);if(!d)continue;o.elements=d}else{const{width:d,height:f}=Oc(a.rect);if(d<=0||f<=0)continue}o.data=a;const u=zqe.create(o);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(u):i.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),ae(this,Gp,$ie).call(this,c,a.id),u.annotationEditorType>0&&(T(this,jy).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}ae(this,Gp,AF).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Hp(n,{rotation:e.rotation}),ae(this,Gp,AF).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(T(this,jy).values())}getEditableAnnotation(e){return T(this,jy).get(e)}}fx=new WeakMap,op=new WeakMap,jy=new WeakMap,Gp=new WeakSet,$ie=function(e,n){var i;const r=e.firstChild||e;r.id=`${Ire}${n}`,this.div.append(e),(i=T(this,fx))==null||i.moveElementInDOM(this.div,e,r,!1)},AF=function(){if(!T(this,op))return;const e=this.div;for(const[n,r]of T(this,op)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r)}T(this,op).clear()};const AS=/\r\n?|\n/g;var hx,px,gx,mx,yx,Ba,gs,vx,ms,Wy,Wr,Bie,zie,Vie,TC,$c,AC,RC,Uie,kF,Hie;const Jn=class Jn extends $n{constructor(n){super({...n,name:"freeTextEditor"});le(this,Wr);le(this,hx,this.editorDivBlur.bind(this));le(this,px,this.editorDivFocus.bind(this));le(this,gx,this.editorDivInput.bind(this));le(this,mx,this.editorDivKeydown.bind(this));le(this,yx,this.editorDivPaste.bind(this));le(this,Ba);le(this,gs,"");le(this,vx,`${this.id}-editor`);le(this,ms);le(this,Wy,null);ie(this,Ba,n.color||Jn._defaultColor||$n._defaultLineColor),ie(this,ms,n.fontSize||Jn._defaultFontSize)}static get _keyboardManager(){const n=Jn.prototype,r=s=>s.isEmpty(),i=qp.TRANSLATE_SMALL,o=qp.TRANSLATE_BIG;return Sn(this,"_keyboardManager",new m1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}]]))}static initialize(n,r){$n.initialize(n,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case qt.FREETEXT_SIZE:Jn._defaultFontSize=r;break;case qt.FREETEXT_COLOR:Jn._defaultColor=r;break}}updateParams(n,r){switch(n){case qt.FREETEXT_SIZE:ae(this,Wr,Bie).call(this,r);break;case qt.FREETEXT_COLOR:ae(this,Wr,zie).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.FREETEXT_SIZE,Jn._defaultFontSize],[qt.FREETEXT_COLOR,Jn._defaultColor||$n._defaultLineColor]]}get propertiesToUpdate(){return[[qt.FREETEXT_SIZE,T(this,ms)],[qt.FREETEXT_COLOR,T(this,Ba)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-Jn._internalPadding*n,-(Jn._internalPadding+T(this,ms))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(bn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",T(this,mx),{signal:n}),this.editorDiv.addEventListener("focus",T(this,px),{signal:n}),this.editorDiv.addEventListener("blur",T(this,hx),{signal:n}),this.editorDiv.addEventListener("input",T(this,gx),{signal:n}),this.editorDiv.addEventListener("paste",T(this,yx),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",T(this,vx)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",T(this,mx)),this.editorDiv.removeEventListener("focus",T(this,px)),this.editorDiv.removeEventListener("blur",T(this,hx)),this.editorDiv.removeEventListener("input",T(this,gx)),this.editorDiv.removeEventListener("paste",T(this,yx)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=T(this,gs),r=ie(this,gs,ae(this,Wr,Vie).call(this).trimEnd());if(n===r)return;const i=o=>{if(ie(this,gs,o),!o){this.remove();return}ae(this,Wr,RC).call(this),this._uiManager.rebuild(this),ae(this,Wr,TC).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),ae(this,Wr,TC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Jn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",T(this,vx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),$n._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var s;return(s=this.editorDiv)==null?void 0:s.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${T(this,ms)}px * var(--scale-factor))`,i.color=T(this,Ba),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),UT(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=T(this,Wy);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=n+(a[0]-f)/c,y=r+this.height-(a[1]-p)/d;break;case 90:m=n+(a[0]-f)/c,y=r-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(a[0]-f)/c,y=r-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:m=n+(a[0]-f-this.height*d)/c,y=r+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*o,y*s,l,u)}else this.setAt(n*o,r*s,this.width*o,this.height*s);ae(this,Wr,RC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,y,b;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const o=ae(m=Jn,$c,kF).call(m,r.getData("text")||"").replaceAll(AS,`
`);if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!o.includes(`
`)){a.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(AS,"")),v!==this.editorDiv){let E=c;for(const x of this.editorDiv.childNodes){if(x===v){E=d;continue}E.push(ae(y=Jn,$c,AC).call(y,x))}}c.push(l.nodeValue.slice(0,u).replaceAll(AS,""))}else if(l===this.editorDiv){let v=c,E=0;for(const x of this.editorDiv.childNodes)E++===u&&(v=d),v.push(ae(b=Jn,$c,AC).call(b,x))}ie(this,gs,`${c.join(`
`)}${o}${d.join(`
`)}`),ae(this,Wr,RC).call(this);const f=new Range;let p=c.reduce((v,E)=>v+E.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const E=v.nodeValue.length;if(p<=E){f.setStart(v,p),f.setEnd(v,p);break}p-=E}s.removeAllRanges(),s.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(n,r,i){var a;let o=null;if(n instanceof Die){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=n;if(!p||p.length===0)return null;o=n={annotationType:bn.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:c.slice(0),rotation:d,id:f,deleted:!1}}const s=super.deserialize(n,r,i);return ie(s,ms,n.fontSize),ie(s,Ba,Ct.makeHexColor(...n.color)),ie(s,gs,ae(a=Jn,$c,kF).call(a,n.value)),s.annotationElementId=n.id||null,ie(s,Wy,o),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=Jn._internalPadding*this.parentScale,i=this.getRect(r,r),o=$n._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:T(this,Ba)),s={annotationType:bn.FREETEXT,color:o,fontSize:T(this,ms),value:ae(this,Wr,Uie).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!ae(this,Wr,Hie).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${T(this,ms)}px * var(--scale-factor))`,i.color=T(this,Ba),r.replaceChildren();for(const s of T(this,gs).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}const o=Jn._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:T(this,gs)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};hx=new WeakMap,px=new WeakMap,gx=new WeakMap,mx=new WeakMap,yx=new WeakMap,Ba=new WeakMap,gs=new WeakMap,vx=new WeakMap,ms=new WeakMap,Wy=new WeakMap,Wr=new WeakSet,Bie=function(n){const r=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-T(this,ms))*this.parentScale),ie(this,ms,o),ae(this,Wr,TC).call(this)},i=T(this,ms);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},zie=function(n){const r=o=>{ie(this,Ba,this.editorDiv.style.color=o)},i=T(this,Ba);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Vie=function(){var r;const n=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)n.push(ae(r=Jn,$c,AC).call(r,i));return n.join(`
`)},TC=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,a=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},$c=new WeakSet,AC=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(AS,"")},RC=function(){if(this.editorDiv.replaceChildren(),!!T(this,gs))for(const n of T(this,gs).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},Uie=function(){return T(this,gs).replaceAll(""," ")},kF=function(n){return n.replaceAll(" ","")},Hie=function(n){const{value:r,fontSize:i,color:o,pageIndex:s}=T(this,Wy);return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,l)=>a!==o[l])||n.pageIndex!==s},le(Jn,$c),dt(Jn,"_freeTextDefaultContent",""),dt(Jn,"_internalPadding",0),dt(Jn,"_defaultColor",null),dt(Jn,"_defaultFontSize",10),dt(Jn,"_type","freetext"),dt(Jn,"_editorType",bn.FREETEXT);let RF=Jn;var bx,rf,za,go,qie,kC,jie,Wie,PF;class IF{constructor(e,n=0,r=0,i=!0){le(this,go);le(this,bx);le(this,rf,[]);le(this,za,[]);let o=1/0,s=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:b,y:v,width:E,height:x}of e){const C=Math.floor((b-n)/u)*u,k=Math.ceil((b+E+n)/u)*u,D=Math.floor((v-n)/u)*u,A=Math.ceil((v+x+n)/u)*u,P=[C,D,A,!0],M=[k,D,A,!1];T(this,rf).push(P,M),o=Math.min(o,C),s=Math.max(s,k),a=Math.min(a,D),l=Math.max(l,A)}const c=s-o+2*r,d=l-a+2*r,f=o-r,p=a-r,m=T(this,rf).at(i?-1:-2),y=[m[0],m[2]];for(const b of T(this,rf)){const[v,E,x]=b;b[0]=(v-f)/c,b[1]=(E-p)/d,b[2]=(x-p)/d}ie(this,bx,{x:f,y:p,width:c,height:d,lastPoint:y})}getOutlines(){T(this,rf).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of T(this,rf))n[3]?(e.push(...ae(this,go,PF).call(this,n)),ae(this,go,jie).call(this,n)):(ae(this,go,Wie).call(this,n),e.push(...ae(this,go,PF).call(this,n)));return ae(this,go,qie).call(this,e)}}bx=new WeakMap,rf=new WeakMap,za=new WeakMap,go=new WeakSet,qie=function(e){const n=[],r=new Set;for(const s of e){const[a,l,u]=s;n.push([a,l,s],[a,u,s])}n.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=n.length;s<a;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let o;for(;r.size>0;){const s=r.values().next().value;let[a,l,u,c,d]=s;r.delete(s);let f=a,p=l;for(o=[a,u],i.push(o);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[a,l,u,c,d]=m,f!==a&&(o.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}o.push(f,p)}return new oje(i,T(this,bx))},kC=function(e){const n=T(this,za);let r=0,i=n.length-1;for(;r<=i;){const o=r+i>>1,s=n[o][0];if(s===e)return o;s<e?r=o+1:i=o-1}return i+1},jie=function([,e,n]){const r=ae(this,go,kC).call(this,e);T(this,za).splice(r,0,[e,n])},Wie=function([,e,n]){const r=ae(this,go,kC).call(this,e);for(let i=r;i<T(this,za).length;i++){const[o,s]=T(this,za)[i];if(o!==e)break;if(o===e&&s===n){T(this,za).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[o,s]=T(this,za)[i];if(o!==e)break;if(o===e&&s===n){T(this,za).splice(i,1);return}}},PF=function(e){const[n,r,i]=e,o=[[n,r,i]],s=ae(this,go,kC).call(this,i);for(let a=0;a<s;a++){const[l,u]=T(this,za)[a];for(let c=0,d=o.length;c<d;c++){const[,f,p]=o[c];if(!(u<=f||p<=l)){if(f>=l){if(p>u)o[c][1]=u;else{if(d===1)return[];o.splice(c,1),c--,d--}continue}o[c][2]=l,p>u&&o.push([n,u,p])}}}return o};class Gie{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof NF}}var wx,Gy;class oje extends Gie{constructor(n,r){super();le(this,wx);le(this,Gy);ie(this,Gy,n),ie(this,wx,r)}toSVGPath(){const n=[];for(const r of T(this,Gy)){let[i,o]=r;n.push(`M${i} ${o}`);for(let s=2;s<r.length;s+=2){const a=r[s],l=r[s+1];a===i?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,o],s){const a=[],l=i-n,u=o-r;for(const c of T(this,Gy)){const d=new Array(c.length);for(let f=0;f<c.length;f+=2)d[f]=n+c[f]*l,d[f+1]=o-c[f+1]*u;a.push(d)}return a}get box(){return T(this,wx)}}wx=new WeakMap,Gy=new WeakMap;var Bl,vc,Ky,Yy,zl,hn,sp,ap,_x,xx,Xy,Jy,of,Ex,wA,_A,Sx,MF;const Zu=class Zu{constructor({x:e,y:n},r,i,o,s,a=0){le(this,Sx);le(this,Bl);le(this,vc,[]);le(this,Ky);le(this,Yy);le(this,zl,[]);le(this,hn,new Float64Array(18));le(this,sp);le(this,ap);le(this,_x);le(this,xx);le(this,Xy);le(this,Jy);le(this,of,[]);ie(this,Bl,r),ie(this,Jy,o*i),ie(this,Yy,s),T(this,hn).set([NaN,NaN,NaN,NaN,e,n],6),ie(this,Ky,a),ie(this,xx,T(Zu,Ex)*i),ie(this,_x,T(Zu,_A)*i),ie(this,Xy,i),T(this,of).push(e,n)}get free(){return!0}isEmpty(){return isNaN(T(this,hn)[8])}add({x:e,y:n}){var M;ie(this,sp,e),ie(this,ap,n);const[r,i,o,s]=T(this,Bl);let[a,l,u,c]=T(this,hn).subarray(8,12);const d=e-u,f=n-c,p=Math.hypot(d,f);if(p<T(this,_x))return!1;const m=p-T(this,xx),y=m/p,b=y*d,v=y*f;let E=a,x=l;a=u,l=c,u+=b,c+=v,(M=T(this,of))==null||M.push(e,n);const C=-v/m,k=b/m,D=C*T(this,Jy),A=k*T(this,Jy);return T(this,hn).set(T(this,hn).subarray(2,8),0),T(this,hn).set([u+D,c+A],4),T(this,hn).set(T(this,hn).subarray(14,18),12),T(this,hn).set([u-D,c-A],16),isNaN(T(this,hn)[6])?(T(this,zl).length===0&&(T(this,hn).set([a+D,l+A],2),T(this,zl).push(NaN,NaN,NaN,NaN,(a+D-r)/o,(l+A-i)/s),T(this,hn).set([a-D,l-A],14),T(this,vc).push(NaN,NaN,NaN,NaN,(a-D-r)/o,(l-A-i)/s)),T(this,hn).set([E,x,a,l,u,c],6),!this.isEmpty()):(T(this,hn).set([E,x,a,l,u,c],6),Math.abs(Math.atan2(x-l,E-a)-Math.atan2(v,b))<Math.PI/2?([a,l,u,c]=T(this,hn).subarray(2,6),T(this,zl).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/o,((l+c)/2-i)/s),[a,l,E,x]=T(this,hn).subarray(14,18),T(this,vc).push(NaN,NaN,NaN,NaN,((E+a)/2-r)/o,((x+l)/2-i)/s),!0):([E,x,a,l,u,c]=T(this,hn).subarray(0,6),T(this,zl).push(((E+5*a)/6-r)/o,((x+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),[u,c,a,l,E,x]=T(this,hn).subarray(12,18),T(this,vc).push(((E+5*a)/6-r)/o,((x+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=T(this,zl),n=T(this,vc),r=T(this,hn).subarray(4,6),i=T(this,hn).subarray(16,18),[o,s,a,l]=T(this,Bl),[u,c,d,f]=ae(this,Sx,MF).call(this);if(isNaN(T(this,hn)[6])&&!this.isEmpty())return`M${(T(this,hn)[2]-o)/a} ${(T(this,hn)[3]-s)/l} L${(T(this,hn)[4]-o)/a} ${(T(this,hn)[5]-s)/l} L${u} ${c} L${d} ${f} L${(T(this,hn)[16]-o)/a} ${(T(this,hn)[17]-s)/l} L${(T(this,hn)[14]-o)/a} ${(T(this,hn)[15]-s)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-o)/a} ${(r[1]-s)/l} L${u} ${c} L${d} ${f} L${(i[0]-o)/a} ${(i[1]-s)/l}`);for(let m=n.length-6;m>=6;m-=6)isNaN(n[m])?p.push(`L${n[m+4]} ${n[m+5]}`):p.push(`C${n[m]} ${n[m+1]} ${n[m+2]} ${n[m+3]} ${n[m+4]} ${n[m+5]}`);return p.push(`L${n[4]} ${n[5]} Z`),p.join(" ")}getOutlines(){var v;const e=T(this,zl),n=T(this,vc),r=T(this,hn),i=r.subarray(4,6),o=r.subarray(16,18),[s,a,l,u]=T(this,Bl),c=new Float64Array((((v=T(this,of))==null?void 0:v.length)??0)+2);for(let E=0,x=c.length-2;E<x;E+=2)c[E]=(T(this,of)[E]-s)/l,c[E+1]=(T(this,of)[E+1]-a)/u;c[c.length-2]=(T(this,sp)-s)/l,c[c.length-1]=(T(this,ap)-a)/u;const[d,f,p,m]=ae(this,Sx,MF).call(this);if(isNaN(r[6])&&!this.isEmpty()){const E=new Float64Array(36);return E.set([NaN,NaN,NaN,NaN,(r[2]-s)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-s)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-s)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-s)/l,(r[15]-a)/u],0),new NF(E,c,T(this,Bl),T(this,Xy),T(this,Ky),T(this,Yy))}const y=new Float64Array(T(this,zl).length+24+T(this,vc).length);let b=e.length;for(let E=0;E<b;E+=2){if(isNaN(e[E])){y[E]=y[E+1]=NaN;continue}y[E]=e[E],y[E+1]=e[E+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(o[0]-s)/l,(o[1]-a)/u],b),b+=24;for(let E=n.length-6;E>=6;E-=6)for(let x=0;x<6;x+=2){if(isNaN(n[E+x])){y[b]=y[b+1]=NaN,b+=2;continue}y[b]=n[E+x],y[b+1]=n[E+x+1],b+=2}return y.set([NaN,NaN,NaN,NaN,n[4],n[5]],b),new NF(y,c,T(this,Bl),T(this,Xy),T(this,Ky),T(this,Yy))}};Bl=new WeakMap,vc=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,zl=new WeakMap,hn=new WeakMap,sp=new WeakMap,ap=new WeakMap,_x=new WeakMap,xx=new WeakMap,Xy=new WeakMap,Jy=new WeakMap,of=new WeakMap,Ex=new WeakMap,wA=new WeakMap,_A=new WeakMap,Sx=new WeakSet,MF=function(){const e=T(this,hn).subarray(4,6),n=T(this,hn).subarray(16,18),[r,i,o,s]=T(this,Bl);return[(T(this,sp)+(e[0]-n[0])/2-r)/o,(T(this,ap)+(e[1]-n[1])/2-i)/s,(T(this,sp)+(n[0]-e[0])/2-r)/o,(T(this,ap)+(n[1]-e[1])/2-i)/s]},le(Zu,Ex,8),le(Zu,wA,2),le(Zu,_A,T(Zu,Ex)+T(Zu,wA));let jT=Zu;var Qy,lp,bc,Cx,ys,Tx,Ir,Ho,Qb,Zb,Kie;class NF extends Gie{constructor(n,r,i,o,s,a){super();le(this,Ho);le(this,Qy);le(this,lp,null);le(this,bc);le(this,Cx);le(this,ys);le(this,Tx);le(this,Ir);ie(this,Ir,n),ie(this,ys,r),ie(this,Qy,i),ie(this,Tx,o),ie(this,bc,s),ie(this,Cx,a),ae(this,Ho,Kie).call(this,a);const{x:l,y:u,width:c,height:d}=T(this,lp);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/c,n[f+1]=(n[f+1]-u)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/c,r[f+1]=(r[f+1]-u)/d}toSVGPath(){const n=[`M${T(this,Ir)[4]} ${T(this,Ir)[5]}`];for(let r=6,i=T(this,Ir).length;r<i;r+=6){if(isNaN(T(this,Ir)[r])){n.push(`L${T(this,Ir)[r+4]} ${T(this,Ir)[r+5]}`);continue}n.push(`C${T(this,Ir)[r]} ${T(this,Ir)[r+1]} ${T(this,Ir)[r+2]} ${T(this,Ir)[r+3]} ${T(this,Ir)[r+4]} ${T(this,Ir)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,o],s){const a=i-n,l=o-r;let u,c;switch(s){case 0:u=ae(this,Ho,Qb).call(this,T(this,Ir),n,o,a,-l),c=ae(this,Ho,Qb).call(this,T(this,ys),n,o,a,-l);break;case 90:u=ae(this,Ho,Zb).call(this,T(this,Ir),n,r,a,l),c=ae(this,Ho,Zb).call(this,T(this,ys),n,r,a,l);break;case 180:u=ae(this,Ho,Qb).call(this,T(this,Ir),i,r,-a,l),c=ae(this,Ho,Qb).call(this,T(this,ys),i,r,-a,l);break;case 270:u=ae(this,Ho,Zb).call(this,T(this,Ir),i,o,-a,-l),c=ae(this,Ho,Zb).call(this,T(this,ys),i,o,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return T(this,lp)}getNewOutline(n,r){const{x:i,y:o,width:s,height:a}=T(this,lp),[l,u,c,d]=T(this,Qy),f=s*c,p=a*d,m=i*c+l,y=o*d+u,b=new jT({x:T(this,ys)[0]*f+m,y:T(this,ys)[1]*p+y},T(this,Qy),T(this,Tx),n,T(this,Cx),r??T(this,bc));for(let v=2;v<T(this,ys).length;v+=2)b.add({x:T(this,ys)[v]*f+m,y:T(this,ys)[v+1]*p+y});return b.getOutlines()}}Qy=new WeakMap,lp=new WeakMap,bc=new WeakMap,Cx=new WeakMap,ys=new WeakMap,Tx=new WeakMap,Ir=new WeakMap,Ho=new WeakSet,Qb=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l]*o,a[l+1]=i+n[l+1]*s;return a},Zb=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l+1]*o,a[l+1]=i+n[l]*s;return a},Kie=function(n){const r=T(this,Ir);let i=r[4],o=r[5],s=i,a=o,l=i,u=o,c=i,d=o;const f=n?Math.max:Math.min;for(let v=6,E=r.length;v<E;v+=6){if(isNaN(r[v]))s=Math.min(s,r[v+4]),a=Math.min(a,r[v+5]),l=Math.max(l,r[v+4]),u=Math.max(u,r[v+5]),d<r[v+5]?(c=r[v+4],d=r[v+5]):d===r[v+5]&&(c=f(c,r[v+4]));else{const x=Ct.bezierBoundingBox(i,o,...r.slice(v,v+6));s=Math.min(s,x[0]),a=Math.min(a,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),d<x[3]?(c=x[2],d=x[3]):d===x[3]&&(c=f(c,x[2]))}i=r[v+4],o=r[v+5]}const p=s-T(this,bc),m=a-T(this,bc),y=l-s+2*T(this,bc),b=u-a+2*T(this,bc);ie(this,lp,{x:p,y:m,width:y,height:b,lastPoint:[c,d]})};var Ax,Rx,Va,up,Zy,ti,kx,ev,Ix,Px,Ua,tv,Yn,DF,LF,Yie,yh,Xie,$d;const ec=class ec{constructor({editor:e=null,uiManager:n=null}){le(this,Yn);le(this,Ax,ae(this,Yn,Yie).bind(this));le(this,Rx,ae(this,Yn,Xie).bind(this));le(this,Va,null);le(this,up,null);le(this,Zy);le(this,ti,null);le(this,kx,!1);le(this,ev,!1);le(this,Ix,null);le(this,Px);le(this,Ua,null);le(this,tv);var r;e?(ie(this,ev,!1),ie(this,tv,qt.HIGHLIGHT_COLOR),ie(this,Ix,e)):(ie(this,ev,!0),ie(this,tv,qt.HIGHLIGHT_DEFAULT_COLOR)),ie(this,Ua,(e==null?void 0:e._uiManager)||n),ie(this,Px,T(this,Ua)._eventBus),ie(this,Zy,(e==null?void 0:e.color)||((r=T(this,Ua))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Sn(this,"_keyboardManager",new m1([[["Escape","mac+Escape"],ec.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ec.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ec.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ec.prototype._moveToPrevious],[["Home","mac+Home"],ec.prototype._moveToBeginning],[["End","mac+End"],ec.prototype._moveToEnd]]))}renderButton(){const e=ie(this,Va,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=T(this,Ua)._signal;e.addEventListener("click",ae(this,Yn,yh).bind(this),{signal:n}),e.addEventListener("keydown",T(this,Ax),{signal:n});const r=ie(this,up,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=T(this,Zy),e.append(r),e}renderMainDropdown(){const e=ie(this,ti,ae(this,Yn,DF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===T(this,Va)){ae(this,Yn,yh).call(this,e);return}const n=e.target.getAttribute("data-color");n&&ae(this,Yn,LF).call(this,n,e)}_moveToNext(e){var n,r;if(!T(this,Yn,$d)){ae(this,Yn,yh).call(this,e);return}if(e.target===T(this,Va)){(n=T(this,ti).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=T(this,ti))==null?void 0:n.firstChild)||e.target===T(this,Va)){T(this,Yn,$d)&&this._hideDropdownFromKeyboard();return}T(this,Yn,$d)||ae(this,Yn,yh).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!T(this,Yn,$d)){ae(this,Yn,yh).call(this,e);return}(n=T(this,ti).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!T(this,Yn,$d)){ae(this,Yn,yh).call(this,e);return}(n=T(this,ti).lastChild)==null||n.focus()}hideDropdown(){var e;(e=T(this,ti))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",T(this,Rx))}_hideDropdownFromKeyboard(){var e;if(!T(this,ev)){if(!T(this,Yn,$d)){(e=T(this,Ix))==null||e.unselect();return}this.hideDropdown(),T(this,Va).focus({preventScroll:!0,focusVisible:T(this,kx)})}}updateColor(e){if(T(this,up)&&(T(this,up).style.backgroundColor=e),!T(this,ti))return;const n=T(this,Ua).highlightColors.values();for(const r of T(this,ti).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=T(this,Va))==null||e.remove(),ie(this,Va,null),ie(this,up,null),(n=T(this,ti))==null||n.remove(),ie(this,ti,null)}};Ax=new WeakMap,Rx=new WeakMap,Va=new WeakMap,up=new WeakMap,Zy=new WeakMap,ti=new WeakMap,kx=new WeakMap,ev=new WeakMap,Ix=new WeakMap,Px=new WeakMap,Ua=new WeakMap,tv=new WeakMap,Yn=new WeakSet,DF=function(){const e=document.createElement("div"),n=T(this,Ua)._signal;e.addEventListener("contextmenu",Go,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of T(this,Ua).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.setAttribute("aria-selected",i===T(this,Zy)),o.addEventListener("click",ae(this,Yn,LF).bind(this,i),{signal:n}),e.append(o)}return e.addEventListener("keydown",T(this,Ax),{signal:n}),e},LF=function(e,n){n.stopPropagation(),T(this,Px).dispatch("switchannotationeditorparams",{source:this,type:T(this,tv),value:e})},Yie=function(e){ec._keyboardManager.exec(this,e)},yh=function(e){if(T(this,Yn,$d)){this.hideDropdown();return}if(ie(this,kx,e.detail===0),window.addEventListener("pointerdown",T(this,Rx),{signal:T(this,Ua)._signal}),T(this,ti)){T(this,ti).classList.remove("hidden");return}const n=ie(this,ti,ae(this,Yn,DF).call(this));T(this,Va).append(n)},Xie=function(e){var n;(n=T(this,ti))!=null&&n.contains(e.target)||this.hideDropdown()},$d=function(){return T(this,ti)&&!T(this,ti).classList.contains("hidden")};let WT=ec;var nv,Mx,sf,cp,rv,js,Nx,Dx,dp,Ha,uo,vs,xA,iv,fp,ni,ov,Vl,Lx,ln,OF,FF,Jie,Qie,Zie,$F,ew,Zs,Ym,eoe,IC,tw,toe,noe,roe,ioe;const kn=class kn extends $n{constructor(n){super({...n,name:"highlightEditor"});le(this,ln);le(this,nv,null);le(this,Mx,0);le(this,sf);le(this,cp,null);le(this,rv,null);le(this,js,null);le(this,Nx,null);le(this,Dx,0);le(this,dp,null);le(this,Ha,null);le(this,uo,null);le(this,vs,!1);le(this,xA,ae(this,ln,eoe).bind(this));le(this,iv,null);le(this,fp);le(this,ni,null);le(this,ov,"");le(this,Vl);le(this,Lx,"");this.color=n.color||kn._defaultColor,ie(this,Vl,n.thickness||kn._defaultThickness),ie(this,fp,n.opacity||kn._defaultOpacity),ie(this,sf,n.boxes||null),ie(this,Lx,n.methodOfCreation||""),ie(this,ov,n.text||""),this._isDraggable=!1,n.highlightId>-1?(ie(this,vs,!0),ae(this,ln,FF).call(this,n),ae(this,ln,ew).call(this)):(ie(this,nv,n.anchorNode),ie(this,Mx,n.anchorOffset),ie(this,Nx,n.focusNode),ie(this,Dx,n.focusOffset),ae(this,ln,OF).call(this),ae(this,ln,ew).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=kn.prototype;return Sn(this,"_keyboardManager",new m1([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:T(this,vs)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:T(this,Vl),methodOfCreation:T(this,Lx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;$n.initialize(n,r),kn._defaultColor||(kn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case qt.HIGHLIGHT_DEFAULT_COLOR:kn._defaultColor=r;break;case qt.HIGHLIGHT_THICKNESS:kn._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return T(this,iv)}updateParams(n,r){switch(n){case qt.HIGHLIGHT_COLOR:ae(this,ln,Jie).call(this,r);break;case qt.HIGHLIGHT_THICKNESS:ae(this,ln,Qie).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.HIGHLIGHT_DEFAULT_COLOR,kn._defaultColor],[qt.HIGHLIGHT_THICKNESS,kn._defaultThickness]]}get propertiesToUpdate(){return[[qt.HIGHLIGHT_COLOR,this.color||kn._defaultColor],[qt.HIGHLIGHT_THICKNESS,T(this,Vl)||kn._defaultThickness],[qt.HIGHLIGHT_FREE,T(this,vs)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(ie(this,rv,new WT({editor:this})),n.addColorPicker(T(this,rv))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ae(this,ln,tw).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,ae(this,ln,tw).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){ae(this,ln,$F).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ae(this,ln,ew).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?ae(this,ln,$F).call(this):n&&(ae(this,ln,ew).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var o,s,a;const{drawLayer:r}=this.parent;let i;T(this,vs)?(n=(n-this.rotation+360)%360,i=ae(o=kn,Zs,Ym).call(o,T(this,Ha).box,n)):i=ae(s=kn,Zs,Ym).call(s,this,n),r.rotate(T(this,uo),n),r.rotate(T(this,ni),n),r.updateBox(T(this,uo),i),r.updateBox(T(this,ni),ae(a=kn,Zs,Ym).call(a,T(this,js).box,n))}render(){if(this.div)return this.div;const n=super.render();T(this,ov)&&(n.setAttribute("aria-label",T(this,ov)),n.setAttribute("role","mark")),T(this,vs)?n.classList.add("free"):this.div.addEventListener("keydown",T(this,xA),{signal:this._uiManager._signal});const r=ie(this,dp,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=T(this,cp);const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),UT(this,T(this,dp),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(T(this,ni),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(T(this,ni),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:ae(this,ln,IC).call(this,!0);break;case 1:case 3:ae(this,ln,IC).call(this,!1);break}}select(){var n,r;super.select(),T(this,ni)&&((n=this.parent)==null||n.drawLayer.removeClass(T(this,ni),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(T(this,ni),"selected"))}unselect(){var n;super.unselect(),T(this,ni)&&((n=this.parent)==null||n.drawLayer.removeClass(T(this,ni),"selected"),T(this,vs)||ae(this,ln,IC).call(this,!1))}get _mustFixPosition(){return!T(this,vs)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(T(this,uo),n),this.parent.drawLayer.show(T(this,ni),n))}static startHighlighting(n,r,{target:i,x:o,y:s}){const{x:a,y:l,width:u,height:c}=i.getBoundingClientRect(),d=b=>{ae(this,Zs,roe).call(this,n,b)},f=n._signal,p={capture:!0,passive:!1,signal:f},m=b=>{b.preventDefault(),b.stopPropagation()},y=b=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",Go),ae(this,Zs,ioe).call(this,n,b)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",Go,{signal:f}),i.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new jT({x:o,y:s},[a,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,r,i){var y;const o=super.deserialize(n,r,i),{rect:[s,a,l,u],color:c,quadPoints:d}=n;o.color=Ct.makeHexColor(...c),ie(o,fp,n.opacity);const[f,p]=o.pageDimensions;o.width=(l-s)/f,o.height=(u-a)/p;const m=ie(o,sf,[]);for(let b=0;b<d.length;b+=8)m.push({x:(d[4]-l)/f,y:(u-(1-d[b+5]))/p,width:(d[b+2]-d[b])/f,height:(d[b+5]-d[b+1])/p});return ae(y=o,ln,OF).call(y),o}serialize(n=!1){if(this.isEmpty()||n)return null;const r=this.getRect(0,0),i=$n._colorManager.convert(this.color);return{annotationType:bn.HIGHLIGHT,color:i,opacity:T(this,fp),thickness:T(this,Vl),quadPoints:ae(this,ln,toe).call(this),outlines:ae(this,ln,noe).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:ae(this,ln,tw).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};nv=new WeakMap,Mx=new WeakMap,sf=new WeakMap,cp=new WeakMap,rv=new WeakMap,js=new WeakMap,Nx=new WeakMap,Dx=new WeakMap,dp=new WeakMap,Ha=new WeakMap,uo=new WeakMap,vs=new WeakMap,xA=new WeakMap,iv=new WeakMap,fp=new WeakMap,ni=new WeakMap,ov=new WeakMap,Vl=new WeakMap,Lx=new WeakMap,ln=new WeakSet,OF=function(){const n=new IF(T(this,sf),.001);ie(this,Ha,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=T(this,Ha).box;const r=new IF(T(this,sf),.0025,.001,this._uiManager.direction==="ltr");ie(this,js,r.getOutlines());const{lastPoint:i}=T(this,js).box;ie(this,iv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},FF=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,f;if(ie(this,Ha,n),ie(this,js,n.getNewOutline(T(this,Vl)/2+1.5,.0025)),r>=0)ie(this,uo,r),ie(this,cp,i),this.parent.drawLayer.finalizeLine(r,n),ie(this,ni,this.parent.drawLayer.highlightOutline(T(this,js)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(T(this,uo),n),this.parent.drawLayer.updateBox(T(this,uo),ae(d=kn,Zs,Ym).call(d,T(this,Ha).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(T(this,ni),T(this,js)),this.parent.drawLayer.updateBox(T(this,ni),ae(f=kn,Zs,Ym).call(f,T(this,js).box,p))}const{x:s,y:a,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-s,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:c}=T(this,js).box;ie(this,iv,[(c[0]-s)/l,(c[1]-a)/u])},Jie=function(n){const r=o=>{var s,a;this.color=o,(s=this.parent)==null||s.drawLayer.changeColor(T(this,uo),o),(a=T(this,rv))==null||a.updateColor(o)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},Qie=function(n){const r=T(this,Vl),i=o=>{ie(this,Vl,o),ae(this,ln,Zie).call(this,o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},Zie=function(n){if(!T(this,vs))return;ae(this,ln,FF).call(this,{highlightOutlines:T(this,Ha).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},$F=function(){T(this,uo)===null||!this.parent||(this.parent.drawLayer.remove(T(this,uo)),ie(this,uo,null),this.parent.drawLayer.remove(T(this,ni)),ie(this,ni,null))},ew=function(n=this.parent){T(this,uo)===null&&({id:as(this,uo)._,clipPathId:as(this,cp)._}=n.drawLayer.highlight(T(this,Ha),this.color,T(this,fp)),ie(this,ni,n.drawLayer.highlightOutline(T(this,js))),T(this,dp)&&(T(this,dp).style.clipPath=T(this,cp)))},Zs=new WeakSet,Ym=function({x:n,y:r,width:i,height:o},s){switch(s){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}},eoe=function(n){kn._keyboardManager.exec(this,n)},IC=function(n){if(!T(this,nv))return;const r=window.getSelection();n?r.setPosition(T(this,nv),T(this,Mx)):r.setPosition(T(this,Nx),T(this,Dx))},tw=function(){return T(this,vs)?this.rotation:0},toe=function(){if(T(this,vs))return null;const[n,r]=this.pageDimensions,i=T(this,sf),o=new Float32Array(i.length*8);let s=0;for(const{x:a,y:l,width:u,height:c}of i){const d=a*n,f=(1-l-c)*r;o[s]=o[s+4]=d,o[s+1]=o[s+3]=f,o[s+2]=o[s+6]=d+u*n,o[s+5]=o[s+7]=f+c*r,s+=8}return o},noe=function(n){return T(this,Ha).serialize(n,ae(this,ln,tw).call(this))},roe=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},ioe=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},le(kn,Zs),dt(kn,"_defaultColor",null),dt(kn,"_defaultOpacity",1),dt(kn,"_defaultThickness",12),dt(kn,"_l10nPromise"),dt(kn,"_type","highlight"),dt(kn,"_editorType",bn.HIGHLIGHT),dt(kn,"_freeHighlightId",-1),dt(kn,"_freeHighlight",null),dt(kn,"_freeHighlightClipId","");let GT=kn;var hp,pp,Ox,Fx,$x,gp,Ul,wc,Ws,mp,yp,_c,vp,bp,af,tt,ooe,soe,aoe,loe,zF,uoe,VF,coe,doe,foe,hoe,poe,vh,UF,PC,MC,Xm,HF,NC,Yc,goe,qF,moe,yoe,jF,DC,nw;const yr=class yr extends $n{constructor(n){super({...n,name:"inkEditor"});le(this,tt);le(this,hp,0);le(this,pp,0);le(this,Ox,this.canvasPointermove.bind(this));le(this,Fx,this.canvasPointerleave.bind(this));le(this,$x,this.canvasPointerup.bind(this));le(this,gp,this.canvasPointerdown.bind(this));le(this,Ul,null);le(this,wc,new Path2D);le(this,Ws,!1);le(this,mp,!1);le(this,yp,!1);le(this,_c,null);le(this,vp,0);le(this,bp,0);le(this,af,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){$n.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case qt.INK_THICKNESS:yr._defaultThickness=r;break;case qt.INK_COLOR:yr._defaultColor=r;break;case qt.INK_OPACITY:yr._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case qt.INK_THICKNESS:ae(this,tt,ooe).call(this,r);break;case qt.INK_COLOR:ae(this,tt,soe).call(this,r);break;case qt.INK_OPACITY:ae(this,tt,aoe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[qt.INK_THICKNESS,yr._defaultThickness],[qt.INK_COLOR,yr._defaultColor||$n._defaultLineColor],[qt.INK_OPACITY,Math.round(yr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[qt.INK_THICKNESS,this.thickness||yr._defaultThickness],[qt.INK_COLOR,this.color||yr._defaultColor||$n._defaultLineColor],[qt.INK_OPACITY,Math.round(100*(this.opacity??yr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ae(this,tt,PC).call(this),ae(this,tt,MC).call(this)),this.isAttachedToDOM||(this.parent.add(this),ae(this,tt,Xm).call(this)),ae(this,tt,nw).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,T(this,Ul)&&(clearTimeout(T(this,Ul)),ie(this,Ul,null)),(n=T(this,_c))==null||n.disconnect(),ie(this,_c,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,o=this.height*r;this.setDimensions(i,o)}enableEditMode(){T(this,Ws)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",T(this,gp),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",T(this,gp)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){T(this,Ws)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ie(this,Ws,!0),this.div.classList.add("disabled"),ae(this,tt,nw).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||T(this,Ws)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),ae(this,tt,uoe).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),ae(this,tt,VF).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),ae(this,tt,UF).call(this,n)}canvasPointerleave(n){ae(this,tt,UF).call(this,n)}get isResizable(){return!this.isEmpty()&&T(this,Ws)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,s,a]=ae(this,tt,loe).call(this);if(this.setAt(i,o,0,0),this.setDims(s,a),ae(this,tt,PC).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),ie(this,yp,!0),ae(this,tt,Xm).call(this),this.setDims(this.width*l,this.height*u),ae(this,tt,vh).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ae(this,tt,MC).call(this),this.div}setDimensions(n,r){const i=Math.round(n),o=Math.round(r);if(T(this,vp)===i&&T(this,bp)===o)return;ie(this,vp,i),ie(this,bp,o),this.canvas.style.visibility="hidden";const[s,a]=this.parentDimensions;this.width=n/s,this.height=r/a,this.fixAndSetPosition(),T(this,Ws)&&ae(this,tt,HF).call(this,n,r),ae(this,tt,Xm).call(this),ae(this,tt,vh).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,r,i){var b,v,E;if(n instanceof Oie)return null;const o=super.deserialize(n,r,i);o.thickness=n.thickness,o.color=Ct.makeHexColor(...n.color),o.opacity=n.opacity;const[s,a]=o.pageDimensions,l=o.width*s,u=o.height*a,c=o.parentScale,d=n.thickness/2;ie(o,Ws,!0),ie(o,vp,Math.round(l)),ie(o,bp,Math.round(u));const{paths:f,rect:p,rotation:m}=n;for(let{bezier:x}of f){x=ae(b=yr,Yc,moe).call(b,x,p,m);const C=[];o.paths.push(C);let k=c*(x[0]-d),D=c*(x[1]-d);for(let P=2,M=x.length;P<M;P+=6){const I=c*(x[P]-d),O=c*(x[P+1]-d),F=c*(x[P+2]-d),$=c*(x[P+3]-d),L=c*(x[P+4]-d),q=c*(x[P+5]-d);C.push([[k,D],[I,O],[F,$],[L,q]]),k=L,D=q}const A=ae(this,Yc,goe).call(this,C);o.bezierPath2D.push(A)}const y=ae(v=o,tt,jF).call(v);return ie(o,pp,Math.max($n.MIN_SIZE,y[2]-y[0])),ie(o,hp,Math.max($n.MIN_SIZE,y[3]-y[1])),ae(E=o,tt,HF).call(E,l,u),o}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=$n._colorManager.convert(this.ctx.strokeStyle);return{annotationType:bn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:ae(this,tt,yoe).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};hp=new WeakMap,pp=new WeakMap,Ox=new WeakMap,Fx=new WeakMap,$x=new WeakMap,gp=new WeakMap,Ul=new WeakMap,wc=new WeakMap,Ws=new WeakMap,mp=new WeakMap,yp=new WeakMap,_c=new WeakMap,vp=new WeakMap,bp=new WeakMap,af=new WeakMap,tt=new WeakSet,ooe=function(n){const r=o=>{this.thickness=o,ae(this,tt,nw).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},soe=function(n){const r=o=>{this.color=o,ae(this,tt,vh).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aoe=function(n){const r=o=>{this.opacity=o,ae(this,tt,vh).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:qt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},loe=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},zF=function(){const{ctx:n,color:r,opacity:i,thickness:o,parentScale:s,scaleFactor:a}=this;n.lineWidth=o*s/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${k8e(i)}`},uoe=function(n,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Go,{signal:i}),this.canvas.addEventListener("pointerleave",T(this,Fx),{signal:i}),this.canvas.addEventListener("pointermove",T(this,Ox),{signal:i}),this.canvas.addEventListener("pointerup",T(this,$x),{signal:i}),this.canvas.removeEventListener("pointerdown",T(this,gp)),this.isEditing=!0,T(this,yp)||(ie(this,yp,!0),ae(this,tt,Xm).call(this),this.thickness||(this.thickness=yr._defaultThickness),this.color||(this.color=yr._defaultColor||$n._defaultLineColor),this.opacity??(this.opacity=yr._defaultOpacity)),this.currentPath.push([n,r]),ie(this,mp,!1),ae(this,tt,zF).call(this),ie(this,af,()=>{ae(this,tt,foe).call(this),T(this,af)&&window.requestAnimationFrame(T(this,af))}),window.requestAnimationFrame(T(this,af))},VF=function(n,r){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===o)return;const s=this.currentPath;let a=T(this,wc);if(s.push([n,r]),ie(this,mp,!0),s.length<=2){a.moveTo(...s[0]),a.lineTo(n,r);return}s.length===3&&(ie(this,wc,a=new Path2D),a.moveTo(...s[0])),ae(this,tt,hoe).call(this,a,...s.at(-3),...s.at(-2),n,r)},coe=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);T(this,wc).lineTo(...n)},doe=function(n,r){ie(this,af,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),ae(this,tt,VF).call(this,n,r),ae(this,tt,coe).call(this);let i;if(this.currentPath.length!==1)i=ae(this,tt,poe).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const o=T(this,wc),s=this.currentPath;this.currentPath=[],ie(this,wc,new Path2D);const a=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ae(this,tt,PC).call(this),ae(this,tt,MC).call(this)),ae(this,tt,nw).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},foe=function(){if(!T(this,mp))return;ie(this,mp,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),o=r.map(a=>a[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...o)-n,Math.max(...o)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)s.stroke(a);s.stroke(T(this,wc)),s.restore()},hoe=function(n,r,i,o,s,a,l){const u=(r+o)/2,c=(i+s)/2,d=(o+a)/2,f=(s+l)/2;n.bezierCurveTo(u+2*(o-u)/3,c+2*(s-c)/3,d+2*(o-d)/3,f+2*(s-f)/3,d,f)},poe=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[o,s]=n[0];for(i=1;i<n.length-2;i++){const[p,m]=n[i],[y,b]=n[i+1],v=(p+y)/2,E=(m+b)/2,x=[o+2*(p-o)/3,s+2*(m-s)/3],C=[v+2*(p-v)/3,E+2*(m-E)/3];r.push([[o,s],x,C,[v,E]]),[o,s]=[v,E]}const[a,l]=n[i],[u,c]=n[i+1],d=[o+2*(a-o)/3,s+2*(l-s)/3],f=[u+2*(a-u)/3,c+2*(l-c)/3];return r.push([[o,s],d,f,[u,c]]),r},vh=function(){if(this.isEmpty()){ae(this,tt,NC).call(this);return}ae(this,tt,zF).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),ae(this,tt,NC).call(this);for(const i of this.bezierPath2D)r.stroke(i)},UF=function(n){this.canvas.removeEventListener("pointerleave",T(this,Fx)),this.canvas.removeEventListener("pointermove",T(this,Ox)),this.canvas.removeEventListener("pointerup",T(this,$x)),this.canvas.addEventListener("pointerdown",T(this,gp),{signal:this._uiManager._signal}),T(this,Ul)&&clearTimeout(T(this,Ul)),ie(this,Ul,setTimeout(()=>{ie(this,Ul,null),this.canvas.removeEventListener("contextmenu",Go)},10)),ae(this,tt,doe).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},PC=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},MC=function(){ie(this,_c,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),T(this,_c).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=T(this,_c))==null||n.disconnect(),ie(this,_c,null)},{once:!0})},Xm=function(){if(!T(this,yp))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),ae(this,tt,NC).call(this)},HF=function(n,r){const i=ae(this,tt,DC).call(this),o=(n-i)/T(this,pp),s=(r-i)/T(this,hp);this.scaleFactor=Math.min(o,s)},NC=function(){const n=ae(this,tt,DC).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},Yc=new WeakSet,goe=function(n){const r=new Path2D;for(let i=0,o=n.length;i<o;i++){const[s,a,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},qF=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+o,n[u+1]=d+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=a-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},moe=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-s,n[u+1]=d-o}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return n},yoe=function(n,r,i,o){var c,d;const s=[],a=this.thickness/2,l=n*r+a,u=n*i+a;for(const f of this.paths){const p=[],m=[];for(let y=0,b=f.length;y<b;y++){const[v,E,x,C]=f[y];if(v[0]===C[0]&&v[1]===C[1]&&b===1){const $=n*v[0]+l,L=n*v[1]+u;p.push($,L),m.push($,L);break}const k=n*v[0]+l,D=n*v[1]+u,A=n*E[0]+l,P=n*E[1]+u,M=n*x[0]+l,I=n*x[1]+u,O=n*C[0]+l,F=n*C[1]+u;y===0&&(p.push(k,D),m.push(k,D)),p.push(A,P,M,I,O,F),m.push(A,P),y===b-1&&m.push(O,F)}s.push({bezier:ae(c=yr,Yc,qF).call(c,p,o,this.rotation),points:ae(d=yr,Yc,qF).call(d,m,o,this.rotation)})}return s},jF=function(){let n=1/0,r=-1/0,i=1/0,o=-1/0;for(const s of this.paths)for(const[a,l,u,c]of s){const d=Ct.bezierBoundingBox(...a,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),o=Math.max(o,d[3])}return[n,i,r,o]},DC=function(){return T(this,Ws)?Math.ceil(this.thickness*this.parentScale):0},nw=function(n=!1){if(this.isEmpty())return;if(!T(this,Ws)){ae(this,tt,vh).call(this);return}const r=ae(this,tt,jF).call(this),i=ae(this,tt,DC).call(this);ie(this,pp,Math.max($n.MIN_SIZE,r[2]-r[0])),ie(this,hp,Math.max($n.MIN_SIZE,r[3]-r[1]));const o=Math.ceil(i+T(this,pp)*this.scaleFactor),s=Math.ceil(i+T(this,hp)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=o/a,this.height=s/l,this.setAspectRatio(o,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],ae(this,tt,Xm).call(this),ae(this,tt,vh).call(this),ie(this,vp,o),ie(this,bp,s),this.setDims(o,s);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},le(yr,Yc),dt(yr,"_defaultColor",null),dt(yr,"_defaultOpacity",1),dt(yr,"_defaultThickness",1),dt(yr,"_type","ink"),dt(yr,"_editorType",bn.INK);let BF=yr;var Ti,Ai,lf,xc,uf,sv,Hl,Ec,ql,qa,Bx,An,rw,iw,LC,GF,voe,boe,KF,OC,woe;const Tw=class Tw extends $n{constructor(n){super({...n,name:"stampEditor"});le(this,An);le(this,Ti,null);le(this,Ai,null);le(this,lf,null);le(this,xc,null);le(this,uf,null);le(this,sv,"");le(this,Hl,null);le(this,Ec,null);le(this,ql,null);le(this,qa,!1);le(this,Bx,!1);ie(this,xc,n.bitmapUrl),ie(this,uf,n.bitmapFile)}static initialize(n,r){$n.initialize(n,r)}static get supportedTypes(){return Sn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Sn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(bn.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,r;T(this,Ai)&&(ie(this,Ti,null),this._uiManager.imageManager.deleteId(T(this,Ai)),(n=T(this,Hl))==null||n.remove(),ie(this,Hl,null),(r=T(this,Ec))==null||r.disconnect(),ie(this,Ec,null),T(this,ql)&&(clearTimeout(T(this,ql)),ie(this,ql,null))),super.remove()}rebuild(){if(!this.parent){T(this,Ai)&&ae(this,An,LC).call(this);return}super.rebuild(),this.div!==null&&(T(this,Ai)&&T(this,Hl)===null&&ae(this,An,LC).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(T(this,lf)||T(this,Ti)||T(this,xc)||T(this,uf)||T(this,Ai))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),T(this,Ti)?ae(this,An,GF).call(this):ae(this,An,LC).call(this),this.width){const[i,o]=this.parentDimensions;this.setAt(n*i,r*o,this.width*i,this.height*o)}return this.div}getImageForAltText(){return T(this,Hl)}static deserialize(n,r,i){if(n instanceof Fie)return null;const o=super.deserialize(n,r,i),{rect:s,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:c}=n;l&&i.imageManager.isValidId(l)?ie(o,Ai,l):ie(o,xc,a),ie(o,qa,u);const[d,f]=o.pageDimensions;return o.width=(s[2]-s[0])/d,o.height=(s[3]-s[1])/f,c&&(o.altTextData=c),o}serialize(n=!1,r=null){if(this.isEmpty())return null;const i={annotationType:bn.STAMP,bitmapId:T(this,Ai),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:T(this,qa),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=ae(this,An,OC).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:o,altText:s}=this.altTextData;if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),r===null)return i;r.stamps||(r.stamps=new Map);const a=T(this,qa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(T(this,Ai)))r.stamps.set(T(this,Ai),{area:a,serialized:i}),i.bitmap=ae(this,An,OC).call(this,!1);else if(T(this,qa)){const l=r.stamps.get(T(this,Ai));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=ae(this,An,OC).call(this,!1))}return i}};Ti=new WeakMap,Ai=new WeakMap,lf=new WeakMap,xc=new WeakMap,uf=new WeakMap,sv=new WeakMap,Hl=new WeakMap,Ec=new WeakMap,ql=new WeakMap,qa=new WeakMap,Bx=new WeakMap,An=new WeakSet,rw=function(n,r=!1){if(!n){this.remove();return}ie(this,Ti,n.bitmap),r||(ie(this,Ai,n.id),ie(this,qa,n.isSvg)),n.file&&ie(this,sv,n.file.name),ae(this,An,GF).call(this)},iw=function(){ie(this,lf,null),this._uiManager.enableWaiting(!1),T(this,Hl)&&this.div.focus()},LC=function(){if(T(this,Ai)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(T(this,Ai)).then(i=>ae(this,An,rw).call(this,i,!0)).finally(()=>ae(this,An,iw).call(this));return}if(T(this,xc)){const i=T(this,xc);ie(this,xc,null),this._uiManager.enableWaiting(!0),ie(this,lf,this._uiManager.imageManager.getFromUrl(i).then(o=>ae(this,An,rw).call(this,o)).finally(()=>ae(this,An,iw).call(this)));return}if(T(this,uf)){const i=T(this,uf);ie(this,uf,null),this._uiManager.enableWaiting(!0),ie(this,lf,this._uiManager.imageManager.getFromFile(i).then(o=>ae(this,An,rw).call(this,o)).finally(()=>ae(this,An,iw).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Tw.supportedTypesStr;const r=this._uiManager._signal;ie(this,lf,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);ae(this,An,rw).call(this,o)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>ae(this,An,iw).call(this))),n.click()},GF=function(){const{div:n}=this;let{width:r,height:i}=T(this,Ti);const[o,s]=this.pageDimensions,a=.75;if(this.width)r=this.width*o,i=this.height*s;else if(r>a*o||i>a*s){const d=Math.min(a*o/r,a*s/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/o,i*u/s),this._uiManager.enableWaiting(!1);const c=ie(this,Hl,document.createElement("canvas"));n.append(c),n.hidden=!1,ae(this,An,KF).call(this,r,i),ae(this,An,woe).call(this),T(this,Bx)||(this.parent.addUndoableEditor(this),ie(this,Bx,!0)),this._reportTelemetry({action:"inserted_image"}),T(this,sv)&&c.setAttribute("aria-label",T(this,sv))},voe=function(n,r){var a;const[i,o]=this.parentDimensions;this.width=n/i,this.height=r/o,this.setDims(n,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,T(this,ql)!==null&&clearTimeout(T(this,ql)),ie(this,ql,setTimeout(()=>{ie(this,ql,null),ae(this,An,KF).call(this,n,r)},200))},boe=function(n,r){const{width:i,height:o}=T(this,Ti);let s=i,a=o,l=T(this,Ti);for(;s>2*n||a>2*r;){const u=s,c=a;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,s,a),l=d.transferToImageBitmap()}return l},KF=function(n,r){n=Math.ceil(n),r=Math.ceil(r);const i=T(this,Hl);if(!i||i.width===n&&i.height===r)return;i.width=n,i.height=r;const o=T(this,qa)?T(this,Ti):ae(this,An,boe).call(this,n,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(n,r).getContext("2d");l.drawImage(o,0,0,o.width,o.height,0,0,n,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,n,r).data,width:n,height:r,channels:4}}).then(u=>{const c=(u==null?void 0:u.output)||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(o,0,0,o.width,o.height,0,0,n,r)},OC=function(n){if(n){if(T(this,qa)){const o=this._uiManager.imageManager.getSvgUrl(T(this,Ai));if(o)return o}const r=document.createElement("canvas");return{width:r.width,height:r.height}=T(this,Ti),r.getContext("2d").drawImage(T(this,Ti),0,0),r.toDataURL()}if(T(this,qa)){const[r,i]=this.pageDimensions,o=Math.round(this.width*r*Mf.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Mf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(o,s);return a.getContext("2d").drawImage(T(this,Ti),0,0,T(this,Ti).width,T(this,Ti).height,0,0,o,s),a.transferToImageBitmap()}return structuredClone(T(this,Ti))},woe=function(){this._uiManager._signal&&(ie(this,Ec,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&ae(this,An,voe).call(this,r.width,r.height)})),T(this,Ec).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=T(this,Ec))==null||n.disconnect(),ie(this,Ec,null)},{once:!0}))},dt(Tw,"_type","stamp"),dt(Tw,"_editorType",bn.STAMP);let WF=Tw;var wp,av,jl,_p,Sc,Cc,Tc,bs,cf,lv,uv,co,At,df,Pi,_oe,XF,JF,QF,FC;const ka=class ka{constructor({uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,drawLayer:s,textLayer:a,viewport:l,l10n:u}){le(this,Pi);le(this,wp);le(this,av,!1);le(this,jl,null);le(this,_p,null);le(this,Sc,null);le(this,Cc,null);le(this,Tc,null);le(this,bs,new Map);le(this,cf,!1);le(this,lv,!1);le(this,uv,!1);le(this,co,null);le(this,At);const c=[...T(ka,df).values()];if(!ka._initialized){ka._initialized=!0;for(const d of c)d.initialize(u,e)}e.registerEditorTypes(c),ie(this,At,e),this.pageIndex=n,this.div=r,ie(this,wp,i),ie(this,jl,o),this.viewport=l,ie(this,co,a),this.drawLayer=s,T(this,At).addLayer(this)}get isEmpty(){return T(this,bs).size===0}get isInvisible(){return this.isEmpty&&T(this,At).getMode()===bn.NONE}updateToolbar(e){T(this,At).updateToolbar(e)}updateMode(e=T(this,At).getMode()){switch(ae(this,Pi,FC).call(this),e){case bn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case bn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case bn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of T(ka,df).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=T(this,co))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(T(this,At).getMode()!==bn.INK)return;if(!e){for(const r of T(this,bs).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){T(this,At).setEditingState(e)}addCommands(e){T(this,At).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=T(this,jl))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of T(this,bs).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(T(this,At).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!T(this,jl))return;const n=T(this,jl).getEditableAnnotations();for(const r of n){if(r.hide(),T(this,At).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;ie(this,uv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const o of T(this,bs).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else n.set(o.annotationElementId,o);(i=this.getEditableAnnotation(o.annotationElementId))==null||i.show(),o.remove()}if(T(this,jl)){const o=T(this,jl).getEditableAnnotations();for(const s of o){const{id:a}=s.data;if(T(this,At).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(a),l&&(T(this,At).addChangedExistingAnnotation(l),l.renderAnnotationElement(s),l.show(!1)),s.show()}}ae(this,Pi,FC).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const o of T(ka,df).values())r.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ie(this,uv,!1)}getEditableAnnotation(e){var n;return((n=T(this,jl))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){T(this,At).getActive()!==e&&T(this,At).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=T(this,co))!=null&&e.div&&!T(this,Cc)&&(ie(this,Cc,ae(this,Pi,_oe).bind(this)),T(this,co).div.addEventListener("pointerdown",T(this,Cc),{signal:T(this,At)._signal}),T(this,co).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=T(this,co))!=null&&e.div&&T(this,Cc)&&(T(this,co).div.removeEventListener("pointerdown",T(this,Cc)),ie(this,Cc,null),T(this,co).div.classList.remove("highlighting"))}enableClick(){if(T(this,Sc))return;const e=T(this,At)._signal;ie(this,Sc,this.pointerdown.bind(this)),ie(this,_p,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",T(this,Sc),{signal:e}),this.div.addEventListener("pointerup",T(this,_p),{signal:e})}disableClick(){T(this,Sc)&&(this.div.removeEventListener("pointerdown",T(this,Sc)),this.div.removeEventListener("pointerup",T(this,_p)),ie(this,Sc,null),ie(this,_p,null))}attach(e){T(this,bs).set(e.id,e);const{annotationElementId:n}=e;n&&T(this,At).isDeletedAnnotationElement(n)&&T(this,At).removeDeletedAnnotationElement(e)}detach(e){var n;T(this,bs).delete(e.id),(n=T(this,wp))==null||n.removePointerInTextLayer(e.contentDiv),!T(this,uv)&&e.annotationElementId&&T(this,At).addDeletedAnnotationElement(e)}remove(e){this.detach(e),T(this,At).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,T(this,lv)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(T(this,At).addDeletedAnnotationElement(e.annotationElementId),$n.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),T(this,At).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),T(this,At).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!T(this,Tc)&&(e._focusEventsAllowed=!1,ie(this,Tc,setTimeout(()=>{ie(this,Tc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:T(this,At)._signal}),n.focus())},0))),e._structTreeParentId=(r=T(this,wp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return T(this,At).getId()}get _signal(){return T(this,At)._signal}canCreateNewEmptyEditor(){var e;return(e=T(this,Pi,XF))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){T(this,At).updateToolbar(e),T(this,At).updateMode(e);const{offsetX:r,offsetY:i}=ae(this,Pi,QF).call(this),o=this.getNextId(),s=ae(this,Pi,JF).call(this,{parent:this,id:o,x:r,y:i,uiManager:T(this,At),isCentered:!0,...n});s&&this.add(s)}deserialize(e){var n;return((n=T(ka,df).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,T(this,At)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),o=ae(this,Pi,JF).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:T(this,At),isCentered:n,...r});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(ae(this,Pi,QF).call(this),!0)}setSelected(e){T(this,At).setSelected(e)}toggleSelected(e){T(this,At).toggleSelected(e)}isSelected(e){return T(this,At).isSelected(e)}unselect(e){T(this,At).unselect(e)}pointerup(e){const{isMac:n}=Vo.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&T(this,cf)){if(ie(this,cf,!1),!T(this,av)){ie(this,av,!0);return}if(T(this,At).getMode()===bn.STAMP){T(this,At).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(T(this,At).getMode()===bn.HIGHLIGHT&&this.enableTextSelection(),T(this,cf)){ie(this,cf,!1);return}const{isMac:n}=Vo.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;ie(this,cf,!0);const r=T(this,At).getActive();ie(this,av,!r||r.isEmpty())}findNewParent(e,n,r){const i=T(this,At).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=T(this,At).getActive())==null?void 0:e.parent)===this&&(T(this,At).commitOrRemove(),T(this,At).setActiveEditor(null)),T(this,Tc)&&(clearTimeout(T(this,Tc)),ie(this,Tc,null));for(const r of T(this,bs).values())(n=T(this,wp))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,T(this,bs).clear(),T(this,At).removeLayer(this)}render({viewport:e}){this.viewport=e,Hp(this.div,e);for(const n of T(this,At).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){T(this,At).commitOrRemove(),ae(this,Pi,FC).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Hp(this.div,{rotation:r}),n!==r)for(const i of T(this,bs).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return T(this,At).viewParameters.realScale}};wp=new WeakMap,av=new WeakMap,jl=new WeakMap,_p=new WeakMap,Sc=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,bs=new WeakMap,cf=new WeakMap,lv=new WeakMap,uv=new WeakMap,co=new WeakMap,At=new WeakMap,df=new WeakMap,Pi=new WeakSet,_oe=function(e){if(T(this,At).unselectAll(),e.target===T(this,co).div){const{isMac:n}=Vo.platform;if(e.button!==0||e.ctrlKey&&n)return;T(this,At).showAllEditors("highlight",!0,!0),T(this,co).div.classList.add("free"),GT.startHighlighting(this,T(this,At).direction==="ltr",e),T(this,co).div.addEventListener("pointerup",()=>{T(this,co).div.classList.remove("free")},{once:!0,signal:T(this,At)._signal}),e.preventDefault()}},XF=function(){return T(ka,df).get(T(this,At).getMode())},JF=function(e){const n=T(this,Pi,XF);return n?new n.prototype.constructor(e):null},QF=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),o=Math.max(0,e),s=Math.max(0,n),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(o+a)/2-e,c=(s+l)/2-n,[d,f]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:f}},FC=function(){ie(this,lv,!0);for(const e of T(this,bs).values())e.isEmpty()&&e.remove();ie(this,lv,!1)},dt(ka,"_initialized",!1),le(ka,df,new Map([RF,BF,WF,GT].map(e=>[e._editorType,e])));let YF=ka;var Wl,zx,ri,ff,Vx,e5,Kp,t5,xoe;const _i=class _i{constructor({pageIndex:e}){le(this,Kp);le(this,Wl,null);le(this,zx,0);le(this,ri,new Map);le(this,ff,new Map);this.pageIndex=e}setParent(e){if(!T(this,Wl)){ie(this,Wl,e);return}if(T(this,Wl)!==e){if(T(this,ri).size>0)for(const n of T(this,ri).values())n.remove(),e.append(n);ie(this,Wl,e)}}static get _svgFactory(){return Sn(this,"_svgFactory",new c$)}highlight(e,n,r,i=!1){const o=as(this,zx)._++,s=ae(this,Kp,t5).call(this,e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");const a=_i._svgFactory.createElement("defs");s.append(a);const l=_i._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&T(this,ff).set(o,l);const c=ae(this,Kp,xoe).call(this,a,u),d=_i._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),T(this,ri).set(o,s),{id:o,clipPathId:`url(#${c})`}}highlightOutline(e){const n=as(this,zx)._++,r=ae(this,Kp,t5).call(this,e.box);r.classList.add("highlightOutline");const i=_i._svgFactory.createElement("defs");r.append(i);const o=_i._svgFactory.createElement("path");i.append(o);const s=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",s),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const c=_i._svgFactory.createElement("mask");i.append(c),a=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");const d=_i._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=_i._svgFactory.createElement("use");c.append(f),f.setAttribute("href",`#${s}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=_i._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),T(this,ri).set(n,r),n}finalizeLine(e,n){const r=T(this,ff).get(e);T(this,ff).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){T(this,ri).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),T(this,ff).delete(e)}updatePath(e,n){T(this,ff).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;ae(r=_i,Vx,e5).call(r,T(this,ri).get(e),n)}show(e,n){T(this,ri).get(e).classList.toggle("hidden",!n)}rotate(e,n){T(this,ri).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){T(this,ri).get(e).setAttribute("fill",n)}changeOpacity(e,n){T(this,ri).get(e).setAttribute("fill-opacity",n)}addClass(e,n){T(this,ri).get(e).classList.add(n)}removeClass(e,n){T(this,ri).get(e).classList.remove(n)}remove(e){T(this,Wl)!==null&&(T(this,ri).get(e).remove(),T(this,ri).delete(e))}destroy(){ie(this,Wl,null);for(const e of T(this,ri).values())e.remove();T(this,ri).clear()}};Wl=new WeakMap,zx=new WeakMap,ri=new WeakMap,ff=new WeakMap,Vx=new WeakSet,e5=function(e,{x:n=0,y:r=0,width:i=1,height:o=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*o}%`},Kp=new WeakSet,t5=function(e){var r;const n=_i._svgFactory.create(1,1,!0);return T(this,Wl).append(n),n.setAttribute("aria-hidden",!0),ae(r=_i,Vx,e5).call(r,n,e),n},xoe=function(e,n){const r=_i._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const o=_i._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),i},le(_i,Vx);let ZF=_i;Vt.AbortException;Vt.AnnotationEditorLayer;Vt.AnnotationEditorParamsType;Vt.AnnotationEditorType;Vt.AnnotationEditorUIManager;Vt.AnnotationLayer;Vt.AnnotationMode;Vt.CMapCompressionType;Vt.ColorPicker;Vt.DOMSVGFactory;Vt.DrawLayer;Vt.FeatureTest;var sje=Vt.GlobalWorkerOptions;Vt.ImageKind;Vt.InvalidPDFException;Vt.MissingPDFException;Vt.OPS;Vt.Outliner;Vt.PDFDataRangeTransport;Vt.PDFDateString;Vt.PDFWorker;Vt.PasswordResponses;Vt.PermissionFlag;Vt.PixelsPerInch;Vt.RenderingCancelledException;Vt.TextLayer;Vt.UnexpectedResponseException;Vt.Util;Vt.VerbosityLevel;Vt.XfaLayer;Vt.build;Vt.createValidAbsoluteUrl;Vt.fetchData;var aje=Vt.getDocument;Vt.getFilenameFromUrl;Vt.getPdfFilenameFromUrl;Vt.getXfaPageViewport;Vt.isDataScheme;Vt.isPdfFile;Vt.noContextMenu;Vt.normalizeUnicode;Vt.renderTextLayer;Vt.setLayerDimensions;Vt.shadow;Vt.updateTextLayer;Vt.version;const lje=t=>ue.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(t.loaded/t.total*100),"%"),uje=t=>ue.createElement("div",{style:{color:"black"}},t.message),cje=t=>{throw new Error(`Error loading PDF document: ${t.message}!`)},dje="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",fje=({document:t,beforeLoad:e=lje,errorMessage:n=uje,children:r,onError:i=cje,workerSrc:o=dje})=>{const s=z.useRef(null),a=z.useRef(null),[l,u]=z.useState(null),[c,d]=z.useState(null);return z.useEffect(()=>(sje.workerSrc=o,s.current=aje(t),s.current.onProgress=f=>{d(f.loaded>f.total?null:f)},s.current.promise.then(f=>{a.current=f}).catch(f=>{f.message!="Worker was destroyed"&&(u(f),i(f))}).finally(()=>{d(null)}),()=>{s.current&&s.current.destroy(),a.current&&a.current.destroy()}),[t]),l?n(l):c?e(c):a.current&&r(a.current)};function hje({readRecords:t,displayedReads:e,setSelectedHighlightId:n}){const{highlight:r,isScrolledTo:i,highlightBindings:o}=CHe(),s=e.includes(r.readRecordId)?t[r.readRecordId].color:"#e6e6e6";return r.type==="text"?V.jsx(FHe,{isScrolledTo:i,highlight:r,style:{background:s},onClick:()=>n(r.id)}):V.jsx(s8e,{isScrolledTo:i,highlight:r,bounds:o.textLayer,style:{background:s,pointerEvents:"none"}})}const pje=t=>{document.location.hash=`highlight-${t.id}`},gje=({highlights:t,resetHighlights:e})=>{const{readRecords:n}=la(),r=i=>{const o=parseInt(i.slice(1,3),16),s=parseInt(i.slice(3,5),16),a=parseInt(i.slice(5,7),16);return`rgba(${o}, ${s}, ${a}, 1)`};return V.jsxs("div",{className:"sidebar",style:{width:"25%"},children:[t&&V.jsx("ul",{className:"sidebar__highlights",children:t.map((i,o)=>V.jsxs("li",{className:"sidebar__highlight",onClick:()=>{pje(i)},style:{backgroundColor:r(n[i.readRecordId].color)},children:[V.jsxs("div",{children:[i.content.text&&V.jsx("blockquote",{style:{marginTop:"0.5rem"},children:`${i.content.text.slice(0,90).trim()}`}),i.content.image&&V.jsx("div",{className:"highlight__image__container",style:{marginTop:"0.5rem"},children:V.jsx("img",{src:i.content.image,alt:"Screenshot",className:"highlight__image"})})]}),V.jsxs("div",{className:"highlight__location",children:["Page ",i.position.boundingRect.pageNumber]})]},o))}),t&&t.length>0&&V.jsx("div",{style:{padding:"0.5rem"},children:V.jsx("button",{onClick:e,className:"sidebar__reset",children:"Reset highlights"})})]})},mje=({addHighlight:t})=>{const e=z.useRef(null),{getCurrentSelection:n,removeGhostHighlight:r,setTip:i}=pre();return V.jsx("div",{className:"Tip",children:V.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=n(),t({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function RS(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zN={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var EG;function yje(){return EG||(EG=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function s(u,c){if(!i[u]){if(!r[u]){var d=typeof RS=="function"&&RS;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(m){var y=r[u][1][m];return s(y||m)},p,p.exports,n,r,i,o)}return i[u].exports}for(var a=typeof RS=="function"&&RS,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,f,p,m,y,b=[],v=0,E=l.length,x=E,C=o.getTypeOf(l)!=="string";v<l.length;)x=E-v,d=C?(u=l[v++],c=v<E?l[v++]:0,v<E?l[v++]:0):(u=l.charCodeAt(v++),c=v<E?l.charCodeAt(v++):0,v<E?l.charCodeAt(v++):0),f=u>>2,p=(3&u)<<4|c>>4,m=1<x?(15&c)<<2|d>>6:64,y=2<x?63&d:64,b.push(a.charAt(f)+a.charAt(p)+a.charAt(m)+a.charAt(y));return b.join("")},i.decode=function(l){var u,c,d,f,p,m,y=0,b=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var E,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=s.uint8array?new Uint8Array(0|x):new Array(0|x);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(f=a.indexOf(l.charAt(y++)))>>4,c=(15&f)<<4|(p=a.indexOf(l.charAt(y++)))>>2,d=(3&p)<<6|(m=a.indexOf(l.charAt(y++))),E[b++]=u,p!==64&&(E[b++]=c),m!==64&&(E[b++]=d);return E}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,f,p,m){this.compressedSize=c,this.uncompressedSize=d,this.crc32=f,this.compression=p,this.compressedContent=m}u.prototype={getContentWorker:function(){var c=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(u,c,d,f){var p=s,m=f+d;u^=-1;for(var y=f;y<m;y++)u=u>>>8^p[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,d,f){var p=s,m=f+d;u^=-1;for(var y=f;y<m;y++)u=u>>>8^p[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=o?"uint8array":"array";function c(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(p,m){var y,b="";for(y=0;y<m;y++)b+=String.fromCharCode(255&p),p>>>=8;return b}function s(p,m,y,b,v,E){var x,C,k=p.file,D=p.compression,A=E!==u.utf8encode,P=a.transformTo("string",E(k.name)),M=a.transformTo("string",u.utf8encode(k.name)),I=k.comment,O=a.transformTo("string",E(I)),F=a.transformTo("string",u.utf8encode(I)),$=M.length!==k.name.length,L=F.length!==I.length,q="",K="",X="",ee=k.dir,J=k.date,G={crc32:0,compressedSize:0,uncompressedSize:0};m&&!y||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var Y=0;m&&(Y|=8),A||!$&&!L||(Y|=2048);var Z=0,W=0;ee&&(Z|=16),v==="UNIX"?(W=798,Z|=function(re,me){var ge=re;return re||(ge=me?16893:33204),(65535&ge)<<16}(k.unixPermissions,ee)):(W=20,Z|=function(re){return 63&(re||0)}(k.dosPermissions)),x=J.getUTCHours(),x<<=6,x|=J.getUTCMinutes(),x<<=5,x|=J.getUTCSeconds()/2,C=J.getUTCFullYear()-1980,C<<=4,C|=J.getUTCMonth()+1,C<<=5,C|=J.getUTCDate(),$&&(K=o(1,1)+o(c(P),4)+M,q+="up"+o(K.length,2)+K),L&&(X=o(1,1)+o(c(O),4)+F,q+="uc"+o(X.length,2)+X);var oe="";return oe+=`
\0`,oe+=o(Y,2),oe+=D.magic,oe+=o(x,2),oe+=o(C,2),oe+=o(G.crc32,4),oe+=o(G.compressedSize,4),oe+=o(G.uncompressedSize,4),oe+=o(P.length,2),oe+=o(q.length,2),{fileRecord:d.LOCAL_FILE_HEADER+oe+P+q,dirRecord:d.CENTRAL_FILE_HEADER+o(W,2)+oe+o(O.length,2)+"\0\0\0\0"+o(Z,4)+o(b,4)+P+q+O}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function f(p,m,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(p){var m=p.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(m+100*(y-b-1))/y:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var m=this.streamFiles&&!p.file.dir;if(m){var y=s(p,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var m=this.streamFiles&&!p.file.dir,y=s(p,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),m)this.push({data:function(b){return d.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var y=this.bytesWritten-p,b=function(v,E,x,C,k){var D=a.transformTo("string",k(C));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(E,4)+o(x,4)+o(D.length,2)+D}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var m=this;return p.on("data",function(y){m.processChunk(y)}),p.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),p.on("error",function(y){m.error(y)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var m=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var y=0;y<m.length;y++)try{m[y].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,m=0;m<p.length;m++)p[m].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,p){d++;var m=function(E,x){var C=E||x,k=o[C];if(!k)throw new Error(C+" is not a valid compression method !");return k}(p.options.compression,l.compression),y=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,v=p.date;p._compressWorker(m,y).withStreamInfo("file",{name:f,dir:b,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(f){return new s.Promise(function(p,m){var y=f.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){m(b)}).on("end",function(){y.streamInfo.crc32!==f.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var m=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(y){var b=new l(p);return b.load(y),b}).then(function(y){var b=[s.Promise.resolve(y)],v=y.files;if(p.checkCRC32)for(var E=0;E<v.length;E++)b.push(d(v[E]));return s.Promise.all(b)}).then(function(y){for(var b=y.shift(),v=b.files,E=0;E<v.length;E++){var x=v[E],C=x.fileNameStr,k=o.resolve(x.fileNameStr);m.file(k,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:p.createFolders}),x.dir||(m.file(k).unsafeOriginalName=C)}return b.zipComment.length&&(m.comment=b.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,u){o.call(this,l),this._helper=a;var c=this;a.on("data",function(d,f){c.push(d)||c._helper.pause(),u&&u(f)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(k,D,A){var P,M=a.getTypeOf(D),I=a.extend(A||{},c);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(k=v(k)),I.createFolders&&(P=b(k))&&E.call(this,P,!0);var O=M==="string"&&I.binary===!1&&I.base64===!1;A&&A.binary!==void 0||(I.binary=!O),(D instanceof d&&D.uncompressedSize===0||I.dir||!D||D.length===0)&&(I.base64=!1,I.binary=!0,D="",I.compression="STORE",M="string");var F=null;F=D instanceof d||D instanceof l?D:m.isNode&&m.isStream(D)?new y(k,D):a.prepareContent(k,D,I.binary,I.optimizedBinaryString,I.base64);var $=new f(k,F,I);this.files[k]=$}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),m=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var D=k.lastIndexOf("/");return 0<D?k.substring(0,D):""},v=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},E=function(k,D){return D=D!==void 0?D:c.createFolders,k=v(k),this.files[k]||o.call(this,k,null,{dir:!0,createFolders:D}),this.files[k]};function x(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var D,A,P;for(D in this.files)P=this.files[D],(A=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&k(A,P)},filter:function(k){var D=[];return this.forEach(function(A,P){k(A,P)&&D.push(P)}),D},file:function(k,D,A){if(arguments.length!==1)return k=this.root+k,o.call(this,k,D,A),this;if(x(k)){var P=k;return this.filter(function(I,O){return!O.dir&&P.test(I)})}var M=this.files[this.root+k];return M&&!M.dir?M:null},folder:function(k){if(!k)return this;if(x(k))return this.filter(function(M,I){return I.dir&&k.test(M)});var D=this.root+k,A=E.call(this,D),P=this.clone();return P.root=A.name,P},remove:function(k){k=this.root+k;var D=this.files[k];if(D||(k.slice(-1)!=="/"&&(k+="/"),D=this.files[k]),D&&!D.dir)delete this.files[k];else for(var A=this.filter(function(M,I){return I.name.slice(0,k.length)===k}),P=0;P<A.length;P++)delete this.files[A[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var D,A={};try{if((A=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var P=A.comment||this.comment||"";D=p.generateWorker(this,A,P)}catch(M){(D=new l("error")).error(M)}return new u(D,A.type||"string",A.mimeType)},generateAsync:function(k,D){return this.generateInternalStream(k).accumulate(D)},generateNodeStream:function(k,D){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(D)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(d):s.uint8array?new c(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(m,y){return new c.Promise(function(b,v){var E=[],x=m._internalType,C=m._outputType,k=m._mimeType;m.on("data",function(D,A){E.push(D),y&&y(A)}).on("error",function(D){E=[],v(D)}).on("end",function(){try{var D=function(A,P,M){switch(A){case"blob":return o.newBlob(o.transformTo("arraybuffer",P),M);case"base64":return l.encode(P);default:return o.transformTo(A,P)}}(C,function(A,P){var M,I=0,O=null,F=0;for(M=0;M<P.length;M++)F+=P[M].length;switch(A){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(O=new Uint8Array(F),M=0;M<P.length;M++)O.set(P[M],I),I+=P[M].length;return O;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+A+"'")}}(x,E),k);b(D)}catch(A){v(A)}E=[]}).resume()})}function p(m,y,b){var v=y;switch(y){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=y,this._mimeType=b,o.checkSupport(v),this._worker=m.pipe(new s(v)),m.lock()}catch(E){this._worker=new a("error"),this._worker.error(E)}}p.prototype={accumulate:function(m){return f(this,m)},on:function(m,y){var b=this;return m==="data"?this._worker.on(m,function(v){y.call(b,v.data,v.meta)}):this._worker.on(m,function(){o.delay(y,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return s.nodebuffer?a.newBufferFrom(p,"utf-8"):function(m){var y,b,v,E,x,C=m.length,k=0;for(E=0;E<C;E++)(64512&(b=m.charCodeAt(E)))==55296&&E+1<C&&(64512&(v=m.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),E++),k+=b<128?1:b<2048?2:b<65536?3:4;for(y=s.uint8array?new Uint8Array(k):new Array(k),E=x=0;x<k;E++)(64512&(b=m.charCodeAt(E)))==55296&&E+1<C&&(64512&(v=m.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),E++),b<128?y[x++]=b:(b<2048?y[x++]=192|b>>>6:(b<65536?y[x++]=224|b>>>12:(y[x++]=240|b>>>18,y[x++]=128|b>>>12&63),y[x++]=128|b>>>6&63),y[x++]=128|63&b);return y}(p)},i.utf8decode=function(p){return s.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(m){var y,b,v,E,x=m.length,C=new Array(2*x);for(y=b=0;y<x;)if((v=m[y++])<128)C[b++]=v;else if(4<(E=u[v]))C[b++]=65533,y+=E-1;else{for(v&=E===2?31:E===3?15:7;1<E&&y<x;)v=v<<6|63&m[y++],E--;1<E?C[b++]=65533:v<65536?C[b++]=v:(v-=65536,C[b++]=55296|v>>10&1023,C[b++]=56320|1023&v)}return C.length!==b&&(C.subarray?C=C.subarray(0,b):C.length=b),o.applyFromCharCode(C)}(p=o.transformTo(s.uint8array?"uint8array":"array",p))},o.inherits(d,l),d.prototype.processChunk=function(p){var m=o.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=m;(m=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),m.set(y,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var b=function(E,x){var C;for((x=x||E.length)>E.length&&(x=E.length),C=x-1;0<=C&&(192&E[C])==128;)C--;return C<0||C===0?x:C+u[E[C]]>x?C:x}(m),v=m;b!==m.length&&(s.uint8array?(v=m.subarray(0,b),this.leftOver=m.subarray(b,m.length)):(v=m.slice(0,b),this.leftOver=m.slice(b,m.length))),this.push({data:i.utf8decode(v),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,b){for(var v=0;v<y.length;++v)b[v]=255&y.charCodeAt(v);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(y),v.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(y,b,v){var E=[],x=0,C=y.length;if(C<=v)return String.fromCharCode.apply(null,y);for(;x<C;)b==="array"||b==="nodebuffer"?E.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+v,C)))):E.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+v,C)))),x+=v;return E.join("")},stringifyByChar:function(y){for(var b="",v=0;v<y.length;v++)b+=String.fromCharCode(y[v]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(y){var b=65536,v=i.getTypeOf(y),E=!0;if(v==="uint8array"?E=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(E=d.applyCanBeUsed.nodebuffer),E)for(;1<b;)try{return d.stringifyByChunk(y,v,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(y)}function p(y,b){for(var v=0;v<y.length;v++)b[v]=y[v];return b}i.applyFromCharCode=f;var m={};m.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return m.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},m.array={string:f,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},m.arraybuffer={string:function(y){return f(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},m.uint8array={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},m.nodebuffer={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return m.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var v=i.getTypeOf(b);return m[v][y](b)},i.resolve=function(y){for(var b=y.split("/"),v=[],E=0;E<b.length;E++){var x=b[E];x==="."||x===""&&E!==0&&E!==b.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,v,E="";for(v=0;v<(y||"").length;v++)E+="\\x"+((b=y.charCodeAt(v))<16?"0":"")+b.toString(16).toUpperCase();return E},i.delay=function(y,b,v){setImmediate(function(){y.apply(v||null,b||[])})},i.inherits=function(y,b){function v(){}v.prototype=b.prototype,y.prototype=new v},i.extend=function(){var y,b,v={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&v[b]===void 0&&(v[b]=arguments[y][b]);return v},i.prepareContent=function(y,b,v,E,x){return l.Promise.resolve(b).then(function(C){return o.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,D){var A=new FileReader;A.onload=function(P){k(P.target.result)},A.onerror=function(P){D(P.target.error)},A.readAsArrayBuffer(C)}):C}).then(function(C){var k=i.getTypeOf(C);return k?(k==="arraybuffer"?C=i.transformTo("uint8array",C):k==="string"&&(x?C=s.decode(C):v&&E!==!0&&(C=function(D){return c(D,o.uint8array?new Uint8Array(D.length):new Array(D.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var p=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===f;return this.reader.setIndex(p),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",p=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,p,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var m=f-p;if(0<m)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function f(p,m){this.options=p,this.loadOptions=m}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var m,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(b){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===b)return c[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var m=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(m),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var m,y,b,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)m=p.readInt(2),y=p.readInt(2),b=p.readData(y),this.extraFields[m]={id:m,length:y,value:b};p.setIndex(v)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var y=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var v=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var m=o(p.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var m=o(p.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(m,y,b){this.name=m,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");o.prototype={internalStream:function(m){var y=null,b="string";try{if(!m)throw new Error("No output type specified.");var v=(b=m.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var E=!this._dataBinary;E&&!v&&(y=y.pipe(new l.Utf8EncodeWorker)),!E&&v&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(x){(y=new c("error")).error(x)}return new s(y,b,"")},async:function(m,y){return this.internalStream(m).accumulate(y)},nodeStream:function(m,y){return this.internalStream(m||"nodebuffer").toNodejsStream(y)},_compressWorker:function(m,y){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,m,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)o.prototype[d[p]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(m),d=o.document.createTextNode("");c.observe(d,{characterData:!0}),s=function(){d.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){m(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(m,0)};else{var f=new o.MessageChannel;f.port1.onmessage=m,s=function(){f.port2.postMessage(0)}}var p=[];function m(){var y,b;a=!0;for(var v=p.length;v;){for(b=p,p=[],y=-1;++y<v;)b[y]();v=p.length}a=!1}r.exports=function(y){p.push(y)!==1||a||s()}}).call(this,typeof ea<"u"?ea:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==s&&y(this,v)}function f(v,E,x){this.promise=v,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function p(v,E,x){o(function(){var C;try{C=E(x)}catch(k){return a.reject(v,k)}C===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,C)})}function m(v){var E=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof E=="function")return function(){E.apply(v,arguments)}}function y(v,E){var x=!1;function C(A){x||(x=!0,a.reject(v,A))}function k(A){x||(x=!0,a.resolve(v,A))}var D=b(function(){E(k,C)});D.status==="error"&&C(D.value)}function b(v,E){var x={};try{x.value=v(E),x.status="success"}catch(C){x.status="error",x.value=C}return x}(r.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var E=this.constructor;return this.then(function(x){return E.resolve(v()).then(function(){return x})},function(x){return E.resolve(v()).then(function(){throw x})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,E){if(typeof v!="function"&&this.state===u||typeof E!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==c?p(x,this.state===u?v:E,this.outcome):this.queue.push(new f(x,v,E)),x},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},a.resolve=function(v,E){var x=b(m,E);if(x.status==="error")return a.reject(v,x.value);var C=x.value;if(C)y(v,C);else{v.state=u,v.outcome=E;for(var k=-1,D=v.queue.length;++k<D;)v.queue[k].callFulfilled(E)}return v},a.reject=function(v,E){v.state=l,v.outcome=E;for(var x=-1,C=v.queue.length;++x<C;)v.queue[x].callRejected(E);return v},d.resolve=function(v){return v instanceof this?v:a.resolve(new this(s),v)},d.reject=function(v){var E=new this(s);return a.reject(E,v)},d.all=function(v){var E=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,C=!1;if(!x)return this.resolve([]);for(var k=new Array(x),D=0,A=-1,P=new this(s);++A<x;)M(v[A],A);return P;function M(I,O){E.resolve(I).then(function(F){k[O]=F,++D!==x||C||(C=!0,a.resolve(P,k))},function(F){C||(C=!0,a.reject(P,F))})}},d.race=function(v){var E=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,C=!1;if(!x)return this.resolve([]);for(var k=-1,D=new this(s);++k<x;)A=v[k],E.resolve(A).then(function(P){C||(C=!0,a.resolve(D,P))},function(P){C||(C=!0,a.reject(D,P))});var A;return D}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,f=-1,p=0,m=8;function y(v){if(!(this instanceof y))return new y(v);this.options=s.assign({level:f,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=o.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(x!==d)throw new Error(l[x]);if(E.header&&o.deflateSetHeader(this.strm,E.header),E.dictionary){var C;if(C=typeof E.dictionary=="string"?a.string2buf(E.dictionary):c.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(x=o.deflateSetDictionary(this.strm,C))!==d)throw new Error(l[x]);this._dict_set=!0}}function b(v,E){var x=new y(E);if(x.push(v,!0),x.err)throw x.msg||l[x.err];return x.result}y.prototype.push=function(v,E){var x,C,k=this.strm,D=this.options.chunkSize;if(this.ended)return!1;C=E===~~E?E:E===!0?4:0,typeof v=="string"?k.input=a.string2buf(v):c.call(v)==="[object ArrayBuffer]"?k.input=new Uint8Array(v):k.input=v,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(D),k.next_out=0,k.avail_out=D),(x=o.deflate(k,C))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(k.output,k.next_out))):this.onData(s.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&x!==1);return C===4?(x=o.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):C!==2||(this.onEnd(d),!(k.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(v,E){return(E=E||{}).raw=!0,b(v,E)},i.gzip=function(v,E){return(E=E||{}).gzip=!0,b(v,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,b.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function m(y,b){var v=new p(b);if(v.push(y,!0),v.err)throw v.msg||u[v.err];return v.result}p.prototype.push=function(y,b){var v,E,x,C,k,D,A=this.strm,P=this.options.chunkSize,M=this.options.dictionary,I=!1;if(this.ended)return!1;E=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?A.input=a.binstring2buf(y):f.call(y)==="[object ArrayBuffer]"?A.input=new Uint8Array(y):A.input=y,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(P),A.next_out=0,A.avail_out=P),(v=o.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&M&&(D=typeof M=="string"?a.string2buf(M):f.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,v=o.inflateSetDictionary(this.strm,D)),v===l.Z_BUF_ERROR&&I===!0&&(v=l.Z_OK,I=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&v!==l.Z_STREAM_END&&(A.avail_in!==0||E!==l.Z_FINISH&&E!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(A.output,A.next_out),C=A.next_out-x,k=a.buf2string(A.output,x),A.next_out=C,A.avail_out=P-C,C&&s.arraySet(A.output,A.output,x,C,0),this.onData(k)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(I=!0)}while((0<A.avail_in||A.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(E=l.Z_FINISH),E===l.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):E!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=p,i.inflate=m,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,m(y,b)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,d,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),f);else for(var p=0;p<d;p++)l[f+p]=u[c+p]},flattenChunks:function(l){var u,c,d,f,p,m;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(m=new Uint8Array(d),u=f=0,c=l.length;u<c;u++)p=l[u],m.set(p,f),f+=p.length;return m}},a={arraySet:function(l,u,c,d,f){for(var p=0;p<d;p++)l[f+p]=u[c+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var p="",m=0;m<f;m++)p+=String.fromCharCode(d[m]);return p}l[254]=l[254]=1,i.string2buf=function(d){var f,p,m,y,b,v=d.length,E=0;for(y=0;y<v;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<v&&(64512&(m=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),y++),E+=p<128?1:p<2048?2:p<65536?3:4;for(f=new o.Buf8(E),y=b=0;b<E;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<v&&(64512&(m=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),y++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),p=0,m=f.length;p<m;p++)f[p]=d.charCodeAt(p);return f},i.buf2string=function(d,f){var p,m,y,b,v=f||d.length,E=new Array(2*v);for(p=m=0;p<v;)if((y=d[p++])<128)E[m++]=y;else if(4<(b=l[y]))E[m++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<v;)y=y<<6|63&d[p++],b--;1<b?E[m++]=65533:y<65536?E[m++]=y:(y-=65536,E[m++]=55296|y>>10&1023,E[m++]=56320|1023&y)}return c(E,m)},i.utf8border=function(d,f){var p;for((f=f||d.length)>d.length&&(f=d.length),p=f-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?f:p+l[d[p]]>f?p:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var u=65535&o|0,c=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+s[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,u){var c=o,d=u+l;s^=-1;for(var f=u;f<d;f++)s=s>>>8^c[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,f=4,p=0,m=-2,y=-1,b=4,v=2,E=8,x=9,C=286,k=30,D=19,A=2*C+1,P=15,M=3,I=258,O=I+M+1,F=42,$=113,L=1,q=2,K=3,X=4;function ee(j,pe){return j.msg=c[pe],pe}function J(j){return(j<<1)-(4<j?9:0)}function G(j){for(var pe=j.length;0<=--pe;)j[pe]=0}function Y(j){var pe=j.state,ve=pe.pending;ve>j.avail_out&&(ve=j.avail_out),ve!==0&&(s.arraySet(j.output,pe.pending_buf,pe.pending_out,ve,j.next_out),j.next_out+=ve,pe.pending_out+=ve,j.total_out+=ve,j.avail_out-=ve,pe.pending-=ve,pe.pending===0&&(pe.pending_out=0))}function Z(j,pe){a._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,pe),j.block_start=j.strstart,Y(j.strm)}function W(j,pe){j.pending_buf[j.pending++]=pe}function oe(j,pe){j.pending_buf[j.pending++]=pe>>>8&255,j.pending_buf[j.pending++]=255&pe}function re(j,pe){var ve,se,te=j.max_chain_length,fe=j.strstart,_e=j.prev_length,Ie=j.nice_match,we=j.strstart>j.w_size-O?j.strstart-(j.w_size-O):0,Le=j.window,He=j.w_mask,Be=j.prev,xe=j.strstart+I,Me=Le[fe+_e-1],Ve=Le[fe+_e];j.prev_length>=j.good_match&&(te>>=2),Ie>j.lookahead&&(Ie=j.lookahead);do if(Le[(ve=pe)+_e]===Ve&&Le[ve+_e-1]===Me&&Le[ve]===Le[fe]&&Le[++ve]===Le[fe+1]){fe+=2,ve++;do;while(Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&Le[++fe]===Le[++ve]&&fe<xe);if(se=I-(xe-fe),fe=xe-I,_e<se){if(j.match_start=pe,Ie<=(_e=se))break;Me=Le[fe+_e-1],Ve=Le[fe+_e]}}while((pe=Be[pe&He])>we&&--te!=0);return _e<=j.lookahead?_e:j.lookahead}function me(j){var pe,ve,se,te,fe,_e,Ie,we,Le,He,Be=j.w_size;do{if(te=j.window_size-j.lookahead-j.strstart,j.strstart>=Be+(Be-O)){for(s.arraySet(j.window,j.window,Be,Be,0),j.match_start-=Be,j.strstart-=Be,j.block_start-=Be,pe=ve=j.hash_size;se=j.head[--pe],j.head[pe]=Be<=se?se-Be:0,--ve;);for(pe=ve=Be;se=j.prev[--pe],j.prev[pe]=Be<=se?se-Be:0,--ve;);te+=Be}if(j.strm.avail_in===0)break;if(_e=j.strm,Ie=j.window,we=j.strstart+j.lookahead,Le=te,He=void 0,He=_e.avail_in,Le<He&&(He=Le),ve=He===0?0:(_e.avail_in-=He,s.arraySet(Ie,_e.input,_e.next_in,He,we),_e.state.wrap===1?_e.adler=l(_e.adler,Ie,He,we):_e.state.wrap===2&&(_e.adler=u(_e.adler,Ie,He,we)),_e.next_in+=He,_e.total_in+=He,He),j.lookahead+=ve,j.lookahead+j.insert>=M)for(fe=j.strstart-j.insert,j.ins_h=j.window[fe],j.ins_h=(j.ins_h<<j.hash_shift^j.window[fe+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[fe+M-1])&j.hash_mask,j.prev[fe&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=fe,fe++,j.insert--,!(j.lookahead+j.insert<M)););}while(j.lookahead<O&&j.strm.avail_in!==0)}function ge(j,pe){for(var ve,se;;){if(j.lookahead<O){if(me(j),j.lookahead<O&&pe===d)return L;if(j.lookahead===0)break}if(ve=0,j.lookahead>=M&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+M-1])&j.hash_mask,ve=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),ve!==0&&j.strstart-ve<=j.w_size-O&&(j.match_length=re(j,ve)),j.match_length>=M)if(se=a._tr_tally(j,j.strstart-j.match_start,j.match_length-M),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=M){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+M-1])&j.hash_mask,ve=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else se=a._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(se&&(Z(j,!1),j.strm.avail_out===0))return L}return j.insert=j.strstart<M-1?j.strstart:M-1,pe===f?(Z(j,!0),j.strm.avail_out===0?K:X):j.last_lit&&(Z(j,!1),j.strm.avail_out===0)?L:q}function ce(j,pe){for(var ve,se,te;;){if(j.lookahead<O){if(me(j),j.lookahead<O&&pe===d)return L;if(j.lookahead===0)break}if(ve=0,j.lookahead>=M&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+M-1])&j.hash_mask,ve=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=M-1,ve!==0&&j.prev_length<j.max_lazy_match&&j.strstart-ve<=j.w_size-O&&(j.match_length=re(j,ve),j.match_length<=5&&(j.strategy===1||j.match_length===M&&4096<j.strstart-j.match_start)&&(j.match_length=M-1)),j.prev_length>=M&&j.match_length<=j.prev_length){for(te=j.strstart+j.lookahead-M,se=a._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-M),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=te&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+M-1])&j.hash_mask,ve=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=M-1,j.strstart++,se&&(Z(j,!1),j.strm.avail_out===0))return L}else if(j.match_available){if((se=a._tr_tally(j,0,j.window[j.strstart-1]))&&Z(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return L}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(se=a._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<M-1?j.strstart:M-1,pe===f?(Z(j,!0),j.strm.avail_out===0?K:X):j.last_lit&&(Z(j,!1),j.strm.avail_out===0)?L:q}function he(j,pe,ve,se,te){this.good_length=j,this.max_lazy=pe,this.nice_length=ve,this.max_chain=se,this.func=te}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*k+1)),this.bl_tree=new s.Buf16(2*(2*D+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*C+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*C+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ce(j){var pe;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=v,(pe=j.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?F:$,j.adler=pe.wrap===2?0:1,pe.last_flush=d,a._tr_init(pe),p):ee(j,m)}function Ae(j){var pe=Ce(j);return pe===p&&function(ve){ve.window_size=2*ve.w_size,G(ve.head),ve.max_lazy_match=o[ve.level].max_lazy,ve.good_match=o[ve.level].good_length,ve.nice_match=o[ve.level].nice_length,ve.max_chain_length=o[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=M-1,ve.match_available=0,ve.ins_h=0}(j.state),pe}function Oe(j,pe,ve,se,te,fe){if(!j)return m;var _e=1;if(pe===y&&(pe=6),se<0?(_e=0,se=-se):15<se&&(_e=2,se-=16),te<1||x<te||ve!==E||se<8||15<se||pe<0||9<pe||fe<0||b<fe)return ee(j,m);se===8&&(se=9);var Ie=new be;return(j.state=Ie).strm=j,Ie.wrap=_e,Ie.gzhead=null,Ie.w_bits=se,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=te+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+M-1)/M),Ie.window=new s.Buf8(2*Ie.w_size),Ie.head=new s.Buf16(Ie.hash_size),Ie.prev=new s.Buf16(Ie.w_size),Ie.lit_bufsize=1<<te+6,Ie.pending_buf_size=4*Ie.lit_bufsize,Ie.pending_buf=new s.Buf8(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=3*Ie.lit_bufsize,Ie.level=pe,Ie.strategy=fe,Ie.method=ve,Ae(j)}o=[new he(0,0,0,0,function(j,pe){var ve=65535;for(ve>j.pending_buf_size-5&&(ve=j.pending_buf_size-5);;){if(j.lookahead<=1){if(me(j),j.lookahead===0&&pe===d)return L;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var se=j.block_start+ve;if((j.strstart===0||j.strstart>=se)&&(j.lookahead=j.strstart-se,j.strstart=se,Z(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-O&&(Z(j,!1),j.strm.avail_out===0))return L}return j.insert=0,pe===f?(Z(j,!0),j.strm.avail_out===0?K:X):(j.strstart>j.block_start&&(Z(j,!1),j.strm.avail_out),L)}),new he(4,4,8,4,ge),new he(4,5,16,8,ge),new he(4,6,32,32,ge),new he(4,4,16,16,ce),new he(8,16,32,32,ce),new he(8,16,128,128,ce),new he(8,32,128,256,ce),new he(32,128,258,1024,ce),new he(32,258,258,4096,ce)],i.deflateInit=function(j,pe){return Oe(j,pe,E,15,8,0)},i.deflateInit2=Oe,i.deflateReset=Ae,i.deflateResetKeep=Ce,i.deflateSetHeader=function(j,pe){return j&&j.state?j.state.wrap!==2?m:(j.state.gzhead=pe,p):m},i.deflate=function(j,pe){var ve,se,te,fe;if(!j||!j.state||5<pe||pe<0)return j?ee(j,m):m;if(se=j.state,!j.output||!j.input&&j.avail_in!==0||se.status===666&&pe!==f)return ee(j,j.avail_out===0?-5:m);if(se.strm=j,ve=se.last_flush,se.last_flush=pe,se.status===F)if(se.wrap===2)j.adler=0,W(se,31),W(se,139),W(se,8),se.gzhead?(W(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),W(se,255&se.gzhead.time),W(se,se.gzhead.time>>8&255),W(se,se.gzhead.time>>16&255),W(se,se.gzhead.time>>24&255),W(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),W(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(W(se,255&se.gzhead.extra.length),W(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(j.adler=u(j.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(W(se,0),W(se,0),W(se,0),W(se,0),W(se,0),W(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),W(se,3),se.status=$);else{var _e=E+(se.w_bits-8<<4)<<8;_e|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(_e|=32),_e+=31-_e%31,se.status=$,oe(se,_e),se.strstart!==0&&(oe(se,j.adler>>>16),oe(se,65535&j.adler)),j.adler=1}if(se.status===69)if(se.gzhead.extra){for(te=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>te&&(j.adler=u(j.adler,se.pending_buf,se.pending-te,te)),Y(j),te=se.pending,se.pending!==se.pending_buf_size));)W(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>te&&(j.adler=u(j.adler,se.pending_buf,se.pending-te,te)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){te=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>te&&(j.adler=u(j.adler,se.pending_buf,se.pending-te,te)),Y(j),te=se.pending,se.pending===se.pending_buf_size)){fe=1;break}fe=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,W(se,fe)}while(fe!==0);se.gzhead.hcrc&&se.pending>te&&(j.adler=u(j.adler,se.pending_buf,se.pending-te,te)),fe===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){te=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>te&&(j.adler=u(j.adler,se.pending_buf,se.pending-te,te)),Y(j),te=se.pending,se.pending===se.pending_buf_size)){fe=1;break}fe=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,W(se,fe)}while(fe!==0);se.gzhead.hcrc&&se.pending>te&&(j.adler=u(j.adler,se.pending_buf,se.pending-te,te)),fe===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&Y(j),se.pending+2<=se.pending_buf_size&&(W(se,255&j.adler),W(se,j.adler>>8&255),j.adler=0,se.status=$)):se.status=$),se.pending!==0){if(Y(j),j.avail_out===0)return se.last_flush=-1,p}else if(j.avail_in===0&&J(pe)<=J(ve)&&pe!==f)return ee(j,-5);if(se.status===666&&j.avail_in!==0)return ee(j,-5);if(j.avail_in!==0||se.lookahead!==0||pe!==d&&se.status!==666){var Ie=se.strategy===2?function(we,Le){for(var He;;){if(we.lookahead===0&&(me(we),we.lookahead===0)){if(Le===d)return L;break}if(we.match_length=0,He=a._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,He&&(Z(we,!1),we.strm.avail_out===0))return L}return we.insert=0,Le===f?(Z(we,!0),we.strm.avail_out===0?K:X):we.last_lit&&(Z(we,!1),we.strm.avail_out===0)?L:q}(se,pe):se.strategy===3?function(we,Le){for(var He,Be,xe,Me,Ve=we.window;;){if(we.lookahead<=I){if(me(we),we.lookahead<=I&&Le===d)return L;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=M&&0<we.strstart&&(Be=Ve[xe=we.strstart-1])===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]){Me=we.strstart+I;do;while(Be===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]&&Be===Ve[++xe]&&xe<Me);we.match_length=I-(Me-xe),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=M?(He=a._tr_tally(we,1,we.match_length-M),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(He=a._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),He&&(Z(we,!1),we.strm.avail_out===0))return L}return we.insert=0,Le===f?(Z(we,!0),we.strm.avail_out===0?K:X):we.last_lit&&(Z(we,!1),we.strm.avail_out===0)?L:q}(se,pe):o[se.level].func(se,pe);if(Ie!==K&&Ie!==X||(se.status=666),Ie===L||Ie===K)return j.avail_out===0&&(se.last_flush=-1),p;if(Ie===q&&(pe===1?a._tr_align(se):pe!==5&&(a._tr_stored_block(se,0,0,!1),pe===3&&(G(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),Y(j),j.avail_out===0))return se.last_flush=-1,p}return pe!==f?p:se.wrap<=0?1:(se.wrap===2?(W(se,255&j.adler),W(se,j.adler>>8&255),W(se,j.adler>>16&255),W(se,j.adler>>24&255),W(se,255&j.total_in),W(se,j.total_in>>8&255),W(se,j.total_in>>16&255),W(se,j.total_in>>24&255)):(oe(se,j.adler>>>16),oe(se,65535&j.adler)),Y(j),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?p:1)},i.deflateEnd=function(j){var pe;return j&&j.state?(pe=j.state.status)!==F&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==$&&pe!==666?ee(j,m):(j.state=null,pe===$?ee(j,-3):p):m},i.deflateSetDictionary=function(j,pe){var ve,se,te,fe,_e,Ie,we,Le,He=pe.length;if(!j||!j.state||(fe=(ve=j.state).wrap)===2||fe===1&&ve.status!==F||ve.lookahead)return m;for(fe===1&&(j.adler=l(j.adler,pe,He,0)),ve.wrap=0,He>=ve.w_size&&(fe===0&&(G(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),Le=new s.Buf8(ve.w_size),s.arraySet(Le,pe,He-ve.w_size,ve.w_size,0),pe=Le,He=ve.w_size),_e=j.avail_in,Ie=j.next_in,we=j.input,j.avail_in=He,j.next_in=0,j.input=pe,me(ve);ve.lookahead>=M;){for(se=ve.strstart,te=ve.lookahead-(M-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[se+M-1])&ve.hash_mask,ve.prev[se&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=se,se++,--te;);ve.strstart=se,ve.lookahead=M-1,me(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=M-1,ve.match_available=0,j.next_in=Ie,j.input=we,j.avail_in=_e,ve.wrap=fe,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,u,c,d,f,p,m,y,b,v,E,x,C,k,D,A,P,M,I,O,F,$,L,q;a=o.state,l=o.next_in,L=o.input,u=l+(o.avail_in-5),c=o.next_out,q=o.output,d=c-(s-o.avail_out),f=c+(o.avail_out-257),p=a.dmax,m=a.wsize,y=a.whave,b=a.wnext,v=a.window,E=a.hold,x=a.bits,C=a.lencode,k=a.distcode,D=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{x<15&&(E+=L[l++]<<x,x+=8,E+=L[l++]<<x,x+=8),P=C[E&D];t:for(;;){if(E>>>=M=P>>>24,x-=M,(M=P>>>16&255)===0)q[c++]=65535&P;else{if(!(16&M)){if((64&M)==0){P=C[(65535&P)+(E&(1<<M)-1)];continue t}if(32&M){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}I=65535&P,(M&=15)&&(x<M&&(E+=L[l++]<<x,x+=8),I+=E&(1<<M)-1,E>>>=M,x-=M),x<15&&(E+=L[l++]<<x,x+=8,E+=L[l++]<<x,x+=8),P=k[E&A];n:for(;;){if(E>>>=M=P>>>24,x-=M,!(16&(M=P>>>16&255))){if((64&M)==0){P=k[(65535&P)+(E&(1<<M)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(O=65535&P,x<(M&=15)&&(E+=L[l++]<<x,(x+=8)<M&&(E+=L[l++]<<x,x+=8)),p<(O+=E&(1<<M)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(E>>>=M,x-=M,(M=c-d)<O){if(y<(M=O-M)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if($=v,(F=0)===b){if(F+=m-M,M<I){for(I-=M;q[c++]=v[F++],--M;);F=c-O,$=q}}else if(b<M){if(F+=m+b-M,(M-=b)<I){for(I-=M;q[c++]=v[F++],--M;);if(F=0,b<I){for(I-=M=b;q[c++]=v[F++],--M;);F=c-O,$=q}}}else if(F+=b-M,M<I){for(I-=M;q[c++]=v[F++],--M;);F=c-O,$=q}for(;2<I;)q[c++]=$[F++],q[c++]=$[F++],q[c++]=$[F++],I-=3;I&&(q[c++]=$[F++],1<I&&(q[c++]=$[F++]))}else{for(F=c-O;q[c++]=q[F++],q[c++]=q[F++],q[c++]=q[F++],2<(I-=3););I&&(q[c++]=q[F++],1<I&&(q[c++]=q[F++]))}break}}break}}while(l<u&&c<f);l-=I=x>>3,E&=(1<<(x-=I<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<f?f-c+257:257-(c-f),a.hold=E,a.bits=x}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,f=0,p=-2,m=1,y=852,b=592;function v(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(F){var $;return F&&F.state?($=F.state,F.total_in=F.total_out=$.total=0,F.msg="",$.wrap&&(F.adler=1&$.wrap),$.mode=m,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new o.Buf32(y),$.distcode=$.distdyn=new o.Buf32(b),$.sane=1,$.back=-1,f):p}function C(F){var $;return F&&F.state?(($=F.state).wsize=0,$.whave=0,$.wnext=0,x(F)):p}function k(F,$){var L,q;return F&&F.state?(q=F.state,$<0?(L=0,$=-$):(L=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?p:(q.window!==null&&q.wbits!==$&&(q.window=null),q.wrap=L,q.wbits=$,C(F))):p}function D(F,$){var L,q;return F?(q=new E,(F.state=q).window=null,(L=k(F,$))!==f&&(F.state=null),L):p}var A,P,M=!0;function I(F){if(M){var $;for(A=new o.Buf32(512),P=new o.Buf32(32),$=0;$<144;)F.lens[$++]=8;for(;$<256;)F.lens[$++]=9;for(;$<280;)F.lens[$++]=7;for(;$<288;)F.lens[$++]=8;for(u(c,F.lens,0,288,A,0,F.work,{bits:9}),$=0;$<32;)F.lens[$++]=5;u(d,F.lens,0,32,P,0,F.work,{bits:5}),M=!1}F.lencode=A,F.lenbits=9,F.distcode=P,F.distbits=5}function O(F,$,L,q){var K,X=F.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new o.Buf8(X.wsize)),q>=X.wsize?(o.arraySet(X.window,$,L-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(q<(K=X.wsize-X.wnext)&&(K=q),o.arraySet(X.window,$,L-q,K,X.wnext),(q-=K)?(o.arraySet(X.window,$,L-q,q,0),X.wnext=q,X.whave=X.wsize):(X.wnext+=K,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=K))),0}i.inflateReset=C,i.inflateReset2=k,i.inflateResetKeep=x,i.inflateInit=function(F){return D(F,15)},i.inflateInit2=D,i.inflate=function(F,$){var L,q,K,X,ee,J,G,Y,Z,W,oe,re,me,ge,ce,he,be,Ce,Ae,Oe,j,pe,ve,se,te=0,fe=new o.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return p;(L=F.state).mode===12&&(L.mode=13),ee=F.next_out,K=F.output,G=F.avail_out,X=F.next_in,q=F.input,J=F.avail_in,Y=L.hold,Z=L.bits,W=J,oe=G,pe=f;e:for(;;)switch(L.mode){case m:if(L.wrap===0){L.mode=13;break}for(;Z<16;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(2&L.wrap&&Y===35615){fe[L.check=0]=255&Y,fe[1]=Y>>>8&255,L.check=a(L.check,fe,2,0),Z=Y=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&Y)<<8)+(Y>>8))%31){F.msg="incorrect header check",L.mode=30;break}if((15&Y)!=8){F.msg="unknown compression method",L.mode=30;break}if(Z-=4,j=8+(15&(Y>>>=4)),L.wbits===0)L.wbits=j;else if(j>L.wbits){F.msg="invalid window size",L.mode=30;break}L.dmax=1<<j,F.adler=L.check=1,L.mode=512&Y?10:12,Z=Y=0;break;case 2:for(;Z<16;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(L.flags=Y,(255&L.flags)!=8){F.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){F.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=Y>>8&1),512&L.flags&&(fe[0]=255&Y,fe[1]=Y>>>8&255,L.check=a(L.check,fe,2,0)),Z=Y=0,L.mode=3;case 3:for(;Z<32;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}L.head&&(L.head.time=Y),512&L.flags&&(fe[0]=255&Y,fe[1]=Y>>>8&255,fe[2]=Y>>>16&255,fe[3]=Y>>>24&255,L.check=a(L.check,fe,4,0)),Z=Y=0,L.mode=4;case 4:for(;Z<16;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}L.head&&(L.head.xflags=255&Y,L.head.os=Y>>8),512&L.flags&&(fe[0]=255&Y,fe[1]=Y>>>8&255,L.check=a(L.check,fe,2,0)),Z=Y=0,L.mode=5;case 5:if(1024&L.flags){for(;Z<16;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}L.length=Y,L.head&&(L.head.extra_len=Y),512&L.flags&&(fe[0]=255&Y,fe[1]=Y>>>8&255,L.check=a(L.check,fe,2,0)),Z=Y=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(J<(re=L.length)&&(re=J),re&&(L.head&&(j=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),o.arraySet(L.head.extra,q,X,re,j)),512&L.flags&&(L.check=a(L.check,q,re,X)),J-=re,X+=re,L.length-=re),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(J===0)break e;for(re=0;j=q[X+re++],L.head&&j&&L.length<65536&&(L.head.name+=String.fromCharCode(j)),j&&re<J;);if(512&L.flags&&(L.check=a(L.check,q,re,X)),J-=re,X+=re,j)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(J===0)break e;for(re=0;j=q[X+re++],L.head&&j&&L.length<65536&&(L.head.comment+=String.fromCharCode(j)),j&&re<J;);if(512&L.flags&&(L.check=a(L.check,q,re,X)),J-=re,X+=re,j)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;Z<16;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(Y!==(65535&L.check)){F.msg="header crc mismatch",L.mode=30;break}Z=Y=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),F.adler=L.check=0,L.mode=12;break;case 10:for(;Z<32;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}F.adler=L.check=v(Y),Z=Y=0,L.mode=11;case 11:if(L.havedict===0)return F.next_out=ee,F.avail_out=G,F.next_in=X,F.avail_in=J,L.hold=Y,L.bits=Z,2;F.adler=L.check=1,L.mode=12;case 12:if($===5||$===6)break e;case 13:if(L.last){Y>>>=7&Z,Z-=7&Z,L.mode=27;break}for(;Z<3;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}switch(L.last=1&Y,Z-=1,3&(Y>>>=1)){case 0:L.mode=14;break;case 1:if(I(L),L.mode=20,$!==6)break;Y>>>=2,Z-=2;break e;case 2:L.mode=17;break;case 3:F.msg="invalid block type",L.mode=30}Y>>>=2,Z-=2;break;case 14:for(Y>>>=7&Z,Z-=7&Z;Z<32;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if((65535&Y)!=(Y>>>16^65535)){F.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&Y,Z=Y=0,L.mode=15,$===6)break e;case 15:L.mode=16;case 16:if(re=L.length){if(J<re&&(re=J),G<re&&(re=G),re===0)break e;o.arraySet(K,q,X,re,ee),J-=re,X+=re,G-=re,ee+=re,L.length-=re;break}L.mode=12;break;case 17:for(;Z<14;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(L.nlen=257+(31&Y),Y>>>=5,Z-=5,L.ndist=1+(31&Y),Y>>>=5,Z-=5,L.ncode=4+(15&Y),Y>>>=4,Z-=4,286<L.nlen||30<L.ndist){F.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;Z<3;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}L.lens[_e[L.have++]]=7&Y,Y>>>=3,Z-=3}for(;L.have<19;)L.lens[_e[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,ve={bits:L.lenbits},pe=u(0,L.lens,0,19,L.lencode,0,L.work,ve),L.lenbits=ve.bits,pe){F.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;he=(te=L.lencode[Y&(1<<L.lenbits)-1])>>>16&255,be=65535&te,!((ce=te>>>24)<=Z);){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(be<16)Y>>>=ce,Z-=ce,L.lens[L.have++]=be;else{if(be===16){for(se=ce+2;Z<se;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(Y>>>=ce,Z-=ce,L.have===0){F.msg="invalid bit length repeat",L.mode=30;break}j=L.lens[L.have-1],re=3+(3&Y),Y>>>=2,Z-=2}else if(be===17){for(se=ce+3;Z<se;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}Z-=ce,j=0,re=3+(7&(Y>>>=ce)),Y>>>=3,Z-=3}else{for(se=ce+7;Z<se;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}Z-=ce,j=0,re=11+(127&(Y>>>=ce)),Y>>>=7,Z-=7}if(L.have+re>L.nlen+L.ndist){F.msg="invalid bit length repeat",L.mode=30;break}for(;re--;)L.lens[L.have++]=j}}if(L.mode===30)break;if(L.lens[256]===0){F.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,ve={bits:L.lenbits},pe=u(c,L.lens,0,L.nlen,L.lencode,0,L.work,ve),L.lenbits=ve.bits,pe){F.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,ve={bits:L.distbits},pe=u(d,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,ve),L.distbits=ve.bits,pe){F.msg="invalid distances set",L.mode=30;break}if(L.mode=20,$===6)break e;case 20:L.mode=21;case 21:if(6<=J&&258<=G){F.next_out=ee,F.avail_out=G,F.next_in=X,F.avail_in=J,L.hold=Y,L.bits=Z,l(F,oe),ee=F.next_out,K=F.output,G=F.avail_out,X=F.next_in,q=F.input,J=F.avail_in,Y=L.hold,Z=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;he=(te=L.lencode[Y&(1<<L.lenbits)-1])>>>16&255,be=65535&te,!((ce=te>>>24)<=Z);){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(he&&(240&he)==0){for(Ce=ce,Ae=he,Oe=be;he=(te=L.lencode[Oe+((Y&(1<<Ce+Ae)-1)>>Ce)])>>>16&255,be=65535&te,!(Ce+(ce=te>>>24)<=Z);){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}Y>>>=Ce,Z-=Ce,L.back+=Ce}if(Y>>>=ce,Z-=ce,L.back+=ce,L.length=be,he===0){L.mode=26;break}if(32&he){L.back=-1,L.mode=12;break}if(64&he){F.msg="invalid literal/length code",L.mode=30;break}L.extra=15&he,L.mode=22;case 22:if(L.extra){for(se=L.extra;Z<se;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}L.length+=Y&(1<<L.extra)-1,Y>>>=L.extra,Z-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;he=(te=L.distcode[Y&(1<<L.distbits)-1])>>>16&255,be=65535&te,!((ce=te>>>24)<=Z);){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if((240&he)==0){for(Ce=ce,Ae=he,Oe=be;he=(te=L.distcode[Oe+((Y&(1<<Ce+Ae)-1)>>Ce)])>>>16&255,be=65535&te,!(Ce+(ce=te>>>24)<=Z);){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}Y>>>=Ce,Z-=Ce,L.back+=Ce}if(Y>>>=ce,Z-=ce,L.back+=ce,64&he){F.msg="invalid distance code",L.mode=30;break}L.offset=be,L.extra=15&he,L.mode=24;case 24:if(L.extra){for(se=L.extra;Z<se;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}L.offset+=Y&(1<<L.extra)-1,Y>>>=L.extra,Z-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){F.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(G===0)break e;if(re=oe-G,L.offset>re){if((re=L.offset-re)>L.whave&&L.sane){F.msg="invalid distance too far back",L.mode=30;break}me=re>L.wnext?(re-=L.wnext,L.wsize-re):L.wnext-re,re>L.length&&(re=L.length),ge=L.window}else ge=K,me=ee-L.offset,re=L.length;for(G<re&&(re=G),G-=re,L.length-=re;K[ee++]=ge[me++],--re;);L.length===0&&(L.mode=21);break;case 26:if(G===0)break e;K[ee++]=L.length,G--,L.mode=21;break;case 27:if(L.wrap){for(;Z<32;){if(J===0)break e;J--,Y|=q[X++]<<Z,Z+=8}if(oe-=G,F.total_out+=oe,L.total+=oe,oe&&(F.adler=L.check=L.flags?a(L.check,K,oe,ee-oe):s(L.check,K,oe,ee-oe)),oe=G,(L.flags?Y:v(Y))!==L.check){F.msg="incorrect data check",L.mode=30;break}Z=Y=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;Z<32;){if(J===0)break e;J--,Y+=q[X++]<<Z,Z+=8}if(Y!==(4294967295&L.total)){F.msg="incorrect length check",L.mode=30;break}Z=Y=0}L.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return p}return F.next_out=ee,F.avail_out=G,F.next_in=X,F.avail_in=J,L.hold=Y,L.bits=Z,(L.wsize||oe!==F.avail_out&&L.mode<30&&(L.mode<27||$!==4))&&O(F,F.output,F.next_out,oe-F.avail_out)?(L.mode=31,-4):(W-=F.avail_in,oe-=F.avail_out,F.total_in+=W,F.total_out+=oe,L.total+=oe,L.wrap&&oe&&(F.adler=L.check=L.flags?a(L.check,K,oe,F.next_out-oe):s(L.check,K,oe,F.next_out-oe)),F.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(W==0&&oe===0||$===4)&&pe===f&&(pe=-5),pe)},i.inflateEnd=function(F){if(!F||!F.state)return p;var $=F.state;return $.window&&($.window=null),F.state=null,f},i.inflateGetHeader=function(F,$){var L;return F&&F.state?(2&(L=F.state).wrap)==0?p:((L.head=$).done=!1,f):p},i.inflateSetDictionary=function(F,$){var L,q=$.length;return F&&F.state?(L=F.state).wrap!==0&&L.mode!==11?p:L.mode===11&&s(1,$,q,0)!==L.check?-3:O(F,$,q,q)?(L.mode=31,-4):(L.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,f,p,m,y,b,v){var E,x,C,k,D,A,P,M,I,O=v.bits,F=0,$=0,L=0,q=0,K=0,X=0,ee=0,J=0,G=0,Y=0,Z=null,W=0,oe=new o.Buf16(16),re=new o.Buf16(16),me=null,ge=0;for(F=0;F<=15;F++)oe[F]=0;for($=0;$<p;$++)oe[d[f+$]]++;for(K=O,q=15;1<=q&&oe[q]===0;q--);if(q<K&&(K=q),q===0)return m[y++]=20971520,m[y++]=20971520,v.bits=1,0;for(L=1;L<q&&oe[L]===0;L++);for(K<L&&(K=L),F=J=1;F<=15;F++)if(J<<=1,(J-=oe[F])<0)return-1;if(0<J&&(c===0||q!==1))return-1;for(re[1]=0,F=1;F<15;F++)re[F+1]=re[F]+oe[F];for($=0;$<p;$++)d[f+$]!==0&&(b[re[d[f+$]]++]=$);if(A=c===0?(Z=me=b,19):c===1?(Z=s,W-=257,me=a,ge-=257,256):(Z=l,me=u,-1),F=L,D=y,ee=$=Y=0,C=-1,k=(G=1<<(X=K))-1,c===1&&852<G||c===2&&592<G)return 1;for(;;){for(P=F-ee,I=b[$]<A?(M=0,b[$]):b[$]>A?(M=me[ge+b[$]],Z[W+b[$]]):(M=96,0),E=1<<F-ee,L=x=1<<X;m[D+(Y>>ee)+(x-=E)]=P<<24|M<<16|I|0,x!==0;);for(E=1<<F-1;Y&E;)E>>=1;if(E!==0?(Y&=E-1,Y+=E):Y=0,$++,--oe[F]==0){if(F===q)break;F=d[f+b[$]]}if(K<F&&(Y&k)!==C){for(ee===0&&(ee=K),D+=L,J=1<<(X=F-ee);X+ee<q&&!((J-=oe[X+ee])<=0);)X++,J<<=1;if(G+=1<<X,c===1&&852<G||c===2&&592<G)return 1;m[C=Y&k]=K<<24|X<<16|D-y|0}}return Y!==0&&(m[D+Y]=F-ee<<24|64<<16|0),v.bits=K,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(te){for(var fe=te.length;0<=--fe;)te[fe]=0}var u=0,c=29,d=256,f=d+1+c,p=30,m=19,y=2*f+1,b=15,v=16,E=7,x=256,C=16,k=17,D=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(f+2));l(O);var F=new Array(2*p);l(F);var $=new Array(512);l($);var L=new Array(256);l(L);var q=new Array(c);l(q);var K,X,ee,J=new Array(p);function G(te,fe,_e,Ie,we){this.static_tree=te,this.extra_bits=fe,this.extra_base=_e,this.elems=Ie,this.max_length=we,this.has_stree=te&&te.length}function Y(te,fe){this.dyn_tree=te,this.max_code=0,this.stat_desc=fe}function Z(te){return te<256?$[te]:$[256+(te>>>7)]}function W(te,fe){te.pending_buf[te.pending++]=255&fe,te.pending_buf[te.pending++]=fe>>>8&255}function oe(te,fe,_e){te.bi_valid>v-_e?(te.bi_buf|=fe<<te.bi_valid&65535,W(te,te.bi_buf),te.bi_buf=fe>>v-te.bi_valid,te.bi_valid+=_e-v):(te.bi_buf|=fe<<te.bi_valid&65535,te.bi_valid+=_e)}function re(te,fe,_e){oe(te,_e[2*fe],_e[2*fe+1])}function me(te,fe){for(var _e=0;_e|=1&te,te>>>=1,_e<<=1,0<--fe;);return _e>>>1}function ge(te,fe,_e){var Ie,we,Le=new Array(b+1),He=0;for(Ie=1;Ie<=b;Ie++)Le[Ie]=He=He+_e[Ie-1]<<1;for(we=0;we<=fe;we++){var Be=te[2*we+1];Be!==0&&(te[2*we]=me(Le[Be]++,Be))}}function ce(te){var fe;for(fe=0;fe<f;fe++)te.dyn_ltree[2*fe]=0;for(fe=0;fe<p;fe++)te.dyn_dtree[2*fe]=0;for(fe=0;fe<m;fe++)te.bl_tree[2*fe]=0;te.dyn_ltree[2*x]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function he(te){8<te.bi_valid?W(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function be(te,fe,_e,Ie){var we=2*fe,Le=2*_e;return te[we]<te[Le]||te[we]===te[Le]&&Ie[fe]<=Ie[_e]}function Ce(te,fe,_e){for(var Ie=te.heap[_e],we=_e<<1;we<=te.heap_len&&(we<te.heap_len&&be(fe,te.heap[we+1],te.heap[we],te.depth)&&we++,!be(fe,Ie,te.heap[we],te.depth));)te.heap[_e]=te.heap[we],_e=we,we<<=1;te.heap[_e]=Ie}function Ae(te,fe,_e){var Ie,we,Le,He,Be=0;if(te.last_lit!==0)for(;Ie=te.pending_buf[te.d_buf+2*Be]<<8|te.pending_buf[te.d_buf+2*Be+1],we=te.pending_buf[te.l_buf+Be],Be++,Ie===0?re(te,we,fe):(re(te,(Le=L[we])+d+1,fe),(He=A[Le])!==0&&oe(te,we-=q[Le],He),re(te,Le=Z(--Ie),_e),(He=P[Le])!==0&&oe(te,Ie-=J[Le],He)),Be<te.last_lit;);re(te,x,fe)}function Oe(te,fe){var _e,Ie,we,Le=fe.dyn_tree,He=fe.stat_desc.static_tree,Be=fe.stat_desc.has_stree,xe=fe.stat_desc.elems,Me=-1;for(te.heap_len=0,te.heap_max=y,_e=0;_e<xe;_e++)Le[2*_e]!==0?(te.heap[++te.heap_len]=Me=_e,te.depth[_e]=0):Le[2*_e+1]=0;for(;te.heap_len<2;)Le[2*(we=te.heap[++te.heap_len]=Me<2?++Me:0)]=1,te.depth[we]=0,te.opt_len--,Be&&(te.static_len-=He[2*we+1]);for(fe.max_code=Me,_e=te.heap_len>>1;1<=_e;_e--)Ce(te,Le,_e);for(we=xe;_e=te.heap[1],te.heap[1]=te.heap[te.heap_len--],Ce(te,Le,1),Ie=te.heap[1],te.heap[--te.heap_max]=_e,te.heap[--te.heap_max]=Ie,Le[2*we]=Le[2*_e]+Le[2*Ie],te.depth[we]=(te.depth[_e]>=te.depth[Ie]?te.depth[_e]:te.depth[Ie])+1,Le[2*_e+1]=Le[2*Ie+1]=we,te.heap[1]=we++,Ce(te,Le,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function(Ve,nt){var wt,rt,Qt,vt,Yt,st,_t=nt.dyn_tree,on=nt.max_code,xn=nt.stat_desc.static_tree,eo=nt.stat_desc.has_stree,Ms=nt.stat_desc.extra_bits,Kr=nt.stat_desc.extra_base,Lr=nt.stat_desc.max_length,to=0;for(vt=0;vt<=b;vt++)Ve.bl_count[vt]=0;for(_t[2*Ve.heap[Ve.heap_max]+1]=0,wt=Ve.heap_max+1;wt<y;wt++)Lr<(vt=_t[2*_t[2*(rt=Ve.heap[wt])+1]+1]+1)&&(vt=Lr,to++),_t[2*rt+1]=vt,on<rt||(Ve.bl_count[vt]++,Yt=0,Kr<=rt&&(Yt=Ms[rt-Kr]),st=_t[2*rt],Ve.opt_len+=st*(vt+Yt),eo&&(Ve.static_len+=st*(xn[2*rt+1]+Yt)));if(to!==0){do{for(vt=Lr-1;Ve.bl_count[vt]===0;)vt--;Ve.bl_count[vt]--,Ve.bl_count[vt+1]+=2,Ve.bl_count[Lr]--,to-=2}while(0<to);for(vt=Lr;vt!==0;vt--)for(rt=Ve.bl_count[vt];rt!==0;)on<(Qt=Ve.heap[--wt])||(_t[2*Qt+1]!==vt&&(Ve.opt_len+=(vt-_t[2*Qt+1])*_t[2*Qt],_t[2*Qt+1]=vt),rt--)}}(te,fe),ge(Le,Me,te.bl_count)}function j(te,fe,_e){var Ie,we,Le=-1,He=fe[1],Be=0,xe=7,Me=4;for(He===0&&(xe=138,Me=3),fe[2*(_e+1)+1]=65535,Ie=0;Ie<=_e;Ie++)we=He,He=fe[2*(Ie+1)+1],++Be<xe&&we===He||(Be<Me?te.bl_tree[2*we]+=Be:we!==0?(we!==Le&&te.bl_tree[2*we]++,te.bl_tree[2*C]++):Be<=10?te.bl_tree[2*k]++:te.bl_tree[2*D]++,Le=we,Me=(Be=0)===He?(xe=138,3):we===He?(xe=6,3):(xe=7,4))}function pe(te,fe,_e){var Ie,we,Le=-1,He=fe[1],Be=0,xe=7,Me=4;for(He===0&&(xe=138,Me=3),Ie=0;Ie<=_e;Ie++)if(we=He,He=fe[2*(Ie+1)+1],!(++Be<xe&&we===He)){if(Be<Me)for(;re(te,we,te.bl_tree),--Be!=0;);else we!==0?(we!==Le&&(re(te,we,te.bl_tree),Be--),re(te,C,te.bl_tree),oe(te,Be-3,2)):Be<=10?(re(te,k,te.bl_tree),oe(te,Be-3,3)):(re(te,D,te.bl_tree),oe(te,Be-11,7));Le=we,Me=(Be=0)===He?(xe=138,3):we===He?(xe=6,3):(xe=7,4)}}l(J);var ve=!1;function se(te,fe,_e,Ie){oe(te,(u<<1)+(Ie?1:0),3),function(we,Le,He,Be){he(we),W(we,He),W(we,~He),o.arraySet(we.pending_buf,we.window,Le,He,we.pending),we.pending+=He}(te,fe,_e)}i._tr_init=function(te){ve||(function(){var fe,_e,Ie,we,Le,He=new Array(b+1);for(we=Ie=0;we<c-1;we++)for(q[we]=Ie,fe=0;fe<1<<A[we];fe++)L[Ie++]=we;for(L[Ie-1]=we,we=Le=0;we<16;we++)for(J[we]=Le,fe=0;fe<1<<P[we];fe++)$[Le++]=we;for(Le>>=7;we<p;we++)for(J[we]=Le<<7,fe=0;fe<1<<P[we]-7;fe++)$[256+Le++]=we;for(_e=0;_e<=b;_e++)He[_e]=0;for(fe=0;fe<=143;)O[2*fe+1]=8,fe++,He[8]++;for(;fe<=255;)O[2*fe+1]=9,fe++,He[9]++;for(;fe<=279;)O[2*fe+1]=7,fe++,He[7]++;for(;fe<=287;)O[2*fe+1]=8,fe++,He[8]++;for(ge(O,f+1,He),fe=0;fe<p;fe++)F[2*fe+1]=5,F[2*fe]=me(fe,5);K=new G(O,A,d+1,f,b),X=new G(F,P,0,p,b),ee=new G(new Array(0),M,0,m,E)}(),ve=!0),te.l_desc=new Y(te.dyn_ltree,K),te.d_desc=new Y(te.dyn_dtree,X),te.bl_desc=new Y(te.bl_tree,ee),te.bi_buf=0,te.bi_valid=0,ce(te)},i._tr_stored_block=se,i._tr_flush_block=function(te,fe,_e,Ie){var we,Le,He=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(Be){var xe,Me=4093624447;for(xe=0;xe<=31;xe++,Me>>>=1)if(1&Me&&Be.dyn_ltree[2*xe]!==0)return s;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return a;for(xe=32;xe<d;xe++)if(Be.dyn_ltree[2*xe]!==0)return a;return s}(te)),Oe(te,te.l_desc),Oe(te,te.d_desc),He=function(Be){var xe;for(j(Be,Be.dyn_ltree,Be.l_desc.max_code),j(Be,Be.dyn_dtree,Be.d_desc.max_code),Oe(Be,Be.bl_desc),xe=m-1;3<=xe&&Be.bl_tree[2*I[xe]+1]===0;xe--);return Be.opt_len+=3*(xe+1)+5+5+4,xe}(te),we=te.opt_len+3+7>>>3,(Le=te.static_len+3+7>>>3)<=we&&(we=Le)):we=Le=_e+5,_e+4<=we&&fe!==-1?se(te,fe,_e,Ie):te.strategy===4||Le===we?(oe(te,2+(Ie?1:0),3),Ae(te,O,F)):(oe(te,4+(Ie?1:0),3),function(Be,xe,Me,Ve){var nt;for(oe(Be,xe-257,5),oe(Be,Me-1,5),oe(Be,Ve-4,4),nt=0;nt<Ve;nt++)oe(Be,Be.bl_tree[2*I[nt]+1],3);pe(Be,Be.dyn_ltree,xe-1),pe(Be,Be.dyn_dtree,Me-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,He+1),Ae(te,te.dyn_ltree,te.dyn_dtree)),ce(te),Ie&&he(te)},i._tr_tally=function(te,fe,_e){return te.pending_buf[te.d_buf+2*te.last_lit]=fe>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&fe,te.pending_buf[te.l_buf+te.last_lit]=255&_e,te.last_lit++,fe===0?te.dyn_ltree[2*_e]++:(te.matches++,fe--,te.dyn_ltree[2*(L[_e]+d+1)]++,te.dyn_dtree[2*Z(fe)]++),te.last_lit===te.lit_bufsize-1},i._tr_align=function(te){oe(te,2,3),re(te,x,O),function(fe){fe.bi_valid===16?(W(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,u,c,d,f=1,p={},m=!1,y=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(C){process.nextTick(function(){E(C)})}:function(){if(s.postMessage&&!s.importScripts){var C=!0,k=s.onmessage;return s.onmessage=function(){C=!1},s.postMessage("","*"),s.onmessage=k,C}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(C){s.postMessage(d+C,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(C){E(C.data)},function(C){c.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(C){var k=y.createElement("script");k.onreadystatechange=function(){E(C),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(C){setTimeout(E,0,C)},b.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),D=0;D<k.length;D++)k[D]=arguments[D+1];var A={callback:C,args:k};return p[f]=A,l(f),f++},b.clearImmediate=v}function v(C){delete p[C]}function E(C){if(m)setTimeout(E,0,C);else{var k=p[C];if(k){m=!0;try{(function(D){var A=D.callback,P=D.args;switch(P.length){case 0:A();break;case 1:A(P[0]);break;case 2:A(P[0],P[1]);break;case 3:A(P[0],P[1],P[2]);break;default:A.apply(a,P)}})(k)}finally{v(C),m=!1}}}}function x(C){C.source===s&&typeof C.data=="string"&&C.data.indexOf(d)===0&&E(+C.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof ea<"u"?ea:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(zN)),zN.exports}var vje=yje();const bje=Ni(vje);async function wje(t,e,n){if(t.type==="application/zip")try{const i=await new bje().loadAsync(t),o=Object.values(i.files).find(u=>u.name.endsWith(".json")),s=Object.values(i.files).find(u=>u.name.endsWith(".pdf"));if(!o)throw new Error("No JSON file found in the zip");const a=await o.async("string"),l=JSON.parse(a);if(e(l),s){const u=await s.async("blob"),c=new FileReader;c.onload=d=>{var f;n((f=d.target)==null?void 0:f.result)},c.readAsDataURL(u)}}catch{alert("Error processing zip file: ")}else alert("Please upload a valid zip file")}function _je(){const{paperUrl:t,setPaperUrl:e,highlights:n,addHighlight:r,resetHighlights:i,selectedHighlightId:o,setSelectedHighlightId:s,currentReadId:a,readRecords:l,displayedReads:u,setHighlights:c,setNodes:d,setEdges:f,setReadRecords:p,pdfViewerRef:m}=la(),y=z.useContext(Gx);if(!y)throw new Error("TourContext not found");const{setRunTour:b}=y,[v,E]=z.useState(!1),x=z.useRef(null),C=()=>{const M=k(o);M&&x.current&&(console.log("scroll to highlight",M),x.current.scrollToHighlight(M))};z.useEffect(()=>{o&&C()},[o]);const k=M=>n.find(I=>I.id===M),D=M=>{var O;const I=(O=M.target.files)==null?void 0:O[0];if(I&&I.type==="application/pdf"){const F=new FileReader;F.onload=$=>{var L;e((L=$.target)==null?void 0:L.result)},F.readAsDataURL(I),b(!0)}else alert("Please upload a valid PDF file.")},A=M=>{var O;const I=(O=M.target.files)==null?void 0:O[0];I&&wje(I,P,e)},P=M=>{c(M.highlights||[]),d(M.nodes||[]),f(M.edges||[]),p(M.readRecords||{})};return V.jsx(kt,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:t?V.jsxs(V.Fragment,{children:[v&&V.jsx(gje,{highlights:n,resetHighlights:i}),v&&V.jsx(Zn,{className:"side-bar-button",onClick:()=>E(!1),children:V.jsx(m5e,{})}),V.jsx("div",{style:{height:"100%",width:v?"calc(75%)":"100%",position:"relative"},className:"pdf pdf-container",children:V.jsx(fje,{document:t,children:M=>{var I;return V.jsx(OHe,{enableAreaSelection:O=>O.altKey,pdfDocument:M,utilsRef:O=>{m.current=O.getViewer(),x.current=O},selectionTip:Object.keys(l).length>0&&a!==""?V.jsx(mje,{addHighlight:r}):null,highlights:n,textSelectionColor:(I=l[a])==null?void 0:I.color,children:V.jsx(hje,{setSelectedHighlightId:s,readRecords:l,displayedReads:u})})}})})]}):V.jsxs(kt,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[V.jsx("input",{type:"file",accept:"application/pdf",onChange:D,style:{display:"none"},id:"pdf-upload"}),V.jsx("input",{type:"file",accept:"application/zip",onChange:A,style:{display:"none"},id:"graph-upload"}),V.jsxs(aC,{direction:"row",spacing:2,children:[V.jsx("label",{htmlFor:"pdf-upload",children:V.jsx(Zn,{className:"upload-pdf",variant:"outlined",component:"span",startIcon:V.jsx(M5e,{}),children:"Upload PDF"})}),V.jsx("label",{htmlFor:"graph-upload",children:V.jsx(Zn,{className:"upload-graph",variant:"outlined",component:"span",startIcon:V.jsx(Kte,{}),children:"Upload Graph & PDF"})})]})]})})}var VN,SG;function v$(){if(SG)return VN;SG=1;var t="\0",e="\0",n="";class r{constructor(c){dt(this,"_isDirected",!0);dt(this,"_isMultigraph",!1);dt(this,"_isCompound",!1);dt(this,"_label");dt(this,"_defaultNodeLabelFn",()=>{});dt(this,"_defaultEdgeLabelFn",()=>{});dt(this,"_nodes",{});dt(this,"_in",{});dt(this,"_preds",{});dt(this,"_out",{});dt(this,"_sucs",{});dt(this,"_edgeObjs",{});dt(this,"_edgeLabels",{});dt(this,"_nodeCount",0);dt(this,"_edgeCount",0);dt(this,"_parent");dt(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var f=arguments,p=this;return c.forEach(function(m){f.length>1?p.setNode(m,d):p.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=e,this._children[c]={},this._children[e][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var f=p=>d.removeEdge(d._edgeObjs[p]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(p){d.setParent(p)}),delete this._children[c]),Object.keys(this._in[c]).forEach(f),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==e)return d}}children(c=e){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===e)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const p=new Set(d);for(var f of this.successors(c))p.add(f);return Array.from(p.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([y,b]){c(y)&&d.setNode(y,b)}),Object.values(this._edgeObjs).forEach(function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,f.edge(y))});var p={};function m(y){var b=f.parent(y);return b===void 0||d.hasNode(b)?(p[y]=b,b):b in p?p[b]:m(b)}return this._isCompound&&d.nodes().forEach(y=>d.setParent(y,m(y))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var f=this,p=arguments;return c.reduce(function(m,y){return p.length>1?f.setEdge(m,y,d):f.setEdge(m,y),y}),this}setEdge(){var c,d,f,p,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,f=y.name,arguments.length===2&&(p=arguments[1],m=!0)):(c=y,d=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),c=""+c,d=""+d,f!==void 0&&(f=""+f);var b=s(this._isDirected,c,d,f);if(Object.hasOwn(this._edgeLabels,b))return m&&(this._edgeLabels[b]=p),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[b]=m?p:this._defaultEdgeLabelFn(c,d,f);var v=a(this._isDirected,c,d,f);return c=v.v,d=v.w,Object.freeze(v),this._edgeObjs[b]=v,i(this._preds[d],c),i(this._sucs[c],d),this._in[d][b]=v,this._out[c][b]=v,this._edgeCount++,this}edge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return this._edgeLabels[p]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f);return Object.hasOwn(this._edgeLabels,p)}removeEdge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,f),m=this._edgeObjs[p];return m&&(c=m.v,d=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this}inEdges(c,d){var f=this._in[c];if(f){var p=Object.values(f);return d?p.filter(m=>m.v===d):p}}outEdges(c,d){var f=this._out[c];if(f){var p=Object.values(f);return d?p.filter(m=>m.w===d):p}}nodeEdges(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))}}function i(u,c){u[c]?u[c]++:u[c]=1}function o(u,c){--u[c]||delete u[c]}function s(u,c,d,f){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}return p+n+m+n+(f===void 0?t:f)}function a(u,c,d,f){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}var b={v:p,w:m};return f&&(b.name=f),b}function l(u,c){return s(u,c.v,c.w,c.name)}return VN=r,VN}var UN,CG;function xje(){return CG||(CG=1,UN="2.2.4"),UN}var HN,TG;function Eje(){return TG||(TG=1,HN={Graph:v$(),version:xje()}),HN}var qN,AG;function Sje(){if(AG)return qN;AG=1;var t=v$();qN={write:e,read:i};function e(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:r(o)};return o.graph()!==void 0&&(s.value=structuredClone(o.graph())),s}function n(o){return o.nodes().map(function(s){var a=o.node(s),l=o.parent(s),u={v:s};return a!==void 0&&(u.value=a),l!==void 0&&(u.parent=l),u})}function r(o){return o.edges().map(function(s){var a=o.edge(s),l={v:s.v,w:s.w};return s.name!==void 0&&(l.name=s.name),a!==void 0&&(l.value=a),l})}function i(o){var s=new t(o.options).setGraph(o.value);return o.nodes.forEach(function(a){s.setNode(a.v,a.value),a.parent&&s.setParent(a.v,a.parent)}),o.edges.forEach(function(a){s.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),s}return qN}var jN,RG;function Cje(){if(RG)return jN;RG=1,jN=t;function t(e){var n={},r=[],i;function o(s){Object.hasOwn(n,s)||(n[s]=!0,i.push(s),e.successors(s).forEach(o),e.predecessors(s).forEach(o))}return e.nodes().forEach(function(s){i=[],o(s),i.length&&r.push(i)}),r}return jN}var WN,kG;function Eoe(){if(kG)return WN;kG=1;class t{constructor(){dt(this,"_arr",[]);dt(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o}_swap(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r}}return WN=t,WN}var GN,IG;function Soe(){if(IG)return GN;IG=1;var t=Eoe();GN=n;var e=()=>1;function n(i,o,s,a){return r(i,String(o),s||e,a||function(l){return i.outEdges(l)})}function r(i,o,s,a){var l={},u=new t,c,d,f=function(p){var m=p.v!==c?p.v:p.w,y=l[m],b=s(p),v=d.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+b);v<y.distance&&(y.distance=v,y.predecessor=c,u.decrease(m,v))};for(i.nodes().forEach(function(p){var m=p===o?0:Number.POSITIVE_INFINITY;l[p]={distance:m},u.add(p,m)});u.size()>0&&(c=u.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)a(c).forEach(f);return l}return GN}var KN,PG;function Tje(){if(PG)return KN;PG=1;var t=Soe();KN=e;function e(n,r,i){return n.nodes().reduce(function(o,s){return o[s]=t(n,s,r,i),o},{})}return KN}var YN,MG;function Coe(){if(MG)return YN;MG=1,YN=t;function t(e){var n=0,r=[],i={},o=[];function s(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var u=[],c;do c=r.pop(),i[c].onStack=!1,u.push(c);while(a!==c);o.push(u)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||s(a)}),o}return YN}var XN,NG;function Aje(){if(NG)return XN;NG=1;var t=Coe();XN=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return XN}var JN,DG;function Rje(){if(DG)return JN;DG=1,JN=e;var t=()=>1;function e(r,i,o){return n(r,i||t,o||function(s){return r.outEdges(s)})}function n(r,i,o){var s={},a=r.nodes();return a.forEach(function(l){s[l]={},s[l][l]={distance:0},a.forEach(function(u){l!==u&&(s[l][u]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(u){var c=u.v===l?u.w:u.v,d=i(u);s[l][c]={distance:d,predecessor:l}})}),a.forEach(function(l){var u=s[l];a.forEach(function(c){var d=s[c];a.forEach(function(f){var p=d[l],m=u[f],y=d[f],b=p.distance+m.distance;b<y.distance&&(y.distance=b,y.predecessor=m.predecessor)})})}),s}return JN}var QN,LG;function Toe(){if(LG)return QN;LG=1;function t(n){var r={},i={},o=[];function s(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(s),delete i[a],o.push(a))}if(n.sinks().forEach(s),Object.keys(r).length!==n.nodeCount())throw new e;return o}class e extends Error{constructor(){super(...arguments)}}return QN=t,t.CycleException=e,QN}var ZN,OG;function kje(){if(OG)return ZN;OG=1;var t=Toe();ZN=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return ZN}var eD,FG;function Aoe(){if(FG)return eD;FG=1,eD=t;function t(i,o,s){Array.isArray(o)||(o=[o]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=s==="post"?e:n,u=[],c={};return o.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,c,u)}),u}function e(i,o,s,a){for(var l=[[i,!1]];l.length>0;){var u=l.pop();u[1]?a.push(u[0]):Object.hasOwn(s,u[0])||(s[u[0]]=!0,l.push([u[0],!0]),r(o(u[0]),c=>l.push([c,!1])))}}function n(i,o,s,a){for(var l=[i];l.length>0;){var u=l.pop();Object.hasOwn(s,u)||(s[u]=!0,a.push(u),r(o(u),c=>l.push(c)))}}function r(i,o){for(var s=i.length;s--;)o(i[s],s,i);return i}return eD}var tD,$G;function Ije(){if($G)return tD;$G=1;var t=Aoe();tD=e;function e(n,r){return t(n,r,"post")}return tD}var nD,BG;function Pje(){if(BG)return nD;BG=1;var t=Aoe();nD=e;function e(n,r){return t(n,r,"pre")}return nD}var rD,zG;function Mje(){if(zG)return rD;zG=1;var t=v$(),e=Eoe();rD=n;function n(r,i){var o=new t,s={},a=new e,l;function u(d){var f=d.v===l?d.w:d.v,p=a.priority(f);if(p!==void 0){var m=i(d);m<p&&(s[f]=l,a.decrease(f,m))}}if(r.nodeCount()===0)return o;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),a.decrease(r.nodes()[0],0);for(var c=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(s,l))o.setEdge(l,s[l]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(l).forEach(u)}return o}return rD}var iD,VG;function Nje(){return VG||(VG=1,iD={components:Cje(),dijkstra:Soe(),dijkstraAll:Tje(),findCycles:Aje(),floydWarshall:Rje(),isAcyclic:kje(),postorder:Ije(),preorder:Pje(),prim:Mje(),tarjan:Coe(),topsort:Toe()}),iD}var oD,UG;function tl(){if(UG)return oD;UG=1;var t=Eje();return oD={Graph:t.Graph,json:Sje(),alg:Nje(),version:t.version},oD}var sD,HG;function Dje(){if(HG)return sD;HG=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,o=i._prev;if(o!==i)return e(o),o}enqueue(i){let o=this._sentinel;i._prev&&i._next&&e(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o}toString(){let i=[],o=this._sentinel,s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return sD=t,sD}var aD,qG;function Lje(){if(qG)return aD;qG=1;let t=tl().Graph,e=Dje();aD=r;let n=()=>1;function r(u,c){if(u.nodeCount()<=1)return[];let d=s(u,c||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(p=>u.outEdges(p.v,p.w))}function i(u,c,d){let f=[],p=c[c.length-1],m=c[0],y;for(;u.nodeCount();){for(;y=m.dequeue();)o(u,c,d,y);for(;y=p.dequeue();)o(u,c,d,y);if(u.nodeCount()){for(let b=c.length-2;b>0;--b)if(y=c[b].dequeue(),y){f=f.concat(o(u,c,d,y,!0));break}}}return f}function o(u,c,d,f,p){let m=p?[]:void 0;return u.inEdges(f.v).forEach(y=>{let b=u.edge(y),v=u.node(y.v);p&&m.push({v:y.v,w:y.w}),v.out-=b,a(c,d,v)}),u.outEdges(f.v).forEach(y=>{let b=u.edge(y),v=y.w,E=u.node(v);E.in-=b,a(c,d,E)}),u.removeNode(f.v),m}function s(u,c){let d=new t,f=0,p=0;u.nodes().forEach(b=>{d.setNode(b,{v:b,in:0,out:0})}),u.edges().forEach(b=>{let v=d.edge(b.v,b.w)||0,E=c(b),x=v+E;d.setEdge(b.v,b.w,x),p=Math.max(p,d.node(b.v).out+=E),f=Math.max(f,d.node(b.w).in+=E)});let m=l(p+f+3).map(()=>new e),y=f+1;return d.nodes().forEach(b=>{a(m,y,d.node(b))}),{graph:d,buckets:m,zeroIdx:y}}function a(u,c,d){d.out?d.in?u[d.out-d.in+c].enqueue(d):u[u.length-1].enqueue(d):u[0].enqueue(d)}function l(u){const c=[];for(let d=0;d<u;d++)c.push(d);return c}return aD}var lD,jG;function jr(){if(jG)return lD;jG=1;let t=tl().Graph;lD={addBorderNode:c,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:s,mapValues:D,maxRank:m,normalizeRanks:l,notime:v,partition:y,pick:k,predecessorWeights:o,range:C,removeEmptyRanks:u,simplify:n,successorWeights:i,time:b,uniqueId:x,zipObject:A};function e(P,M,I,O){let F;do F=x(O);while(P.hasNode(F));return I.dummy=M,P.setNode(F,I),F}function n(P){let M=new t().setGraph(P.graph());return P.nodes().forEach(I=>M.setNode(I,P.node(I))),P.edges().forEach(I=>{let O=M.edge(I.v,I.w)||{weight:0,minlen:1},F=P.edge(I);M.setEdge(I.v,I.w,{weight:O.weight+F.weight,minlen:Math.max(O.minlen,F.minlen)})}),M}function r(P){let M=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(I=>{P.children(I).length||M.setNode(I,P.node(I))}),P.edges().forEach(I=>{M.setEdge(I,P.edge(I))}),M}function i(P){let M=P.nodes().map(I=>{let O={};return P.outEdges(I).forEach(F=>{O[F.w]=(O[F.w]||0)+P.edge(F).weight}),O});return A(P.nodes(),M)}function o(P){let M=P.nodes().map(I=>{let O={};return P.inEdges(I).forEach(F=>{O[F.v]=(O[F.v]||0)+P.edge(F).weight}),O});return A(P.nodes(),M)}function s(P,M){let I=P.x,O=P.y,F=M.x-I,$=M.y-O,L=P.width/2,q=P.height/2;if(!F&&!$)throw new Error("Not possible to find intersection inside of the rectangle");let K,X;return Math.abs($)*L>Math.abs(F)*q?($<0&&(q=-q),K=q*F/$,X=q):(F<0&&(L=-L),K=L,X=L*$/F),{x:I+K,y:O+X}}function a(P){let M=C(m(P)+1).map(()=>[]);return P.nodes().forEach(I=>{let O=P.node(I),F=O.rank;F!==void 0&&(M[F][O.order]=I)}),M}function l(P){let M=P.nodes().map(O=>{let F=P.node(O).rank;return F===void 0?Number.MAX_VALUE:F}),I=p(Math.min,M);P.nodes().forEach(O=>{let F=P.node(O);Object.hasOwn(F,"rank")&&(F.rank-=I)})}function u(P){let M=P.nodes().map(L=>P.node(L).rank),I=p(Math.min,M),O=[];P.nodes().forEach(L=>{let q=P.node(L).rank-I;O[q]||(O[q]=[]),O[q].push(L)});let F=0,$=P.graph().nodeRankFactor;Array.from(O).forEach((L,q)=>{L===void 0&&q%$!==0?--F:L!==void 0&&F&&L.forEach(K=>P.node(K).rank+=F)})}function c(P,M,I,O){let F={width:0,height:0};return arguments.length>=4&&(F.rank=I,F.order=O),e(P,"border",F,M)}function d(P,M=f){const I=[];for(let O=0;O<P.length;O+=M){const F=P.slice(O,O+M);I.push(F)}return I}const f=65535;function p(P,M){if(M.length>f){const I=d(M);return P.apply(null,I.map(O=>P.apply(null,O)))}else return P.apply(null,M)}function m(P){const I=P.nodes().map(O=>{let F=P.node(O).rank;return F===void 0?Number.MIN_VALUE:F});return p(Math.max,I)}function y(P,M){let I={lhs:[],rhs:[]};return P.forEach(O=>{M(O)?I.lhs.push(O):I.rhs.push(O)}),I}function b(P,M){let I=Date.now();try{return M()}finally{console.log(P+" time: "+(Date.now()-I)+"ms")}}function v(P,M){return M()}let E=0;function x(P){var M=++E;return toString(P)+M}function C(P,M,I=1){M==null&&(M=P,P=0);let O=$=>$<M;I<0&&(O=$=>M<$);const F=[];for(let $=P;O($);$+=I)F.push($);return F}function k(P,M){const I={};for(const O of M)P[O]!==void 0&&(I[O]=P[O]);return I}function D(P,M){let I=M;return typeof M=="string"&&(I=O=>O[M]),Object.entries(P).reduce((O,[F,$])=>(O[F]=I($,F),O),{})}function A(P,M){return P.reduce((I,O,F)=>(I[O]=M[F],I),{})}return lD}var uD,WG;function Oje(){if(WG)return uD;WG=1;let t=Lje(),e=jr().uniqueId;uD={run:n,undo:i};function n(o){(o.graph().acyclicer==="greedy"?t(o,a(o)):r(o)).forEach(l=>{let u=o.edge(l);o.removeEdge(l),u.forwardName=l.name,u.reversed=!0,o.setEdge(l.w,l.v,u,e("rev"))});function a(l){return u=>l.edge(u).weight}}function r(o){let s=[],a={},l={};function u(c){Object.hasOwn(l,c)||(l[c]=!0,a[c]=!0,o.outEdges(c).forEach(d=>{Object.hasOwn(a,d.w)?s.push(d):u(d.w)}),delete a[c])}return o.nodes().forEach(u),s}function i(o){o.edges().forEach(s=>{let a=o.edge(s);if(a.reversed){o.removeEdge(s);let l=a.forwardName;delete a.reversed,delete a.forwardName,o.setEdge(s.w,s.v,a,l)}})}return uD}var cD,GG;function Fje(){if(GG)return cD;GG=1;let t=jr();cD={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(o=>n(i,o))}function n(i,o){let s=o.v,a=i.node(s).rank,l=o.w,u=i.node(l).rank,c=o.name,d=i.edge(o),f=d.labelRank;if(u===a+1)return;i.removeEdge(o);let p,m,y;for(y=0,++a;a<u;++y,++a)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:o,rank:a},p=t.addDummyNode(i,"edge",m,"_d"),a===f&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),i.setEdge(s,p,{weight:d.weight},c),y===0&&i.graph().dummyChains.push(p),s=p;i.setEdge(s,l,{weight:d.weight},c)}function r(i){i.graph().dummyChains.forEach(o=>{let s=i.node(o),a=s.edgeLabel,l;for(i.setEdge(s.edgeObj,a);s.dummy;)l=i.successors(o)[0],i.removeNode(o),a.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(a.x=s.x,a.y=s.y,a.width=s.width,a.height=s.height),o=l,s=i.node(o)})}return cD}var dD,KG;function KT(){if(KG)return dD;KG=1;const{applyWithChunking:t}=jr();dD={longestPath:e,slack:n};function e(r){var i={};function o(s){var a=r.node(s);if(Object.hasOwn(i,s))return a.rank;i[s]=!0;let l=r.outEdges(s).map(c=>c==null?Number.POSITIVE_INFINITY:o(c.w)-r.edge(c).minlen);var u=t(Math.min,l);return u===Number.POSITIVE_INFINITY&&(u=0),a.rank=u}r.sources().forEach(o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return dD}var fD,YG;function Roe(){if(YG)return fD;YG=1;var t=tl().Graph,e=KT().slack;fD=n;function n(s){var a=new t({directed:!1}),l=s.nodes()[0],u=s.nodeCount();a.setNode(l,{});for(var c,d;r(a,s)<u;)c=i(a,s),d=a.hasNode(c.v)?e(s,c):-e(s,c),o(a,s,d);return a}function r(s,a){function l(u){a.nodeEdges(u).forEach(c=>{var d=c.v,f=u===d?c.w:d;!s.hasNode(f)&&!e(a,c)&&(s.setNode(f,{}),s.setEdge(u,f,{}),l(f))})}return s.nodes().forEach(l),s.nodeCount()}function i(s,a){return a.edges().reduce((u,c)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(c.v)!==s.hasNode(c.w)&&(d=e(a,c)),d<u[0]?[d,c]:u},[Number.POSITIVE_INFINITY,null])[1]}function o(s,a,l){s.nodes().forEach(u=>a.node(u).rank+=l)}return fD}var hD,XG;function $je(){if(XG)return hD;XG=1;var t=Roe(),e=KT().slack,n=KT().longestPath,r=tl().alg.preorder,i=tl().alg.postorder,o=jr().simplify;hD=s,s.initLowLimValues=c,s.initCutValues=a,s.calcCutValue=u,s.leaveEdge=f,s.enterEdge=p,s.exchangeEdges=m;function s(E){E=o(E),n(E);var x=t(E);c(x),a(x,E);for(var C,k;C=f(x);)k=p(x,E,C),m(x,E,C,k)}function a(E,x){var C=i(E,E.nodes());C=C.slice(0,C.length-1),C.forEach(k=>l(E,x,k))}function l(E,x,C){var k=E.node(C),D=k.parent;E.edge(C,D).cutvalue=u(E,x,C)}function u(E,x,C){var k=E.node(C),D=k.parent,A=!0,P=x.edge(C,D),M=0;return P||(A=!1,P=x.edge(D,C)),M=P.weight,x.nodeEdges(C).forEach(I=>{var O=I.v===C,F=O?I.w:I.v;if(F!==D){var $=O===A,L=x.edge(I).weight;if(M+=$?L:-L,b(E,C,F)){var q=E.edge(C,F).cutvalue;M+=$?-q:q}}}),M}function c(E,x){arguments.length<2&&(x=E.nodes()[0]),d(E,{},1,x)}function d(E,x,C,k,D){var A=C,P=E.node(k);return x[k]=!0,E.neighbors(k).forEach(M=>{Object.hasOwn(x,M)||(C=d(E,x,C,M,k))}),P.low=A,P.lim=C++,D?P.parent=D:delete P.parent,C}function f(E){return E.edges().find(x=>E.edge(x).cutvalue<0)}function p(E,x,C){var k=C.v,D=C.w;x.hasEdge(k,D)||(k=C.w,D=C.v);var A=E.node(k),P=E.node(D),M=A,I=!1;A.lim>P.lim&&(M=P,I=!0);var O=x.edges().filter(F=>I===v(E,E.node(F.v),M)&&I!==v(E,E.node(F.w),M));return O.reduce((F,$)=>e(x,$)<e(x,F)?$:F)}function m(E,x,C,k){var D=C.v,A=C.w;E.removeEdge(D,A),E.setEdge(k.v,k.w,{}),c(E),a(E,x),y(E,x)}function y(E,x){var C=E.nodes().find(D=>!x.node(D).parent),k=r(E,C);k=k.slice(1),k.forEach(D=>{var A=E.node(D).parent,P=x.edge(D,A),M=!1;P||(P=x.edge(A,D),M=!0),x.node(D).rank=x.node(A).rank+(M?P.minlen:-P.minlen)})}function b(E,x,C){return E.hasEdge(x,C)}function v(E,x,C){return C.low<=x.lim&&x.lim<=C.lim}return hD}var pD,JG;function Bje(){if(JG)return pD;JG=1;var t=KT(),e=t.longestPath,n=Roe(),r=$je();pD=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":s(l);break;case"longest-path":o(l);break;default:a(l)}}var o=e;function s(l){e(l),n(l)}function a(l){r(l)}return pD}var gD,QG;function zje(){if(QG)return gD;QG=1,gD=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(o=>{let s=r.node(o),a=s.edgeObj,l=e(r,i,a.v,a.w),u=l.path,c=l.lca,d=0,f=u[d],p=!0;for(;o!==a.w;){if(s=r.node(o),p){for(;(f=u[d])!==c&&r.node(f).maxRank<s.rank;)d++;f===c&&(p=!1)}if(!p){for(;d<u.length-1&&r.node(f=u[d+1]).minRank<=s.rank;)d++;f=u[d]}r.setParent(o,f),o=r.successors(o)[0]}})}function e(r,i,o,s){let a=[],l=[],u=Math.min(i[o].low,i[s].low),c=Math.max(i[o].lim,i[s].lim),d,f;d=o;do d=r.parent(d),a.push(d);while(d&&(i[d].low>u||c>i[d].lim));for(f=d,d=s;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},o=0;function s(a){let l=o;r.children(a).forEach(s),i[a]={low:l,lim:o++}}return r.children().forEach(s),i}return gD}var mD,ZG;function Vje(){if(ZG)return mD;ZG=1;let t=jr();mD={run:e,cleanup:o};function e(s){let a=t.addDummyNode(s,"root",{},"_root"),l=r(s),u=Object.values(l),c=t.applyWithChunking(Math.max,u)-1,d=2*c+1;s.graph().nestingRoot=a,s.edges().forEach(p=>s.edge(p).minlen*=d);let f=i(s)+1;s.children().forEach(p=>n(s,a,d,f,c,l,p)),s.graph().nodeRankFactor=d}function n(s,a,l,u,c,d,f){let p=s.children(f);if(!p.length){f!==a&&s.setEdge(a,f,{weight:0,minlen:l});return}let m=t.addBorderNode(s,"_bt"),y=t.addBorderNode(s,"_bb"),b=s.node(f);s.setParent(m,f),b.borderTop=m,s.setParent(y,f),b.borderBottom=y,p.forEach(v=>{n(s,a,l,u,c,d,v);let E=s.node(v),x=E.borderTop?E.borderTop:v,C=E.borderBottom?E.borderBottom:v,k=E.borderTop?u:2*u,D=x!==C?1:c-d[f]+1;s.setEdge(m,x,{weight:k,minlen:D,nestingEdge:!0}),s.setEdge(C,y,{weight:k,minlen:D,nestingEdge:!0})}),s.parent(f)||s.setEdge(a,m,{weight:0,minlen:c+d[f]})}function r(s){var a={};function l(u,c){var d=s.children(u);d&&d.length&&d.forEach(f=>l(f,c+1)),a[u]=c}return s.children().forEach(u=>l(u,1)),a}function i(s){return s.edges().reduce((a,l)=>a+s.edge(l).weight,0)}function o(s){var a=s.graph();s.removeNode(a.nestingRoot),delete a.nestingRoot,s.edges().forEach(l=>{var u=s.edge(l);u.nestingEdge&&s.removeEdge(l)})}return mD}var yD,eK;function Uje(){if(eK)return yD;eK=1;let t=jr();yD=e;function e(r){function i(o){let s=r.children(o),a=r.node(o);if(s.length&&s.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,u=a.maxRank+1;l<u;++l)n(r,"borderLeft","_bl",o,a,l),n(r,"borderRight","_br",o,a,l)}}r.children().forEach(i)}function n(r,i,o,s,a,l){let u={width:0,height:0,rank:l,borderType:i},c=a[i][l-1],d=t.addDummyNode(r,"border",u,o);a[i][l]=d,r.setParent(d,s),c&&r.setEdge(c,d,{weight:1})}return yD}var vD,tK;function Hje(){if(tK)return vD;tK=1,vD={adjust:t,undo:e};function t(l){let u=l.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&n(l)}function e(l){let u=l.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&i(l),(u==="lr"||u==="rl")&&(s(l),n(l))}function n(l){l.nodes().forEach(u=>r(l.node(u))),l.edges().forEach(u=>r(l.edge(u)))}function r(l){let u=l.width;l.width=l.height,l.height=u}function i(l){l.nodes().forEach(u=>o(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(o),Object.hasOwn(c,"y")&&o(c)})}function o(l){l.y=-l.y}function s(l){l.nodes().forEach(u=>a(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(a),Object.hasOwn(c,"x")&&a(c)})}function a(l){let u=l.x;l.x=l.y,l.y=u}return vD}var bD,nK;function qje(){if(nK)return bD;nK=1;let t=jr();bD=e;function e(n){let r={},i=n.nodes().filter(c=>!n.children(c).length),o=i.map(c=>n.node(c).rank),s=t.applyWithChunking(Math.max,o),a=t.range(s+1).map(()=>[]);function l(c){if(r[c])return;r[c]=!0;let d=n.node(c);a[d.rank].push(c),n.successors(c).forEach(l)}return i.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(l),a}return bD}var wD,rK;function jje(){if(rK)return wD;rK=1;let t=jr().zipObject;wD=e;function e(r,i){let o=0;for(let s=1;s<i.length;++s)o+=n(r,i[s-1],i[s]);return o}function n(r,i,o){let s=t(o,o.map((f,p)=>p)),a=i.flatMap(f=>r.outEdges(f).map(p=>({pos:s[p.w],weight:r.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),l=1;for(;l<o.length;)l<<=1;let u=2*l-1;l-=1;let c=new Array(u).fill(0),d=0;return a.forEach(f=>{let p=f.pos+l;c[p]+=f.weight;let m=0;for(;p>0;)p%2&&(m+=c[p+1]),p=p-1>>1,c[p]+=f.weight;d+=f.weight*m}),d}return wD}var _D,iK;function Wje(){if(iK)return _D;iK=1,_D=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let o=i.reduce((s,a)=>{let l=e.edge(a),u=e.node(a.v);return{sum:s.sum+l.weight*u.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}return _D}var xD,oK;function Gje(){if(oK)return xD;oK=1;let t=jr();xD=e;function e(i,o){let s={};i.forEach((l,u)=>{let c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};l.barycenter!==void 0&&(c.barycenter=l.barycenter,c.weight=l.weight)}),o.edges().forEach(l=>{let u=s[l.v],c=s[l.w];u!==void 0&&c!==void 0&&(c.indegree++,u.out.push(s[l.w]))});let a=Object.values(s).filter(l=>!l.indegree);return n(a)}function n(i){let o=[];function s(l){return u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&r(l,u)}}function a(l){return u=>{u.in.push(l),--u.indegree===0&&i.push(u)}}for(;i.length;){let l=i.pop();o.push(l),l.in.reverse().forEach(s(l)),l.out.forEach(a(l))}return o.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,o){let s=0,a=0;i.weight&&(s+=i.barycenter*i.weight,a+=i.weight),o.weight&&(s+=o.barycenter*o.weight,a+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=s/a,i.weight=a,i.i=Math.min(o.i,i.i),o.merged=!0}return xD}var ED,sK;function Kje(){if(sK)return ED;sK=1;let t=jr();ED=e;function e(i,o){let s=t.partition(i,m=>Object.hasOwn(m,"barycenter")),a=s.lhs,l=s.rhs.sort((m,y)=>y.i-m.i),u=[],c=0,d=0,f=0;a.sort(r(!!o)),f=n(u,l,f),a.forEach(m=>{f+=m.vs.length,u.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,f=n(u,l,f)});let p={vs:u.flat(!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function n(i,o,s){let a;for(;o.length&&(a=o[o.length-1]).i<=s;)o.pop(),i.push(a.vs),s++;return s}function r(i){return(o,s)=>o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:i?s.i-o.i:o.i-s.i}return ED}var SD,aK;function Yje(){if(aK)return SD;aK=1;let t=Wje(),e=Gje(),n=Kje();SD=r;function r(s,a,l,u){let c=s.children(a),d=s.node(a),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};f&&(c=c.filter(E=>E!==f&&E!==p));let y=t(s,c);y.forEach(E=>{if(s.children(E.v).length){let x=r(s,E.v,l,u);m[E.v]=x,Object.hasOwn(x,"barycenter")&&o(E,x)}});let b=e(y,l);i(b,m);let v=n(b,u);if(f&&(v.vs=[f,v.vs,p].flat(!0),s.predecessors(f).length)){let E=s.node(s.predecessors(f)[0]),x=s.node(s.predecessors(p)[0]);Object.hasOwn(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+E.order+x.order)/(v.weight+2),v.weight+=2}return v}function i(s,a){s.forEach(l=>{l.vs=l.vs.flatMap(u=>a[u]?a[u].vs:u)})}function o(s,a){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+a.barycenter*a.weight)/(s.weight+a.weight),s.weight+=a.weight):(s.barycenter=a.barycenter,s.weight=a.weight)}return SD}var CD,lK;function Xje(){if(lK)return CD;lK=1;let t=tl().Graph,e=jr();CD=n;function n(i,o,s){let a=r(i),l=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(u=>i.node(u));return i.nodes().forEach(u=>{let c=i.node(u),d=i.parent(u);(c.rank===o||c.minRank<=o&&o<=c.maxRank)&&(l.setNode(u),l.setParent(u,d||a),i[s](u).forEach(f=>{let p=f.v===u?f.w:f.v,m=l.edge(p,u),y=m!==void 0?m.weight:0;l.setEdge(p,u,{weight:i.edge(f).weight+y})}),Object.hasOwn(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[o],borderRight:c.borderRight[o]}))}),l}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return CD}var TD,uK;function Jje(){if(uK)return TD;uK=1,TD=t;function t(e,n,r){let i={},o;r.forEach(s=>{let a=e.parent(s),l,u;for(;a;){if(l=e.parent(a),l?(u=i[l],i[l]=a):(u=o,o=a),u&&u!==a){n.setEdge(u,a);return}a=l}})}return TD}var AD,cK;function Qje(){if(cK)return AD;cK=1;let t=qje(),e=jje(),n=Yje(),r=Xje(),i=Jje(),o=tl().Graph,s=jr();AD=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let p=s.maxRank(d),m=l(d,s.range(1,p+1),"inEdges"),y=l(d,s.range(p-1,-1,-1),"outEdges"),b=t(d);if(c(d,b),f&&f.disableOptimalOrderHeuristic)return;let v=Number.POSITIVE_INFINITY,E;for(let x=0,C=0;C<4;++x,++C){u(x%2?m:y,x%4>=2),b=s.buildLayerMatrix(d);let k=e(d,b);k<v&&(C=0,E=Object.assign({},b),v=k)}c(d,E)}function l(d,f,p){return f.map(function(m){return r(d,m,p)})}function u(d,f){let p=new o;d.forEach(function(m){let y=m.graph().root,b=n(m,y,p,f);b.vs.forEach((v,E)=>m.node(v).order=E),i(m,p,b.vs)})}function c(d,f){Object.values(f).forEach(p=>p.forEach((m,y)=>d.node(m).order=y))}return AD}var RD,dK;function Zje(){if(dK)return RD;dK=1;let t=tl().Graph,e=jr();RD={positionX:p,findType1Conflicts:n,findType2Conflicts:r,addConflict:o,hasConflict:s,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:f};function n(b,v){let E={};function x(C,k){let D=0,A=0,P=C.length,M=k[k.length-1];return k.forEach((I,O)=>{let F=i(b,I),$=F?b.node(F).order:P;(F||I===M)&&(k.slice(A,O+1).forEach(L=>{b.predecessors(L).forEach(q=>{let K=b.node(q),X=K.order;(X<D||$<X)&&!(K.dummy&&b.node(L).dummy)&&o(E,q,L)})}),A=O+1,D=$)}),k}return v.length&&v.reduce(x),E}function r(b,v){let E={};function x(k,D,A,P,M){let I;e.range(D,A).forEach(O=>{I=k[O],b.node(I).dummy&&b.predecessors(I).forEach(F=>{let $=b.node(F);$.dummy&&($.order<P||$.order>M)&&o(E,F,I)})})}function C(k,D){let A=-1,P,M=0;return D.forEach((I,O)=>{if(b.node(I).dummy==="border"){let F=b.predecessors(I);F.length&&(P=b.node(F[0]).order,x(D,M,O,A,P),M=O,A=P)}x(D,M,D.length,P,k.length)}),D}return v.length&&v.reduce(C),E}function i(b,v){if(b.node(v).dummy)return b.predecessors(v).find(E=>b.node(E).dummy)}function o(b,v,E){if(v>E){let C=v;v=E,E=C}let x=b[v];x||(b[v]=x={}),x[E]=!0}function s(b,v,E){if(v>E){let x=v;v=E,E=x}return!!b[v]&&Object.hasOwn(b[v],E)}function a(b,v,E,x){let C={},k={},D={};return v.forEach(A=>{A.forEach((P,M)=>{C[P]=P,k[P]=P,D[P]=M})}),v.forEach(A=>{let P=-1;A.forEach(M=>{let I=x(M);if(I.length){I=I.sort((F,$)=>D[F]-D[$]);let O=(I.length-1)/2;for(let F=Math.floor(O),$=Math.ceil(O);F<=$;++F){let L=I[F];k[M]===M&&P<D[L]&&!s(E,M,L)&&(k[L]=M,k[M]=C[M]=C[L],P=D[L])}}})}),{root:C,align:k}}function l(b,v,E,x,C){let k={},D=u(b,v,E,C),A=C?"borderLeft":"borderRight";function P(O,F){let $=D.nodes(),L=$.pop(),q={};for(;L;)q[L]?O(L):(q[L]=!0,$.push(L),$=$.concat(F(L))),L=$.pop()}function M(O){k[O]=D.inEdges(O).reduce((F,$)=>Math.max(F,k[$.v]+D.edge($)),0)}function I(O){let F=D.outEdges(O).reduce((L,q)=>Math.min(L,k[q.w]-D.edge(q)),Number.POSITIVE_INFINITY),$=b.node(O);F!==Number.POSITIVE_INFINITY&&$.borderType!==A&&(k[O]=Math.max(k[O],F))}return P(M,D.predecessors.bind(D)),P(I,D.successors.bind(D)),Object.keys(x).forEach(O=>k[O]=k[E[O]]),k}function u(b,v,E,x){let C=new t,k=b.graph(),D=m(k.nodesep,k.edgesep,x);return v.forEach(A=>{let P;A.forEach(M=>{let I=E[M];if(C.setNode(I),P){var O=E[P],F=C.edge(O,I);C.setEdge(O,I,Math.max(D(b,M,P),F||0))}P=M})}),C}function c(b,v){return Object.values(v).reduce((E,x)=>{let C=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(x).forEach(([A,P])=>{let M=y(b,A)/2;C=Math.max(P+M,C),k=Math.min(P-M,k)});const D=C-k;return D<E[0]&&(E=[D,x]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(b,v){let E=Object.values(v),x=e.applyWithChunking(Math.min,E),C=e.applyWithChunking(Math.max,E);["u","d"].forEach(k=>{["l","r"].forEach(D=>{let A=k+D,P=b[A];if(P===v)return;let M=Object.values(P),I=x-e.applyWithChunking(Math.min,M);D!=="l"&&(I=C-e.applyWithChunking(Math.max,M)),I&&(b[A]=e.mapValues(P,O=>O+I))})})}function f(b,v){return e.mapValues(b.ul,(E,x)=>{if(v)return b[v.toLowerCase()][x];{let C=Object.values(b).map(k=>k[x]).sort((k,D)=>k-D);return(C[1]+C[2])/2}})}function p(b){let v=e.buildLayerMatrix(b),E=Object.assign(n(b,v),r(b,v)),x={},C;["u","d"].forEach(D=>{C=D==="u"?v:Object.values(v).reverse(),["l","r"].forEach(A=>{A==="r"&&(C=C.map(O=>Object.values(O).reverse()));let P=(D==="u"?b.predecessors:b.successors).bind(b),M=a(b,C,E,P),I=l(b,C,M.root,M.align,A==="r");A==="r"&&(I=e.mapValues(I,O=>-O)),x[D+A]=I})});let k=c(b,x);return d(x,k),f(x,b.graph().align)}function m(b,v,E){return(x,C,k)=>{let D=x.node(C),A=x.node(k),P=0,M;if(P+=D.width/2,Object.hasOwn(D,"labelpos"))switch(D.labelpos.toLowerCase()){case"l":M=-D.width/2;break;case"r":M=D.width/2;break}if(M&&(P+=E?M:-M),M=0,P+=(D.dummy?v:b)/2,P+=(A.dummy?v:b)/2,P+=A.width/2,Object.hasOwn(A,"labelpos"))switch(A.labelpos.toLowerCase()){case"l":M=A.width/2;break;case"r":M=-A.width/2;break}return M&&(P+=E?M:-M),M=0,P}}function y(b,v){return b.node(v).width}return RD}var kD,fK;function eWe(){if(fK)return kD;fK=1;let t=jr(),e=Zje().positionX;kD=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([o,s])=>i.node(o).x=s)}function r(i){let o=t.buildLayerMatrix(i),s=i.graph().ranksep,a=0;o.forEach(l=>{const u=l.reduce((c,d)=>{const f=i.node(d).height;return c>f?c:f},0);l.forEach(c=>i.node(c).y=a+u/2),a+=u+s})}return kD}var ID,hK;function tWe(){if(hK)return ID;hK=1;let t=Oje(),e=Fje(),n=Bje(),r=jr().normalizeRanks,i=zje(),o=jr().removeEmptyRanks,s=Vje(),a=Uje(),l=Hje(),u=Qje(),c=eWe(),d=jr(),f=tl().Graph;ID=p;function p(W,oe){let re=oe&&oe.debugTiming?d.time:d.notime;re("layout",()=>{let me=re("  buildLayoutGraph",()=>P(W));re("  runLayout",()=>m(me,re,oe)),re("  updateInputGraph",()=>y(W,me))})}function m(W,oe,re){oe("    makeSpaceForEdgeLabels",()=>M(W)),oe("    removeSelfEdges",()=>ee(W)),oe("    acyclic",()=>t.run(W)),oe("    nestingGraph.run",()=>s.run(W)),oe("    rank",()=>n(d.asNonCompoundGraph(W))),oe("    injectEdgeLabelProxies",()=>I(W)),oe("    removeEmptyRanks",()=>o(W)),oe("    nestingGraph.cleanup",()=>s.cleanup(W)),oe("    normalizeRanks",()=>r(W)),oe("    assignRankMinMax",()=>O(W)),oe("    removeEdgeLabelProxies",()=>F(W)),oe("    normalize.run",()=>e.run(W)),oe("    parentDummyChains",()=>i(W)),oe("    addBorderSegments",()=>a(W)),oe("    order",()=>u(W,re)),oe("    insertSelfEdges",()=>J(W)),oe("    adjustCoordinateSystem",()=>l.adjust(W)),oe("    position",()=>c(W)),oe("    positionSelfEdges",()=>G(W)),oe("    removeBorderNodes",()=>X(W)),oe("    normalize.undo",()=>e.undo(W)),oe("    fixupEdgeLabelCoords",()=>q(W)),oe("    undoCoordinateSystem",()=>l.undo(W)),oe("    translateGraph",()=>$(W)),oe("    assignNodeIntersects",()=>L(W)),oe("    reversePoints",()=>K(W)),oe("    acyclic.undo",()=>t.undo(W))}function y(W,oe){W.nodes().forEach(re=>{let me=W.node(re),ge=oe.node(re);me&&(me.x=ge.x,me.y=ge.y,me.rank=ge.rank,oe.children(re).length&&(me.width=ge.width,me.height=ge.height))}),W.edges().forEach(re=>{let me=W.edge(re),ge=oe.edge(re);me.points=ge.points,Object.hasOwn(ge,"x")&&(me.x=ge.x,me.y=ge.y)}),W.graph().width=oe.graph().width,W.graph().height=oe.graph().height}let b=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],x=["width","height"],C={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],D={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},A=["labelpos"];function P(W){let oe=new f({multigraph:!0,compound:!0}),re=Z(W.graph());return oe.setGraph(Object.assign({},v,Y(re,b),d.pick(re,E))),W.nodes().forEach(me=>{let ge=Z(W.node(me));const ce=Y(ge,x);Object.keys(C).forEach(he=>{ce[he]===void 0&&(ce[he]=C[he])}),oe.setNode(me,ce),oe.setParent(me,W.parent(me))}),W.edges().forEach(me=>{let ge=Z(W.edge(me));oe.setEdge(me,Object.assign({},D,Y(ge,k),d.pick(ge,A)))}),oe}function M(W){let oe=W.graph();oe.ranksep/=2,W.edges().forEach(re=>{let me=W.edge(re);me.minlen*=2,me.labelpos.toLowerCase()!=="c"&&(oe.rankdir==="TB"||oe.rankdir==="BT"?me.width+=me.labeloffset:me.height+=me.labeloffset)})}function I(W){W.edges().forEach(oe=>{let re=W.edge(oe);if(re.width&&re.height){let me=W.node(oe.v),ce={rank:(W.node(oe.w).rank-me.rank)/2+me.rank,e:oe};d.addDummyNode(W,"edge-proxy",ce,"_ep")}})}function O(W){let oe=0;W.nodes().forEach(re=>{let me=W.node(re);me.borderTop&&(me.minRank=W.node(me.borderTop).rank,me.maxRank=W.node(me.borderBottom).rank,oe=Math.max(oe,me.maxRank))}),W.graph().maxRank=oe}function F(W){W.nodes().forEach(oe=>{let re=W.node(oe);re.dummy==="edge-proxy"&&(W.edge(re.e).labelRank=re.rank,W.removeNode(oe))})}function $(W){let oe=Number.POSITIVE_INFINITY,re=0,me=Number.POSITIVE_INFINITY,ge=0,ce=W.graph(),he=ce.marginx||0,be=ce.marginy||0;function Ce(Ae){let Oe=Ae.x,j=Ae.y,pe=Ae.width,ve=Ae.height;oe=Math.min(oe,Oe-pe/2),re=Math.max(re,Oe+pe/2),me=Math.min(me,j-ve/2),ge=Math.max(ge,j+ve/2)}W.nodes().forEach(Ae=>Ce(W.node(Ae))),W.edges().forEach(Ae=>{let Oe=W.edge(Ae);Object.hasOwn(Oe,"x")&&Ce(Oe)}),oe-=he,me-=be,W.nodes().forEach(Ae=>{let Oe=W.node(Ae);Oe.x-=oe,Oe.y-=me}),W.edges().forEach(Ae=>{let Oe=W.edge(Ae);Oe.points.forEach(j=>{j.x-=oe,j.y-=me}),Object.hasOwn(Oe,"x")&&(Oe.x-=oe),Object.hasOwn(Oe,"y")&&(Oe.y-=me)}),ce.width=re-oe+he,ce.height=ge-me+be}function L(W){W.edges().forEach(oe=>{let re=W.edge(oe),me=W.node(oe.v),ge=W.node(oe.w),ce,he;re.points?(ce=re.points[0],he=re.points[re.points.length-1]):(re.points=[],ce=ge,he=me),re.points.unshift(d.intersectRect(me,ce)),re.points.push(d.intersectRect(ge,he))})}function q(W){W.edges().forEach(oe=>{let re=W.edge(oe);if(Object.hasOwn(re,"x"))switch((re.labelpos==="l"||re.labelpos==="r")&&(re.width-=re.labeloffset),re.labelpos){case"l":re.x-=re.width/2+re.labeloffset;break;case"r":re.x+=re.width/2+re.labeloffset;break}})}function K(W){W.edges().forEach(oe=>{let re=W.edge(oe);re.reversed&&re.points.reverse()})}function X(W){W.nodes().forEach(oe=>{if(W.children(oe).length){let re=W.node(oe),me=W.node(re.borderTop),ge=W.node(re.borderBottom),ce=W.node(re.borderLeft[re.borderLeft.length-1]),he=W.node(re.borderRight[re.borderRight.length-1]);re.width=Math.abs(he.x-ce.x),re.height=Math.abs(ge.y-me.y),re.x=ce.x+re.width/2,re.y=me.y+re.height/2}}),W.nodes().forEach(oe=>{W.node(oe).dummy==="border"&&W.removeNode(oe)})}function ee(W){W.edges().forEach(oe=>{if(oe.v===oe.w){var re=W.node(oe.v);re.selfEdges||(re.selfEdges=[]),re.selfEdges.push({e:oe,label:W.edge(oe)}),W.removeEdge(oe)}})}function J(W){var oe=d.buildLayerMatrix(W);oe.forEach(re=>{var me=0;re.forEach((ge,ce)=>{var he=W.node(ge);he.order=ce+me,(he.selfEdges||[]).forEach(be=>{d.addDummyNode(W,"selfedge",{width:be.label.width,height:be.label.height,rank:he.rank,order:ce+ ++me,e:be.e,label:be.label},"_se")}),delete he.selfEdges})})}function G(W){W.nodes().forEach(oe=>{var re=W.node(oe);if(re.dummy==="selfedge"){var me=W.node(re.e.v),ge=me.x+me.width/2,ce=me.y,he=re.x-ge,be=me.height/2;W.setEdge(re.e,re.label),W.removeNode(oe),re.label.points=[{x:ge+2*he/3,y:ce-be},{x:ge+5*he/6,y:ce-be},{x:ge+he,y:ce},{x:ge+5*he/6,y:ce+be},{x:ge+2*he/3,y:ce+be}],re.label.x=re.x,re.label.y=re.y}})}function Y(W,oe){return d.mapValues(d.pick(W,oe),Number)}function Z(W){var oe={};return W&&Object.entries(W).forEach(([re,me])=>{typeof re=="string"&&(re=re.toLowerCase()),oe[re]=me}),oe}return ID}var PD,pK;function nWe(){if(pK)return PD;pK=1;let t=jr(),e=tl().Graph;PD={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),o=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(s=>{o.setNode(s,{label:s}),o.setParent(s,"layer"+r.node(s).rank)}),r.edges().forEach(s=>o.setEdge(s.v,s.w,{},s.name)),i.forEach((s,a)=>{let l="layer"+a;o.setNode(l,{rank:"same"}),s.reduce((u,c)=>(o.setEdge(u,c,{style:"invis"}),c))}),o}return PD}var MD,gK;function rWe(){return gK||(gK=1,MD="1.1.4"),MD}var ND,mK;function iWe(){return mK||(mK=1,ND={graphlib:tl(),layout:tWe(),debug:nWe(),util:{time:jr().time,notime:jr().notime},version:rWe()}),ND}var oWe=iWe();const yK=Ni(oWe);function sWe({data:t}){const{id:e,readRecordId:n,label:r,type:i,content:o,intersected:s}=t,{readRecords:a,displayedReads:l,selectedHighlightId:u}=la(),{color:c}=a[n]||{color:"#e6e6e6"},d=l.includes(n),f=B5(),p=f.inProgress&&f.fromNode.id!==e;return V.jsxs(kt,{className:`highlight-node ${e===u?"selected":""} ${s?"intersected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[!f.inProgress&&V.jsx(Bo,{className:"connection-handle",id:`relational-handle-${e}-source`,position:ut.Right,type:"source"}),(!f.inProgress||p)&&V.jsx(Bo,{className:"connection-handle",id:`relational-handle-${e}-target`,position:ut.Left,type:"target",isConnectableStart:!1}),V.jsx(Bo,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:ut.Top,type:"target",isConnectableStart:!1}),V.jsx(Bo,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:ut.Bottom,type:"source",isConnectableStart:!1}),V.jsx(cn,{variant:"body1",children:r}),i==="area"&&V.jsx("img",{src:o,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),V.jsx(Yte,{className:"drag-handle__custom"})]})}function aWe({data:t}){const{id:e,readRecordId:n,label:r,content:i,type:o,notes:s}=t,{readRecords:a,displayedReads:l,selectedHighlightId:u}=la(),{color:c}=a[n],d=l.includes(n);return V.jsxs(kt,{className:`overview-node ${e===u?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[V.jsx(Bo,{type:"target",position:ut.Top,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}}),V.jsx(cn,{variant:"body1",children:r}),o==="area"&&V.jsxs(V.Fragment,{children:[V.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),V.jsx("br",{})]}),V.jsx(cn,{variant:"caption",children:s}),V.jsx(Bo,{type:"source",position:ut.Bottom,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}})]})}function lWe({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:o,markerEnd:s}){const[a,l,u]=MA({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return V.jsxs(V.Fragment,{children:[V.jsx(jv,{path:a,markerEnd:s,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),V.jsx(MJ,{children:V.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}function vK(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,o=e.internals.positionAbsolute,s=n/2,a=r/2,l=i.x+s,u=i.y+a,c=o.x+e.measured.width/2,d=o.y+e.measured.height/2,f=(c-l)/(2*s)-(d-u)/(2*a),p=(c-l)/(2*s)+(d-u)/(2*a),m=1/(Math.abs(f)+Math.abs(p)),y=m*f,b=m*p,v=s*(y+b)+l,E=a*(-y+b)+u;return{x:v,y:E}}function bK(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),o=Math.round(e.x),s=Math.round(e.y);return o<=r+1?ut.Left:o>=r+n.measured.width-1?ut.Right:s<=i+1?ut.Top:s>=n.y+n.measured.height-1?ut.Bottom:ut.Top}function uWe(t,e){const n=vK(t,e),r=vK(e,t),i=bK(t,n),o=bK(e,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:i,targetPos:o}}function cWe({source:t,target:e}){const n=g6(t),r=g6(e);if(!n||!r)return null;const{sx:i,sy:o,tx:s,ty:a,sourcePos:l,targetPos:u}=uWe(n,r),[c,d,f]=MA({sourceX:i,sourceY:o,sourcePosition:l,targetPosition:u,targetX:s,targetY:a});return V.jsxs(V.Fragment,{children:[V.jsx(jv,{path:c,style:{stroke:"black",strokeWidth:2}}),V.jsx(MJ,{children:V.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${d}px,${f}px)`}})})]})}function dWe(){const{nodes:t,updateNodeData:e,deleteHighlight:n,selectedHighlightId:r,setSelectedHighlightId:i,setOnSelectNode:o,query_gemini:s}=la(),[a,l]=z.useState(""),[u,c]=z.useState(""),[d,f]=z.useState(""),[p,m]=z.useState(!1),[y,b]=z.useState(!1);z.useEffect(()=>{const x=t.find(C=>C.id===r);x&&(l(x.data.label),x.data.content,x.data.type,c(x.data.summary),f(x.data.notes),m(!1),b(!1))},[r]);const v=()=>{e(r,{label:a,summary:u,notes:d}),i(null),o(!1)},E=()=>{b(!0),p||(i(null),o(!1))};return V.jsxs("div",{className:"wrapper",style:{overflowY:y?"hidden":"auto"},children:[p&&y&&V.jsxs("div",{className:"closing-popup",children:[V.jsx("div",{className:"closing-background",onClick:()=>b(!1)}),V.jsxs("div",{className:"closing-modal",children:[V.jsx("h3",{children:"Would you like to save your changes?"}),V.jsxs("div",{className:"closing-modal-buttons",children:[V.jsx(Zn,{variant:"outlined",color:"success",onClick:()=>v(),children:"Save"}),V.jsx(Zn,{variant:"outlined",color:"error",onClick:()=>b(!1),children:"Cancel"})]})]})]}),V.jsx(tc,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>E(),children:V.jsx(Gte,{})}),V.jsxs(kt,{className:"field",children:[V.jsx("h3",{children:"Label"}),V.jsx(Ia,{id:"label",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:a,onChange:x=>{m(!0),l(x.target.value)}})]}),V.jsxs(kt,{className:"field",children:[V.jsx("h3",{children:"Notes"}),V.jsx(Ia,{id:"notes",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:d,onChange:x=>{m(!0),f(x.target.value)},multiline:!0,placeholder:"Write your notes here..."})]}),V.jsxs(kt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[V.jsx(Zn,{variant:"outlined",color:"success",onClick:()=>v(),children:"Save"}),V.jsx(Zn,{variant:"outlined",color:"error",onClick:()=>n(r),children:"Delete"})]})]})}function fWe({data:t}){const{id:e,readRecordId:n,label:r,type:i,content:o,intersected:s}=t,{readRecords:a,displayedReads:l,selectedHighlightId:u}=la(),{color:c}=a[n],d=l.includes(n),f=B5(),p=f.inProgress&&f.fromNode.id!==e;return V.jsxs(kt,{className:`group-node ${e===u?"selected":""} ${s?"intersected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[!f.inProgress&&V.jsx(Bo,{className:"connection-handle",id:`relational-handle-${e}-source`,position:ut.Right,type:"source"}),(!f.inProgress||p)&&V.jsx(Bo,{className:"connection-handle",id:`relational-handle-${e}-target`,position:ut.Left,type:"target",isConnectableStart:!1}),V.jsx(Bo,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:ut.Top,type:"target",isConnectableStart:!1}),V.jsx(Bo,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:ut.Bottom,type:"source",isConnectableStart:!1}),V.jsx(cn,{variant:"body1",children:r}),i==="area"&&V.jsx("img",{src:o,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),V.jsx(Yte,{className:"drag-handle__custom"})]})}const hWe={highlight:sWe,overview:aWe,group:fWe},pWe={chronological:lWe,relational:cWe};function gWe(t){const{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:o,onEdgesChange:s,onConnect:a,selectedHighlightId:l,setSelectedHighlightId:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:f,displayEdgeTypes:p,setDisplayEdgeTypes:m}=t,{fitView:y,getIntersectingNodes:b}=LA(),[v,E]=z.useState(!1),x=z.useCallback((O,F)=>{const $=b(F).map(L=>L.id);r(L=>L.map(q=>({...q,data:{...q.data,intersected:!!$.includes(q.id)}})))},[]),C=z.useCallback((O,F)=>{console.log("onNodeDragStop",F);const $=b(F).map(L=>L.id);$.length>0&&f([F.id,...$])},[f]),k=(O,F)=>{v||!O||u(F.id)},D=(O,F)=>{console.log("onNodeDoubleClick",F),!(v||!O)&&d($=>!$)},A=()=>{console.log("open Overview"),r(v?e.map(O=>({...O,type:"highlight"})):e.map(O=>({...O,type:"overview"}))),u(null),E(!v)},P=(O,F,$)=>{const L=new yK.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return L.setGraph({rankdir:$.direction}),F.forEach(q=>L.setEdge(q.source,q.target)),O.forEach(q=>{var K,X;return L.setNode(q.id,{...q,width:((K=q.measured)==null?void 0:K.width)??0,height:((X=q.measured)==null?void 0:X.height)??0})}),yK.layout(L),{nodes:O.map(q=>{var J,G;const K=L.node(q.id),X=K.x-(((J=q.measured)==null?void 0:J.width)??0)/2,ee=K.y-(((G=q.measured)==null?void 0:G.height)??0)/2;return{...q,position:{x:X,y:ee}}}),edges:F}},M=z.useCallback(O=>{console.log(e);const F=P(e,n,{direction:O});r([...F.nodes]),i([...F.edges]),window.requestAnimationFrame(()=>{y()})},[e,n]);z.useEffect(()=>{if(l&&c){console.log("viewport focus on selected node");const O=e.find(F=>F.id===l);y({padding:3.5,nodes:[O]})}else y({padding:1})},[e,c,l]);const I=O=>{m(p.includes(O)?p.filter(F=>F!==O):[...p,O])};return V.jsxs(Hpe,{nodes:e,edges:n,onNodesChange:o,onEdgesChange:s,onConnect:a,onNodeDrag:x,onNodeDragStop:C,onNodeClick:k,onNodeDoubleClick:D,nodeTypes:hWe,edgeTypes:pWe,fitView:!0,style:{width:"100%",height:"100%"},children:[V.jsx(Jpe,{}),V.jsx(ige,{onFitView:()=>M("TB"),style:{color:"black"}}),V.jsx(yge,{}),V.jsx(yv,{position:"top-left",style:{color:"black"},children:V.jsxs(rOe,{children:[V.jsx(SO,{control:V.jsx(xO,{checked:p.includes(Wi.CHRONOLOGICAL),onClick:()=>I(Wi.CHRONOLOGICAL)}),label:"Chronological Link"}),V.jsx(SO,{control:V.jsx(xO,{checked:p.includes(Wi.RELATIONAL),onClick:()=>I(Wi.RELATIONAL)}),label:"Relational Link"})]})}),V.jsx(yv,{position:"top-right",children:V.jsx(tc,{onClick:A,children:v?V.jsx(b5e,{}):V.jsx(T5e,{})})})]})}function mWe(){const{nodes:t,edges:e,setNodes:n,setEdges:r,onNodesChange:i,onEdgesChange:o,onConnect:s,selectedHighlightId:a,setSelectedHighlightId:l,onSelectNode:u,setOnSelectNode:c,createGroupNode:d,displayEdgeTypes:f,setDisplayEdgeTypes:p}=la();return V.jsxs(kt,{style:{width:"100%",height:"100%",position:"relative"},children:[V.jsx(PJ,{children:V.jsx(gWe,{style:{height:"auto"},nodes:t,edges:e,setNodes:n,setEdges:r,onNodesChange:i,onEdgesChange:o,onConnect:s,selectedHighlightId:a,setSelectedHighlightId:l,onSelectNode:u,setOnSelectNode:c,createGroupNode:d,displayEdgeTypes:f,setDisplayEdgeTypes:p})}),u&&a&&V.jsx(kt,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:V.jsx(dWe,{})})]})}const koe=z.createContext(void 0),yWe=({children:t})=>{const{userData:e,updateReadingState:n,getReadingStateData:r}=QA(),{currentReadId:i,highlights:o,pdfViewerRef:s,paperId:a,nodes:l,edges:u,readRecords:c,setCurrentSessionId:d}=la(),f=z.useRef(o);z.useEffect(()=>{f.current=o},[o]);const[p,m]=z.useState({}),y=500,b=z.useRef(null),v=z.useRef(null);z.useEffect(()=>{x()},[e,a]);const E=()=>{m({}),b.current=null,v.current=null},x=async()=>{if(e&&a){console.log("load reading analytics context",e,a);const M=await r(e.id,a);M?m(M.state.readingSessions):E()}},C=M=>{console.log("Creating new reading session",M);const I=eT();d(I);const O=Date.now();return m(F=>{var $;return{...F,[I]:{sessionId:I,readId:M,startTime:O,duration:0,scrollSequence:[[O,(($=s.current)==null?void 0:$.scroll.lastY)||0]]}}}),I},k=()=>{if(!v.current)return;const M=v.current;if(!M)return;const I=Date.now();m(O=>{var F;return{...O,[M]:{...O[M],duration:I-O[M].startTime,scrollSequence:[...O[M].scrollSequence,[I,((F=s.current)==null?void 0:F.scroll.lastY)||0]]}}})};z.useEffect(()=>{if(D(),i!==""){const M=C(i);v.current=M,A()}return()=>{D()}},[i]);const D=()=>{console.log("Stopping current update interval"),b.current&&(clearInterval(b.current),b.current=null)},A=()=>{console.log("Starting update interval: ",v.current),b.current=setInterval(()=>{k()},y)},P=()=>{if(!e||!a||!i)return;const M={id:`${e.id}-${a}`,userId:e.id,paperId:a,state:{highlights:f.current,readRecords:c,nodes:l,edges:u,readingSessions:p}};n(M)};return z.useEffect(()=>{const M=()=>{document.hidden&&v.current?(D(),console.log("Visibility change: Hidden",v.current)):!document.hidden&&v.current&&(A(),console.log("Visibility change: Visible",v.current))};return document.addEventListener("visibilitychange",M),()=>{document.removeEventListener("visibilitychange",M)}},[v.current]),V.jsx(koe.Provider,{value:{readingSessions:p,saveReadingState:P},children:t})},Ioe=()=>{const t=z.useContext(koe);if(t===void 0)throw new Error("useReadingAnalytics must be used within a ReadingAnalyticsProvider");return t},wK=t=>{const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`};function vWe(){const{highlights:t,readRecords:e}=la(),{readingSessions:n}=Ioe(),[r,i]=z.useState(0),[o,s]=z.useState([]);z.useEffect(()=>{i(Object.values(n).reduce((l,u)=>l+u.duration,0)),a()},[n]);const a=()=>{const l=Object.values(n).reduce((c,d)=>(c[d.readId]=(c[d.readId]||0)+d.duration,c),{}),u=Object.entries(l).map(([c,d])=>{const f=Object.values(n).filter(m=>(m==null?void 0:m.readId)===c).sort((m,y)=>y.startTime-m.startTime)[0],p=f?f.startTime+f.duration:0;return{readId:c,readTitle:e[c].title,duration:d,highlightCount:t.filter(m=>m.readRecordId===c).length,imageHighlightCount:t.filter(m=>m.readRecordId===c&&m.type==="area").length,textHighlightCount:t.filter(m=>m.readRecordId===c&&m.type==="text").length,lastReadTime:p}});u.sort((c,d)=>d.duration-c.duration),s(u)};return V.jsxs(kt,{sx:{p:2.5,bgcolor:"white",borderRadius:1,boxShadow:1},children:[V.jsx(cn,{variant:"h4",sx:{mb:2.5,color:"text.primary"},children:"Reading Analytics"}),V.jsx(kt,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2.5,mb:3.75},children:V.jsxs(Nv,{sx:{p:2,bgcolor:"black",color:"white"},children:[V.jsx(cn,{variant:"h6",sx:{mb:1.25,color:"white"},children:"Total Reading Time"}),V.jsx(cn,{variant:"h5",sx:{color:"white"},children:wK(r)})]})}),V.jsxs(kt,{sx:{mt:3.75},children:[V.jsx(cn,{variant:"h5",sx:{mb:2,color:"text.secondary"},children:"Read Breakdown"}),o.map(l=>V.jsxs(Nv,{sx:{p:2,mb:2,bgcolor:"black",color:"white","&:last-child":{mb:0}},children:[V.jsx(cn,{variant:"h6",sx:{mb:1.25,color:"white"},children:l.readTitle}),V.jsxs(kt,{component:"ul",sx:{m:0,p:0,listStyle:"none"},children:[V.jsxs(kt,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Total Time: ",wK(l.duration)]}),V.jsxs(kt,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Highlights: ",l.highlightCount]}),V.jsxs(kt,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Image Highlights: ",l.imageHighlightCount]}),V.jsxs(kt,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Text Highlights: ",l.textHighlightCount]}),V.jsxs(kt,{component:"li",sx:{display:"flex",justifyContent:"space-between",color:"white"},children:["Last Read: ",new Date(l.lastReadTime).toLocaleString()]})]})]},l.readId))]})]})}function $C(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bWe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Poe(t){let e,n,r;t.length!==2?(e=$C,n=(a,l)=>$C(t(a),l),r=(a,l)=>t(a)-l):(e=t===$C||t===bWe?t:wWe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function wWe(){return 0}function _We(t){return t===null?NaN:+t}const xWe=Poe($C),EWe=xWe.right;Poe(_We).center;const SWe=Math.sqrt(50),CWe=Math.sqrt(10),TWe=Math.sqrt(2);function YT(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=SWe?10:o>=CWe?5:o>=TWe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?YT(t,e,n*2):[a,l,u]}function AWe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?YT(e,t,n):YT(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function n5(t,e,n){return e=+e,t=+t,n=+n,YT(t,e,n)[2]}function RWe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?n5(e,t,n):n5(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function kWe(t){return t}var BC=1,DD=2,_K=3,ow=4,xK=1e-6;function IWe(t){return"translate("+t+",0)"}function PWe(t){return"translate(0,"+t+")"}function MWe(t){return e=>+t(e)}function NWe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function DWe(){return!this.__axis}function Moe(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===BC||t===ow?-1:1,c=t===ow||t===DD?"x":"y",d=t===BC||t===_K?IWe:PWe;function f(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):kWe),b=Math.max(o,0)+a,v=e.range(),E=+v[0]+l,x=+v[v.length-1]+l,C=(e.bandwidth?NWe:MWe)(e.copy(),l),k=p.selection?p.selection():p,D=k.selectAll(".domain").data([null]),A=k.selectAll(".tick").data(m,e).order(),P=A.exit(),M=A.enter().append("g").attr("class","tick"),I=A.select("line"),O=A.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(M),I=I.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),O=O.merge(M.append("text").attr("fill","currentColor").attr(c,u*b).attr("dy",t===BC?"0em":t===_K?"0.71em":"0.32em")),p!==k&&(D=D.transition(p),A=A.transition(p),I=I.transition(p),O=O.transition(p),P=P.transition(p).attr("opacity",xK).attr("transform",function(F){return isFinite(F=C(F))?d(F+l):this.getAttribute("transform")}),M.attr("opacity",xK).attr("transform",function(F){var $=this.parentNode.__axis;return d(($&&isFinite($=$(F))?$:C(F))+l)})),P.remove(),D.attr("d",t===ow||t===DD?s?"M"+u*s+","+E+"H"+l+"V"+x+"H"+u*s:"M"+l+","+E+"V"+x:s?"M"+E+","+u*s+"V"+l+"H"+x+"V"+u*s:"M"+E+","+l+"H"+x),A.attr("opacity",1).attr("transform",function(F){return d(C(F)+l)}),I.attr(c+"2",u*o),O.attr(c,u*b).text(y),k.filter(DWe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===DD?"start":t===ow?"end":"middle"),k.each(function(){this.__axis=C})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(o=s=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(s=+p,f):s},f.tickPadding=function(p){return arguments.length?(a=+p,f):a},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function LWe(t){return Moe(BC,t)}function OWe(t){return Moe(ow,t)}const r5=Math.PI,i5=2*r5,bh=1e-6,FWe=i5-bh;function Noe(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function $We(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Noe;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class BWe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Noe:$We(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>bh)if(!(Math.abs(d*l-u*c)>bh)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,y=l*l+u*u,b=p*p+m*m,v=Math.sqrt(y),E=Math.sqrt(f),x=o*Math.tan((r5-Math.acos((y+f-b)/(2*v*E)))/2),C=x/E,k=x/v;Math.abs(C-1)>bh&&this._append`L${e+C*c},${n+C*d}`,this._append`A${o},${o},0,0,${+(d*p>c*m)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>bh||Math.abs(this._y1-c)>bh)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%i5+i5),f>FWe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>bh&&this._append`A${r},${r},0,${+(f>=r5)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function zWe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function XT(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zv(t){return t=XT(Math.abs(t)),t?t[1]:NaN}function VWe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function UWe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var HWe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JT(t){if(!(e=HWe.exec(t)))throw new Error("invalid format: "+t);var e;return new b$({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}JT.prototype=b$.prototype;function b$(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}b$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qWe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Doe;function jWe(t,e){var n=XT(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Doe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+XT(t,Math.max(0,e+o-1))[0]}function EK(t,e){var n=XT(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const SK={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zWe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EK(t*100,e),r:EK,s:jWe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function CK(t){return t}var TK=Array.prototype.map,AK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function WWe(t){var e=t.grouping===void 0||t.thousands===void 0?CK:VWe(TK.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?CK:UWe(TK.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=JT(d);var f=d.fill,p=d.align,m=d.sign,y=d.symbol,b=d.zero,v=d.width,E=d.comma,x=d.precision,C=d.trim,k=d.type;k==="n"?(E=!0,k="g"):SK[k]||(x===void 0&&(x=12),C=!0,k="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var D=y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=y==="$"?r:/[%p]/.test(k)?s:"",P=SK[k],M=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(O){var F=D,$=A,L,q,K;if(k==="c")$=P(O)+$,O="";else{O=+O;var X=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),x),C&&(O=qWe(O)),X&&+O==0&&m!=="+"&&(X=!1),F=(X?m==="("?m:a:m==="-"||m==="("?"":m)+F,$=(k==="s"?AK[8+Doe/3]:"")+$+(X&&m==="("?")":""),M){for(L=-1,q=O.length;++L<q;)if(K=O.charCodeAt(L),48>K||K>57){$=(K===46?i+O.slice(L+1):O.slice(L))+$,O=O.slice(0,L);break}}}E&&!b&&(O=e(O,1/0));var ee=F.length+O.length+$.length,J=ee<v?new Array(v-ee+1).join(f):"";switch(E&&b&&(O=e(J+O,J.length?v-$.length:1/0),J=""),p){case"<":O=F+O+$+J;break;case"=":O=F+J+O+$;break;case"^":O=J.slice(0,ee=J.length>>1)+F+O+$+J.slice(ee);break;default:O=J+F+O+$;break}return o(O)}return I.toString=function(){return d+""},I}function c(d,f){var p=u((d=JT(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(zv(f)/3)))*3,y=Math.pow(10,-m),b=AK[8+m/3];return function(v){return p(y*v)+b}}return{format:u,formatPrefix:c}}var kS,Loe,Ooe;GWe({thousands:",",grouping:[3],currency:["$",""]});function GWe(t){return kS=WWe(t),Loe=kS.format,Ooe=kS.formatPrefix,kS}function KWe(t){return Math.max(0,-zv(Math.abs(t)))}function YWe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zv(e)/3)))*3-zv(Math.abs(t)))}function XWe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zv(e)-zv(t))+1}function JWe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function QWe(t){return function(){return t}}function ZWe(t){return+t}var RK=[0,1];function ty(t){return t}function o5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:QWe(isNaN(e)?NaN:.5)}function e7e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function t7e(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=o5(i,r),o=n(s,o)):(r=o5(r,i),o=n(o,s)),function(a){return o(r(a))}}function n7e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=o5(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=EWe(t,a,1,r)-1;return o[l](i[l](a))}}function r7e(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function i7e(){var t=RK,e=RK,n=oy,r,i,o,s=ty,a,l,u;function c(){var f=Math.min(t.length,e.length);return s!==ty&&(s=e7e(t[0],t[f-1])),a=f>2?n7e:t7e,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(e,t.map(r),Wa)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,ZWe),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=Tce,c()},d.clamp=function(f){return arguments.length?(s=f?!0:ty,c()):s!==ty},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return r=f,i=p,c()}}function o7e(){return i7e()(ty,ty)}function s7e(t,e,n,r){var i=RWe(t,e,n),o;switch(r=JT(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=YWe(i,s))&&(r.precision=o),Ooe(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=XWe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=KWe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Loe(r)}function a7e(t){var e=t.domain;return t.ticks=function(n){var r=e();return AWe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return s7e(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=n5(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function s5(){var t=o7e();return t.copy=function(){return r7e(t,s5())},JWe.apply(t,arguments),a7e(t)}function vm(t){return function(){return t}}function l7e(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new BWe(e)}function u7e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Foe(t){this._context=t}Foe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function c7e(t){return new Foe(t)}function d7e(t){return t[0]}function f7e(t){return t[1]}function h7e(t,e){var n=vm(!0),r=null,i=c7e,o=null,s=l7e(a);t=typeof t=="function"?t:t===void 0?d7e:vm(t),e=typeof e=="function"?e:e===void 0?f7e:vm(e);function a(l){var u,c=(l=u7e(l)).length,d,f=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:vm(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:vm(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:vm(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}const p7e=()=>{const{pdfViewerRef:t,highlights:e,readRecords:n}=la(),{readingSessions:r,saveReadingState:i}=Ioe();z.useEffect(()=>{o()},[]);const o=()=>{const s=Fo("#highlight-timeline-container");if(!s)return;const a=s.node();if(!a)return;const l=a.clientWidth,u=a.clientHeight,c={top:20,right:20,bottom:20,left:20},d=35,f=l-c.left-c.right-d,p=u-c.top-c.bottom-d;s.selectAll("svg").remove();const m=s.append("svg").attr("width",l).attr("height",u);m.append("text").attr("x",c.left+f/2).attr("y",c.top).text("Time (minutes)"),m.append("text").text("Page Number").attr("transform",`translate(${c.top}, ${c.left+f/2}) rotate(-90)`).attr("text-anchor","middle");const y=m.append("g").attr("transform",`translate(${c.left+d}, ${c.top+d})`).attr("width",f).attr("height",p),b=Object.values(r).sort((I,O)=>I.startTime-O.startTime),v=b.reduce((I,O)=>I+O.duration,0);if(!t.current)return;const E=t.current.getPageView(0).height,x=t.current.pagesCount*E,C=s5().domain([0,v]).range([0,f]),k=LWe(C).tickFormat(I=>`${(I/(1e3*60)).toFixed(1)}`);y.append("g").call(k);const D=s5().domain([0,x]).range([0,p]),A=OWe(D).tickSizeOuter(0).tickFormat(I=>`${Math.floor(I/E)}`);y.append("g").call(A);const P=h7e().x(I=>C(I[0])).y(I=>D(I[1]));let M=0;b.forEach(I=>{const O=I.scrollSequence.map(F=>[F[0]-I.startTime+M,F[1]]);y.append("path").attr("d",P(O)).attr("fill","none").attr("stroke",n[I.readId].color).attr("stroke-width",3),e.filter(F=>F.sessionId===I.sessionId).forEach(F=>{const $=F.timestamp-I.startTime+M,L=(F.position.boundingRect.pageNumber-1)*E+F.position.boundingRect.y1;y.append("circle").attr("cx",C($)).attr("cy",D(L)).attr("r",3).attr("fill",n[F.readRecordId].color).attr("stroke","black").attr("stroke-width",.5)}),M+=I.duration})};return V.jsxs(kt,{sx:{p:2,width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"},children:[V.jsx(cn,{variant:"h5",sx:{mb:2,color:"text.secondary"},children:"Highlight Timeline"}),V.jsx(kt,{id:"highlight-timeline-container",sx:{width:"100%",height:"60%"}}),V.jsx(Zn,{onClick:i,children:"Save Reading State"})]})};function $oe(t){return e=>typeof e===t}var g7e=$oe("function"),m7e=t=>t===null,kK=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",IK=t=>!y7e(t)&&!m7e(t)&&(g7e(t)||typeof t=="object"),y7e=$oe("undefined");function v7e(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!ho(t[r],e[r]))return!1;return!0}function b7e(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function w7e(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!ho(n[1],e.get(n[0])))return!1;return!0}function _7e(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function ho(t,e){if(t===e)return!0;if(t&&IK(t)&&e&&IK(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return v7e(t,e);if(t instanceof Map&&e instanceof Map)return w7e(t,e);if(t instanceof Set&&e instanceof Set)return _7e(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return b7e(t,e);if(kK(t)&&kK(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!ho(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var x7e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],E7e=["bigint","boolean","null","number","string","symbol","undefined"];function ik(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(S7e(e))return e}function al(t){return e=>ik(e)===t}function S7e(t){return x7e.includes(t)}function a0(t){return e=>typeof e===t}function C7e(t){return E7e.includes(t)}var T7e=["innerHTML","ownerDocument","style","attributes","nodeValue"];function lt(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(lt.array(t))return"Array";if(lt.plainFunction(t))return"Function";const e=ik(t);return e||"Object"}lt.array=Array.isArray;lt.arrayOf=(t,e)=>!lt.array(t)&&!lt.function(e)?!1:t.every(n=>e(n));lt.asyncGeneratorFunction=t=>ik(t)==="AsyncGeneratorFunction";lt.asyncFunction=al("AsyncFunction");lt.bigint=a0("bigint");lt.boolean=t=>t===!0||t===!1;lt.date=al("Date");lt.defined=t=>!lt.undefined(t);lt.domElement=t=>lt.object(t)&&!lt.plainObject(t)&&t.nodeType===1&&lt.string(t.nodeName)&&T7e.every(e=>e in t);lt.empty=t=>lt.string(t)&&t.length===0||lt.array(t)&&t.length===0||lt.object(t)&&!lt.map(t)&&!lt.set(t)&&Object.keys(t).length===0||lt.set(t)&&t.size===0||lt.map(t)&&t.size===0;lt.error=al("Error");lt.function=a0("function");lt.generator=t=>lt.iterable(t)&&lt.function(t.next)&&lt.function(t.throw);lt.generatorFunction=al("GeneratorFunction");lt.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;lt.iterable=t=>!lt.nullOrUndefined(t)&&lt.function(t[Symbol.iterator]);lt.map=al("Map");lt.nan=t=>Number.isNaN(t);lt.null=t=>t===null;lt.nullOrUndefined=t=>lt.null(t)||lt.undefined(t);lt.number=t=>a0("number")(t)&&!lt.nan(t);lt.numericString=t=>lt.string(t)&&t.length>0&&!Number.isNaN(Number(t));lt.object=t=>!lt.nullOrUndefined(t)&&(lt.function(t)||typeof t=="object");lt.oneOf=(t,e)=>lt.array(t)?t.indexOf(e)>-1:!1;lt.plainFunction=al("Function");lt.plainObject=t=>{if(ik(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};lt.primitive=t=>lt.null(t)||C7e(typeof t);lt.promise=al("Promise");lt.propertyOf=(t,e,n)=>{if(!lt.object(t)||!e)return!1;const r=t[e];return lt.function(n)?n(r):lt.defined(r)};lt.regexp=al("RegExp");lt.set=al("Set");lt.string=a0("string");lt.symbol=a0("symbol");lt.undefined=a0("undefined");lt.weakMap=al("WeakMap");lt.weakSet=al("WeakSet");var gt=lt;function A7e(...t){return t.every(e=>gt.string(e)||gt.array(e)||gt.plainObject(e))}function R7e(t,e,n){return Boe(t,e)?[t,e].every(gt.array)?!t.some(LK(n))&&e.some(LK(n)):[t,e].every(gt.plainObject)?!Object.entries(t).some(DK(n))&&Object.entries(e).some(DK(n)):e===n:!1}function PK(t,e,n){const{actual:r,key:i,previous:o,type:s}=n,a=nu(t,i),l=nu(e,i);let u=[a,l].every(gt.number)&&(s==="increased"?a<l:a>l);return gt.undefined(r)||(u=u&&l===r),gt.undefined(o)||(u=u&&a===o),u}function MK(t,e,n){const{key:r,type:i,value:o}=n,s=nu(t,r),a=nu(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!gt.nullOrUndefined(o)){if(gt.defined(l)){if(gt.array(l)||gt.plainObject(l))return R7e(l,u,o)}else return ho(u,o);return!1}return[s,a].every(gt.array)?!u.every(w$(l)):[s,a].every(gt.plainObject)?k7e(Object.keys(l),Object.keys(u)):![s,a].every(c=>gt.primitive(c)&&gt.defined(c))&&(i==="added"?!gt.defined(s)&&gt.defined(a):gt.defined(s)&&!gt.defined(a))}function NK(t,e,{key:n}={}){let r=nu(t,n),i=nu(e,n);if(!Boe(r,i))throw new TypeError("Inputs have different types");if(!A7e(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(gt.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function DK(t){return([e,n])=>gt.array(t)?ho(t,n)||t.some(r=>ho(r,n)||gt.array(n)&&w$(n)(r)):gt.plainObject(t)&&t[e]?!!t[e]&&ho(t[e],n):ho(t,n)}function k7e(t,e){return e.some(n=>!t.includes(n))}function LK(t){return e=>gt.array(t)?t.some(n=>ho(n,e)||gt.array(e)&&w$(e)(n)):ho(t,e)}function gb(t,e){return gt.array(t)?t.some(n=>ho(n,e)):ho(t,e)}function w$(t){return e=>t.some(n=>ho(n,e))}function Boe(...t){return t.every(gt.array)||t.every(gt.number)||t.every(gt.plainObject)||t.every(gt.string)}function nu(t,e){return gt.plainObject(t)||gt.array(t)?gt.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):gt.number(e)?t[e]:t:t}function QT(t,e){if([t,e].some(gt.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(c=>gt.plainObject(c)||gt.array(c)))throw new Error("Expected plain objects or array");return{added:(c,d)=>{try{return MK(t,e,{key:c,type:"added",value:d})}catch{return!1}},changed:(c,d,f)=>{try{const p=nu(t,c),m=nu(e,c),y=gt.defined(d),b=gt.defined(f);if(y||b){const v=b?gb(f,p):!gb(d,p),E=gb(d,m);return v&&E}return[p,m].every(gt.array)||[p,m].every(gt.plainObject)?!ho(p,m):p!==m}catch{return!1}},changedFrom:(c,d,f)=>{if(!gt.defined(c))return!1;try{const p=nu(t,c),m=nu(e,c),y=gt.defined(f);return gb(d,p)&&(y?gb(f,m):!y)}catch{return!1}},decreased:(c,d,f)=>{if(!gt.defined(c))return!1;try{return PK(t,e,{key:c,actual:d,previous:f,type:"decreased"})}catch{return!1}},emptied:c=>{try{const[d,f]=NK(t,e,{key:c});return!!d.length&&!f.length}catch{return!1}},filled:c=>{try{const[d,f]=NK(t,e,{key:c});return!d.length&&!!f.length}catch{return!1}},increased:(c,d,f)=>{if(!gt.defined(c))return!1;try{return PK(t,e,{key:c,actual:d,previous:f,type:"increased"})}catch{return!1}},removed:(c,d)=>{try{return MK(t,e,{key:c,type:"removed",value:d})}catch{return!1}}}}var LD,OK;function I7e(){if(OK)return LD;OK=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;LD={left:i("scrollLeft"),top:i("scrollTop")};function i(a){return function(u,c,d,f){d=d||{},typeof d=="function"&&(f=d,d={}),typeof f!="function"&&(f=s);var p=r(),m=u[a],y=d.ease||o,b=isNaN(d.duration)?350:+d.duration,v=!1;return m===c?f(t,u[a]):requestAnimationFrame(x),E;function E(){v=!0}function x(C){if(v)return f(e,u[a]);var k=r(),D=n(1,(k-p)/b),A=y(D);u[a]=A*(c-m)+m,D<1?requestAnimationFrame(x):requestAnimationFrame(function(){f(null,u[a])})}}}function o(a){return .5*(1-Math.cos(Math.PI*a))}function s(){}return LD}var P7e=I7e();const M7e=Ni(P7e);var zC={exports:{}},N7e=zC.exports,FK;function D7e(){return FK||(FK=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(N7e,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(zC)),zC.exports}var L7e=D7e();const zoe=Ni(L7e);var OD,$K;function O7e(){if($K)return OD;$K=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,OD=n,OD}var F7e=O7e();const BK=Ni(F7e);var FD,zK;function $7e(){if(zK)return FD;zK=1;var t=function(E){return e(E)&&!n(E)};function e(v){return!!v&&typeof v=="object"}function n(v){var E=Object.prototype.toString.call(v);return E==="[object RegExp]"||E==="[object Date]"||o(v)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(v){return v.$$typeof===i}function s(v){return Array.isArray(v)?[]:{}}function a(v,E){return E.clone!==!1&&E.isMergeableObject(v)?y(s(v),v,E):v}function l(v,E,x){return v.concat(E).map(function(C){return a(C,x)})}function u(v,E){if(!E.customMerge)return y;var x=E.customMerge(v);return typeof x=="function"?x:y}function c(v){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(v).filter(function(E){return Object.propertyIsEnumerable.call(v,E)}):[]}function d(v){return Object.keys(v).concat(c(v))}function f(v,E){try{return E in v}catch{return!1}}function p(v,E){return f(v,E)&&!(Object.hasOwnProperty.call(v,E)&&Object.propertyIsEnumerable.call(v,E))}function m(v,E,x){var C={};return x.isMergeableObject(v)&&d(v).forEach(function(k){C[k]=a(v[k],x)}),d(E).forEach(function(k){p(v,k)||(f(v,k)&&x.isMergeableObject(E[k])?C[k]=u(k,x)(v[k],E[k],x):C[k]=a(E[k],x))}),C}function y(v,E,x){x=x||{},x.arrayMerge=x.arrayMerge||l,x.isMergeableObject=x.isMergeableObject||t,x.cloneUnlessOtherwiseSpecified=a;var C=Array.isArray(E),k=Array.isArray(v),D=C===k;return D?C?x.arrayMerge(v,E,x):m(v,E,x):a(E,x)}y.all=function(E,x){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(C,k){return y(C,k,x)},{})};var b=y;return FD=b,FD}var B7e=$7e();const Ja=Ni(B7e);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var b1=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",z7e=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(b1&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function V7e(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function U7e(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},z7e))}}var H7e=b1&&window.Promise,q7e=H7e?V7e:U7e;function Voe(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function gg(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function _$(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function w1(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=gg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:w1(_$(t))}function Uoe(t){return t&&t.referenceNode?t.referenceNode:t}var VK=b1&&!!(window.MSInputMethodContext&&document.documentMode),UK=b1&&/MSIE 10/.test(navigator.userAgent);function l0(t){return t===11?VK:t===10?UK:VK||UK}function Vv(t){if(!t)return document.documentElement;for(var e=l0(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&gg(n,"position")==="static"?Vv(n):n}function j7e(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Vv(t.firstElementChild)===t}function a5(t){return t.parentNode!==null?a5(t.parentNode):t}function ZT(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||r.contains(i))return j7e(s)?s:Vv(s);var a=a5(t);return a.host?ZT(a.host,e):ZT(t,a5(e).host)}function Uv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function W7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Uv(e,"top"),i=Uv(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function HK(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function qK(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],l0(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function Hoe(t){var e=t.body,n=t.documentElement,r=l0(10)&&getComputedStyle(n);return{height:qK("Height",e,n,r),width:qK("Width",e,n,r)}}var G7e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},K7e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hv=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Nf(t){return ta({},t,{right:t.left+t.width,bottom:t.top+t.height})}function l5(t){var e={};try{if(l0(10)){e=t.getBoundingClientRect();var n=Uv(t,"top"),r=Uv(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o=t.nodeName==="HTML"?Hoe(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,a=o.height||t.clientHeight||i.height,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var c=gg(t);l-=HK(c,"x"),u-=HK(c,"y"),i.width-=l,i.height-=u}return Nf(i)}function x$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=l0(10),i=e.nodeName==="HTML",o=l5(t),s=l5(e),a=w1(t),l=gg(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=Nf({top:o.top-s.top-u,left:o.left-s.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var f=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=u-f,d.bottom-=u-f,d.left-=c-p,d.right-=c-p,d.marginTop=f,d.marginLeft=p}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(d=W7e(d,e)),d}function Y7e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=x$(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:Uv(n),a=e?0:Uv(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return Nf(l)}function qoe(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(gg(t,"position")==="fixed")return!0;var n=_$(t);return n?qoe(n):!1}function joe(t){if(!t||!t.parentElement||l0())return document.documentElement;for(var e=t.parentElement;e&&gg(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function E$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o={top:0,left:0},s=i?joe(t):ZT(t,Uoe(e));if(r==="viewport")o=Y7e(s,i);else{var a=void 0;r==="scrollParent"?(a=w1(_$(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var l=x$(a,s,i);if(a.nodeName==="HTML"&&!qoe(s)){var u=Hoe(t.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}else o=l}n=n||0;var f=typeof n=="number";return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function X7e(t){var e=t.width,n=t.height;return e*n}function Woe(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=E$(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(f){return ta({key:f},a[f],{area:X7e(a[f])})}).sort(function(f,p){return p.area-f.area}),u=l.filter(function(f){var p=f.width,m=f.height;return p>=n.clientWidth&&m>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function Goe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?joe(e):ZT(e,Uoe(n));return x$(n,i,r)}function Koe(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+i,height:t.offsetHeight+r};return o}function eA(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function Yoe(t,e,n){n=n.split("-")[0];var r=Koe(t),i={width:r.width,height:r.height},o=["right","left"].indexOf(n)!==-1,s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[s]=e[s]+e[l]/2-r[l]/2,n===a?i[a]=e[a]-r[u]:i[a]=e[eA(a)],i}function _1(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function J7e(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=_1(t,function(i){return i[e]===n});return t.indexOf(r)}function Xoe(t,e,n){var r=n===void 0?t:t.slice(0,J7e(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=i.function||i.fn;i.enabled&&Voe(o)&&(e.offsets.popper=Nf(e.offsets.popper),e.offsets.reference=Nf(e.offsets.reference),e=o(e,i))}),e}function Q7e(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Goe(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Woe(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Yoe(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Xoe(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Joe(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function S$(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(typeof document.body.style[o]<"u")return o}return null}function Z7e(){return this.state.isDestroyed=!0,Joe(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[S$("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Qoe(t){var e=t.ownerDocument;return e?e.defaultView:window}function Zoe(t,e,n,r){var i=t.nodeName==="BODY",o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||Zoe(w1(o.parentNode),e,n,r),r.push(o)}function eGe(t,e,n,r){n.updateBound=r,Qoe(t).addEventListener("resize",n.updateBound,{passive:!0});var i=w1(t);return Zoe(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function tGe(){this.state.eventsEnabled||(this.state=eGe(this.reference,this.options,this.state,this.scheduleUpdate))}function nGe(t,e){return Qoe(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function rGe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=nGe(this.reference,this.state))}function C$(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function u5(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&C$(e[n])&&(r="px"),t.style[n]=e[n]+r})}function iGe(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function oGe(t){return u5(t.instance.popper,t.styles),iGe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&u5(t.arrowElement,t.arrowStyles),t}function sGe(t,e,n,r,i){var o=Goe(i,e,t,n.positionFixed),s=Woe(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),u5(e,{position:n.positionFixed?"fixed":"absolute"}),n}function aGe(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(v){return v},l=o(i.width),u=o(r.width),c=["left","right"].indexOf(t.placement)!==-1,d=t.placement.indexOf("-")!==-1,f=l%2===u%2,p=l%2===1&&u%2===1,m=e?c||d||f?o:s:a,y=e?o:a;return{left:m(p&&!d&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:m(r.right)}}var lGe=b1&&/Firefox/i.test(navigator.userAgent);function uGe(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=_1(t.instance.modifiers,function(x){return x.name==="applyStyle"}).gpuAcceleration;o!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==void 0?o:e.gpuAcceleration,a=Vv(t.instance.popper),l=l5(a),u={position:i.position},c=aGe(t,window.devicePixelRatio<2||!lGe),d=n==="bottom"?"top":"bottom",f=r==="right"?"left":"right",p=S$("transform"),m=void 0,y=void 0;if(d==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+c.bottom:y=-l.height+c.bottom:y=c.top,f==="right"?a.nodeName==="HTML"?m=-a.clientWidth+c.right:m=-l.width+c.right:m=c.left,s&&p)u[p]="translate3d("+m+"px, "+y+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var b=d==="bottom"?-1:1,v=f==="right"?-1:1;u[d]=y*b,u[f]=m*v,u.willChange=d+", "+f}var E={"x-placement":t.placement};return t.attributes=ta({},E,t.attributes),t.styles=ta({},u,t.styles),t.arrowStyles=ta({},t.offsets.arrow,t.arrowStyles),t}function ese(t,e,n){var r=_1(t,function(a){var l=a.name;return l===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function cGe(t,e){var n;if(!ese(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=["left","right"].indexOf(i)!==-1,u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",m=Koe(r)[u];a[p]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(a[p]-m)),a[d]+m>s[p]&&(t.offsets.popper[d]+=a[d]+m-s[p]),t.offsets.popper=Nf(t.offsets.popper);var y=a[d]+a[u]/2-m/2,b=gg(t.instance.popper),v=parseFloat(b["margin"+c]),E=parseFloat(b["border"+c+"Width"]),x=y-t.offsets.popper[d]-v-E;return x=Math.max(Math.min(s[u]-m,x),0),t.arrowElement=r,t.offsets.arrow=(n={},Hv(n,d,Math.round(x)),Hv(n,f,""),n),t}function dGe(t){return t==="end"?"start":t==="start"?"end":t}var tse=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$D=tse.slice(3);function jK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=$D.indexOf(t),r=$D.slice(n+1).concat($D.slice(0,n));return e?r.reverse():r}var BD={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function fGe(t,e){if(Joe(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=E$(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=eA(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case BD.FLIP:s=[r,i];break;case BD.CLOCKWISE:s=jK(r);break;case BD.COUNTERCLOCKWISE:s=jK(r,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return t;r=t.placement.split("-")[0],i=eA(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,f=r==="left"&&d(u.right)>d(c.left)||r==="right"&&d(u.left)<d(c.right)||r==="top"&&d(u.bottom)>d(c.top)||r==="bottom"&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),m=d(u.right)>d(n.right),y=d(u.top)<d(n.top),b=d(u.bottom)>d(n.bottom),v=r==="left"&&p||r==="right"&&m||r==="top"&&y||r==="bottom"&&b,E=["top","bottom"].indexOf(r)!==-1,x=!!e.flipVariations&&(E&&o==="start"&&p||E&&o==="end"&&m||!E&&o==="start"&&y||!E&&o==="end"&&b),C=!!e.flipVariationsByContent&&(E&&o==="start"&&m||E&&o==="end"&&p||!E&&o==="start"&&b||!E&&o==="end"&&y),k=x||C;(f||v||k)&&(t.flipped=!0,(f||v)&&(r=s[l+1]),k&&(o=dGe(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=ta({},t.offsets.popper,Yoe(t.instance.popper,t.offsets.reference,t.placement)),t=Xoe(t.instance.modifiers,t,"flip"))}),t}function hGe(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[a])&&(t.offsets.popper[l]=o(r[a])),t}function pGe(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=Nf(a);return l[e]/100*o}else if(s==="vh"||s==="vw"){var u=void 0;return s==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*o}else return o}function gGe(t,e,n,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,s=t.split(/(\+|\-)/).map(function(c){return c.trim()}),a=s.indexOf(_1(s,function(c){return c.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map(function(c,d){var f=(d===1?!o:o)?"height":"width",p=!1;return c.reduce(function(m,y){return m[m.length-1]===""&&["+","-"].indexOf(y)!==-1?(m[m.length-1]=y,p=!0,m):p?(m[m.length-1]+=y,p=!1,m):m.concat(y)},[]).map(function(m){return pGe(m,f,e,n)})}),u.forEach(function(c,d){c.forEach(function(f,p){C$(f)&&(i[d]+=f*(c[p-1]==="-"?-1:1))})}),i}function mGe(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return C$(+n)?l=[+n,0]:l=gGe(n,o,s,a),a==="left"?(o.top+=l[0],o.left-=l[1]):a==="right"?(o.top+=l[0],o.left+=l[1]):a==="top"?(o.left+=l[0],o.top-=l[1]):a==="bottom"&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function yGe(t,e){var n=e.boundariesElement||Vv(t.instance.popper);t.instance.reference===n&&(n=Vv(n));var r=S$("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=E$(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(p){var m=c[p];return c[p]<l[p]&&!e.escapeWithReference&&(m=Math.max(c[p],l[p])),Hv({},p,m)},secondary:function(p){var m=p==="right"?"left":"top",y=c[m];return c[p]>l[p]&&!e.escapeWithReference&&(y=Math.min(c[m],l[p]-(p==="right"?c.width:c.height))),Hv({},m,y)}};return u.forEach(function(f){var p=["left","top"].indexOf(f)!==-1?"primary":"secondary";c=ta({},c,d[p](f))}),t.offsets.popper=c,t}function vGe(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",c={start:Hv({},l,o[l]),end:Hv({},l,o[l]+o[u]-s[u])};t.offsets.popper=ta({},s,c[r])}return t}function bGe(t){if(!ese(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=_1(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function wGe(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=eA(e),t.offsets.popper=Nf(i),t}var _Ge={shift:{order:100,enabled:!0,fn:vGe},offset:{order:200,enabled:!0,fn:mGe,offset:0},preventOverflow:{order:300,enabled:!0,fn:yGe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:hGe},arrow:{order:500,enabled:!0,fn:cGe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:fGe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:wGe},hide:{order:800,enabled:!0,fn:bGe},computeStyle:{order:850,enabled:!0,fn:uGe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:oGe,onLoad:sGe,gpuAcceleration:void 0}},xGe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:_Ge},s_=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};G7e(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=q7e(this.update.bind(this)),this.options=ta({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(ta({},t.Defaults.modifiers,i.modifiers)).forEach(function(s){r.options.modifiers[s]=ta({},t.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return ta({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&Voe(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return K7e(t,[{key:"update",value:function(){return Q7e.call(this)}},{key:"destroy",value:function(){return Z7e.call(this)}},{key:"enableEventListeners",value:function(){return tGe.call(this)}},{key:"disableEventListeners",value:function(){return rGe.call(this)}}]),t}();s_.Utils=(typeof window<"u"?window:global).PopperUtils;s_.placements=tse;s_.Defaults=xGe;var EGe=["innerHTML","ownerDocument","style","attributes","nodeValue"],SGe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],CGe=["bigint","boolean","null","number","string","symbol","undefined"];function ok(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(TGe(e))return e}function ll(t){return function(e){return ok(e)===t}}function TGe(t){return SGe.includes(t)}function u0(t){return function(e){return typeof e===t}}function AGe(t){return CGe.includes(t)}function $e(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if($e.array(t))return"Array";if($e.plainFunction(t))return"Function";var e=ok(t);return e||"Object"}$e.array=Array.isArray;$e.arrayOf=function(t,e){return!$e.array(t)&&!$e.function(e)?!1:t.every(function(n){return e(n)})};$e.asyncGeneratorFunction=function(t){return ok(t)==="AsyncGeneratorFunction"};$e.asyncFunction=ll("AsyncFunction");$e.bigint=u0("bigint");$e.boolean=function(t){return t===!0||t===!1};$e.date=ll("Date");$e.defined=function(t){return!$e.undefined(t)};$e.domElement=function(t){return $e.object(t)&&!$e.plainObject(t)&&t.nodeType===1&&$e.string(t.nodeName)&&EGe.every(function(e){return e in t})};$e.empty=function(t){return $e.string(t)&&t.length===0||$e.array(t)&&t.length===0||$e.object(t)&&!$e.map(t)&&!$e.set(t)&&Object.keys(t).length===0||$e.set(t)&&t.size===0||$e.map(t)&&t.size===0};$e.error=ll("Error");$e.function=u0("function");$e.generator=function(t){return $e.iterable(t)&&$e.function(t.next)&&$e.function(t.throw)};$e.generatorFunction=ll("GeneratorFunction");$e.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};$e.iterable=function(t){return!$e.nullOrUndefined(t)&&$e.function(t[Symbol.iterator])};$e.map=ll("Map");$e.nan=function(t){return Number.isNaN(t)};$e.null=function(t){return t===null};$e.nullOrUndefined=function(t){return $e.null(t)||$e.undefined(t)};$e.number=function(t){return u0("number")(t)&&!$e.nan(t)};$e.numericString=function(t){return $e.string(t)&&t.length>0&&!Number.isNaN(Number(t))};$e.object=function(t){return!$e.nullOrUndefined(t)&&($e.function(t)||typeof t=="object")};$e.oneOf=function(t,e){return $e.array(t)?t.indexOf(e)>-1:!1};$e.plainFunction=ll("Function");$e.plainObject=function(t){if(ok(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};$e.primitive=function(t){return $e.null(t)||AGe(typeof t)};$e.promise=ll("Promise");$e.propertyOf=function(t,e,n){if(!$e.object(t)||!e)return!1;var r=t[e];return $e.function(n)?n(r):$e.defined(r)};$e.regexp=ll("RegExp");$e.set=ll("Set");$e.string=u0("string");$e.symbol=u0("symbol");$e.undefined=u0("undefined");$e.weakMap=ll("WeakMap");$e.weakSet=ll("WeakSet");function nse(t){return function(e){return typeof e===t}}var RGe=nse("function"),kGe=function(t){return t===null},WK=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},GK=function(t){return!IGe(t)&&!kGe(t)&&(RGe(t)||typeof t=="object")},IGe=nse("undefined"),c5=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function PGe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!Uo(t[r],e[r]))return!1;return!0}function MGe(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function NGe(t,e){var n,r,i,o;if(t.size!==e.size)return!1;try{for(var s=c5(t.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!e.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var u=c5(t.entries()),c=u.next();!c.done;c=u.next()){var l=c.value;if(!Uo(l[1],e.get(l[0])))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return!0}function DGe(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=c5(t.entries()),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function Uo(t,e){if(t===e)return!0;if(t&&GK(t)&&e&&GK(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return PGe(t,e);if(t instanceof Map&&e instanceof Map)return NGe(t,e);if(t instanceof Set&&e instanceof Set)return DGe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return MGe(t,e);if(WK(t)&&WK(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!Uo(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function LGe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return $e.string(n)||$e.array(n)||$e.plainObject(n)})}function OGe(t,e,n){return rse(t,e)?[t,e].every($e.array)?!t.some(QK(n))&&e.some(QK(n)):[t,e].every($e.plainObject)?!Object.entries(t).some(JK(n))&&Object.entries(e).some(JK(n)):e===n:!1}function KK(t,e,n){var r=n.actual,i=n.key,o=n.previous,s=n.type,a=ru(t,i),l=ru(e,i),u=[a,l].every($e.number)&&(s==="increased"?a<l:a>l);return $e.undefined(r)||(u=u&&l===r),$e.undefined(o)||(u=u&&a===o),u}function YK(t,e,n){var r=n.key,i=n.type,o=n.value,s=ru(t,r),a=ru(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!$e.nullOrUndefined(o)){if($e.defined(l)){if($e.array(l)||$e.plainObject(l))return OGe(l,u,o)}else return Uo(u,o);return!1}return[s,a].every($e.array)?!u.every(T$(l)):[s,a].every($e.plainObject)?FGe(Object.keys(l),Object.keys(u)):![s,a].every(function(c){return $e.primitive(c)&&$e.defined(c)})&&(i==="added"?!$e.defined(s)&&$e.defined(a):$e.defined(s)&&!$e.defined(a))}function XK(t,e,n){var r=n===void 0?{}:n,i=r.key,o=ru(t,i),s=ru(e,i);if(!rse(o,s))throw new TypeError("Inputs have different types");if(!LGe(o,s))throw new TypeError("Inputs don't have length");return[o,s].every($e.plainObject)&&(o=Object.keys(o),s=Object.keys(s)),[o,s]}function JK(t){return function(e){var n=e[0],r=e[1];return $e.array(t)?Uo(t,r)||t.some(function(i){return Uo(i,r)||$e.array(r)&&T$(r)(i)}):$e.plainObject(t)&&t[n]?!!t[n]&&Uo(t[n],r):Uo(t,r)}}function FGe(t,e){return e.some(function(n){return!t.includes(n)})}function QK(t){return function(e){return $e.array(t)?t.some(function(n){return Uo(n,e)||$e.array(e)&&T$(e)(n)}):Uo(t,e)}}function mb(t,e){return $e.array(t)?t.some(function(n){return Uo(n,e)}):Uo(t,e)}function T$(t){return function(e){return t.some(function(n){return Uo(n,e)})}}function rse(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every($e.array)||t.every($e.number)||t.every($e.plainObject)||t.every($e.string)}function ru(t,e){if($e.plainObject(t)||$e.array(t)){if($e.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return $e.number(e)?t[e]:t}return t}function $Ge(t,e){if([t,e].some($e.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(d){return $e.plainObject(d)||$e.array(d)}))throw new Error("Expected plain objects or array");var n=function(d,f){try{return YK(t,e,{key:d,type:"added",value:f})}catch{return!1}},r=function(d,f,p){try{var m=ru(t,d),y=ru(e,d),b=$e.defined(f),v=$e.defined(p);if(b||v){var E=v?mb(p,m):!mb(f,m),x=mb(f,y);return E&&x}return[m,y].every($e.array)||[m,y].every($e.plainObject)?!Uo(m,y):m!==y}catch{return!1}},i=function(d,f,p){if(!$e.defined(d))return!1;try{var m=ru(t,d),y=ru(e,d),b=$e.defined(p);return mb(f,m)&&(b?mb(p,y):!b)}catch{return!1}},o=function(d,f){return $e.defined(d)?r(d,f):!1},s=function(d,f,p){if(!$e.defined(d))return!1;try{return KK(t,e,{key:d,actual:f,previous:p,type:"decreased"})}catch{return!1}},a=function(d){try{var f=XK(t,e,{key:d}),p=f[0],m=f[1];return!!p.length&&!m.length}catch{return!1}},l=function(d){try{var f=XK(t,e,{key:d}),p=f[0],m=f[1];return!p.length&&!!m.length}catch{return!1}},u=function(d,f,p){if(!$e.defined(d))return!1;try{return KK(t,e,{key:d,actual:f,previous:p,type:"increased"})}catch{return!1}},c=function(d,f){try{return YK(t,e,{key:d,type:"removed",value:f})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:o,decreased:s,emptied:a,filled:l,increased:u,removed:c}}function ZK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZK(Object(n),!0).forEach(function(r){Ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ose(r.key),r)}}function E1(t,e,n){return e&&BGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ki(t,e,n){return e=ose(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d5(t,e)}function tA(t){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tA(t)}function d5(t,e){return d5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d5(t,e)}function zGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function VGe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ise(t,e){if(t==null)return{};var n=VGe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ju(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UGe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ju(t)}function C1(t){var e=zGe();return function(){var r=tA(t),i;if(e){var o=tA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UGe(this,i)}}function HGe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ose(t){var e=HGe(t,"string");return typeof e=="symbol"?e:String(e)}var qGe={flip:{padding:20},preventOverflow:{padding:10}},jGe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",WGe="The error message is optional, but must be a string if provided.";function GGe(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function KGe(t,e){return Object.hasOwnProperty.call(t,e)}function YGe(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function XGe(t,e){if(typeof t!="function")throw new TypeError(jGe);if(e&&typeof e!="string")throw new TypeError(WGe)}function eY(t,e,n){return XGe(t,n),function(r,i,o){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return GGe(e,r,i,o)?KGe(r,i)?t.apply(void 0,[r,i,o].concat(a)):YGe(r,i,o):t.apply(void 0,[r,i,o].concat(a))}}var vn={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},yb=hf.createPortal!==void 0;function Yl(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zD(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function IS(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,o=t.debug,s=o===void 0?!1:o,a=i?console.warn||console.error:console.log;s&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){$e.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function JGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function QGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function ZGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(s){n(s),QGe(t,e,i)},JGe(t,e,i,r)}function tY(){}var sse=function(t){S1(n,t);var e=C1(n);function n(){return x1(this,n),e.apply(this,arguments)}return E1(n,[{key:"componentDidMount",value:function(){Yl()&&(this.node||this.appendNode(),yb||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Yl()&&(yb||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Yl()||!this.node||(yb||hf.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,o=i.id,s=i.zIndex;this.node||(this.node=document.createElement("div"),o&&(this.node.id=o),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Yl())return null;var i=this.props,o=i.children,s=i.setRef;if(this.node||this.appendNode(),yb)return hf.createPortal(o,this.node);var a=hf.unstable_renderSubtreeIntoContainer(this,o.length>1?ue.createElement("div",null,o):o[0],this.node);return s(a),null}},{key:"renderReact16",value:function(){var i=this.props,o=i.hasChildren,s=i.placement,a=i.target;return o?this.renderPortal():a||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return yb?this.renderReact16():null}}]),n}(ue.Component);Ki(sse,"propTypes",{children:Se.oneOfType([Se.element,Se.array]),hasChildren:Se.bool,id:Se.oneOfType([Se.string,Se.number]),placement:Se.string,setRef:Se.func.isRequired,target:Se.oneOfType([Se.object,Se.string]),zIndex:Se.number});var ase=function(t){S1(n,t);var e=C1(n);function n(){return x1(this,n),e.apply(this,arguments)}return E1(n,[{key:"parentStyle",get:function(){var i=this.props,o=i.placement,s=i.styles,a=s.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return o.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):o.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):o.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):o.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var i=this.props,o=i.placement,s=i.setArrowRef,a=i.styles,l=a.arrow,u=l.color,c=l.display,d=l.length,f=l.margin,p=l.position,m=l.spread,y={display:c,position:p},b,v=m,E=d;return o.startsWith("top")?(b="0,0 ".concat(v/2,",").concat(E," ").concat(v,",0"),y.bottom=0,y.marginLeft=f,y.marginRight=f):o.startsWith("bottom")?(b="".concat(v,",").concat(E," ").concat(v/2,",0 0,").concat(E),y.top=0,y.marginLeft=f,y.marginRight=f):o.startsWith("left")?(E=m,v=d,b="0,0 ".concat(v,",").concat(E/2," 0,").concat(E),y.right=0,y.marginTop=f,y.marginBottom=f):o.startsWith("right")&&(E=m,v=d,b="".concat(v,",").concat(E," ").concat(v,",0 0,").concat(E/2),y.left=0,y.marginTop=f,y.marginBottom=f),ue.createElement("div",{className:"__floater__arrow",style:this.parentStyle},ue.createElement("span",{ref:s,style:y},ue.createElement("svg",{width:v,height:E,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},ue.createElement("polygon",{points:b,fill:u}))))}}]),n}(ue.Component);Ki(ase,"propTypes",{placement:Se.string.isRequired,setArrowRef:Se.func.isRequired,styles:Se.object.isRequired});var eKe=["color","height","width"];function lse(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,o=n.width,s=ise(n,eKe);return ue.createElement("button",{"aria-label":"close",onClick:e,style:s,type:"button"},ue.createElement("svg",{width:"".concat(o,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},ue.createElement("g",null,ue.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}lse.propTypes={handleClick:Se.func.isRequired,styles:Se.object.isRequired};function use(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,o=t.positionWrapper,s=t.showCloseButton,a=t.title,l=t.styles,u={content:ue.isValidElement(e)?e:ue.createElement("div",{className:"__floater__content",style:l.content},e)};return a&&(u.title=ue.isValidElement(a)?a:ue.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=ue.isValidElement(n)?n:ue.createElement("div",{className:"__floater__footer",style:l.footer},n)),(s||o)&&!$e.boolean(i)&&(u.close=ue.createElement(lse,{styles:l.close,handleClick:r})),ue.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}use.propTypes={content:Se.node.isRequired,footer:Se.node,handleClick:Se.func.isRequired,open:Se.bool,positionWrapper:Se.bool.isRequired,showCloseButton:Se.bool.isRequired,styles:Se.object.isRequired,title:Se.node};var cse=function(t){S1(n,t);var e=C1(n);function n(){return x1(this,n),e.apply(this,arguments)}return E1(n,[{key:"style",get:function(){var i=this.props,o=i.disableAnimation,s=i.component,a=i.placement,l=i.hideArrow,u=i.status,c=i.styles,d=c.arrow.length,f=c.floater,p=c.floaterCentered,m=c.floaterClosing,y=c.floaterOpening,b=c.floaterWithAnimation,v=c.floaterWithComponent,E={};return l||(a.startsWith("top")?E.padding="0 0 ".concat(d,"px"):a.startsWith("bottom")?E.padding="".concat(d,"px 0 0"):a.startsWith("left")?E.padding="0 ".concat(d,"px 0 0"):a.startsWith("right")&&(E.padding="0 0 0 ".concat(d,"px"))),[vn.OPENING,vn.OPEN].indexOf(u)!==-1&&(E=ur(ur({},E),y)),u===vn.CLOSING&&(E=ur(ur({},E),m)),u===vn.OPEN&&!o&&(E=ur(ur({},E),b)),a==="center"&&(E=ur(ur({},E),p)),s&&(E=ur(ur({},E),v)),ur(ur({},f),E)}},{key:"render",value:function(){var i=this.props,o=i.component,s=i.handleClick,a=i.hideArrow,l=i.setFloaterRef,u=i.status,c={},d=["__floater"];return o?ue.isValidElement(o)?c.content=ue.cloneElement(o,{closeFn:s}):c.content=o({closeFn:s}):c.content=ue.createElement(use,this.props),u===vn.OPEN&&d.push("__floater__open"),a||(c.arrow=ue.createElement(ase,this.props)),ue.createElement("div",{ref:l,className:d.join(" "),style:this.style},ue.createElement("div",{className:"__floater__body"},c.content,c.arrow))}}]),n}(ue.Component);Ki(cse,"propTypes",{component:Se.oneOfType([Se.func,Se.element]),content:Se.node,disableAnimation:Se.bool.isRequired,footer:Se.node,handleClick:Se.func.isRequired,hideArrow:Se.bool.isRequired,open:Se.bool,placement:Se.string.isRequired,positionWrapper:Se.bool.isRequired,setArrowRef:Se.func.isRequired,setFloaterRef:Se.func.isRequired,showCloseButton:Se.bool,status:Se.string.isRequired,styles:Se.object.isRequired,title:Se.node});var dse=function(t){S1(n,t);var e=C1(n);function n(){return x1(this,n),e.apply(this,arguments)}return E1(n,[{key:"render",value:function(){var i=this.props,o=i.children,s=i.handleClick,a=i.handleMouseEnter,l=i.handleMouseLeave,u=i.setChildRef,c=i.setWrapperRef,d=i.style,f=i.styles,p;if(o)if(ue.Children.count(o)===1)if(!ue.isValidElement(o))p=ue.createElement("span",null,o);else{var m=$e.function(o.type)?"innerRef":"ref";p=ue.cloneElement(ue.Children.only(o),Ki({},m,u))}else p=o;return p?ue.createElement("span",{ref:c,style:ur(ur({},f),d),onClick:s,onMouseEnter:a,onMouseLeave:l},p):null}}]),n}(ue.Component);Ki(dse,"propTypes",{children:Se.node,handleClick:Se.func.isRequired,handleMouseEnter:Se.func.isRequired,handleMouseLeave:Se.func.isRequired,setChildRef:Se.func.isRequired,setWrapperRef:Se.func.isRequired,style:Se.object,styles:Se.object.isRequired});var tKe={zIndex:100};function nKe(t){var e=Ja(tKe,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var rKe=["arrow","flip","offset"],iKe=["position","top","right","bottom","left"],A$=function(t){S1(n,t);var e=C1(n);function n(r){var i;return x1(this,n),i=e.call(this,r),Ki(Ju(i),"setArrowRef",function(o){i.arrowRef=o}),Ki(Ju(i),"setChildRef",function(o){i.childRef=o}),Ki(Ju(i),"setFloaterRef",function(o){i.floaterRef=o}),Ki(Ju(i),"setWrapperRef",function(o){i.wrapperRef=o}),Ki(Ju(i),"handleTransitionEnd",function(){var o=i.state.status,s=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:o===vn.OPENING?vn.OPEN:vn.IDLE},function(){var a=i.state.status;s(a===vn.OPEN?"open":"close",i.props)})}),Ki(Ju(i),"handleClick",function(){var o=i.props,s=o.event,a=o.open;if(!$e.boolean(a)){var l=i.state,u=l.positionWrapper,c=l.status;(i.event==="click"||i.event==="hover"&&u)&&(IS({title:"click",data:[{event:s,status:c===vn.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),Ki(Ju(i),"handleMouseEnter",function(){var o=i.props,s=o.event,a=o.open;if(!($e.boolean(a)||zD())){var l=i.state.status;i.event==="hover"&&l===vn.IDLE&&(IS({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),Ki(Ju(i),"handleMouseLeave",function(){var o=i.props,s=o.event,a=o.eventDelay,l=o.open;if(!($e.boolean(l)||zD())){var u=i.state,c=u.status,d=u.positionWrapper;i.event==="hover"&&(IS({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:i.debug}),a?[vn.OPENING,vn.OPEN].indexOf(c)!==-1&&!d&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},a*1e3)):i.toggle(vn.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:vn.INIT,statusWrapper:vn.INIT},i._isMounted=!1,i.hasMounted=!1,Yl()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return E1(n,[{key:"componentDidMount",value:function(){if(Yl()){var i=this.state.positionWrapper,o=this.props,s=o.children,a=o.open,l=o.target;this._isMounted=!0,IS({title:"init",data:{hasChildren:!!s,hasTarget:!!l,isControlled:$e.boolean(a),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&l&&$e.boolean(a)}}},{key:"componentDidUpdate",value:function(i,o){if(Yl()){var s=this.props,a=s.autoOpen,l=s.open,u=s.target,c=s.wrapperOptions,d=$Ge(o,this.state),f=d.changedFrom,p=d.changed;if(i.open!==l){var m;$e.boolean(l)&&(m=l?vn.OPENING:vn.CLOSING),this.toggle(m)}(i.wrapperOptions.position!==c.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",vn.IDLE)&&l?this.toggle(vn.OPEN):f("status",vn.INIT,vn.IDLE)&&a&&this.toggle(vn.OPEN),this.popper&&p("status",vn.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",vn.OPENING)||p("status",vn.CLOSING))&&ZGe(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Yl()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,c=a.hideArrow,d=a.offset,f=a.placement,p=a.wrapperOptions,m=f==="top"||f==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(f==="center")this.setState({status:vn.IDLE});else if(o&&this.floaterRef){var y=this.options,b=y.arrow,v=y.flip,E=y.offset,x=ise(y,rKe);new s_(o,this.floaterRef,{placement:f,modifiers:ur({arrow:ur({enabled:!c,element:this.arrowRef},b),flip:ur({enabled:!l,behavior:m},v),offset:ur({offset:"0, ".concat(d,"px")},E)},x),onCreate:function(D){var A;if(i.popper=D,!((A=i.floaterRef)!==null&&A!==void 0&&A.isConnected)){i.setState({needsUpdate:!0});return}u(D,"floater"),i._isMounted&&i.setState({currentPlacement:D.placement,status:vn.IDLE}),f!==D.placement&&setTimeout(function(){D.instance.update()},1)},onUpdate:function(D){i.popper=D;var A=i.state.currentPlacement;i._isMounted&&D.placement!==A&&i.setState({currentPlacement:D.placement})}})}if(s){var C=$e.undefined(p.offset)?0:p.offset;new s_(this.target,this.wrapperRef,{placement:p.placement||f,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(C,"px")},flip:{enabled:!1}},onCreate:function(D){i.wrapperPopper=D,i._isMounted&&i.setState({statusWrapper:vn.IDLE}),u(D,"wrapper"),f!==D.placement&&setTimeout(function(){D.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var o;(o=i.floaterRef)!==null&&o!==void 0&&o.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var o=i.target,s=i.wrapperOptions;this.setState({positionWrapper:s.position&&!!o})}},{key:"toggle",value:function(i){var o=this.state.status,s=o===vn.OPEN?vn.CLOSING:vn.OPENING;$e.undefined(i)||(s=i),this.setState({status:s})}},{key:"debug",get:function(){var i=this.props.debug;return i||Yl()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,o=i.disableHoverToClick,s=i.event;return s==="hover"&&zD()&&!o?"click":s}},{key:"options",get:function(){var i=this.props.options;return Ja(qGe,i||{})}},{key:"styles",get:function(){var i=this,o=this.state,s=o.status,a=o.positionWrapper,l=o.statusWrapper,u=this.props.styles,c=Ja(nKe(u),u);if(a){var d;[vn.IDLE].indexOf(s)===-1||[vn.IDLE].indexOf(l)===-1?d=c.wrapperPosition:d=this.wrapperPopper.styles,c.wrapper=ur(ur({},c.wrapper),d)}if(this.target){var f=window.getComputedStyle(this.target);this.wrapperStyles?c.wrapper=ur(ur({},c.wrapper),this.wrapperStyles):["relative","static"].indexOf(f.position)===-1&&(this.wrapperStyles={},a||(iKe.forEach(function(p){i.wrapperStyles[p]=f[p]}),c.wrapper=ur(ur({},c.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return c}},{key:"target",get:function(){if(!Yl())return null;var i=this.props.target;return i?$e.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,o=i.currentPlacement,s=i.positionWrapper,a=i.status,l=this.props,u=l.children,c=l.component,d=l.content,f=l.disableAnimation,p=l.footer,m=l.hideArrow,y=l.id,b=l.open,v=l.showCloseButton,E=l.style,x=l.target,C=l.title,k=ue.createElement(dse,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:E,styles:this.styles.wrapper},u),D={};return s?D.wrapperInPortal=k:D.wrapperAsChildren=k,ue.createElement("span",null,ue.createElement(sse,{hasChildren:!!u,id:y,placement:o,setRef:this.setFloaterRef,target:x,zIndex:this.styles.options.zIndex},ue.createElement(cse,{component:c,content:d,disableAnimation:f,footer:p,handleClick:this.handleClick,hideArrow:m||o==="center",open:b,placement:o,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:v,status:a,styles:this.styles,title:C}),D.wrapperInPortal),D.wrapperAsChildren)}}]),n}(ue.Component);Ki(A$,"propTypes",{autoOpen:Se.bool,callback:Se.func,children:Se.node,component:eY(Se.oneOfType([Se.func,Se.element]),function(t){return!t.content}),content:eY(Se.node,function(t){return!t.component}),debug:Se.bool,disableAnimation:Se.bool,disableFlip:Se.bool,disableHoverToClick:Se.bool,event:Se.oneOf(["hover","click"]),eventDelay:Se.number,footer:Se.node,getPopper:Se.func,hideArrow:Se.bool,id:Se.oneOfType([Se.string,Se.number]),offset:Se.number,open:Se.bool,options:Se.object,placement:Se.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:Se.bool,style:Se.object,styles:Se.object,target:Se.oneOfType([Se.object,Se.string]),title:Se.node,wrapperOptions:Se.shape({offset:Se.number,placement:Se.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:Se.bool})});Ki(A$,"defaultProps",{autoOpen:!1,callback:tY,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:tY,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var oKe=Object.defineProperty,sKe=(t,e,n)=>e in t?oKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mt=(t,e,n)=>sKe(t,typeof e!="symbol"?e+"":e,n),Pn={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},ws={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Kt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},nn={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function qd(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function fse(t){return t?t.getBoundingClientRect():null}function aKe(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((o,s)=>o-s),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Rc(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function lKe(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function a_(t,e,n){if(!t)return Th();const r=zoe(t);if(r){if(r.isSameNode(Th()))return n?document:Th();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",Th()}return r}function sk(t,e){if(!t)return!1;const n=a_(t,e);return n?!n.isSameNode(Th()):!1}function uKe(t){return t.offsetParent!==document.body}function qv(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=lKe(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?qv(t.parentNode,e):!1}function cKe(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function dKe(t,e,n){var r,i,o;const s=fse(t),a=a_(t,n),l=sk(t,n),u=qv(t);let c=0,d=(r=s==null?void 0:s.top)!=null?r:0;if(l&&u){const f=(i=t==null?void 0:t.offsetTop)!=null?i:0,p=(o=a==null?void 0:a.scrollTop)!=null?o:0;d=f-p}else a instanceof HTMLElement&&(c=a.scrollTop,!l&&!qv(t)&&(d+=c),a.isSameNode(Th())||(d+=Th().scrollTop));return Math.floor(d-e)}function fKe(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:o=0}=(r=zoe(t))!=null?r:{};let s=t.getBoundingClientRect().top+o;i&&(sk(t,n)||uKe(t))&&(s-=i);const a=Math.floor(s-e);return a<0?0:a}function Th(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function hKe(t,e){const{duration:n,element:r}=e;return new Promise((i,o)=>{const{scrollTop:s}=r,a=t>s?t-s:s-t;M7e.top(r,t,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?o(l):i())})}var vb=Ic.createPortal!==void 0;function hse(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function VC(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Xl(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let o=BK(t);if(o)(o.includes("{step}")||o.includes("{steps}"))&&r&&i&&(o=o.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(z.isValidElement(t)&&!Object.values(t.props).length&&VC(t.type)==="function"){const s=t.type({});o=Xl(s,e)}else o=BK(n);return o}function pKe(t,e){return!gt.plainObject(t)||!gt.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function gKe(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,o,s,a)=>o+o+s+s+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function nY(t){return t.disableBeacon||t.placement==="center"}function rY(){return!["chrome","safari","firefox","opera"].includes(hse())}function Wp({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(o=>{gt.plainObject(o)&&o.key?i.apply(console,[o.key,o.value]):i.apply(console,[o])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function mKe(t){return Object.keys(t)}function pse(t,...e){if(!gt.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function yKe(t,...e){if(!gt.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function f5(t,e,n){const r=o=>o.replace("{step}",String(e)).replace("{steps}",String(n));if(VC(t)==="string")return r(t);if(!z.isValidElement(t))return t;const{children:i}=t.props;if(VC(i)==="string"&&i.includes("{step}"))return z.cloneElement(t,{children:r(i)});if(Array.isArray(i))return z.cloneElement(t,{children:i.map(o=>typeof o=="string"?r(o):f5(o,e,n))});if(VC(t.type)==="function"&&!Object.values(t.props).length){const o=t.type({});return f5(o,e,n)}return t}function vKe(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:o,target:s}=t;return!o.disableScrolling&&(!e||i||n===Kt.TOOLTIP)&&o.placement!=="center"&&(!o.isFixed||!qv(s))&&r!==n&&[Kt.BEACON,Kt.TOOLTIP].includes(n)}var bKe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},gse={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},wKe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:gse,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},_Ke={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},xKe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},bb={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},iY={borderRadius:4,position:"absolute"};function EKe(t,e){var n,r,i,o,s;const{floaterProps:a,styles:l}=t,u=Ja((n=e.floaterProps)!=null?n:{},a??{}),c=Ja(l??{},(r=e.styles)!=null?r:{}),d=Ja(xKe,c.options||{}),f=e.placement==="center"||e.disableBeacon;let{width:p}=d;window.innerWidth>480&&(p=380),"width"in d&&(p=typeof d.width=="number"&&window.innerWidth<d.width?window.innerWidth-30:d.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},y={beacon:{...bb,display:f?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${gKe(d.primaryColor).join(",")}, 0.2)`,border:`2px solid ${d.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...bb,backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...bb,color:d.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...bb,color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...bb,color:d.textColor,fontSize:14},overlay:{...m,backgroundColor:d.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:d.overlayColor},spotlight:{...iY,backgroundColor:"gray"},spotlightLegacy:{...iY,boxShadow:`0 0 0 9999px ${d.overlayColor}, ${d.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(o=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:o.color)!=null?s:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return Ja(y,c)}function SKe(t){return yKe(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function bm(t,e){var n,r,i,o,s,a;const l=e??{},u=Ja.all([wKe,SKe(t),l],{isMergeableObject:gt.plainObject}),c=EKe(t,u),d=sk(Rc(u.target),u.disableScrollParentFix),f=Ja.all([bKe,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return f.offset=u.offset,f.styles=Ja((i=f.styles)!=null?i:{},c.floaterStyles),f.offset+=(s=(o=t.spotlightPadding)!=null?o:u.spotlightPadding)!=null?s:0,u.placementBeacon&&f.wrapperOptions&&(f.wrapperOptions.placement=u.placementBeacon),d&&f.options.preventOverflow&&(f.options.preventOverflow.boundariesElement="window"),{...u,locale:Ja.all([gse,(a=t.locale)!=null?a:{},u.locale||{}]),floaterProps:f,styles:pse(c,"floaterStyles")}}function mse(t,e=!1){return gt.plainObject(t)?t.target?!0:(Wp({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(Wp({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function oY(t,e=!1){return gt.array(t)?t.every(n=>mse(n,e)):(Wp({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var yse={action:"init",controlled:!1,index:0,lifecycle:Kt.INIT,origin:null,size:0,status:nn.IDLE},sY=mKe(pse(yse,"controlled","size")),CKe=class{constructor(t){mt(this,"beaconPopper"),mt(this,"tooltipPopper"),mt(this,"data",new Map),mt(this,"listener"),mt(this,"store",new Map),mt(this,"addListener",i=>{this.listener=i}),mt(this,"setSteps",i=>{const{size:o,status:s}=this.getState(),a={size:i.length,status:s};this.data.set("steps",i),s===nn.WAITING&&!o&&i.length&&(a.status=nn.RUNNING),this.setState(a)}),mt(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),mt(this,"setPopper",(i,o)=>{i==="beacon"?this.beaconPopper=o:this.tooltipPopper=o}),mt(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),mt(this,"close",(i=null)=>{const{index:o,status:s}=this.getState();s===nn.RUNNING&&this.setState({...this.getNextState({action:Pn.CLOSE,index:o+1,origin:i})})}),mt(this,"go",i=>{const{controlled:o,status:s}=this.getState();if(o||s!==nn.RUNNING)return;const a=this.getSteps()[i];this.setState({...this.getNextState({action:Pn.GO,index:i}),status:a?s:nn.FINISHED})}),mt(this,"info",()=>this.getState()),mt(this,"next",()=>{const{index:i,status:o}=this.getState();o===nn.RUNNING&&this.setState(this.getNextState({action:Pn.NEXT,index:i+1}))}),mt(this,"open",()=>{const{status:i}=this.getState();i===nn.RUNNING&&this.setState({...this.getNextState({action:Pn.UPDATE,lifecycle:Kt.TOOLTIP})})}),mt(this,"prev",()=>{const{index:i,status:o}=this.getState();o===nn.RUNNING&&this.setState({...this.getNextState({action:Pn.PREV,index:i-1})})}),mt(this,"reset",(i=!1)=>{const{controlled:o}=this.getState();o||this.setState({...this.getNextState({action:Pn.RESET,index:0}),status:i?nn.RUNNING:nn.READY})}),mt(this,"skip",()=>{const{status:i}=this.getState();i===nn.RUNNING&&this.setState({action:Pn.SKIP,lifecycle:Kt.INIT,status:nn.SKIPPED})}),mt(this,"start",i=>{const{index:o,size:s}=this.getState();this.setState({...this.getNextState({action:Pn.START,index:gt.number(i)?i:o},!0),status:s?nn.RUNNING:nn.WAITING})}),mt(this,"stop",(i=!1)=>{const{index:o,status:s}=this.getState();[nn.FINISHED,nn.SKIPPED].includes(s)||this.setState({...this.getNextState({action:Pn.STOP,index:o+(i?1:0)}),status:nn.PAUSED})}),mt(this,"update",i=>{var o,s;if(!pKe(i,sY))throw new Error(`State is not valid. Valid keys: ${sY.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(o=i.action)!=null?o:Pn.UPDATE,origin:(s=i.origin)!=null?s:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:Pn.INIT,controlled:gt.number(n),continuous:e,index:gt.number(n)?n:0,lifecycle:Kt.INIT,origin:null,status:r.length?nn.READY:nn.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...yse}}getNextState(t,e=!1){var n,r,i,o,s;const{action:a,controlled:l,index:u,size:c,status:d}=this.getState(),f=gt.number(t.index)?t.index:u,p=l&&!e?u:Math.min(Math.max(f,0),c);return{action:(n=t.action)!=null?n:a,controlled:l,index:p,lifecycle:(r=t.lifecycle)!=null?r:Kt.INIT,origin:(i=t.origin)!=null?i:null,size:(o=t.size)!=null?o:c,status:p===c?nn.FINISHED:(s=t.status)!=null?s:d}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:o,origin:s=null,size:a,status:l}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",o),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function TKe(t){return new CKe(t)}function AKe({styles:t}){return z.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var RKe=AKe,kKe=class extends z.Component{constructor(){super(...arguments),mt(this,"isActive",!1),mt(this,"resizeTimeout"),mt(this,"scrollTimeout"),mt(this,"scrollParent"),mt(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),mt(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Kt.INIT,Kt.BEACON,Kt.COMPLETE,Kt.ERROR];return e||(t?r.includes(n):n!==Kt.TOOLTIP)}),mt(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:o,width:s}=this.spotlightStyles,a=i==="fixed"?t.clientY:t.pageY,l=i==="fixed"?t.clientX:t.pageX,u=a>=o&&a<=o+n,d=l>=r&&l<=r+s&&u;d!==e&&this.updateState({mouseOverSpotlight:d})}),mt(this,"handleScroll",()=>{const{target:t}=this.props,e=Rc(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else qv(e,"sticky")&&this.updateState({})}),mt(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Rc(r);this.scrollParent=a_(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:o}=this.props,{changed:s}=QT(t,this.props);if(s("target")||s("disableScrollParentFix")){const a=Rc(o);this.scrollParent=a_(a??document.body,n,!0)}s("lifecycle",Kt.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&r===Kt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Kt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return rY()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:aKe(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:o,spotlightPadding:s=0,styles:a,target:l}=this.props,u=Rc(l),c=fse(u),d=qv(u),f=dKe(u,s,i);return{...rY()?a.spotlightLegacy:a.spotlight,height:Math.round(((t=c==null?void 0:c.height)!=null?t:0)+s*2),left:Math.round(((e=c==null?void 0:c.left)!=null?e:0)-s),opacity:r?1:0,pointerEvents:o?"none":"auto",position:d?"fixed":"absolute",top:f,transition:"opacity 0.2s",width:Math.round(((n=c==null?void 0:c.width)!=null?n:0)+s*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:o}=this;if(r())return null;let s=n!=="center"&&t&&z.createElement(RKe,{styles:o});if(hse()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=i;s=z.createElement("div",{style:{...u}},s),delete i.backgroundColor}return z.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},s)}},IKe=class extends z.Component{constructor(){super(...arguments),mt(this,"node",null)}componentDidMount(){const{id:t}=this.props;qd()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),vb||this.renderReact15())}componentDidUpdate(){qd()&&(vb||this.renderReact15())}componentWillUnmount(){!qd()||!this.node||(vb||Ic.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!qd())return;const{children:t}=this.props;this.node&&Ic.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!qd()||!vb)return null;const{children:t}=this.props;return this.node?Ic.createPortal(t,this.node):null}render(){return vb?this.renderReact16():null}},PKe=class{constructor(t,e){if(mt(this,"element"),mt(this,"options"),mt(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),mt(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),mt(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),mt(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),mt(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let o=document.activeElement?r.indexOf(document.activeElement):0;o===-1||!i&&o+1===r.length?o=0:i&&o===0?o=r.length-1:o+=i?-1:1,r[o].focus()}),mt(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),mt(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),mt(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),mt(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),mt(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},MKe=class extends z.Component{constructor(t){if(super(t),mt(this,"beacon",null),mt(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{gt.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:o,size:s,step:a,styles:l}=this.props,u=Xl(i.open),c={"aria-label":u,onClick:o,onMouseEnter:o,ref:this.setBeaconRef,title:u};let d;if(t){const f=t;d=z.createElement(f,{continuous:e,index:n,isLastStep:r,size:s,step:a,...c})}else d=z.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...c},z.createElement("span",{style:l.beaconInner}),z.createElement("span",{style:l.beaconOuter}));return d}};function NKe({styles:t,...e}){const{color:n,height:r,width:i,...o}=t;return ue.createElement("button",{style:o,type:"button",...e},ue.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},ue.createElement("g",null,ue.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var DKe=NKe;function LKe(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:o,skipProps:s,step:a,tooltipProps:l}=t,{content:u,hideBackButton:c,hideCloseButton:d,hideFooter:f,showSkipButton:p,styles:m,title:y}=a,b={};return b.primary=z.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...o}),p&&!i&&(b.skip=z.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...s})),!c&&r>0&&(b.back=z.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...e})),b.close=!d&&z.createElement(DKe,{"data-test-id":"button-close",styles:m.buttonClose,...n}),z.createElement("div",{key:"JoyrideTooltip","aria-label":Xl(y??u),className:"react-joyride__tooltip",style:m.tooltip,...l},z.createElement("div",{style:m.tooltipContainer},y&&z.createElement("h1",{"aria-label":Xl(y),style:m.tooltipTitle},y),z.createElement("div",{style:m.tooltipContent},u)),!f&&z.createElement("div",{style:m.tooltipFooter},z.createElement("div",{style:m.tooltipFooterSpacer},b.skip),b.back,b.primary),b.close)}var OKe=LKe,FKe=class extends z.Component{constructor(){super(...arguments),mt(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),mt(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),mt(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),mt(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),mt(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{back:s,close:a,last:l,next:u,nextLabelWithProgress:c,skip:d}=o.locale,f=Xl(s),p=Xl(a),m=Xl(l),y=Xl(u),b=Xl(d);let v=a,E=p;if(t){if(v=u,E=y,o.showProgress&&!n){const x=Xl(c,{step:e+1,steps:i});v=f5(c,e+1,i),E=x}n&&(v=l,E=m)}return{backProps:{"aria-label":f,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:f},closeProps:{"aria-label":p,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":E,children:v,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:E},skipProps:{"aria-label":b,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:b},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{beaconComponent:s,tooltipComponent:a,...l}=o;let u;if(a){const c={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:l,setTooltipRef:r},d=a;u=z.createElement(d,{...c})}else u=z.createElement(OKe,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:o});return u}},$Ke=class extends z.Component{constructor(){super(...arguments),mt(this,"scope",null),mt(this,"tooltip",null),mt(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Kt.TOOLTIP})}),mt(this,"setTooltipRef",t=>{this.tooltip=t}),mt(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:o,store:s}=this.props;e==="wrapper"?s.setPopper("beacon",t):s.setPopper("tooltip",t),s.getPopper("beacon")&&(s.getPopper("tooltip")||o.placement==="center")&&i===Kt.INIT&&s.update({action:r,lifecycle:Kt.READY}),(n=o.floaterProps)!=null&&n.getPopper&&o.floaterProps.getPopper(t,e)}),mt(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:o}=this.props;return z.createElement(FKe,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:o,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;Wp({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:o,debug:s,helpers:a,index:l,lifecycle:u,shouldScroll:c,status:d,step:f,store:p}=this.props,{changed:m,changedFrom:y}=QT(t,this.props),b=a.info(),v=i&&n!==Pn.CLOSE&&(l>0||n===Pn.PREV),E=m("action")||m("index")||m("lifecycle")||m("status"),x=y("lifecycle",[Kt.TOOLTIP,Kt.INIT],Kt.INIT),C=m("action",[Pn.NEXT,Pn.PREV,Pn.SKIP,Pn.CLOSE]),k=o&&l===t.index;if(C&&(x||k)&&r({...b,index:t.index,lifecycle:Kt.COMPLETE,step:t.step,type:ws.STEP_AFTER}),f.placement==="center"&&d===nn.RUNNING&&m("index")&&n!==Pn.START&&u===Kt.INIT&&p.update({lifecycle:Kt.READY}),E){const D=Rc(f.target),A=!!D;A&&cKe(D)?(y("status",nn.READY,nn.RUNNING)||y("lifecycle",Kt.INIT,Kt.READY))&&r({...b,step:f,type:ws.STEP_BEFORE}):(console.warn(A?"Target not visible":"Target not mounted",f),r({...b,type:ws.TARGET_NOT_FOUND,step:f}),o||p.update({index:l+(n===Pn.PREV?-1:1)}))}y("lifecycle",Kt.INIT,Kt.READY)&&p.update({lifecycle:nY(f)||v?Kt.TOOLTIP:Kt.BEACON}),m("index")&&Wp({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:s}),m("lifecycle",Kt.BEACON)&&r({...b,step:f,type:ws.BEACON}),m("lifecycle",Kt.TOOLTIP)&&(r({...b,step:f,type:ws.TOOLTIP}),c&&this.tooltip&&(this.scope=new PKe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[Kt.TOOLTIP,Kt.INIT],Kt.INIT)&&((e=this.scope)==null||e.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return nY(e)||t===Kt.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:o,step:s}=this.props,a=Rc(s.target);return!mse(s)||!gt.domElement(a)?null:z.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},z.createElement(A$,{...s.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:s.placement,target:s.target},z.createElement(MKe,{beaconComponent:s.beaconComponent,continuous:t,index:n,isLastStep:n+1===o,locale:s.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:o,step:s,styles:s.styles})))}},vse=class extends z.Component{constructor(t){super(t),mt(this,"helpers"),mt(this,"store"),mt(this,"callback",s=>{const{callback:a}=this.props;gt.function(a)&&a(s)}),mt(this,"handleKeyboard",s=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,c=u[a];l===Kt.TOOLTIP&&s.code==="Escape"&&c&&!c.disableCloseOnEsc&&this.store.close("keyboard")}),mt(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:a}=this.props;bm(this.props,a[s]).disableOverlayClose||this.helpers.close("overlay")}),mt(this,"syncState",s=>{this.setState(s)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=TKe({...t,controlled:r&&gt.number(i)}),this.helpers=this.store.getHelpers();const{addListener:o}=this.store;Wp({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),o(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!qd())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;oY(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!qd())return;const{action:n,controlled:r,index:i,status:o}=this.state,{debug:s,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:c,steps:d}=t,{reset:f,setSteps:p,start:m,stop:y,update:b}=this.store,{changed:v}=QT(t,this.props),{changed:E,changedFrom:x}=QT(e,this.state),C=bm(this.props,u[i]),k=!ho(d,u),D=gt.number(l)&&v("stepIndex"),A=Rc(C.target);if(k&&(oY(u,s)?p(u):console.warn("Steps are not valid",u)),v("run")&&(a?m(l):y()),D){let I=gt.number(c)&&c<l?Pn.NEXT:Pn.PREV;n===Pn.STOP&&(I=Pn.START),[nn.FINISHED,nn.SKIPPED].includes(o)||b({action:n===Pn.CLOSE?Pn.CLOSE:I,index:l,lifecycle:Kt.INIT})}!r&&o===nn.RUNNING&&i===0&&!A&&(this.store.update({index:i+1}),this.callback({...this.state,type:ws.TARGET_NOT_FOUND,step:C}));const P={...this.state,index:i,step:C};if(E("action",[Pn.NEXT,Pn.PREV,Pn.SKIP,Pn.CLOSE])&&E("status",nn.PAUSED)){const I=bm(this.props,u[e.index]);this.callback({...P,index:e.index,lifecycle:Kt.COMPLETE,step:I,type:ws.STEP_AFTER})}if(E("status",[nn.FINISHED,nn.SKIPPED])){const I=bm(this.props,u[e.index]);r||this.callback({...P,index:e.index,lifecycle:Kt.COMPLETE,step:I,type:ws.STEP_AFTER}),this.callback({...P,type:ws.TOUR_END,step:I,index:e.index}),f()}else x("status",[nn.IDLE,nn.READY],nn.RUNNING)?this.callback({...P,type:ws.TOUR_START}):(E("status")||E("action",Pn.RESET))&&this.callback({...P,type:ws.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:o=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,c=bm(this.props,u[e]),d=Rc(c.target),f=vKe({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:l,step:c,target:d});if(r===nn.RUNNING&&f){const p=sk(d,o),m=a_(d,o);let y=Math.floor(fKe(d,a,o))||0;Wp({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const b=this.store.getPopper("beacon"),v=this.store.getPopper("tooltip");if(n===Kt.BEACON&&b){const{offsets:E,placement:x}=b;!["bottom"].includes(x)&&!p&&(y=Math.floor(E.popper.top-a))}else if(n===Kt.TOOLTIP&&v){const{flipped:E,offsets:x,placement:C}=v;["top","right","left"].includes(C)&&!E&&!p?y=Math.floor(x.popper.top-a):y-=c.spotlightPadding}y=y>=0?y:0,r===nn.RUNNING&&hKe(y,{element:m,duration:s}).then(()=>{setTimeout(()=>{var E;(E=this.store.getPopper("tooltip"))==null||E.instance.update()},10)})}}render(){if(!qd())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:o,scrollToFirstStep:s=!1,steps:a}=this.props,l=n===nn.RUNNING,u={};if(l&&a[t]){const c=bm(this.props,a[t]);u.step=z.createElement($Ke,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:o,shouldScroll:!c.disableScrolling&&(t!==0||s),step:c,store:this.store}),u.overlay=z.createElement(IKe,{id:"react-joyride-portal"},z.createElement(kKe,{...c,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return z.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};mt(vse,"defaultProps",_Ke);var BKe=vse,Us=typeof window<"u"?window:null,R$=Us===null,l_=R$?void 0:Us.document,Sa="addEventListener",Ca="removeEventListener",VD="getBoundingClientRect",wb="_a",Ta="_b",Yu="_c",PS="horizontal",Aa=function(){return!1},zKe=R$?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=l_.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",bse=function(t){return typeof t=="string"||t instanceof String},aY=function(t){if(bse(t)){var e=l_.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Bi=function(t,e,n){var r=t[e];return r!==void 0?r:n},MS=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},VKe=function(t,e){var n=l_.createElement("div");return n.className="gutter gutter-"+e,n},UKe=function(t,e,n){var r={};return bse(e)?r[t]=e:r[t]=zKe+"("+e+"% - "+n+"px)",r},HKe=function(t,e){var n;return n={},n[t]=e+"px",n},lY=function(t,e){if(e===void 0&&(e={}),R$)return{};var n=t,r,i,o,s,a,l;Array.from&&(n=Array.from(n));var u=aY(n[0]),c=u.parentNode,d=getComputedStyle?getComputedStyle(c):null,f=d?d.flexDirection:null,p=Bi(e,"sizes")||n.map(function(){return 100/n.length}),m=Bi(e,"minSize",100),y=Array.isArray(m)?m:n.map(function(){return m}),b=Bi(e,"maxSize",1/0),v=Array.isArray(b)?b:n.map(function(){return b}),E=Bi(e,"expandToMin",!1),x=Bi(e,"gutterSize",10),C=Bi(e,"gutterAlign","center"),k=Bi(e,"snapOffset",30),D=Array.isArray(k)?k:n.map(function(){return k}),A=Bi(e,"dragInterval",1),P=Bi(e,"direction",PS),M=Bi(e,"cursor",P===PS?"col-resize":"row-resize"),I=Bi(e,"gutter",VKe),O=Bi(e,"elementStyle",UKe),F=Bi(e,"gutterStyle",HKe);P===PS?(r="width",i="clientX",o="left",s="right",a="clientWidth"):P==="vertical"&&(r="height",i="clientY",o="top",s="bottom",a="clientHeight");function $(ce,he,be,Ce){var Ae=O(r,he,be,Ce);Object.keys(Ae).forEach(function(Oe){ce.style[Oe]=Ae[Oe]})}function L(ce,he,be){var Ce=F(r,he,be);Object.keys(Ce).forEach(function(Ae){ce.style[Ae]=Ce[Ae]})}function q(){return l.map(function(ce){return ce.size})}function K(ce){return"touches"in ce?ce.touches[0][i]:ce[i]}function X(ce){var he=l[this.a],be=l[this.b],Ce=he.size+be.size;he.size=ce/this.size*Ce,be.size=Ce-ce/this.size*Ce,$(he.element,he.size,this[Ta],he.i),$(be.element,be.size,this[Yu],be.i)}function ee(ce){var he,be=l[this.a],Ce=l[this.b];this.dragging&&(he=K(ce)-this.start+(this[Ta]-this.dragOffset),A>1&&(he=Math.round(he/A)*A),he<=be.minSize+be.snapOffset+this[Ta]?he=be.minSize+this[Ta]:he>=this.size-(Ce.minSize+Ce.snapOffset+this[Yu])&&(he=this.size-(Ce.minSize+this[Yu])),he>=be.maxSize-be.snapOffset+this[Ta]?he=be.maxSize+this[Ta]:he<=this.size-(Ce.maxSize-Ce.snapOffset+this[Yu])&&(he=this.size-(Ce.maxSize+this[Yu])),X.call(this,he),Bi(e,"onDrag",Aa)(q()))}function J(){var ce=l[this.a].element,he=l[this.b].element,be=ce[VD](),Ce=he[VD]();this.size=be[r]+Ce[r]+this[Ta]+this[Yu],this.start=be[o],this.end=be[s]}function G(ce){if(!getComputedStyle)return null;var he=getComputedStyle(ce);if(!he)return null;var be=ce[a];return be===0?null:(P===PS?be-=parseFloat(he.paddingLeft)+parseFloat(he.paddingRight):be-=parseFloat(he.paddingTop)+parseFloat(he.paddingBottom),be)}function Y(ce){var he=G(c);if(he===null||y.reduce(function(Oe,j){return Oe+j},0)>he)return ce;var be=0,Ce=[],Ae=ce.map(function(Oe,j){var pe=he*Oe/100,ve=MS(x,j===0,j===ce.length-1,C),se=y[j]+ve;return pe<se?(be+=se-pe,Ce.push(0),se):(Ce.push(pe-se),pe)});return be===0?ce:Ae.map(function(Oe,j){var pe=Oe;if(be>0&&Ce[j]-be>0){var ve=Math.min(be,Ce[j]-be);be-=ve,pe=Oe-ve}return pe/he*100})}function Z(){var ce=this,he=l[ce.a].element,be=l[ce.b].element;ce.dragging&&Bi(e,"onDragEnd",Aa)(q()),ce.dragging=!1,Us[Ca]("mouseup",ce.stop),Us[Ca]("touchend",ce.stop),Us[Ca]("touchcancel",ce.stop),Us[Ca]("mousemove",ce.move),Us[Ca]("touchmove",ce.move),ce.stop=null,ce.move=null,he[Ca]("selectstart",Aa),he[Ca]("dragstart",Aa),be[Ca]("selectstart",Aa),be[Ca]("dragstart",Aa),he.style.userSelect="",he.style.webkitUserSelect="",he.style.MozUserSelect="",he.style.pointerEvents="",be.style.userSelect="",be.style.webkitUserSelect="",be.style.MozUserSelect="",be.style.pointerEvents="",ce.gutter.style.cursor="",ce.parent.style.cursor="",l_.body.style.cursor=""}function W(ce){if(!("button"in ce&&ce.button!==0)){var he=this,be=l[he.a].element,Ce=l[he.b].element;he.dragging||Bi(e,"onDragStart",Aa)(q()),ce.preventDefault(),he.dragging=!0,he.move=ee.bind(he),he.stop=Z.bind(he),Us[Sa]("mouseup",he.stop),Us[Sa]("touchend",he.stop),Us[Sa]("touchcancel",he.stop),Us[Sa]("mousemove",he.move),Us[Sa]("touchmove",he.move),be[Sa]("selectstart",Aa),be[Sa]("dragstart",Aa),Ce[Sa]("selectstart",Aa),Ce[Sa]("dragstart",Aa),be.style.userSelect="none",be.style.webkitUserSelect="none",be.style.MozUserSelect="none",be.style.pointerEvents="none",Ce.style.userSelect="none",Ce.style.webkitUserSelect="none",Ce.style.MozUserSelect="none",Ce.style.pointerEvents="none",he.gutter.style.cursor=M,he.parent.style.cursor=M,l_.body.style.cursor=M,J.call(he),he.dragOffset=K(ce)-he.end}}p=Y(p);var oe=[];l=n.map(function(ce,he){var be={element:aY(ce),size:p[he],minSize:y[he],maxSize:v[he],snapOffset:D[he],i:he},Ce;if(he>0&&(Ce={a:he-1,b:he,dragging:!1,direction:P,parent:c},Ce[Ta]=MS(x,he-1===0,!1,C),Ce[Yu]=MS(x,!1,he===n.length-1,C),f==="row-reverse"||f==="column-reverse")){var Ae=Ce.a;Ce.a=Ce.b,Ce.b=Ae}if(he>0){var Oe=I(he,P,be.element);L(Oe,x,he),Ce[wb]=W.bind(Ce),Oe[Sa]("mousedown",Ce[wb]),Oe[Sa]("touchstart",Ce[wb]),c.insertBefore(Oe,be.element),Ce.gutter=Oe}return $(be.element,be.size,MS(x,he===0,he===n.length-1,C),he),he>0&&oe.push(Ce),be});function re(ce){var he=ce.i===oe.length,be=he?oe[ce.i-1]:oe[ce.i];J.call(be);var Ce=he?be.size-ce.minSize-be[Yu]:ce.minSize+be[Ta];X.call(be,Ce)}l.forEach(function(ce){var he=ce.element[VD]()[r];he<ce.minSize&&(E?re(ce):ce.minSize=he)});function me(ce){var he=Y(ce);he.forEach(function(be,Ce){if(Ce>0){var Ae=oe[Ce-1],Oe=l[Ae.a],j=l[Ae.b];Oe.size=he[Ce-1],j.size=be,$(Oe.element,Oe.size,Ae[Ta],Oe.i),$(j.element,j.size,Ae[Yu],j.i)}})}function ge(ce,he){oe.forEach(function(be){if(he!==!0?be.parent.removeChild(be.gutter):(be.gutter[Ca]("mousedown",be[wb]),be.gutter[Ca]("touchstart",be[wb])),ce!==!0){var Ce=O(r,be.a.size,be[Ta]);Object.keys(Ce).forEach(function(Ae){l[be.a].element.style[Ae]="",l[be.b].element.style[Ae]=""})}})}return{setSizes:me,getSizes:q,collapse:function(he){re(l[he])},destroy:ge,parent:c,pairs:oe}};function UD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var k$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,o=UD(r,["children","gutter"]),s=o;s.gutter=function(a,l){var u;return i?u=i(a,l):(u=document.createElement("div"),u.className="gutter gutter-"+l),u.__isSplitGutter=!0,u},this.split=lY(this.parent.children,s)},e.prototype.componentDidUpdate=function(r){var i=this,o=this.props;o.children;var s=o.minSize,a=o.sizes,l=o.collapsed,u=UD(o,["children","minSize","sizes","collapsed"]),c=u,d=r.minSize,f=r.sizes,p=r.collapsed,m=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],y=m.map(function(E){return i.props[E]!==r[E]}).reduce(function(E,x){return E||x},!1);if(Array.isArray(s)&&Array.isArray(d)){var b=!1;s.forEach(function(E,x){b=b||E!==d[x]}),y=y||b}else Array.isArray(s)||Array.isArray(d)?y=!0:y=y||s!==d;if(y)c.minSize=s,c.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),c.gutter=function(E,x,C){return C.previousSibling},this.split=lY(Array.from(this.parent.children).filter(function(E){return!E.__isSplitGutter}),c);else if(a){var v=!1;a.forEach(function(E,x){v=v||E!==f[x]}),v&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==p||y)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var o=i.children,s=UD(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=s;return ue.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),o)},e}(ue.Component);k$.propTypes={sizes:Se.arrayOf(Se.number),minSize:Se.oneOfType([Se.number,Se.arrayOf(Se.number)]),maxSize:Se.oneOfType([Se.number,Se.arrayOf(Se.number)]),expandToMin:Se.bool,gutterSize:Se.number,gutterAlign:Se.string,snapOffset:Se.oneOfType([Se.number,Se.arrayOf(Se.number)]),dragInterval:Se.number,direction:Se.string,cursor:Se.string,gutter:Se.func,elementStyle:Se.func,gutterStyle:Se.func,onDrag:Se.func,onDragStart:Se.func,onDragEnd:Se.func,collapsed:Se.number,children:Se.arrayOf(Se.element)};k$.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const qKe=()=>{const{getPaperFile:t}=QA(),{setPaperUrl:e,setPaperId:n}=la(),r=$f(),i=z.useContext(Gx);if(!i)throw new Error("TourContext not found");const{setRunTour:o,runTour:s,steps:a,stepIndex:l,setStepIndex:u}=i,[c,d]=z.useState("graph");z.useEffect(()=>{f()},[r.state]);const f=async()=>{const m=r.state;if(m!=null&&m.paperId){n(m.paperId);const y=await t(m.paperId);e(y)}},p=m=>{var C;const{action:y,index:b,status:v,type:E,step:x}=m;[ws.STEP_AFTER,ws.TARGET_NOT_FOUND].includes(E)?(u(b+(y===Pn.PREV?-1:1)),(C=x.data)!=null&&C.pause&&o(!1)):[nn.FINISHED,nn.SKIPPED].includes(v)&&(u(0),o(!1))};return V.jsxs(kt,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[V.jsx("div",{style:{display:"none"},children:V.jsx(BKe,{continuous:!0,steps:a,run:s,callback:p,hideCloseButton:!0,disableOverlayClose:!0,stepIndex:l})}),V.jsx(kt,{sx:{height:"8%",width:"100%",display:"flex"},children:V.jsx(iHe,{onAnalyticsClick:()=>d(c==="analytics"?"graph":"analytics"),onTimelineClick:()=>d(c==="timeline"?"graph":"timeline")})}),V.jsx(kt,{sx:{width:"100%",height:"92%"},children:V.jsxs(k$,{className:"split",sizes:[60,40],minSize:200,expandToMin:!1,gutterSize:10,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",children:[V.jsx(kt,{className:"panel paper-panel",children:V.jsx(_je,{})}),V.jsxs(kt,{className:"panel graph-panel",children:[c==="graph"&&V.jsx(mWe,{}),c==="analytics"&&V.jsx(vWe,{}),c==="timeline"&&V.jsx(p7e,{})]})]})})]})},wse="/re-ad/re-ad-icon.svg",jKe="/re-ad/poster.png";function WKe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GKe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,KKe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YKe={};function uY(t,e){return(YKe.jsx?KKe:GKe).test(t)}const XKe=/[ \t\n\f\r]/g;function JKe(t){return typeof t=="object"?t.type==="text"?cY(t.value):!1:cY(t)}function cY(t){return t.replace(XKe,"")===""}class T1{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}T1.prototype.normal={};T1.prototype.property={};T1.prototype.space=void 0;function _se(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new T1(n,r,e)}function h5(t){return t.toLowerCase()}class Qo{constructor(e,n){this.attribute=n,this.property=e}}Qo.prototype.attribute="";Qo.prototype.booleanish=!1;Qo.prototype.boolean=!1;Qo.prototype.commaOrSpaceSeparated=!1;Qo.prototype.commaSeparated=!1;Qo.prototype.defined=!1;Qo.prototype.mustUseProperty=!1;Qo.prototype.number=!1;Qo.prototype.overloadedBoolean=!1;Qo.prototype.property="";Qo.prototype.spaceSeparated=!1;Qo.prototype.space=void 0;let QKe=0;const Xt=mg(),Vr=mg(),p5=mg(),Ye=mg(),Qn=mg(),hy=mg(),cs=mg();function mg(){return 2**++QKe}const g5=Object.freeze(Object.defineProperty({__proto__:null,boolean:Xt,booleanish:Vr,commaOrSpaceSeparated:cs,commaSeparated:hy,number:Ye,overloadedBoolean:p5,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),HD=Object.keys(g5);class I$ extends Qo{constructor(e,n,r,i){let o=-1;if(super(e,n),dY(this,"space",i),typeof r=="number")for(;++o<HD.length;){const s=HD[o];dY(this,HD[o],(r&g5[s])===g5[s])}}}I$.prototype.defined=!0;function dY(t,e,n){n&&(t[e]=n)}function c0(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new I$(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[h5(r)]=r,n[h5(o.attribute)]=r}return new T1(e,n,t.space)}const xse=c0({properties:{ariaActiveDescendant:null,ariaAtomic:Vr,ariaAutoComplete:null,ariaBusy:Vr,ariaChecked:Vr,ariaColCount:Ye,ariaColIndex:Ye,ariaColSpan:Ye,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:Vr,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:Vr,ariaFlowTo:Qn,ariaGrabbed:Vr,ariaHasPopup:null,ariaHidden:Vr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:Ye,ariaLive:null,ariaModal:Vr,ariaMultiLine:Vr,ariaMultiSelectable:Vr,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:Ye,ariaPressed:Vr,ariaReadOnly:Vr,ariaRelevant:null,ariaRequired:Vr,ariaRoleDescription:Qn,ariaRowCount:Ye,ariaRowIndex:Ye,ariaRowSpan:Ye,ariaSelected:Vr,ariaSetSize:Ye,ariaSort:null,ariaValueMax:Ye,ariaValueMin:Ye,ariaValueNow:Ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Ese(t,e){return e in t?t[e]:e}function Sse(t,e){return Ese(t,e.toLowerCase())}const ZKe=c0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hy,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:Xt,allowPaymentRequest:Xt,allowUserMedia:Xt,alt:null,as:null,async:Xt,autoCapitalize:null,autoComplete:Qn,autoFocus:Xt,autoPlay:Xt,blocking:Qn,capture:null,charSet:null,checked:Xt,cite:null,className:Qn,cols:Ye,colSpan:null,content:null,contentEditable:Vr,controls:Xt,controlsList:Qn,coords:Ye|hy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Xt,defer:Xt,dir:null,dirName:null,disabled:Xt,download:p5,draggable:Vr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Xt,formTarget:null,headers:Qn,height:Ye,hidden:p5,high:Ye,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inert:Xt,inputMode:null,integrity:null,is:null,isMap:Xt,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:Xt,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Xt,low:Ye,manifest:null,max:null,maxLength:Ye,media:null,method:null,min:null,minLength:Ye,multiple:Xt,muted:Xt,name:null,nonce:null,noModule:Xt,noValidate:Xt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Xt,optimum:Ye,pattern:null,ping:Qn,placeholder:null,playsInline:Xt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Xt,referrerPolicy:null,rel:Qn,required:Xt,reversed:Xt,rows:Ye,rowSpan:Ye,sandbox:Qn,scope:null,scoped:Xt,seamless:Xt,selected:Xt,shadowRootClonable:Xt,shadowRootDelegatesFocus:Xt,shadowRootMode:null,shape:null,size:Ye,sizes:null,slot:null,span:Ye,spellCheck:Vr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ye,step:null,style:null,tabIndex:Ye,target:null,title:null,translate:null,type:null,typeMustMatch:Xt,useMap:null,value:Vr,width:Ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:Ye,borderColor:null,bottomMargin:Ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Xt,declare:Xt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ye,leftMargin:Ye,link:null,longDesc:null,lowSrc:null,marginHeight:Ye,marginWidth:Ye,noResize:Xt,noHref:Xt,noShade:Xt,noWrap:Xt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ye,rules:null,scheme:null,scrolling:Vr,standby:null,summary:null,text:null,topMargin:Ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Xt,disableRemotePlayback:Xt,prefix:null,property:null,results:Ye,security:null,unselectable:null},space:"html",transform:Sse}),eYe=c0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cs,accentHeight:Ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ye,amplitude:Ye,arabicForm:null,ascent:Ye,attributeName:null,attributeType:null,azimuth:Ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ye,by:null,calcMode:null,capHeight:Ye,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ye,diffuseConstant:Ye,direction:null,display:null,dur:null,divisor:Ye,dominantBaseline:null,download:Xt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ye,enableBackground:null,end:null,event:null,exponent:Ye,externalResourcesRequired:null,fill:null,fillOpacity:Ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hy,g2:hy,glyphName:hy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ye,horizOriginX:Ye,horizOriginY:Ye,id:null,ideographic:Ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ye,k:Ye,k1:Ye,k2:Ye,k3:Ye,k4:Ye,kernelMatrix:cs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ye,overlineThickness:Ye,paintOrder:null,panose1:null,path:null,pathLength:Ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ye,pointsAtY:Ye,pointsAtZ:Ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cs,rev:cs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cs,requiredFeatures:cs,requiredFonts:cs,requiredFormats:cs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ye,specularExponent:Ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ye,strikethroughThickness:Ye,string:null,stroke:null,strokeDashArray:cs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ye,strokeOpacity:Ye,strokeWidth:null,style:null,surfaceScale:Ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cs,tabIndex:Ye,tableValues:null,target:null,targetX:Ye,targetY:Ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ye,underlineThickness:Ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ye,values:null,vAlphabetic:Ye,vMathematical:Ye,vectorEffect:null,vHanging:Ye,vIdeographic:Ye,version:null,vertAdvY:Ye,vertOriginX:Ye,vertOriginY:Ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ese}),Cse=c0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Tse=c0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Sse}),Ase=c0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),tYe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nYe=/[A-Z]/g,fY=/-[a-z]/g,rYe=/^data[-\w.:]+$/i;function iYe(t,e){const n=h5(e);let r=e,i=Qo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rYe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(fY,sYe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!fY.test(o)){let s=o.replace(nYe,oYe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=I$}return new i(r,e)}function oYe(t){return"-"+t.toLowerCase()}function sYe(t){return t.charAt(1).toUpperCase()}const aYe=_se([xse,ZKe,Cse,Tse,Ase],"html"),P$=_se([xse,eYe,Cse,Tse,Ase],"svg");function lYe(t){return t.join(" ").trim()}var wm={},qD,hY;function uYe(){if(hY)return qD;hY=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",p="declaration";qD=function(y,b){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];b=b||{};var v=1,E=1;function x($){var L=$.match(e);L&&(v+=L.length);var q=$.lastIndexOf(l);E=~q?$.length-q:E+$.length}function C(){var $={line:v,column:E};return function(L){return L.position=new k($),P(),L}}function k($){this.start=$,this.end={line:v,column:E},this.source=b.source}k.prototype.content=y;function D($){var L=new Error(b.source+":"+v+":"+E+": "+$);if(L.reason=$,L.filename=b.source,L.line=v,L.column=E,L.source=y,!b.silent)throw L}function A($){var L=$.exec(y);if(L){var q=L[0];return x(q),y=y.slice(q.length),L}}function P(){A(n)}function M($){var L;for($=$||[];L=I();)L!==!1&&$.push(L);return $}function I(){var $=C();if(!(u!=y.charAt(0)||c!=y.charAt(1))){for(var L=2;d!=y.charAt(L)&&(c!=y.charAt(L)||u!=y.charAt(L+1));)++L;if(L+=2,d===y.charAt(L-1))return D("End of comment missing");var q=y.slice(2,L-2);return E+=2,x(q),y=y.slice(L),E+=2,$({type:f,comment:q})}}function O(){var $=C(),L=A(r);if(L){if(I(),!A(i))return D("property missing ':'");var q=A(o),K=$({type:p,property:m(L[0].replace(t,d)),value:q?m(q[0].replace(t,d)):d});return A(s),K}}function F(){var $=[];M($);for(var L;L=O();)L!==!1&&($.push(L),M($));return $}return P(),F()};function m(y){return y?y.replace(a,d):d}return qD}var pY;function cYe(){if(pY)return wm;pY=1;var t=wm&&wm.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wm,"__esModule",{value:!0}),wm.default=n;var e=t(uYe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,e.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return wm}var _b={},gY;function dYe(){if(gY)return _b;gY=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||t.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(e,s))};return _b.camelCase=l,_b}var xb,mY;function fYe(){if(mY)return xb;mY=1;var t=xb&&xb.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(cYe()),n=dYe();function r(i,o){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,xb=r,xb}var hYe=fYe();const pYe=Ni(hYe),Rse=kse("end"),M$=kse("start");function kse(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function gYe(t){const e=M$(t),n=Rse(t);if(e&&n)return{start:e,end:n}}function Ew(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?yY(t.position):"start"in t||"end"in t?yY(t):"line"in t||"column"in t?m5(t):""}function m5(t){return vY(t&&t.line)+":"+vY(t&&t.column)}function yY(t){return m5(t&&t.start)+"-"+m5(t&&t.end)}function vY(t){return t&&typeof t=="number"?t:1}class Zi extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Ew(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zi.prototype.file="";Zi.prototype.name="";Zi.prototype.reason="";Zi.prototype.message="";Zi.prototype.stack="";Zi.prototype.column=void 0;Zi.prototype.line=void 0;Zi.prototype.ancestors=void 0;Zi.prototype.cause=void 0;Zi.prototype.fatal=void 0;Zi.prototype.place=void 0;Zi.prototype.ruleId=void 0;Zi.prototype.source=void 0;const N$={}.hasOwnProperty,mYe=new Map,yYe=/[A-Z]/g,vYe=new Set(["table","tbody","thead","tfoot","tr"]),bYe=new Set(["td","th"]),Ise="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wYe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=RYe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=AYe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?P$:aYe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=Pse(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function Pse(t,e,n){if(e.type==="element")return _Ye(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return xYe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return SYe(t,e,n);if(e.type==="mdxjsEsm")return EYe(t,e);if(e.type==="root")return CYe(t,e,n);if(e.type==="text")return TYe(t,e)}function _Ye(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=P$,t.schema=i),t.ancestors.push(e);const o=Nse(t,e.tagName,!1),s=kYe(t,e);let a=L$(t,e);return vYe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!JKe(l):!0})),Mse(t,s,o,e),D$(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function xYe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}u_(t,e.position)}function EYe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);u_(t,e.position)}function SYe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=P$,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:Nse(t,e.name,!0),s=IYe(t,e),a=L$(t,e);return Mse(t,s,o,e),D$(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function CYe(t,e,n){const r={};return D$(r,L$(t,e)),t.create(e,t.Fragment,r,n)}function TYe(t,e){return e.value}function Mse(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function D$(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function AYe(t,e,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:e;return a?u(o,s,a):u(o,s)}}function RYe(t,e){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=M$(r);return e(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function kYe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&N$.call(e.properties,i)){const o=PYe(t,i,e.properties[i]);if(o){const[s,a]=o;t.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&bYe.has(e.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function IYe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else u_(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,o=t.evaluater.evaluateExpression(a.expression)}else u_(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function L$(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:mYe;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=Pse(t,o,s);a!==void 0&&n.push(a)}return n}function PYe(t,e,n){const r=iYe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?WKe(n):lYe(n)),r.property==="style"){let i=typeof n=="object"?n:MYe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=NYe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?tYe[r.property]||r.property:r.attribute,n]}}function MYe(t,e){try{return pYe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Zi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Ise+"#cannot-parse-style-attribute",i}}function Nse(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const a=uY(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=uY(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return N$.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);u_(t)}function u_(t,e){const n=new Zi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Ise+"#cannot-handle-mdx-estrees-without-createevaluater",n}function NYe(t){const e={};let n;for(n in t)N$.call(t,n)&&(e[DYe(n)]=t[n]);return e}function DYe(t){let e=t.replace(yYe,LYe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function LYe(t){return"-"+t.toLowerCase()}const jD={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},OYe={};function FYe(t,e){const n=OYe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Dse(t,r,i)}function Dse(t,e,n){if($Ye(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return bY(t.children,e,n)}return Array.isArray(t)?bY(t,e,n):""}function bY(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Dse(t[i],e,n);return r.join("")}function $Ye(t){return!!(t&&typeof t=="object")}const wY=document.createElement("i");function O$(t){const e="&"+t+";";wY.innerHTML=e;const n=wY.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function wu(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Xs(t,e){return t.length>0?(wu(t,t.length,0,e),t):e}const _Y={}.hasOwnProperty;function BYe(t){const e={};let n=-1;for(;++n<t.length;)zYe(e,t[n]);return e}function zYe(t,e){let n;for(n in e){const i=(_Y.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){_Y.call(i,s)||(i[s]=[]);const a=o[s];VYe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function VYe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);wu(t,0,0,r)}function Lse(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function py(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zl=Vf(/[A-Za-z]/),Ss=Vf(/[\dA-Za-z]/),UYe=Vf(/[#-'*+\--9=?A-Z^-~]/);function y5(t){return t!==null&&(t<32||t===127)}const v5=Vf(/\d/),HYe=Vf(/[\dA-Fa-f]/),qYe=Vf(/[!-/:-@[-`{-~]/);function zt(t){return t!==null&&t<-2}function Ko(t){return t!==null&&(t<0||t===32)}function Mn(t){return t===-2||t===-1||t===32}const jYe=Vf(new RegExp("\\p{P}|\\p{S}","u")),WYe=Vf(/\s/);function Vf(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function d0(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&Ss(t.charCodeAt(n+1))&&Ss(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=t.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function er(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Mn(l)?(t.enter(n),a(l)):e(l)}function a(l){return Mn(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const GYe={tokenize:KYe};function KYe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),er(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return zt(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const YYe={tokenize:XYe},xY={tokenize:JYe};function XYe(t){const e=this,n=[];let r=0,i,o,s;return a;function a(x){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const C=e.events.length;let k=C,D;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){D=e.events[k][1].end;break}v(r);let A=C;for(;A<e.events.length;)e.events[A][1].end={...D},A++;return wu(e.events,k+1,0,e.events.slice(C)),e.events.length=A,u(x)}return a(x)}function u(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return m(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(xY,c,d)(x)}function c(x){return i&&E(),v(r),f(x)}function d(x){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(x)}function f(x){return e.containerState={},t.attempt(xY,p,m)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function m(x){if(x===null){i&&E(),v(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(x)}function y(x){if(x===null){b(t.exit("chunkFlow"),!0),v(0),t.consume(x);return}return zt(x)?(t.consume(x),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),y)}function b(x,C){const k=e.sliceStream(x);if(C&&k.push(null),x.previous=o,o&&(o.next=x),o=x,i.defineSkip(x.start),i.write(k),e.parser.lazy[x.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<s&&(!i.events[D][1].end||i.events[D][1].end.offset>s))return;const A=e.events.length;let P=A,M,I;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(M){I=e.events[P][1].end;break}M=!0}for(v(r),D=A;D<e.events.length;)e.events[D][1].end={...I},D++;wu(e.events,P+1,0,e.events.slice(A)),e.events.length=D}}function v(x){let C=n.length;for(;C-- >x;){const k=n[C];e.containerState=k[1],k[0].exit.call(e,t)}n.length=x}function E(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function JYe(t,e,n){return er(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function EY(t){if(t===null||Ko(t)||WYe(t))return 1;if(jYe(t))return 2}function F$(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const b5={name:"attention",resolveAll:QYe,tokenize:ZYe};function QYe(t,e){let n=-1,r,i,o,s,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};SY(d,-l),SY(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},t[r][1].end={...s.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Xs(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Xs(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),u=Xs(u,F$(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Xs(u,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Xs(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,wu(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function ZYe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=EY(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const u=t.exit("attentionSequence"),c=EY(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!f)),u._close=!!(o===42?f:f&&(c||!d)),e(l)}}function SY(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const eXe={name:"autolink",tokenize:tXe};function tXe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return Zl(p)?(t.consume(p),s):p===64?n(p):u(p)}function s(p){return p===43||p===45||p===46||Ss(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Ss(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||y5(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):UYe(p)?(t.consume(p),u):n(p)}function c(p){return Ss(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Ss(p))&&r++<63){const m=p===45?f:d;return t.consume(p),m}return n(p)}}const ak={partial:!0,tokenize:nXe};function nXe(t,e,n){return r;function r(o){return Mn(o)?er(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||zt(o)?e(o):n(o)}}const Ose={continuation:{tokenize:iXe},exit:oXe,name:"blockQuote",tokenize:rXe};function rXe(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Mn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function iXe(t,e,n){const r=this;return i;function i(s){return Mn(s)?er(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(Ose,e,n)(s)}}function oXe(t){t.exit("blockQuote")}const Fse={name:"characterEscape",tokenize:sXe};function sXe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return qYe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const $se={name:"characterReference",tokenize:aXe};function aXe(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,s=Ss,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=HYe,c):(t.enter("characterReferenceValue"),o=7,s=v5,c(d))}function c(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return s===Ss&&!O$(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),c):n(d)}}const CY={partial:!0,tokenize:uXe},TY={concrete:!0,name:"codeFenced",tokenize:lXe};function lXe(t,e,n){const r=this,i={partial:!0,tokenize:k};let o=0,s=0,a;return l;function l(D){return u(D)}function u(D){const A=r.events[r.events.length-1];return o=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,a=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(D)}function c(D){return D===a?(s++,t.consume(D),c):s<3?n(D):(t.exit("codeFencedFenceSequence"),Mn(D)?er(t,d,"whitespace")(D):d(D))}function d(D){return D===null||zt(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(CY,y,C)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(D))}function f(D){return D===null||zt(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(D)):Mn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),er(t,p,"whitespace")(D)):D===96&&D===a?n(D):(t.consume(D),f)}function p(D){return D===null||zt(D)?d(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||zt(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(D)):D===96&&D===a?n(D):(t.consume(D),m)}function y(D){return t.attempt(i,C,b)(D)}function b(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),v}function v(D){return o>0&&Mn(D)?er(t,E,"linePrefix",o+1)(D):E(D)}function E(D){return D===null||zt(D)?t.check(CY,y,C)(D):(t.enter("codeFlowValue"),x(D))}function x(D){return D===null||zt(D)?(t.exit("codeFlowValue"),E(D)):(t.consume(D),x)}function C(D){return t.exit("codeFenced"),e(D)}function k(D,A,P){let M=0;return I;function I(q){return D.enter("lineEnding"),D.consume(q),D.exit("lineEnding"),O}function O(q){return D.enter("codeFencedFence"),Mn(q)?er(D,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):F(q)}function F(q){return q===a?(D.enter("codeFencedFenceSequence"),$(q)):P(q)}function $(q){return q===a?(M++,D.consume(q),$):M>=s?(D.exit("codeFencedFenceSequence"),Mn(q)?er(D,L,"whitespace")(q):L(q)):P(q)}function L(q){return q===null||zt(q)?(D.exit("codeFencedFence"),A(q)):P(q)}}}function uXe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const WD={name:"codeIndented",tokenize:dXe},cXe={partial:!0,tokenize:fXe};function dXe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),er(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):zt(u)?t.attempt(cXe,s,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||zt(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function fXe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):zt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):er(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):zt(s)?i(s):n(s)}}const hXe={name:"codeText",previous:gXe,resolve:pXe,tokenize:mXe};function pXe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function gXe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mXe(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,c(d)):zt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||zt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",u(d))}}class yXe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Eb(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Eb(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Eb(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Eb(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Eb(this.left,n.reverse())}}}function Eb(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Bse(t){const e={};let n=-1,r,i,o,s,a,l,u;const c=new yXe(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,vXe(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return wu(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function vXe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,f=-1,p=n,m=0,y=0;const b=[y];for(;p;){for(;t.get(++i)[1]!==p;);o.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(y=f+1,b.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const v=a.slice(b[f],b[f+1]),E=o.pop();l.push([E,E+v.length-1]),t.splice(E,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const bXe={resolve:_Xe,tokenize:xXe},wXe={partial:!0,tokenize:EXe};function _Xe(t){return Bse(t),t}function xXe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):zt(a)?t.check(wXe,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function EXe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),er(t,o,"linePrefix")}function o(s){if(s===null||zt(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function zse(t,e,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),f):v===null||v===32||v===41||y5(v)?n(v):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(v))}function f(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||zt(v)?n(v):(t.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function y(v){return!c&&(v===null||v===41||Ko(v))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(v)):c<u&&v===40?(t.consume(v),c++,y):v===41?(t.consume(v),c--,y):v===null||v===32||v===40||y5(v)?n(v):(t.consume(v),v===92?b:y)}function b(v){return v===40||v===41||v===92?(t.consume(v),y):y(v)}}function Vse(t,e,n,r,i,o){const s=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(o),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):zt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||zt(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!Mn(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function Use(t,e,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),u(f))}function u(f){return f===s?(t.exit(o),l(s)):f===null?n(f):zt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),er(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||zt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===s||f===92?(t.consume(f),c):c(f)}}function Sw(t,e){let n;return r;function r(i){return zt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Mn(i)?er(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const SXe={name:"definition",tokenize:TXe},CXe={partial:!0,tokenize:AXe};function TXe(t,e,n){const r=this;let i;return o;function o(p){return t.enter("definition"),s(p)}function s(p){return Vse.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=py(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ko(p)?Sw(t,u)(p):u(p)}function u(p){return zse(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(CXe,d,d)(p)}function d(p){return Mn(p)?er(t,f,"whitespace")(p):f(p)}function f(p){return p===null||zt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function AXe(t,e,n){return r;function r(a){return Ko(a)?Sw(t,i)(a):n(a)}function i(a){return Use(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Mn(a)?er(t,s,"whitespace")(a):s(a)}function s(a){return a===null||zt(a)?e(a):n(a)}}const RXe={name:"hardBreakEscape",tokenize:kXe};function kXe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return zt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const IXe={name:"headingAtx",resolve:PXe,tokenize:MXe};function PXe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},wu(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function MXe(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||Ko(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||zt(c)?(t.exit("atxHeading"),e(c)):Mn(c)?er(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||Ko(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const NXe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],AY=["pre","script","style","textarea"],DXe={concrete:!0,name:"htmlFlow",resolveTo:FXe,tokenize:$Xe},LXe={partial:!0,tokenize:zXe},OXe={partial:!0,tokenize:BXe};function FXe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function $Xe(t,e,n){const r=this;let i,o,s,a,l;return u;function u(W){return c(W)}function c(W){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(W),d}function d(W){return W===33?(t.consume(W),f):W===47?(t.consume(W),o=!0,y):W===63?(t.consume(W),i=3,r.interrupt?e:G):Zl(W)?(t.consume(W),s=String.fromCharCode(W),b):n(W)}function f(W){return W===45?(t.consume(W),i=2,p):W===91?(t.consume(W),i=5,a=0,m):Zl(W)?(t.consume(W),i=4,r.interrupt?e:G):n(W)}function p(W){return W===45?(t.consume(W),r.interrupt?e:G):n(W)}function m(W){const oe="CDATA[";return W===oe.charCodeAt(a++)?(t.consume(W),a===oe.length?r.interrupt?e:F:m):n(W)}function y(W){return Zl(W)?(t.consume(W),s=String.fromCharCode(W),b):n(W)}function b(W){if(W===null||W===47||W===62||Ko(W)){const oe=W===47,re=s.toLowerCase();return!oe&&!o&&AY.includes(re)?(i=1,r.interrupt?e(W):F(W)):NXe.includes(s.toLowerCase())?(i=6,oe?(t.consume(W),v):r.interrupt?e(W):F(W)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(W):o?E(W):x(W))}return W===45||Ss(W)?(t.consume(W),s+=String.fromCharCode(W),b):n(W)}function v(W){return W===62?(t.consume(W),r.interrupt?e:F):n(W)}function E(W){return Mn(W)?(t.consume(W),E):I(W)}function x(W){return W===47?(t.consume(W),I):W===58||W===95||Zl(W)?(t.consume(W),C):Mn(W)?(t.consume(W),x):I(W)}function C(W){return W===45||W===46||W===58||W===95||Ss(W)?(t.consume(W),C):k(W)}function k(W){return W===61?(t.consume(W),D):Mn(W)?(t.consume(W),k):x(W)}function D(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),l=W,A):Mn(W)?(t.consume(W),D):P(W)}function A(W){return W===l?(t.consume(W),l=null,M):W===null||zt(W)?n(W):(t.consume(W),A)}function P(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||Ko(W)?k(W):(t.consume(W),P)}function M(W){return W===47||W===62||Mn(W)?x(W):n(W)}function I(W){return W===62?(t.consume(W),O):n(W)}function O(W){return W===null||zt(W)?F(W):Mn(W)?(t.consume(W),O):n(W)}function F(W){return W===45&&i===2?(t.consume(W),K):W===60&&i===1?(t.consume(W),X):W===62&&i===4?(t.consume(W),Y):W===63&&i===3?(t.consume(W),G):W===93&&i===5?(t.consume(W),J):zt(W)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(LXe,Z,$)(W)):W===null||zt(W)?(t.exit("htmlFlowData"),$(W)):(t.consume(W),F)}function $(W){return t.check(OXe,L,Z)(W)}function L(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),q}function q(W){return W===null||zt(W)?$(W):(t.enter("htmlFlowData"),F(W))}function K(W){return W===45?(t.consume(W),G):F(W)}function X(W){return W===47?(t.consume(W),s="",ee):F(W)}function ee(W){if(W===62){const oe=s.toLowerCase();return AY.includes(oe)?(t.consume(W),Y):F(W)}return Zl(W)&&s.length<8?(t.consume(W),s+=String.fromCharCode(W),ee):F(W)}function J(W){return W===93?(t.consume(W),G):F(W)}function G(W){return W===62?(t.consume(W),Y):W===45&&i===2?(t.consume(W),G):F(W)}function Y(W){return W===null||zt(W)?(t.exit("htmlFlowData"),Z(W)):(t.consume(W),Y)}function Z(W){return t.exit("htmlFlow"),e(W)}}function BXe(t,e,n){const r=this;return i;function i(s){return zt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function zXe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ak,e,n)}}const VXe={name:"htmlText",tokenize:UXe};function UXe(t,e,n){const r=this;let i,o,s;return a;function a(G){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(G),l}function l(G){return G===33?(t.consume(G),u):G===47?(t.consume(G),k):G===63?(t.consume(G),x):Zl(G)?(t.consume(G),P):n(G)}function u(G){return G===45?(t.consume(G),c):G===91?(t.consume(G),o=0,m):Zl(G)?(t.consume(G),E):n(G)}function c(G){return G===45?(t.consume(G),p):n(G)}function d(G){return G===null?n(G):G===45?(t.consume(G),f):zt(G)?(s=d,X(G)):(t.consume(G),d)}function f(G){return G===45?(t.consume(G),p):d(G)}function p(G){return G===62?K(G):G===45?f(G):d(G)}function m(G){const Y="CDATA[";return G===Y.charCodeAt(o++)?(t.consume(G),o===Y.length?y:m):n(G)}function y(G){return G===null?n(G):G===93?(t.consume(G),b):zt(G)?(s=y,X(G)):(t.consume(G),y)}function b(G){return G===93?(t.consume(G),v):y(G)}function v(G){return G===62?K(G):G===93?(t.consume(G),v):y(G)}function E(G){return G===null||G===62?K(G):zt(G)?(s=E,X(G)):(t.consume(G),E)}function x(G){return G===null?n(G):G===63?(t.consume(G),C):zt(G)?(s=x,X(G)):(t.consume(G),x)}function C(G){return G===62?K(G):x(G)}function k(G){return Zl(G)?(t.consume(G),D):n(G)}function D(G){return G===45||Ss(G)?(t.consume(G),D):A(G)}function A(G){return zt(G)?(s=A,X(G)):Mn(G)?(t.consume(G),A):K(G)}function P(G){return G===45||Ss(G)?(t.consume(G),P):G===47||G===62||Ko(G)?M(G):n(G)}function M(G){return G===47?(t.consume(G),K):G===58||G===95||Zl(G)?(t.consume(G),I):zt(G)?(s=M,X(G)):Mn(G)?(t.consume(G),M):K(G)}function I(G){return G===45||G===46||G===58||G===95||Ss(G)?(t.consume(G),I):O(G)}function O(G){return G===61?(t.consume(G),F):zt(G)?(s=O,X(G)):Mn(G)?(t.consume(G),O):M(G)}function F(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),i=G,$):zt(G)?(s=F,X(G)):Mn(G)?(t.consume(G),F):(t.consume(G),L)}function $(G){return G===i?(t.consume(G),i=void 0,q):G===null?n(G):zt(G)?(s=$,X(G)):(t.consume(G),$)}function L(G){return G===null||G===34||G===39||G===60||G===61||G===96?n(G):G===47||G===62||Ko(G)?M(G):(t.consume(G),L)}function q(G){return G===47||G===62||Ko(G)?M(G):n(G)}function K(G){return G===62?(t.consume(G),t.exit("htmlTextData"),t.exit("htmlText"),e):n(G)}function X(G){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),ee}function ee(G){return Mn(G)?er(t,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):J(G)}function J(G){return t.enter("htmlTextData"),s(G)}}const $$={name:"labelEnd",resolveAll:WXe,resolveTo:GXe,tokenize:KXe},HXe={tokenize:YXe},qXe={tokenize:XXe},jXe={tokenize:JXe};function WXe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&wu(t,0,t.length,n),t}function GXe(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[s-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Xs(a,t.slice(o+1,o+r+3)),a=Xs(a,[["enter",c,e]]),a=Xs(a,F$(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Xs(a,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),a=Xs(a,t.slice(s+1)),a=Xs(a,[["exit",l,e]]),wu(t,o,t.length,a),t}function KXe(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?d(f):(s=r.parser.defined.includes(py(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(HXe,c,s?c:d)(f):f===91?t.attempt(qXe,c,s?u:d)(f):s?c(f):d(f)}function u(f){return t.attempt(jXe,c,d)(f)}function c(f){return e(f)}function d(f){return o._balanced=!0,n(f)}}function YXe(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Ko(d)?Sw(t,o)(d):o(d)}function o(d){return d===41?c(d):zse(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return Ko(d)?Sw(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?Use(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return Ko(d)?Sw(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function XXe(t,e,n){const r=this;return i;function i(a){return Vse.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(py(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function JXe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const QXe={name:"labelStartImage",resolveAll:$$.resolveAll,tokenize:ZXe};function ZXe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const eJe={name:"labelStartLink",resolveAll:$$.resolveAll,tokenize:tJe};function tJe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const GD={name:"lineEnding",tokenize:nJe};function nJe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),er(t,e,"linePrefix")}}const UC={name:"thematicBreak",tokenize:rJe};function rJe(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||zt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Mn(u)?er(t,a,"whitespace")(u):a(u))}}const Mo={continuation:{tokenize:aJe},exit:uJe,name:"list",tokenize:sJe},iJe={partial:!0,tokenize:cJe},oJe={partial:!0,tokenize:lJe};function sJe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:v5(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(UC,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return v5(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(ak,r.interrupt?n:c,t.attempt(iJe,f,d))}function c(p){return r.containerState.initialBlankLine=!0,o++,f(p)}function d(p){return Mn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function aJe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ak,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,er(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Mn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(oJe,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,er(t,t.attempt(Mo,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function lJe(t,e,n){const r=this;return er(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function uJe(t){t.exit(this.containerState.type)}function cJe(t,e,n){const r=this;return er(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Mn(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const RY={name:"setextUnderline",resolveTo:dJe,tokenize:fJe};function dJe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function fJe(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Mn(u)?er(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||zt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const hJe={tokenize:pJe};function pJe(t){const e=this,n=t.attempt(ak,r,t.attempt(this.parser.constructs.flowInitial,i,er(t,t.attempt(this.parser.constructs.flow,i,t.attempt(bXe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const gJe={resolveAll:qse()},mJe=Hse("string"),yJe=Hse("text");function Hse(t){return{resolveAll:qse(t==="text"?vJe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function qse(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function vJe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const bJe={42:Mo,43:Mo,45:Mo,48:Mo,49:Mo,50:Mo,51:Mo,52:Mo,53:Mo,54:Mo,55:Mo,56:Mo,57:Mo,62:Ose},wJe={91:SXe},_Je={[-2]:WD,[-1]:WD,32:WD},xJe={35:IXe,42:UC,45:[RY,UC],60:DXe,61:RY,95:UC,96:TY,126:TY},EJe={38:$se,92:Fse},SJe={[-5]:GD,[-4]:GD,[-3]:GD,33:QXe,38:$se,42:b5,60:[eXe,VXe],91:eJe,92:[RXe,Fse],93:$$,95:b5,96:hXe},CJe={null:[b5,gJe]},TJe={null:[42,95]},AJe={null:[]},RJe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TJe,contentInitial:wJe,disable:AJe,document:bJe,flow:xJe,flowInitial:_Je,insideSpan:CJe,string:EJe,text:SJe},Symbol.toStringTag,{value:"Module"}));function kJe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:A(k),check:A(D),consume:E,enter:x,exit:C,interrupt:A(D,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function d(O){return s=Xs(s,O),b(),s[s.length-1]!==null?[]:(P(e,0),u.events=F$(o,u.events,u),u.events)}function f(O,F){return PJe(p(O),F)}function p(O){return IJe(s,O)}function m(){const{_bufferIndex:O,_index:F,line:$,column:L,offset:q}=r;return{_bufferIndex:O,_index:F,line:$,column:L,offset:q}}function y(O){i[O.line]=O.column,I()}function b(){let O;for(;r._index<s.length;){const F=s[r._index];if(typeof F=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<F.length;)v(F.charCodeAt(r._bufferIndex));else v(F)}}function v(O){c=c(O)}function E(O){zt(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,I()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=O}function x(O,F){const $=F||{};return $.type=O,$.start=m(),u.events.push(["enter",$,u]),a.push($),$}function C(O){const F=a.pop();return F.end=m(),u.events.push(["exit",F,u]),F}function k(O,F){P(O,F.from)}function D(O,F){F.restore()}function A(O,F){return $;function $(L,q,K){let X,ee,J,G;return Array.isArray(L)?Z(L):"tokenize"in L?Z([L]):Y(L);function Y(me){return ge;function ge(ce){const he=ce!==null&&me[ce],be=ce!==null&&me.null,Ce=[...Array.isArray(he)?he:he?[he]:[],...Array.isArray(be)?be:be?[be]:[]];return Z(Ce)(ce)}}function Z(me){return X=me,ee=0,me.length===0?K:W(me[ee])}function W(me){return ge;function ge(ce){return G=M(),J=me,me.partial||(u.currentConstruct=me),me.name&&u.parser.constructs.disable.null.includes(me.name)?re():me.tokenize.call(F?Object.assign(Object.create(u),F):u,l,oe,re)(ce)}}function oe(me){return O(J,G),q}function re(me){return G.restore(),++ee<X.length?W(X[ee]):K}}}function P(O,F){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&wu(u.events,F,u.events.length-F,O.resolve(u.events.slice(F),u)),O.resolveTo&&(u.events=O.resolveTo(u.events,u))}function M(){const O=m(),F=u.previous,$=u.currentConstruct,L=u.events.length,q=Array.from(a);return{from:L,restore:K};function K(){r=O,u.previous=F,u.currentConstruct=$,u.events.length=L,a=q,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function IJe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function PJe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function MJe(t){const r={constructs:BYe([RJe,...(t||{}).extensions||[]]),content:i(GYe),defined:[],document:i(YYe),flow:i(hJe),lazy:{},string:i(mJe),text:i(yJe)};return r;function i(o){return s;function s(a){return kJe(r,o,a)}}}function NJe(t){for(;!Bse(t););return t}const kY=/[\0\t\n\r]/g;function DJe(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,f,p;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(kY.lastIndex=d,u=kY.exec(o),f=u&&u.index!==void 0?u.index:o.length,p=o.charCodeAt(f),!u){e=o.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(o.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const LJe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OJe(t){return t.replace(LJe,FJe)}function FJe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Lse(n.slice(o?2:1),o?16:10)}return O$(n)||t}const jse={}.hasOwnProperty;function $Je(t,e,n){return typeof e!="string"&&(n=e,e=void 0),BJe(n)(NJe(MJe(n).document().write(DJe()(t,e,!0))))}function BJe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(fe),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(pe),blockQuote:o(be),characterEscape:M,characterReference:M,codeFenced:o(Ce),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Ce,s),codeText:o(Ae,s),codeTextData:M,data:M,codeFlowValue:M,definition:o(Oe),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(j),hardBreakEscape:o(ve),hardBreakTrailing:o(ve),htmlFlow:o(se,s),htmlFlowData:M,htmlText:o(se,s),htmlTextData:M,image:o(te),label:s,link:o(fe),listItem:o(Ie),listItemValue:f,listOrdered:o(_e,d),listUnordered:o(_e),paragraph:o(we),reference:W,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(pe),strong:o(Le),thematicBreak:o(Be)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:he,autolinkProtocol:ce,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:me,characterReference:ge,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:I,codeIndented:l(v),codeText:l(q),codeTextData:I,data:I,definition:l(),definitionDestinationString:C,definitionLabelString:E,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l($),htmlFlowData:I,htmlText:l(L),htmlTextData:I,image:l(X),label:J,labelText:ee,lineEnding:O,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:oe,resourceDestinationString:G,resourceTitleString:Y,resource:Z,setextHeading:l(P),setextHeadingLineSequence:A,setextHeadingText:D,strong:l(),thematicBreak:l()}};Wse(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(xe){let Me={type:"root",children:[]};const Ve={stack:[Me],tokenStack:[],config:e,enter:a,exit:u,buffer:s,resume:c,data:n},nt=[];let wt=-1;for(;++wt<xe.length;)if(xe[wt][1].type==="listOrdered"||xe[wt][1].type==="listUnordered")if(xe[wt][0]==="enter")nt.push(wt);else{const rt=nt.pop();wt=i(xe,rt,wt)}for(wt=-1;++wt<xe.length;){const rt=e[xe[wt][0]];jse.call(rt,xe[wt][1].type)&&rt[xe[wt][1].type].call(Object.assign({sliceSerialize:xe[wt][2].sliceSerialize},Ve),xe[wt][1])}if(Ve.tokenStack.length>0){const rt=Ve.tokenStack[Ve.tokenStack.length-1];(rt[1]||IY).call(Ve,void 0,rt[0])}for(Me.position={start:Ld(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Ld(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},wt=-1;++wt<e.transforms.length;)Me=e.transforms[wt](Me)||Me;return Me}function i(xe,Me,Ve){let nt=Me-1,wt=-1,rt=!1,Qt,vt,Yt,st;for(;++nt<=Ve;){const _t=xe[nt];switch(_t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{_t[0]==="enter"?wt++:wt--,st=void 0;break}case"lineEndingBlank":{_t[0]==="enter"&&(Qt&&!st&&!wt&&!Yt&&(Yt=nt),st=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:st=void 0}if(!wt&&_t[0]==="enter"&&_t[1].type==="listItemPrefix"||wt===-1&&_t[0]==="exit"&&(_t[1].type==="listUnordered"||_t[1].type==="listOrdered")){if(Qt){let on=nt;for(vt=void 0;on--;){const xn=xe[on];if(xn[1].type==="lineEnding"||xn[1].type==="lineEndingBlank"){if(xn[0]==="exit")continue;vt&&(xe[vt][1].type="lineEndingBlank",rt=!0),xn[1].type="lineEnding",vt=on}else if(!(xn[1].type==="linePrefix"||xn[1].type==="blockQuotePrefix"||xn[1].type==="blockQuotePrefixWhitespace"||xn[1].type==="blockQuoteMarker"||xn[1].type==="listItemIndent"))break}Yt&&(!vt||Yt<vt)&&(Qt._spread=!0),Qt.end=Object.assign({},vt?xe[vt][1].start:_t[1].end),xe.splice(vt||nt,0,["exit",Qt,_t[2]]),nt++,Ve++}if(_t[1].type==="listItemPrefix"){const on={type:"listItem",_spread:!1,start:Object.assign({},_t[1].start),end:void 0};Qt=on,xe.splice(nt,0,["enter",on,_t[2]]),nt++,Ve++,Yt=void 0,st=!0}}}return xe[Me][1]._spread=rt,Ve}function o(xe,Me){return Ve;function Ve(nt){a.call(this,xe(nt),nt),Me&&Me.call(this,nt)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(xe,Me,Ve){this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([Me,Ve||void 0]),xe.position={start:Ld(Me.start),end:void 0}}function l(xe){return Me;function Me(Ve){xe&&xe.call(this,Ve),u.call(this,Ve)}}function u(xe,Me){const Ve=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==xe.type&&(Me?Me.call(this,xe,nt[0]):(nt[1]||IY).call(this,xe,nt[0]));else throw new Error("Cannot close `"+xe.type+"` ("+Ew({start:xe.start,end:xe.end})+"): its not open");Ve.position.end=Ld(xe.end)}function c(){return FYe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(xe){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(xe),10),this.data.expectingFirstListItemValue=void 0}}function p(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=xe}function m(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=xe}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=xe.replace(/(\r?\n|\r)$/g,"")}function E(xe){const Me=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Me,Ve.identifier=py(this.sliceSerialize(xe)).toLowerCase()}function x(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.title=xe}function C(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.url=xe}function k(xe){const Me=this.stack[this.stack.length-1];if(!Me.depth){const Ve=this.sliceSerialize(xe).length;Me.depth=Ve}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function A(xe){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(xe).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function M(xe){const Ve=this.stack[this.stack.length-1].children;let nt=Ve[Ve.length-1];(!nt||nt.type!=="text")&&(nt=He(),nt.position={start:Ld(xe.start),end:void 0},Ve.push(nt)),this.stack.push(nt)}function I(xe){const Me=this.stack.pop();Me.value+=this.sliceSerialize(xe),Me.position.end=Ld(xe.end)}function O(xe){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=Me.children[Me.children.length-1];Ve.position.end=Ld(xe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Me.type)&&(M.call(this,xe),I.call(this,xe))}function F(){this.data.atHardBreak=!0}function $(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=xe}function L(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=xe}function q(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.value=xe}function K(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=Me,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function X(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=Me,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function ee(xe){const Me=this.sliceSerialize(xe),Ve=this.stack[this.stack.length-2];Ve.label=OJe(Me),Ve.identifier=py(Me).toLowerCase()}function J(){const xe=this.stack[this.stack.length-1],Me=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const nt=xe.children;Ve.children=nt}else Ve.alt=Me}function G(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.url=xe}function Y(){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.title=xe}function Z(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function oe(xe){const Me=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Me,Ve.identifier=py(this.sliceSerialize(xe)).toLowerCase(),this.data.referenceType="full"}function re(xe){this.data.characterReferenceType=xe.type}function me(xe){const Me=this.sliceSerialize(xe),Ve=this.data.characterReferenceType;let nt;Ve?(nt=Lse(Me,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=O$(Me);const wt=this.stack[this.stack.length-1];wt.value+=nt}function ge(xe){const Me=this.stack.pop();Me.position.end=Ld(xe.end)}function ce(xe){I.call(this,xe);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(xe)}function he(xe){I.call(this,xe);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(xe)}function be(){return{type:"blockquote",children:[]}}function Ce(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function j(){return{type:"emphasis",children:[]}}function pe(){return{type:"heading",depth:0,children:[]}}function ve(){return{type:"break"}}function se(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function _e(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function Ie(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function we(){return{type:"paragraph",children:[]}}function Le(){return{type:"strong",children:[]}}function He(){return{type:"text",value:""}}function Be(){return{type:"thematicBreak"}}}function Ld(t){return{line:t.line,column:t.column,offset:t.offset}}function Wse(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Wse(t,r):zJe(t,r)}}function zJe(t,e){let n;for(n in e)if(jse.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function IY(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ew({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ew({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ew({start:e.start,end:e.end})+") is still open")}function VJe(t){const e=this;e.parser=n;function n(r){return $Je(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function UJe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function HJe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function qJe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function jJe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WJe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function GJe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=d0(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function KJe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YJe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Gse(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function XJe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Gse(t,e);const i={src:d0(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function JJe(t,e){const n={src:d0(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function QJe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function ZJe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Gse(t,e);const i={href:d0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function eQe(t,e){const n={href:d0(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function tQe(t,e,n){const r=t.all(e),i=n?nQe(n):Kse(e),o={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,u),t.applyData(e,u)}function nQe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Kse(n[r])}return e}function Kse(t){const e=t.spread;return e??t.children.length>1}function rQe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function iQe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function oQe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function sQe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function aQe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=M$(e.children[1]),l=Rse(e.children[e.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function lQe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],f={},p=s?s[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:o,properties:f,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function uQe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const PY=9,MY=32;function cQe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(NY(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(NY(e.slice(i),i>0,!1)),o.join("")}function NY(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===PY||o===MY;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===PY||o===MY;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function dQe(t,e){const n={type:"text",value:cQe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function fQe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const hQe={blockquote:UJe,break:HJe,code:qJe,delete:jJe,emphasis:WJe,footnoteReference:GJe,heading:KJe,html:YJe,imageReference:XJe,image:JJe,inlineCode:QJe,linkReference:ZJe,link:eQe,listItem:tQe,list:rQe,paragraph:iQe,root:oQe,strong:sQe,table:aQe,tableCell:uQe,tableRow:lQe,text:dQe,thematicBreak:fQe,toml:NS,yaml:NS,definition:NS,footnoteDefinition:NS};function NS(){}const Yse=-1,lk=0,Cw=1,nA=2,B$=3,z$=4,V$=5,U$=6,Xse=7,Jse=8,DY=typeof self=="object"?self:globalThis,pQe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case lk:case Yse:return n(s,i);case Cw:{const a=n([],i);for(const l of s)a.push(r(l));return a}case nA:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case B$:return n(new Date(s),i);case z$:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case V$:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case U$:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case Xse:{const{name:a,message:l}=s;return n(new DY[a](l),i)}case Jse:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new DY[o](s),i)};return r},LY=t=>pQe(new Map,t)(0),_m="",{toString:gQe}={},{keys:mQe}=Object,Sb=t=>{const e=typeof t;if(e!=="object"||!t)return[lk,e];const n=gQe.call(t).slice(8,-1);switch(n){case"Array":return[Cw,_m];case"Object":return[nA,_m];case"Date":return[B$,_m];case"RegExp":return[z$,_m];case"Map":return[V$,_m];case"Set":return[U$,_m];case"DataView":return[Cw,n]}return n.includes("Array")?[Cw,n]:n.includes("Error")?[Xse,n]:[nA,n]},DS=([t,e])=>t===lk&&(e==="function"||e==="symbol"),yQe=(t,e,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=Sb(s);switch(a){case lk:{let c=s;switch(l){case"bigint":a=Jse,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([Yse],s)}return i([a,c],s)}case Cw:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const c=[],d=i([a,c],s);for(const f of s)c.push(o(f));return d}case nA:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const f of mQe(s))(t||!DS(Sb(s[f])))&&c.push([o(f),o(s[f])]);return d}case B$:return i([a,s.toISOString()],s);case z$:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case V$:{const c=[],d=i([a,c],s);for(const[f,p]of s)(t||!(DS(Sb(f))||DS(Sb(p))))&&c.push([o(f),o(p)]);return d}case U$:{const c=[],d=i([a,c],s);for(const f of s)(t||!DS(Sb(f)))&&c.push(o(f));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},OY=(t,{json:e,lossy:n}={})=>{const r=[];return yQe(!(e||n),!!e,new Map,r)(t),r},rA=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?LY(OY(t,e)):structuredClone(t):(t,e)=>LY(OY(t,e));function vQe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function bQe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function wQe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||vQe,r=t.options.footnoteBackLabel||bQe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),f=d0(d.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else c.push(...m);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...rA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Qse=function(t){if(t==null)return SQe;if(typeof t=="function")return uk(t);if(typeof t=="object")return Array.isArray(t)?_Qe(t):xQe(t);if(typeof t=="string")return EQe(t);throw new Error("Expected function, string, or object as test")};function _Qe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Qse(t[n]);return uk(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function xQe(t){const e=t;return uk(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function EQe(t){return uk(e);function e(n){return n&&n.type===t}}function uk(t){return e;function e(n,r,i){return!!(CQe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function SQe(){return!0}function CQe(t){return t!==null&&typeof t=="object"&&"type"in t}const Zse=[],TQe=!0,FY=!1,AQe="skip";function RQe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=Qse(i),s=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=Zse,m,y,b;if((!e||o(l,u,c[c.length-1]||void 0))&&(p=kQe(n(l,c)),p[0]===FY))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==AQe)for(y=(r?v.children.length:-1)+s,b=c.concat(v);y>-1&&y<v.children.length;){const E=v.children[y];if(m=a(E,y,b)(),m[0]===FY)return m;y=typeof m[1]=="number"?m[1]:y+s}}return p}}}function kQe(t){return Array.isArray(t)?t:typeof t=="number"?[TQe,t]:t==null?Zse:[t]}function eae(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),RQe(t,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const w5={}.hasOwnProperty,IQe={};function PQe(t,e){const n=e||IQe,r=new Map,i=new Map,o=new Map,s={...hQe,...n.handlers},a={all:u,applyData:NQe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:MQe,wrap:LQe};return eae(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,p=a.handlers[f];if(w5.call(a.handlers,f)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:y,...b}=c,v=rA(b);return v.children=a.all(c),v}return rA(c)}return(a.options.unknownHandler||DQe)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const m=a.one(f[p],c);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=$Y(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=$Y(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function MQe(t,e){t.position&&(e.position=gYe(t))}function NQe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,rA(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function DQe(t,e){const n=e.data||{},r="value"in e&&!(w5.call(n,"hProperties")||w5.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function LQe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $Y(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function BY(t,e){const n=PQe(t,e),r=n.one(t,void 0),i=wQe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function OQe(t,e){return t&&"run"in t?async function(n,r){const i=BY(n,{file:r,...e});await t.run(i,r)}:function(n,r){return BY(n,{file:r,...t||e})}}function zY(t){if(t)throw t}var KD,VY;function FQe(){if(VY)return KD;VY=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},o=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||t.call(u,f)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return KD=function l(){var u,c,d,f,p,m,y=arguments[0],b=1,v=arguments.length,E=!1;for(typeof y=="boolean"&&(E=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<v;++b)if(u=arguments[b],u!=null)for(c in u)d=a(y,c),f=a(u,c),y!==f&&(E&&f&&(o(f)||(p=i(f)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&o(d)?d:{},s(y,{name:c,newValue:l(E,m,f)})):typeof f<"u"&&s(y,{name:c,newValue:f}));return y},KD}var $Qe=FQe();const YD=Ni($Qe);function _5(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function BQe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?zQe(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function zQe(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}const kl={basename:VQe,dirname:UQe,extname:HQe,join:qQe,sep:"/"};function VQe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');A1(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function UQe(t){if(A1(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function HQe(t){A1(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function qQe(...t){let e=-1,n;for(;++e<t.length;)A1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":jQe(n)}function jQe(t){A1(t);const e=t.codePointAt(0)===47;let n=WQe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function WQe(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function A1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const GQe={cwd:KQe};function KQe(){return"/"}function x5(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function YQe(t){if(typeof t=="string")t=new URL(t);else if(!x5(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return XQe(t)}function XQe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const XD=["history","path","basename","stem","extname","dirname"];class tae{constructor(e){let n;e?x5(e)?n={path:e}:typeof e=="string"||JQe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":GQe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<XD.length;){const o=XD[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)XD.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?kl.basename(this.path):void 0}set basename(e){QD(e,"basename"),JD(e,"basename"),this.path=kl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?kl.dirname(this.path):void 0}set dirname(e){UY(this.basename,"dirname"),this.path=kl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?kl.extname(this.path):void 0}set extname(e){if(JD(e,"extname"),UY(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=kl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){x5(e)&&(e=YQe(e)),QD(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?kl.basename(this.path,this.extname):void 0}set stem(e){QD(e,"stem"),JD(e,"stem"),this.path=kl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Zi(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function JD(t,e){if(t&&t.includes(kl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+kl.sep+"`")}function QD(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function UY(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function JQe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const QQe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},ZQe={}.hasOwnProperty;class H$ extends QQe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=BQe()}copy(){const e=new H$;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(YD(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(tL("data",this.frozen),this.namespace[e]=n,this):ZQe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(tL("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=LS(e),r=this.parser||this.Parser;return ZD("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ZD("process",this.parser||this.Parser),eL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=LS(e),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const p=d,m=r.stringify(p,f);nZe(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),ZD("processSync",this.parser||this.Parser),eL("processSync",this.compiler||this.Compiler),this.process(e,i),qY("processSync","process",n),r;function i(o,s){n=!0,zY(o),r=s}}run(e,n,r){HY(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=LS(n);i.run(e,l,u);function u(c,d,f){const p=d||e;c?a(c):s?s(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),qY("runSync","run",r),i;function o(s,a){zY(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=LS(n),i=this.compiler||this.Compiler;return eL("stringify",i),HY(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(tL("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=YD(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const y=r[f][1];_5(y)&&_5(p)&&(p=YD(!0,y,p)),r[f]=[u,p,...m]}}}}const eZe=new H$().freeze();function ZD(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function eL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function tL(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HY(t){if(!_5(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function qY(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function LS(t){return tZe(t)?t:new tae(t)}function tZe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function nZe(t){return typeof t=="string"||rZe(t)}function rZe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const iZe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",jY=[],WY={allowDangerousHtml:!0},oZe=/^(https?|ircs?|mailto|xmpp)$/i,sZe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function aZe(t){const e=lZe(t),n=uZe(t);return cZe(e.runSync(e.parse(n),n),t)}function lZe(t){const e=t.rehypePlugins||jY,n=t.remarkPlugins||jY,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...WY}:WY;return eZe().use(VJe).use(n).use(OQe,r).use(e)}function uZe(t){const e=t.children||"",n=new tae;return typeof e=="string"&&(n.value=e),n}function cZe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,s=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||dZe;for(const c of sZe)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+iZe+c.id,void 0);return eae(t,u),wYe(t,{Fragment:V.Fragment,components:i,ignoreInvalidStyle:!0,jsx:V.jsx,jsxs:V.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return s?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in jD)if(Object.hasOwn(jD,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],y=jD[p];(y===null||y.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,f)),p&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function dZe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||oZe.test(t.slice(0,e))?t:""}const fZe=()=>{const t="Bridging Knowledge Gaps Between Cognitive Goals Across Multiple Readings Of Academic Papers",e=[{name:"Brian Roysar",email:"brianroysar@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Michael Shi",email:"michaelshi@g.ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Ollie Pai",email:"o.pai@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Yuwei Xiao",email:"yuweix@ucla.edu",affiliation:"University of California, Los Angeles"}],n="Reading academic papers is a fundamental yet challenging task for students and researchers.    Beyond text, papers are dense with data, figures, and statistical analyses, requiring readers to extract key insights, synthesize information, and assess evidence across multiple formats.    Researchers must also navigate shifting cognitive goals, switching between different reading strategies based on their evolving needs.    Moreover, retaining and organizing insights over time remains a persistent challenge, often leading to redundant work and lost understanding upon revisiting papers.    While various reading strategies and digital tools exist, they often fail to comprehensively support researchers in managing their reading process and structuring their acquired knowledge.    To address these gaps, we propose **re:ad, an interactive reading system designed to help researchers track their reading process, manage cognitive goals, and systematically organize insights**.    By providing a structured and dynamic approach to reading, re:ad aims to reduce cognitive overload and enhance the efficiency of engaging with academic literature.",r=[{name:"GitHub",url:"https://github.com/olliepai/re-ad"},{name:"Blog",url:"https://medium.com/@xshaw2002/user-research-blog-augment-data-intensive-reading-d3fd5546ad55"},{name:"Try re:ad",url:"./#/papers"}],i=o=>{var s;(s=document.querySelector(o))==null||s.scrollIntoView({behavior:"smooth"})};return V.jsxs(kt,{className:"home",children:[V.jsxs(kt,{className:"title-block",sx:{p:2,gap:3},children:[V.jsx("img",{src:Xte,alt:"logo",style:{width:"300px"}}),V.jsx(cn,{variant:"h3",sx:{textAlign:"center",fontWeight:"bold"},children:t})]}),V.jsx(kt,{className:"authors-block",children:e.map(o=>V.jsxs(kt,{className:"author-box",children:[V.jsxs(cn,{variant:"h6",children:[o.name,V.jsx("sup",{children:"*"})]}),V.jsx(cn,{variant:"body1",children:o.email})]},o.name))}),V.jsxs(kt,{className:"information-block",children:[V.jsx(cn,{variant:"h6",children:Array.from(new Set(e.map(o=>o.affiliation))).join(", ")}),V.jsxs(cn,{variant:"body2",children:[V.jsx("sup",{children:"*"}),"Indicates Equal Contribution"]}),V.jsx(cn,{variant:"body1"})]}),V.jsxs(kt,{className:"links-block",sx:{my:2},children:[V.jsx(Zn,{className:"link-button",variant:"contained",onClick:()=>window.open(r[0].url,"_blank"),startIcon:V.jsx(_5e,{}),children:"Code"}),V.jsx(Zn,{className:"link-button",variant:"contained",onClick:()=>window.open(r[1].url,"_blank"),startIcon:V.jsx(v5e,{}),children:"Blog"}),V.jsx(Zn,{className:"link-button",variant:"contained",onClick:()=>window.open(r[2].url,"_blank"),startIcon:V.jsx("img",{src:wse,style:{width:"20px",height:"20px"}}),children:"Try re:ad"}),V.jsx(Zn,{className:"link-button",variant:"contained",onClick:()=>i(".poster-block"),startIcon:V.jsx(z8,{}),children:"Poster"}),V.jsx(Zn,{className:"link-button",variant:"contained",onClick:()=>i(".video-block"),startIcon:V.jsx(V8,{}),children:"Video"})]}),V.jsxs(kt,{className:"description-block",sx:{my:2},children:[V.jsx(cn,{variant:"h4",children:V.jsx("b",{children:"What is re:ad?"})}),V.jsx(aZe,{components:{p:({children:o})=>V.jsx(cn,{variant:"body1",sx:{lineHeight:2,my:2},children:o})},children:n})]}),V.jsxs(kt,{className:"poster-block",sx:{my:2},children:[V.jsx(cn,{variant:"h4",children:"Poster"}),V.jsx(cn,{variant:"body2",children:" Best User Research in CS 239"}),V.jsx("img",{className:"poster-image",src:jKe,alt:"poster"})]}),V.jsxs(kt,{className:"video-block",sx:{my:2},children:[V.jsx(cn,{variant:"h4",children:"Tutorial Video"}),V.jsx("iframe",{src:"https://www.loom.com/embed/ef1916f78287477c9aa5f9e31b305e9f?sid=729a2a90-a8b2-4625-8d33-af2bef562dc9",allowFullScreen:!0})]}),V.jsxs(MFe,{ariaLabel:"Navigation SpeedDial",sx:{position:"fixed",bottom:"2rem",right:"2rem"},icon:V.jsx(S5e,{}),children:[V.jsx(fS,{icon:V.jsx(y5e,{}),tooltipTitle:"Back to Top",onClick:()=>i(".title-block")},"top"),V.jsx(fS,{icon:V.jsx(V8,{}),tooltipTitle:"Go to Video",onClick:()=>i(".video-block")},"video"),V.jsx(fS,{icon:V.jsx(z8,{}),tooltipTitle:"Go to Poster",onClick:()=>i(".poster-block")},"poster"),V.jsx(fS,{icon:V.jsx(C5e,{}),tooltipTitle:"Go to Description",onClick:()=>i(".description-block")},"description")]})]})},hZe=()=>{const t=h4(),[e,n]=z.useState(!1),[r,i]=z.useState(!0),[o,s]=z.useState(""),[a,l]=z.useState(""),[u,c]=z.useState(""),[d,f]=z.useState({email:!1,password:!1,confirmPassword:!1}),[p,m]=z.useState({email:"",password:"",confirmPassword:""}),[y,b]=z.useState([]),[v,E]=z.useState(""),[x,C]=z.useState([]),[k,D]=z.useState(!0),[A,P]=z.useState(!1),[M,I]=z.useState({title:"",file:new File([],"")}),{userData:O,setUserData:F,loadUserData:$,addUser:L,updateUser:q,getUserByEmail:K,getAllPapersData:X,addPaperData:ee,addPaperFile:J,addPaperToUser:G}=QA(),[Y,Z]=z.useState(null),[W,oe]=z.useState(!1),[re,me]=z.useState("");z.useEffect(()=>{ge()},[O]),z.useEffect(()=>{const fe=y.filter(_e=>_e.title.toLowerCase().includes(v.toLowerCase()));C(fe)},[v,y]);const ge=async()=>{try{if(!O)return;D(!0);const fe=await X();b(fe.filter(_e=>O.paperIds.includes(_e.id)))}catch(fe){console.error("Error loading papers:",fe),b([])}finally{D(!1)}},ce=()=>{I({title:"",file:new File([],"")}),P(!0)},he=async()=>{try{if(!O){alert("Please login to add a paper");return}if(!(M!=null&&M.title.trim())){alert("Please enter a title");return}if(!(M!=null&&M.file)){alert("Please select a PDF file");return}const fe=eT(),_e={id:fe,title:M.title.trim()};await J(fe,M.file),await ee(_e),await G(O.id,fe),await ge(),P(!1),console.log("Paper saved successfully")}catch(fe){console.error("Error saving paper:",fe),alert("Failed to save paper. Please try again.")}},be=fe=>{var Ie;const _e=(Ie=fe.target.files)==null?void 0:Ie[0];_e&&_e.type==="application/pdf"?I({...M,file:_e}):alert("Please select a valid PDF file")},Ce=fe=>{t("/paper-reader",{state:{paperId:fe}})},Ae=async()=>{if(f({email:!1,password:!1,confirmPassword:!1}),m({email:"",password:"",confirmPassword:""}),!o.trim()){f(fe=>({...fe,email:!0})),m(fe=>({...fe,email:"Email is required"}));return}if(!a.trim()){f(fe=>({...fe,password:!0})),m(fe=>({...fe,password:"Password is required"}));return}if(r){const fe=await K(o);if(!fe){f({email:!0,password:!1,confirmPassword:!1}),m({email:"Email not found",password:"",confirmPassword:""});return}if(fe.password!==a){f({email:!1,password:!0,confirmPassword:!1}),m({email:"",password:"Password is incorrect",confirmPassword:""});return}localStorage.setItem("userId",fe.id),await $(fe.id)}else{if(a!==u){f(_e=>({..._e,confirmPassword:!0})),m(_e=>({..._e,confirmPassword:"Passwords do not match"}));return}if(a.length<8){f(_e=>({..._e,password:!0})),m(_e=>({..._e,password:"Password must be at least 6 characters"}));return}const fe=eT();await L({id:fe,email:o,password:a,name:o.split("@")[0],role:ZZ.STUDENT,paperIds:[]}),localStorage.setItem("userId",fe),await $(fe)}Oe()},Oe=()=>{n(!1),i(!0),s(""),l(""),c(""),f({email:!1,password:!1,confirmPassword:!1}),m({email:"",password:"",confirmPassword:""})},j=()=>{localStorage.removeItem("userId"),F(void 0),Z(null)},pe=()=>{me((O==null?void 0:O.name)||""),oe(!0),Z(null)},ve=async()=>{if(!(!O||!re.trim()))try{const fe={...O,name:re.trim()};await q(fe),await $(O.id),oe(!1)}catch(fe){console.error("Error updating profile:",fe),alert("Failed to update profile. Please try again.")}},se=fe=>{Z(fe.currentTarget)},te=()=>{Z(null)};return V.jsxs(kt,{className:"papers-hub-container",children:[V.jsxs(kt,{sx:{mb:4},children:[V.jsxs(kt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[V.jsxs(kt,{sx:{display:"flex",alignItems:"center",gap:2},children:[V.jsx("img",{height:40,src:wse,alt:"re:ad"}),V.jsx(cn,{variant:"h4",component:"h1",fontWeight:"bold",children:"Papers Hub"})]}),O?V.jsxs(kt,{sx:{display:"flex",alignItems:"center",gap:1},children:[V.jsx(f8,{sx:{bgcolor:"grey.200"},children:V.jsx(A5e,{})}),V.jsx(cn,{variant:"body1",color:"text.secondary",children:O.name}),V.jsx(tc,{size:"small",onClick:se,sx:{ml:1},children:V.jsx(E5e,{})}),V.jsxs(Ute,{anchorEl:Y,open:!!Y,onClose:te,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[V.jsxs(TO,{onClick:pe,children:[V.jsx(S8,{children:V.jsx(w5e,{fontSize:"small"})}),V.jsx(C8,{children:"Edit Profile"})]}),V.jsxs(TO,{onClick:j,children:[V.jsx(S8,{children:V.jsx(x5e,{fontSize:"small"})}),V.jsx(C8,{children:"Logout"})]})]})]}):V.jsx(Zn,{variant:"contained",onClick:()=>n(!0),children:"Login / Register"})]}),V.jsx(EO,{sx:{borderColor:"black"}}),V.jsxs(kt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[V.jsx(Ia,{placeholder:"Search papers...",value:v,onChange:fe=>E(fe.target.value),InputProps:{startAdornment:V.jsx(_Oe,{position:"start",children:V.jsx(k5e,{})})},sx:{maxWidth:400},size:"small",fullWidth:!0}),V.jsx(Zn,{variant:"contained",startIcon:V.jsx(lC,{}),onClick:ce,size:"large",children:"Add Paper"})]})]}),V.jsxs(cn,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[x.length," paper",x.length!==1?"s":""," found"]}),V.jsx(Nv,{children:V.jsxs(GFe,{children:[V.jsx(a5e,{children:V.jsxs(kP,{children:[V.jsx(dm,{width:60}),V.jsx(dm,{children:"Title"})]})}),V.jsx(QFe,{children:k?Array.from(new Array(5)).map((fe,_e)=>V.jsxs(kP,{children:[V.jsx(dm,{children:V.jsx(N8,{variant:"circular",width:40,height:40})}),V.jsx(dm,{children:V.jsx(N8,{variant:"text"})})]},_e)):x.map(fe=>V.jsxs(kP,{sx:{"&:hover":{bgcolor:"action.hover"}},onClick:()=>Ce(fe.id),children:[V.jsx(dm,{children:V.jsx(f8,{sx:{bgcolor:"grey.200"},children:V.jsx(R5e,{sx:{color:"grey.600"}})})}),V.jsx(dm,{children:V.jsx(cn,{variant:"body2",sx:{fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:fe.title})})]},fe.id))})]})}),x.length===0&&!k&&V.jsx(kt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,textAlign:"center"},children:V.jsx(cn,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No papers found"})}),V.jsxs(nC,{open:e,onClose:Oe,children:[V.jsx(oC,{children:r?"Login":"Register"}),V.jsx(iC,{children:V.jsxs(aC,{spacing:2,sx:{mt:1},children:[V.jsx(Ia,{required:!0,error:d.email,helperText:p.email,label:"Email",type:"email",fullWidth:!0,value:o,onChange:fe=>s(fe.target.value)}),V.jsx(Ia,{required:!0,error:d.password,helperText:p.password,label:"Password",type:"password",fullWidth:!0,value:a,onChange:fe=>l(fe.target.value)}),!r&&V.jsx(Ia,{required:!0,error:d.confirmPassword,helperText:p.confirmPassword,label:"Confirm Password",type:"password",fullWidth:!0,value:u,onChange:fe=>c(fe.target.value)}),V.jsx(Zn,{variant:"text",onClick:()=>i(!r),sx:{alignSelf:"flex-start",textTransform:"none"},children:r?"Don't have an account? Register":"Already have an account? Login"})]})}),V.jsxs(rC,{children:[V.jsx(Zn,{onClick:Oe,children:"Cancel"}),V.jsx(Zn,{onClick:Ae,variant:"contained",children:r?"Login":"Register"})]})]}),V.jsxs(nC,{open:A,onClose:()=>P(!1),maxWidth:"sm",fullWidth:!0,children:[V.jsx(oC,{children:"Add New Paper"}),V.jsx(iC,{sx:{pt:2},children:V.jsxs(aC,{spacing:3,children:[V.jsx(Ia,{label:"Title",value:M==null?void 0:M.title,onChange:fe=>I({...M,title:fe.target.value}),fullWidth:!0,required:!0}),V.jsxs(kt,{children:[V.jsx("input",{type:"file",accept:"application/pdf",onChange:be,style:{display:"none"},id:"pdf-upload"}),V.jsx("label",{htmlFor:"pdf-upload",children:V.jsx(Zn,{variant:"outlined",component:"span",startIcon:V.jsx(Kte,{}),fullWidth:!0,sx:{py:2},children:M!=null&&M.file?M.file.name:"Choose PDF File"})})]})]})}),V.jsxs(rC,{sx:{px:3,pb:3},children:[V.jsx(Zn,{onClick:()=>P(!1),children:"Cancel"}),V.jsx(Zn,{onClick:he,variant:"contained",children:"Add Paper"})]})]}),V.jsxs(nC,{open:W,onClose:()=>oe(!1),children:[V.jsx(oC,{children:"Edit Profile"}),V.jsx(iC,{children:V.jsxs(aC,{spacing:2,sx:{mt:1,minWidth:300},children:[V.jsx(Ia,{label:"Name",value:re,onChange:fe=>me(fe.target.value),fullWidth:!0,autoFocus:!0}),V.jsx(Ia,{label:"Email",value:(O==null?void 0:O.email)||"",disabled:!0,fullWidth:!0,helperText:"Email cannot be changed"}),V.jsx(Ia,{label:"Role",value:(O==null?void 0:O.role)||"",disabled:!0,fullWidth:!0,helperText:"Role is assigned by administrators"})]})}),V.jsxs(rC,{children:[V.jsx(Zn,{onClick:()=>oe(!1),children:"Cancel"}),V.jsx(Zn,{onClick:ve,variant:"contained",children:"Save Changes"})]})]})]})};function pZe(){return z.useEffect(()=>{window.sessionStorage.clear()},[]),V.jsx(Nwe,{children:V.jsx(xge,{children:V.jsx(Tke,{children:V.jsx(yWe,{children:V.jsx(G3e,{children:V.jsxs(E3e,{children:[V.jsx(uC,{path:"/",element:V.jsx(fZe,{})}),V.jsx(uC,{path:"/papers",element:V.jsx(hZe,{})}),V.jsx(uC,{path:"/paper-reader",element:V.jsx(qKe,{})})]})})})})})})}KY.createRoot(document.getElementById("root")).render(V.jsx(z.StrictMode,{children:V.jsx(pZe,{})}))});export default gZe();
